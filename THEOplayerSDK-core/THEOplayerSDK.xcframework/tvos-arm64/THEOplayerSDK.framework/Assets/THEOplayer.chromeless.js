/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 5.5.1 (5.5.1)
 Created: 2023-06-28T12:11:42.661Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,(function(t){"use strict";var n={exports:{}},e=(n.exports,t.window),i=t.document,r=t.location,u=t.navigator,o=t.setTimeout,s=t.clearTimeout,a=t.setInterval,c=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),_=v.create,p=v.defineProperty,b=v.getOwnPropertyDescriptor,k=v.getOwnPropertyNames,T=v.getPrototypeOf,S=v.prototype.hasOwnProperty,E=function(t,n){return function(){return t&&(n=(0,t[k(t)[0]])(t=0)),n}},R=function(t,n){return function(){return n||(0,t[k(t)[0]])((n={exports:{}}).exports,n),n.exports}},I=function(t,n,e,i){if(n&&"object"==typeof n||"function"==typeof n)for(var r,u=k(n),o=0,s=u.length;o<s;o++)r=u[o],S.call(t,r)||r===e||p(t,r,{get:function(t){return n[t]}.bind(null,r),enumerable:!(i=b(n,r))||i.enumerable});return t},O=function(t,n,e){return e=null!=t?_(T(t)):{},I(!n&&t&&t.__esModule?e:p(e,"default",{value:t,enumerable:!0}),t)};function C(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var N,D,A,P,x,B,L,F,M,U,V,H,q,z,W,j,G,X,Y,$=E({"../../../web/node_modules/@swc/helpers/esm/_type_of.js":function(){ki(),Vt()}});function K(t){var n=this.constructor;return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){return n.reject(e)}))}))}function J(t){return new this((function(n,e){if(!t||void 0===t.length)return e(new h((void 0===t?"undefined":C(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var r=i.length;function u(t,e){if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,(function(n){u(t,n)}),(function(e){i[t]={status:"rejected",reason:e},0==--r&&n(i)}))}i[t]={status:"fulfilled",value:e},0==--r&&n(i)}for(var o=0;o<i.length;o++)u(o,i[o])}))}function Z(t){return Boolean(t&&void 0!==t.length)}function Q(){}function tt(t){if(!(this instanceof tt))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],ot(t,this)}function nt(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,tt.R((function(){var e=1===t.o?n.onFulfilled:n.onRejected;if(null!==e){var i;try{i=e(t.g)}catch(t){return void it(n.promise,t)}et(n.promise,i)}else(1===t.o?et:it)(n.promise,t.g)}))):t.p.push(n)}function et(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof tt)return t.o=3,t.g=n,void rt(t);if("function"==typeof e)return void ot((i=e,r=n,function(){i.apply(r,arguments)}),t)}t.o=1,t.g=n,rt(t)}catch(n){it(t,n)}var i,r}function it(t,n){t.o=2,t.g=n,rt(t)}function rt(t){2===t.o&&0===t.p.length&&tt.R((function(){t.l||tt.I(t.g)}));for(var n=0,e=t.p.length;n<e;n++)nt(t,t.p[n]);t.p=null}function ut(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function ot(t,n){var e=!1;try{t((function(t){e||(e=!0,et(n,t))}),(function(t){e||(e=!0,it(n,t))}))}catch(t){if(e)return;e=!0,it(n,t)}}function st(t){return new H(V,{reason:t,promise:D.reject(t).catch((function(){})),cancelable:!0})}function at(t){var n=new q(V,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function ct(t){var n=i.createEvent("CustomEvent");return n.initCustomEvent(V,!1,!0,{reason:t}),n}var ft,ht,vt,dt,lt,wt,gt,yt,mt,_t,pt,bt,kt,Tt,St,Et,Rt,It,Ot,Ct,Nt,Dt,At,Pt,xt,Bt,Lt,Ft,Mt,Ut=E({"../../../web/node_modules/@opentelly/promise-polyfill/dist/index.js":function(){var n,e,i,r,s;ki(),Vt(),$(),N=o,tt.prototype.catch=function(t){return this.then(null,t)},tt.prototype.then=function(t,n){var e=new this.constructor(Q);return nt(this,new ut(t,n,e)),e},tt.prototype.finally=K,tt.all=function(t){return new tt((function(n,e){if(!Z(t))return e(new h("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var r=i.length;function u(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(n){u(t,n)}),e)}i[t]=o,0==--r&&n(i)}catch(t){e(t)}}for(var o=0;o<i.length;o++)u(o,i[o])}))},tt.allSettled=J,tt.resolve=function(t){return t&&"object"==typeof t&&t.constructor===tt?t:new tt((function(n){n(t)}))},tt.reject=function(t){return new tt((function(n,e){e(t)}))},tt.race=function(t){return new tt((function(n,e){if(!Z(t))return e(new h("Promise.race accepts an array"));for(var i=0,r=t.length;i<r;i++)tt.resolve(t[i]).then(n,e)}))},tt.R="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){N(t,0)},tt.I=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},D=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),A=u?u.userAgent:"",P=A.match(/Firefox\/([0-9]+)/i),x=null!=P,B=P?Number(P[1]):0,L=A.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),F=null!=L,M=L?Number(L[3]):0,(n=function(t){this.N=0,this.P=0,this.B=[],this.F=t}).prototype.C=function(t){var n=this.length();this.M(n+1);var e=this.P+n&this.F-1;this.B[e]=t,this.N=n+1},n.prototype.push=function(t){var n=this.length()+1;if(this.F<n)this.C(t);else{var e=this.P+n-1,i=this.F-1;this.B[e&i]=t,this.N=n}},n.prototype.shift=function(){var t=this.P,n=this.B[t];return this.B[t]=void 0,this.P=t+1&this.F-1,this.N--,n},n.prototype.length=function(){return this.N},n.prototype.M=function(t){this.F<t&&this.U(this.F<<1)},n.prototype.U=function(t){var n=this.F;this.F=t;var e=this.P+this.N&n-1;!function(t,n,e,i){for(var r=0;r<i;++r)t[r+e]=t[r+n],t[r+n]=void 0}(this.B,0,n,e)},U=n,V="unhandledrejection",H=t.PromiseRejectionEvent,q=t.CustomEvent,z=function(t){return(z=function(){try{var t=D.resolve(),n="error",e=new H(V,{reason:n,promise:t});return V===e.type&&n===e.reason}catch(t){}return!1}()?st:function(){try{var t="error",n=new q(V,{detail:{reason:t}});return V===n.type&&t===n.detail.reason}catch(t){}return!1}()?at:ct)(t)},j=x&&B<60||F&&M<15,D&&!j?(G=D,function(){}):(G=tt,X=null!==(W=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var e=D;if(e&&"function"==typeof e.resolve){var i=e.resolve();return function(t){return i.then(t)}}}())&&void 0!==W?W:tt.R,e=X,i=new U(16),r=!1,(Y={H:function(t){i.push(t),r||(r=!0,e(s))},V:s=function(){for(;i.length()>0;)i.shift()();r=!1}}).V,tt.R=Y.H,tt.I=function(n){try{var e=z(n);if(!t.dispatchEvent(e)||e.defaultPrevented)return}catch(t){}o((function(){throw new f("Unhandled promise rejection: ".concat(n))}),0)})}}),Vt=E({"../../../web/src/util/polyfill/Promise.ts":function(){Ut()}});function Ht(){}function qt(t){return"object"==typeof t&&null!==t||"function"==typeof t}function zt(t){return t.slice()}function Wt(t){return!1!==function(t){if("number"!=typeof t)return!1;if(ht(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function jt(t,n,e){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,e)}function Gt(t,n,e,i){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new h(r+" is not a method");switch(e){case 0:return function(){return Yt(r,t,i)};case 1:return function(n){var e=[n].concat(i);return Yt(r,t,e)}}}return function(){return Zt(void 0)}}function Xt(t,n,e){var i=t[n];if(void 0!==i)return jt(i,t,e)}function Yt(t,n,e){try{return Zt(jt(t,n,e))}catch(t){return Qt(t)}}function $t(t){if(t=Number(t),ht(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Kt(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new h("size property of a queuing strategy must be a function");return function(n){return t(n)}}function Jt(t){return new dt(t)}function Zt(t){return wt(t)}function Qt(t){return gt(t)}function tn(t,n,e){return lt.call(t,n,e)}function nn(t,n,e){tn(tn(t,n,e),void 0,vt)}function en(t,n){nn(t,n)}function rn(t,n){nn(t,void 0,n)}function un(t,n,e){return tn(t,n,e)}function on(t){tn(t,void 0,vt)}function sn(t,n,e){var i=null;!0===e&&(i=v.prototype);var r=v.create(i);return r.value=t,r.done=n,r}function an(t,n){t.W=!0,t.j=n,n.G=t,"readable"===n.o?vn(t):"closed"===n.o?function(t){vn(t),wn(t)}(t):dn(t,n.X)}function cn(t,n){return ti(t.j,n)}function fn(t){"readable"===t.j.o?ln(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){dn(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.j.G=void 0,t.j=void 0}function hn(t){return new h("Cannot "+t+" a stream using a released reader")}function vn(t){t.Y=Jt((function(n,e){t.K=n,t.J=e}))}function dn(t,n){vn(t),ln(t,n)}function ln(t,n){on(t.Y),t.J(n),t.K=void 0,t.J=void 0}function wn(t){t.K(void 0),t.K=void 0,t.J=void 0}function gn(t,n){void 0===n&&(n=!1);var e=new pt(t);return e.W=n,e}function yn(t){return Jt((function(n,e){var i={Z:n,nt:e};t.G.et.push(i)}))}function mn(t,n,e){var i=t.G;i.et.shift().Z(sn(n,e,i.W))}function _n(t){return t.G.et.length}function pn(t){var n=t.G;return void 0!==n&&!!bn(n)}function bn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"et")}function kn(t){var n=t.j;return n.it=!0,"closed"===n.o?Zt(sn(void 0,!0,t.W)):"errored"===n.o?Qt(n.X):n.rt[_t]()}function Tn(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}function Sn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"ut")}function En(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Rn(t){var n=t.ot.shift();return t.st-=n.size,t.st<0&&(t.st=0),n.value}function In(t,n,e){if(!Wt(e=Number(e)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.ot.push({value:n,size:e}),t.st+=e}function On(t){t.ot=new yt,t.st=0}function Cn(t){return new It(t)}function Nn(t){t.o="writable",t.X=void 0,t.ct=void 0,t.ft=void 0,t.ht=new yt,t.vt=void 0,t.dt=void 0,t.wt=void 0,t.yt=void 0,t._t=!1}function Dn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"ft")}function An(t){return void 0!==t.ct}function Pn(t,n){var e=t.o;if("closed"===e||"errored"===e)return Zt(void 0);if(void 0!==t.yt)return t.yt.bt;var i=!1;"erroring"===e&&(i=!0,n=void 0);var r=Jt((function(e,r){t.yt={bt:void 0,Z:e,nt:r,kt:n,Tt:i}}));return t.yt.bt=r,!1===i&&Ln(t,n),r}function xn(t){var n=t.o;if("closed"===n||"errored"===n)return Qt(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var e,i=Jt((function(n,e){var i={Z:n,nt:e};t.dt=i})),r=t.ct;return void 0!==r&&!0===t._t&&"writable"===n&&he(r),In(e=t.ft,"close",0),Kn(e),i}function Bn(t,n){"writable"!==t.o?Fn(t):Ln(t,n)}function Ln(t,n){var e=t.ft;t.o="erroring",t.X=n;var i=t.ct;void 0!==i&&Wn(i,n),!1===function(t){if(void 0===t.vt&&void 0===t.wt)return!1;return!0}(t)&&!0===e.St&&Fn(t)}function Fn(t){t.o="errored",t.ft[Et]();var n=t.X;if(t.ht.forEach((function(t){t.nt(n)})),t.ht=new yt,void 0!==t.yt){var e=t.yt;if(t.yt=void 0,!0===e.Tt)return e.nt(n),void Un(t);nn(t.ft[St](e.kt),(function(){e.Z(),Un(t)}),(function(n){e.nt(n),Un(t)}))}else Un(t)}function Mn(t){return void 0!==t.dt||void 0!==t.wt}function Un(t){void 0!==t.dt&&(t.dt.nt(t.X),t.dt=void 0);var n=t.ct;void 0!==n&&ue(n,t.X)}function Vn(t,n){var e=t.ct;void 0!==e&&n!==t._t&&(!0===n?function(t){se(t)}(e):he(e)),t._t=n}function Hn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Et")}function qn(t){return xn(t.Et)}function zn(t,n){"pending"===t.Rt?ue(t,n):function(t,n){re(t,n)}(t,n)}function Wn(t,n){"pending"===t.It?fe(t,n):function(t,n){ae(t,n)}(t,n)}function jn(t){var n=t.Et,e=new h("Writer was released and can no longer be used to monitor the stream's closedness");Wn(t,e),zn(t,e),n.ct=void 0,t.Et=void 0}function Gn(t,n){var e=t.Et,i=e.ft,r=function(t,n){try{return t.Ot(n)}catch(n){return Jn(t,n),1}}(i,n);if(e!==t.Et)return Qt(ee("write to"));var u=e.o;if("errored"===u)return Qt(e.X);if(!0===Mn(e)||"closed"===u)return Qt(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Qt(e.X);var o=function(t){return Jt((function(n,e){var i={Z:n,nt:e};t.ht.push(i)}))}(e);return function(t,n,e){var i={chunk:n};try{In(t,i,e)}catch(n){return void Jn(t,n)}var r=t.Ct;if(!1===Mn(r)&&"writable"===r.o){Vn(r,Zn(t))}Kn(t)}(i,n,r),o}function Xn(t,n,e,i,r,u,o,s){n.Ct=t,t.ft=n,n.ot=void 0,n.st=void 0,On(n),n.St=!1,n.Ot=s,n.Nt=o,n.Dt=i,n.At=r,n.Pt=u;var a=Zn(n);Vn(t,a),nn(Zt(e()),(function(){n.St=!0,Kn(n)}),(function(e){n.St=!0,Bn(t,e)}))}function Yn(t){t.Dt=void 0,t.At=void 0,t.Pt=void 0,t.Ot=void 0}function $n(t){return t.Nt-t.st}function Kn(t){var n=t.Ct;if(!1!==t.St&&void 0===n.vt)if("erroring"!==n.o){if(0!==t.ot.length){var e=t.ot.peek().value;"close"===e?function(t){var n=t.Ct;(function(t){t.wt=t.dt,t.dt=void 0})(n),Rn(t);var e=t.At();Yn(t),nn(e,(function(){!function(t){t.wt.Z(void 0),t.wt=void 0,"erroring"===t.o&&(t.X=void 0,void 0!==t.yt&&(t.yt.Z(),t.yt=void 0)),t.o="closed";var n=t.ct;void 0!==n&&oe(n)}(n)}),(function(t){!function(t,n){t.wt.nt(n),t.wt=void 0,void 0!==t.yt&&(t.yt.nt(n),t.yt=void 0),Bn(t,n)}(n,t)}))}(t):function(t,n){var e=t.Ct;(function(t){t.vt=t.ht.shift()})(e),nn(t.Dt(n),(function(){!function(t){t.vt.Z(void 0),t.vt=void 0}(e);var n=e.o;if(Rn(t),!1===Mn(e)&&"writable"===n){var i=Zn(t);Vn(e,i)}Kn(t)}),(function(n){"writable"===e.o&&Yn(t),function(t,n){t.vt.nt(n),t.vt=void 0,Bn(t,n)}(e,n)}))}(t,e.chunk)}}else Fn(n)}function Jn(t,n){"writable"===t.Ct.o&&Qn(t,n)}function Zn(t){return $n(t)<=0}function Qn(t,n){var e=t.Ct;Yn(t),Ln(e,n)}function te(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ne(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function ee(t){return new h("Cannot "+t+" a stream using a released writer")}function ie(t){t.Y=Jt((function(n,e){t.K=n,t.J=e,t.Rt="pending"}))}function re(t,n){ie(t),ue(t,n)}function ue(t,n){on(t.Y),t.J(n),t.K=void 0,t.J=void 0,t.Rt="rejected"}function oe(t){t.K(void 0),t.K=void 0,t.J=void 0,t.Rt="resolved"}function se(t){t.xt=Jt((function(n,e){t.Bt=n,t.Lt=e})),t.It="pending"}function ae(t,n){se(t),fe(t,n)}function ce(t){se(t),he(t)}function fe(t,n){on(t.xt),t.Lt(n),t.Bt=void 0,t.Lt=void 0,t.It="rejected"}function he(t){t.Bt(void 0),t.Bt=void 0,t.Lt=void 0,t.It="fulfilled"}function ve(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}function de(t,n,e,i,r,u){var o=gn(t),s=Cn(n);t.it=!0;var a=!1,c=Zt(void 0);return Jt((function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var e=new Nt("Aborted","AbortError"),u=[];!1===i&&u.push((function(){return"writable"===n.o?Pn(n,e):Zt(void 0)})),!1===r&&u.push((function(){return"readable"===t.o?ti(t,e):Zt(void 0)})),p((function(){return G.all(u.map((function(t){return t()})))}),!0,e)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(_(t,o.Y,(function(t){!1===i?p((function(){return Pn(n,t)}),!0,t):b(!0,t)})),_(n,s.Y,(function(n){!1===r?p((function(){return ti(t,n)}),!0,n):b(!0,n)})),l=t,w=o.Y,g=function(){!1===e?p((function(){return function(t){var n=t.Et,e=n.o;return!0===Mn(n)||"closed"===e?Zt(void 0):"errored"===e?Qt(n.X):qn(t)}(s)})):b()},"closed"===l.o?g():en(w,g),!0===Mn(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");!1===r?p((function(){return ti(t,y)}),!0,y):b(!0,y)}function m(){var t=c;return tn(c,(function(){return t!==c?m():void 0}))}function _(t,n,e){"errored"===t.o?e(t.X):rn(n,e)}function p(t,e,i){function r(){nn(t(),(function(){return k(e,i)}),(function(t){return k(!0,t)}))}!0!==a&&(a=!0,"writable"===n.o&&!1===Mn(n)?en(m(),r):r())}function b(t,e){!0!==a&&(a=!0,"writable"===n.o&&!1===Mn(n)?en(m(),(function(){return k(t,e)})):k(t,e))}function k(t,n){jn(s),fn(o),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}on(Jt((function(t,n){!function e(i){i?t():tn(!0===a?Zt(!0):tn(s.xt,(function(){return tn(kn(o),(function(t){return!0===t.done||(c=tn(Gn(s,t.value),void 0,Ht),!1)}))})),e,n)}(!1)})))}))}function le(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Ft")}function we(t){!1!==ge(t)&&(!0!==t.Mt?(t.Mt=!0,nn(t.Ut(),(function(){t.Mt=!1,!0===t.Vt&&(t.Vt=!1,we(t))}),(function(n){pe(t,n)}))):t.Vt=!0)}function ge(t){var n=t.Ft;return!1!==ke(t)&&(!1!==t.St&&(!0===Qe(n)&&_n(n)>0||be(t)>0))}function ye(t){t.Ut=void 0,t.Ht=void 0,t.Ot=void 0}function me(t){var n=t.Ft;t.qt=!0,0===t.ot.length&&(ye(t),ni(n))}function _e(t,n){var e=t.Ft;if(!0===Qe(e)&&_n(e)>0)mn(e,n,!1);else{var i=void 0;try{i=t.Ot(n)}catch(n){throw pe(t,n),n}try{In(t,n,i)}catch(n){throw pe(t,n),n}}we(t)}function pe(t,n){var e=t.Ft;"readable"===e.o&&(On(t),ye(t),ei(e,n))}function be(t){var n=t.Ft.o;return"errored"===n?null:"closed"===n?0:t.Nt-t.st}function ke(t){var n=t.Ft.o;return!1===t.qt&&"readable"===n}function Te(t,n,e,i,r,u,o){n.Ft=t,n.ot=void 0,n.st=void 0,On(n),n.St=!1,n.qt=!1,n.Vt=!1,n.Mt=!1,n.Ot=o,n.Nt=u,n.Ut=i,n.Ht=r,t.rt=n,nn(Zt(e()),(function(){n.St=!0,we(n)}),(function(t){pe(n,t)}))}function Se(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Ee(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"zt")}function Re(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Wt")}function Ie(t){!1!==function(t){var n=t.zt;if("readable"!==n.o)return!1;if(!0===t.qt)return!1;if(!1===t.St)return!1;if(!0===pn(n)&&_n(n)>0)return!0;if(!0===Ge(n)&&je(n)>0)return!0;if(Ve(t)>0)return!0;return!1}(t)&&(!0!==t.Mt?(t.Mt=!0,nn(t.Ut(),(function(){t.Mt=!1,!0===t.Vt&&(t.Vt=!1,Ie(t))}),(function(n){Ue(t,n)}))):t.Vt=!0)}function Oe(t,n){var e=!1;"closed"===t.o&&(e=!0);var i=Ce(n);"default"===n.readerType?mn(t,i,e):function(t,n,e){var i=t.G;i.jt.shift().Z(sn(n,e,i.W))}(t,i,e)}function Ce(t){var n=t.bytesFilled,e=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/e)}function Ne(t,n,e,i){t.ot.push({buffer:n,byteOffset:e,byteLength:i}),t.st+=i}function De(t,n){var e=n.elementSize,i=n.bytesFilled-n.bytesFilled%e,r=d.min(t.st,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,o=u-u%e,s=r,a=!1;o>i&&(s=o-n.bytesFilled,a=!0);for(var c,f,h,v,l,w=t.ot;s>0;){var g=w.peek(),m=d.min(s,g.byteLength),_=n.byteOffset+n.bytesFilled;c=n.buffer,f=_,h=g.buffer,v=g.byteOffset,l=m,new y(c).set(new y(h,v,l),f),g.byteLength===m?w.shift():(g.byteOffset+=m,g.byteLength-=m),t.st-=m,Ae(t,m,n),s-=m}return a}function Ae(t,n,e){xe(t),e.bytesFilled+=n}function Pe(t){0===t.st&&!0===t.qt?(Me(t),ni(t.zt)):Ie(t)}function xe(t){void 0!==t.Gt&&(t.Gt.Wt=void 0,t.Gt.Xt=void 0,t.Gt=void 0)}function Be(t){for(;t.Yt.length>0;){if(0===t.st)return;var n=t.Yt.peek();!0===De(t,n)&&(Fe(t),Oe(t.zt,n))}}function Le(t,n){var e=t.Yt.peek();if("closed"===t.zt.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var e=t.zt;if(!0===Ge(e))for(;je(e)>0;)Oe(e,Fe(t))}(t,e)}else!function(t,n,e){if(e.bytesFilled+n>e.byteLength)throw new RangeError("bytesWritten out of range");if(Ae(t,n,e),!(e.bytesFilled<e.elementSize)){Fe(t);var i=e.bytesFilled%e.elementSize;if(i>0){var r=e.byteOffset+e.bytesFilled,u=e.buffer.slice(r-i,r);Ne(t,u,0,u.byteLength)}e.buffer=e.buffer,e.bytesFilled-=i,Oe(t.zt,e),Be(t)}}(t,n,e);Ie(t)}function Fe(t){var n=t.Yt.shift();return xe(t),n}function Me(t){t.Ut=void 0,t.Ht=void 0}function Ue(t,n){var e=t.zt;"readable"===e.o&&(!function(t){xe(t),t.Yt=new yt}(t),On(t),Me(t),ei(e,n))}function Ve(t){var n=t.zt.o;return"errored"===n?null:"closed"===n?0:t.Nt-t.st}function He(t,n,e){var i=v.create(xt.prototype);var r=Gt(n,"pull",0,[i]),u=Gt(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===At(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,e,i,r,u,o){n.zt=t,n.Vt=!1,n.Mt=!1,n.Gt=void 0,n.ot=n.st=void 0,On(n),n.qt=!1,n.St=!1,n.Nt=$t(u),n.Ut=i,n.Ht=r,n.$t=o,n.Yt=new yt,t.rt=n,nn(Zt(e()),(function(){n.St=!0,Ie(n)}),(function(t){Ue(n,t)}))}(t,i,(function(){return Xt(n,"start",[i])}),r,u,e,o)}function qe(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function ze(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function We(t){return Jt((function(n,e){var i={Z:n,nt:e};t.G.jt.push(i)}))}function je(t){return t.G.jt.length}function Ge(t){var n=t.G;return void 0!==n&&!!Xe(n)}function Xe(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"jt")}function Ye(t,n){var e=t.j;return e.it=!0,"errored"===e.o?Qt(e.X):function(t,n){var e=t.zt,i=1;n.constructor!==DataView&&(i=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:i,ctor:r,readerType:"byob"};if(t.Yt.length>0)return t.Yt.push(u),We(e);if("closed"===e.o)return Zt(sn(new r(u.buffer,u.byteOffset,0),!0,e.G.W));if(t.st>0){if(!0===De(t,u)){var o=Ce(u);return Pe(t),Zt(sn(o,!1,e.G.W))}if(!0===t.qt){var s=new h("Insufficient bytes to fill elements in the given buffer");return Ue(t,s),Qt(s)}}t.Yt.push(u);var a=We(e);return Ie(t),a}(e.rt,n)}function $e(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Ke(t,n,e,i,r){void 0===i&&(i=1),void 0===r&&(r=function(){return 1});var u=v.create(Lt.prototype);return Je(u),Te(u,v.create(Dt.prototype),t,n,e,i,r),u}function Je(t){t.o="readable",t.G=void 0,t.X=void 0,t.it=!1}function Ze(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"rt")}function Qe(t){return void 0!==t.G}function ti(t,n){return t.it=!0,"closed"===t.o?Zt(void 0):"errored"===t.o?Qt(t.X):(ni(t),un(t.rt[mt](n),Ht))}function ni(t){t.o="closed";var n=t.G;void 0!==n&&(bn(n)&&(n.et.forEach((function(t){t.Z(sn(void 0,!0,n.W))})),n.et=new yt),wn(n))}function ei(t,n){t.o="errored",t.X=n;var e=t.G;void 0!==e&&(bn(e)?(e.et.forEach((function(t){t.nt(n)})),e.et=new yt):(e.jt.forEach((function(t){t.nt(n)})),e.jt=new yt),ln(e,n))}function ii(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function ri(t,n,e,i,r,u){function o(){return n}t.Kt=function(t,n,e,i,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var o=v.create(Rt.prototype);return Nn(o),Xn(o,v.create(Ot.prototype),t,n,e,i,r,u),o}(o,(function(n){return function(t,n){var e=t.Jt;if(!0===t._t){return un(t.Zt,(function(){var i=t.Kt;if("erroring"===i.o)throw i.X;return vi(e,n)}))}return vi(e,n)}(t,n)}),(function(){return function(t){var n=t.Qt,e=t.Jt,i=e.tn();return fi(e),un(i,(function(){if("errored"===n.o)throw n.X;var t=n.rt;!0===ke(t)&&me(t)}),(function(e){throw oi(t,e),n.X}))}(t)}),(function(n){return function(t,n){return oi(t,n),Zt(void 0)}(t,n)}),e,i),t.Qt=Ke(o,(function(){return function(t){return ai(t,!1),t.Zt}(t)}),(function(n){return si(t,n),Zt(void 0)}),r,u),t._t=void 0,t.Zt=void 0,t.nn=void 0,ai(t,!0),t.Jt=void 0}function ui(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Jt")}function oi(t,n){pe(t.Qt.rt,n),si(t,n)}function si(t,n){fi(t.Jt),Jn(t.Kt.ft,n),!0===t._t&&ai(t,!1)}function ai(t,n){void 0!==t.Zt&&t.nn(),t.Zt=Jt((function(n){t.nn=n})),t._t=n}function ci(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"en")}function fi(t){t.rn=void 0,t.tn=void 0}function hi(t,n){var e=t.en,i=e.Qt.rt;if(!1===ke(i))throw new h("Readable side is not in a state that permits enqueue");try{_e(i,n)}catch(t){throw si(e,t),e.Qt.X}(function(t){return!0!==ge(t)})(i)!==e._t&&ai(e,!0)}function vi(t,n){return un(t.rn(n),void 0,(function(n){throw oi(t.en,n),n}))}function di(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function li(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}var wi,gi,yi,mi,_i,pi,bi=E({"../../../core/node_modules/web-streams-polyfill/dist/ponyfill.mjs":function(){var t;ki(),Vt(),ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"},ht=Number.isNaN||function(t){return t!=t},vt=Ht,dt=G,lt=G.prototype.then,wt=G.resolve.bind(dt),gt=G.reject.bind(dt),16384,yt=function(){function t(){this.un=0,this.sn=0,this.P={an:[],cn:void 0},this.fn=this.P,this.un=0,this.sn=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.sn},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.fn,e=n;16383===n.an.length&&(e={an:[],cn:void 0}),n.an.push(t),e!==n&&(this.fn=e,n.cn=e),++this.sn},t.prototype.shift=function(){var t=this.P,n=t,e=this.un,i=e+1,r=t.an,u=r[e];return 16384===i&&(n=t.cn,i=0),--this.sn,this.un=i,t!==n&&(this.P=n),r[e]=void 0,u},t.prototype.forEach=function(t){for(var n=this.un,e=this.P,i=e.an;!(n===i.length&&void 0===e.cn||n===i.length&&(n=0,0===(i=(e=e.cn).an).length));)t(i[n]),++n},t.prototype.peek=function(){var t=this.P,n=this.un;return t.an[n]},t}(),mt=ft("[[CancelSteps]]"),_t=ft("[[PullSteps]]"),pt=function(){function t(t){if(!1===Ze(t))throw new h("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Qe(t))throw new h("This stream has already been locked for exclusive reading by another reader");an(this,t),this.et=new yt}return v.defineProperty(t.prototype,"closed",{get:function(){return bn(this)?this.Y:Qt(Tn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return bn(this)?void 0===this.j?Qt(hn("cancel")):cn(this,t):Qt(Tn("cancel"))},t.prototype.read=function(){return bn(this)?void 0===this.j?Qt(hn("read from")):kn(this):Qt(Tn("read"))},t.prototype.releaseLock=function(){if(!bn(this))throw Tn("releaseLock");if(void 0!==this.j){if(this.et.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");fn(this)}},t}(),"symbol"==typeof ft.asyncIterator&&((bt={})[ft.asyncIterator]=function(){return this},kt=bt,v.defineProperty(kt,ft.asyncIterator,{enumerable:!1})),Tt={next:function(){if(!1===Sn(this))return Qt(En("next"));var t=this.ut;return void 0===t.j?Qt(hn("iterate")):un(kn(t),(function(n){var e=n.done;return e&&fn(t),sn(n.value,e,!0)}))},return:function(t){if(!1===Sn(this))return Qt(En("next"));var n=this.ut;if(void 0===n.j)return Qt(hn("finish iterating"));if(n.et.length>0)return Qt(new h("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.hn){var e=cn(n,t);return fn(n),un(e,(function(){return sn(t,!0,!0)}))}return fn(n),Zt(sn(t,!0,!0))}},void 0!==kt&&v.setPrototypeOf(Tt,kt),v.defineProperty(Tt,"next",{enumerable:!1}),v.defineProperty(Tt,"return",{enumerable:!1}),St=ft("[[AbortSteps]]"),Et=ft("[[ErrorSteps]]"),Rt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Nn(this);var e=n.size,i=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Kt(e);void 0===i&&(i=1),function(t,n,e,i){var r=v.create(Ot.prototype),u=Gt(n,"write",1,[r]),o=Gt(n,"close",0,[]),s=Gt(n,"abort",1,[]);Xn(t,r,(function(){return Xt(n,"start",[r])}),u,o,s,e,i)}(this,t,i=$t(i),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===Dn(this))throw te("locked");return An(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Dn(this)?Qt(te("abort")):!0===An(this)?Qt(new h("Cannot abort a stream that already has a writer")):Pn(this,t)},t.prototype.close=function(){return!1===Dn(this)?Qt(te("close")):!0===An(this)?Qt(new h("Cannot close a stream that already has a writer")):!0===Mn(this)?Qt(new h("Cannot close an already-closing stream")):xn(this)},t.prototype.getWriter=function(){if(!1===Dn(this))throw te("getWriter");return Cn(this)},t}(),It=function(){function t(t){if(!1===Dn(t))throw new h("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===An(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Et=t,t.ct=this;var n,e=t.o;if("writable"===e)!1===Mn(t)&&!0===t._t?se(this):ce(this),ie(this);else if("erroring"===e)ae(this,t.X),ie(this);else if("closed"===e)ce(this),ie(n=this),oe(n);else{var i=t.X;ae(this,i),re(this,i)}}return v.defineProperty(t.prototype,"closed",{get:function(){return!1===Hn(this)?Qt(ne("closed")):this.Y},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Hn(this))throw ne("desiredSize");if(void 0===this.Et)throw ee("desiredSize");return t=this.Et,"errored"===(n=t.o)||"erroring"===n?null:"closed"===n?0:$n(t.ft);var t,n},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return!1===Hn(this)?Qt(ne("ready")):this.xt},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Hn(this)?Qt(ne("abort")):void 0===this.Et?Qt(ee("abort")):function(t,n){return Pn(t.Et,n)}(this,t)},t.prototype.close=function(){if(!1===Hn(this))return Qt(ne("close"));var t=this.Et;return void 0===t?Qt(ee("close")):!0===Mn(t)?Qt(new h("Cannot close an already-closing stream")):qn(this)},t.prototype.releaseLock=function(){if(!1===Hn(this))throw ne("releaseLock");void 0!==this.Et&&jn(this)},t.prototype.write=function(t){return!1===Hn(this)?Qt(ne("write")):void 0===this.Et?Qt(ee("write to")):Gn(this,t)},t}(),Ot=function(){function t(){throw new h("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1==(!!qt(n=this)&&!!v.prototype.hasOwnProperty.call(n,"Ct")))throw new h("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var n;"writable"===this.Ct.o&&Qn(this,t)},t.prototype[St]=function(t){var n=this.Pt(t);return Yn(this),n},t.prototype[Et]=function(){On(this)},t}(),Ct="undefined"!=typeof DOMException?DOMException:void 0,Nt=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Ct)?Ct:((t=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t),Dt=function(){function t(){throw new h}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===le(this))throw Se("desiredSize");return be(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===le(this))throw Se("close");if(!1===ke(this))throw new h("The stream is not in a state that permits close");me(this)},t.prototype.enqueue=function(t){if(!1===le(this))throw Se("enqueue");if(!1===ke(this))throw new h("The stream is not in a state that permits enqueue");return _e(this,t)},t.prototype.error=function(t){if(!1===le(this))throw Se("error");pe(this,t)},t.prototype[mt]=function(t){On(this);var n=this.Ht(t);return ye(this),n},t.prototype[_t]=function(){var t=this.Ft;if(this.ot.length>0){var n=Rn(this);return!0===this.qt&&0===this.ot.length?(ye(this),ni(t)):we(this),Zt(sn(n,!1,t.G.W))}var e=yn(t);return we(this),e},t}(),At=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&d.floor(t)===t},Pt=function(){function t(){throw new h("ReadableStreamBYOBRequest cannot be used directly")}return v.defineProperty(t.prototype,"view",{get:function(){if(!1===Re(this))throw qe("view");return this.Xt},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Re(this))throw qe("respond");if(void 0===this.Wt)throw new h("This BYOB request has been invalidated");this.Xt.buffer,function(t,n){if(!1===Wt(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Le(t,n)}(this.Wt,t)},t.prototype.respondWithNewView=function(t){if(!1===Re(this))throw qe("respond");if(void 0===this.Wt)throw new h("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");t.buffer,function(t,n){var e=t.Yt.peek();if(e.byteOffset+e.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(e.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");e.buffer=n.buffer,Le(t,n.byteLength)}(this.Wt,t)},t}(),xt=function(){function t(){throw new h("ReadableByteStreamController constructor cannot be used directly")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ee(this))throw ze("byobRequest");if(void 0===this.Gt&&this.Yt.length>0){var t=this.Yt.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),e=v.create(Pt.prototype);!function(t,n,e){t.Wt=n,t.Xt=e}(e,this,n),this.Gt=e}return this.Gt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ee(this))throw ze("desiredSize");return Ve(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ee(this))throw ze("close");if(!0===this.qt)throw new h("The stream has already been closed; do not close it again!");var t=this.zt.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.zt;if(t.st>0)t.qt=!0;else{if(t.Yt.length>0&&t.Yt.peek().bytesFilled>0){var e=new h("Insufficient bytes to fill elements in the given buffer");throw Ue(t,e),e}Me(t),ni(n)}}(this)},t.prototype.enqueue=function(t){if(!1===Ee(this))throw ze("enqueue");if(!0===this.qt)throw new h("stream is closed or draining");var n=this.zt.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new h("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var e=t.zt,i=n.buffer,r=n.byteOffset,u=n.byteLength,o=i;!0===pn(e)?0===_n(e)?Ne(t,o,r,u):mn(e,new y(o,r,u),!1):!0===Ge(e)?(Ne(t,o,r,u),Be(t)):Ne(t,o,r,u),Ie(t)}(this,t)},t.prototype.error=function(t){if(!1===Ee(this))throw ze("error");Ue(this,t)},t.prototype[mt]=function(t){this.Yt.length>0&&(this.Yt.peek().bytesFilled=0);On(this);var n=this.Ht(t);return Me(this),n},t.prototype[_t]=function(){var t=this.zt;if(this.st>0){var n=this.ot.shift();this.st-=n.byteLength,Pe(this);var e=void 0;try{e=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Qt(t)}return Zt(sn(e,!1,t.G.W))}var i=this.$t;if(void 0!==i){var r=void 0;try{r=new ArrayBuffer(i)}catch(t){return Qt(t)}var u={buffer:r,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Yt.push(u)}var o=yn(t);return Ie(this),o},t}(),Bt=function(){function t(t){if(!Ze(t))throw new h("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ee(t.rt))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Qe(t))throw new h("This stream has already been locked for exclusive reading by another reader");an(this,t),this.jt=new yt}return v.defineProperty(t.prototype,"closed",{get:function(){return Xe(this)?this.Y:Qt($e("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Xe(this)?void 0===this.j?Qt(hn("cancel")):cn(this,t):Qt($e("cancel"))},t.prototype.read=function(t){return Xe(this)?void 0===this.j?Qt(hn("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Qt(new h("view must have non-zero byteLength")):Ye(this,t)):Qt(new h("view must be an array buffer view")):Qt($e("read"))},t.prototype.releaseLock=function(){if(!Xe(this))throw $e("releaseLock");if(void 0!==this.j){if(this.jt.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");fn(this)}},t}(),Lt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Je(this);var e=n.size,i=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==e)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===i&&(i=0),He(this,t,i=$t(i))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var u=Kt(e);void 0===i&&(i=1),function(t,n,e,i){var r=v.create(Dt.prototype),u=Gt(n,"pull",0,[r]),o=Gt(n,"cancel",1,[]);Te(t,r,(function(){return Xt(n,"start",[r])}),u,o,e,i)}(this,t,i=$t(i),u)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ze(this))throw ii("locked");return Qe(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Ze(this)?Qt(ii("cancel")):!0===Qe(this)?Qt(new h("Cannot cancel a stream that already has a reader")):ti(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Ze(this))throw ii("getReader");if(void 0===n)return gn(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var e=new Bt(t);return e.W=n,e}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var e=t.writable,i=t.readable,r=void 0===n?{}:n,u=r.preventClose,o=r.preventAbort,s=r.preventCancel,a=r.signal;if(!1===Ze(this))throw ii("pipeThrough");if(!1===Dn(e))throw new h("writable argument to pipeThrough must be a WritableStream");if(!1===Ze(i))throw new h("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==a&&!ve(a))throw new h("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Qe(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===An(e))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return on(de(this,e,u,o,s,a)),i},t.prototype.pipeTo=function(t,n){var e=void 0===n?{}:n,i=e.preventClose,r=e.preventAbort,u=e.preventCancel,o=e.signal;return!1===Ze(this)?Qt(ii("pipeTo")):!1===Dn(t)?Qt(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(i=Boolean(i),r=Boolean(r),u=Boolean(u),void 0===o||ve(o)?!0===Qe(this)?Qt(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===An(t)?Qt(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):de(this,t,i,r,u,o):Qt(new h("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Ze(this))throw ii("tee");var t=function(t,n){var e,i,r,u,o,s=gn(t),a=!1,c=!1,f=!1,h=Jt((function(t){o=t}));function v(){return!0===a||(a=!0,on(un(kn(s),(function(t){if(a=!1,!0===t.done)return!1===c&&me(r.rt),void(!1===f&&me(u.rt));var n=t.value,e=n,i=n;!1===c&&_e(r.rt,e),!1===f&&_e(u.rt,i)})))),Zt(void 0)}function d(){}return r=Ke(d,v,(function(n){if(c=!0,e=n,!0===f){var r=zt([e,i]),u=ti(t,r);o(u)}return h})),u=Ke(d,v,(function(n){if(f=!0,i=n,!0===c){var r=zt([e,i]),u=ti(t,r);o(u)}return h})),rn(s.Y,(function(t){pe(r.rt,t),pe(u.rt,t)})),[r,u]}(this);return zt(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,e=void 0!==n&&n;if(!1===Ze(this))throw ii("getIterator");return function(t,n){void 0===n&&(n=!1);var e=gn(t),i=v.create(Tt);return i.ut=e,i.hn=Boolean(n),i}(this,e)},t}(),"symbol"==typeof ft.asyncIterator&&v.defineProperty(Lt.prototype,ft.asyncIterator,{value:Lt.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0}),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Ft=function(){function t(t,n,e){void 0===t&&(t={}),void 0===n&&(n={}),void 0===e&&(e={});var i=n.size,r=n.highWaterMark,u=e.size,o=e.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=Kt(i);if(void 0===r&&(r=1),r=$t(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=Kt(u);void 0===o&&(o=0),o=$t(o),ri(this,Jt((function(t){a=t})),r,s,o,c),function(t,n){var e=v.create(Mt.prototype),i=function(t){try{return hi(e,t),Zt(void 0)}catch(t){return Qt(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new h("transform is not a method");i=function(t){return Yt(r,n,[t,e])}}var u=Gt(n,"flush",0,[e]);!function(t,n,e,i){n.en=t,t.Jt=n,n.rn=e,n.tn=i}(t,e,i,u)}(this,t);var f=Xt(t,"start",[this.Jt]);a(f)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!1===ui(this))throw li("readable");return this.Qt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!1===ui(this))throw li("writable");return this.Kt},enumerable:!0,configurable:!0}),t}(),Mt=function(){function t(){throw new h("TransformStreamDefaultController instances cannot be created directly")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ci(this))throw di("desiredSize");return be(this.en.Qt.rt)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ci(this))throw di("enqueue");hi(this,t)},t.prototype.error=function(t){if(!1===ci(this))throw di("error");var n;n=t,oi(this.en,n)},t.prototype.terminate=function(){if(!1===ci(this))throw di("terminate");var t,n;t=this.en,!0===ke(n=t.Qt.rt)&&me(n),si(t,new h("TransformStream terminated"))},t}()}}),ki=E({"../../../core/src/util/polyfill/ReadableStream.ts":function(){bi()}});var Ti=E({"../../../web/src/dom/DOMEnvironment.ts":function(){ki(),Vt()}}),Si=R({"src/tvOS/DOMEnvironment.ts":function(n){ki(),Vt(),Ti();var e,i={vn:function(){function t(){this.dn=[]}var n=t.prototype;return n.ln=function(){},n.wn=function(t){return{gn:function(){return G.resolve()},yn:function(){}}},n.mn=function(t){throw new f("Not implemented")},n._n=function(t){return G.resolve()},n.pn=function(t){return G.resolve()},n.bn=function(t){},n.kn=function(){},t}(),Tn:function(){function t(){}var n=t.prototype;return n.Sn=function(){return G.resolve("all")},n.En=function(){},n.kn=function(){},t}(),Rn:{In:function(t){getActiveDocument().addEventListener("unload",t)},On:function(t){getActiveDocument().removeEventListener("unload",t)}},Cn:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:n,parent:n,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};Element.prototype.style={},wi=(e=i).vn,gi=e.Tn,yi=e.Rn,mi=e.Cn,_i=mi&&mi.location,pi=mi&&mi.navigator}});function Ei(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function Ri(t,n,e){return n&&Ei(t.prototype,n),e&&Ei(t,e),t}var Ii=E({"../../../web/node_modules/@swc/helpers/esm/_create_class.js":function(){ki(),Vt()}});function Oi(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var Ci=E({"../../../web/node_modules/@swc/helpers/esm/_array_like_to_array.js":function(){ki(),Vt()}});var Ni=E({"../../../web/node_modules/@swc/helpers/esm/_array_without_holes.js":function(){ki(),Vt(),Ci()}});var Di=E({"../../../web/node_modules/@swc/helpers/esm/_iterable_to_array.js":function(){ki(),Vt()}});var Ai=E({"../../../web/node_modules/@swc/helpers/esm/_non_iterable_spread.js":function(){ki(),Vt()}});function Pi(t,n){if(t){if("string"==typeof t)return Oi(t,n);var e=v.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Oi(t,n):void 0}}var xi=E({"../../../web/node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js":function(){ki(),Vt(),Ci()}});function Bi(t){return function(t){if(Array.isArray(t))return Oi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Pi(t)||function(){throw new h("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Li,Fi=E({"../../../web/node_modules/@swc/helpers/esm/_to_consumable_array.js":function(){ki(),Vt(),Ni(),Di(),Ai(),xi()}}),Mi=R({"../../node_modules/json-stringify-safe/stringify.js":function(t,n){function e(t,n){var e=[],i=[];return null==n&&(n=function(t,n){return e[0]===n?"[Circular ~]":"[Circular ~."+i.slice(0,e.indexOf(n)).join(".")+"]"}),function(r,u){if(e.length>0){var o=e.indexOf(this);~o?e.splice(o+1):e.push(this),~o?i.splice(o,1/0,r):i.push(r),~e.indexOf(u)&&(u=n.call(this,r,u))}else e.push(u);return null==t?u:t.call(this,r,u)}}ki(),Vt(),(n.exports=function(t,n,i,r){return JSON.stringify(t,e(n,r),i)}).getSerialize=e}}),Ui=R({"../../../core/node_modules/xmlchars/xml/1.0/ed5.js":function(t){ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),Vi=R({"../../../core/node_modules/xmlchars/xml/1.1/ed2.js":function(t){ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),Hi=R({"../../../core/node_modules/xmlchars/xmlns/1.0/ed3.js":function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),qi=R({"../../../core/node_modules/saxes/saxes.js":function(t){ki(),Vt(),Ii(),Fi(),v.defineProperty(t,"__esModule",{value:!0}),t.SaxesParser=t.EVENTS=void 0;var n=Ui(),e=Vi(),i=Hi(),r=n.isS,u=n.isChar,o=n.isNameStartChar,s=n.isNameChar,a=n.S_LIST,c=n.NAME_RE,h=e.isChar,d=i.isNCNameStartChar,w=i.isNCNameChar,g=i.NC_NAME_RE,y="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",_={__proto__:null,xml:y,xmlns:m},p={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b=-1,k=-2,T=13,S=33,E=10,R=60,I=61,O=62,C=63,N=93,D=function(t){return 34===t||39===t},A=[34,39],P=Bi(A).concat([91,O]),x=Bi(A).concat([R,N]),B=[I,C].concat(Bi(a)),L=Bi(a).concat([O,38,R]);function F(t,n,e){switch(n){case"xml":e!==y&&t.fail("xml prefix must be bound to "+y+".");break;case"xmlns":e!==m&&t.fail("xmlns prefix must be bound to "+m+".")}switch(e){case m:t.fail(""===n?"the default namespace may not be set to "+e+".":'may not assign a prefix (even "xmlns") to the URI '+m+".");break;case y:switch(n){case"xml":break;case"":t.fail("the default namespace may not be set to "+e+".");break;default:t.fail("may not assign the xml namespace to another prefix.")}}}var M=function(t){return g.test(t)},U=function(t){return c.test(t)};t.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var V={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"},H=function(){function t(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;var n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=d,this.nameCheck=w,this.isName=M,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},_);var e=this.opt.additionalNamespaces;null!=e&&(!function(t,n){for(var e=0,i=v.keys(n);e<i.length;e++){var r=i[e];F(t,r,n[r])}}(this,e),v.assign(this.ns,e))}else this.nameStartCheck=o,this.nameCheck=s,this.isName=U,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}var n=t.prototype;return n._init=function(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];var n=this.fragmentOpt;this.state=n?T:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;var e=this.opt.defaultXMLVersion;if(void 0===e){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");e="1.0"}this.setXMLVersion(e),this.positionAtNewLine=0,this.doctype=!1,this.Nn=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(p),null===(t=this.readyHandler)||void 0===t||t.call(this)},n.on=function(t,n){this[V[t]]=n},n.off=function(t){this[V[t]]=void 0},n.makeError=function(t){var n,e=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(e.length>0&&(e+=":"),e+=this.line+":"+this.column),e.length>0&&(e+=": "),new f(e+t)},n.fail=function(t){var n=this.makeError(t),e=this.errorHandler;if(void 0===e)throw n;return e(n),this},n.write=function(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");var n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=""+this.carriedFromPrevious+t,this.carriedFromPrevious=void 0);var e=t.length,i=t.charCodeAt(e-1);!n&&(13===i||i>=55296&&i<=56319)&&(this.carriedFromPrevious=t[e-1],e--,t=t.slice(0,e));var r=this.stateTable;for(this.chunk=t,this.i=0;this.i<e;)r[this.state].call(this);return this.chunkPosition+=e,n?this.end():this},n.close=function(){return this.write(null)},n.getCode10=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return b;var e=t.charCodeAt(n);if(this.column++,e<55296){if(e>=32||9===e)return e;switch(e){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:return t.charCodeAt(n+1)===E&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),e}}if(e>56319)return e>=57344&&e<=65533||this.fail("disallowed character."),e;var i=65536+1024*(e-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i},n.getCode11=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return b;var e=t.charCodeAt(n);if(this.column++,e<55296){if(e>31&&e<127||e>159&&8232!==e||9===e)return e;switch(e){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:var i=t.charCodeAt(n+1);i!==E&&133!==i||(this.i=n+2);case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),e}}if(e>56319)return e>=57344&&e<=65533||this.fail("disallowed character."),e;var r=65536+1024*(e-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r},n.getCodeNorm=function(){var t=this.getCode();return t===k?E:t},n.unget=function(){this.i=this.prevI,this.column--},n.captureTo=function(t){for(var n=this.i,e=this.chunk;;){var i=this.getCode(),r=i===k,u=r?E:i;if(u===b||t.includes(u))return this.text+=e.slice(n,this.prevI),u;r&&(this.text+=e.slice(n,this.prevI)+"\n",n=this.i)}},n.captureToChar=function(t){for(var n=this.i,e=this.chunk;;){var i=this.getCode();switch(i){case k:this.text+=e.slice(n,this.prevI)+"\n",n=this.i,i=E;break;case b:return this.text+=e.slice(n),!1}if(i===t)return this.text+=e.slice(n,this.prevI),!0}},n.captureNameChars=function(){for(var t=this.chunk,n=this.i;;){var e=this.getCode();if(e===b)return this.name+=t.slice(n),b;if(!s(e))return this.name+=t.slice(n,this.prevI),e===k?E:e}},n.skipSpaces=function(){for(;;){var t=this.getCodeNorm();if(t===b||!r(t))return t}},n.setXMLVersion=function(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)},n.sBegin=function(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1},n.sBeginWhitespace=function(){var t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case R:if(this.state=15,0!==this.text.length)throw new f("no-empty text at start");break;case b:break;default:this.unget(),this.state=T,this.xmlDeclPossible=!1}},n.sDoctype=function(){var t,n=this.captureTo(P);switch(n){case O:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=T,this.doctype=!0;break;case b:break;default:this.text+=String.fromCodePoint(n),91===n?this.state=4:D(n)&&(this.state=3,this.q=n)}},n.sDoctypeQuote=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)},n.sDTD=function(){var t=this.captureTo(x);t!==b&&(this.text+=String.fromCodePoint(t),t===N?this.state=2:t===R?this.state=6:D(t)&&(this.state=5,this.q=t))},n.sDTDQuoted=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)},n.sDTDOpenWaka=function(){var t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case C:this.state=11;break;default:this.state=4}},n.sDTDOpenWakaBang=function(){var t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?8:4,this.openWakaBang="")},n.sDTDComment=function(){this.captureToChar(45)&&(this.text+="-",this.state=9)},n.sDTDCommentEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8},n.sDTDCommentEnded=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===O?this.state=4:(this.fail("malformed comment."),this.state=8)},n.sDTDPI=function(){this.captureToChar(C)&&(this.text+="?",this.state=12)},n.sDTDPIEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===O&&(this.state=4)},n.sText=function(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()},n.sEntity=function(){var t=this.i,n=this.chunk;t:for(;;)switch(this.getCode()){case k:this.entity+=n.slice(t,this.prevI)+"\n",t=this.i;break;case 59:var e=this.entityReturnState,i=this.entity+n.slice(t,this.prevI);this.state=e;var r=void 0;""===i?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(i),this.entity=""),e===T&&void 0===this.textHandler||(this.text+=r);break t;case b:this.entity+=n.slice(t);break t}},n.sOpenWaka=function(){var t=this.getCode();if(o(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case C:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=T,this.xmlDeclPossible=!1}},n.sOpenWakaBang=function(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}},n.sComment=function(){this.captureToChar(45)&&(this.state=18)},n.sCommentEnding=function(){var t,n=this.getCodeNorm();45===n?(this.state=19,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(n),this.state=17)},n.sCommentEnded=function(){var t=this.getCodeNorm();t!==O?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(t),this.state=17):this.state=T},n.sCData=function(){this.captureToChar(N)&&(this.state=21)},n.sCDataEnding=function(){var t=this.getCodeNorm();t===N?this.state=22:(this.text+="]"+String.fromCodePoint(t),this.state=20)},n.sCDataEnding2=function(){var t,n=this.getCodeNorm();switch(n){case O:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=T;break;case N:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(n),this.state=20}},n.sPIFirstChar=function(){var t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):t===C||r(t)?(this.fail("processing instruction without a target."),this.state=t===C?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)},n.sPIRest=function(){for(var t=this.chunk,n=this.i;;){var e=this.getCodeNorm();if(e===b)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);var i=e===C;i||r(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=i?S:27):this.state=i?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}},n.sPIBody=function(){if(0===this.text.length){var t=this.getCodeNorm();t===C?this.state=26:r(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(C)&&(this.state=26)},n.sPIEnding=function(){var t,n=this.getCodeNorm();if(n===O){var e=this.piTarget;"xml"===e.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:e,body:this.text}),this.piTarget=this.text="",this.state=T}else n===C?this.text+="?":(this.text+="?"+String.fromCodePoint(n),this.state=25);this.xmlDeclPossible=!1},n.sXMLDeclNameStart=function(){var t=this.skipSpaces();t!==C?t!==b&&(this.state=28,this.name=String.fromCodePoint(t)):this.state=S},n.sXMLDeclName=function(){var t=this.captureTo(B);if(t===C)return this.state=S,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(r(t)||t===I){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail("expected the name "+this.xmlDeclExpects[0]+".");break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=t===I?30:29}},n.sXMLDeclEq=function(){var t=this.getCodeNorm();if(t===C)return this.state=S,void this.fail("XML declaration is incomplete.");r(t)||(t!==I&&this.fail("value required."),this.state=30)},n.sXMLDeclValueStart=function(){var t=this.getCodeNorm();if(t===C)return this.state=S,void this.fail("XML declaration is incomplete.");r(t)||(D(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)},n.sXMLDeclValue=function(){var t=this.captureTo([this.q,C]);if(t===C)return this.state=S,this.text="",void this.fail("XML declaration is incomplete.");if(t!==b){var n=this.text;switch(this.text="",this.name){case"version":this.xmlDeclExpects=["encoding","standalone"];var e=n;this.xmlDecl.version=e,/^1\.[0-9]+$/.test(e)?this.opt.forceXMLVersion||this.setXMLVersion(e):this.fail("version number must match /^1\\.[0-9]+$/.");break;case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=32}},n.sXMLDeclSeparator=function(){var t=this.getCodeNorm();t!==C?(r(t)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=S},n.sXMLDeclEnding=function(){var t;this.getCodeNorm()===O?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=T):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1},n.sOpenTag=function(){var t,n=this.captureNameChars();if(n!==b){var e=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case O:this.openTag();break;case 47:this.state=35;break;default:r(n)||this.fail("disallowed character in tag name."),this.state=36}}},n.sOpenTagSlash=function(){this.getCode()===O?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)},n.sAttrib=function(){var t=this.skipSpaces();t!==b&&(o(t)?(this.unget(),this.state=37):t===O?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))},n.sAttribName=function(){var t=this.captureNameChars();t===I?this.state=39:r(t)?this.state=38:t===O?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==b&&this.fail("disallowed character in attribute name.")},n.sAttribNameSawWhite=function(){var t=this.skipSpaces();switch(t){case b:return;case I:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",t===O?this.openTag():o(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}},n.sAttribValue=function(){var t=this.getCodeNorm();D(t)?(this.q=t,this.state=40):r(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())},n.sAttribValueQuoted=function(){for(var t=this.q,n=this.chunk,e=this.i;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(e,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=n.slice(e,this.prevI),this.state=14,void(this.entityReturnState=40);case E:case k:case 9:this.text+=n.slice(e,this.prevI)+" ",e=this.i;break;case R:return this.text+=n.slice(e,this.prevI),void this.fail("disallowed character.");case b:return void(this.text+=n.slice(e))}},n.sAttribValueClosed=function(){var t=this.getCodeNorm();r(t)?this.state=36:t===O?this.openTag():47===t?this.state=35:o(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")},n.sAttribValueUnquoted=function(){var t=this.captureTo(L);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case R:this.fail("disallowed character.");break;case b:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===O?this.openTag():this.state=36}},n.sCloseTag=function(){var t=this.captureNameChars();t===O?this.closeTag():r(t)?this.state=44:t!==b&&this.fail("disallowed character in closing tag.")},n.sCloseTagSawWhite=function(){switch(this.skipSpaces()){case O:this.closeTag();break;case b:break;default:this.fail("disallowed character in closing tag.")}},n.handleTextInRoot=function(){var t=this.i,n=this.forbiddenState,e=this.chunk,i=this.textHandler;t:for(;;)switch(this.getCode()){case R:if(this.state=15,void 0!==i){var r=this.text,u=e.slice(t,this.prevI);0!==r.length?(i(r+u),this.text=""):0!==u.length&&i(u)}n=0;break t;case 38:this.state=14,this.entityReturnState=T,void 0!==i&&(this.text+=e.slice(t,this.prevI)),n=0;break t;case N:switch(n){case 0:n=1;break;case 1:n=2;break;case 2:break;default:throw new f("impossible state")}break;case O:2===n&&this.fail('the string "]]>" is disallowed in char data.'),n=0;break;case k:void 0!==i&&(this.text+=e.slice(t,this.prevI)+"\n"),t=this.i,n=0;break;case b:void 0!==i&&(this.text+=e.slice(t));break t;default:n=0}this.forbiddenState=n},n.handleTextOutsideRoot=function(){var t=this.i,n=this.chunk,e=this.textHandler,i=!1;t:for(;;){var u=this.getCode();switch(u){case R:if(this.state=15,void 0!==e){var o=this.text,s=n.slice(t,this.prevI);0!==o.length?(e(o+s),this.text=""):0!==s.length&&e(s)}break t;case 38:this.state=14,this.entityReturnState=T,void 0!==e&&(this.text+=n.slice(t,this.prevI)),i=!0;break t;case k:void 0!==e&&(this.text+=n.slice(t,this.prevI)+"\n"),t=this.i;break;case b:void 0!==e&&(this.text+=n.slice(t));break t;default:r(u)||(i=!0)}}i&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))},n.pushAttribNS=function(t,n){var e,i=this.qname(t),r=i.prefix,u=i.local,o={name:t,prefix:r,local:u,value:n};if(this.attribList.push(o),null===(e=this.attributeHandler)||void 0===e||e.call(this,o),"xmlns"===r){var s=n.trim();"1.0"===this.currentXMLVersion&&""===s&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[u]=s,F(this,u,s)}else if("xmlns"===t){var a=n.trim();this.topNS[""]=a,F(this,"",a)}},n.pushAttribPlain=function(t,n){var e,i={name:t,value:n};this.attribList.push(i),null===(e=this.attributeHandler)||void 0===e||e.call(this,i)},n.end=function(){var t,n;this.sawRoot||this.fail("document must contain a root element.");for(var e=this.tags;e.length>0;){var i=e.pop();this.fail("unclosed tag: "+i.name)}0!==this.state&&this.state!==T&&this.fail("unexpected end.");var r=this.text;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Nn=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this},n.resolve=function(t){var n,e,i=this.topNS[t];if(void 0!==i)return i;for(var r=this.tags,u=r.length-1;u>=0;u--)if(void 0!==(i=r[u].ns[t]))return i;return void 0!==(i=this.ns[t])?i:null===(e=(n=this.opt).resolvePrefix)||void 0===e?void 0:e.call(n,t)},n.qname=function(t){var n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};var e=t.slice(n+1),i=t.slice(0,n);return(""===i||""===e||e.includes(":"))&&this.fail("malformed name: "+t+"."),{prefix:i,local:e}},n.processAttribsNS=function(){var t,n=this.attribList,e=this.tag,i=this.qname(e.name),r=i.prefix,u=i.local;e.prefix=r,e.local=u;var o=e.uri=null!==(t=this.resolve(r))&&void 0!==t?t:"";if(""!==r&&("xmlns"===r&&this.fail('tags may not have "xmlns" as prefix.'),""===o&&(this.fail("unbound namespace prefix: "+JSON.stringify(r)+"."),e.uri=r)),0!==n.length){for(var s=e.attributes,a=new Set,c=0;c<n.length;c++){var f=n[c],h=f.name,v=f.prefix,d=f.local,l=void 0,w=void 0;""===v?(l="xmlns"===h?m:"",w=h):(void 0===(l=this.resolve(v))&&(this.fail("unbound namespace prefix: "+JSON.stringify(v)+"."),l=v),w="{"+l+"}"+d),a.has(w)&&this.fail("duplicate attribute: "+w+"."),a.add(w),f.uri=l,s[h]=f}this.attribList=[]}},n.processAttribsPlain=function(){for(var t=this.attribList,n=this.tag.attributes,e=0;e<t.length;e++){var i=t[e],r=i.name,u=i.value;void 0!==n[r]&&this.fail("duplicate attribute: "+r+"."),n[r]=u}this.attribList=[]},n.openTag=function(){var t;this.processAttribs();var n=this.tags,e=this.tag;e.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),n.push(e),this.state=T,this.name=""},n.openSelfClosingTag=function(){var t,n,e;this.processAttribs();var i=this.tags,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(e=i[i.length-1])&&void 0!==e?e:null)&&(this.closedRoot=!0),this.state=T,this.name=""},n.closeTag=function(){var t=this.tags,n=this.name;if(this.state=T,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");for(var e=this.closeTagHandler,i=t.length;i-- >0;){var r=this.tag=t.pop();if(this.topNS=r.ns,null==e||e(r),r.name===n)break;this.fail("unexpected close tag.")}0===i?this.closedRoot=!0:i<0&&(this.fail("unmatched closing tag: "+n+"."),this.text+="</"+n+">")},n.parseEntity=function(t){if("#"!==t[0]){var n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),"&"+t+";")}var e=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?e=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(e=l(t.slice(1),10)),this.isChar(e)?String.fromCodePoint(e):(this.fail("malformed character entity."),"&"+t+";")},Ri(t,[{key:"closed",get:function(){return this.Nn}},{key:"position",get:function(){return this.chunkPosition+this.i}},{key:"columnIndex",get:function(){return this.position-this.positionAtNewLine}}]),t}();t.SaxesParser=H}}),zi={};!function(t,n){for(var e in n)p(t,e,{get:n[e],enumerable:!0})}(zi,{ChromelessPlayer:function(){return HN},ErrorCategory:function(){return xd},ErrorCode:function(){return Ad},Player:function(){return HN},createGlobals:function(){return ND},features:function(){return zN},getCueMirrorMap:function(){return OD},getGlobalId:function(){return CD},getSdkEventBridge:function(){return ID},playerSuiteVersion:function(){return jN},players:function(){return GN},registerContentProtectionIntegration:function(){return XN},utils:function(){return qN},version:function(){return WN}}),n.exports=(Li=zi,I(p({},"__esModule",{value:!0}),Li)),ki(),Vt(),ki(),Vt();var Wi,ji,Gi;O(Si());function Xi(t,n){return(Xi=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function Yi(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Xi(t,n)}function $i(t){Wi=t}ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii(),Fi(),ki(),Vt(),Fi(),ki(),Vt(),Ii(),ki(),Vt(),(Gi=ji||(ji={})).Dn="web",Gi.An="android",Gi.Pn="android-tv",Gi.xn="ios",Gi.Bn="tvos",Gi.Ln="chromecast";var Ki=u?u.userAgent:"",Ji=Ki.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Zi=Ki.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Qi=Ki.match(/Android ([0-9\.]+)/i),tr=Ki.match(/Windows NT ([0-9\.]+)/i),nr=Ki.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),er=Ki.match(/Firefox\/([0-9\.]+)/i),ir=Ki.match(/OPR\/(\d+\.\d+)/i),rr=Ki.match(/Tizen ([0-9\.]+)/i),ur=Ki.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),or=function(){function n(){this.Fn=Boolean("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.Mn=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Ki)||/(macintosh|mac(?=_powerpc)\s)/i.test(Ki),this.Un=/Windows NT/i.test(Ki),this.Vn=tr?w(tr[1]):0,this.Hn=/Android/i.test(Ki),this.qn=Qi?w(Qi[1]):0,this.zn=/windows phone (8|8\.1)/i.test(Ki),this.Wn=/iPhone/i.test(Ki),this.jn=/iPad/i.test(Ki),this.Gn=this.Mn&&this.Fn&&!this.jn,this.Xn=/iPod/i.test(Ki),this.Yn=/Mobile Safari/i.test(Ki),this.$n=/EOSSTB/i.test(Ki),this.Kn=(this.Wn||this.jn||this.Gn||this.Xn)&&!this.zn,this.Jn=ur?w(ur[2]):0,this.Zn=this.zn||this.Kn||this.Hn||this.Yn,this.Qn=/CriOS/i.test(Ki),this.te=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Qn,this.ee=this.te&&/Edg\//i.test(u.userAgent),this.ie=Zi?l(Zi[1],10):0,this.re=Boolean(t.chrome||/Chrome/i.test(Ki)||/CriOS/i.test(Ki)),this.ue=Ji?l(Ji[1],10):0,this.oe=/SMART-TV.*Tizen/i.test(Ki),this.se=rr?w(rr[1]):0,this.ae=/webos|web0s/i.test(Ki),this.ce=/Edge\/\d+/i.test(Ki),this.fe=/Trident/i.test(Ki),this.he=this.fe&&!t.ActiveXObject&&"ActiveXObject"in t,this.ve=/Vivaldi/i.test(Ki),this.de=/Firefox/i.test(Ki)&&!/Seamonkey/i.test(Ki),this.we=er?w(er[1]):0,this.ye=/Safari/i.test(Ki)&&!/Chrome/i.test(Ki)&&!this.zn&&!this.oe,this.me=nr?w(nr[2]):0,this._e=Boolean(ir),this.pe=ir?w(ir[1]):0,this.be=/CrKey/.test(Ki),this.ke=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(Ki),this.Te="tvos"===ji.Pn,this.Se="tvos"===ji.An,this.Ee=this.Se||this.Te,this.Re="tvos"===ji.xn,this.Ie="tvos"===ji.Bn,this.Oe="tvos"===ji.Ln}return Ri(n,[{key:"Ce",get:function(){return this.Fn}},{key:"Ne",get:function(){return this.Mn}},{key:"De",get:function(){return this.Un}},{key:"Ae",get:function(){return this.Vn}},{key:"Pe",get:function(){return this.Hn}},{key:"xe",get:function(){return this.qn}},{key:"Be",get:function(){return this.zn}},{key:"Le",get:function(){return this.Wn}},{key:"Fe",get:function(){return this.jn}},{key:"Me",get:function(){return this.Gn}},{key:"Ue",get:function(){return this.Xn}},{key:"Ve",get:function(){return this.Kn}},{key:"He",get:function(){return this.Jn}},{key:"qe",get:function(){return this.$n}},{key:"ze",get:function(){return this.Yn}},{key:"We",get:function(){return this.Zn}},{key:"je",get:function(){return this.Qn}},{key:"Ge",get:function(){return this.te}},{key:"Xe",get:function(){return this.ue}},{key:"Ye",get:function(){return this.ee}},{key:"$e",get:function(){return this.ie}},{key:"Ke",get:function(){return this.oe}},{key:"Je",get:function(){return this.se}},{key:"Ze",get:function(){return this.ae}},{key:"Qe",get:function(){return this.ce}},{key:"ti",get:function(){return this.fe}},{key:"ni",get:function(){return this.he}},{key:"ei",get:function(){return this.ve}},{key:"ii",get:function(){return this.de}},{key:"ri",get:function(){return this.we}},{key:"ui",get:function(){return this.ye}},{key:"oi",get:function(){return this.me}},{key:"si",get:function(){return this._e}},{key:"ai",get:function(){return this.pe}},{key:"ci",get:function(){return this.be}},{key:"fi",get:function(){return this.ke}},{key:"hi",get:function(){return!(!this.Ze&&!this.Ke)&&this.Xe<=56}},{key:"vi",get:function(){return this.Te}},{key:"di",get:function(){return this.Se}},{key:"li",get:function(){return this.Ee}},{key:"wi",get:function(){return this.Re}},{key:"gi",get:function(){return this.Ie}},{key:"yi",get:function(){return this.Oe}},{key:"mi",get:function(){return this.re}}]),n}();or._i=new or;var sr=or._i;ki(),Vt();var ar={}.hasOwnProperty,cr={}.toString;function fr(t){return null!=t}function hr(t){return void 0===t}var vr=Array.isArray||function(t){return"[object Array]"===cr.call(t)};function dr(t){return lr(t)&&ar.call(t,"length")&&_r(t.length)}function lr(t){return"object"==typeof t&&null!==t}function wr(t){return lr(t)&&t.constructor&&t.constructor===v}function gr(t){return"string"==typeof t}function yr(t){return"boolean"==typeof t}function mr(t){return Boolean(t)&&"function"==typeof t.then}function _r(t){return"number"==typeof t}ki(),Vt();var pr=function(){},br=function(t){return t},kr=!(sr.ti&&!sr.ni),Tr=t.console;function Sr(t){if(lr(t))try{return JSON.stringify(t)}catch(t){}return t}function Er(t){return t.map(Sr).join(" ")}function Rr(t){var n=Tr&&Tr[t];return n?n.bind&&kr?n.bind(Tr):function(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];Tr[t](Er(e))}:void 0}var Ir,Or=Rr("log")||pr,Cr=Rr("warn")||Or.bind(void 0,"WARNING:"),Nr=Rr("error")||Or.bind(void 0,"ERROR:"),Dr=(Ir=Tr&&Tr.assert)?Ir.bind&&kr?Ir.bind(Tr):function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];Tr.assert(t,Er(e))}:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];t||Nr.apply(void 0,["Assertion failed:"].concat(Bi(e)))};ki(),Vt(),ki(),Vt(),ki(),Vt();var Ar=null;try{Ar=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Pr(t,n,e){this.low=0|t,this.high=0|n,this.unsigned=!!e}function xr(t){return!0===(t&&t.pi)}function Br(t){var n=d.clz32(t&-t);return t?31-n:n}Pr.prototype.pi,v.defineProperty(Pr.prototype,"pi",{value:!0}),Pr.isLong=xr;var Lr={},Fr={};function Mr(t,n){var e,i,r;return n?(r=0<=(t>>>=0)&&t<256)&&(i=Fr[t])?i:(e=Vr(t,0,!0),r&&(Fr[t]=e),e):(r=-128<=(t|=0)&&t<128)&&(i=Lr[t])?i:(e=Vr(t,t<0?-1:0,!1),r&&(Lr[t]=e),e)}function Ur(t,n){if(g(t))return n?$r:Yr;if(n){if(t<0)return $r;if(t>=jr)return tu}else{if(t<=-Gr)return nu;if(t+1>=Gr)return Qr}return t<0?Ur(-t,n).neg():Vr(t%Wr|0,t/Wr|0,n)}function Vr(t,n,e){return new Pr(t,n,e)}Pr.fromInt=Mr,Pr.fromNumber=Ur,Pr.fromBits=Vr;var Hr=d.pow;function qr(t,n,e){if(0===t.length)throw f("empty string");if("number"==typeof n?(e=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?$r:Yr;if((e=e||10)<2||36<e)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw f("interior hyphen");if(0===i)return qr(t.substring(1),n,e).neg();for(var r=Ur(Hr(e,8)),u=Yr,o=0;o<t.length;o+=8){var s=d.min(8,t.length-o),a=l(t.substring(o,o+s),e);if(s<8){var c=Ur(Hr(e,s));u=u.mul(c).add(Ur(a))}else u=(u=u.mul(r)).add(Ur(a))}return u.unsigned=n,u}function zr(t,n){return"number"==typeof t?Ur(t,n):"string"==typeof t?qr(t,n):Vr(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Pr.fromString=qr,Pr.fromValue=zr;var Wr=4294967296,jr=Wr*Wr,Gr=jr/2,Xr=Mr(1<<24),Yr=Mr(0);Pr.ZERO=Yr;var $r=Mr(0,!0);Pr.UZERO=$r;var Kr=Mr(1);Pr.ONE=Kr;var Jr=Mr(1,!0);Pr.UONE=Jr;var Zr=Mr(-1);Pr.NEG_ONE=Zr;var Qr=Vr(-1,2147483647,!1);Pr.MAX_VALUE=Qr;var tu=Vr(-1,-1,!0);Pr.MAX_UNSIGNED_VALUE=tu;var nu=Vr(0,-2147483648,!1);Pr.MIN_VALUE=nu;var eu=Pr.prototype;eu.toInt=function(){return this.unsigned?this.low>>>0:this.low},eu.toNumber=function(){return this.unsigned?(this.high>>>0)*Wr+(this.low>>>0):this.high*Wr+(this.low>>>0)},eu.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(nu)){var n=Ur(t),e=this.div(n),i=e.mul(n).sub(this);return e.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=Ur(Hr(t,6),this.unsigned),u=this,o="";;){var s=u.div(r),a=(u.sub(s.mul(r)).toInt()>>>0).toString(t);if((u=s).isZero())return a+o;for(;a.length<6;)a="0"+a;o=""+a+o}},eu.getHighBits=function(){return this.high},eu.getHighBitsUnsigned=function(){return this.high>>>0},eu.getLowBits=function(){return this.low},eu.getLowBitsUnsigned=function(){return this.low>>>0},eu.getNumBitsAbs=function(){if(this.isNegative())return this.eq(nu)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},eu.isZero=function(){return 0===this.high&&0===this.low},eu.eqz=eu.isZero,eu.isNegative=function(){return!this.unsigned&&this.high<0},eu.isPositive=function(){return this.unsigned||this.high>=0},eu.isOdd=function(){return 1==(1&this.low)},eu.isEven=function(){return 0==(1&this.low)},eu.equals=function(t){return xr(t)||(t=zr(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},eu.eq=eu.equals,eu.notEquals=function(t){return!this.eq(t)},eu.neq=eu.notEquals,eu.ne=eu.notEquals,eu.lessThan=function(t){return this.comp(t)<0},eu.lt=eu.lessThan,eu.lessThanOrEqual=function(t){return this.comp(t)<=0},eu.lte=eu.lessThanOrEqual,eu.le=eu.lessThanOrEqual,eu.greaterThan=function(t){return this.comp(t)>0},eu.gt=eu.greaterThan,eu.greaterThanOrEqual=function(t){return this.comp(t)>=0},eu.gte=eu.greaterThanOrEqual,eu.ge=eu.greaterThanOrEqual,eu.compare=function(t){if(xr(t)||(t=zr(t)),this.eq(t))return 0;var n=this.isNegative(),e=t.isNegative();return n&&!e?-1:!n&&e?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},eu.comp=eu.compare,eu.negate=function(){return!this.unsigned&&this.eq(nu)?nu:this.not().add(Kr)},eu.neg=eu.negate,eu.add=function(t){xr(t)||(t=zr(t));var n=this.high>>>16,e=65535&this.high,i=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,a=0,c=0,f=0,h=0;return f+=(h+=r+(65535&t.low))>>>16,c+=(f+=i+s)>>>16,a+=(c+=e+o)>>>16,a+=n+u,Vr((f&=65535)<<16|(h&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},eu.subtract=function(t){return xr(t)||(t=zr(t)),this.add(t.neg())},eu.sub=eu.subtract,eu.multiply=function(t){if(this.isZero())return this;if(xr(t)||(t=zr(t)),Ar)return Vr(Ar.mul(this.low,this.high,t.low,t.high),Ar.get_high(),this.unsigned);if(t.isZero())return this.unsigned?$r:Yr;if(this.eq(nu))return t.isOdd()?nu:Yr;if(t.eq(nu))return this.isOdd()?nu:Yr;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Xr)&&t.lt(Xr))return Ur(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,e=65535&this.high,i=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,a=65535&t.low,c=0,f=0,h=0,v=0;return h+=(v+=r*a)>>>16,f+=(h+=i*a)>>>16,h&=65535,f+=(h+=r*s)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=i*s)>>>16,f&=65535,c+=(f+=r*o)>>>16,c+=n*a+e*s+i*o+r*u,Vr((h&=65535)<<16|(v&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},eu.mul=eu.multiply,eu.divide=function(t){if(xr(t)||(t=zr(t)),t.isZero())throw f("division by zero");var n,e,i;if(Ar)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Vr((this.unsigned?Ar.div_u:Ar.div_s)(this.low,this.high,t.low,t.high),Ar.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?$r:Yr;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return $r;if(t.gt(this.shru(1)))return Jr;i=$r}else{if(this.eq(nu))return t.eq(Kr)||t.eq(Zr)?nu:t.eq(nu)?Kr:(n=this.shr(1).div(t).shl(1)).eq(Yr)?t.isNegative()?Kr:Zr:(e=this.sub(t.mul(n)),i=n.add(e.div(t)));if(t.eq(nu))return this.unsigned?$r:Yr;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=Yr}for(e=this;e.gte(t);){n=d.max(1,d.floor(e.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:Hr(2,r-48),o=Ur(n),s=o.mul(t);s.isNegative()||s.gt(e);)s=(o=Ur(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=Kr),i=i.add(o),e=e.sub(s)}return i},eu.div=eu.divide,eu.modulo=function(t){return xr(t)||(t=zr(t)),Ar?Vr((this.unsigned?Ar.rem_u:Ar.rem_s)(this.low,this.high,t.low,t.high),Ar.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},eu.mod=eu.modulo,eu.rem=eu.modulo,eu.not=function(){return Vr(~this.low,~this.high,this.unsigned)},eu.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},eu.clz=eu.countLeadingZeros,eu.countTrailingZeros=function(){return this.low?Br(this.low):Br(this.high)+32},eu.ctz=eu.countTrailingZeros,eu.and=function(t){return xr(t)||(t=zr(t)),Vr(this.low&t.low,this.high&t.high,this.unsigned)},eu.or=function(t){return xr(t)||(t=zr(t)),Vr(this.low|t.low,this.high|t.high,this.unsigned)},eu.xor=function(t){return xr(t)||(t=zr(t)),Vr(this.low^t.low,this.high^t.high,this.unsigned)},eu.shiftLeft=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Vr(0,this.low<<t-32,this.unsigned)},eu.shl=eu.shiftLeft,eu.shiftRight=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Vr(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},eu.shr=eu.shiftRight,eu.shiftRightUnsigned=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Vr(32===t?this.high:this.high>>>t-32,0,this.unsigned)},eu.shru=eu.shiftRightUnsigned,eu.shr_u=eu.shiftRightUnsigned,eu.rotateLeft=function(t){var n;return xr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Vr(this.high,this.low,this.unsigned):t<32?(n=32-t,Vr(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),Vr(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},eu.rotl=eu.rotateLeft,eu.rotateRight=function(t){var n;return xr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Vr(this.high,this.low,this.unsigned):t<32?(n=32-t,Vr(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),Vr(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},eu.rotr=eu.rotateRight,eu.toSigned=function(){return this.unsigned?Vr(this.low,this.high,!1):this},eu.toUnsigned=function(){return this.unsigned?this:Vr(this.low,this.high,!0)},eu.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},eu.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},eu.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Pr.fromBytes=function(t,n,e){return e?Pr.fromBytesLE(t,n):Pr.fromBytesBE(t,n)},Pr.fromBytesLE=function(t,n){return new Pr(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Pr.fromBytesBE=function(t,n){return new Pr(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var iu=Pr;ki(),Vt();var ru=d.pow(2,-52);function uu(t,n,e){return d.min(d.max(t,n),e)}function ou(t,n,e){return t===n||d.abs(t-n)<=e}function su(t,n){for(var e=t,i=n;0!==i;){var r=e%i;e=i,i=r}return e<0?-e:e}function au(){return Date.now()||(new Date).getTime()}function cu(t){return t/1e3}var fu,hu,vu=1/6;iu.fromNumber(9007199254740991);function du(t){return 1===t.bi}function lu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}ki(),Vt(),Ii(),ki(),Vt(),(hu=fu||(fu={}))[hu.ki=1]="ki",hu[hu.Ti=2]="Ti",hu[hu.Si=3]="Si",hu[hu.Ei=4]="Ei",hu[hu.Ri=9]="Ri",ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii();var wu=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];f.apply(this,n)};(wu.prototype=v.create(f.prototype)).constructor=wu;var gu=function(t){function n(n,e){var i;return(i=t.call(this)||this).message=n||"Unknown error",i.cause=e,f.captureStackTrace&&f.captureStackTrace(lu(i),i.constructor),i}return Yi(n,t),Ri(n,[{key:"name",get:function(){return"BaseError"}}]),n}(wu),yu=function(t){function n(n){return t.call(this,"Invalid XML",n)}return Yi(n,t),n}(gu),mu=function(){function t(){}return t.prototype.Ii=function(t){var n,e=new DOMParser;try{n=e.parseFromString(t,"text/xml")}catch(t){throw new yu(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new yu;return new Eu(n)},t}(),_u=function(){function t(t){this.Oi=t}var n=t.prototype;return n.Ci=function(t){return this.Oi.isEqualNode(t.Oi)},n.Ni=function(n){return new t(this.Oi.cloneNode(n))},Ri(t,[{key:"bi",get:function(){return fu.Ti}},{key:"Di",get:function(){var t;return null!=(t=this.Oi.localName)?t:Ou(this.Oi.nodeName)}},{key:"Ai",get:function(){return this.Oi.nodeName}},{key:"Pi",get:function(){var t;return null!=(t=this.Oi.namespaceURI)?t:void 0}},{key:"xi",get:function(){var t;return null!=(t=this.Oi.prefix)?t:void 0}},{key:"Bi",get:function(){return this.Oi.nodeValue}}]),t}(),pu=function(){function t(t){this.Li=void 0,this.Fi=t}var n=t.prototype;return n.Mi=function(t){return this.Ui.filter((function(n){return Ru(n)&&n.Vi===t}))},n.Hi=function(t,n){return this.Ui.filter((function(e){return Ru(e)&&e.Di===n&&e.Pi===t}))},n.qi=function(t){this.Fi.appendChild(t.zi),this.Li&&this.Li.push(t)},n.Ci=function(t){return this.Fi.isEqualNode(t.zi)},Ri(t,[{key:"Ui",get:function(){return void 0===this.Li&&(this.Li=function(t){for(var n=[],e=0;e<t.length;e++){var i=Iu(t.item(e));i&&n.push(i)}return n}(this.Fi.childNodes)),this.Li}},{key:"Wi",get:function(){return this.Ui.filter(Ru)}},{key:"zi",get:function(){return this.Fi}}]),t}(),bu=function(t){function n(n){return t.call(this,n)}Yi(n,t);var e=n.prototype;return e.ji=function(t){if(this.Fi.hasAttribute(t))return this.Fi.getAttribute(t)},e.Gi=function(t,n){if(this.Fi.hasAttributeNS(t,n))return this.Fi.getAttributeNS(t,n)},e.Xi=function(t){this.Fi.removeAttribute(t)},e.Yi=function(t,n){this.Fi.removeAttributeNS(t,n)},e.$i=function(t,n){this.Fi.setAttribute(t,n)},e.Ki=function(t,n,e){this.Fi.setAttributeNS(t,n,e)},e.Ni=function(t){return new n(this.Fi.cloneNode(t))},Ri(n,[{key:"bi",get:function(){return fu.ki}},{key:"Di",get:function(){var t;return null!=(t=this.Fi.localName)?t:Ou(this.Fi.nodeName)}},{key:"Pi",get:function(){var t;return null!=(t=this.Fi.namespaceURI)?t:void 0}},{key:"xi",get:function(){var t;return null!=(t=this.Fi.prefix)?t:void 0}},{key:"Vi",get:function(){return this.Fi.nodeName}},{key:"Ji",get:function(){return function(t){for(var n=[],e=0;e<t.length;e++)n.push(new _u(t.item(e)));return n}(this.Fi.attributes)}},{key:"Zi",get:function(){return this.Fi.textContent}}]),n}(pu),ku=function(){function t(t){this.Fi=t}return t.prototype.Ci=function(t){return this.Qi===t.Qi},Ri(t,[{key:"Qi",get:function(){return this.Fi.nodeValue}},{key:"zi",get:function(){return this.Fi}}]),t}(),Tu=function(t){function n(n){return t.call(this,n)}return Yi(n,t),n.prototype.Ni=function(t){return new n(this.Fi.cloneNode(t))},Ri(n,[{key:"bi",get:function(){return fu.Si}}]),n}(ku),Su=function(t){function n(n){return t.call(this,n)}return Yi(n,t),n.prototype.Ni=function(t){return new n(this.Fi.cloneNode(t))},Ri(n,[{key:"bi",get:function(){return fu.Ei}}]),n}(ku),Eu=function(t){function n(n){return t.call(this,n)}return Yi(n,t),n.prototype.Ni=function(t){return new n(this.Fi.cloneNode(t))},Ri(n,[{key:"bi",get:function(){return fu.Ri}},{key:"tr",get:function(){return new bu(this.Fi.documentElement)}}]),n}(pu);function Ru(t){return du(t)}function Iu(t){switch(t.nodeType){case fu.ki:return new bu(t);case fu.Si:return new Tu(t);case fu.Ei:return new Su(t)}}function Ou(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function Cu(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function Nu(t,n){var e=function(t,n){var e=t.length;if(e<=1)return t;for(var i=new Array(e),r=1;r<e;r*=2){Du(t,n,r,i);var u=t;t=i,i=u}return t}(t,n);return e!==t&&Du(e,null,t.length,t),t}function Du(t,n,e,i){var r,u,o,s,a,c=t.length,f=0,h=2*e;for(r=0;r<c;r+=h)for(o=(u=r+e)+e,u>c&&(u=c),o>c&&(o=c),s=r,a=u;;)if(s<u&&a<o)n(t[s],t[a])<=0?i[f++]=t[s++]:i[f++]=t[a++];else if(s<u)i[f++]=t[s++];else{if(!(a<o))break;i[f++]=t[a++]}}ki(),Vt();var Au=/[a-zA-Z]/,Pu=/[0-9]/,xu=/[0-9a-fA-F]/,Bu=/^0x/i,Lu=/^[0-9]+$/,Fu=/^[0-9a-fA-F]+$/,Mu=/^[0-7]+$/,Uu=v.prototype.toString,Vu=Array.isArray||function(t){return"[object Array]"===Uu.call(t)},Hu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function qu(t){return Vu(t)?t:Array.from(t)}function zu(t){return t>=65&&t<=90}function Wu(t){return zu(t)||function(t){return t>=97&&t<=122}(t)}function ju(t){return t>=48&&t<=57}function Gu(t){return ju(t)||Wu(t)}function Xu(t){return ju(t)||t>=65&&t<=70||t>=97&&t<=102}function Yu(t){return zu(t)?t+32:t}function $u(t){return ju(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ku(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Ju=d.min,Zu=String.fromCharCode;function Qu(t){for(var n=t.length,e=[],i=0;i<n;i+=16384){var r=Ju(i+16384,n);e.push(Zu.apply(null,t.slice(i,r)))}return e.join("")}var to=2147483647,no=/[^\0-\x7E]/,eo=/[\x2E\u3002\uFF0E\uFF61]/g,io={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ro=d.floor,uo=String.fromCharCode;function oo(t){throw new RangeError(io[t])}function so(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}var ao,co,fo,ho=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},vo=function(t,n,e){var i=0;for(t=e?ro(t/700):t>>1,t+=ro(t/n);t>455;i+=36)t=ro(t/35);return ro(i+36*t/(t+38))},lo=function(t){return function(t,n){var e=t.split("@"),i="";e.length>1&&(i=e[0]+"@",t=e[1]);var r=function(t,n){for(var e=[],i=t.length;i--;)e[i]=n(t[i]);return e}((t=t.replace(eo,".")).split("."),n).join(".");return i+r}(t,(function(t){return no.test(t)?"xn--"+function(t){for(var n=[],e=(t=so(t)).length,i=128,r=0,u=72,o=0,s=t;o<s.length;o++){var a=s[o];a<128&&n.push(uo(a))}var c=n.length,f=c;for(c&&n.push("-");f<e;){for(var h=to,v=0,d=t;v<d.length;v++){var l=d[v];l>=i&&l<h&&(h=l)}var w=f+1;h-i>ro((to-r)/w)&&oo("overflow"),r+=(h-i)*w,i=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<i&&++r>to&&oo("overflow"),m==i){for(var _=r,p=36;;p+=36){var b=p<=u?1:p>=u+26?26:p-u;if(_<b)break;var k=_-b,T=36-b;n.push(uo(ho(b+k%T,0))),_=ro(k/T)}n.push(uo(ho(_,0))),u=vo(r,w,f==c),r=0,++f}}++r,++i}return n.join("")}(t):t}))};function wo(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return Qu(n)}function go(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function yo(t,n){return t>>n&63|128}function mo(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(go(t),n.push(t>>12&15|224),n.push(yo(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(yo(t,12)),n.push(yo(t,6))),n.push(63&t|128)):n.push(t)}function _o(t){for(var n=[],e=0;e<t.length;e++){mo(t[e],n)}return n}function po(){if(fo>=co)throw new f("Invalid byte index");var t=255&ao[fo];if(fo++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function bo(){var t,n;if(fo>co)throw new f("Invalid byte index");if(fo===co)return!1;if(t=255&ao[fo],fo++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|po())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|po()<<6|po())>=2048)return go(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|po()<<12|po()<<6|po())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function ko(t){return[37,Ku(t>>4),Ku(15&t)]}function To(t){return function(t){return t>=0&&t<=31}(t)||t>126}function So(t){return To(t)||32===t||34===t||60===t||62===t||96===t}function Eo(t){return So(t)||35===t||63===t||123===t||125===t}function Ro(t){return Eo(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Io(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Oo(t){return Io(t)||39===t}function Co(t,n){if(!n(t))return[t];for(var e=_o([t]),i=[],r=0;r<e.length;r++){var u=e[r];i.push.apply(i,ko(u))}return i}function No(t,n){for(var e=[],i=0,r=so(t);i<r.length;i++){var u=r[i];e.push.apply(e,Co(u,n))}return wo(e)}function Do(t){return function(t){for(var n=[],e=t.length,i=0;i<e;i++){var r=t[i];if(37===r&&i+2<e&&Xu(t[i+1])&&Xu(t[i+2])){var u=$u(t[i+1])<<4|$u(t[i+2]);n.push(u),i+=2}else n.push(r)}return n}(_o(t))}function Ao(t){return wo(function(t){ao=t.slice(),co=ao.length,fo=0;for(var n,e=[];!1!==(n=bo());)e.push(n);return e}(Do(so(t))))}function Po(t){var n,e,i,r,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new h;c+=2,a=s+=1}for(;c<u;){if(8===s)throw new h("Too many groups");if(":"!==t[c]){for(var f=0,v=0;v<4&&c<u&&xu.test(t[c]);)f=f<<4|l(t[c],16),c+=1,v+=1;if("."===t[c]){if(0===v)throw new h;if(c-=v,s>6)throw new h;for(var d=0;c<u;){var w=null;if(d>0){if(!("."===t[c]&&d<4))throw new h;c+=1}if(!Pu.test(t[c]))throw new h;for(;c<u&&Pu.test(t[c]);){var g=l(t[c],10);if(null===w)w=g;else{if(0===w)throw new h;if((w=10*w+g)>255)throw new h}c+=1}o[s]=o[s]<<8|w,2!==(d+=1)&&4!==d||(s+=1)}if(4!==d)throw new h;break}if(":"===t[c]){if((c+=1)===u)throw new h}else if(c<u)throw new h;o[s]=f,s+=1}else{if(null!==a)throw new h("Too many :: groups");c+=1,a=s+=1}}if(null!==a){var y=s-a;for(s=7;0!==s&&y>0;)i=a+y-1,r=void 0,r=(n=o)[e=s],n[e]=n[i],n[i]=r,s-=1,y-=1}else if(8!==s)throw new h;return o}function xo(t){var n=10,e=Lu;return Bu.test(t)?(t=t.slice(2),n=16,e=Fu):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,e=Mu),""===t?0:e.test(t)?l(t,n):void 0}var Bo={nr:4},Lo=/[\0\t\n\r #%/:?@\[\\\]]/,Fo=/[\0\t\n\r #/:?@\[\\\]]/;function Mo(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{nr:2,er:Po(t.slice(1,-1))}}if(!n)return function(t){if(Fo.test(t))throw new h("Invalid code point in opaque host");var n=No(t,To);return""===n?Bo:{nr:3,B:n}}(t);var e=function(t){return function(t){return lo(t.toLowerCase())}(t)}(Ao(t));if(Lo.test(e))throw new h("Invalid code point in host");var i=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var e=[],i=0;i<n.length;i++){var r=n[i];if(""===r)return;var u=xo(r);if(void 0===u)return;e.push(u)}for(var o=0;o<e.length-1;o++)if(e[o]>255)throw new h;if(e[e.length-1]>=d.pow(256,5-e.length))throw new h;for(var s=e.pop(),a=0;a<e.length;a++)s+=e[a]*d.pow(256,3-a);return s}}(e);return void 0!==i?{nr:1,er:i}:""===e?Bo:{nr:0,ir:e}}function Uo(t){switch(t.nr){case 0:return t.ir;case 1:return function(t){for(var n=[],e=t,i=1;i<=4;i++)n.push(""+(255&e)),4!==i&&n.push("."),e>>>=8;return n.reverse().join("")}(t.er);case 2:return"["+function(t){for(var n="",e=function(t){for(var n=0,e=0,i=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(i=u),r++):(r>e&&(n=i,e=r),r=0);return r>e&&(n=i,e=r),e>1?n:null}(t),i=!1,r=0;r<8;r++){if(i){if(0===t[r])continue;i=!1}e!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",i=!0)}return n}(t.er)+"]";case 3:return t.B;case 4:return""}}var Vo=/\+/g;function Ho(t){for(var n=t.split("&"),e=[],i=0;i<n.length;i++){var r=n[i];if(""!==r){var u=r.indexOf("="),o=void 0,s=void 0;-1!==u?(o=r.slice(0,u),s=r.slice(u+1)):(o=r,s=""),o=o.replace(Vo," "),s=s.replace(Vo," ");var a=Ao(o),c=Ao(s);e.push([a,c])}}return e}function qo(t){for(var n="",e=0;e<t.length;e++){var i=t[e];e>0&&(n+="&"),n+=zo(_o(so(i[0])))+"="+zo(_o(so(i[1])))}return n}function zo(t){for(var n,e=[],i=0;i<t.length;i++){var r=t[i];32===r?e.push(43):42===(n=r)||45===n||46===n||95===n||Gu(n)?e.push(r):e.push.apply(e,ko(r))}return Qu(e)}var Wo=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function jo(t){var n=""+t,e=Wo.exec(n);return e?function(t,n){for(var e=t.length,i=[],r=n;r<e;r++){var u=t.charCodeAt(r);if(Xo(u))if(Yo(u)||r===e-1)i.push(Go);else{var o=t.charCodeAt(r+1);Yo(o)?(i.push(u,o),r++):i.push(Go)}else i.push(u)}return t.slice(0,n)+Qu(i)}(n,e.index):n}var Go=65533,Xo=function(t){return 55296==(63488&t)},Yo=function(t){return 0!=(1024&t)};function $o(t,n){var e=t[0],i=n[0];return e===i?0:e<i?-1:1}function Ko(t){t.rr.length=0}function Jo(t,n){!function(t,n){for(var e=0;e<n.length;e++)t[e]=n[e];t.length=n.length}(t.rr,Ho(n))}function Zo(t){if(t.ur){var n=qo(t.rr);""===n&&(n=null),t.ur.ur.sr=n}}var Qo=function(){function t(t){if(void 0===t&&(t=void 0),this.ur=null,null==t)this.rr=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Qo&&Vu(u.rr)&&(!Hu||u[Symbol.iterator]===ts))this.rr=t.rr.slice();else if(function(t){return null!=t&&(!!Vu(t)||!!Hu&&"function"==typeof t[Symbol.iterator])}(t)){this.rr=[];for(var n=0,e=qu(t);n<e.length;n++){var i=qu(e[n]);if(2!==i.length)throw new h("Invalid name-value pair");this.rr.push([jo(i[0]),jo(i[1])])}}else for(var r in this.rr=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.rr.push([jo(r),jo(t[r])]);else(t=jo(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.rr=Ho(t);var u}var n=t.prototype;return n.append=function(t,n){t=jo(t),n=jo(n),this.rr.push([t,n]),Zo(this)},n.delete=function(t){t=jo(t);for(var n=this.rr,e=0;e<n.length;){n[e][0]===t?n.splice(e,1):e++}Zo(this)},n.get=function(t){t=jo(t);for(var n=this.rr,e=0;e<n.length;e++){var i=n[e];if(i[0]===t)return i[1]}return null},n.getAll=function(t){t=jo(t);for(var n=this.rr,e=[],i=0;i<n.length;i++){var r=n[i];r[0]===t&&e.push(r[1])}return e},n.has=function(t){t=jo(t);for(var n=this.rr,e=0;e<n.length;e++){if(n[e][0]===t)return!0}return!1},n.set=function(t,n){t=jo(t),n=jo(n);for(var e=this.rr,i=!1,r=0;r<e.length;){var u=e[r];u[0]===t?i?e.splice(r,1):(u[1]=n,i=!0,r++):r++}i||e.push([t,n]),Zo(this)},n.sort=function(){Nu(this.rr,$o),Zo(this)},n.toString=function(){return qo(this.rr)},n.entries=function(){return new rs(this.rr,ns)},n.keys=function(){return new rs(this.rr,es)},n.values=function(){return new rs(this.rr,is)},n.forEach=function(t){var n=this;this.rr.forEach((function(e){return t(e[1],e[0],n)}))},t}(),ts=Qo.prototype.entries;Hu&&(Qo.prototype[Symbol.iterator]=ts);var ns=function(t){return[t[0],t[1]]},es=function(t){return t[0]},is=function(t){return t[1]},rs=function(){function t(t,n){this.ar=0,this.rr=t,this.cr=n}return t.prototype.next=function(){return this.ar<this.rr.length?{done:!1,value:this.cr(this.rr[this.ar++])}:{done:!0,value:void 0}},t}(),us="null";var os=v.create(null);os.ftp=21,os.file=0,os.gopher=70,os.http=80,os.https=443,os.ws=80,os.wss=443;var ss=/^(?:\.|%2e)$/i,as=/^(?:\.|%2e){2}$/i;function cs(t){return ss.test(t)}function fs(t){return as.test(t)}function hs(t){return void 0!==os[t]}function vs(t){return hs(t.hr)}function ds(t){return""!==t.dr||""!==t.wr}function ls(t){var n=t.length;if(!(n>=2))return!1;if(!gs(t.slice(0,2)))return!1;if(2!==n){var e=t[2];if(47!==e&&92!==e&&63!==e&&35!==e)return!1}return!0}function ws(t){return 2===t.length&&Au.test(t[0])&&(":"===t[1]||"|"===t[1])}function gs(t){return 2===t.length&&ws(Qu(t))}function ys(t){return ws(t)&&":"===t[1]}function ms(t){var n=t.gr;0!==n.length&&("file"===t.hr&&1===n.length&&ys(n[0])||n.pop())}function _s(t){return null===t.yr||Bo===t.yr||t.mr||"file"===t.hr}var ps=-1,bs=/\t|\n|\r/g,ks=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Ts(t,n,e,i){void 0===e&&(e=null),void 0===i&&(i=null),e||(e=new Es,t=t.replace(ks,""));var r=null!==i?i:0;n=n||null;for(var u=[],o=!1,s=!1,a=!1,c=so(t=t.replace(bs,"")),f=c.length,v=0;v<=f;){var d=v<f?c[v]:ps;switch(r){case 0:if(!Wu(d)){if(null===i){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(Yu(d)),r=1;break;case 1:if(Gu(d)||43===d||45===d||46===d)u.push(Yu(d));else{if(58!==d){if(null===i){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=wo(u);if(null!==i){if(hs(e.hr)&&!hs(w))return;if(!hs(e.hr)&&hs(w))return;if((ds(e)||null!==e._r)&&"file"===w)return;if("file"===e.hr&&(e.yr===Bo||null===e.yr))return}if(e.hr=w,null!==i)return void(vs(e)&&e._r===os[e.hr]&&(e._r=null));u.length=0,"file"===e.hr?r=13:vs(e)&&n&&n.hr===e.hr?r=3:vs(e)?r=7:47===c[v+1]?(r=4,v+=1):(e.mr=!0,e.gr.push(""),r=18)}break;case 2:if(!n||n.mr&&35!==d)throw new h("Invalid scheme");n.mr&&35===d?(e.hr=n.hr,e.gr=n.gr.slice(),e.sr=n.sr,e.pr="",e.mr=!0,r=20):"file"!==n.hr?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===c[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:e.hr=n.hr,ps===d?(e.dr=n.dr,e.wr=n.wr,e.yr=n.yr,e._r=n._r,e.gr=n.gr.slice(),e.sr=n.sr):47===d?r=6:63===d?(e.dr=n.dr,e.wr=n.wr,e.yr=n.yr,e._r=n._r,e.gr=n.gr.slice(),e.sr="",r=19):35===d?(e.dr=n.dr,e.wr=n.wr,e.yr=n.yr,e._r=n._r,e.gr=n.gr.slice(),e.sr=n.sr,e.pr="",r=20):92===d&&vs(e)?r=6:(e.dr=n.dr,e.wr=n.wr,e.yr=n.yr,e._r=n._r,e.gr=n.gr.slice(),e.gr.pop(),r=17,v-=1);break;case 6:!vs(e)||47!==d&&92!==d?47===d?r=9:(e.dr=n.dr,e.wr=n.wr,e.yr=n.yr,e._r=n._r,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==c[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){o&&u.unshift(37,52,48),o=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||a){var m=wo(Co(y,Ro));a?e.wr+=m:e.dr+=m}else a=!0}u.length=0}else if(ps===d||47===d||63===d||35===d||vs(e)&&92===d){if(o&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==i&&"file"===e.hr)v-=1,r=15;else if(58!==d||s)if(ps===d||47===d||63===d||35===d||vs(e)&&92===d){if(v-=1,vs(e)&&0===u.length)throw new h("Invalid host");if(null!==i&&0===u.length&&(ds(e)||null!==e._r))return;var _=Mo(wo(u),vs(e));if(e.yr=_,u.length=0,r=16,null!==i)return}else 91===d?s=!0:93===d&&(s=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=Mo(wo(u),vs(e));if(e.yr=p,u.length=0,r=12,11===i)return}break;case 12:if(ju(d))u.push(d);else{if(!(ps===d||47===d||63===d||35===d||vs(e)&&92===d||null!==i))throw new h("Invalid port");if(0!==u.length){var b=l(wo(u),10);if(b>65535)throw new h("Invalid port");e._r=b===os[e.hr]?null:b,u.length=0}if(null!==i)return;r=16,v-=1}break;case 13:e.hr="file",47===d||92===d?r=14:n&&"file"===n.hr?ps===d?(e.yr=n.yr,e.gr=n.gr.slice(),e.sr=n.sr):63===d?(e.yr=n.yr,e.gr=n.gr.slice(),e.sr="",r=19):35===d?(e.yr=n.yr,e.gr=n.gr.slice(),e.sr=n.sr,e.pr="",r=20):(ls(c.slice(v))||(e.yr=n.yr,e.gr=n.gr.slice(),ms(e)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.hr&&!ls(c.slice(v))&&(ys(n.gr[0])?e.gr.push(n.gr[0]):e.yr=n.yr),r=17,v-=1);break;case 15:if(ps===d||47===d||92===d||63===d||35===d)if(v-=1,null===i&&gs(u))r=17;else if(0===u.length){if(e.yr=Bo,null!==i)return;r=16}else{var k=Mo(wo(u),vs(e));if(0===k.nr&&"localhost"===k.ir&&(k=Bo),e.yr=k,null!==i)return;u.length=0,r=16}else u.push(d);break;case 16:vs(e)?(r=17,47!==d&&92!==d&&(v-=1)):null===i&&63===d?(e.sr="",r=19):null===i&&35===d?(e.pr="",r=20):ps!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(ps===d||47===d||vs(e)&&92===d||null===i&&(63===d||35===d)){var T=wo(u);if(fs(T)?(ms(e),47===d||vs(e)&&92===d||e.gr.push("")):!cs(T)||47===d||vs(e)&&92===d?cs(T)||("file"===e.hr&&0===e.gr.length&&gs(u)&&(Bo!==e.yr&&null!==e.yr&&(e.yr=Bo),u[1]=58,T=wo(u)),e.gr.push(T)):e.gr.push(""),u.length=0,"file"===e.hr&&(ps===d||63===d||35===d))for(;e.gr.length>1&&""===e.gr[0];)e.gr.shift();63===d?(e.sr="",r=19):35===d&&(e.pr="",r=20)}else u.push.apply(u,Co(d,Eo));break;case 18:63===d?(e.sr="",r=19):35===d?(e.pr="",r=20):ps!==d&&(e.gr[0]+=wo(Co(d,To)));break;case 19:null===i&&35===d?(e.pr="",r=20):ps!==d&&(e.sr+=wo(Co(d,vs(e)?Oo:Io)));break;case 20:ps===d||0===d||(e.pr+=wo(Co(d,So)))}v++}return e}function Ss(t,n,e,i){try{Ts(t,n,e,i)}catch(t){}}var Es=function(){this.hr="",this.dr="",this.wr="",this.yr=null,this._r=null,this.gr=[],this.sr=null,this.pr=null,this.mr=!1};function Rs(t){switch(t.hr){case"blob":var n;try{n=Ts(t.gr[0],null)}catch(t){return us}return Rs(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return e=t.hr,i=t.yr,r=t._r,e+"://"+Uo(i)+(null===r?"":":"+r);case"file":default:return us}var e,i,r}var Is,Os=function(){function t(t,n){var e,i,r=null;if(null!=n)if(null!=(e=n)&&e instanceof Os&&"object"==typeof e.ur)r=n.ur;else try{r=Ts(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{i=Ts(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var u=i.sr;this.ur=i,this.sr=function(t){var n=new Qo;return null!==t&&Jo(n,t),n}(u),this.sr.ur=this}var n,e,i,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(e=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var e=t.hr+":";if(null!==t.yr?(e+="//",ds(t)&&(e+=t.dr,""!==t.wr&&(e+=":"+t.wr),e+="@"),e+=Uo(t.yr),null!==t._r&&(e+=":"+t._r)):null===t.yr&&"file"===t.hr&&(e+="//"),t.mr)e+=t.gr[0];else for(var i=0,r=t.gr;i<r.length;i++)e+="/"+r[i];return null!==t.sr&&(e+="?"+t.sr),n||null===t.pr||(e+="#"+t.pr),e}(this.ur)},set:function(t){var n;try{n=Ts(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.ur=n,Ko(this.sr);var e=this.ur.sr;null!==e&&Jo(this.sr,e)}},{key:"origin",get:function(){return Rs(this.ur)}},{key:"protocol",get:function(){return this.ur.hr+":"},set:function(t){Ss(t+":",null,this.ur,0)}},{key:"username",get:function(){return this.ur.dr},set:function(t){_s(this.ur)||(this.ur.dr=No(t,Ro))}},{key:"password",get:function(){return this.ur.wr},set:function(t){_s(this.ur)||(this.ur.wr=No(t,Ro))}},{key:"host",get:function(){var t=this.ur,n=t.yr;if(null===n)return"";var e=t._r,i=Uo(n);return null!==e&&(i+=":"+e),i},set:function(t){this.ur.mr||Ss(t,null,this.ur,10)}},{key:"hostname",get:function(){var t=this.ur.yr;return null===t?"":Uo(t)},set:function(t){this.ur.mr||Ss(t,null,this.ur,11)}},{key:"port",get:function(){var t=this.ur._r;return null===t?"":""+t},set:function(t){_s(this.ur)||(""===t?this.ur._r=null:Ss(t,null,this.ur,12))}},{key:"pathname",get:function(){var t=this.ur.gr;return this.ur.mr?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ur.mr||(this.ur.gr.length=0,Ss(t,null,this.ur,16))}},{key:"search",get:function(){var t=this.ur.sr;return null===t||""===t?"":"?"+t},set:function(t){t=jo(t);var n=this.ur;if(""===t)return n.sr=null,void Ko(this.sr);"?"===t[0]&&(t=t.slice(1)),n.sr="",Ss(t,null,n,19),Jo(this.sr,t)}},{key:"searchParams",get:function(){return this.sr}},{key:"hash",get:function(){var t=this.ur.pr;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ur.pr="",Ss(t,null,this.ur,20)):this.ur.pr=null}}])&&Cu(n.prototype,e),i&&Cu(n,i),t}();function Cs(t){return t.document&&t.document.baseURI||t.location.href||""}function Ns(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ds(t,n){var e=n.style;if(e)for(var i in t)e[i]=t[i]}function As(){return void 0!==i?i.createElement("video"):void 0}function Ps(){return Is||(Is=As()),Is}ki(),Vt(),Ti(),Ti(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var xs=!!("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Bs=Ps(),Ls=!(!Bs||!Bs.webkitShowPlaybackTargetPicker),Fs=function(){function t(){this.br=void 0,this.kr=!1,this.Ce=xs,this.We=!1,this.Tr=!0}var n=t.prototype;return n.Sr=function(){return 0},n.Er=function(t,n){return!0},n.Rr=function(t){return t>=2*vu},Ri(t,[{key:"Ir",get:function(){return void 0===this.br&&(this.br=this.Sr()),this.br}},{key:"Or",get:function(){return!sr.fi}},{key:"Cr",get:function(){}},{key:"Nr",get:function(){return e.devicePixelRatio||1}},{key:"Dr",get:function(){return Ls}},{key:"Ar",get:function(){return!1}},{key:"Pr",get:function(){return!0}},{key:"Br",get:function(){return sr.ui||sr.Ve}},{key:"Lr",get:function(){return!0}},{key:"Fr",get:function(){return!0}},{key:"Mr",get:function(){return!1}},{key:"Ur",get:function(){}},{key:"Vr",get:function(){return!0}},{key:"Hr",get:function(){return!1}},{key:"qr",get:function(){return!1}}]),t}();ki(),Vt();var Ms=function(){var t=As();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(sr.Me)return!1;var t=As();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Us=function(t){function n(n){var e;return(e=t.call(this)||this).zr=n,e.zr&&(e.kr=e.zr.kr,e.Ce=e.zr.Ce,e.Tr=Ms&&e.zr.Tr),e}Yi(n,t);var e=n.prototype;return e.Sr=function(){return this.zr?this.zr.Ir:t.prototype.Sr.call(this)},e.Er=function(n,e){return this.zr?this.zr.Er(n,e):t.prototype.Er.call(this,n,e)},e.Rr=function(n){return this.zr?this.zr.Rr(n):t.prototype.Rr.call(this,n)},Ri(n,[{key:"Ur",get:function(){var t;return null==(t=this.zr)?void 0:t.Ur}},{key:"Vr",get:function(){var t,n;return null==(n=null==(t=this.zr)?void 0:t.Vr)||n}}]),n}(Fs),Vs=function(t){function n(n){var e;return(e=t.call(this,n)||this).kr=!0,e.We=!0,e}return Yi(n,t),Ri(n,[{key:"Mr",get:function(){return sr.Ve}}]),n}(Us);Ti();var Hs=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.Sr=function(){return mi.MediaSource?t.prototype.Sr.call(this):1},Ri(n,[{key:"Mr",get:function(){return!0}}]),n}(Vs);ki(),Vt(),Ii();var qs=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.Er=function(n,e){return t.prototype.Er.call(this,n,e)},Ri(n,[{key:"Ar",get:function(){return sr.Je<3}},{key:"Pr",get:function(){return sr.Je>=3}},{key:"Cr",get:function(){var t=this;return e.tizen&&!this.Wr&&e.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var e=n.resolutionWidth,i=n.resolutionHeight;1===e&&1===i||(t.Wr={width:e,height:i})})),this.Wr}},{key:"Hr",get:function(){return sr.Je<3}},{key:"qr",get:function(){return!0}}]),n}(Us);ki(),Vt();var zs=function(t){function n(){return t.call(this)}return Yi(n,t),n}(Fs);ki(),Vt(),Ii();var Ws=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.Er=function(t,n){if(t&&t.jr&&n&&n.jr){var e=js(t.jr,"mp4a.40.2")&&js(n.jr,"mp4a.40.5"),i=js(t.jr,"mp4a.40.5")&&js(n.jr,"mp4a.40.2"),r=js(t.jr,"mp4a.40.2")&&js(n.jr,"mp4a.40.34"),u=js(t.jr,"mp4a.40.34")&&js(n.jr,"mp4a.40.2"),o=js(t.jr,"mp4a.40.5")&&js(n.jr,"mp4a.40.34"),s=js(t.jr,"mp4a.40.34")&&js(n.jr,"mp4a.40.5");return!(e||i||r||u||o||s)}return!0},Ri(n,[{key:"Ur",get:function(){if(sr.Ne)return 4096}}]),n}(zs);function js(t,n){return t.indexOf(n)>-1}ki(),Vt();var Gs=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.Rr=function(t){return t>=2},n}(zs);ki(),Vt();var Xs=function(t){function n(){var n;return(n=t.call(this)||this).kr=sr.oi>=11,n.Tr=sr.ui&&!(sr.Ve&&sr.oi<10),n}return Yi(n,t),n}(zs);ki(),Vt(),Ii();var Ys=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),Ri(n,[{key:"Cr",get:function(){var t=this;return e.webOS&&!this.Wr&&e.webOS.deviceInfo((function(n){t.Wr={width:n.screenWidth,height:n.screenHeight}})),this.Wr}},{key:"Lr",get:function(){return!1}},{key:"qr",get:function(){return!0}}]),n}(Us);ki(),Vt(),Ii();var $s=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),Ri(n,[{key:"Vr",get:function(){return!sr.De||(sr.Ye?92!==sr.$e:sr.Xe>=100)}}]),n}(zs);ki(),Vt(),Ii();var Ks=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),Ri(n,[{key:"Mr",get:function(){return!0}}]),n}(Us),Js=function(){function n(){var n;this.Gr=new mu,this.Xr=new Zs,this.Yr=(n=sr.ii?new Ws:sr.Qe||sr.ti?new Gs:sr.ui?new Xs:sr.Ge?new $s:new zs,sr.Ve?new Hs(n):sr.We?new Vs(n):sr.Ke?new qs(n):sr.Ze?new Ys(n):sr.Ne?new Ks(n):new Us(n)),this.$r=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Kr=function(){return t.performance.now()}:this.Kr=au}var e=n.prototype;return e.Jr=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Or.apply(void 0,Bi(n))},e.Zr=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Cr.apply(void 0,Bi(n))},e.Qr=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Nr.apply(void 0,Bi(n))},e.tu=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];Dr.apply(void 0,[t].concat(Bi(e)))},e.nu=function(t,n){return o(t,n)},e.eu=function(t,n){return a(t,n)},e.iu=function(t){s(t)},e.ru=function(t){c(t)},e.Ii=function(t){return this.Gr.Ii(t)},e.uu=function(){return this.ou.uu()},e.su=function(){return this.ou.su()},e.au=function(){return this.ou.au()},e.cu=function(){return this.ou.cu()},e.fu=function(){return this.ou.fu()},e.hu=function(t,n){return this.ou.hu(t,n)},e.vu=function(t){return this.ou.vu(t)},e.du=function(t,n){var e;return void 0===n&&(n=Cs(mi)),e="object"!=typeof n||n instanceof Os?n:n.href,new Os(t,e)},e.lu=function(n,e){if(void 0===e&&(e=Cs(mi)),this.$r){var i=gr(e)?e:e.toString();return new t.URL(n,i).href}return this.du(n,e).href},Ri(n,[{key:"wu",get:function(){return this.Xr}},{key:"gu",get:function(){return this.Yr}},{key:"yu",get:function(){return{mu:u&&u.userAgent.match(/Android /i)?"Android":"other",_u:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"pu",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"bu",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),Zs=function(){function t(){}return Ri(t,[{key:"ku",get:function(){return u.oscpu}},{key:"gu",get:function(){return u.platform}},{key:"Tu",get:function(){return u.vendor}},{key:"Su",get:function(){return u.vendorSub}}]),t}();function Qs(t,n,e,i,r,u,o){try{var s=t[u](o),a=s.value}catch(t){return void e(t)}s.done?n(a):G.resolve(a).then(i,r)}function ta(t){return function(){var n=this,e=arguments;return new G((function(i,r){var u=t.apply(n,e);function o(t){Qs(u,i,r,o,s,"next",t)}function s(t){Qs(u,i,r,o,s,"throw",t)}o(void 0)}))}}function na(){return(na=v.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)v.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}function ea(t,n){var e,i,r,u,o=function(t){return function(n){return s([t,n])}},s=function(u){if(e)throw new h("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=2&u[0]?i.return:u[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,u[1])).done)return r;switch(i=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){a.label=u[1];break}if(6===u[0]&&a.label<r[1]){a.label=r[1],r=u;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(u);break}r[2]&&a.ops.pop(),a.trys.pop();continue}u=n.call(t,a)}catch(t){u=[6,t],i=0}finally{e=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}},a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function ia(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,r,u=[],o=!0,s=!1;try{for(e=e.call(t);!(o=(i=e.next()).done)&&(u.push(i.value),!n||u.length!==n);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==e.return||e.return()}finally{if(s)throw r}}return u}}(t,n)||Pi(t,n)||function(){throw new h("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(){var t=v.create(null);return t.Eu=void 0,delete t.Eu,t}function ua(){return new aa}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),xi();var oa,sa="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,aa=sa||(oa=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=v.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ra(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ra(),this.size=0},n.keys=function(){return new oa(this.data,(function(t,n){return n}))},n.values=function(){return new oa(this.data,(function(t,n){return t[n]}))},n.entries=function(){return new oa(this.data,(function(t,n){return[n,t[n]]}))},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var ca,fa,ha,va=sa||(ca=function(){function t(t,n){this.Ru=t,this.Iu=n}return t.prototype.next=function(){var t=this.Ru.next();return t.done?t:{value:this.Iu(t.value),done:!1}},t}(),function(){function t(){this.Ou=ua()}var n=t.prototype;return n.get=function(t){return this.Ou.get(""+t)},n.set=function(t,n){return this.Ou.set(""+t,n),this},n.has=function(t){return this.Ou.has(""+t)},n.delete=function(t){return this.Ou.delete(""+t)},n.clear=function(){this.Ou.clear()},n.keys=function(){return new ca(this.Ou.keys(),(function(t){return Number(t)}))},n.values=function(){return this.Ou.values()},n.entries=function(){return new ca(this.Ou.entries(),(function(t){var n=ia(t,2),e=n[0],i=n[1];return[Number(e),i]}))},n.forEach=function(t){this.Ou.forEach((function(n,e){t(n,Number(e))}))},Ri(t,[{key:"size",get:function(){return this.Ou.size}}]),t}());Ti(),ki(),Vt(),ki(),Vt(),(ha=fa||(fa={})).Cu="9a04f079-9840-4286-ab92-e65be0885f95",ha.Nu="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ha.Du="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ha.Au="94ce86fb-07ff-4f43-adb8-93d2fa968ca2";var da,la,wa="cenc",ga="sinf",ya="skd",ma="9a04f079-9840-4286-ab92-e65be0885f95",_a="urn:uuid:"+ma,pa="com.microsoft.playready",ba="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ka="urn:uuid:"+ba,Ta="com.widevine.alpha",Sa="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Ea="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Ra="urn:uuid:"+Ea,Ia="com.apple.fps.1_0";ki(),Vt(),(la=da||(da={})).Cu="playready",la.Nu="widevine",la.Au="fairplay",la.Du="clearkey",la.Pu="aes128";var Oa={xu:da.Cu,Bu:pa,Lu:"cenc",Fu:ma,Mu:_a,Uu:"PlayReady"},Ca={xu:da.Nu,Bu:Ta,Lu:"cenc",Fu:ba,Mu:ka,Uu:"Widevine"},Na={xu:da.Au,Bu:Ia,Lu:"skd",Fu:Ea,Mu:Ra,Uu:"FairPlay"},Da=(da.Au,{xu:da.Du,Bu:"org.w3.clearkey",Lu:"cenc",Fu:Sa,Mu:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Uu:"ClearKey"});function Aa(t,n,e){return t.split(n).join(e)}function Pa(t,n){return null!=t&&-1!==t.indexOf(n)}function xa(t,n){return null!=t&&t.substr(0,n.length)===n}function Ba(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function La(t,n){return t.toUpperCase()===n.toUpperCase()}function Fa(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return Ua(n)}ki(),Vt(),Fi();var Ma=16384;function Ua(t){var n,e=t.length;if(e<=Ma)return(n=String).fromCharCode.apply(n,Bi(t));for(var i=[],r=0;r<e;r+=Ma){var u;i.push((u=String).fromCharCode.apply(u,Bi(t.slice(r,r+Ma))))}return i.join("")}var Va=sr.Ge&&sr.Xe>=42||sr.ii&&sr.ri>=38||sr.Qe||sr.ni||sr.si&&sr.ai>=29;function Ha(t,n){return Pa(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[na({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[na({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var qa,za,Wa=function(){function t(t){this.Vu=ua(),this.Hu=void 0,this.qu=t}var n=t.prototype;return n.fu=function(){return this.vu(Ca)},n.su=function(){return this.vu(Da)},n.cu=function(){return this.vu(Oa)},n.au=function(){return this.vu(Na)},n.vu=function(t){var n=t.Mu,e=this.Vu.get(n);if(e)return e;var i=this.hu(t,'video/mp4; codecs="avc1.42000a"');return this.Vu.set(n,i),i},n.hu=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,e.qu.zu(t.Bu,[Ha(n,!0)])];case 1:return i.sent(),[2,!0];case 2:i.sent(),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,e.qu.zu(t.Bu,[Ha(n,!1)])];case 4:return i.sent(),[2,!0];case 5:return i.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.uu=function(){return this.Hu||(this.Hu=this.Wu()),this.Hu},n.Wu=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return"https:"===_i.protocol?[2,!1]:Va?[4,t.su()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function ja(t,n){var e=function(t,n){var e=t,i=e.length;if(i<=1)return e;for(var r=new Array(i),u=1;u<i;u*=2){Ga(e,n,u,r);var o=e;e=r,r=o}return e}(t,n);return e!==t&&Ga(e,void 0,t.length,t),t}function Ga(t,n,e,i){var r,u,o,s,a,c=t.length,f=0,h=2*e;for(u=0;u<c;u+=h)for(r=(o=u+e)+e,o>c&&(o=c),r>c&&(r=c),s=u,a=o;;)if(s<o&&a<r)n&&n(t[s],t[a])<=0?i[f++]=t[s++]:i[f++]=t[a++];else if(s<o)i[f++]=t[s++];else{if(!(a<r))break;i[f++]=t[a++]}}ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(za=qa||(qa={}))[za.ju=0]="ju",za[za.Gu=1]="Gu",za[za.Xu=-1]="Xu";var Xa=function(t,n){return(0|t)-(0|n)},Ya=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1};function $a(t,n,e){return ou(t,n,e)?0:Ya(t,n)}var Ka=function(t,n){return function(t,n){if(t===n)return!0;var e=d.abs(t-n);return e<ru||e<d.max(d.abs(t),d.abs(n))*ru}(t,n)?0:Ya(t,n)};function Ja(t,n,e){var i=function(t,n,e){for(var i=0;i<t.length;i+=1){var r=t[i];if(n.call(e,r,i,t))return i}return-1}(t,n,e);return-1===i?void 0:t[i]}function Za(t,n,e){var i=function(t,n,e){for(var i=t.length-1;i>=0;i-=1){var r=t[i];if(n.call(e,r,i,t))return i}return-1}(t,n,e);return-1===i?void 0:t[i]}function Qa(t,n){var e=t.indexOf(n);return-1!==e&&(tc(t,e),!0)}function tc(t,n){t.splice(n,1)}function nc(t,n){return-1!==t.indexOf(n)}function ec(t){t.length=0}ki(),Vt(),Ii(),ki(),Vt(),Ii();var ic=function(){function t(){this.Yu=!1,this.$u=!1,this.Ku=[],this.Ju=[]}var n=t.prototype;return n.Zu=function(){if(!this.Yu&&!this.$u){this.Yu=!0;for(var t=0,n=this.Ku.slice();t<n.length;t++){(0,n[t])()}this.Qu()}},n.Qu=function(){if(!this.$u){this.$u=!0;for(var t=0,n=this.Ju.slice();t<n.length;t++){(0,n[t])()}ec(this.Ku),ec(this.Ju)}},n.eo=function(t){this.$u||this.Ku.push(t)},n.io=function(t){this.$u||Qa(this.Ku,t)},n.ro=function(t){this.$u||this.Ju.push(t)},n.uo=function(t){this.$u||Qa(this.Ju,t)},t}(),rc=function(){function t(){this.oo=new ic}var n=t.prototype;return n.so=function(){this.oo.Zu()},n.Qu=function(){this.oo.Qu()},n.ao=function(t){var n=this.oo;if(!n.Yu)if(t.Yu)n.Zu();else if(!n.$u&&!t.$u){var e=function(){i(),n.Zu()},i=function(){t.io(e),t.uo(i),n.io(e),n.uo(i)};t.eo(e),t.ro(i),n.eo(e),n.ro(i)}},n.co=function(){var n=new t,e=new t,i=n.fo,r=e.fo,u=this.oo,o=function(){i.Yu&&r.$u||r.Yu&&i.$u?u.Zu():i.$u&&r.$u&&u.Qu()};i.eo(o),r.eo(o),i.ro(o),r.ro(o),n.ao(u),e.ao(u);return u.ro((function(){i.io(o),r.io(o),i.uo(o),r.uo(o)})),[n,e]},Ri(t,[{key:"fo",get:function(){return this.oo}}]),t}(),uc=function(t){function n(n,e){return t.call(this,n||"Aborted",e)}return Yi(n,t),Ri(n,[{key:"name",get:function(){return"AbortError"}}]),n}(gu);function oc(t){return t instanceof f&&"AbortError"===t.name}function sc(t){if(t&&t.Yu)throw new uc}function ac(t){if(oc(t))throw t}function cc(t){if(!oc(t))throw t}function fc(t,n){return n?new G((function(e,i){if(n.Yu)return t.catch(pr),i(new uc);var r=function(){n.io(r),i(new uc)};n.eo(r),t.then((function(t){n.io(r),e(t)}),(function(t){n.io(r),i(t)}))})):t}function hc(t,n){return t.then((function(t){return n.Qu(),t}),(function(t){throw n.Qu(),t}))}ki(),Vt();var vc=G.resolve();function dc(t){vc.then(t)}function lc(t){t.then(pr,pr)}function wc(t){return gc.apply(this,arguments)}function gc(){return(gc=ta((function(t){var n;return ea(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,G.all(t)];case 1:return[2,e.sent()];case 2:return n=e.sent(),[4,G.all(t.map((function(t){return t.catch(pr)})))];case 3:throw e.sent(),n;case 4:return[2]}}))}))).apply(this,arguments)}function yc(t,n){return new G((function(e,i){if(void 0!==n&&n.Yu)i(new uc);else{var r=Wi.nu((function(){void 0!==n&&n.io(u),e()}),t),u=function(){Wi.iu(r),i(new uc)};void 0!==n&&n.eo(u)}}))}function mc(t){return t&&"function"!=typeof t?t.slice():t}function _c(t,n,e){if(e)if("function"==typeof e)e.call(t,n);else for(var i=0;i<e.length;i++){e[i].call(t,n)}}var pc=function(){function t(t){var n=this;this.ho=ra(),this.vo=void 0,this.do=function(t){n.lo(t)},this.wo=t||this}var n=t.prototype;return n.yo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.mo(t,n);else for(var e=0;e<t.length;e++){var i=t[e];this.mo(i,n)}},n.mo=function(t,n){var e=this.ho[t];e?"function"==typeof e?this.ho[t]=[e,n]:e.push(n):this.ho[t]=n},n._o=function(t){if("function"==typeof t){var n=this.vo;n?"function"==typeof n?this.vo=[n,t]:n.push(t):this.vo=t}},n.po=function(){this.ho=ra(),this.vo=void 0},n.lo=function(t){var n=mc(this.ho[t.type]),e=mc(this.vo);_c(this.wo,t,n),_c(this.wo,t,e)},n.bo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.ko(t,n);else for(var e=0;e<t.length;e++){var i=t[e];this.ko(i,n)}},n.ko=function(t,n){var e=this.ho[t];e&&("function"==typeof e?e===n&&(this.ho[t]=void 0):Qa(e,n))},n.To=function(t){if("string"==typeof t)this.ho[t]=void 0;else for(var n=0;n<t.length;n++){var e=t[n];this.ho[e]=void 0}},n.So=function(t){var n=this.vo;n&&("function"==typeof n?n===t&&(this.vo=void 0):Qa(n,t))},n.Eo=function(t,n){var e=this;return new G((function(i,r){if(n&&n.Yu)return r(new uc);var u=function(t){s(),i(t)},o=function(){s(),r(new uc)},s=function(){e.bo(t,u),n&&n.io(o)};e.yo(t,u),n&&n.eo(o)}))},t}(),bc=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.lo=function(n){var e=this;dc((function(){t.prototype.lo.call(e,n)}))},n}(pc);ki(),Vt(),ki(),Vt();var kc,Tc,Sc=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ec=["cenc"],Rc=["cbcs","cbcs-1-9"],Ic=function(t){function n(n){var e;return(e=t.call(this,"Io")||this).Ro=n,e}return Yi(n,t),n}(Sc),Oc=function(t){function n(n,e,i,r){var u;return(u=t.call(this,"Oo")||this).Ro=n,u.Co=e,u.Oo=i,u.No=r,u}return Yi(n,t),n}(Sc),Cc=function(t){function n(){return t.call(this,"Do")}return Yi(n,t),n}(Sc);(Tc=kc||(kc={})).Ao="Po",Tc.xo="Bo";var Nc=function(t){function n(n,e){var i;return(i=t.call(this,"Po")||this).Lu=n,i.Lo=e,i}return Yi(n,t),n}(Sc);ki(),Vt(),Ii();var Dc=new y([0]).buffer,Ac=function(){function t(){this.Fo=[]}var n=t.prototype;return n.Mo=function(t){for(var n=0,e=this.Fo;n<e.length;n++){if(e[n][0]===t)return!0}return!1},n.Uo=function(t){for(var n=0,e=this.Fo;n<e.length;n++){var i=e[n];if(i[0]===t)return i[1]}},n.Vo=function(t,n){this.Fo.forEach((function(n){return t(n[1],n[0])}),n)},n.Ho=function(t,n){this.Fo.push([t,n])},n.qo=function(){ec(this.Fo)},Ri(t,[{key:"zo",get:function(){return this.Fo.length}}]),t}();ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var Pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),xc=/[\t\n\f\r ]/g;function Bc(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Lc()}function Lc(){throw new f("Invalid base64 input")}function Fc(t){var n=t;xc.test(n)&&(n=n.replace(xc,""));var e=n.length;e%4==0&&e>=1&&"="===n[e-1]&&(e>=2&&"="===n[e-2]?e-=2:e-=1,n=n.substr(0,e));var i=e%4;if(1===i)return Lc();for(var r,u=0===i?0:4-i,o=new y(function(t,n){return 3*(t+n)/4-n}(e,u)),s=u>0?e-4:e,a=0,c=0;a<s;a+=4)r=Bc(n.charCodeAt(a))<<18|Bc(n.charCodeAt(a+1))<<12|Bc(n.charCodeAt(a+2))<<6|Bc(n.charCodeAt(a+3)),o[c++]=r>>16&255,o[c++]=r>>8&255,o[c++]=255&r;return 2===u?(r=Bc(n.charCodeAt(a))<<2|Bc(n.charCodeAt(a+1))>>4,o[c++]=255&r):1===u&&(r=Bc(n.charCodeAt(a))<<10|Bc(n.charCodeAt(a+1))<<4|Bc(n.charCodeAt(a+2))>>2,o[c++]=r>>8&255,o[c++]=255&r),o}function Mc(t,n,e){for(var i,r,u,o=[],s=n;s<e;s+=3)o.push((i=t[s],r=t[s+1],u=t[s+2],Pc[i>>2]+Pc[(3&i)<<4|r>>4]+Pc[(15&r)<<2|u>>6]+Pc[63&u]));return o.join("")}function Uc(t){for(var n=t.length,e=n%3,i=[],r=n-e,u=0;u<r;u+=16383)i.push(Mc(t,u,d.min(r,u+16383)));if(1===e){var o=t[n-1];i.push(Pc[o>>2]+Pc[(3&o)<<4]+"==")}else if(2===e){var s=t[n-2],a=t[n-1];i.push(Pc[s>>2]+Pc[(3&s)<<4|a>>4]+Pc[(15&a)<<2]+"=")}return i.join("")}var Vc=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Hc=ArrayBuffer.isView||function(t){return t&&nc(Vc,cr.call(t))};function qc(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var e=0;e<t.length;e+=1)if(t[e]!==n[e])return!1;return!0}(new y(t),new y(n))}function zc(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return function(t,n){for(var e=new y(n),i=0,r=0;r<t.length;r++){var u=t[r];e.set(u,i),i+=u.byteLength}return e}(t,n)}function Wc(t){return Fc(t).buffer}function jc(t){return Uc(new y(t))}function Gc(t){return Uc(yf(t))}ki(),Vt(),Ii();var Xc=function(){function t(t){void 0===t&&(t=0),this.Wo=t}var n=t.prototype;return n.jo=function(t){this.Wo+=t},n.Go=function(t){this.Wo=t},n.Xo=function(){return new t(this.Yo)},Ri(t,[{key:"Yo",get:function(){return this.Wo}}]),t}();function Yc(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function $c(t,n){return t>>n&63|128}function Kc(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Yc(t),n.push(t>>12&15|224),n.push($c(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push($c(t,12)),n.push($c(t,6))),n.push(63&t|128)):n.push(t)}function Jc(t,n){if(n.Yo>=t.length)throw new f("Invalid byte index");var e=255&t[n.Yo];if(n.jo(1),128==(192&e))return 63&e;throw new f("Invalid continuation byte")}function Zc(t,n){var e=n.Yo;if(e>t.length)throw new f("Invalid byte index");if(e===t.length)return!1;var i=255&t[e];if(n.jo(1),0==(128&i))return i;if(192==(224&i)){var r=(31&i)<<6|Jc(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&i)){var u=(15&i)<<12|Jc(t,n)<<6|Jc(t,n);if(u>=2048)return Yc(u),u;throw new f("Invalid continuation byte")}if(240==(248&i)){var o=(7&i)<<18|Jc(t,n)<<12|Jc(t,n)<<6|Jc(t,n);if(o>=65536&&o<=1114111)return o}throw new f("Invalid UTF-8 detected")}ki(),Vt(),ki(),Vt();var Qc=function(){function t(t){this.$o=t}return t.prototype.Ko=function(t){return function(t,n){return(t&n)===n}(this.$o,t)},t}();function tf(t,n){var e=t.getUint8(n.Yo);return n.jo(1),e}function nf(t,n,e){t.setUint8(n.Yo,e),n.jo(1)}function ef(t,n,e){var i=Tf(Ef(t),n.Yo,n.Yo+e);return n.jo(i.byteLength),i}function rf(t,n,e){return n.Yo+e<=t.byteLength}function uf(t,n,e){void 0===e&&(e=!1);var i=t.getUint16(n.Yo,e);return n.jo(2),i}function of(t,n,e,i){void 0===i&&(i=!1),t.setUint16(n.Yo,e,i),n.jo(2)}function sf(t,n,e){void 0===e&&(e=!1);var i=t.getUint32(n.Yo,e);return n.jo(4),i}function af(t,n,e,i){void 0===i&&(i=!1),t.setUint32(n.Yo,e,i),n.jo(4)}function cf(t,n,e){void 0===e&&(e=!1);var i=sf(t,n,e),r=sf(t,n,e),u=e?r:i,o=e?i:r;return iu.fromBits(o,u,!0)}function ff(t,n){return function(t,n){return df(t,n,!0)}(t,n)}function hf(t,n,e){return Ua(Nf(ef(t,n,e)))}function vf(t,n){var e,i=tf(t,n);return 0==(128&i)?e=i:192==(224&i)?e=64*(31&i)+(63&tf(t,n)):224==(240&i)?e=4096*(15&i)+64*(63&tf(t,n))+(63&tf(t,n)):240==(248&i)&&(e=262144*(7&i)+4096*(63&tf(t,n))+64*(63&tf(t,n))+(63&tf(t,n))),e}function df(t,n,e){for(var i=[];n.Yo<t.byteLength;){var r=tf(t,n);if(e&&!r)break;i.push(r)}return Ua(i)}function lf(t,n,e,i){for(var r=[];n.Yo+2<=t.byteLength;){var u=uf(t,n,e);if(i&&!u)break;r.push(u)}return Ua(r)}function wf(t,n,e,i){void 0===i&&(i=!1);for(var r=e.length,u=0;u<r;u+=1){of(t,n,e.charCodeAt(u),i)}}function gf(t){return df(Sf(t),new Df,!1)}function yf(t){var n=new y(t.length);return function(t,n,e){for(var i=e.length,r=0;r<i;r+=1)nf(t,n,e.charCodeAt(r))}(Sf(n),new Df,t),n}function mf(t,n){return void 0===n&&(n=!1),lf(Sf(t),new Df,n,!1)}function _f(t,n){void 0===n&&(n=!1);var e=new y(2*t.length);return wf(Sf(e),new Df,t,n),e}function pf(t,n){return function(t,n,e){var i=[];(function(t,n){return n.Yo+3<=t.byteLength&&239===t.getUint8(n.Yo)&&187===t.getUint8(n.Yo+1)&&191===t.getUint8(n.Yo+2)})(t,n)&&n.jo(3);for(;n.Yo<t.byteLength;){var r=vf(t,n);if(void 0===r)break;if(e&&0===r)break;i.push(r)}return Fa(i)}(t,n,!0)}function bf(t){return Fa(function(t,n){var e,i=[],r=new Df;if(!n){if(!1===(e=Zc(t,r)))return i;65279===e||i.push(e)}for(;!1!==(e=Zc(t,r));)i.push(e);return i}(Ef(t)))}function kf(t){return new y(function(t){for(var n=[],e=0;e<t.length;e++)Kc(t[e],n);return n}(function(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}(t)))}function Tf(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),new y(t.buffer,t.byteOffset+n,e-n)}function Sf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ef(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Rf(t){return t instanceof ArrayBuffer||Hc(t)}function If(t){return t instanceof ArrayBuffer?new y(t):Ef(t)}function Of(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),t.slice?t.slice(n,e):Cf(Tf(t,n,e))}function Cf(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function Nf(t){return[].slice.call(t)}var Df=function(){function t(t){void 0===t&&(t=0),this.Wo=t}var n=t.prototype;return n.jo=function(t){this.Wo+=t},n.Go=function(t){this.Wo=t},n.Xo=function(){return new t(this.Yo)},n.Jo=function(){return new Xc(this.Yo<<3)},Ri(t,[{key:"Yo",get:function(){return this.Wo}}]),t}();ki(),Vt();var Af=function(){function t(){var t=this;this.Zo=new G((function(n,e){t.Z=n,t.nt=e}))}var n=t.prototype;return n.Qo=function(t){this.Z&&(this.Z(t),this.Qu())},n.ts=function(t){this.nt&&(this.nt(t),this.Qu())},n.so=function(){this.Zo.catch(pr),this.ts(new uc)},n.ao=function(t){var n=this;t.then((function(t){return n.Qo(t)}),(function(t){return n.ts(t)}))},n.Qu=function(){this.Z=void 0,this.nt=void 0},t}();function Pf(){return new y([8,4]).buffer}function xf(t,n){return t===pa?function(t){if(t.byteLength<2*Bf.length)return t;if(mf(new DataView(t,0,2*Bf.length),!0)===Bf)return t;return n=t,e='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',_f('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+jc(n)+e,!0).buffer;var n,e}(n):n}ki(),Vt();var Bf="<PlayReady";ki(),Vt(),ki(),Vt();var Lf=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,r)||this).es=e,u.rs=i,u}return Yi(n,t),n}(gu);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Ff=function(t,n){return(Ff=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)v.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)};function Mf(t,n){var e=function(){this.constructor=t};if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");Ff(t,n),t.prototype=null===n?v.create(n):(e.prototype=n.prototype,new e)}function Uf(t,n,e){return t.indexOf?t.indexOf(n,e):Array.prototype.indexOf.call(t,n,e)}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Vf;(Vf=function(t,n){this.us=t,this.os=n}).prototype.get=function(t){var n=this.us.get(t);if(0===this.os||void 0===n)return n;var e=this.us.get(t+1)||0,i=n&(1<<8-this.os)-1,r=e>>8-this.os;return(i<<this.os)+r},Vf.prototype.getBit=function(t){if(!(t<0)){var n=this.us.get(d.floor((t+this.os)/8));if(void 0!==n)return(n&1<<7-this.os-t%8)>0?1:0}},v.defineProperty(Vf.prototype,"bitLength",{get:function(){return this.us.bitLength-this.os},enumerable:!1,configurable:!0}),v.defineProperty(Vf.prototype,"length",{get:function(){return this.us.length},enumerable:!1,configurable:!0});ki(),Vt(),ki(),Vt();d.pow(2,-52);function Hf(t,n,e){return d.min(d.max(t,n),e)}function qf(t,n){return t>>8-n}function zf(t,n){return t&(1<<n)-1}var Wf,jf=(Wf=function(t){this.ss=t,this.cs=0,this.fs=0},v.defineProperty(Wf.prototype,"totalBitsRead",{get:function(){return 8*this.cs+this.fs},enumerable:!1,configurable:!0}),v.defineProperty(Wf.prototype,"done",{get:function(){return this.cs===this.ss.length&&0===this.fs},enumerable:!1,configurable:!0}),v.defineProperty(Wf.prototype,"location",{get:function(){return{byte:this.cs,bit:this.fs}},enumerable:!1,configurable:!0}),Wf.prototype.copy=function(){var t=new Wf(this.ss);return t.seek(this.cs,this.fs),t},Wf.prototype.canReadBits=function(t){return 8*this.cs+t+this.fs<=8*this.ss.length},Wf.prototype.canReadBytes=function(t){return 0===this.fs?this.cs+t<=this.ss.length:this.cs+t<this.ss.length},Wf.prototype.incBit=function(){this.fs++,this.fs>7&&(this.cs++,this.fs=0)},Wf.prototype.seek=function(t,n){this.cs=t,this.fs=n},Wf.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.ss.get(this.cs)>>7-this.fs&1},Wf.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},Wf.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.fs)return this.ss.get(this.cs++);var t=zf(this.ss.get(this.cs),8-this.fs),n=qf(this.ss.get(this.cs+1),this.fs);return this.cs++,t<<this.fs|n},Wf.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],e=0;e<t;e++)n.push(this.readBit());return n},Wf.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.fs&&t%8==0)for(var e=t-8;e>=0;e-=8)n|=this.readByte()<<e;else for(e=t-1;e>=0;e--)n|=this.readBit()<<e;return n},Wf.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0==(n&1<<t-1)?n:n-d.pow(2,t)},Wf.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},Wf.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},Wf.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.fs+t;this.cs+=n>>3,this.fs=7&n},Wf.prototype.readBool=function(){return this.readBit()>0},Wf.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],e=0;e<t;e++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},Wf);ki(),Vt(),ki(),Vt(),ki(),Vt();var Gf,Xf=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},Yf=((Gf=function(){this.hs=[],this.vs=[],this.N=0}).from=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=new Gf,i=0,r=t;i<r.length;i++){var u=r[i];e.pushRange(u)}return e},Gf.prototype.pushRange=function(t,n,e){if(void 0===n&&(n=0),void 0===e&&(e=t.length),e<0)throw new f("The buffer length must be positive.");if(0!==e){if(0===this.vs.length)this.vs.push(0);else{var i=this.vs[this.vs.length-1]+this.hs[this.hs.length-1].length;this.vs.push(i)}this.hs.push(t.subarray(n,n+e)),this.N+=e}},Gf.prototype.concat=function(t){var n=new Gf;return n.pushRange(this.join()),n.pushRange(t.join()),n},Gf.prototype.copy=function(t,n,e,i){if(void 0===n&&(n=0),void 0===e&&(e=0),void 0===i&&(i=this.length),n<0||e<0||i<0)throw new RangeError;return this.slice(e,i).copyInternal(t,n)},Gf.prototype.copyInternal=function(t,n){for(var e=0,i=n,r=0,u=this.hs;r<u.length;r++){var o=u[r];t.set(o,i),e+=o.length,i+=o.length}return e},Gf.prototype.clear=function(){this.hs=[],this.vs=[],this.N=0},Gf.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),e=t-this.vs[n];return this.hs[n][e]}},v.defineProperty(Gf.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),Gf.prototype.indexOf=function(t){if(this.hs.length<1)return-1;if(this.hs.length>1){var n=this.join();this.clear(),this.pushRange(n)}var e=this.hs[0];return"number"==typeof t?Uf(e,t):"undefined"!=typeof Buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var e=n[0],i=n.length,r=t.length-i,u=0;u<=r&&!((u=Uf(t,e,u))<0||u>r);u++){for(var o=u+1,s=u+i,a=1;o<s&&t[o]===n[a];o++,a++);if(o===s)return u}return-1}(e,t)},Gf.prototype.findContainingBufferIndex=function(t){return function(t,n,e){if(0!==t.length){var i=0,r=t.length-1;if(1!==e(t[i],n)){if(1===e(n,t[r]))return r;for(;i!==r;){var u=d.ceil((i+r)/2);e(t[u],n)<=0?i=u:r=u-1}return i}}}(this.vs,t,Xf)},Gf.prototype.join=function(){if(1===this.hs.length)return this.hs[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(Gf.prototype,"length",{get:function(){return this.N},enumerable:!1,configurable:!0}),v.defineProperty(Gf.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),Gf.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var e=0,i=0;i<n;i++)e+=this.get(t+i)*d.pow(2,8*(n-i-1));return e},Gf.prototype.slice=function(t,n){void 0===n&&(n=this.length);var e=Hf(t,0,this.length),i=Hf(n,0,this.length);if(e>i)return new Gf;if(e===i)return new Gf;for(var r=new Gf,u=this.findContainingBufferIndex(e),o=this.hs[u],s=e,a=s-this.vs[u];s+o.length-a<i;)r.pushRange(o,a,o.length-a),u+=1,a=(s+=o.length-a)-this.vs[u],o=this.hs[u];var c=i-s;return r.pushRange(o,a,c),r},Gf.prototype.trim=function(){if(0===this.length)return new Gf;for(var t=this.length-1,n=this.hs.length-1,e=this.hs[n],i=e.length-1;t>=0&&n>=0&&0===e[i];){if(0===i){if(0===n)return new Gf;n-=1,i=(e=this.hs[n]).length-1}else i-=1;t-=1}return this.slice(0,t+1)},Gf),$f=function(){function t(n){this.ds=n||t.BUFFER_CHUNK_SIZE,this.Nn=!1,this.ls=new Yf,this.ss=new y(this.ds),this.gs=0,this.ys=0,this.fs=7}return t.prototype.closeByte=function(){this.ss[this.gs++]=this.ys,this.gs>=this.ds&&this.closeBuffer(),this.ys=0,this.fs=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.gs&&(this.ls.pushRange(this.ss,0,this.gs),t&&(this.ss=new y(this.ds)),this.gs=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.fs},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Nn)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Nn=!0,this.ls},t.prototype.writeBit=function(t){if(this.Nn)throw new f("Cannot write to a closed BitWriter.");this.ys|=t<<this.fs,0===this.fs?this.closeByte():this.fs--},t.prototype.writeByte=function(t){if(this.Nn)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.ys=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.fs;this.ys|=qf(t,n+1),this.closeByte(),this.ys=zf(t,8-n)<<n+1,this.fs=n},t.prototype.writeBits=function(t){for(var n=0,e=t;n<e.length;n++){var i=e[n];this.writeBit(i)}},t.prototype.writeBytes=function(t){if(this.Nn)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.gs+t.length<=this.ds?(this.ss.set(t,this.gs),this.gs+=t.length,this.gs===this.ds&&this.closeBuffer()):(this.closeBuffer(),this.ls.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.fs;this.ys|=qf(t[0],n+1),this.closeByte();for(var e=1;e<t.length;e++){var i=zf(t[e-1],8-n),r=qf(t[e],n+1);this.ys=i<<n+1|r,this.closeByte()}this.ys=zf(t[t.length-1],8-n)<<n+1,this.fs=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var e=n-8;e>=0;e-=8)this.writeByte(t>>e&255);else for(e=n-1;e>=0;e--)this.writeBool((t&1<<e)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,e=0;e<n-1;e++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}(t),e=0;e<n.length;e++)this.writeByte(n[e])},t.BUFFER_CHUNK_SIZE=1024,t}();ki(),Vt();var Kf,Jf,Zf=((Kf=function(t){this.rb=new Yf,this.ct=t}).prototype.closeWriter=function(){void 0!==this.ct&&(this.rb=this.rb.concat(this.ct.close()),this.ct=void 0)},v.defineProperty(Kf.prototype,"writer",{get:function(){return void 0===this.ct&&(this.ct=new $f),this.ct},enumerable:!1,configurable:!0}),Kf.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},Kf.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},Kf),Qf=((Jf=function(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}).prototype.serializeCommonBoxHeader=function(t){var n=this.getSize(),e=n>=Jf.LARGE_SIZE/8,i=16===this.boxType.length;t.writeUInt(e?1:n,32),t.writeString(i?"uuid":this.boxType),e&&(t.writeUInt(d.floor(n/Jf.LARGE_SIZE),32),t.writeUInt(n%Jf.LARGE_SIZE,32)),i&&t.writeString(this.boxType)},Jf.prototype.getSize=function(){var t=8+(this.boxType.length>4?16:0),n=this.getBoxContentSize()+t;return n>=Jf.LARGE_SIZE/8&&(n+=8),n},Jf.prototype.serialize=function(){var t=new Zf;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},Jf.LARGE_SIZE=d.pow(2,32),Jf);function th(t,n){return t instanceof iu?64===n:t<d.pow(2,n)}function nh(t,n){return d.round(t*d.pow(2,n))}function eh(t,n){for(var e=0;e<n.length;e++)t.writeByte(n[e])}function ih(t,n){return t/d.pow(2,n)}ki(),Vt();var rh,uh,oh=(Mf(uh=function(t,n,e){var i=rh.call(this,t)||this;if(i.version=n,!th(n,8))throw new f("the provided version cannot fit in 8 bits.");return i.flags=e,i},rh=Qf),v.defineProperty(uh.prototype,"flags",{get:function(){return this._s},set:function(t){this._s=t},enumerable:!1,configurable:!0}),uh.prototype.getBoxContentSize=function(){return 4},uh.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},uh.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},uh);ki(),Vt(),ki(),Vt();var sh=function(t){var n=function(n,e){var i=t.call(this,n)||this;return i.data=e,i};return Mf(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Yf.from(this.data))},n}(Qf);ki(),Vt(),ki(),Vt();var ah,ch=((ah=function(t){void 0===t&&(t=0),this.offset=t}).prototype.shift=function(t){this.offset+=t},ah.prototype.seek=function(t){this.offset=t},ah.prototype.clone=function(){return new ah(this.offset)},ah);ki(),Vt();var fh=16384;function hh(t){var n=t.length;if(n<=fh)return String.fromCharCode.apply(String,t);for(var e=[],i=0;i<n;i+=fh)e.push(String.fromCharCode.apply(String,t.slice(i,i+fh)));return e.join("")}var vh,dh=((vh=function(t){this.raw=t}).prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},vh);function lh(t,n){var e=t.getUint8(n.offset);return n.shift(1),e}function wh(t,n,e){var i=kh(Th(t),n.offset,n.offset+e);return n.shift(i.byteLength),i}function gh(t,n,e){return n.offset+e<=t.byteLength}function yh(t,n,e){void 0===e&&(e=!1);var i=t.getUint32(n.offset,e);return n.shift(4),i}function mh(t,n,e){void 0===e&&(e=!1);var i=yh(t,n,e),r=yh(t,n,e),u=e?r:i,o=e?i:r;return iu.fromBits(o,u,!0)}function _h(t,n,e){var i,r=wh(t,n,e);return hh((i=r,[].slice.call(i)))}function ph(t,n){var e,i=lh(t,n);return 0==(128&i)?e=i:192==(224&i)?e=64*(31&i)+(63&lh(t,n)):224==(240&i)?e=4096*(15&i)+64*(63&lh(t,n))+(63&lh(t,n)):240==(248&i)&&(e=262144*(7&i)+4096*(63&lh(t,n))+64*(63&lh(t,n))+(63&lh(t,n))),e}function bh(t,n){return function(t,n,e){var i=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=ph(t,n);if(void 0===r)break;if(e&&0===r)break;i.push(r)}return function(t){for(var n=[],e=0,i=t;e<i.length;e++){var r=i[e];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return hh(n)}(i)}(t,n,!0)}function kh(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),new y(t.buffer,t.byteOffset+n,e-n)}function Th(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Sh,Eh=((Sh=function(t){void 0===t&&(t=0),this.offset=t}).prototype.shift=function(t){this.offset+=t},Sh.prototype.seek=function(t){this.offset=t},Sh.prototype.clone=function(){return new Sh(this.offset)},Sh.prototype.toBit=function(){return new ch(this.offset<<3)},Sh);ki(),Vt();var Rh,Ih=((Rh=function(t,n){this.data=t,this.cursor=n}).prototype.nextUint8=function(){return lh(this.data,this.cursor)},Rh.prototype.nextUint16=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getUint16(n.offset,e);return n.shift(2),i}(this.data,this.cursor)},Rh.prototype.nextInt16=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt16(n.offset,e);return n.shift(2),i}(this.data,this.cursor)},Rh.prototype.nextUint32=function(){return yh(this.data,this.cursor)},Rh.prototype.nextInt32=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt32(n.offset,e);return n.shift(4),i}(this.data,this.cursor)},Rh.prototype.nextInt64=function(){return function(t,n,e){void 0===e&&(e=!1);var i=yh(t,n,e),r=yh(t,n,e),u=e?r:i,o=e?i:r;return iu.fromBits(o,u,!1)}(this.data,this.cursor)},Rh.prototype.nextUint64=function(){return mh(this.data,this.cursor)},Rh.prototype.nextUint8Array=function(t){return wh(this.data,this.cursor,t)},Rh.prototype.nextUint32Array=function(t){return function(t,n,e){for(var i=[],r=0;r<e;r++)i.push(yh(t,n));return i}(this.data,this.cursor,t)},Rh.prototype.nextChars=function(t){return _h(this.data,this.cursor,t)},Rh.prototype.nextUTF8String=function(){return bh(this.data,this.cursor)},Rh.prototype.skip=function(t){this.cursor.shift(t)},Rh.prototype.clone=function(){return new Rh(this.data,this.cursor.clone())},Rh);function Oh(t,n){return t.type===n}function Ch(t){var n=function(t,n){var e=[];for(;n.offset<t.byteLength;){var i=Nh(t,n);if(!i.complete)return{complete:!1,boxes:e};e.push(i.box)}return{complete:!0,boxes:e}}(t.data,t.cursor);if(!n.complete)throw new f("Data incomplete");return n.boxes}function Nh(t,n){var e=n.offset,i=function(t,n){var e=n.offset;if(!gh(t,n,8)){return{complete:!1,neededOffset:u=n.offset+8}}var i=yh(t,n),r=_h(t,n,4);if(1===i){if(!gh(t,n,8)){var u=n.offset+8;return n.seek(e),{complete:!1,neededOffset:u}}i=mh(t,n).toNumber()}if("uuid"===r){if(!gh(t,n,16)){u=n.offset+16;return n.seek(e),{complete:!1,neededOffset:u}}r=_h(t,n,16)}var o=n.offset;return{complete:!0,header:{type:r,size:i,headerSize:o-e}}}(t,n);if(!i.complete)return i;var r=i.header,u=r.size;0===u&&(u=t.byteLength-e);var o=e+u;if(o>t.byteLength){var s=o;return n.seek(e),{complete:!1,neededOffset:s}}var a,c,f,h={type:r.type,offset:e,data:new Ih((a=t,c=e,f=o,void 0===c&&(c=0),void 0===f&&(f=a.byteLength),new DataView(a.buffer,a.byteOffset+c,f-c)),new Eh(r.headerSize))};return n.seek(o),{complete:!0,box:h}}function Dh(t){return{version:t>>24,flags:new dh(16777215&t)}}function Ah(t,n){var e,i,r,u;return 1===n?(e=t.nextUint64(),i=t.nextUint64(),r=t.nextUint32(),u=t.nextUint64()):(e=t.nextUint32(),i=t.nextUint32(),r=t.nextUint32(),u=t.nextUint32()),{creation:e,modification:i,scale:r,duration:u}}function Ph(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function xh(t){var n=t.nextUint32Array(9);return{a:ih(n[0],16),b:ih(n[1],16),u:ih(n[2],30),c:ih(n[3],16),d:ih(n[4],16),v:ih(n[5],30),x:ih(n[6],16),y:ih(n[7],16),w:ih(n[8],30)}}function Bh(t){return new sh(t.type,kh(Th(t.data.data),t.data.cursor.offset))}var Lh=function(t){var n=function(n,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",i,r)||this;return u.name=e,u.handlerType=n,u};return Mf(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.ps},set:function(t){this.ps=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(e=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==e?e:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(oh);function Fh(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var o=n.nextUTF8String();return new Lh(u,o,i,r.raw)}!function(t){var n=function(){return t.call(this,"mdir")||this};Mf(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Lh);ki(),Vt(),ki(),Vt(),ki(),Vt();var Mh,Uh=((Mh=function(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}).prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(Mh.prototype,"tag",{get:function(){return this.bs},set:function(t){if(!th(t,8))throw new f("Provided tag does not fit in 8 bits.");this.bs=t},enumerable:!1,configurable:!0}),Mh.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},Mh.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,e=this.encodeSize(this.getDescriptorSize());n<e.length;n++){var i=e[n];t.writer.writeByte(i)}this.serializeDescriptorContent(t)},Mh);ki(),Vt();!function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s={});var a=t.call(this,4,s.fixed28BitMode)||this;return a.upStream=i,a.decoderSpecificInfo=o,a.objectTypeIndication=n,a.streamType=e,a.bufferSizeDb=r,a.maxBitrate=u.max,a.avgBitrate=u.avg,a};Mf(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.ks},set:function(t){if(!th(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.Ts},set:function(t){if(!th(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.Ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Ss},set:function(t){if(!th(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.Ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Es},set:function(t){if(!th(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Rs},set:function(t){if(!th(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,e=this.decoderSpecificInfo;n<e.length;n++){e[n].serialize(t)}}}(Uh);ki(),Vt();!function(t){var n=function(n,e){void 0===e&&(e={});var i=t.call(this,5,e.fixed28BitMode)||this;return i.data=n,i};Mf(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Yf.from(this.data))}}(Uh);ki(),Vt(),ki(),Vt();var Vh=function(t){var n=function(n){void 0===n&&(n=!1);var e=t.call(this,6,n)||this;return e.predefined=2,e};return Mf(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Uh);!function(t){var n=function(n,e,i,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=i,u.esId=n,u.streamPriority=e,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Vh(r.fixed28BitMode),u};Mf(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.Is},set:function(t){if(!th(t,16))throw new f("Provided esId does not fit in 16 bits.");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Os},set:function(t){if(!th(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Cs},set:function(t){if(t&&!th(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Ns},set:function(t){if(t&&!th(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.Ns=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Uh);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Hh=function(t){var n=function(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n};return Mf(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),e=0,i=this.boxes;e<i.length;e++){var r=i[e];n=n.concat(r.serialize())}return n},n}(Qf),qh=function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};return Mf(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Hh),zh=function(t){var n=function(n,e){var i=t.call(this,n)||this;return i.dataReferenceIndex=e,i};return Mf(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Ds},set:function(t){if(!th(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.Ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(qh),Wh=function(t){var n=function(n,e,i,r){var u,o,s=this;return(s=t.call(this,n,e)||this).extra=r,s.channelCount=null!==(u=i.channelCount)&&void 0!==u?u:2,s.sampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:16,s.sampleRate=i.sampleRate,s};return Mf(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.As},set:function(t){if(!th(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Ps},set:function(t){if(!th(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.xs},set:function(t){if(!th(nh(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(e=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(nh(this.sampleRate,16),32),this.extra&&eh(n.writer,this.extra)},n}(zh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stco",0,0)||this;return e.entries=n,e};Mf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"clap")||this;return e.cleanApertureWidthN=n.cleanApertureWidthN,e.cleanApertureWidthD=n.cleanApertureWidthD,e.cleanApertureHeightN=n.cleanApertureHeightN,e.cleanApertureHeightD=n.cleanApertureHeightD,e.horizOffN=n.horizOffN,e.horizOffD=n.horizOffD,e.vertOffN=n.vertOffN,e.vertOffD=n.vertOffD,e};Mf(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Ls},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Fs},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Ms},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Us},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Vs},set:function(t){if(!th(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Hs},set:function(t){if(!th(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.Hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.qs},set:function(t){if(!th(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.zs},set:function(t){if(!th(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Qf);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"ctts",n,0)||this;return i.entries=e,i};Mf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t.sampleCount,32)||!th(t.sampleOffset,32)})))throw new f("Not all entries can be represented in 64 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"url ",0,void 0===n?1:0)||this;return e.location=n,e};Mf(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ws},set:function(t){this.flags=void 0===t?1:0,this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(oh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"urn ",0,i)||this;return r.name=n,r.location=e,r};Mf(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ws},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(oh);ki(),Vt();!function(t){var n=function(){return t.call(this,"dinf")||this};Mf(n,t)}(qh);ki(),Vt(),ki(),Vt();var jh=function(t){var n=function(n,e,i){var r=t.call(this,n)||this;if(r.version=e,!th(e,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=i,r};return Mf(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this._s},set:function(t){this._s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Hh);!function(t){var n=function(){return t.call(this,"dref",0,0)||this};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(jh);ki(),Vt(),ki(),Vt();var Gh=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"elst",e,i)||this;return r.entries=n,r};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){for(var n=0,e=t;n<e.length;n++){var i=e[n];if(!th(i.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!th(i.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!th(i.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(i.mediaRateFraction&&!th(i.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(oh),Xh=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Mf(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,e=0,i=this.entries;e<i.length;e++){var r=i[e];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Gh),Yh=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Mf(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,e=0,i=this.entries;e<i.length;e++){var r=i[e];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Gh);function $h(t){for(var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags,u=n.nextUint32(),o=[],s=0;s<u;s++){var a=void 0,c=void 0;0===i?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var f=n.nextInt16(),h=n.nextInt16();o.push({segmentDuration:a,mediaTime:c,mediaRateFraction:h,mediaRateInteger:f})}return 0===i?new Xh(o,r.raw):new Yh(o,r.raw)}var Kh=function(t){var n=function(){return t.call(this,"edts")||this};return Mf(n,t),n}(qh);function Jh(t){for(var n=new Kh,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"elst")?n.boxes.push($h(r)):n.boxes.push(Bh(r))}return n}ki(),Vt(),ki(),Vt();var Zh=function(t){var n=function(n,e,i,r){var u=t.call(this,n)||this;return u.majorBrand=e,u.minorVersion=i,u.compatibleBrands=r,u};return Mf(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.js},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Gs},set:function(t){if(!th(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Xs},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.Xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,e=this.compatibleBrands;n<e.length;n++){var i=e[n];t.writer.writeString(i)}},n}(Qf);!function(t){var n=function(n,e,i){return t.call(this,"ftyp",n,e,i)||this};Mf(n,t)}(Zh);ki(),Vt();!function(t){var n=function(n,e){void 0===e&&(e="free");var i=t.call(this,e)||this;return i.data=n,i};Mf(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Yf.from(this.data))}}(Qf);ki(),Vt(),ki(),Vt();var Qh=function(t){var n=function(n,e,i,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",i,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=e,u};return Mf(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ys},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.$s},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ks},set:function(t){if(!th(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Js},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.Zs},set:function(t){if(!iv(t))throw new f("Expected an ISO-639-2/T language code");this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var e=0,i=this.language;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(oh),tv=function(t){var n=function(n,e,i){return void 0===i&&(i=0),t.call(this,n,e,0,i)||this};return Mf(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Qh),nv=function(t){var n=function(n,e,i){return void 0===i&&(i=0),t.call(this,n,e,1,i)||this};return Mf(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Qh);function ev(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags,u=Ah(n,i),o=new jf(Yf.from(n.nextUint8Array(2)));o.skipBits(1);for(var s=[],a=0;a<3;a++)s.push(o.readUInt(5));var c=s.map((function(t){return String.fromCharCode(t+96)})).join("");return iv(c)||(c="und"),n.skip(2),0===i?new tv(u,c,r.raw):new nv(u,c,r.raw)}function iv(t){return/^[a-z]{3}$/.test(t)}var rv=function(t){var n=function(){return t.call(this,"mdia")||this};return Mf(n,t),n}(qh);function uv(t){for(var n=new rv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"mdhd")?n.boxes.push(ev(r)):Oh(r,"hdlr")?n.boxes.push(Fh(r)):n.boxes.push(Bh(r))}return n}ki(),Vt();!function(t){var n=function(){var n=t.call(this,"mdat")||this;return n.data=new Yf,n};Mf(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(Qf);ki(),Vt();!function(t){var n=function(){return t.call(this,"minf")||this};Mf(n,t)}(qh);ki(),Vt();var ov,sv;!function(t){var n=function(n){var e=t.call(this,"meta",0,0)||this;return e.handler=n,e};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(jh);ki(),Vt(),ki(),Vt(),(sv=ov||(ov={})).VIDEO="vide",sv.AUXILIARY_VIDEO="auxv",sv.AUDIO="soun",sv.METADATA="meta",sv.HINT="hint",sv.TEXT="text",sv.SUBTITLE="subt",sv.FONT="fdsm",ki(),Vt();var av,cv,fv,hv,vv={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function dv(t,n){n.writer.writeUInt(nh(t.a,16),32),n.writer.writeUInt(nh(t.b,16),32),n.writer.writeUInt(nh(0,30),32),n.writer.writeUInt(nh(t.c,16),32),n.writer.writeUInt(nh(t.d,16),32),n.writer.writeUInt(nh(0,30),32),n.writer.writeUInt(nh(t.x,16),32),n.writer.writeUInt(nh(t.y,16),32),n.writer.writeUInt(nh(1,30),32)}function lv(t,n){var e,i,r,u;n.writer.writeUInt(null!==(e=t.isLeading)&&void 0!==e?e:av.UNKNOWN,2),n.writer.writeUInt(null!==(i=t.sampleDependsOn)&&void 0!==i?i:fv.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:fv.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:fv.UNKNOWN,2)}function wv(t,n){var e,i,r;n.writer.writeUInt(0,4),lv(t,n),n.writer.writeUInt(null!==(e=t.samplePaddingValue)&&void 0!==e?e:0,3),n.writer.writeBool(null!==(i=t.sampleIsNonSyncSample)&&void 0!==i&&i),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}ki(),Vt(),(cv=av||(av={}))[cv.UNKNOWN=0]="UNKNOWN",cv[cv.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",cv[cv.NO=2]="NO",cv[cv.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY",(hv=fv||(fv={}))[hv.UNKNOWN=0]="UNKNOWN",hv[hv.YES=1]="YES",hv[hv.NO=2]="NO",hv[hv.RESERVED=3]="RESERVED",ki(),Vt(),ki(),Vt();var gv=function(){};ki(),Vt(),ki(),Vt(),ki(),Vt();var yv=function(t){var n=function(n,e,i){var r=t.call(this,"pssh",n,0)||this;return r.systemId=e,r.data=i,r};return Mf(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Qs},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.B},set:function(t){if(!th(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.B=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Yf.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Yf.from(this.data))},n}(oh),mv=function(t){var n=function(n,e){return t.call(this,0,n,e)||this};return Mf(n,t),n}(yv),_v=function(t){var n=function(n,e,i){var r=t.call(this,1,n,e)||this;return r.kIds=i,r};return Mf(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.ta},set:function(t){if(!th(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new f("Not all provided key ids are 16 bytes long.");this.ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,e=this.kIds;n<e.length;n++){var i=e[n];t.concat(Yf.from(i))}},n}(yv);function pv(t){var n=t.data.nextUint8();t.data.skip(3);var e=t.data.nextUint8Array(16),i=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)i.push(t.data.nextUint8Array(16));var o=t.data.nextUint32(),s=t.data.nextUint8Array(o);return 1===n?new _v(e,s,i):new mv(e,s)}ki(),Vt(),ki(),Vt();var bv=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"mehd",e,i)||this;return r.fragmentDuration=n,r};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.na},set:function(t){if(!th(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(oh),kv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Mf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(bv),Tv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Mf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(bv);function Sv(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags;return 0===i?new kv(n.nextUint32(),r.raw):new Tv(n.nextUint64(),r.raw)}ki(),Vt();var Ev=function(t){var n=function(n,e,i,r){void 0===e&&(e={}),void 0===i&&(i=0),void 0===r&&(r=0);var u,o,s,a=this;return(a=t.call(this,"trex",i,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==e?void 0:e.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(o=e.sampleDuration)&&void 0!==o?o:0,a.defaultSampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:0,a.defaultSampleFlags=e.sampleFlags,a};return Mf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ea},set:function(t){if(!th(t,32))throw new f("Provided track id does not fit in 32 bits.");this.ea=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.ia},set:function(t){if(!th(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.ia=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.ra},set:function(t){if(!th(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.ua},set:function(t){if(!th(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.oa},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!th(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!th(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.oa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var e;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),wv(null!==(e=this.defaultSampleFlags)&&void 0!==e?e:{},n)},n}(oh);function Rv(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags,u=n.nextUint32(),o=n.nextUint32(),s=n.nextUint32(),a=n.nextUint32(),c=Ph(new jf(Yf.from(n.nextUint8Array(4))));return new Ev(u,{sampleDescriptionIndex:o,sampleDuration:s,sampleSize:a,sampleFlags:c},i,r.raw)}var Iv=function(t){var n=function(){return t.call(this,"mvex")||this};return Mf(n,t),n}(qh);function Ov(t){for(var n=new Iv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"mehd")?n.boxes.push(Sv(r)):Oh(r,"trex")?n.boxes.push(Rv(r)):n.boxes.push(Bh(r))}return n}ki(),Vt();var Cv=function(t){function n(e,i,r,u,o){void 0===o&&(o=0);var s,a,c,f=this;return(f=t.call(this,"mvhd",u,o)||this).creationTime=e.creation,f.modificationTime=e.modification,f.timescale=e.scale,f.duration=e.duration,f.rate=null!==(s=r.rate)&&void 0!==s?s:n.DEFAULT_RATE,f.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,f.matrix=null!==(c=r.matrix)&&void 0!==c?c:vv,f.sa=i,f}return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ys},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.$s},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ks},set:function(t){if(!th(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Js},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.aa},set:function(t){if(!th(nh(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.aa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.ca},set:function(t){if(!th(nh(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.ca=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.fa},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.fa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.sa},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!th(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(nh(this.rate,16),32),n.writer.writeUInt(nh(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),dv(this.matrix,n);for(var e=0;e<6;e++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(oh),Nv=function(t){var n=function(n,e,i,r){return void 0===i&&(i={}),void 0===r&&(r=0),t.call(this,n,e,i,0,r)||this};return Mf(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Cv),Dv=function(t){var n=function(n,e,i,r){return void 0===i&&(i={}),void 0===r&&(r=0),t.call(this,n,e,i,1,r)||this};return Mf(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Cv);function Av(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags,u=Ah(n,i),o=ih(n.nextUint32(),16),s=ih(n.nextUint16(),8);n.skip(2),n.skip(8);var a=xh(n);n.skip(24);var c=n.nextUint32();return 0===i?new Nv(u,c,{rate:o,volume:s,matrix:a},r.raw):new Dv(u,c,{rate:o,volume:s,matrix:a},r.raw)}ki(),Vt(),ki(),Vt();var Pv=function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s={});var a,c,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,e,i,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(e=null==t?void 0:t.trackInMovie)||void 0===e||e,trackInPreview:null===(i=null==t?void 0:t.trackInPreview)||void 0===i||i,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(s))||this).creationTime=e.creation,h.modificationTime=e.modification,h.trackId=i,h.duration=e.duration,h.volume=r,h.width=u,h.height=o,h.layer=null!==(a=s.layer)&&void 0!==a?a:0,h.alternateGroup=null!==(c=s.alternateGroup)&&void 0!==c?c:0,h.matrix=null!==(f=s.matrix)&&void 0!==f?f:vv,h};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ys},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.$s},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ea},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!th(t,32))throw new f("trackId cannot exceed 32 bits.");this.ea=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Js},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.ca},set:function(t){if(!th(nh(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.ca=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.ha},set:function(t){if(!th(nh(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.ha=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.va},set:function(t){if(!th(nh(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.va=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.da},set:function(t){if(!th(t,16))throw new f("Provided layer does not fit in 16 bits.");this.da=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.la},set:function(t){if(!th(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.la=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.fa},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(nh(this.volume,8),16),n.writer.writeUInt(0,16),dv(this.matrix,n),n.writer.writeUInt(nh(this.width,16),32),n.writer.writeUInt(nh(this.height,16),32)},n}(oh),xv=function(t){var n=function(n,e,i,r,u,o){return t.call(this,0,n,e,i,r,u,o)||this};return Mf(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Pv),Bv=function(t){var n=function(n,e,i,r,u,o){return t.call(this,1,n,e,i,r,u,o)||this};return Mf(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Pv);function Lv(t){var n,e,i,r,u=t.data,o=Dh(u.nextUint32()),s=o.version,a=o.flags,c=a.isSet(8),f=a.isSet(4),h=a.isSet(2),v=a.isSet(1);0===s?(n=u.nextUint32(),e=u.nextUint32(),i=u.nextUint32(),u.skip(4),r=u.nextUint32()):(n=u.nextUint64(),e=u.nextUint64(),i=u.nextUint32(),u.skip(4),r=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),w=ih(u.nextInt16(),8);u.skip(2);var g=xh(u),y=ih(u.nextUint32(),16),m=ih(u.nextUint32(),16);return 0===s?new xv({creation:n,modification:e,duration:r},i,w,y,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:f,trackInMovie:h}):new Bv({creation:n,modification:e,duration:r},i,w,y,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:f,trackInMovie:h})}var Fv=function(t){var n=function(){return t.call(this,"trak")||this};return Mf(n,t),n}(qh);function Mv(t){for(var n=new Fv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"tkhd")?n.boxes.push(Lv(r)):Oh(r,"mdia")?n.boxes.push(uv(r)):Oh(r,"edts")?n.boxes.push(Jh(r)):n.boxes.push(Bh(r))}return n}var Uv=function(t){var n=function(){return t.call(this,"moov")||this};return Mf(n,t),n}(qh);ki(),Vt(),ki(),Vt(),ki(),Vt();var Vv=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"tfdt",e,i)||this;return r.baseMediaDecodeTime=n,r};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.wa},set:function(t){if(!th(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(oh),Hv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Mf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Vv),qv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Mf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Vv);function zv(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags;return 0===i?new Hv(n.nextUint32(),r.raw):new qv(n.nextUint64(),r.raw)}ki(),Vt();var Wv=function(t){var n=function(n,e){void 0===e&&(e=0);var i=t.call(this,"tfhd",e,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return i.trackId=n.trackId,i.baseDataOffset=n.baseDataOffset,i.sampleDescriptionIndex=n.sampleDescriptionIndex,i.defaultSampleDuration=n.defaultSampleDuration,i.defaultSampleSize=n.defaultSampleSize,i.defaultSampleFlags=n.defaultSampleFlags,i};return Mf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ea},set:function(t){if(!th(t,32))throw new f("Provided track id does not fit in 32 bits.");this.ea=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.ga},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!th(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.ga=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.ya},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!th(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.ra},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!th(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.ua},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!th(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.oa},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!th(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!th(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.oa=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&wv(this.defaultSampleFlags,n)},n}(oh);function jv(t){var n=t.data,e=n.nextUint8(),i=new jf(Yf.from(n.nextUint8Array(3)));i.skipBits(6);var r=Boolean(i.readBit()),u=Boolean(i.readBit());i.skipBits(10);var o=Boolean(i.readBit()),s=Boolean(i.readBit()),a=Boolean(i.readBit());i.skipBits(1);var c=Boolean(i.readBit()),f=Boolean(i.readBit()),h=n.nextUint32(),v=f?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=a?n.nextUint32():void 0,w=s?n.nextUint32():void 0,g=o?Ph(new jf(Yf.from(n.nextUint8Array(4)))):void 0;return new Wv({trackId:h,defaultBaseIsMoof:r,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:w,defaultSampleFlags:g},e)}ki(),Vt();var Gv=function(t){var n=function(n,e,i){var r=t.call(this,"trun",n,function(t){var n,e,i,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(e=t.sampleSizePresent)&&void 0!==e&&e,sampleFlagsPresent:null!==(i=t.sampleFlagsPresent)&&void 0!==i&&i,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(e))||this;return r.dataOffset=e.dataOffset,r.samples=i,r.firstSampleFlags=e.firstSampleFlags,r};return Mf(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.ma},set:function(t){if(t&&!th(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.ma=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this._a},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!th(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!th(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this._a=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.pa},set:function(t){var n,e;if(!th(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var i=0,r=t;i<r.length;i++){var u=r[i];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!th(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!th(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!th(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(e=u.flags)||void 0===e?void 0:e.sampleDegradationPriority)&&!th(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!th(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.pa=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&wv(this.firstSampleFlags,n);for(var e=0,i=this.samples;e<i.length;e++){var r=i[e];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&wv(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(oh);function Xv(t){var n=t.data,e=n.nextUint8(),i=new jf(Yf.from(n.nextUint8Array(3)));i.skipBits(12);var r=Boolean(i.readBit()),u=Boolean(i.readBit()),o=Boolean(i.readBit()),s=Boolean(i.readBit());i.skipBits(5);var a=Boolean(i.readBit());i.skipBits(1);var c=Boolean(i.readBit()),f=n.nextUint32(),h={sampleDurationPresent:s,sampleSizePresent:o,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:r};c&&(h.dataOffset=n.nextInt32()),a&&(h.firstSampleFlags=Ph(new jf(Yf.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<f;d++){var l={};s&&(l.duration=n.nextUint32()),o&&(l.size=n.nextUint32()),u&&(l.flags=Ph(new jf(Yf.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===e?n.nextUint32():n.nextInt32()),v.push(l)}return new Gv(e,h,v)}var Yv=function(t){var n=function(){return t.call(this,"traf")||this};return Mf(n,t),n}(qh);function $v(t){for(var n=new Yv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"tfhd")?n.boxes.push(jv(r)):Oh(r,"tfdt")?n.boxes.push(zv(r)):Oh(r,"trun")?n.boxes.push(Xv(r)):n.boxes.push(Bh(r))}return n}var Kv=function(t){var n=function(){return t.call(this,"moof")||this};return Mf(n,t),n}(qh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"mfhd",0,0)||this;return e.sequenceNumber=n,e};Mf(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.ba},set:function(t){if(!th(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.ba=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(oh);ki(),Vt();var Jv=function(t){var n=function(n){var e=t.call(this,"frma")||this;return e.codingName=n,e};return Mf(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.ka},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Qf);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"pasp")||this;return i.hSpacing=n,i.vSpacing=e,i};Mf(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Ta},set:function(t){if(!th(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Sa},set:function(t){if(!th(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Qf);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,n)||this;return r.sample=e,r.sinf=i,r};Mf(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(qh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"sinf")||this;return r.schm=e,r.schi=i,r.frma=new Jv(n),r};Mf(n,t),n.prototype.getBoxContentSize=function(){var t,n,e,i;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(i=null===(e=this.schi)||void 0===e?void 0:e.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Qf);ki(),Vt();var Zv=function(t){var n=function(n,e,i){var r=t.call(this,"saio",n,void 0===i?0:1)||this;return r.entries=e,r.explicitAuxInfoType=i,r};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){var n=this;if(!th(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!th(t,n.bitSize)})))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ea},set:function(t){if(void 0===t)this.flags=0;else{if(!th(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!th(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(oh);(function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Mf(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,e=this.entries;n<e.length;n++){var i=e[n];t.writer.writeUInt(i,32)}}})(Zv),function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Mf(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,e=this.entries;n<e.length;n++){var i=e[n];t.writer.writeUInt(i.getHighBitsUnsigned(),32),t.writer.writeUInt(i.getLowBitsUnsigned(),32)}}}(Zv);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"saiz",0,void 0===i?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=e,r.explicitAuxInfoType=i,r};Mf(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ra},set:function(t){if(!th(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ra=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Ia},set:function(t){if(!th(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!th(t,8)})))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.Ia=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ea},set:function(t){if(void 0===t)this.flags=0;else{if(!th(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!th(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var e=0,i=this.sampleInfoSizes;e<i.length;e++){var r=i[e];n.writer.writeByte(r)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"sdtp",0,0)||this;return e.samples=n,e};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var e=0,i=this.samples;e<i.length;e++){lv(i[e],n)}}}(oh);ki(),Vt();!function(t){var n=function(n){return t.call(this,"stsd",n,0)||this};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(jh);ki(),Vt();var Qv=function(t){var n=function(n,e,i){var r=t.call(this,"sgpd",n,0)||this;return r.entries=i,r.groupingType=e,r};return Mf(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.Oa},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.Oa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(oh);(function(t){var n=function(n,e){return t.call(this,0,n,e)||this};Mf(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(Qv),function(t){var n=function(n,e,i){var r=t.call(this,1,n,i)||this;return r.defaultLength=e,r};Mf(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Ca},set:function(t){if(!th(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.Ca=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Qv),function(t){var n=function(n,e,i,r){void 0===r&&(r=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,e,i)||this).defaultSampleDescriptionIndex=r,u};Mf(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.ia},set:function(t){if(!th(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Qv);ki(),Vt();(function(t){var n=function(n){void 0===n&&(n=[]);var e=t.call(this,"stsz",0,0)||this;return e.sampleSizes=n,e};Mf(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Na},set:function(t){if(!th(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!th(t,32)})))throw new f("Not all sampleSizes can be represented in 32 bits.");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var e=0,i=this.sampleSizes;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}})(oh),function(t){var n=function(n,e){void 0===n&&(n=0),void 0===e&&(e=0);var i=t.call(this,"stsz",0,0)||this;return i.defaultSampleSize=n,i.samples=e,i};Mf(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.ua},set:function(t){if(!th(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.pa},set:function(t){if(!th(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.pa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(oh);ki(),Vt();!function(t){var n=function(){return t.call(this,"stbl")||this};Mf(n,t)}(qh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stsc",0,0)||this;return e.entries=n,e};Mf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t.firstChunk,32)||!th(t.sampleDescriptionIndex,32)||!th(t.samplesPerChunk,32)})))throw new f("Not all entries can be represented in 96 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(oh);ki(),Vt();!function(t){var n=function(){return t.call(this,"schi")||this};Mf(n,t)}(qh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"schm",0,void 0===i?0:1)||this;return r.schemeType=n,r.schemeVersion=e,r.schemeUri=i,r};Mf(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.Da},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.Da=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.Aa},set:function(t){if(!th(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.Aa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.Pa},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.Pa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(oh);ki(),Vt();var td=function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s=0);var a=t.call(this,"sidx",n,s)||this;return a.referenceId=e,a.timescale=i,a.earliestPresentationTime=r,a.firstOffset=u,a.references=o,a};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.xa},set:function(t){if(!th(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.xa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ks},set:function(t){if(!th(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.Ba},set:function(t){if(!th(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.Ba=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.La},set:function(t){if(!th(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.La=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this.Fa},set:function(t){if(!th(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,e=t;n<e.length;n++){var i=e[n];if(!th(i.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!th(i.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!th(i.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!th(i.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var e=0,i=this.references;e<i.length;e++){var r=i[e];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(oh),nd=function(t){var n=function(n,e,i,r,u,o){return void 0===o&&(o=0),t.call(this,0,n,e,i,r,u,o)||this};return Mf(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(td),ed=function(t){var n=function(n,e,i,r,u,o){return void 0===o&&(o=0),t.call(this,1,n,e,i,r,u,o)||this};return Mf(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(td);ki(),Vt();!function(t){var n=function(n,e,i){return t.call(this,"styp",n,e,i)||this};Mf(n,t)}(Zh);ki(),Vt();!function(t){var n=function(n){void 0===n&&(n=0);var e=t.call(this,"smhd",0,0)||this;return e.balance=n,e};Mf(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.Ma},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!th(nh(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.Ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(nh(this.balance,8),16),n.writer.writeUInt(0,16)}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stss",0,0)||this;return e.entries=n,e};Mf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stts",0,0)||this;return e.entries=n,e};Mf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t.sampleCount,32)||!th(t.sampleDelta,32)})))throw new f("Not all entries can be represented in 64 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"trep",0,0)||this;return e.trackId=n,e};Mf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ea},set:function(t){if(!th(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(jh);ki(),Vt();!function(t){var n=function(){return t.call(this,"udta")||this};Mf(n,t)}(qh);ki(),Vt();var id={red:0,green:0,blue:0};!function(t){var n=function(n,e){void 0===n&&(n=0),void 0===e&&(e=id);var i=t.call(this,"vmhd",0,1)||this;return i.graphicsMode=n,i.opColor=e,i};Mf(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.Ua},set:function(t){if(!th(t.red,16)||!th(t.green,16)||!th(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(oh);ki(),Vt();var rd=function(t){var n=function(n,e,i,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var o,s,a,c,f,h=this;return(h=t.call(this,n,e)||this).width=i.width,h.height=i.height,h.horizontalResolution=null!==(o=i.horizontal)&&void 0!==o?o:72,h.verticalResolution=null!==(s=i.vertical)&&void 0!==s?s:72,h.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",h.frameCount=null!==(c=r.frameCount)&&void 0!==c?c:1,h.depth=null!==(f=r.depth)&&void 0!==f?f:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h};return Mf(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.ha},set:function(t){if(!th(t,16))throw new f("Provided width does not fit in 16 bits.");this.ha=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.va},set:function(t){if(!th(t,16))throw new f("Provided height does not fit in 16 bits.");this.va=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.Va},set:function(t){if(!th(nh(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.Va=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Ha},set:function(t){if(!th(nh(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Ha=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.qa},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.qa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.za},set:function(t){if(!th(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.za=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Wa},set:function(t){if(!th(t,16))throw new f("Provided depth does not fit in 16 bits.");this.Wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,e,i,r,u,o;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(e=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==e?e:0)+(null!==(r=null===(i=this.pasp)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)+(null!==(o=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==o?o:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(nh(this.horizontalResolution,16),32),n.writer.writeUInt(nh(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var e=0;e<31-this.compressorName.length;e++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&eh(n.writer,this.extra)},n}(zh);ki(),Vt(),ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"esds",0,0)||this;return e.esDescriptor=n,e};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(Yf.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(oh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"mp4a",n,i)||this;return r.esd=e,r};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Wh);ki(),Vt();!function(t){var n=function(n,e,i,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,e,r)||this;return u.esDescriptor=i,u};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(rd);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"mp4s",n)||this;return i.esDescriptor=e,i};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(zh);ki(),Vt(),ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"avcC")||this;return e.decoderConfig=n,e};Mf(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Qf);ki(),Vt();var ud;ud=function(t,n,e,i,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=e,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=i,this.ppsSets=r},v.defineProperty(ud.prototype,"version",{get:function(){return this.ja},set:function(t){if(!th(t,8))throw new f("Provided version does not fit in 8 bits.");this.ja=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"profileIndication",{get:function(){return this.Ga},set:function(t){if(!th(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.Ga=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"profileCompatibility",{get:function(){return this.Xa},set:function(t){if(!th(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.Xa=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"levelIndication",{get:function(){return this.Ya},set:function(t){if(!th(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.Ya=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"spsSets",{get:function(){return this.$a},set:function(t){if(!th(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.$a=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"ppsSets",{get:function(){return this.Ka},set:function(t){if(!th(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.Ka=t},enumerable:!1,configurable:!0}),ud.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},ud.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,e=this.spsSets;n<e.length;n++){var i=e[n];t.writer.writeUInt(i.length,16),t.concat(Yf.from(i))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var o=u[r];t.writer.writeUInt(o.length,16),t.concat(Yf.from(o))}};ki(),Vt();!function(t){var n=function(n,e,i,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var o=t.call(this,"avc1",n,e,r)||this;return o.configurationBox=i,o.bitrateBox=u,o};Mf(n,t),n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(e=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(rd);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=e,r.avg=i,r};Mf(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Ss},set:function(t){if(!th(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.Ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.Ja},set:function(t){if(!th(t,32))throw new f("Provided max does not fit in 32 bits.");this.Ja=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.Za},set:function(t){if(!th(t,32))throw new f("Provided avg does not fit in 32 bits.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Qf);ki(),Vt(),ki(),Vt(),ki(),Vt();var od=function(t){var n=function(n,e){var i,r,u,o,s=this;if(s=t.call(this,"tenc",n,0)||this,e.perSampleIvSize>0&&(null!==(r=null===(i=e.constantIv)||void 0===i?void 0:i.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return s.kId=e.kId,s.isProtected=null!==(u=e.isProtected)&&void 0!==u?u:1,e.perSampleIvSize>0?s.perSampleIvSize=e.perSampleIvSize:s.constantIv=null!==(o=e.constantIv)&&void 0!==o?o:new y(0),s};return Mf(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.Qa},set:function(t){if(!th(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.Qa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.tc},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.tc=t,this.nc=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.ec},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.ec=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.nc},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.nc=t,this.tc=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),eh(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),eh(t.writer,this.constantIv))},n}(oh),sd=(function(t){var n=function(n){return t.call(this,0,n)||this};Mf(n,t)}(od),function(t){var n=function(n){var e=t.call(this,1,n)||this;return e.cryptByteBlocks=n.cryptByteBlock,e.skipByteBlocks=n.skipByteBlock,e};return Mf(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.ic},set:function(t){if(!th(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.ic=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.rc},set:function(t){if(!th(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.rc=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(od));!function(t){var n=function(n){var e=t.call(this)||this;return e.tencBox=new sd(n),e};Mf(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(gv);function ad(t){return void 0!==t.iv}function cd(t){return void 0!==t.subsamples}ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return e.samples=n,e};Mf(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.pa},set:function(t){var n;if(!th(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var e=0,i=t;e<i.length;e++){var r=i[e];if(ad(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=cd(r)),!0===n&&!cd(r)||!1===n&&cd(r))throw new f("Mix of samples with and without subsamples detected.");if(cd(r)){if(!th(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];if(!th(s.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!th(s.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.pa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,e=0,i=this.samples;e<i.length;e++){var r=i[e];ad(r)&&(n+=r.iv.length),cd(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var e=0,i=this.samples;e<i.length;e++){var r=i[e];if(ad(r)&&eh(n.writer,r.iv),cd(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];n.writer.writeUInt(s.clearData,16),n.writer.writeUInt(s.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(oh);ki(),Vt(),ki(),Vt();!function(t){var n=function(n,e,i,r,u){var o=t.call(this,"emsg",0,0)||this;return o.schemeIdUri=n,o.value=e,o.data=u,o.id=i,o.timescale=r.timescale,o.presentationTimeDelta=r.presentationTimeDelta,o.eventDuration=r.eventDuration,o};Mf(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ks},set:function(t){if(!th(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.uc},set:function(t){if(!th(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.uc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.oc},set:function(t){if(!th(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.oc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.sc},set:function(t){if(!th(t,32))throw new f("The provided id does not fit in 32 bits.");this.sc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Yf.from(this.data))}}(oh);ki(),Vt(),ki(),Vt(),ki(),Vt();var fd;(fd=function(){this.boxes=[]}).prototype.serialize=function(){for(var t=new Zf,n=0,e=this.boxes;n<e.length;n++){var i=e[n];t.concat(i.serialize())}return t.toRangedBuffer()};function hd(t,n){return function(e){var i,r=function(t,n){for(var e=t.data,i=t.cursor;i.offset<e.byteLength;){var r=Nh(e,i);if(!r.complete)return;if(Oh(r.box,n))return r.box}}(new Ih((i=e,new DataView(i.buffer,i.byteOffset,i.byteLength)),new Eh),t);if(!r)throw new f("".concat(t," box not found"));return n(r)}}hd("moov",(function(t){for(var n=new Uv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"mvhd")?n.boxes.push(Av(r)):Oh(r,"trak")?n.boxes.push(Mv(r)):Oh(r,"mvex")?n.boxes.push(Ov(r)):Oh(r,"pssh")?n.boxes.push(pv(r)):n.boxes.push(Bh(r))}return n})),hd("sidx",(function(t){var n,e,i=t.data,r=Dh(i.nextUint32()),u=r.version,o=r.flags,s=i.nextUint32(),a=i.nextUint32();0===u?(n=i.nextUint32(),e=i.nextUint32()):(n=i.nextUint64(),e=i.nextUint64()),i.skip(2);for(var c=i.nextUint16(),f=[],h=0;h<c;h++){var v=new jf(Yf.from(i.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),w=v.readUInt(32),g=Boolean(v.readBit()),y=v.readUInt(3),m=v.readUInt(28);f.push({referenceType:d,referencedSize:l,subsegmentDuration:w,startsWithSap:g,sapType:y,sapDeltaTime:m})}return 0===u?new nd(s,a,n,e,f,o.raw):new ed(s,a,n,e,f,o.raw)})),hd("moof",(function(t){for(var n=new Kv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"traf")?n.boxes.push($v(r)):Oh(r,"pssh")?n.boxes.push(pv(r)):n.boxes.push(Bh(r))}return n}));var vd=hd("pssh",pv),dd=function(t){function n(n,e){var i;(i=t.call(this)||this).ac=n,i.cc=e,i.fc=!1,i.hc=function(){i.vc()},i.dc=function(t){i.lo(new Oc(lu(i),t.messageType,xf(i.cc,t.message)))},i.lc=function(){i.fc=!0,i.wc.zo>0&&(i.wc.qo(),i.lo(new Ic(lu(i)))),i.ac.removeEventListener("keystatuseschange",i.hc),i.ac.removeEventListener("message",i.dc)},i.ac.addEventListener("keystatuseschange",i.hc),i.ac.addEventListener("message",i.dc),i.wc=new Ac;var r=[];return i.ac.closed&&r.push(G.resolve(i.ac.closed)),i.gc=new Af,r.push(i.gc.Zo),i.Y=G.race(r).then(i.lc,i.lc),i.vc(),i}Yi(n,t);var e=n.prototype;return e.yc=function(){if(this.fc)return this.Y;var t=[];return t.push(G.resolve(this.ac.close())),t.push(yc(1e3)),this.gc.ao(G.race(t).catch(ld)),this.fc=!0,this.Y},e.mc=function(t,n,e){if(sr.qe){var i=vd(If(n));if(1===i.version)n=new mv(i.systemId,i.data).serialize().join()}return G.resolve(this.ac.generateRequest(t,n)).catch(ld)},e._c=function(t){return G.resolve(this.ac.load(t)).catch(ld)},e.bc=function(){return G.resolve(this.ac.remove()).catch(ld)},e.kc=function(t){return G.resolve(this.ac.update(t)).catch(ld)},e.vc=function(){var t=this;this.wc.qo(),this.ac.keyStatuses.forEach((function(n,e){t.Tc(e,n)})),this.lo(new Ic(this))},e.Tc=function(t,n){if("string"==typeof t){var e=t;t=n,n=e}var i=If(t);if(this.cc===pa&&16===i.byteLength){var r=Sf(i),u=r.getUint32(0,!0),o=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,o,!1),r.setUint16(6,s,!1)}this.cc===pa&&"status-pending"===n&&(n="usable"),this.wc.Ho(i,n)},Ri(n,[{key:"Sc",get:function(){return this.Y}},{key:"Ec",get:function(){return this.ac.expiration}},{key:"Rc",get:function(){return this.wc}},{key:"Ic",get:function(){return this.ac.sessionId}}]),n}(pc);function ld(t){var n;if(t.message){var e=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);e&&(n=0|l(e[1],16))}throw new Lf(t.message,void 0,n,t)}var wd=function(){function t(t,n,e){this.Oc=t,this.Cc=n,this.Nc=e}var n=t.prototype;return n.Dc=function(t){var n=this;return ta((function(){return ea(this,(function(e){return[2,new dd(n.Oc.createSession(t),n.Cc)]}))}))()},n.Ac=function(t){return G.resolve(this.Oc.setServerCertificate(t))},n.Pc=function(t){return G.resolve(t.setMediaKeys(this.Oc))},n.xc=function(t){return G.resolve(t.setMediaKeys(null))},n.Bc=function(){return G.resolve()},t}(),gd=function(){function t(t,n,e){this.Lc=t,this.cc=n,this.Fc=e}var n=t.prototype;return n.Mc=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return[4,t.Lc.createMediaKeys()];case 1:return n=e.sent(),[2,new wd(n,t.cc,t.Fc)]}}))}))()},n.Uc=function(){return this.Fc},Ri(t,[{key:"Cc",get:function(){return this.Lc.keySystem}}]),t}();function yd(t){var n=t.trim(),e=n.indexOf(";");return e<0?n:n.substr(0,e).trim()}function md(t,n,e,i){var r=!1;if(!(i.persistentState&&"optional"!==i.persistentState||i.distinctiveIdentifier&&"optional"!==i.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label,Vc:i.Vc},o=!1;if(i.audioCapabilities){var s=i.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));s.length&&(u.audioCapabilities=s.filter((function(i){return _d(t,n,e,i)})),o=!0,u.audioCapabilities.length&&(r=!0))}if(i.videoCapabilities){var a=i.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(i){return _d(t,n,e,i)})),o=!0,u.videoCapabilities.length&&(r=!0))}return o||(r=t(e,"video/mp4")),r?u:void 0}}function _d(t,n,e,i){return!!i.contentType&&(!(i.encryptionScheme&&!nc(n,i.encryptionScheme))&&(!i.robustness&&t(e,yd(i.contentType))))}function pd(t){if(t.videoCapabilities)for(var n=0,e=t.videoCapabilities;n<e.length;n++){var i=e[n];if(i.contentType)return i.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var o=u[r];if(o.contentType)return o.contentType}}function bd(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i.encryptionScheme&&n.push({contentType:i.contentType,robustness:i.robustness})}return t.concat(n)}function kd(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Td))||!(!t.videoCapabilities||!t.videoCapabilities.some(Td))}function Td(t){return!t.robustness}function Sd(t,n){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.robustness?e.push(r):e.push(na({},r,{robustness:n}))}return e}ki(),Vt(),ki(),Vt();var Ed=function(){function t(){}return t.prototype.zu=function(t,n){return ta((function(){var e,i,r,o,s,a,c;return ea(this,(function(f){switch(f.label){case 0:for(n=n.filter((function(t){return!t.Vc})),e=0;e<n.length;e++)(i=n[e]).audioCapabilities&&(i.audioCapabilities=bd(i.audioCapabilities)),i.videoCapabilities&&(i.videoCapabilities=bd(i.videoCapabilities));if(t!==Ta||!n.some(kd))return[3,4];r=n.map((function(t){return function(t,n){return na({},t,{videoCapabilities:t.videoCapabilities?Sd(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?Sd(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,u.requestMediaKeySystemAccess(t,r)];case 2:return o=f.sent(),s=o.getConfiguration(),[2,new gd(o,t,s)];case 3:return f.sent(),[3,4];case 4:return[4,u.requestMediaKeySystemAccess(t,n)];case 5:return a=f.sent(),c=a.getConfiguration(),[2,new gd(a,t,c)]}}))}))()},t.Hc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}();ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii();var Rd=function(t){function n(n,e){var i;return(i=t.call(this)||this).qc=n,i.zc=e,i.fc=!1,i.Wc=void 0,i.jc=void 0,i.Gc=void 0,i.lc=function(){i.fc=!0,i.Xc.Qo(void 0),i.Gc&&(i.Gc.removeEventListener("mskeyclose",i.lc),i.Gc.removeEventListener("mskeymessage",i.Yc),i.Gc.removeEventListener("mskeyerror",i.$c),i.Gc.removeEventListener("mskeyadded",i.Kc))},i.Yc=function(t){i.jc&&(i.jc.Qo(void 0),i.jc=void 0),i.lo(new Oc(lu(i),"license-request",Cf(t.message).buffer,t.destinationURL||void 0))},i.$c=function(){var t=i.Gc&&i.Gc.error;if(t){var n=new Lf("Unknown CDM error",t.code,t.systemCode);if(i.jc)i.jc.ts(n),i.jc=void 0;else if(i.Wc)i.Wc.ts(n),i.Wc=void 0;else switch(n.es){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:i.Jc("output-not-allowed");break;default:i.Jc("internal-error")}}},i.Kc=function(){i.jc&&(i.Jc("usable"),i.jc.Qo(void 0),i.jc=void 0),i.Wc&&(i.Jc("usable"),i.Wc.Qo(void 0),i.Wc=void 0)},i.Xc=new Af,i.Zc=new Ac,i}Yi(n,t);var e=n.prototype;return e.mc=function(t,n,e){var i=this;return ta((function(){return ea(this,(function(t){switch(t.label){case 0:return i.Qc(),i.jc=new Af,i.Dc(If(n),e),[4,i.jc.Zo];case 1:return t.sent(),[2]}}))}))()},e.Dc=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var e,i=n&&n.playready&&n.playready.tf;return(e=n?this.qc.createSession(this.zc,t,i):this.qc.createSession(this.zc,t)).addEventListener("mskeyclose",this.lc),e.addEventListener("mskeymessage",this.Yc),e.addEventListener("mskeyerror",this.$c),e.addEventListener("mskeyadded",this.Kc),this.Gc=e,this.Jc("status-pending"),e},e._c=function(t){var n=this;return ta((function(){return ea(this,(function(t){return n.Qc(),[2,!0]}))}))()},e.kc=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:if(n.Wc=new Af,n.Qc(),!n.Gc)return[2,G.resolve()];if(0===(e=If(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.Gc.update(e),[4,n.Wc.Zo];case 1:return i.sent(),[2]}}))}))()},e.yc=function(){return!this.fc&&this.Gc&&(this.fc=!0,this.Gc.close()),this.Xc.Zo},e.bc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.Qc(),[2]}))}))()},e.Qc=function(){if(this.fc)throw new h("Already closing or closed.")},e.Jc=function(t){this.Zc.qo(),this.Zc.Ho(Dc,t),this.lo(new Ic(this))},Ri(n,[{key:"Ic",get:function(){return this.Gc&&this.Gc.sessionId||""}},{key:"Ec",get:function(){return NaN}},{key:"Sc",get:function(){return this.Xc.Zo}},{key:"Rc",get:function(){return this.Zc}}]),n}(pc),Id=function(){function t(t,n,e){this.qc=t,this.Cc=n,this.Nc=e;var i=pd(e)||"video/mp4";this.zc=yd(i)}var n=t.prototype;return n.Dc=function(t){var n=this;return ta((function(){return ea(this,(function(t){return[2,new Rd(n.qc,n.zc)]}))}))()},n.Ac=function(t){return G.resolve(!1)},n.Pc=function(t){var n=this,e=function(){t.msSetMediaKeys(n.qc),t.removeEventListener("loadedmetadata",e)};return t.readyState>=1?t.msSetMediaKeys(this.qc):t.addEventListener("loadedmetadata",e),G.resolve()},n.xc=function(t){return G.resolve()},n.Bc=function(){return G.resolve()},t}();Ti();var Od=function(){function t(t,n){this.cc=t,this.nf=n}var n=t.prototype;return n.Uc=function(){return this.nf},n.Mc=function(){var t=new mi.MSMediaKeys(this.cc);return G.resolve(new Id(t,this.cc,this.nf))},Ri(t,[{key:"Cc",get:function(){return this.cc}}]),t}();Ti();var Cd=function(){function t(){}return t.prototype.zu=function(t,n){try{return G.resolve(function(t,n){if(!Nd())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=md(Dd,Ec,t,i);if(r)return new Od(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.Hc=function(){return Nd()},t}();function Nd(){return void 0!==mi.MSMediaKeys&&"function"==typeof mi.MSMediaKeys.isTypeSupported}function Dd(t,n){return mi.MSMediaKeys.isTypeSupported(t,n)}ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii();var Ad,Pd,xd,Bd,Ld=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).ef=n,r.zc=e,r.if=i,r.Xc=new Af,r.rf=void 0,r.Zc=new Ac,r.uf=void 0,r.sf=new Af,r.$c=function(){var t=r.uf&&r.uf.error;if(t){var n=new Lf("Unknown CDM error",t.code,t.systemCode);r.rf?(r.rf.ts(n),r.rf=void 0):n.es===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Jc("output-not-allowed"):r.Jc("internal-error"),r.lo(new Cc)}},r.Yc=function(t){r.lo(new Oc(lu(r),"license-request",Cf(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Kc=function(){r.rf&&(r.rf.Qo(void 0),r.rf=void 0),r.Jc("usable")},r}Yi(n,t);var e=n.prototype;return e.mc=function(t,n,e){var i=e&&e.fairplay&&e.fairplay.af;if(!i)throw new h("Expected FairPlay contentId to be defined but was "+i+".");var r=Fd(If(n),i,this.if);return this.uf=this.ef.createSession(this.zc,r),this.uf.addEventListener("webkitkeymessage",this.Yc,!1),this.uf.addEventListener("webkitkeyadded",this.Kc,!1),this.uf.addEventListener("webkitkeyerror",this.$c,!1),this.Jc("status-pending"),this.sf.Qo(this.uf),this.sf=new Af,G.resolve()},e._c=function(t){return G.resolve(!0)},e.kc=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:if(0===(e=If(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.rf=new Af,(i=n.uf)?[3,2]:[4,n.sf.Zo];case 1:i=r.sent(),r.label=2;case 2:return i.update(e),[4,n.rf.Zo];case 3:return r.sent(),[2]}}))}))()},e.yc=function(){var t,n=this.uf;return n&&(n.removeEventListener("webkitkeymessage",this.Yc,!1),n.removeEventListener("webkitkeyadded",this.Kc,!1),n.removeEventListener("webkitkeyerror",this.$c,!1),n.close()),this.sf.so(),null==(t=this.rf)||t.so(),this.Xc.Qo(void 0),this.Xc.Zo},e.bc=function(){return G.resolve(void 0)},e.Jc=function(t){this.Zc.qo(),this.Zc.Ho(Dc,t),this.lo(new Ic(this))},Ri(n,[{key:"Ic",get:function(){return this.uf?this.uf.sessionId:""}},{key:"Ec",get:function(){return NaN}},{key:"Sc",get:function(){return this.Xc.Zo}},{key:"Rc",get:function(){return this.Zc}}]),n}(pc);function Fd(t,n,e){var i=bf(t),r=2*i.length,u=2*n.length,o=new ArrayBuffer(4+r+4+u+4+e.byteLength),s=new DataView(o),a=new Df;return af(s,a,r,!0),wf(s,a,i,!0),af(s,a,u,!0),wf(s,a,n,!0),af(s,a,e.byteLength,!0),function(t,n,e){Ef(t).set(Ef(e),n.Yo),n.jo(e.byteLength)}(s,a,e),new y(o)}ki(),Vt(),Ii(),ki(),Vt(),(Pd=Ad||(Ad={}))[Pd.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Pd[Pd.LICENSE_ERROR=2e3]="LICENSE_ERROR",Pd[Pd.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Pd[Pd.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Pd[Pd.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Pd[Pd.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Pd[Pd.SOURCE_INVALID=3e3]="SOURCE_INVALID",Pd[Pd.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Pd[Pd.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Pd[Pd.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Pd[Pd.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Pd[Pd.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Pd[Pd.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Pd[Pd.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Pd[Pd.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Pd[Pd.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Pd[Pd.NETWORK_ERROR=6e3]="NETWORK_ERROR",Pd[Pd.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Pd[Pd.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Pd[Pd.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Pd[Pd.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Pd[Pd.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Pd[Pd.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Pd[Pd.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Pd[Pd.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Pd[Pd.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Pd[Pd.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Pd[Pd.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Pd[Pd.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Pd[Pd.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Pd[Pd.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Pd[Pd.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Pd[Pd.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Pd[Pd.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Pd[Pd.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Pd[Pd.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Pd[Pd.AD_ERROR=1e4]="AD_ERROR",Pd[Pd.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Pd[Pd.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",Pd[Pd.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",Pd[Pd.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",(Bd=xd||(xd={}))[Bd.CONFIGURATION=1]="CONFIGURATION",Bd[Bd.LICENSE=2]="LICENSE",Bd[Bd.SOURCE=3]="SOURCE",Bd[Bd.MANIFEST=4]="MANIFEST",Bd[Bd.MEDIA=5]="MEDIA",Bd[Bd.NETWORK=6]="NETWORK",Bd[Bd.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Bd[Bd.SUBTITLE=8]="SUBTITLE",Bd[Bd.VR=9]="VR",Bd[Bd.AD=10]="AD",Bd[Bd.FULLSCREEN=11]="FULLSCREEN",Bd[Bd.CACHE=12]="CACHE",(xd||(xd={})).fromCode=function(t){var n=d.floor(t/1e3);if(n in xd)return n;throw new h("Invalid error code: "+t)};var Md=function(t){function n(n,e,i){var r;return(r=t.call(this,e,i)||this).code=n,r}return Yi(n,t),Ri(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return xd.fromCode(this.code)}}]),n}(gu);var Ud=function(){function t(t,n,e){this.ef=t,this.Cc=n,this.Nc=e,this.if=void 0;var i=pd(e)||"video/mp4";this.zc=yd(i)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.ef},n.Dc=function(t){var n=this;return ta((function(){return ea(this,(function(t){if(!n.if)throw new Md(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new Ld(n.ef,n.zc,n.if)]}))}))()},n.Ac=function(t){return this.if=If(t),G.resolve(!0)},n.Pc=function(t){return t.webkitSetMediaKeys(this.ef),G.resolve()},n.xc=function(t){return t.webkitSetMediaKeys(null),G.resolve()},n.Bc=function(){return G.resolve()},t}();Ti();var Vd=function(){function t(t,n){this.cc=t,this.nf=n}var n=t.prototype;return n.Uc=function(){return this.nf},n.Mc=function(){var t=new mi.WebKitMediaKeys(this.cc);return G.resolve(new Ud(t,this.cc,this.nf))},Ri(t,[{key:"Cc",get:function(){return this.cc}}]),t}();Ti();var Hd=function(){function t(){}return t.prototype.zu=function(t,n){try{return G.resolve(function(t,n){if(t!==Ia)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!qd())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=md(zd,Rc,t,i);if(r)return new Vd(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.Hc=function(){return qd()},t}();function qd(){return void 0!==mi.WebKitMediaKeys&&"function"==typeof mi.WebKitMediaKeys.isTypeSupported}function zd(t,n){return mi.WebKitMediaKeys.isTypeSupported(t,n)}ki(),Vt();var Wd=function(){function t(t){this.cf=t}return t.prototype.zu=function(t,n){var e=this;return ta((function(){var i,r,u;return ea(this,(function(o){switch(o.label){case 0:i=0,r=e.cf,o.label=1;case 1:if(!(i<r.length))return[3,6];u=r[i],o.label=2;case 2:return o.trys.push([2,4,,5]),[4,u.zu(t,n)];case 3:return[2,o.sent()];case 4:return o.sent(),[3,5];case 5:return i++,[3,1];case 6:throw new h("Unsupported key system configuration for "+t)}}))}))()},t}();ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt();var jd=function(){function t(t){var n=this;this.ff=[],this.hf=void 0,this.vf=new rc,this.df=function(){return 0===n.ff.length?n.lf?Gd(n.lf,n.vf.fo).then(n.wf,n.wf):n.wf():n.ff.shift()().then(n.df)},this.wf=function(){if(0!==n.ff.length)return n.df();n.hf=void 0},this.lf=t}var n=t.prototype;return n.gf=function(t,n){var e=this;return new G((function(i){var r=new rc;r.ao(e.vf.fo),n&&r.ao(n);var u=function(){r.Qu()};e.ff.push((function(){var n=Gd(t,r.fo);return i(n),n.then(u,u)})),e.hf||(e.hf=e.df())}))},n.so=function(){return this.yf(!0)},n.kn=function(){return this.lf=void 0,this.yf(!1)},n.yf=function(t){var n=this.hf;return this.vf.so(),t&&(this.vf=new rc),G.resolve(n)},t}();function Gd(t,n){return new G((function(e){return e(t(n))}))}var Xd,Yd=new jd,$d=function(t){function n(n){var e;return(e=t.call(this)||this).cc=n,e.jc=void 0,e.rf=void 0,e.Nn=!1,e.mf=void 0,e._f=void 0,e.Xc=new Af,e.pf="",e.bf=new Af,e.kf=new Ac,e}Yi(n,t);var e=n.prototype;return e.Tf=function(){this.rf&&(this.Jc("usable"),this.rf.Qo(void 0),this.rf=void 0)},e.Sf=function(t){var n=new Lf("Unknown CDM error",t.errorCode,t.systemCode);this.rf?(this.rf.ts(n),this.rf=void 0):this.jc?(this.jc.ts(n),this.jc=void 0):n.es===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Jc("output-restricted"):1===n.rs?this.Jc("expired"):this.Jc("internal-error")},e.Ef=function(t){0!==t.message.byteLength&&(this.jc&&(this.jc.Qo(void 0),this.jc=void 0),this.lo(new Oc(this,"license-request",xf(this.cc,Cf(t.message).buffer),t.defaultURL||void 0)))},e.Rf=function(t){this._f||(this._f=t,this.bf.Qo(t))},e.yc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.throwIfClosed(),t.rf&&(t.rf.ts(void 0),t.rf=void 0),t.Nn=!0,t.Xc.Qo(void 0),[2]}))}))()},e.mc=function(t,n){var e=this;return ta((function(){var t;return ea(this,(function(i){switch(i.label){case 0:return e.throwIfClosed(),e.jc=new Af,e.mf=If(n),(t=e._f)?[3,2]:[4,e.bf.Zo];case 1:t=i.sent(),i.label=2;case 2:return t.webkitGenerateKeyRequest(e.cc,e.mf),[4,e.jc.Zo];case 3:return i.sent(),[2]}}))}))()},e._c=function(t){var n=this;return ta((function(){return ea(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},e.bc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.throwIfClosed(),[2]}))}))()},e.kc=function(t){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return n.throwIfClosed(),n.rf=new Af,sr.Ze||sr.Ke?[2,Yd.gf(ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,n.doUpdate(t)];case 1:return e.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return e.sent(),[2]}}))}))()},e.doUpdate=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return void 0===n.rf?[2]:(e=n._f)?[3,2]:[4,n.bf.Zo];case 1:e=i.sent(),i.label=2;case 2:return e.webkitAddKey(n.cc,If(t),n.mf,n.Ic),[4,n.rf.Zo];case 3:return i.sent(),[2]}}))}))()},e.throwIfClosed=function(){if(this.Nn)throw new h("Already closing or closed.")},e.Jc=function(t){this.kf.qo(),this.kf.Ho(Dc,t),this.lo(new Ic(this))},e.If=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:return(e=t._f)?[3,2]:[4,t.bf.Zo];case 1:e=i.sent(),i.label=2;case 2:if(!(n=e).webkitCancelKeyRequest)return[3,7];i.label=3;case 3:return i.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.cc,t.pf),[3,7];case 4:return i.sent(),[3,7];case 5:return[4,yc(500)];case 6:return i.sent(),[7];case 7:return[2]}}))}))()},Ri(n,[{key:"Rc",get:function(){return this.kf}},{key:"Ic",get:function(){return this.pf},set:function(t){this.pf=t}},{key:"Sc",get:function(){return this.Xc.Zo}},{key:"Ec",get:function(){return NaN}}]),n}(pc),Kd=function(){function t(t,n){var e=this;this.Cc=t,this.Nc=n,this._f=void 0,this.Of=ua(),this.Cf=[],this.Kc=function(t){var n=e.Nf(t.sessionId);n&&n.Tf()},this.Df=function(t){var n=e.Nf(t.sessionId);n&&n.Sf(t)},this.Af=function(t){var n=e.Nf(t.sessionId);n&&n.Ef(t)}}var n=t.prototype;return n.Pc=function(t){return this._f=t,this._f.addEventListener("webkitkeyadded",this.Kc),this._f.addEventListener("webkitkeyerror",this.Df),this._f.addEventListener("webkitkeymessage",this.Af),this.Of.forEach((function(n,e){return n.Rf(t)})),this.Cf.forEach((function(n){return n.Rf(t)})),G.resolve()},n.xc=function(t){return t.removeEventListener("webkitkeyadded",this.Kc),t.removeEventListener("webkitkeyerror",this.Df),t.removeEventListener("webkitkeymessage",this.Af),this._f=void 0,G.resolve()},n.Bc=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:n=t.Of.entries(),e=n.next(),i.label=1;case 1:return e.done?[3,3]:[4,e.value[1].If()];case 2:return i.sent(),e=n.next(),[3,1];case 3:return t.Of.clear(),[2]}}))}))()},n.Dc=function(t,n,e){var i=this;return ta((function(){var t;return ea(this,(function(n){return t=new $d(i.Cc),i._f&&t.Rf(i._f),i.Cf.push(t),[2,t]}))}))()},n.Ac=function(t){return G.resolve(!1)},n.Nf=function(t){if(t){var n=this.Of.get(t);return n||((n=this.Cf.shift())?(n.Ic=t,this.Of.set(t,n),n):void 0)}},t}(),Jd=function(){function t(t,n){this.Cc=t,this.Pf=n}var n=t.prototype;return n.Mc=function(){return G.resolve(new Kd(this.Cc,this.Pf))},n.Uc=function(){return this.Pf},t}(),Zd=function(){function t(){}return t.prototype.zu=function(t,n){try{return G.resolve(function(t,n){if(!Zd.Hc())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=md(Qd,Ec,t,i);if(r)return new Jd(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.Hc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Qd(t,n){var e=Ps();return!(!e||!e.canPlayType||""===e.canPlayType(n,t))}function tl(){return Xd||(Xd=function(){var t=[];Hd.Hc()&&t.push(new Hd);Ed.Hc()&&t.push(new Ed);Cd.Hc()&&t.push(new Cd);Zd.Hc()&&t.push(new Zd);return new Wd(t)}()),Xd}ki(),Vt(),ki(),Vt();var nl=function(){function t(){this.xf=ua()}var n=t.prototype;return n.qo=function(t){this.xf.delete(t)},n.Bf=function(){this.xf.clear()},n.Uo=function(t){return this.xf.get(t)},n.Lf=function(t,n){this.xf.set(t,n)},t}(),el=function(){function t(){}return t.Ff=function(){return t._i||(t._i=il.Hc()?new il:new nl),t._i},t.qo=function(n){t.Ff().qo(n)},t.Bf=function(){t.Ff().Bf()},t.Uo=function(n){return t.Ff().Uo(n)},t.Lf=function(n,e){t.Ff().Lf(n,e)},t}();el._i=void 0;var il=function(n){function e(){return n.apply(this,arguments)}Yi(e,n);var i=e.prototype;return i.qo=function(n){t.sessionStorage.removeItem(n)},i.Bf=function(){t.sessionStorage.clear()},i.Uo=function(n){return t.sessionStorage[n]},i.Lf=function(n,e){t.sessionStorage[n]=e},e.Hc=function(){var n="foobar";try{return t.sessionStorage.setItem(n,n),t.sessionStorage.removeItem(n),!0}catch(t){return!1}},e}(el);ki(),Vt(),ki(),Vt();var rl=function(){var n,e=t.Blob;if(e)try{return new e,n=e,function(t,e){return new n(t,e)}}catch(t){}var i,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return i=r,function(t,n){var e=new i;if(t)for(var r=0;r<t.length;r++){var u=t[r];e.append(u)}return e.getBlob(n&&n.type||"")}}();function ul(t,n,e){var r=rl([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),o=function(t,n){var e=t,i=e.indexOf("?");if(i>=0&&(e=e.substr(0,i)),e=e.substr(e.lastIndexOf("/")+1),n){var r=e.indexOf(".");r<0&&(r=e.length),e=e.substr(0,r)+n+e.substr(r)}return e}(t,e),s=i.createElement("a");s.href=u,s.download=o,i.body.appendChild(s),s.click(),i.body.removeChild(s),URL.revokeObjectURL(u)}ki(),Vt();var ol,sl,al,cl,fl="default",hl="unknown";ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),(sl=ol||(ol={})).Mf="Uf",sl.Vf="Hf",sl.qf="contentprotectionerror",sl.zf="contentprotectionsuccess",sl.Wf="currentsourcechange",sl.jf="destroy",sl.Gf="durationchange",sl.Xf="emptied",sl.Ao="encrypted",sl.Yf="ended",sl.$f="Kf",sl.Jf="loadstart",sl.Zf="manifestupdate",sl.Qf="nosupportedrepresentationfound",sl.th="offline",sl.nh="online",sl.eh="pause",sl.ih="play",sl.rh="progress",sl.uh="ratechange",sl.oh="representationchange",sl.sh="resize",sl.ah="seeked",sl.fh="seeking",sl.hh="segmentnotfound",sl.dh="lh",sl.wh="gh",sl.yh="sourcechange",sl.mh="timeupdate",sl._h="volumechange",sl.ph="bh",sl.kh="metricschange",ki(),Vt(),ki(),Vt(),(cl=al||(al={})).Th="arraybuffer",cl.Sh="json",cl.Eh="stream",cl.Si="text",ki(),Vt();var vl=function(){function t(n){var e=this;this.Ou={},n instanceof t?n.asList().forEach((function(t){var n=ia(t,2),i=n[0],r=n[1];e.append(i,r)})):Array.isArray(n)?n.forEach((function(t){e.append(t[0],t[1])})):n&&v.getOwnPropertyNames(n).forEach((function(t){e.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var e=t,i=n;e=dl(e),i=ll(i);var r=e.toLowerCase();if(this.Ou.hasOwnProperty(r)){var u=this.Ou[r],o=u[1];u[1]=o?o+", "+i:i}else this.Ou[r]=[e,i]},n.delete=function(t){var n=dl(t).toLowerCase();delete this.Ou[n]},n.get=function(t){var n=dl(t).toLowerCase();return this.Ou.hasOwnProperty(n)?this.Ou[n][1]:null},n.has=function(t){var n=dl(t).toLowerCase();return this.Ou.hasOwnProperty(n)},n.set=function(t,n){var e=t,i=(e=dl(e)).toLowerCase();this.Ou[i]=[e,ll(n)]},n.forEach=function(t,n){for(var e in this.Ou)this.Ou.hasOwnProperty(e)&&t.call(n,this.Ou[e][1],e,this)},n.asList=function(){var t=[];for(var n in this.Ou)if(this.Ou.hasOwnProperty(n)){var e=ia(this.Ou[n],2),i=e[0],r=e[1];t.push([i,r])}return t},n.Rh=function(){var t={};return this.forEach((function(n,e){t[e]=n})),t},n.Ih=function(t){var n=this;t.forEach((function(t,e){n.append(e,t)}))},n.Oh=function(t){var n=this;t.forEach((function(t,e){n.set(e,t)}))},t}();function dl(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function ll(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),bi(),ki(),Vt(),Ii();var wl,gl,yl=function(t){function n(n){var e;return(e=t.call(this,""+n.join("\n"),n[0])||this).causes=n,e}return Yi(n,t),Ri(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(gu);function ml(t){return n=[t],new Lt({start:function(t){for(var e=0;e<n.length;e++){var i=n[e];t.enqueue(i)}t.close()}});var n}function _l(t){return ml(new y(t))}function pl(t,n){return function(t,n){var e=n,i=t.getReader(),r=new Af,u=function(){o();var t=new uc;i.cancel(t).catch(pr),r.ts(t)},o=function(){e&&(e.io(u),e=void 0)};e&&(e.Yu?u():e.eo(u));var s=[],a=function(t){return t.done?(o(),G.resolve(s)):(s.push(t.value),G.resolve(i.read()).then(a))};return G.resolve(i.read()).then(a).then((function(t){o(),r.Qo(t)}),(function(t){o(),r.ts(t)})),r.Zo}(t,n).then((function(t){return zc(t).buffer}))}function bl(t,n){var e=n,i=new Ft,r=i.readable,u=i.writable,o=u.getWriter(),s=function(){e&&e.so()};return o.closed.then(s,s),t.then((function(t){return e=void 0,o.releaseLock(),t.pipeTo(u).catch(pr)}),(function(t){return e=void 0,o.releaseLock(),u.abort(t).catch(pr)})),r}function kl(t){return bf(new y(t))}function Tl(t){return kf(t).buffer}ki(),Vt(),(gl=wl||(wl={}))[gl.Eh=0]="Eh",gl[gl.Ch=1]="Ch";var Sl="text/plain;charset=UTF-8",El=function(){function t(){}var n=t.prototype;return n.Nh=function(t){return this.Dh(t).then(JSON.parse)},n.Ah=function(t,n){switch(t){case al.Th:return this.Ph(n);case al.Sh:return this.Nh(n);case al.Eh:return this.xh();case al.Si:return this.Dh(n);default:throw new h}},t}();function Rl(t,n,e){if(t instanceof El)return t;if(t instanceof Lt)return function(t,n){return new Ol({xu:0,xh:t,Bh:Il(n)})}(t,e);var i=Il(e),r=G.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{xu:al.Si,Lh:t,Bh:n||Sl};if(t instanceof ArrayBuffer||Hc(t))return{xu:al.Th,Lh:Bl(t),Bh:n};if(wr(t)||vr(t))return{xu:al.Sh,Lh:t,Bh:n};throw new h("Unsupported BodyInit type")}return{xu:al.Si,Lh:null,Bh:n}}(t,i)}));return new Ol({xu:1,Zo:r,Fh:n})}function Il(t){return(t.get("content-type")||"").toLowerCase()}var Ol=function(t){function n(n){var e;return(e=t.call(this)||this).Mh=!1,e.Uh=new Af,e.Uh.Zo.catch(pr),e.Vh(n),e}Yi(n,t);var e=n.prototype;return e.Hh=function(){return this.Uh.Zo},e.Dh=function(t){return this.qh(Cl,t)},e.Nh=function(t){return this.qh(Dl,t)},e.Ph=function(t){return this.qh(Pl,t)},e.xh=function(){return this.zh(0===(t=this.Wh).xu?t.xh:bl(t.Zo.then(xl).then(_l),t.Fh));var t},e.qh=function(t,n){if(this.Mh)return G.reject(new h("Already used"));this.Mh=!0;var e=t(this.Wh,n);return this.Uh.ao(e.then(pr)),e},e.zh=function(t){if(this.Mh)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.Mh=!0;var n=new Ft,e=G.resolve(t.pipeTo(n.writable));return this.Uh.ao(e),n.readable},e.Vh=function(t){this.Wh=t,1===t.xu&&t.Zo.catch(pr)},e.jh=function(){if(this.Mh)throw new h("Already used");var t=function(t){if(0===t.xu){var n=ia(t.xh.tee(),2),e=n[0],i=n[1];return[{xu:t.xu,xh:e,Bh:t.Bh},{xu:t.xu,xh:i,Bh:t.Bh}]}var r=ia(t.Fh.co(),2),u=r[0],o=r[1];return[{xu:t.xu,Zo:t.Zo,Fh:u},{xu:t.xu,Zo:t.Zo,Fh:o}]}(this.Wh),e=t[0],i=t[1];return this.Vh(e),new n(i)},Ri(n,[{key:"Gh",get:function(){return this.Mh}}]),n}(El);function Cl(t,n){return 0===t.xu?pl(t.xh,n).then(kl):(n&&t.Fh.ao(n),hc(t.Zo.then(Nl),t.Fh))}function Nl(t){switch(t.xu){case al.Si:return G.resolve(t.Lh||"");case al.Th:return G.resolve(t.Lh).then(kl);case al.Sh:return G.resolve(t.Lh).then(JSON.stringify)}}function Dl(t,n){return 0===t.xu?Cl(t,n).then(JSON.parse):(n&&t.Fh.ao(n),hc(t.Zo.then(Al),t.Fh))}function Al(t){return t.xu===al.Sh?G.resolve(t.Lh):Nl(t).then(JSON.parse)}function Pl(t,n){return 0===t.xu?pl(t.xh,n):(n&&t.Fh.ao(n),hc(t.Zo.then(xl),t.Fh))}function xl(t){switch(t.xu){case al.Th:return G.resolve(t.Lh);case al.Si:case al.Sh:return Nl(t).then(Tl)}}function Bl(t){return t instanceof ArrayBuffer?t:Cf(Ef(t)).buffer}function Ll(t){return t.Xh>=200&&t.Xh<=299||304===t.Xh}var Fl,Ml,Ul,Vl,Hl,ql,zl,Wl,jl=function(t){function n(n,e){var i,r,u,o,s,a;e?(r=e.Yh,u=e.$h,o=e.Xh,s=e.Kh,a=e.Jh):(r=[],u=al.Si,o=200,s="OK",a=!1);var c=n.Zh,f=new vl(n.Yh||r),h=n.$h||u,v=n.Qh||(e&&e.Zh===c?e.Qh:c.tv),d=e?e.nv:null,l=Rl(void 0!==n.Qi?n.Qi:d,n.Fh||new rc,f);return(i=t.call(this,l)||this).Yh=f,i.Zh=c,i.Qh=v,i.$h=h,i.Xh=void 0!==n.Xh?n.Xh:o,i.Kh=void 0!==n.Kh?String(n.Kh):s,i.Jh=n.Jh||a,i}Yi(n,t);var e=n.prototype;return e.Qi=function(t){return this.Ah(this.$h,t)},e.Xo=function(){return new n({Qi:this.jh(),Zh:this.Zh},this)},n}(function(t){function n(n){var e;return(e=t.call(this)||this).nv=n,e}Yi(n,t);var e=n.prototype;return e.Hh=function(){return this.nv.Hh()},e.Dh=function(t){return this.nv.Dh(t)},e.Nh=function(t){return this.nv.Nh(t)},e.Ph=function(t){return this.nv.Ph(t)},e.xh=function(){return this.nv.xh()},e.jh=function(){return this.nv.jh()},Ri(n,[{key:"Gh",get:function(){return this.nv.Gh}}]),n}(El));ki(),Vt(),(Ml=Fl||(Fl={})).DELETE="DELETE",Ml.GET="GET",Ml.HEAD="HEAD",Ml.OPTIONS="OPTIONS",Ml.POST="POST",Ml.PUT="PUT",(Vl=Ul||(Ul={})).ev="",Vl.rv="manifest",Vl.uv="segment",Vl.ov="preload-hint",Vl.sv="content-protection",(ql=Hl||(Hl={})).ev="",ql.av="initialization-segment",ql.cv="fairplay-license",ql.fv="fairplay-certificate",ql.hv="widevine-license",ql.vv="widevine-certificate",ql.dv="playready-license",ql.lv="clearkey-license",ql.wv="aes128-key",(Wl=zl||(zl={})).ev="",Wl.gv="audio",Wl.yv="video",Wl.Si="text",Wl.mv="image";var Gl=function(t,n){var e,i,r,u,o,s,a,c,f,h,v,d=t.tv;n?(e=n.Lh,i=n.Yh,r=n._v,u=n.$h,o=n.pv,s=n.fo,a=n.xu,c=n.bv,f=n.kv,h=n.Tv,v=n.Sv):(e=null,i={},r="GET",u=al.Si,o=0,a="",c="",f="",h=!1),this.tv=d,this.Lh=t.Lh||e,this.Yh=new vl(t.Yh||i),this._v=t._v||r,this.$h=t.$h||u,this.pv=void 0!==t.pv?Number(t.pv)||0:o,this.fo=t.fo||s||(new rc).fo,this.xu=t.xu||a,this.bv=t.bv||c,this.kv=t.kv||f,this.Tv=void 0!==t.Tv?Boolean(t.Tv):h,this.Sv=t.Sv||v},Xl=function(){function t(){}var n=t.prototype;return n.Zh=function(t){var n=function(t){return new jl({Qi:null,Yh:{},Zh:t,Qh:t.tv,$h:t.$h,Xh:0,Kh:ol.th})}(new Gl(t));return G.resolve(n)},n.Ev=function(t){},n.kn=function(){},t}();var Yl=function(){function t(t,n){void 0===n&&(n=!0),this.Rv=t,this.Iv=n}var n=t.prototype;return n.Zh=function(t){var n=this.Ov(t);return this.Rv.Zh(n)},n.Ev=function(t){return this.Rv.Ev(this.Cv(t))},n.Ov=function(n){var e=new Gl(n);if(!this.Iv){var i=t.Nv(e.tv);e=new Gl({tv:i},e)}return e},n.Cv=function(n){var e=n.tv;return this.Iv||(e=t.Nv(e)),{tv:e,Lh:n.Lh}},n.kn=function(){this.Rv.kn()},t.Nv=function(t){return Wi.pu&&xa(t,"http://")?t.replace(":","s:"):t},Ri(t,null,[{key:"Dv",get:function(){return t.Av||(t.Av=new t(new Xl)),t.Av}}]),t}();function $l(t,n){for(var e=0,i=v.keys(n);e<i.length;e++){var r=i[e];t.searchParams.set(r,n[r])}}function Kl(t,n){var e=Wi.lu(t);return n&&!Ba(e,"/")&&(e+="/"),e}Yl.Av=void 0,ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt();var Jl,Zl,Ql=/cache:(.+)?(?=&|$)/;function tw(t){if(!xa(t,"http://webcache.googleusercontent.com/search?q=cache:"))return"";var n=Wi.du(t).search.match(Ql);return n&&n.length>1?n[1]:""}ki(),Vt(),Ii(),ki(),Vt(),Ii(),(Zl=Jl||(Jl={})).Pv="HttpOpenError",Zl.xv="HttpResponseError",Zl.Bv="HttpTimeoutError";var nw=function(t){function n(n,e,i){var r;return(r=t.call(this,e,i)||this).Lv=n,r}return Yi(n,t),Ri(n,[{key:"Zh",get:function(){return this.Lv}}]),n}(gu);var ew=function(t){function n(n,e){return t.call(this,n,"Error while opening "+n.tv+". Invalid URL.",e)}return Yi(n,t),Ri(n,[{key:"name",get:function(){return Jl.Pv}}]),n}(nw);ki(),Vt(),Ii();var iw=function(t){function n(n,e,i){var r;return(r=t.call(this,n.Zh,null!=i?i:function(t){return"Error while loading "+t.Zh.tv+", status code "+t.Xh}(n),e)||this).Fv=n,r}return Yi(n,t),Ri(n,[{key:"name",get:function(){return Jl.xv}},{key:"Mv",get:function(){return this.Fv}}]),n}(nw);ki(),Vt(),Ii();var rw=function(t){function n(n,e){return t.call(this,n,function(t){return"Request for "+t.tv+" timed out after "+t.pv+" seconds."}(n),e)}return Yi(n,t),Ri(n,[{key:"name",get:function(){return Jl.Bv}}]),n}(nw);ki(),Vt();var uw=function(t,n){return(uw=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function ow(t,n){function e(){this.constructor=t}uw(t,n),t.prototype=null===n?v.create(n):(e.prototype=n.prototype,new e)}var sw="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var aw=function(){var t=sw.Blob;if(t)try{return new t,function(t,n){return new sw.Blob(t,n)}}catch(t){}var n,e=sw.BlobBuilder||sw.WebKitBlobBuilder||sw.MozBlobBuilder||sw.MSBlobBuilder;return e?(n=e,function(t,e){var i=new n;if(t)for(var r=0,u=t;r<u.length;r++){var o=u[r];i.append(o)}return i.getBlob(e&&e.type||"")}):null}(),cw="function"==typeof Lt?Lt:void 0;function fw(t){return t&&"function"==typeof t.getReader}function hw(t){if("function"!=typeof t)return!1;try{var n=!1,e=new t({start:function(){n=!0}});return!!n&&fw(e)}catch(t){return!1}}var vw=function(){function t(t,n){this.G=t,this.Uv=n}return t.prototype.pull=function(t){var n=this;return this.G.read().then((function(e){n.Uv&&n.Uv(e),e.done?t.close():t.enqueue(e.value)}))},t.prototype.cancel=function(t){return this.G.cancel(t)},t}();function dw(t,n){return n.constructor===t?n:new t(new vw(n.getReader()),{highWaterMark:0})}var lw=function(){function t(t,n){this.Vv=t,this.Hv=n}return t.prototype.pull=function(t){return this.Vv().then((function(n){t.enqueue(new y(n)),t.close()}))},t.prototype.cancel=function(t){this.Hv&&this.Hv(t)},t}();function ww(t,n,e){return new t(new lw(n,e),{highWaterMark:0})}var gw={searchParams:"URLSearchParams"in sw,iterable:"Symbol"in sw&&"iterator"in Symbol,blob:"FileReader"in sw&&!!aw,formData:"FormData"in sw,arrayBuffer:"ArrayBuffer"in sw,stream:hw(cw),streamRequest:"Request"in sw&&"body"in sw.Request.prototype,streamResponse:"Response"in sw&&"body"in sw.Response.prototype,abort:"AbortController"in sw&&"Request"in sw&&"signal"in sw.Request.prototype,encoding:"TextEncoder"in sw&&"TextDecoder"in sw,url:"URL"in sw&&function(t){try{return new sw.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in sw&&/Firefox\//.test(sw.navigator.userAgent)};function yw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function mw(t){return"string"!=typeof t&&(t=String(t)),t}function _w(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return gw.iterable&&(n[Symbol.iterator]=function(){return n}),n}var pw=function(){function t(t){var n=this;this.Ou={};var e,i=function(t,e){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(e,t)};(e=t)&&"function"==typeof e.forEach?t.forEach(i):!function(t){return gw.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach((function(e){n.append(e,t[e])})):Array.from(t).forEach(i)}return t.prototype.append=function(t,n){t=yw(t),n=mw(n);var e=t.toLowerCase();if(this.Ou.hasOwnProperty(e)){var i=this.Ou[e],r=i[1];i[1]=r?r+", "+n:n}else this.Ou[e]=[t,n]},t.prototype.delete=function(t){var n=yw(t).toLowerCase();delete this.Ou[n]},t.prototype.get=function(t){var n=yw(t).toLowerCase();return this.Ou.hasOwnProperty(n)?this.Ou[n][1]:null},t.prototype.has=function(t){var n=yw(t).toLowerCase();return this.Ou.hasOwnProperty(n)},t.prototype.set=function(t,n){var e=(t=yw(t)).toLowerCase();this.Ou[e]=[t,mw(n)]},t.prototype.forEach=function(t,n){for(var e in this.Ou)this.Ou.hasOwnProperty(e)&&t.call(n,this.Ou[e][1],e,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(n,e){t.push(e)})),_w(t)},t.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),_w(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(n,e){t.push([e,n])})),_w(t)},t.prototype.asList=function(){var t=[];for(var n in this.Ou)if(this.Ou.hasOwnProperty(n)){var e=this.Ou[n],i=e[0],r=e[1];t.push([i,r])}return t},t}();function bw(){}gw.iterable&&(pw.prototype[Symbol.iterator]=pw.prototype.entries);var kw,Tw,Sw,Ew=d.min,Rw=String.fromCharCode;function Iw(t){for(var n=[],e=0,i=t;e<i.length;e++){var r=i[e];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,e=[],i=0;i<n;i+=16384){var r=Ew(i+16384,n);e.push(Rw.apply(null,t.slice(i,r)))}return e.join("")}(n)}function Ow(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Cw(t,n){return t>>n&63|128}function Nw(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ow(t),n.push(t>>12&15|224),n.push(Cw(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Cw(t,12)),n.push(Cw(t,6))),n.push(63&t|128)):n.push(t)}function Dw(){if(Sw>=Tw)throw new f("Invalid byte index");var t=255&kw[Sw];if(Sw++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Aw(){var t,n;if(Sw>Tw)throw new f("Invalid byte index");if(Sw===Tw)return!1;if(t=255&kw[Sw],Sw++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Dw())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Dw()<<6|Dw())>=2048)return Ow(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Dw()<<12|Dw()<<6|Dw())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var Pw=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function xw(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Bw(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Lw(t){return t&&DataView.prototype.isPrototypeOf(t)}var Fw,Mw,Uw=ArrayBuffer.isView||function(t){return t&&(Pw.indexOf(v.prototype.toString.call(t))>-1||Lw(t))};function Vw(t){if(t.bodyUsed)return G.reject(new h("Already used"));t.bodyUsed=!0}function Hw(t){return new G((function(n,e){t.onload=function(){n(t.result)},t.onerror=function(){e(t.error)}}))}function qw(t){return gw.encoding?new sw.TextDecoder("utf-8").decode(new y(t)):Iw(function(t){Tw=(kw=t).length,Sw=0;for(var n,e=[];!1!==(n=Aw());)e.push(n);return e}(new y(t)))}function zw(t){return gw.encoding?(new sw.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],e=0,i=t;e<i.length;e++)Nw(i[e],n);return n}(function(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}(t))).buffer}function Ww(t){var n=t.getReader(),e=[],i=function(t){var r=t.done,u=t.value;return r?G.resolve(e):(e.push(u),n.read().then(i))};return n.read().then(i)}function jw(t){return Ww(t).then((function(t){return function(t){for(var n=0,e=0,i=t;e<i.length;e++)n+=(a=i[e]).byteLength;for(var r=new y(n),u=0,o=0,s=t;o<s.length;o++){var a=s[o];r.set(a,u),u+=a.byteLength}return r}(t).buffer}))}function Gw(t){return t.slice?t.slice(0):Xw(new y(t))}function Xw(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Yw(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var e=t.split("="),i=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");n.append(decodeURIComponent(i),decodeURIComponent(r))}})),n}function $w(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.qv===Fw.zv){if(!n.Wv.tee)throw new f("could not clone ReadableStream body");var e=n.Wv.tee(),i=e[0],r=e[1];return n.body=i,n.Wv=i,n.jv=i,r}return n.qv===Fw.Th?Gw(n.Wv):n.qv===Fw.Ch?n.Wv.then($w):n.jv}(Mw=Fw||(Fw={}))[Mw.Si=0]="Si",Mw[Mw.Gv=1]="Gv",Mw[Mw.Xv=2]="Xv",Mw[Mw.Th=3]="Th",Mw[Mw.zv=4]="zv",Mw[Mw.Ch=5]="Ch";var Kw=function(){function t(n,e){this.bodyUsed=!1;var i,r,u,o=this;if(this.jv=n||null,n)if("string"==typeof n)this.qv=Fw.Si,this.Wv=n;else if((u=n)&&"function"==typeof u.then)this.qv=Fw.Ch,this.Wv=G.resolve(n).then((function(n){return new t(n,e)})),this.Wv.catch(bw);else if(gw.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.qv=Fw.Gv,this.Wv=n;else if(gw.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.qv=Fw.Xv,this.Wv=n;else if(gw.searchParams&&xw(n))this.qv=Fw.Si,this.Wv=n.toString();else if(gw.arrayBuffer&&(Bw(n)||Uw(n)))Lw(n)&&(this.jv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.qv=Fw.Th,this.Wv=Bw(i=n)?Gw(i):Xw(i);else{if(!gw.stream||!fw(n))throw new f("unsupported BodyInit type");n=dw(cw,n),this.qv=Fw.zv,this.Wv=n,this.jv=n}else this.qv=Fw.Si,this.Wv="";this.Yv="",e.has("content-type")?this.Yv=(e.get("content-type")||"").toLowerCase():("string"==typeof n?this.Yv="text/plain;charset=UTF-8":o.qv===Fw.Gv&&o.Wv.type?this.Yv=o.Wv.type:gw.searchParams&&xw(n)&&(this.Yv="application/x-www-form-urlencoded;charset=UTF-8"),this.Yv&&e.set("content-type",this.Yv)),gw.stream&&(null==n?this.body=null:o.qv===Fw.zv?this.body=o.Wv:this.body=ww(cw,(function(){return o.arrayBuffer()}),(function(){o.bodyUsed=!0})))}return t.prototype.text=function(){var t,n,e,i=this,r=Vw(i);return r||(i.qv===Fw.Gv?(t=i.Wv,n=new FileReader,e=Hw(n),n.readAsText(t),e):i.qv===Fw.Th?G.resolve(i.Wv).then(qw):i.qv===Fw.zv?jw(i.Wv).then(qw):i.qv===Fw.Ch?i.Wv.then((function(t){return t.text()})):i.qv===Fw.Xv?G.reject(new f("could not read FormData body as text")):G.resolve(i.Wv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();gw.blob&&(Kw.prototype.blob=function(){var t,n,e=this,i=Vw(e);return i||(e.qv===Fw.Gv?G.resolve(e.Wv):e.qv===Fw.Th?G.resolve(aw([e.Wv],{type:e.Yv})):e.qv===Fw.zv?(t=e.Wv,n=e.Yv,Ww(t).then((function(t){return aw(t,{type:n||""})}))):e.qv===Fw.Ch?e.Wv.then((function(t){return t.blob()})):e.qv===Fw.Xv?G.reject(new f("could not read FormData body as Blob")):G.resolve(aw([e.Wv],{type:e.Yv})))}),gw.arrayBuffer&&(Kw.prototype.arrayBuffer=function(){var t,n,e,i=this;return i.qv===Fw.Th?Vw(i)||G.resolve(i.Wv):i.qv===Fw.Gv?Vw(i)||(t=i.Wv,n=new FileReader,e=Hw(n),n.readAsArrayBuffer(t),e):i.qv===Fw.zv?jw(i.Wv):i.qv===Fw.Ch?Vw(i)||i.Wv.then((function(t){return t.arrayBuffer()})):i.qv===Fw.Xv?G.reject(new f("could not read FormData body as ArrayBuffer")):G.resolve(i.Wv).then(zw)}),gw.formData&&(Kw.prototype.formData=function(){var t=this;return t.qv===Fw.Xv?Vw(t)||G.resolve(t.Wv):t.text().then(Yw)});var Jw=[301,302,303,307,308],Zw=function(t){function n(n,e){var i=this,r=new pw((e=e||{}).headers);return(i=t.call(this,n||null,r)||this).type="default",i.status=void 0===e.status?200:e.status,i.ok=i.status>=200&&i.status<300,i.statusText=void 0!==e.statusText?String(e.statusText):"",i.headers=r,i.url=e.url||"",i}return ow(n,t),n.prototype.clone=function(){return new n($w(this),{status:this.status,statusText:this.statusText,headers:new pw(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,e){if(-1===Jw.indexOf(e))throw new RangeError("Invalid status code");return new n(null,{status:e,headers:{location:t}})},n}(Kw);var Qw,tg,ng=(function(t,n){function e(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function u(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}function s(t){return(s=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function a(t,n){return(a=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,e){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var i=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(i){var r=v.getOwnPropertyDescriptor(i,n);return r.get?r.get.call(e):r.value}})(t,n,e||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){e(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var e=this.listeners[t],i=0,r=e.length;i<r;i++)if(e[i]===n)return void e.splice(i,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var e=function(e){o((function(){return e.call(n,t)}))},i=this.listeners[t.type],r=0,u=i.length;r<u;r++)e(i[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,i,r;return e(this,n),i=this,(t=!(r=s(n).call(this))||"object"!=typeof r&&"function"!=typeof r?c(i):r).listeners||d.call(c(t)),v.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(n,t),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(d),w=function(){function t(){e(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==i?i.createEvent?(t=i.createEvent("Event")).initEvent("abort",!1,!1):(t=i.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w}(Qw={exports:{}},Qw.exports),Qw.exports);(tg=ng)&&tg.__esModule&&v.prototype.hasOwnProperty.call(tg,"default")&&tg.default;ng.AbortSignal;var eg=ng.AbortController,ig=sw.DOMException;try{new ig}catch(t){(ig=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),ig.prototype.constructor=ig}var rg=eg;function ug(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var e=function(){n.removeEventListener("abort",e),t.signal.removeEventListener("abort",e),t.abort()};n.addEventListener("abort",e),t.signal.addEventListener("abort",e)}}function og(t,n,e){return new G((function(i,r){if(n.signal.aborted)return t.catch(bw),r(sg());var u=function(){n.signal.removeEventListener("abort",u),r(sg())};n.signal.addEventListener("abort",u),t.then((function(t){n.signal.removeEventListener("abort",u),i(t),e&&n.abort()}),(function(t){n.signal.removeEventListener("abort",u),r(t),e&&n.abort()}))}))}function sg(){return new ig("Aborted","AbortError")}var ag,cg,fg="moz-chunked-arraybuffer";function hg(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}(cg=ag||(ag={}))[cg.UNSENT=0]="UNSENT",cg[cg.OPENED=1]="OPENED",cg[cg.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",cg[cg.LOADING=3]="LOADING",cg[cg.DONE=4]="DONE";var vg=function(){function t(t,n){var e=this;this.$v=!1,this.Lv=t,this.Kv=n,this.Jv=new m,this.Zv=new G((function(t,n){e.Qv=t,e.td=n}))}return t.prototype.send=function(){var t=this;return this.nd().then((function(n){return t.ed(n,t.Kv),t.Zv}))},t.prototype.nd=function(){var t=this.Lv;return t.qv===Fw.zv?t.arrayBuffer():G.resolve(t.jv)},t.prototype.rd=function(t){this.Lv.onprogress&&this.Lv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.ud=function(t){this.td(t)},t.prototype.od=function(){this.ud(new h("Network request failed"))},t.prototype.sd=function(){this.ud(new h("Network request failed"))},t.prototype.fd=function(){this.ud(sg())},t.prototype.ed=function(t,n){var e=this,i=this.Lv,r=this.Jv,u=function(){return e.hd()};if(i.signal.aborted)return this.fd();r.onreadystatechange=function(){if(r.readyState>=ag.HEADERS_RECEIVED&&!e.$v){var t=function(t){var n=new pw;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),i=e.shift().trim();if(i){var r=e.join(":").trim();n.append(i,r)}})),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};e.$v=!0,e.vd(n)}},r.onprogress=function(t){return e.rd(t)},r.onload=function(){return e.dd()},r.onerror=function(){return e.od()},r.ontimeout=function(){return e.sd()},r.onabort=function(){return e.fd()},r.open(i.method,i.url,!0),r.withCredentials="include"===i.credentials,"responseType"in r&&n&&(r.responseType=n),i.headers.forEach((function(t,n){r.setRequestHeader(n,t)})),i.signal.addEventListener("abort",u),r.onloadend=function(){i.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.hd=function(){this.fd(),this.Jv.abort()},t}(),dg=function(t){function n(n,e){var i=t.call(this,n,e)||this;return i.ld=void 0,i.wd=void 0,i}return ow(n,t),n.prototype.vd=function(t){var n=this;this.ld=new G((function(t,e){n.wd=t,n.gd=e})),this.Qv(new Zw(this.ld,t))},n.prototype.dd=function(){var t=this.Jv.response;if(null==t){var n=this.Kv;""===n||"text"===n?t=this.Jv.responseText:"document"===n?t=this.Jv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=aw([]))}this.wd(t)},n.prototype.ud=function(n){t.prototype.ud.call(this,n),this.gd&&this.gd(n)},n}(vg),lg=function(t){function n(n){var e=t.call(this,n,fg)||this;return e.yd=void 0,e.md=void 0,e._d=!1,e}return ow(n,t),n.prototype.vd=function(t){var n=this;this.yd=new cw({start:function(t){n.md=t},cancel:function(){n._d=!0,n.hd()}}),this.Qv(new Zw(this.yd,t))},n.prototype.rd=function(n){this._d||this.md.enqueue(new y(this.Jv.response)),t.prototype.rd.call(this,n)},n.prototype.dd=function(){this.md.close()},n.prototype.ud=function(n){t.prototype.ud.call(this,n),this.md&&!this._d&&(this._d=!0,this.md.error(n))},n}(vg),wg=function(){var t=gw.firefox&&hg(fg);return wg=function(){return t},t},gg=function(){var t;return t=gw.arrayBuffer&&hg("arraybuffer")?"arraybuffer":gw.blob&&hg("blob")?"blob":"",gg=function(){return t},t};function yg(t){return(gw.stream&&wg()?new lg(t):new dg(t,gg())).send()}var mg=sw.fetch,_g=sw.Request,pg=(sw.Response,sw.AbortController);var bg=["http:","https:"];var kg=function(){try{if(gw.streamRequest){var t=new _g("about:blank",{body:"",method:"POST"}).body;if(t&&hw(t.constructor))return t.constructor}}catch(t){}}();function Tg(t,n,e){var i;if(gw.stream){var r=void 0;if(gw.streamResponse){var u=t.body;r=u&&dw(cw,u)}else r=ww(cw,(function(){return og(t.arrayBuffer(),n,!0)}),(function(){n.abort()}));r&&e&&(r=function(t,n,e){var i=0;return function(t,n,e){return new t(new vw(n.getReader(),e),{highWaterMark:0})}(cw,t,(function(t){var r=t.done,u=t.value;r?e=void 0===e?i:e:i+=u.byteLength,n(i,e)}))}(r,e,Sg(t.headers))),i=r}else{var o=og(t.arrayBuffer(),n,!0);e&&(o=function(t,n,e){return G.resolve().then((function(){return n(0,e),t})).then((function(t){var i=t.byteLength;return n(i,e=void 0===e?i:e),t}))}(o,e,Sg(t.headers))),i=o}return new Zw(i,t)}function Sg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Eg(t){var n=new rg;return t.signal&&ug(n,t.signal),function(t,n){var e,i,r=t;if(e=r.qv===Fw.zv?gw.streamRequest&&kg?G.resolve(dw(kg,r.Wv)):og(t.arrayBuffer(),n,!1):og(G.resolve(t.jv),n,!1),gw.abort){var u=new pg;ug(u,n.signal),i=u.signal}return e.then((function(n){return new _g(t.url,{body:n||void 0,credentials:t.credentials,headers:(e=t.headers,(e instanceof pw?e:new pw(e)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:i});var e}))}(t,n).then((function(e){return mg(e).then((function(e){return Tg(e,n,t.onprogress)}))}))}var Rg=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Ig=function(t){function n(e,i){var r,u,o,s,a,c,f,v,d,l=this,w=(i=i||{}).body||null;if(e instanceof n){if(e.bodyUsed)throw new h("Already used");r=e.url,u=e.credentials,i.headers||(o=new pw(e.headers)),s=e.method,a=e.mode,c=e.referrer,f=e.referrerPolicy,v=e.signal,d=e.onprogress,w||null==e.jv||(w=e.jv,e.bodyUsed=!0)}else r=String(e),u="same-origin",s="GET",a="cors",c="about:client",f="",v=null,d=null;if(!i.headers&&o||(o=new pw(i.headers)),i&&(c="about:client",f=""),(l=t.call(this,w,o)||this).url=r,l.headers=o,l.credentials=i.credentials||u,l.method=function(t){var n=t.toUpperCase();return Rg.indexOf(n)>-1?n:t}(i.method||s),l.mode=i.mode||a,l.signal=i.signal||v||(new rg).signal,l.referrer=void 0!==i.referrer?i.referrer:c,l.referrerPolicy=void 0!==i.referrerPolicy?i.referrerPolicy:f,l.onprogress=i.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return ow(n,t),n.prototype.clone=function(){return new n(this,{body:$w(this)})},n}(Kw),Og="function"==typeof mg&&gw.stream&&gw.streamResponse&&gw.url;function Cg(t,n){return new G((function(e){var i=new Ig(t,n);e((Og&&function(t){try{return bg.indexOf(new sw.URL(t,sw.location.href).protocol)>=0}catch(t){return!1}}(i.url)?Eg:yg)(i))}))}Cg.polyfill=!0;var Ng=function(){function t(t){this.vf=new rc,this.Fv=void 0,this.pd=!1,this.Lv=t,this.vf.ao(t.fo),this.Mv=this.bd()}var n=t.prototype;return n.bd=function(){var t=this;return ta((function(){var n,e,i,r,u,s,a,c,f;return ea(this,(function(h){switch(h.label){case 0:(n=t.Lv).pv&&o((function(){t.pd=!0,t.vf.so()}),n.pv);try{e=Cg(n.tv,{method:n._v,headers:n.Yh.Rh(),body:n.Lh,credentials:n.Tv?"include":"same-origin",signal:Pg(t.vf.fo),onprogress:n.Sv})}catch(t){throw new ew(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e];case 2:return i=h.sent(),[3,4];case 3:throw r=h.sent(),oc(u=t.kd(r))&&t.vf.so(),u;case 4:if(s=i.url||n.tv,a=0===i.status&&"file:"===(v=s,Wi.du(v).protocol)?200:i.status,c=new Dg(t,i,t.vf),f=new jl({Qi:c,Zh:n,$h:n.$h,Yh:new vl(i.headers.asList()),Xh:a,Kh:i.statusText,Qh:s}),t.Fv=f,Ll(f))return[2,f];throw new iw(f)}var v}))}))()},n.kd=function(t){return oc(t)?this.pd?new rw(this.Lv):new uc(t.message,t):this.Fv?new iw(this.Fv,t):new ew(this.Lv,t)},t}(),Dg=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).Uh=new Af,r.Td=n,r.Sd=e,r.vf=i,r.Uh.Zo.catch(pr),r}Yi(n,t);var e=n.prototype;return e.Hh=function(){return this.Uh.Zo},e.Dh=function(t){return this.qh(this.Sd.text(),t)},e.Ph=function(t){return this.qh(this.Sd.arrayBuffer(),t)},e.xh=function(){var t=this.Sd.body;return t?this.zh(t):bl(this.Ph().then(_l),this.vf)},e.jh=function(){var t=this.Sd.clone(),e=ia(this.vf.co(),2),i=e[0],r=e[1];return this.vf=i,new n(this.Td,t,r)},e.qh=function(t,n){var e=this;n&&this.vf.ao(n);var i=G.resolve(t).catch((function(t){throw e.Td.kd(t)}));return i=hc(i,this.vf),this.Uh.ao(i.then(pr)),i},e.zh=function(t){var n=this,e=new Ft,i=G.resolve(t.pipeTo(e.writable,{preventAbort:!0})).catch((function(t){var i=n.Td.kd(t);throw e.writable.abort(i).catch(pr),i}));return i=hc(i,this.vf),this.Uh.ao(i.then(pr)),e.readable},Ri(n,[{key:"Gh",get:function(){return this.Sd.bodyUsed}}]),n}(El),Ag="abort";function Pg(t){var n=new rg;if(t.Yu)n.abort();else if(!t.$u){var e=function(){i(),n.abort()},i=function(){n.signal.removeEventListener(Ag,e),t.io(e),t.uo(i)};n.signal.addEventListener(Ag,e),t.eo(e),t.ro(i)}return n.signal}Ti(),ki(),Vt();var xg,Bg,Lg=function(){function t(){}var n=t.prototype;return n.Zh=function(t){return new Ng(t).Mv},n.Ev=function(t){if(pi&&pi.sendBeacon)pi.sendBeacon(t.tv,rl([t.Lh],{type:t.Bh}));else{var n=t.Bh?{"Content-type":t.Bh}:void 0;lc(this.Zh(new Gl({_v:Fl.POST,tv:t.tv,Lh:t.Lh,Yh:n})))}},n.kn=function(){},t}(),Fg=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ed=void 0,n.Rd=Mg(),n.Id=Ug(),n.Od=Vg(),n.Cd=void 0,n}return Yi(n,t),Ri(n,[{key:"ou",get:function(){return this.Ed||(this.Ed=new Wa(tl())),this.Ed}},{key:"Nd",get:function(){return this.Rd}},{key:"Dd",get:function(){return this.Id}},{key:"Ad",get:function(){return this.Od}},{key:"Pd",get:function(){return!1}},{key:"xd",get:function(){return el.Ff()}},{key:"Bd",get:function(){return{Ld:ul}}},{key:"Fd",get:function(){return u.connection&&u.connection.effectiveType||fl}},{key:"Md",get:function(){return u.connection&&u.connection.type||hl}},{key:"Ud",get:function(){return this.Cd||(this.Cd=new Yl(new Lg)),this.Cd}}]),n}(Js);function Mg(){if(sr.qe)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}function Ug(){return sr.hi||sr.qe}function Vg(){return(sr.hi||sr.qe)&&!(sr.Ke&&sr.Je<3)}$i(new Fg),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),Fi(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),(Bg=xg||(xg={})).Vd="Hd",Bg.qd="zd",ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii();var Hg=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).Wd=void 0,i}return Yi(n,t),Ri(n,[{key:"jd",get:function(){return this.Wd||(this.Wd=this.Gd()),this.Wd}}]),n}(Sc);function qg(t){return Boolean(t&&t.jd)}var zg=function(t){function n(n){return t.call(this,n)}return Yi(n,t),n}(Hg),Wg=function(t){function n(n){return t.call(this,n)}return Yi(n,t),n}(Sc),jg=function(t){function n(n){var e;return(e=t.call(this,xg.Vd)||this).Xd=n,e}return Yi(n,t),n.prototype.Gd=function(){return new Gg(this.Xd.jd)},n}(zg),Gg=function(t){function n(n){var e;return(e=t.call(this,"addtrack")||this).track=n,e}return Yi(n,t),n}(Wg);ki(),Vt();var Xg,Yg,$g=function(t){function n(n){var e;return(e=t.call(this,xg.qd)||this).Xd=n,e}return Yi(n,t),n.prototype.Gd=function(){return new Kg(this.Xd.jd)},n}(zg),Kg=function(t){function n(n){var e;return(e=t.call(this,"removetrack")||this).track=n,e}return Yi(n,t),n}(Wg);ki(),Vt(),(Yg=Xg||(Xg={})).Yd="$d",Yg.Kd="Jd",Yg.Zd="Qd",Yg.tl="nl",Yg.il="ul",Yg.ol="sl",Yg.al="cl",Yg.fl="hl",Yg.vl="kc",Yg.dl="ll",Yg.wl="gl",Yg.QUALITY_UNAVAILABLE="qualityunavailable",Yg.NO_QUALITY="noquality";var Jg=function(t){function n(){var n;return(n=t.call(this)||this).yl=[],n.Wd=void 0,n}Yi(n,t);var e=n.prototype;return e.ml=function(t){return this.yl[t]},e._l=function(t){return!(!t||nc(this.yl,t))&&(this.yl.push(t),this.Wd&&this.Wd.push(t.jd),t.yo(Xg.ol,this.do),this.lo(new jg(t)),!0)},e.pl=function(t){if(!t)return!1;var n=this.yl.indexOf(t);return!(n<0)&&(tc(this.yl,n),this.Wd&&tc(this.Wd,n),t.bo(Xg.ol,this.do),this.lo(new $g(t)),!0)},e.bl=function(t){return nc(this.yl,t)},e.Bc=function(){for(var t=this.yl,n=t.length-1;n>=0;n-=1)this.pl(t[n])},e.kn=function(){this.Bc(),this.po()},Ri(n,[{key:"kl",get:function(){return this.yl}},{key:"jd",get:function(){return this.Wd||(this.Wd=this.Gd()),this.Wd}},{key:"Tl",get:function(){return this.yl.length}}]),n}(pc);ki(),Vt();var Zg=function(t){function n(n){var e;return(e=t.call(this,Xg.ol)||this).Xd=n,e}return Yi(n,t),n.prototype.Gd=function(){return new Qg(this.Xd.jd)},n}(zg),Qg=function(t){function n(n){var e;return(e=t.call(this,"change")||this).track=n,e}return Yi(n,t),n}(Wg),ty=function(t){function n(){var n;return(n=t.call(this)||this).Sl=void 0,n.El=function(t){var e=t.Xd;n._l(e)},n.Rl=function(t){var e=t.Xd;n.pl(e)},n}Yi(n,t);var e=n.prototype;return e.Il=function(t){t.yo(xg.Vd,this.El),t.yo(xg.qd,this.Rl)},e.Ol=function(t){t.bo(xg.Vd,this.El),t.bo(xg.qd,this.Rl)},e.kn=function(){this.Sl&&this.Sl.kn(),t.prototype.kn.call(this)},Ri(n,[{key:"Cl",get:function(){return this.Sl},set:function(t){var n=this.Sl;if(t!==n){if(n){this.Ol(n);for(var e=0,i=n.kl;e<i.length;e++){var r=i[e];t&&t.bl(r)||this.pl(r)}}if(this.Sl=t,t){for(var u=[],o=0,s=t.kl;o<s.length;o++){var a=s[o];this._l(a),this.Nl(a)&&u.push(a)}this.Il(t);for(var c=0;c<u.length;c++){var f=u[c];f.lo(new Zg(f))}}}}}]),n}(Jg);ki(),Vt(),ki(),Vt(),ki(),Vt();var ny=v.freeze||br;function ey(t,n,e){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:e})}function iy(t,n){for(var e=0,i=v.getOwnPropertyNames(n);e<i.length;e++){var r=i[e];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function ry(t){if(wr(t)){var n={};for(var e in t)ar.call(t,e)&&(n[e]=ry(t[e]));return n}if(vr(t)){for(var i=new Array(t.length),r=0;r<i.length;r++)r in t&&(i[r]=ry(t[r]));return i}return t}function uy(t,n){return t===n||!(!t||!n)&&(!(!lr(t)||!lr(n))&&(dr(t)?!!dr(n)&&function(t,n){var e=t.length,i=n.length;if(e!==i)return!1;for(var r=0;r<e;r+=1)if(!uy(t[r],n[r]))return!1;return!0}(t,n):!dr(n)&&function(t,n){var e=v.keys(t),i=v.keys(n);if(!e||!i||e.length!==i.length)return!1;for(var r=0;r<e.length;r++){var u=e[r];if(!ar.call(n,u)||!uy(t[u],n[u]))return!1}return!0}(t,n)))}function oy(t,n){return t.constructor===n.constructor}function sy(t){for(var n={},e=0,i=v.keys(t);e<i.length;e++){var r=i[e],u=t[r];null!=u&&(n[r]=u)}return n}function ay(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function cy(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function fy(t){var n=cy(t);if(g(n))throw new f("Expected a valid number.");return n}function hy(t){return"string"==typeof t?t:""}function vy(t,n){if(!dr(t))return[];for(var e=0|t.length,i=new Array(e),r=0;r<e;r++)i[r]=n(t[r]);return i}function dy(t,n){return dr(t)?vy(t,n):n(t)}ki(),Vt();var ly=[xg.Vd,xg.qd,Xg.ol];function wy(t){var n,e=t.kl.map((function(t){return t.jd}));return e.item=function(n){var e=0|n,i=t.ml(e);return i&&i.jd||void 0},e.addEventListener=function(t,e){n.yo(t,e)},e.removeEventListener=function(t,e){n.bo(t,e)},n=new bc(e),t.yo(ly,(function(t){return n.lo(t.jd)})),e}function gy(){}function yy(t){var n,e=[Xg.vl,Xg.ol,Xg.dl,Xg.wl,Xg.QUALITY_UNAVAILABLE],i={get activeQuality(){return t.Dl&&t.Dl.jd},get enabled(){return t.Al},set enabled(n){t.Al=ay(n)},get id(){return t.Pl},get uid(){return t.xl},get kind(){return t.Bl},get label(){return t.Ll},set label(n){t.Ll=hy(n)},get language(){return t.Fl},get qualities(){return t.Ml.jd},set targetQuality(n){var e;(e=n?function(t,n){for(var e=[],i=0,r=t.Ml.kl;i<r.length;i++)for(var u=r[i],o=0;o<n.length;o++){var s=n[o];u.jd===s&&e.push(u)}return e}(t,vr(n)?n:[n]):[]).length>0?t.Ul=e:t.Ul=void 0},get targetQuality(){if(t.Ul)return 1===t.Ul.length?t.Ul[0].jd:t.Ul.map((function(t){return t.jd}))},addEventListener:function(t,e){var i=dy(t,hy);n.yo(i,e)},removeEventListener:function(t,e){var i=dy(t,hy);n.bo(i,e)}};return n=new bc(i),t.yo(e,(function(t){return n.lo(t.jd)})),v.defineProperty(i,"constructor",{value:gy}),i}function my(){}function _y(t){var n=wy(t);return v.defineProperty(n,"constructor",{value:my}),n}var py,by,ky,Ty=function(t){function n(){return t.apply(this,arguments)}Yi(n,t);var e=n.prototype;return e.Gd=function(){return _y(this)},e.Nl=function(t){return t.Al},n}(ty);function Sy(){}function Ey(t){var n,e=[Xg.ol,Xg.vl,Xg.Yd,Xg.Kd,Xg.Zd,Xg.tl,Xg.il,Xg.al,Xg.fl],i=[ky.Vl],r={get kind(){return t.Bl},get label(){return t.Ll},set label(n){t.Ll=hy(n)},get language(){return t.Fl},get id(){return t.Pl},get uid(){return t.xl},get inBandMetadataTrackDispatchType(){return t.Hl},get mode(){return t.ql},set mode(n){n!==py.zl&&n!==py.Wl&&n!==py.jl||t.Gl(n)},get forced(){return Boolean(t.Xl)},get type(){return t.xu},get readyState(){return t.Yl},get cues(){return t.ql===py.jl?null:t.$l.jd},get activeCues(){return t.ql===py.jl?null:t.Kl.jd},get src(){return t.Jl||""},addEventListener:function(t,e){var i=dy(t,hy);n.yo(i,e)},removeEventListener:function(t,e){var i=dy(t,hy);n.bo(i,e)}};return n=new bc(t),t.yo(e,(function(t){return n.lo(t.jd)})),t.yo(i,(function(t){return n.lo(t)})),v.defineProperty(r,"constructor",{value:Sy}),r}function Ry(){}function Iy(t){var n=wy(t);return v.defineProperty(n,"constructor",{value:Ry}),n}ki(),Vt(),ki(),Vt(),ki(),Vt(),(by=py||(py={})).jl="disabled",by.Wl="hidden",by.zl="showing",ki(),Vt(),(ky||(ky={})).Vl="error";var Oy=function(t){function n(){return t.apply(this,arguments)}Yi(n,t);var e=n.prototype;return e.Gd=function(){return Iy(this)},e.Nl=function(t){return t.ql===py.zl},n}(ty);ki(),Vt();var Cy=function(t){function n(){return t.apply(this,arguments)}Yi(n,t);var e=n.prototype;return e._o=function(n){t.prototype._o.call(this,n)},e.So=function(n){t.prototype.So.call(this,n)},n}(pc),Ny=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n}(Cy);ki(),Vt();var Dy=function(t){function n(){return t.call(this,ol.$f)}return Yi(n,t),n}(Sc);ki(),Vt();var Ay=function(t){function n(n){var e;return(e=t.call(this,ol.Wf)||this).currentSource=n,e}return Yi(n,t),n}(Sc);function Py(t,n,e){return n in t?v.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var xy="theoplayer-stored-network-info",By=function(){function t(){}return t.Zl=function(n,e){var i=t.Ql(n,e);return i?t.tw(i):0},t.nw=function(){return Wi.Fd||fl},t.ew=function(){return Wi.Md||hl},t.Ql=function(n,e){var i,r=null==(i=Wi.xd)?void 0:i.Uo(e),u=r&&JSON.parse(r);if(u&&u[n])return t.iw(u,n,e)},t.tw=function(t){var n=t.availableBandwidth;return n||0},t.iw=function(n,e,i){if(!t.rw(n,e))return n[e];t.uw(n,e,i)},t.uw=function(t,n,e){var i;delete t[n],null==(i=Wi.xd)||i.Lf(e,JSON.stringify(t))},t.rw=function(t,n){var e=t[n].storedTimestamp;if(!e)return!1;var i=new Date(e),r=(new Date).getTime();return i.setMonth(i.getMonth()+1)<=r},t.ow=function(t,n,e,i){return na({},t,Py({},n,{availableBandwidth:e,storedTimestamp:i}))},t.sw=function(n){var e=t.nw();t.aw(e,xy,n,au())},t.aw=function(n,e,i,r){var u,o,s=null==(u=Wi.xd)?void 0:u.Uo(e),a=s?JSON.parse(s):void 0,c=t.ow(a,n,i,r);null==(o=Wi.xd)||o.Lf(e,JSON.stringify(c))},t.cw=function(){var n=t.nw();return t.Zl(n,xy)},t}();ki(),Vt(),ki(),Vt();var Ly,Fy,My,Uy,Vy,Hy,qy,zy,Wy,jy,Gy,Xy,Yy="1ADD53F3";function $y(t){return{chromecast:function(t){return{appID:t&&t.appID?hy(t.appID):Yy}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return"auto";case"manual":return"manual";case"disabled":return"disabled";default:return"manual"}}(t?t.strategy:void 0)}}function Ky(t){var n,e=Vy.fw;return(n=t)&&Pa(n,"mpd")&&(e=Vy.hw),function(t){return!!t&&Pa(t,"m3u8")}(t)&&(e=Vy.dw),e}function Jy(t){return lr(t)&&lr(t.ssai)&&"google-dai"===t.ssai.integration}function Zy(t){return lr(t)&&gr(t.integration)&&"verizon-media"===t.integration}function Qy(t){return lr(t)&&gr(t.integration)&&"mediatailor"===t.integration}function tm(t){if(gr(t))return!t;if(Zy(t))return!t.id;if(Jy(t)){var n=t.ssai,e="live"===n.availabilityType&&n.assetKey,i="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(e&&i)}return!t.src}function nm(t){return Boolean(lr(t)&&gr(t.src))}function em(t){return t.type===Vy.lw||t.type===Vy.ww}function im(t){return gr(t)||nm(t)||Jy(t)||Zy(t)}function rm(t){if(t){if(im(t))return tm(t);for(var n=0;n<t.length;n++){if(!tm(t[n]))return!1}return!0}return!0}function um(){return{crossOrigin:My.gw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function om(){return na({},um(),{src:void 0,type:Vy.fw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function sm(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:qy.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Wy.NONE;case"midroll-and-postroll":default:return Wy.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=ay(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return qy.INSECURE;case"disabled":return qy.DISABLED;case"enabled":default:return qy.ENABLED}}(t.vpaidMode)),vr(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(gr)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:ay(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1};var n}(t.googleIma))),n}function am(t){if(!dr(t))return[];for(var n=[],e=0;e<t.length;e++){var i=t[e];wr(i)&&n.push(i)}return n}function cm(t){return gr(t.src)}(Fy=Ly||(Ly={})).AUTO="auto",Fy.MANUAL="manual",Fy.DISABLED="disabled",ki(),Vt(),ki(),Vt(),(Uy=My||(My={})).gw="",Uy.yw="anonymous",Uy.mw="use-credentials",(Hy=Vy||(Vy={})).hw="application/dash+xml",Hy.dw="application/vnd.apple.mpegurl",Hy._w="application/x-mpegurl",Hy.fw="video/mp4",Hy.lw="application/vnd.theoplayer.hesp+json",Hy.ww="application/vnd.theo.hesp+json",ki(),Vt(),ki(),Vt(),(zy=qy||(qy={})).ENABLED="enabled",zy.INSECURE="insecure",zy.DISABLED="disabled",ki(),Vt(),ki(),Vt(),(jy=Wy||(Wy={})).NONE="none",jy.MIDROLL_AND_POSTROLL="midroll-and-postroll",ki(),Vt(),ki(),Vt(),(Xy=Gy||(Gy={}))[Xy.pw=0]="pw",Xy[Xy.bw=1]="bw",Xy[Xy.kw=2]="kw",Xy[Xy.Tw=3]="Tw",Xy[Xy.Sw=4]="Sw";var fm=function(t){function n(n,e){var i;return void 0===e&&(e=Gy.pw),(i=t.call(this,ol.Xf)||this).currentTime=n,i.readyState=e,i}return Yi(n,t),n}(Sc);ki(),Vt();var hm=function(t){function n(n){var e;return(e=t.call(this,ol.eh)||this).currentTime=n,e}return Yi(n,t),n}(Sc);ki(),Vt();var vm,dm,lm=function(t){function n(n){var e;return(e=t.call(this,ol.ih)||this).currentTime=n,e}return Yi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),(dm=vm||(vm={})).Ew="canplay",dm.Rw="canplaythrough",dm.Iw="loadeddata",dm.Ow="loadedmetadata",dm.al="readystatechange",dm.Cw="waiting",dm.Nw="playing";var wm=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"],gm=function(t){function n(n,e){var i;return void 0===e&&(e=Gy.bw),(i=t.call(this,vm.Ow)||this).currentTime=n,i.readyState=e,i}return Yi(n,t),n}(Sc);ki(),Vt();var ym=function(t){function n(n){var e;return(e=t.call(this,ol.Gf)||this).duration=n,e}return Yi(n,t),n}(Sc);ki(),Vt();var mm=function(t){function n(n,e){var i;return(i=t.call(this,ol.uh)||this).currentTime=n,i.playbackRate=e,i}return Yi(n,t),n}(Sc);ki(),Vt();var _m=function(t){function n(n,e){var i;return(i=t.call(this,ol.mh)||this).currentTime=n,i.currentProgramDateTime=e,i}return Yi(n,t),n}(Sc);ki(),Vt();var pm=function(t){function n(n){var e;return(e=t.call(this,ol.Yf)||this).currentTime=n,e}return Yi(n,t),n}(Sc);ki(),Vt();var bm=function(t){function n(n,e){var i;return void 0===e&&(e=Gy.kw),(i=t.call(this,vm.Iw)||this).currentTime=n,i.readyState=e,i}return Yi(n,t),n}(Sc);ki(),Vt();var km=function(t){function n(n){var e;return(e=t.call(this,ol.fh)||this).currentTime=n,e}return Yi(n,t),n}(Sc);ki(),Vt();var Tm=function(t){function n(n){var e;return(e=t.call(this,ol.ah)||this).currentTime=n,e}return Yi(n,t),n}(Sc);ki(),Vt();var Sm=function(t){function n(n,e){var i;return(i=t.call(this,ol._h)||this).currentTime=n,i.volume=e,i}return Yi(n,t),n}(Sc);ki(),Vt();var Em=function(t){function n(n,e){var i;return void 0===e&&(e=Gy.Tw),(i=t.call(this,vm.Ew)||this).currentTime=n,i.readyState=e,i}return Yi(n,t),n}(Sc);ki(),Vt();var Rm=function(t){function n(n,e){var i;return void 0===e&&(e=Gy.Sw),(i=t.call(this,vm.Rw)||this).currentTime=n,i.readyState=e,i}return Yi(n,t),n}(Sc);ki(),Vt();var Im=function(t){function n(n,e){var i;return(i=t.call(this,vm.al)||this).currentTime=n,i.readyState=e,i}return Yi(n,t),n}(Sc);ki(),Vt(),Ii();var Om=function(t){function n(n){var e;return(e=t.call(this,ky.Vl)||this).errorObject=n,e}return Yi(n,t),n.prototype.Gd=function(){return this},Ri(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Hg);ki(),Vt();var Cm,Nm,Dm={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function Am(t){switch(t){case"all":case"content":return t;default:return"none"}}function Pm(t){var n,e,i,r,u,o=ry(t||{});return o.libraryLocation&&(o.libraryLocation=Kl(o.libraryLocation,!0)),o.isEmbeddable=Boolean(o.isEmbeddable),o.cast=$y(o.cast),o.ads=sm(o.ads),o.analytics=am(o.analytics),o.mutedAutoplay=Am(o.mutedAutoplay),o.allowNativeFullscreen=Boolean(o.allowNativeFullscreen),o.allowMixedContent=Boolean(o.allowMixedContent),o.persistVolume=Boolean(o.persistVolume),o.liveOffset=(n=o.liveOffset,Number(n)||void 0),o.hlsDateRange=(e=o.hlsDateRange,Boolean(e)),o.retainPlaybackRateOnSourceChange=Boolean(o.retainPlaybackRateOnSourceChange),o.license=gr(i=o.license)?i:void 0,o.licenseUrl=function(t){if(!t)return;try{return Kl(t)}catch(t){return void Wi.Zr("Invalid 'licenseUrl', falling back to default URL")}}(o.licenseUrl),o.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(o.vr),o.retryConfiguration=(r=o.retryConfiguration,u=na({},Dm),void 0!==r&&(void 0!==r.maxRetries&&(u.maxRetries=Number(r.maxRetries)),void 0!==r.minimumBackoff&&(u.minimumBackoff=Number(r.minimumBackoff)),void 0!==r.maximumBackoff&&(u.maximumBackoff=Number(r.maximumBackoff))),u),o.hideDeprecationWarnings=Boolean(o.hideDeprecationWarnings),o}function xm(t){return{Dw:t.Dw,Aw:t.Aw,Pw:t.Pw,Do:t.Do,xw:t.xw,Bw:t.Bw,Lw:t.Lw,Fw:t.Fw,Yl:t.Yl,Mw:t.Mw,Uw:t.Uw,Vw:t.Vw,Hw:t.Hw}}function Bm(t,n,e){if(n!==e){var i=n.Dw,r=n.Aw,u=n.Bw,o=n.Lw,s=n.Fw,a=n.Yl,c=n.Mw,f=(n.Vw,n.Uw,n.Hw),h=e.Dw,v=e.Aw,d=e.Pw,l=e.xw,w=e.Bw,y=e.Lw,m=e.Fw,_=e.Yl,p=e.Mw,b=(e.Vw,e.Uw,e.Hw);a!==Gy.pw&&t.lo(new fm(h,_)),y&&!o?t.lo(new hm(h)):!y&&o&&t.lo(new lm(h)),_>=Gy.bw&&t.lo(new gm(h,_)),v===r||g(v)&&g(r)||t.lo(new ym(v)),m!==s&&t.lo(new mm(h,m)),h!==i&&t.lo(new _m(h,void 0)),d&&t.lo(new pm(h)),_>=Gy.kw&&t.lo(new bm(h,_)),p&&!c?t.lo(new km(h)):!p&&c&&t.lo(new Tm(h)),b===f&&w===u||t.lo(new Sm(h,b)),_>=Gy.Tw&&t.lo(new Em(h,_)),_>=Gy.Sw&&t.lo(new Rm(h,_)),_!==a&&t.lo(new Im(h,_)),l&&t.lo(new Om(l))}}(Nm=Cm||(Cm={})).NONE="none",Nm.ALL="all",Nm.CONTENT="content",ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Lm=.25,Fm={qw:.2,zw:.45,Ww:.7,jw:3,Gw:jm,Xw:Gm},Mm={qw:.4,zw:.65,Ww:1,jw:3,Gw:jm,Xw:Gm},Um={qw:.4,zw:.7,Ww:.9,jw:3,Gw:jm,Xw:Gm},Vm={qw:.4,zw:.65,Ww:1,jw:3,Gw:jm,Xw:Gm},Hm={qw:.5,zw:1.125,Ww:1.75,jw:2.55,Gw:jm,Xw:Gm};function qm(){var t;return t=Wi.gu.Br?Vm:Wi.gu.Mr?Mm:Wi.gu.Fr?"Android"===Wi.yu.mu?Um:Fm:Hm,Wi.yu._u?function(t){if(Wi.yu._u){var n=d.max(.65,t.qw),e=d.max(n+Lm,t.zw),i=d.max(e+Lm,t.Ww);return{qw:n,zw:e,Ww:i,jw:d.max(i+Lm,t.jw),Gw:jm,Xw:Gm}}return t}(t):t}ki(),Vt(),ki(),Vt();var zm,Wm,jm=.92,Gm=1.08;function Xm(t){return{goLive:function(){return t.Yw()},get isLive(){return t.$w},get currentServerLiveTime(){return t.Kw},get currentLatency(){return t.Jw},get latency(){return t.Zw},set latency(n){if(!function(t){if(!lr(t))return!1;var n=t,e=fr(n.target)&&"number"==typeof n.target&&fr(n.windowEnd)&&"number"==typeof n.windowEnd&&fr(n.windowStart)&&"number"==typeof n.windowStart&&fr(n.maxOffset)&&"number"==typeof n.maxOffset,i=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return e&&i}(n))throw new f("Invalid latency configuration");t.Zw=n},get manifest(){return t.Qw},addEventListener:function(n,e){t.yo($m(n),e)},removeEventListener:function(n,e){t.bo($m(n),e)}}}(Wm=zm||(zm={}))[Wm.jl=0]="jl",Wm[Wm.tg=1]="tg",Wm[Wm.ng=2]="ng";var Ym=["golive","latencyrecoveryseek"];function $m(t){var n=dy(t,hy);return(gr(n)?[n]:n).filter((function(t){return nc(Ym,t)}))}var Km=function(t){function n(){var n,e;return(n=t.call(this)||this).Sl=void 0,n.Wd=void 0,n.eg={windowStart:(e=qm()).qw,windowEnd:e.Ww,target:e.zw,maxOffset:e.jw},n.Sl=void 0,n}Yi(n,t);var e=n.prototype;return e.Il=function(t){t.yo(Ym,this.do)},e.Ol=function(t){t.bo(Ym,this.do)},e.Yw=function(){var t;null==(t=this.Sl)||t.Yw()},e.kn=function(){this.po(),this.Sl&&this.Ol(this.Sl),this.Sl=void 0},Ri(n,[{key:"Cl",get:function(){return this.Sl},set:function(t){var n=this.Sl;t!==n&&(n&&this.Ol(n),t&&this.Il(t),this.Sl=t,this.Sl&&(this.Sl.Zw=this.eg))}},{key:"jd",get:function(){return this.Wd||(this.Wd=Xm(this)),this.Wd}},{key:"Kw",get:function(){var t;return null==(t=this.Sl)?void 0:t.Kw}},{key:"Jw",get:function(){var t;return null==(t=this.Sl)?void 0:t.Jw}},{key:"$w",get:function(){return!!this.Sl&&this.Sl.$w}},{key:"Zw",get:function(){return this.Sl?this.Sl.Zw:this.eg},set:function(t){this.Sl&&(this.Sl.Zw=t),this.eg=t}},{key:"Qw",get:function(){var t;return null==(t=this.Sl)?void 0:t.Qw}}]),n}(pc),Jm=function(t){function n(n){var e;return(e=t.call(this)||this).ig=[],e.rg=!1,e.ug=new Ty,e.og=new Ty,e.sg=new Oy,e.ag=new Km,e.cg=!1,e.fg(n),n._o(e.do),e.Sl=n,e.ug.Cl=n.hg,e.og.Cl=n.vg,e.sg.Cl=n.dg,e.ag.Cl=n.lg,e}Yi(n,t);var e=n.prototype;return e.gn=function(){this.Sl.gn()},e.yn=function(){this.Sl.yn()},e.wg=function(){var t=this;return ta((function(){return ea(this,(function(n){return[2,wc(t.ig.map((function(t){return t.wg()}))).then(pr)]}))}))()},e.gg=function(){return this.Sl.gg()},e.yg=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return sc(n),[4,e.Sl.yg(t,n)];case 1:return i.sent(),[2]}}))}))()},e.mg=function(){return this.Cl.mg()},e._g=function(){this.Cl._g()},e.pg=function(){this.Cl.pg()},e.En=function(){if(!this.rg){for(var t=0,n=this.ig;t<n.length;t++){n[t].En()}this.rg=!0}},e.bg=function(t){this.Sl.bg(t)},e.kg=function(){this.Sl.kg()},e.Tg=function(){this.Sl.Tg()},e.Sg=function(){this.Sl.Sg()},e.Eg=function(){return this.Sl.Eg()},e.Rg=function(){return this.Sl.Rg()},e.Ig=function(){for(var t=[],n=0,e=this.ig;n<e.length;n++){var i,r=e[n];(i=t).push.apply(i,Bi(r.Ig()))}return t},e.Og=function(t){for(var n=!1,e=0,i=this.ig;e<i.length;e++){n=i[e].Og(t)||n}return n},e.lo=function(n){this.Og(n)||t.prototype.lo.call(this,n)},e.fg=function(t){this.ig.push(t)},e.Cg=function(t){Qa(this.ig,t)},e.Ng=function(t){if(t!==this.Sl){var n=this.Sl;n.kg(),n.So(this.do);var e=xm(this),i=this.Dg,r=this.Rg();this.Sl=t,this.ug.Cl=t.hg,this.og.Cl=t.vg,this.sg.Cl=t.dg,this.ag.Cl=t.lg,Bm(this,e,this);var u=this.Dg;u!==i&&this.lo(new Ay(u)),this.Rg()!==r&&this.lo(new Dy),t._o(this.do),t.bg(n)}},e.Ag=function(){},e.kn=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:t.po(),t.Sl.kg(),n=0,e=t.ig,i.label=1;case 1:return n<e.length?[4,e[n].kn()]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return t.ug.kn(),t.og.kn(),t.sg.kn(),t.ag.kn(),[2]}}))}))()},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){return[2,wc(t.ig.map((function(t){return t.Bc()}))).then(pr)]}))}))()},Ri(n,[{key:"hg",get:function(){return this.ug}},{key:"dg",get:function(){return this.sg}},{key:"vg",get:function(){return this.og}},{key:"Pg",get:function(){return this.Sl.Pg}},{key:"xg",get:function(){return this.Sl.xg},set:function(t){this.Sl.xg=t}},{key:"Dg",get:function(){return this.Sl.Dg}},{key:"Dw",get:function(){return this.Sl.Dw},set:function(t){this.Sl.Dw=t}},{key:"Aw",get:function(){return this.Sl.Aw}},{key:"Bg",get:function(){return this.Sl.Bg}},{key:"Pw",get:function(){return this.Sl.Pw}},{key:"Do",get:function(){return this.Sl.Do}},{key:"xw",get:function(){return this.Sl.xw}},{key:"lg",get:function(){return this.ag}},{key:"Lg",get:function(){return this.Sl.Lg}},{key:"Fg",get:function(){return function(t){for(var n=0,e=0,i=0,r=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var a=t[s];n+=a.Mg,e+=a.Ug,i+=a.Vg,r+=a.Hg,u+=a.qg,o.amountOfBufferedAudioSegments+=a.zg.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=a.zg.amountOfBufferedVideoSegments}return{Mg:n,Ug:e,Vg:i,Hg:r,qg:u,zg:o}}(this.ig.map((function(t){return t.Fg})))}},{key:"Bw",get:function(){return this.Sl.Bw},set:function(t){this.Sl.Bw=t}},{key:"Wg",get:function(){return this.Sl.Wg}},{key:"Lw",get:function(){return this.Sl.Lw}},{key:"Fw",get:function(){return this.Sl.Fw},set:function(t){this.Sl.Fw=t}},{key:"jg",get:function(){return this.Sl.jg}},{key:"Gg",get:function(){return this.Sl.Gg},set:function(t){this.Sl.Gg=t}},{key:"Yl",get:function(){return this.Sl.Yl}},{key:"Xg",get:function(){return this.Sl.Xg}},{key:"Mw",get:function(){return this.Sl.Mw}},{key:"Uw",get:function(){return this.Sl.Uw}},{key:"Vw",get:function(){return this.Sl.Vw}},{key:"Hw",get:function(){return this.Sl.Hw},set:function(t){this.Sl.Hw=t}},{key:"Yg",get:function(){return this.Sl.Yg}},{key:"$g",get:function(){return!1},set:function(t){}},{key:"Cl",get:function(){return this.Sl},set:function(t){this.Ng(t)}}]),n}(Ny);ki(),Vt(),Ii(),ki(),Vt(),Ii();var Zm,Qm,t_=function(t){function n(n,e,i,r,u,o,s,a){var c;return(c=t.call(this,n,e,i)||this).url=r,c.status=u,c.statusText=o,c.response=s,c.systemCode=a,c}return Yi(n,t),Ri(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Md);(Qm=Zm||(Zm={}))[Qm.ABORTED=1]="ABORTED",Qm[Qm.NETWORK=2]="NETWORK",Qm[Qm.DECODE=3]="DECODE",Qm[Qm.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",Qm[Qm.ENCRYPTED=5]="ENCRYPTED",Qm[Qm.LICENSE_INVALID=6]="LICENSE_INVALID",Qm[Qm.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR";var n_=function(t){function n(n,e,i,r){var u;return(u=t.call(this,e)||this).code=n,u.message=null!=e?e:"Unknown error",u.cause=i,u.systemCode=r,f.captureStackTrace&&f.captureStackTrace(lu(u),u.constructor),u}return Yi(n,t),Ri(n,[{key:"name",get:function(){return"MediaError"}}]),n}(wu);function e_(t){ey(t,"MEDIA_ERR_ABORTED",1),ey(t,"MEDIA_ERR_NETWORK",2),ey(t,"MEDIA_ERR_DECODE",3),ey(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),ey(t,"MEDIA_ERR_ENCRYPTED",5)}function i_(t){var n,e;return function(t){return t.category===xd.CONTENT_PROTECTION}(t)?new n_(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new n_(function(t){if(t===Ad.MEDIA_ABORTED)return 1;if(t===Ad.MANIFEST_LOAD_ERROR||t===Ad.MEDIA_LOAD_ERROR||t===Ad.SUBTITLE_LOAD_ERROR)return 2;if(t===Ad.MEDIA_DECODE_ERROR)return 3;if(t===Ad.MEDIA_NOT_SUPPORTED)return 4;var n=xd.fromCode(t);if(n===xd.NETWORK)return 2;if(n===xd.SOURCE)return 4;if(n===xd.LICENSE)return 6;if(n===xd.CONTENT_PROTECTION)return 5;if(n===xd.AD)return 7;return 3}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}e_(n_),e_(n_.prototype),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt();var r_,u_,o_=function(t){function n(){return t.apply(this,arguments)}Yi(n,t);var e=n.prototype;return e._l=function(n){return t.prototype._l.call(this,n)},e.Gd=function(){return _y(this)},n}(Jg);ki(),Vt(),ki(),Vt(),(u_=r_||(r_={})).gv="audio",u_.yv="video",u_.Si="text",u_.mv="image",u_.ev="unknown",ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt();var s_=function(){function t(){this.Kg=[],this.Wd=void 0}var n=t.prototype;return n.Jg=function(t){this.Kg.push(t),this.Wd&&this.Wd.push(t.jd)},n.bc=function(t){Qa(this.Kg,t),this.Wd&&Qa(this.Wd,t.jd)},n.ml=function(t){return this.Kg[t]},n.Zg=function(t){return vr(t)?function(t,n){for(var e=0;e<n.length;e++)if(!nc(t,n[e]))return!1;return!0}(this.Kg,t):nc(this.Kg,t)},n.Bc=function(){ec(this.Kg),this.Wd&&ec(this.Wd)},Ri(t,[{key:"kl",get:function(){return this.Kg}},{key:"Tl",get:function(){return this.Kg.length}},{key:"jd",get:function(){var t,n;return this.Wd||(this.Wd=((n=(t=this).kl.map((function(t){return t.jd}))).item=function(n){var e=0|n,i=t.ml(e);return i&&i.jd||void 0},n)),this.Wd}}]),t}();ki(),Vt();var a_=function(t){function n(n){var e;return(e=t.call(this,Xg.vl)||this).Xd=n,e}return Yi(n,t),n.prototype.Gd=function(){return new c_(this.Xd.jd)},n}(zg),c_=function(t){function n(n){var e;return(e=t.call(this,"update")||this).track=n,e}return Yi(n,t),n}(Wg);ki(),Vt();var f_=0;function h_(){return f_++}var v_=0;var d_=0;var l_=0;var w_=function(t){function n(n){var e;return(e=t.call(this)||this).xu=r_.gv,e.Qg=!1,e.Wd=void 0,e.ty=n,e.ny=h_(),e.sc=l_+++"",e.ey=n.label,e.Kg=new s_,e.iy(),e}Yi(n,t);var e=n.prototype;return e.uy=function(t){this.Al=t},e.iy=function(){this.Al=this.oy},Ri(n,[{key:"Dl",get:function(){}},{key:"Al",get:function(){return this.Qg},set:function(t){this.Qg!==t&&(this.Qg=t,this.oy=t,this.lo(new Zg(this)))}},{key:"oy",get:function(){return this.ty.enabled},set:function(t){this.ty.enabled=t}},{key:"jd",get:function(){return this.Wd||(this.Wd=yy(this)),this.Wd}},{key:"Pl",get:function(){return this.sc}},{key:"xl",get:function(){return this.ny}},{key:"Bl",get:function(){return this.ty.kind}},{key:"Ll",get:function(){return this.ey},set:function(t){t!==this.ey&&(this.ey=t,this.lo(new a_(this)))}},{key:"Fl",get:function(){return this.ty.language}},{key:"ql",get:function(){return this.Al?"enabled":"disabled"}},{key:"sy",get:function(){return this.ty}},{key:"Ml",get:function(){return this.Kg}},{key:"Ul",get:function(){},set:function(t){}}]),n}(pc);ki(),Vt(),Ii();var g_=0;var y_=function(t){function n(n){var e;return(e=t.call(this)||this).xu=r_.yv,e.Qg=!1,e.Wd=void 0,e.ty=n,e.ny=h_(),e.sc=g_+++"",e.Kg=new s_,e.ey=n.label,e.iy(),e}Yi(n,t);var e=n.prototype;return e.iy=function(){this.Al=this.oy},e.uy=function(t){this.Al=t},Ri(n,[{key:"Dl",get:function(){}},{key:"Al",get:function(){return this.Qg},set:function(t){this.Qg!==t&&(this.Qg=t,this.oy=t,this.lo(new Zg(this)))}},{key:"oy",get:function(){return!!this.ty.selected},set:function(t){this.ty.selected=t}},{key:"jd",get:function(){return this.Wd||(this.Wd=yy(this)),this.Wd}},{key:"Pl",get:function(){return this.sc}},{key:"xl",get:function(){return this.ny}},{key:"Bl",get:function(){return"main"}},{key:"Ll",get:function(){return this.ey},set:function(t){t!==this.ey&&(this.ey=t,this.lo(new a_(this)))}},{key:"Fl",get:function(){return this.ty.language}},{key:"ql",get:function(){return this.Al?"enabled":"disabled"}},{key:"sy",get:function(){return this.ty}},{key:"Ml",get:function(){return this.Kg}},{key:"Ul",get:function(){},set:function(t){}}]),n}(pc);ki(),Vt();var m_,__,p_,b_,k_,T_,S_,E_,R_=function(t){function n(n){var e;return(e=t.call(this,ol.Mf)||this).Lg=n,e}return Yi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),(__=m_||(m_={}))[__.NONE=0]="NONE",__[__.LOADING=1]="LOADING",__[__.LOADED=2]="LOADED",__[__.ERROR=3]="ERROR",ki(),Vt(),(b_=p_||(p_={})).DEFAULT="",b_.SRT="srt",b_.TTML="ttml",b_.WEBVTT="webvtt",b_.EMSG="emsg",b_.EVENT_STREAM="eventstream",b_.ID3="id3",b_.CEA608="cea608",b_.DATE_RANGE="daterange",ki(),Vt(),ki(),Vt(),(T_=k_||(k_={})).hy="cue",T_.vy="region",T_.ly="stylesheet",ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(E_=S_||(S_={})).wy="gy",E_.yy="my",E_.vl="kc";var I_=function(t){function n(n,e){var i;return(i=t.call(this,n)||this)._y=e,i}return Yi(n,t),n}(zg),O_=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).cue=e,i}return Yi(n,t),n}(Wg);function C_(t){var n,e=[S_.wy,S_.yy,S_.vl],i={get track(){return t.Xd.jd},get id(){return t.Pl},get uid(){return t.xl},get startTime(){return t.py},get endTime(){return t.by},get content(){return t.ky},addEventListener:function(t,e){var i=dy(t,hy);n.yo(i,e)},removeEventListener:function(t,e){var i=dy(t,hy);n.bo(i,e)}};return n=new bc(i),t.yo(e,(function(t){return n.lo(t.jd)})),i}function N_(){}ki(),Vt(),Ii(),ki(),Vt();var D_=function(t){function n(n){return t.call(this,S_.vl,n)}return Yi(n,t),n.prototype.Gd=function(){return new A_(this._y.jd)},n}(I_),A_=function(t){function n(n){return t.call(this,"update",n)}return Yi(n,t),n}(O_),P_=.02;var x_=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this)||this).Wd=void 0,o.Ty=void 0,o.Sy=!1,o.Ey=-1,o.ny=d_++,o.Ry=n,o.Iy=e,o.Oy=i,o.Cy=Boolean(r),o.sc=null!=u?u:"",o}Yi(n,t);var e=n.prototype;return e.Gd=function(){return C_(this)},e.Ny=function(t){return this===t||oy(this,t)&&(e=t,ou((n=this).py,e.py,P_)&&ou(n.by,e.by,P_)&&n.Pl===e.Pl);var n,e},e.kn=function(){this.po()},Ri(n,[{key:"py",get:function(){return this.Ry},set:function(t){this.Ry!==t&&(this.Ry=t,this.lo(new D_(this)))}},{key:"by",get:function(){return this.Iy},set:function(t){this.Iy!==t&&(this.Iy=t,this.lo(new D_(this)))}},{key:"Pl",get:function(){return this.sc}},{key:"xl",get:function(){return this.ny}},{key:"jd",get:function(){return this.Wd||(this.Wd=this.Gd()),this.Wd}},{key:"Dy",get:function(){return this.Sy},set:function(t){this.Sy=t}},{key:"Xd",get:function(){return this.Ty},set:function(t){this.Ty=t}},{key:"ky",get:function(){return this.Oy},set:function(t){this.Oy!==t&&(this.Oy=t,this.lo(new D_(this)))}},{key:"Ay",get:function(){return this.Cy},set:function(t){this.Cy=t}}]),n}(pc);var B_=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,i,r,u)||this).Py="auto",o.xy="start",o.By="auto",o.Ly="auto",o.Fy=void 0,o.My=!0,o.zo=100,o.Uy="center",o.Vy="",o}return Yi(n,t),n.prototype.Ny=function(n){return this===n||oy(this,n)&&t.prototype.Ny.call(this,n)&&(i=n,(e=this).ky===i.ky&&e.Py===i.Py&&e.xy===i.xy&&e.By===i.By&&e.Ly===i.Ly&&e.Fy===i.Fy&&e.My===i.My&&e.zo===i.zo&&e.Uy===i.Uy&&e.Vy===i.Vy);var e,i},Ri(n,[{key:"jd",get:function(){var t;return this.Wd||(this.Wd=iy(C_(t=this),{get align(){return t.Uy},get line(){return t.Py},get lineAlign(){return t.xy},get position(){return t.By},get positionAlign(){return t.Ly},get region(){return t.Fy?t.Fy.jd:null},get size(){return t.zo},get snapToLines(){return t.My},get text(){return t.ky},get vertical(){return t.Vy}})),this.Wd}},{key:"xu",get:function(){return k_.hy}}]),n}(x_);ki(),Vt(),Ii(),ki(),Vt();var L_=function(){function t(t,n,e,i,r,u,o,s){this.Pl=t,this.Hy=n,this.qy=e,this.zy=i,this.Wy=r,this.jy=u,this.Gy=o,this.Xy=s}return Ri(t,[{key:"jd",get:function(){var t;return this.Wd||(this.Wd=(t=this,{get id(){return t.Pl},get identifier(){return t.Pl},get lines(){return t.qy},get regionAnchorX(){return t.zy},get regionAnchorY(){return t.Wy},get scrollValue(){return t.Xy},get viewportAnchorX(){return t.jy},get viewportAnchorY(){return t.Gy},get width(){return t.Hy}})),this.Wd}},{key:"xu",get:function(){return k_.vy}}]),t}();ki(),Vt(),ki(),Vt();var F_=1e6,M_=function(){function t(){}var n=t.prototype;return n.Yy=function(t){return this.$y()*t},n.Ky=function(t){return this.Jy(t)>0},n.Zy=function(t){return this.Jy(t)>=0},n.Qy=function(t,n){return this.nm(t).tm(n)},n.Ny=function(t){return 0===this.Jy(t)},n.im=function(t){return this.Jy(t)<0},n.tm=function(t){return this.Jy(t)<=0},n.rm=function(){return this.um()?this.om():this},n.sm=function(t){return this.Jg(t.om())},n.nm=function(t){return this.sm(t).rm()},t}();function U_(t,n){return t.am()?n.am()?qa.ju:qa.Gu:n.am()?qa.Xu:t.fm()?n.fm()&&t.um()===n.um()?qa.ju:t.um()?qa.Xu:qa.Gu:n.um()?qa.Gu:qa.Xu}ki(),Vt(),ki(),Vt();var V_=0x10000000000000000,H_=V_*V_,q_=H_/2,z_=function(){function t(t,n){this.hm=t,this.vm=n}var n=t.prototype;return n.dm=function(){return this.vm.unsigned},n.lm=function(){return this.hm.isZero()&&this.vm.isZero()},n.um=function(){return this.vm.isNegative()},n.wm=function(){return this.dm()?t.gm(this.hm,this.vm,!1):this},n.ym=function(){return this.dm()?this:t.gm(this.hm,this.vm,!0)},n._m=function(){return this.hm},n.$y=function(){return this.um()?-this.om().$y():this.vm.toNumber()*V_+this.hm.toUnsigned().toNumber()},n.pm=function(){return this.hm.toInt()},n.Ny=function(t){return(this.dm()===t.dm()||this.vm.getHighBits()>>>31!=1||t.vm.getHighBits()>>>31!=1)&&(this.vm.toUnsigned().eq(t.vm.toUnsigned())&&this.hm.toUnsigned().eq(t.hm.toUnsigned()))},n.Jy=function(t){if(this.Ny(t))return qa.ju;var n=this.um(),e=t.um();if(n&&!e)return qa.Xu;if(!n&&e)return qa.Gu;if(!this.dm())return this.sm(t).um()?qa.Xu:qa.Gu;var i=this.ym(),r=t.ym(),u=r.vm.comp(i.vm);return u>0||0===u&&r.hm.gt(i.hm)?qa.Xu:qa.Gu},n.im=function(t){return this.Jy(t)<0},n.tm=function(t){return this.Jy(t)<=0},n.bm=function(t){return this.Jy(t)>0},n.km=function(t){return this.Jy(t)>=0},n.Tm=function(){return new t(this.hm.not(),this.vm.not())},n.Sm=function(n){return new t(this.hm.and(n.hm),this.vm.and(n.vm))},n.Em=function(n){return new t(this.hm.or(n.hm),this.vm.or(n.vm))},n.Rm=function(n){var e=127&n;return 0===e?this:e<64?t.gm(this.hm.shl(e),this.vm.shl(e).or(this.hm.shru(64-e)),this.dm()):t.gm(iu.ZERO,this.hm.shl(e-64),this.dm())},n.Im=function(n){var e=127&n;return 0===e?this:e<64?t.gm(this.hm.shru(e).or(this.vm.shl(64-e)),this.vm.shr(e),this.dm()):t.gm(this.vm.shr(e-64),this.vm.isNegative()?iu.NEG_ONE:iu.ZERO,this.dm())},n.Om=function(n){var e=127&n;return 0===e?this:e<64?t.gm(this.hm.shru(e).or(this.vm.shl(64-e)),this.vm.shru(e),this.dm()):64===e?t.gm(this.vm,iu.ZERO,this.dm()):t.gm(this.vm.shru(e-64),iu.ZERO,this.dm())},n.Jg=function(n){var e=this.vm.high>>>16,i=65535&this.vm.high,r=this.vm.low>>>16,u=65535&this.vm.low,o=this.hm.high>>>16,s=65535&this.hm.high,a=this.hm.low>>>16,c=65535&this.hm.low,f=n.vm.high>>>16,h=65535&n.vm.high,v=n.vm.low>>>16,d=65535&n.vm.low,l=n.hm.high>>>16,w=65535&n.hm.high,g=n.hm.low>>>16,y=0,m=0,_=0,p=0,b=0,k=0,T=0,S=0;T+=(S+=c+(65535&n.hm.low))>>>16,S&=65535,k+=(T+=a+g)>>>16,T&=65535,b+=(k+=s+w)>>>16,k&=65535,p+=(b+=o+l)>>>16,b&=65535,_+=(p+=u+d)>>>16,p&=65535,m+=(_+=r+v)>>>16,_&=65535,y+=(m+=i+h)>>>16,m&=65535,y+=e+f,y&=65535;var E=this.dm(),R=iu.fromBits(_<<16|p,y<<16|m,E),I=iu.fromBits(T<<16|S,b<<16|k,E);return t.gm(I,R,E)},n.sm=function(t){return this.Jg(t.om())},n.om=function(){return this.Tm().Jg(t.Cm)},n.Nm=function(n){if(this.lm()||n.lm())return this.dm()?t.Dm:t.Am;if(this.um())return n.um()?this.om().Nm(n.om()):this.om().Nm(n).om();if(n.um())return this.Nm(n.om()).om();if(this.vm.isZero()&&0===this.hm.high&&n.vm.isZero()&&0===n.hm.high)return t.Pm(this.hm.multiply(n.hm));var e=iu.fromBits(4294967295,0,!0),i=this.hm.and(e),r=this.hm.shru(32),u=this.vm.and(e),o=this.vm.shru(32),s=n.hm.and(e),a=n.hm.shru(32),c=n.vm.and(e),f=n.vm.shru(32),h=iu.UZERO,v=iu.UZERO,d=iu.UZERO,l=iu.UZERO;h=h.add(i.mul(s)),v=v.add(h.shru(32)),h=h.and(e),v=v.add(r.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(e)).add(i.mul(a)),d=d.add(v.shru(32)),v=v.and(e),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(e)).add(r.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(e)).add(i.mul(c)),l=l.add(d.shru(32)),d=d.and(e),l=l.add(o.mul(s)).add(u.mul(a)).add(r.mul(c)).add(i.mul(f)).and(e);var w=iu.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=iu.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.gm(w,g,this.dm())},n.xm=function(n){var e,i,r=n;if(r.lm())throw new RangeError("division by zero");if(this.lm())return this.dm()?[t.Dm,t.Dm]:[t.Am,t.Am];if(this.dm()){if(r.dm()||(r=r.ym()),r.bm(this))return[t.Dm,this];if(r.bm(this.Om(1)))return[i=t.Bm,e=this.sm(r)];i=t.Dm}else{if(this.Ny(t.Lm)){if(r.Ny(t.Cm)||r.Ny(t.Fm))return[t.Lm,t.Am];if(r.Ny(t.Lm))return[t.Cm,t.Am];var u=this.Im(1).Mm(r).Rm(1);return u.Ny(t.Am)?i=r.um()?t.Cm:t.Fm:(e=this.sm(r.Nm(u)),i=u.Jg(e.Mm(r))),[i,e=this.sm(r.Nm(i))]}if(r.Ny(t.Lm))return this.dm()?[t.Dm,this]:[t.Am,this];var o,s;if(this.um())return r.um()?this.om().xm(r.om()):(i=(o=ia(this.om().xm(r),2))[0],e=o[1],[i.om(),e.om()]);if(r.um())return i=(s=ia(this.xm(r.om()),2))[0],e=s[1],[i.om(),e.om()];i=t.Am}for(e=this;e.km(r);){for(var a=d.max(1,d.floor(e.$y()/r.$y())),c=d.ceil(d.log(a)/d.LN2),f=c<=48?1:d.pow(2,c-48),h=t.Um(a),v=h.Nm(r);v.um()||v.bm(e);)a-=f,v=(h=t.Um(a,this.dm())).Nm(r);h.lm()&&(h=t.Cm),i=i.Jg(h),e=e.sm(v)}return[i,e]},n.Mm=function(t){return this.xm(t)[0]},n.Vm=function(t){return this.xm(t)[1]},n.toString=function(n){var e=n||10;if(e<2||e>36)throw new RangeError("radix");if(this.lm())return"0";if(this.um()){if(this.Ny(t.Lm)){var i=t.Um(e),r=this.Mm(i),u=r.Nm(i).sm(this);return r.toString(e)+u.pm().toString(e)}return"-"+this.om().toString(e)}for(var o=t.Um(d.pow(e,6),this.dm()),s=this,a="";;){var c=s.Mm(o),f=(s.sm(c.Nm(o)).pm()>>>0).toString(e);if((s=c).lm())return f+a;for(;f.length<6;)f="0"+f;a=String(f)+a}},t.gm=function(n,e,i){return i?new t(n.toUnsigned(),e.toUnsigned()):new t(n.toSigned(),e.toSigned())},t.Pm=function(n){return n.unsigned?new t(n,iu.UZERO):new t(n,n.isNegative()?iu.NEG_ONE:iu.ZERO)},t.Um=function(n,e){if(g(n))return e?t.Dm:t.Am;if(e){if(n<0)return t.Dm;if(n>=H_)return t.Hm}else{if(n<=-q_)return t.Lm;if(n+1>=q_)return t.qm}return n<0?t.Um(-n,e).om():t.gm(iu.fromNumber(n%V_),iu.fromNumber(n/V_),e)},t}();z_.Am=z_.Pm(iu.ZERO),z_.Dm=z_.Pm(iu.UZERO),z_.Cm=z_.Pm(iu.ONE),z_.Bm=z_.Pm(iu.UONE),z_.Fm=z_.Pm(iu.NEG_ONE),z_.qm=z_.gm(iu.NEG_ONE,iu.MAX_VALUE,!1),z_.Hm=z_.gm(iu.MAX_UNSIGNED_VALUE,iu.MAX_UNSIGNED_VALUE,!0),z_.Lm=z_.gm(iu.ZERO,iu.MIN_VALUE,!1),ki(),Vt(),Ii();var W_=function(){function t(t,n){void 0===n&&(n=1),this.zm=t,this.Wm=n}var n=t.prototype;return n.Jg=function(n){return this.Wm>=n.Wm?new t(this.zm+n.jm(this.Wm).zm,this.Wm):new t(this.jm(n.Wm).zm+n.zm,n.Wm)},n.Ky=function(t){return t.im(this)},n.Zy=function(t){return t.tm(this)},n.nm=function(n){return this.Wm>=n.Wm?new t(d.abs(this.zm-n.jm(this.Wm).zm),this.Wm):n.nm(this)},n.Qy=function(t,n){return this.nm(t).tm(n)},n.Jy=function(t){return e=t,(n=this).Wm>=e.Wm?Ka(n.zm,e.jm(n.Wm).zm):Ka(n.jm(e.Wm).zm,e.zm);var n,e},n.Ny=function(t){return 0===this.Jy(t)},n.im=function(t){return this.Jy(t)<0},n.tm=function(t){return this.Jy(t)<=0},n.jm=function(n){return new t(this.zm*(n/this.Wm),n)},n.sm=function(n){return this.Wm>=n.Wm?new t(this.zm-n.jm(this.Wm).zm,this.Wm):new t(this.jm(n.Wm).zm-n.zm,n.Wm)},n.Gm=function(n){return new t(this.zm*n,this.Wm)},t.Xm=function(n){return new t(d.ceil(n.zm),n.Wm)},t.Ym=function(n){return new t(d.floor(n.zm),n.Wm)},t.$m=function(t,n){return t.Zy(n)?t:n},t.Km=function(t,n){return t.tm(n)?t:n},Ri(t,[{key:"fm",get:function(){return!isFinite(this.zm)}},{key:"Jm",get:function(){return this.zm/this.Wm}}]),t}();W_.Zm=new W_(1/6,1),W_.Am=new W_(0),W_.Qm=new W_(1/0),W_.t_=1e6;var j_=function(t){function n(n,e){var i;return(i=t.call(this)||this).Bi=n.toSigned(),i.Wm=e>>>0,i}Yi(n,t);var e=n.prototype;return e.um=function(){return this.Bi.isNegative()},e.lm=function(){return 0!==this.Wm&&this.Bi.isZero()},e.fm=function(){return 0===this.Wm&&!this.Bi.isZero()},e.am=function(){return 0===this.Wm&&this.Bi.isZero()},e.$y=function(){if(0===this.Wm)return this.Bi.isZero()?NaN:this.Bi.isNegative()?-1/0:1/0;var t=this.Bi.divide(this.Wm),n=this.Bi.subtract(t.multiply(this.Wm));return t.toNumber()+n.toNumber()/this.Wm},e._m=function(){if(0===this.Wm)throw new f("Failed to convert timestamp");return this.Bi},e.n_=function(){return new Date(0===this.Wm?NaN:this.jm(1e3).Bi.toNumber())},e.e_=function(){return new W_(0===this.Wm?this.$y():this.Bi.toNumber(),this.Wm)},e.jm=function(t,e){void 0===e&&(e=G_.i_);var i=this.Wm;if(i===t)return this;if(0===i)return this;var r=su(i,t);return new n(function(t,n,e){var i=ia(t.xm(n),2),r=i[0],u=i[1];if(u.lm())return r;if(e===G_.i_)return u.um()?r.sm(z_.Cm):r;if(e===G_.r_)return u.um()?r:r.Jg(z_.Cm);var o=u.Nm(z_.Um(2));return o.um()?o.om().im(n)?r:r.sm(z_.Cm):o.im(n)?r:r.Jg(z_.Cm)}(z_.Pm(this.Bi).Nm(z_.Um(t/r)),z_.Um(i/r),e)._m(),t)},e.Jy=function(t){if(this===t)return qa.ju;if(0===this.Wm||0===t.Wm)return U_(this,t);if(this.lm())return t.lm()?qa.ju:t.um()?qa.Gu:qa.Xu;if(t.lm())return this.um()?qa.Xu:qa.Gu;var n=d.min(this.Wm,t.Wm),e=this.jm(n,G_.u_).Bi,i=t.jm(n,G_.u_).Bi;return e.compare(i)},e.om=function(){return 0===this.Wm?function(t){0;return t.am()?t:t.um()?j_.o_:j_.s_}(this):new n(this.Bi.negate(),this.Wm)},e.Jg=function(t){if(0===this.Wm||0===t.Wm)return function(t,n){0;if(t.am()||n.am())return j_.a_;if(t.fm()&&n.fm())return t.um()===n.um()?t:j_.a_;return t.fm()?t:n}(this,t);if(this.lm())return t;if(t.lm())return this;var e=d.max(this.Wm,t.Wm),i=this.jm(e,G_.u_),r=t.jm(e,G_.u_);return new n(i.Bi.add(r.Bi),e)},e.Nm=function(t){if(this.am()||g(t))return n.a_;if(this.fm()||!isFinite(t)){if(this.lm()||0===t)return n.a_;var e=this.um()?n.s_:n.o_;return t<0?e.om():e}return this.lm()?this:new n(0===t?iu.ZERO:this.Bi.multiply(t),this.Wm)},e.Mm=function(t){if(this.am()||g(t))return n.a_;if(this.fm())return isFinite(t)?0===t?1/t<0?this.om():this:t<0?this.om():this:n.a_;if(!isFinite(t))return new n(iu.ZERO,this.Wm);if(this.lm())return 0===t?n.a_:new n(iu.ZERO,this.Wm);if(0===t){var e=this.um()?n.s_:n.o_;return 1/t<0?e.om():e}return new n(this.Bi.divide(t),this.Wm)},e.c_=function(){return[this.Bi.low,this.Bi.high,this.Wm]},n.f_=function(t,e){return void 0===e&&(e=F_),n.Um(t*e,e)},n.Um=function(t,e){return g(t)?n.a_:t===1/0?n.o_:t===-1/0?n.s_:new n(iu.fromNumber(t),e)},n.Pm=function(t,e){return new n(t,e)},n.h_=function(t){return n.f_(t.Jm,F_)},n.v_=function(t){return new n(iu.fromNumber(t.getTime()),1e3)},n.$m=function(t,n){return t.Zy(n)?t:n},n.Km=function(t,n){return t.tm(n)?t:n},n.d_=function(t,e,i){return n.$m(e,n.Km(i,t))},n}(M_);j_.Am=new j_(iu.ZERO,F_),j_.a_=new j_(iu.ZERO,0),j_.o_=new j_(iu.ONE,0),j_.s_=new j_(iu.NEG_ONE,0),ki(),Vt(),Ii(),$();var G_,X_,Y_=function(t){function n(n,e){var i;return(i=t.call(this)||this).Bi=BigInt.asIntN(64,n),i.Wm=e>>>0,i}Yi(n,t);var e=n.prototype;return e.um=function(){return this.Bi<BigInt(0)},e.lm=function(){return 0!==this.Wm&&this.Bi===BigInt(0)},e.fm=function(){return 0===this.Wm&&this.Bi!==BigInt(0)},e.am=function(){return 0===this.Wm&&this.Bi===BigInt(0)},e.$y=function(){if(0===this.Wm)return this.Bi===BigInt(0)?NaN:this.Bi<BigInt(0)?-1/0:1/0;var t=this.Bi/BigInt(this.Wm),n=this.Bi-t*BigInt(this.Wm);return Number(t)+Number(n)/this.Wm},e._m=function(){if(0===this.Wm)throw new f("Failed to convert timestamp");return this.l_()},e.l_=function(){var t=this.Bi&BigInt(4294967295),n=this.Bi>>BigInt(32)&BigInt(4294967295);return iu.fromBits(Number(t),Number(n))},e.n_=function(){return new Date(0===this.Wm?NaN:Number(this.jm(1e3).Bi))},e.e_=function(){return new W_(0===this.Wm?this.$y():Number(this.Bi),this.Wm)},e.jm=function(t,e){void 0===e&&(e=G_.i_);var i=this.Wm;if(i===t)return this;if(0===i)return this;var r=su(i,t);return new n(function(t,n,e){var i=t/n,r=t-i*n;if(r===BigInt(0))return i;if(e===G_.i_)return r<BigInt(0)?i-BigInt(1):i;if(e===G_.r_)return r<BigInt(0)?i:i+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?i:i-BigInt(1):u<n?i:i+BigInt(1)}(this.Bi*BigInt(t/r),BigInt(i/r),e),t)},e.Jy=function(t){if(this===t)return qa.ju;if(0===this.Wm||0===t.Wm)return U_(this,t);if(this.lm())return t.lm()?qa.ju:t.um()?qa.Gu:qa.Xu;if(t.lm())return this.um()?qa.Xu:qa.Gu;var n=d.min(this.Wm,t.Wm),e=this.jm(n,G_.u_).Bi,i=t.jm(n,G_.u_).Bi;return e>i?qa.Gu:e<i?qa.Xu:qa.ju},e.om=function(){return 0===this.Wm?function(t){0;return t.am()?t:t.um()?Y_.o_:Y_.s_}(this):new n(-this.Bi,this.Wm)},e.Jg=function(t){if(0===this.Wm||0===t.Wm)return function(t,n){0;if(t.am()||n.am())return Y_.a_;if(t.fm()&&n.fm())return t.um()===n.um()?t:Y_.a_;return t.fm()?t:n}(this,t);if(this.lm())return t;if(t.lm())return this;var e=d.max(this.Wm,t.Wm),i=this.jm(e,G_.u_),r=t.jm(e,G_.u_);return new n(i.Bi+r.Bi,e)},e.Nm=function(t){if(this.am()||g(t))return n.a_;if(this.fm()||!isFinite(t)){if(this.lm()||0===t)return n.a_;var e=this.um()?n.s_:n.o_;return t<0?e.om():e}return this.lm()?this:new n(0===t?BigInt(0):this.Bi*BigInt(t),this.Wm)},e.Mm=function(t){if(this.am()||g(t))return n.a_;if(this.fm())return isFinite(t)?0===t?1/t<0?this.om():this:t<0?this.om():this:n.a_;if(!isFinite(t))return new n(BigInt(0),this.Wm);if(this.lm())return 0===t?n.a_:new n(BigInt(0),this.Wm);if(0===t){var e=this.um()?n.s_:n.o_;return 1/t<0?e.om():e}return new n(this.Bi/BigInt(t),this.Wm)},e.c_=function(){var t=this.l_();return[t.low,t.high,this.Wm]},n.f_=function(t,e){return void 0===e&&(e=F_),n.Um(t*e,e)},n.Um=function(t,e){return g(t)?n.a_:t===1/0?n.o_:t===-1/0?n.s_:new n(BigInt(d.floor(t)),e)},n.Pm=function(t,e){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),e)},n.h_=function(t){return n.f_(t.Jm,F_)},n.v_=function(t){return n.Um(t.getTime(),1e3)},n.$m=function(t,n){return t.Zy(n)?t:n},n.Km=function(t,n){return t.tm(n)?t:n},n.d_=function(t,e,i){return n.$m(e,n.Km(i,t))},Ri(n,null,[{key:"Am",get:function(){return n.w_||(n.w_=new n(BigInt(0),F_)),n.w_}},{key:"a_",get:function(){return n.g_||(n.g_=new n(BigInt(0),0)),n.g_}},{key:"o_",get:function(){return n.y_||(n.y_=new n(BigInt(1),0)),n.y_}},{key:"s_",get:function(){return n.m_||(n.m_=new n(BigInt(-1),0)),n.m_}}]),n}(M_);Y_.w_=void 0,Y_.g_=void 0,Y_.y_=void 0,Y_.m_=void 0,(X_=G_||(G_={}))[X_.i_=0]="i_",X_[X_.r_=1]="r_",X_[X_.u_=2]="u_";var $_=function(){try{return"function"==typeof BigInt&&"bigint"===C(BigInt(0))}catch(t){return!1}}()?Y_:j_;ki(),Vt();var K_=d.pow(2,33);$_.Um(K_,9e4).Mm(2);ki(),Vt();var J_,Z_,Q_,tp,np,ep,ip,rp,up,op={__:0,p_:1/0,b_:0},sp=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],ap=[" ","\t","\n","\f","\r"],cp=/^\d*$/,fp=/.*[0-9]+.*/,hp=/^[\d.-]+$/,vp=/(^\.|\.$)/,dp=/(\D\.|\.\D)/;function lp(t){var n=Aa(t,"\0"," "),e=Aa(n,"\r\n","\n");return Aa(e,"\r","\n")}function wp(t,n,e){for(var i=e.Yo;e.Yo<t.length&&n(t.charAt(e.Yo));)e.jo(1);return t.substring(i,e.Yo)}function gp(t,n,e,i,r,u){for(var o,s=0,a=n.Yo,c="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(o=wp(t,(function(t){return"\n"!==t}),n),s++,n.Yo>=t.length?f=!0:n.jo(1),Pa(o,"--\x3e")){if(i||1!==s&&(2!==s||h)){n.Go(a);break}h=!0,a=n.Yo,v=new B_(0,0,"",!1,c);try{pp(o,r.k_,v,u),c=""}catch(t){Wi.Zr(t),v=null}}else{if(""===o)break;i&&xa(o,"X-TIMESTAMP-MAP")&&(r.T_=yp(o)),i||2!==s||e||(La("STYLE",c.replace(/ /g,""))?(d={xu:k_.ly},c=""):La("REGION",c.replace(/ /g,""))&&(l=new L_("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,a=n.Yo}if(v)return v.ky=c,v;if(d);else if(l)return function(t,n){for(var e=t.split(/\s/),i=":",r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&Pa(u,i)&&u.charAt(0)!==i&&u.charAt(u.length-1)!==i){var o=u.indexOf(i),s=u.substring(0,o),a=u.substring(o+1,u.length);switch(s.toUpperCase()){case"ID":Bp(a,n);break;case"WIDTH":Mp(a,n);break;case"LINES":Fp(a,n);break;case"REGIONANCHOR":var c=xp(a);c&&(n.zy=c[0],n.Wy=c[1]);break;case"VIEWPORTANCHOR":var f=xp(a);f&&(n.jy=f[0],n.Gy=f[1]);break;case"SCROLL":Lp(a,n)}}}}(c,l),l;return null}function yp(t){var n,e,i=t.split("=")[1].trim().split(","),r=mp(i[0].trim(),"MPEGTS")?i[0]:i[1],u=mp(i[0].trim(),"LOCAL")?i[0]:i[1];return{S_:(e=Number(r.split(/:(.*)/)[1].trim())||0,$_.Um(e,9e4)),E_:$_.f_(null!=(n=Tp(u.split(/:(.*)/)[1].trim(),new Df))?n:0)}}function mp(t,n){return xa(t,n)}function _p(t,n){t&&function(t){return"cue"===t.xu}(t)?n.$l.push(t):t&&function(t){return"region"===t.xu}(t)?n.k_.push(t):t&&function(t){return"stylesheet"===t.xu}(t)&&n.R_.push(t)}function pp(t,n,e,i){var r=new Df;if(Ep(t,r),e.py=bp(Tp(t,r),i),Ep(t,r),"--\x3e"!==t.substring(r.Yo,r.Yo+3))throw f("Something went wrong with parsing a WebVTT Cue");r.jo(3),Ep(t,r),e.by=bp(Tp(t,r),i),function(t,n,e){for(var i=t.split(/\s/),r=":",u=0;u<i.length;u++){var o=i[u];if(0!==o.length&&Pa(o,r)&&o.charAt(0)!==r&&o.charAt(o.length-1)!==r){var s=o.indexOf(r),a=o.substring(0,s),c=o.substring(s+1,o.length);switch(a.toUpperCase()){case"REGION":Np(c,n,e);break;case"VERTICAL":Ap(c,n);break;case"D":Pp(c,n);break;case"LINE":case"L":Op(c,n);break;case"POSITION":case"T":Cp(c,n);break;case"SIZE":case"S":Dp(c,n);break;case"ALIGN":case"A":Ip(c,n)}}}}(t.substring(r.Yo,t.length),e,n)}function bp(t,n){return t+n.__}function kp(t){return/^[0-9]$/.test(t)}function Tp(t,n){var e,i,r,u=Aa(t,",","."),o=!1;if(n.Yo>=u.length||!kp(u.charAt(n.Yo)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var s=wp(u,kp,n),a=l(s,10);if((s.length>2||a>59)&&(o=!0),n.Yo>=u.length||":"!==u.charAt(n.Yo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.jo(1);var c=wp(u,kp,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(c,10);if(o||n.Yo<u.length&&":"===u.charAt(n.Yo)){if(n.Yo>=u.length||":"!==u.charAt(n.Yo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.jo(1);var v=wp(u,kp,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");e=a,i=h,r=l(v,10)}else e=0,i=a,r=h;if(n.Yo>=u.length||"."!==u.charAt(n.Yo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.jo(1);var d=wp(u,kp,n),w=l(d,10);if(h>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*e*60+60*i+r+w/1e3}function Sp(t){if(t.length<6)return!1;for(var n=0;n<sp.length;n++){if(xa(t,sp[n]))return!0}return!1}function Ep(t,n){for(;n.Yo<t.length&&(e=t.charAt(n.Yo),nc(ap,e));)n.jo(1);var e}function Rp(t){var n=t.lastIndexOf("%");if(n>-1){var e=w(t.substring(0,n));if(!g(e)&&e>=0&&e<=100)return e}return null}function Ip(t,n){var e=t.toLowerCase();switch(e){case"start":case"center":case"end":case"left":case"right":n.Uy=e;break;case"middle":n.Uy="center"}}function Op(t,n){var e,i,r=t.indexOf(",");if(r>=0?(e=t.substring(0,r),i=t.substring(r+1,t.length)):(e=t,i=""),fp.test(e)){var u,o;if(Ba(e,"%")){var s=Rp(e);if(null===s)return;u=s,o=!1}else{if(!hp.test(e)||e.lastIndexOf("-")>0)return;var a=e.indexOf(".");if(a>=0&&(a!==e.lastIndexOf(".")||!dp.test(e)||vp.test(e)))return;if(u=w(e),g(u))return;o=!0}switch(n.Py=u,n.My=o,i=i.toLowerCase()){case"start":case"center":case"end":n.xy=i;break;case"middle":n.xy="center"}}}function Cp(t,n){var e,i,r=t.indexOf(",");r>=0?(e=t.substring(0,r),i=t.substring(r+1,t.length)):(e=t,i="");var u=Rp(e);if(null!==u)switch(n.By=u,i=i.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Ly=i;break;case"start":n.Ly="line-left";break;case"middle":n.Ly="center";break;case"end":n.Ly="line-right"}}function Np(t,n,e){var i=Za(e,(function(n){return n.Pl===t}));void 0!==i&&(n.Fy=i)}function Dp(t,n){var e=Rp(t);null!==e&&(n.zo=e)}function Ap(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Vy="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Vy="lr";break;default:n.Vy=""}}function Pp(t,n){"VERTICAL"===t.toUpperCase()?n.Vy="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Vy="lr")}function xp(t){if(t.indexOf(",")>=0){var n=Rp(t.substring(0,t.indexOf(","))),e=Rp(t.substring(t.indexOf(",")+1,t.length));return[uu(n||0,0,100),uu(e||100,0,100)]}return null}function Bp(t,n){n.Pl=t}function Lp(t,n){"up"===t.toLowerCase()&&(n.Xy="up")}function Fp(t,n){cp.test(t)&&(n.qy=l(t))}function Mp(t,n){var e=Rp(t);null!==e&&(n.Hy=e)}ki(),Vt(),ki(),Vt(),ki(),Vt(),(Z_=J_||(J_={})).I_="moov",Z_.O_="mvhd",Z_.C_="trak",Z_.N_="tkhd",Z_.D_="mdia",Z_.A_="mdhd",Z_.P_="hdlr",Z_.x_="minf",Z_.B_="stbl",Z_.L_="stsd",Z_.F_="stsc",Z_.M_="mvex",Z_.U_="trex",Z_.V_="avc1",Z_.H_="avcC",Z_.q_="hev1",Z_.z_="hvc1",Z_.W_="hvcC",Z_.j_="vp09",Z_.G_="vpcC",Z_.X_="av01",Z_.Y_="av1C",Z_.K_="colr",Z_.J_="pasp",Z_.Z_="mp4a",Z_.Q_="esds",Z_.tp="wvtt",Z_.np="vttC",Z_.ep="vlab",Z_.ip="enca",Z_.rp="encv",Z_.op="moof",Z_.sp="mfhd",Z_.ap="traf",Z_.cp="tfhd",Z_.fp="trun",Z_.hp="tfdt",Z_.vp="senc",Z_.dp="mdat",Z_.lp="pssh",Z_.wp="emsg",Z_.gp="sidx",Z_.yp="styp",Z_.mp="ftyp",Z_._p="sinf",Z_.pp="frma",function(t){t.yv="vide",t.gv="soun",t.bp="subt",t.kp="hint",t.Tp="meta",t.Sp="auxv"}(Q_||(Q_={})),(np=tp||(tp={})).ON_SCREEN_COLOURS="nclx",np.RESTRICTED_ICC_PROFILE="rICC",np.UNRESTRICED_ICC_PROFILE="prof",(ip=ep||(ep={}))[ip.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",ip[ip.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",ip[ip.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",ip[ip.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",ip[ip.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",ip[ip.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",ip[ip.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",(up=rp||(rp={}))[up.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",up[up.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",up[up.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",up[up.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",up[up.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",up[up.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",ki(),Vt();var Up=function(){function t(t,n){this.Qi=t,this.Ep=n}var n=t.prototype;return n.Rp=function(){return tf(this.Qi,this.Ep)},n.Ip=function(){return uf(this.Qi,this.Ep)},n.Op=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt16(n.Yo,e);return n.jo(2),i}(this.Qi,this.Ep)},n.Cp=function(){return sf(this.Qi,this.Ep)},n.Np=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt32(n.Yo,e);return n.jo(4),i}(this.Qi,this.Ep)},n.Dp=function(){return cf(this.Qi,this.Ep)},n.Ap=function(t){return ef(this.Qi,this.Ep,t)},n.Pp=function(t){return function(t,n,e){for(var i=[],r=0;r<e;r++)i.push(sf(t,n));return i}(this.Qi,this.Ep,t)},n.xp=function(t){return hf(this.Qi,this.Ep,t)},n.Bp=function(){return pf(this.Qi,this.Ep)},n.Lp=function(t){this.Ep.jo(t)},n.Xo=function(){return new t(this.Qi,this.Ep.Xo())},t}();ki(),Vt(),Ii(),ki(),Vt();var Vp=function(t){function n(n,e){var i;return(i=t.call(this)||this).Fp=n,i.Mp=e,i}return Yi(n,t),Ri(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(gu),Hp=function(){function t(){}return t.Up=function(n){var e=n.Qi,i=n.Ep,r=t.Vp(e,i,!1);if(!r.Hp)throw new Vp(i.Yo,r.Wi);return r.Wi},t.Vp=function(n,e,i){for(var r=[];e.Yo<n.byteLength;){var u=t.qp(n,e,i);if(!u.Hp)return{Hp:!1,Wi:r};r.push(u.zp)}return{Hp:!0,Wi:r}},t.Wp=function(n,e){var i=t.qp(n,e,!1);if(!i.Hp)throw new Vp(e.Yo);return i.zp},t.jp=function(n,e){for(var i=n.Qi,r=n.Ep;r.Yo<i.byteLength;){var u=t.qp(i,r,!1);if(!u.Hp)return;if(u.zp.xu===e)return u.zp}},t.qp=function(n,e,i){var r=e.Yo,u=t.Gp(n,e);if(!u.Hp)return u;var o=u.Xp,s=o.zo;if(0===s){if(i)return e.Go(r),{Hp:!1,Yp:1/0};s=n.byteLength-r}var a=r+s;if(a>n.byteLength){var c=a;return e.Go(r),{Hp:!1,Yp:c}}var f,h,v,d={xu:o.xu,Yo:r,Qi:new Up((f=n,h=r,v=a,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new Df(o.$p))};return e.Go(a),{Hp:!0,zp:d}},t.Gp=function(t,n){var e=n.Yo;if(!rf(t,n,8))return{Hp:!1,Yp:n.Yo+8};var i=sf(t,n),r=hf(t,n,4);if(1===i){if(!rf(t,n,8)){var u=n.Yo+8;return n.Go(e),{Hp:!1,Yp:u}}i=cf(t,n).toNumber()}if("uuid"===r){if(!rf(t,n,16)){var o=n.Yo+16;return n.Go(e),{Hp:!1,Yp:o}}r=hf(t,n,16)}return{Hp:!0,Xp:{xu:r,zo:i,$p:n.Yo-e}}},t.Kp=function(t,n,e){var i=t.Qi,r=t.Ep,u=Tf(Ef(i),r.Yo,i.byteLength);return e&&(u=Cf(u)),r.jo(u.byteLength),{xu:n,Qi:u}},t.Jp=function(n,e,i){var r=jp(n.Cp());return{xu:e,Zp:r.version,Qp:r.flags,Qi:t.Kp(n,e,i).Qi}},t}();function qp(t,n){var e=zp(t,n);if(!e)throw new f("Missing "+n+" atom");return e}function zp(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.xu===n)return i.Qi}}function Wp(t,n){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.xu===n&&e.push(r.Qi)}return e}function jp(t){return{version:t>>24,flags:new Qc(16777215&t)}}var Gp=function(){function t(){}return t.tb=function(n){for(var e=[],i=Hp.Up(new Up(n,new Df)),r=0;r<i.length;r++){var u=i[r],o=t.nb(u);o&&e.push(o)}return e},t.eb=function(t){return Hp.Vp(t,new Df,!1).Wi.some(this.ib)},t.ub=function(n){return Wp(Hp.Up(new Up(n,new Df)),J_.lp).map(t.ob)},t.sb=function(n){return Wp(Hp.Up(n.Qi),J_.lp).map(t.ob)},t.ib=function(t){return t.xu===J_.mp||t.xu===J_.yp||t.xu===J_.I_||t.xu===J_.op||t.xu===J_.dp||t.xu===J_.gp||t.xu===J_.wp},t.nb=function(n){switch(n.xu){case J_.I_:return t.ab(n.Qi);case J_.op:return t.cb(n.Qi,n.Yo);case J_.dp:return t.fb(n.Qi);case J_.gp:return t.hb(n.Qi);case J_.wp:return t.vb(n.Qi)}},t.ab=function(n){var e=Hp.Up(n),i=qp(e,J_.O_),r=Wp(e,J_.C_),u=zp(e,J_.M_),o=t.lb(i),s=r.map(t.wb),a=u?t.gb(u):void 0;return{xu:J_.I_,Xp:o,yb:s,mb:a}},t.lb=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=1===e?t.Dp():t.Cp(),u=1===e?t.Dp():t.Cp(),o=t.Cp(),s=1===e?t.Dp():t.Cp(),a=t.Cp(),c=t.Ip()>>8;t.Lp(2),t.Lp(8);var f=t.Pp(9);t.Lp(24);var h=t.Cp();return{xu:J_.O_,Zp:e,Qp:i,_b:r,pb:u,Wm:o,Aw:s,bb:a,Hw:c,kb:f,Tb:h}},t.wb=function(n){var e=Hp.Up(n),i=qp(e,J_.N_),r=qp(e,J_.D_),u=t.Sb(i),o=t.Eb(r);return{xu:J_.C_,Xp:u,Rb:o}},t.Sb=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=1===e?t.Dp():t.Cp(),u=1===e?t.Dp():t.Cp(),o=t.Cp();t.Lp(4);var s=1===e?t.Dp():t.Cp();t.Lp(8);var a=t.Op(),c=t.Op(),f=t.Op()/d.pow(2,8);t.Lp(2);var h=t.Pp(9),v=t.Cp()/d.pow(2,16),l=t.Cp()/d.pow(2,16);return{xu:J_.N_,Ib:i.Ko(1),Ob:i.Ko(2),Cb:i.Ko(4),_b:r,pb:u,Nb:o,Aw:s,Db:a,Ab:c,Hw:f,kb:h,Hy:v,Pb:l}},t.Eb=function(n){var e=Hp.Up(n),i=qp(e,J_.A_),r=qp(e,J_.P_),u=qp(e,J_.x_),o=t.xb(i),s=t.Bb(r),a=t.Lb(u);return{xu:J_.D_,Xp:o,Fb:s,Mb:a}},t.xb=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=1===e?t.Dp():t.Cp(),u=1===e?t.Dp():t.Cp(),o=t.Cp(),s=1===e?t.Dp():t.Cp();t.Ip();return t.Lp(2),{xu:J_.A_,Zp:e,Qp:i,_b:r,pb:u,Wm:o,Aw:s}},t.Bb=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags;t.Lp(4);var r=t.xp(4);t.Lp(12);var u=t.Bp();return{xu:J_.P_,Zp:e,Qp:i,Ub:r,Ai:u}},t.Lb=function(n){var e=qp(Hp.Up(n),J_.B_),i=t.Vb(e);return{xu:J_.x_,Hb:i}},t.Vb=function(n){var e=qp(Hp.Up(n),J_.L_),i=t.qb(e);return{xu:J_.B_,zb:i}},t.qb=function(n){for(var e=jp(n.Cp()),i=e.version,r=e.flags,u=(n.Cp(),[]),o=Hp.Up(n),s=0;s<o.length;s++){var a=o[s],c=t.Wb(a.Qi,a.xu);c&&u.push(c)}return{xu:J_.L_,Zp:i,Qp:r,jb:u}},t.Wb=function(n,e){var i=t.Gb(n,e);return i||((i=t.Xb(n,e))||(e===J_.tp?t.Yb(n):void 0))},t.Gb=function(n,e){return e===J_.Z_?t.$b(n):e===J_.ip?t.Kb(n):void 0},t.Xb=function(n,e){return e===J_.V_?t.Jb(n):e===J_.q_||e===J_.z_?t.Zb(n,e):e===J_.j_?t.Qb(n,e):e===J_.X_?t.tk(n,e):e===J_.rp?t.nk(n):void 0},t.ek=function(t,n){return t.Lp(6),{xu:n,ik:t.Ip()}},t.rk=function(n,e){var i=t.ek(n,e);n.Lp(8);var r=n.Ip(),u=n.Ip();return n.Lp(2),n.Lp(2),na({},i,{uk:r,sk:u,ak:n.Cp()>>>16})},t.ck=function(n,e){var i=t.ek(n,e);n.Lp(2),n.Lp(2),n.Lp(12);var r=n.Ip(),u=n.Ip(),o=n.Cp(),s=n.Cp();n.Lp(4);var a=n.Ip();n.Lp(32);var c=n.Ip();return n.Lp(2),na({},i,{Hy:r,Pb:u,fk:o,hk:s,vk:a,dk:c})},t.$b=function(n){var e=t.rk(n,J_.Z_),i=qp(Hp.Up(n),J_.Q_);return na({},e,{lk:t.wk(i)})},t.Yb=function(n){var e=t.ek(n,J_.tp),i=Hp.Up(n),r=qp(i,J_.np),u=t.gk(r),o=zp(i,J_.ep);return na({},e,{yk:u,mk:o?t._k(o):o})},t.gk=function(t){return{xu:J_.np,Nc:t.Bp()}},t._k=function(t){return{xu:J_.ep,Ll:t.Bp()}},t.wk=function(t){return Hp.Jp(t,J_.Q_,!0)},t.Jb=function(n){var e=t.ck(n,J_.V_),i=Hp.Up(n),r=qp(i,J_.H_),u=zp(i,J_.J_);return na({},e,{pk:t.bk(r),kk:u?t.Tk(u):void 0})},t.Zb=function(n,e){var i=t.ck(n,e),r=qp(Hp.Up(n),J_.W_);return na({},i,{Sk:t.Ek(r)})},t.Qb=function(n,e){var i=t.ck(n,e),r=qp(Hp.Up(n),J_.G_);return na({},i,{Rk:t.Ik(r)})},t.tk=function(n,e){var i=t.ck(n,e),r=Hp.Up(n),u=qp(r,J_.Y_),o=t.Ok(u),s=zp(r,J_.K_);return na({},i,{Ck:o,Nk:s?t.Dk(s):void 0})},t.nk=function(n){var e=n.Xo(),i=t.ck(n,J_.rp),r=qp(Hp.Up(n),J_._p),u=t.Ak(r);return na({},i,{Pk:t.Xb(e,u.Bk.xk),Lk:u})},t.Kb=function(n){var e=n.Xo(),i=t.rk(n,J_.ip),r=qp(Hp.Up(n),J_._p),u=t.Ak(r);return na({},i,{Pk:t.Gb(e,u.Bk.xk),Lk:u})},t.Ak=function(n){var e=qp(Hp.Up(n),J_.pp),i=t.Fk(e);return{xu:J_._p,Bk:i}},t.Fk=function(t){var n=t.xp(4);return{xu:J_.pp,xk:n}},t.bk=function(t){return Hp.Kp(t,J_.H_,!0)},t.Ek=function(t){return Hp.Kp(t,J_.W_,!0)},t.Ik=function(t){return Hp.Kp(t,J_.G_,!0)},t.Ok=function(t){return Hp.Kp(t,J_.Y_,!0)},t.Dk=function(t){var n=t.xp(4);switch(n){case"nclx":return{Mk:tp.ON_SCREEN_COLOURS,Uk:t.Ip(),Vk:t.Ip(),Hk:t.Ip(),qk:0!=(128&t.Rp())};case"rICC":return{Mk:tp.RESTRICTED_ICC_PROFILE};case"prof":return{Mk:tp.UNRESTRICED_ICC_PROFILE};default:throw f("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.Tk=function(t){var n=t.Cp(),e=t.Cp();return{xu:J_.J_,zk:n,Wk:e}},t.gb=function(n){var e=Wp(Hp.Up(n),J_.U_).map(t.jk);return{xu:J_.M_,yb:e}},t.jk=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=t.Cp(),u=t.Cp(),o=t.Cp(),s=t.Cp(),a=t.Cp();return{xu:J_.U_,Zp:e,Qp:i,Nb:r,Gk:u,Xk:o,Yk:s,$k:a}},t.cb=function(n,e){var i=Hp.Up(n),r=qp(i,J_.sp),u=Wp(i,J_.ap),o=t.Kk(r),s=u.map(t.Jk);return{xu:J_.op,Zk:e,Xp:o,yb:s}},t.Kk=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=t.Cp();return{xu:J_.sp,Zp:e,Qp:i,Qk:r}},t.Jk=function(n){var e=Hp.Up(n),i=qp(e,J_.cp),r=Wp(e,J_.fp),u=zp(e,J_.hp),o=t.tT(i),s=r.map((function(n){return t.nT(n,o)})),a=u?t.eT(u):void 0;return{xu:J_.ap,Xp:o,iT:s,rT:a}},t.tT=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=t.Cp(),u=i.Ko(ep.BASE_DATA_OFFSET_PRESENT)?t.Dp():void 0,o=i.Ko(ep.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Cp():void 0,s=i.Ko(ep.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Cp():void 0,a=i.Ko(ep.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Cp():void 0,c=i.Ko(ep.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Cp():void 0;return{xu:J_.cp,Zp:e,Qp:i,Nb:r,uT:u,oT:o,Xk:s,Yk:a,$k:c}},t.nT=function(n,e){for(var i=jp(n.Cp()),r=i.version,u=i.flags,o=n.Cp(),s=u.Ko(rp.DATA_OFFSET_PRESENT)?n.Np():void 0,a=u.Ko(rp.FIRST_SAMPLE_FLAGS_PRESENT)?n.Cp():void 0,c=[],f=0;f<o;f++){var h=t.sT(n,u,r,e);0===f&&void 0!==a&&(h.Qp=a),c.push(h)}return{xu:J_.fp,Zp:r,Qp:u,aT:o,Zk:s,cT:a,fT:c}},t.sT=function(t,n,e,i){return{Aw:n.Ko(rp.SAMPLE_DURATION_PRESENT)?t.Cp():i.Xk,zo:n.Ko(rp.SAMPLE_SIZE_PRESENT)?t.Cp():i.Yk,Qp:n.Ko(rp.SAMPLE_FLAGS_PRESENT)?t.Cp():i.$k,hT:n.Ko(rp.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===e?t.Cp():t.Np():void 0}},t.vb=function(t){var n=t.Qi,e=t.Ep,i=jp(sf(n,e)),r=i.version,u=i.flags;if(1===r){var o=sf(n,e),s=cf(n,e),a=sf(n,e),c=sf(n,e),f=ff(n,e),h=ff(n,e),v=Of(Ef(n),e.Yo,n.byteLength);return e.jo(v.byteLength),{xu:J_.wp,Zp:r,Qp:u,vT:f,Bi:h,Wm:o,dT:s,lT:a,Pl:c,wT:v}}var d=ff(n,e),l=ff(n,e),w=sf(n,e),g=sf(n,e),y=sf(n,e),m=sf(n,e),_=Of(Ef(n),e.Yo,n.byteLength);return e.jo(_.byteLength),{xu:J_.wp,Qp:u,Zp:r,vT:d,Bi:l,Wm:w,gT:g,lT:y,Pl:m,wT:_}},t.fb=function(t){return Hp.Kp(t,J_.dp,!1)},t.ob=function(n){var e=n.Qi,i=n.Ep,r=Cf(Ef(e)).buffer,u=jp(sf(e,i)),o=u.version,s=u.flags,a=t.yT(e,i),c=[];if(o>0)for(var f=sf(e,i),h=0;h<f;h++){var v=ef(e,i,16);c.push(v)}var d=sf(e,i),l=new y(r,i.Yo,d);return i.jo(e.byteLength),{xu:J_.lp,Zp:o,Qp:s,mT:a,_T:c,pT:d,Qi:l,bT:r}},t.yT=function(t,n){for(var e="",i=0;i<4;i++){var r=tf(t,n).toString(16);e+=1===r.length?"0"+r:r}e+="-";for(var u=0;u<2;u++){var o=tf(t,n).toString(16);e+=1===o.length?"0"+o:o}e+="-";for(var s=0;s<2;s++){var a=tf(t,n).toString(16);e+=1===a.length?"0"+a:a}e+="-";for(var c=0;c<2;c++){var f=tf(t,n).toString(16);e+=1===f.length?"0"+f:f}e+="-";for(var h=0;h<6;h++){var v=tf(t,n).toString(16);e+=1===v.length?"0"+v:v}return e.toLowerCase()},t.hb=function(t){var n,e,i=t.Qi,r=t.Ep,u=jp(sf(i,r)),o=u.version,s=u.flags,a=sf(i,r),c=sf(i,r);0===o?(n=iu.fromBits(sf(i,r),0,!0),e=iu.fromBits(sf(i,r),0,!0)):(n=cf(i,r),e=cf(i,r)),r.jo(2);for(var f=uf(i,r),h=[],v=0;v<f;v+=1){var d=sf(i,r),l=d>>31&1,w=2147483647&d,g=sf(i,r),y=sf(i,r),m=y>>31&1,_=y>>28&7,p=268435455&y;h.push({kT:l,TT:w,Aw:g,ST:m,ET:_,RT:p})}return{xu:J_.gp,Zp:o,Qp:s,IT:a,Wm:c,OT:n,CT:e,NT:f,DT:h}},t.eT=function(t){var n,e=t.Qi,i=t.Ep,r=jp(sf(e,i)),u=r.version,o=r.flags;return n=0===u?iu.fromBits(sf(e,i),0,!0):cf(e,i),{xu:J_.hp,Zp:u,Qp:o,rT:n}},t}();function Xp(t){return t&&"zi"in t?t.zi:t}ki(),Vt(),Ii(),ki(),Vt();var Yp=function(t){function n(n,e,i,r,u,o,s){var a;return(a=t.call(this,n,e,i,r)||this).AT=u,a.PT=o,a.xT=s||void 0,a}return Yi(n,t),n.prototype.Ny=function(n){return this===n||!!oy(this,n)&&(!!t.prototype.Ny.call(this,n)&&(!!uy(this.BT,n.BT)&&(!!uy(this.k_,n.k_)&&(this.LT&&n.LT?!!this.LT.Ci(n.LT)&&(this.ky&&n.ky?this.ky.Ci(n.ky):this.ky===n.ky):this.LT===n.LT))))},Ri(n,[{key:"BT",get:function(){return this.AT}},{key:"k_",get:function(){return this.PT}},{key:"LT",get:function(){return this.xT}},{key:"jd",get:function(){var t;return this.Wd||(this.Wd=iy(C_(t=this),{get styles(){return t.BT},get regions(){return t.k_},get metadata(){return Xp(t.LT)},get content(){return Xp(t.ky)}})),this.Wd}}]),n}(x_);ki(),Vt(),Ii();var $p=function(){function t(t,n,e){this.FT=t,this.MT=n,du(e)?this.Xt=function(t,n,e){for(var i=0,r=["begin","end","dur"];i<r.length;i++){var u=r[i];e.Xi(u)}return e}(0,0,e):this.Xt=e}return Ri(t,[{key:"UT",get:function(){return this.Xt.Ni(!0)}},{key:"py",get:function(){return this.FT}},{key:"by",get:function(){return this.MT}}]),t}();ki(),Vt(),Fi();var Kp="http://www.w3.org/XML/1998/namespace";function Jp(t,n){return function(t,n){var e=t.Wi.slice(),i=[];for(;e.length>0;){var r,u=e.shift();if(n(u))i.push(u);else(r=e).push.apply(r,Bi(u.Wi))}return i}(t,(function(t){return t.Vi===n}))}function Zp(t,n){for(var e=t,i=0;i<n.length;i++){var r=n[i];e=e.replace(r+":","")}return e}function Qp(t,n){for(var e=t.Ji,i={},r=0;r<e.length;r++)i[Zp(e[r].Ai,n)]=e[r].Bi;return i}var tb=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,nb=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,eb="http://www.w3.org/ns/ttml";function ib(t,n,e){return void 0===e&&(e=op),function(t,n,e){var i,r=[];try{i=Wi.Ii(t)}catch(t){return r}var u=i.tr;if("tt"!==u.Di)return r;var o=u&&u.Hi(eb,"head")[0],s=u&&u.Hi(eb,"body")[0],a=["ebutts","tts","xml"];if(!s||!o)return r;for(var c=function(t,n){for(var e={},i=t.Hi(eb,"styling")[0],r=i&&i.Hi(eb,"style")||[],u=0;u<r.length;u++){var o=r[u];e[o.Gi(Kp,"id")]=Qp(o,n)}return e}(o,a),f=function(t,n){var e=ry(t),i=sb(n.ji("tts:extent"));if(!i)return e;for(var r=0,u=v.keys(e);r<u.length;r++){var o=u[r],s=sb(e[o].extent);if(s){var a=ub(s[0],i[0]),c=ub(s[1],i[1]);e[o].extent=a+" "+c}var f=sb(e[o].origin);if(f){var h=ub(f[0],i[0]),d=ub(f[1],i[1]);e[o].origin=h+" "+d}}return e}(function(t,n){for(var e={},i=t.Hi(eb,"layout")[0],r=i&&i.Hi(eb,"region")||[],u=0;u<r.length;u++){var o=r[u],s=o.Gi(Kp,"id");if(s){e[s]=Qp(o,n);var a=fb(o,n);for(var c in a)ar.call(a,c)&&(e[s][c]=a[c])}}return e}(o,a),u),h=o.Hi(eb,"metadata")[0],d=ab(s,e.__,e.p_,e.b_),l=0;l<d.length;l++){var w=d[l],g=rb(f,w);r.push(new Yp(w.py,w.by,w.UT,!1,c,g,h))}return r}(t,0,e)}function rb(t,n){for(var e=hb(n.UT),i={},r=0;r<e.length;r++){var u=e[r];i[u]=t[u]}return i}function ub(t,n){var e=ob(t),i=ob(n);if(e&&i&&e===i){var r=Number(t.slice(0,-e.length)),u=Number(n.slice(0,-i.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function ob(t){return Ba(t,"px")?"px":Ba(t,"em")?"em":Ba(t,"c")?"c":Ba(t,"%")?"%":void 0}function sb(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function ab(t,n,e,i){var r,u=function(n){var e=function(t,n,e){for(var i=[],r=0;r<e.length;r++){var u=e[r].py,o=e[r].by;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&i.push(e[r])}return i}(l[n],l[n+1],a);if(e.length<=0&&function(t){if(du(t)){var n=t.Di.toUpperCase(),e=Boolean(t.ji("smpte:backgroundImage"));return"BR"===n||e}return t.bi===fu.Si}(t)){var i=t.Ni(!1);c.push(new $p(l[n],l[n+1],i))}else if(e.length>0){var r=t.Ni(!1);e.forEach((function(t){return r.qi(t.UT)})),c.push(new $p(l[n],l[n+1],r))}},o=n,s=e,a=[],c=[];if(du(t)){var f,h;o=null!=(f=cb(t.ji("begin"),i))?f:o,r=cb(t.ji("dur"),0),s=null!=(h=cb(t.ji("end"),i))?h:void 0!==r?o+r:s;for(var v=t.Ui,d=0;d<v.length;d++)("body"===t.Di||"div"===t.Di)&&v[d].bi>1||(a=a.concat(ab(v[d],o,s,i)))}for(var l=function(t,n,e){var i=[];i.push(t,n);for(var r=0;r<e.length;r++){var u=e[r];i.push(u.py,u.by)}i.sort(Ya);for(var o=i.length,s=0;s<o-1;s++)i[s+1]===i[s]&&(tc(i,s+1),s--,o=i.length);return i}(o,s,a),w=0;w<l.length-1;w++)u(w);return c}function cb(t,n){if(t){if(tb.test(t)){var e=tb.exec(t);if(!e)return;var i=Number(e[1])||0,r=Number(e[2])||0,u=Number(e[3])||0,o=e[6];return 3600*i+60*r+u+(o?Number(o)*d.pow(.1,o.length):0)+n}if(nb.test(t)){var s=nb.exec(t);if(!s)return;var a,c=Number(s[1]);switch(s[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a+n}}}function fb(t,n){for(var e={},i=t.Mi("style")||[],r=0;r<i.length;r++){var u=Qp(i[r],n);for(var o in u)ar.call(u,o)&&(e[o]=u[o])}return e}function hb(t){var n,e=[];if(du(t)){(n=t.ji("region"))&&e.push(n);for(var i=t.Ui,r=0;r<i.length;r++)e=e.concat(hb(i[r]))}return e}function vb(t){var n=function(t){try{return Wi.Ii(t).tr}catch(t){}}(t);return"tt"===(null==n?void 0:n.Di)}ki(),Vt(),ki(),Vt();var db,lb,wb=function(t){function n(){return t.apply(this,arguments)}Yi(n,t);var e=n.prototype;return e._l=function(n){return t.prototype._l.call(this,n)},e.pl=function(n){var e=t.prototype.pl.call(this,n);return e&&(n.ql=py.jl),e},e.Gd=function(){return Iy(this)},n}(Jg);ki(),Vt(),ki(),Vt(),(lb=db||(db={})).bp="subtitles",lb.VT="captions",lb.HT="descriptions",lb.qT="chapters",lb.Tp="metadata",lb.zT="thumbnails";var gb=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function yb(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&nc(gb,t)}(n)?n:n?"metadata":"subtitles"}ki(),Vt();var mb,_b,pb=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,u)||this).url=i,o.status=r,o}return Yi(n,t),n}(Md);function bb(t,n){return t===db.zT||t===db.Tp&&n===db.zT}function kb(t,n,e,i){for(var r=0,u=t.$l.kl;r<u.length;r++){var o=u[r];if(o.py>e)break;n<=o.by&&i.push(o)}}function Tb(t,n){return Xa(t.xl,n.xl)}function Sb(t,n){var e=n,i=0;if(function(t){return t instanceof nw}(t)&&t.name===Jl.Pv)e=t.Zh.tv;else if(function(t){return t instanceof iw}(t)){var r=t.Mv;if(e=r.Qh,0===(i=r.Xh))return new pb(Ad.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,i,t)}return new pb(Ad.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,i,t)}function Eb(t,n,e,i){var r=function(t){switch(t){case p_.WEBVTT:return"WebVTT";case p_.SRT:return"SRT";case p_.TTML:return"TTML";default:return""}}(t);return new pb(Ad.SUBTITLE_PARSE_ERROR,"Could not parse the "+(r?r+" ":"")+"subtitle file.",n,e,i)}function Rb(t){return Sp(lp(t))?p_.WEBVTT:vb(t)?p_.TTML:p_.SRT}function Ib(t,n){for(var e=[],i=0,r=t.$l.kl;i<r.length;i++){var u=r[i];if(u.by<=n)e.push(u);else if(u.py>=n)break}for(var o=0;o<e.length;o++){var s=e[o];t.WT(s)}}ki(),Vt(),(_b=mb||(mb={})).jT="vtt",_b.tp="wvtt",_b.GT="stpp";var Ob=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).yb=new wb,n.XT=function(t){var e=t.Xd;n.YT(e)},n}Yi(n,t);var e=n.prototype;return e._l=function(t){t.yo(Xg.ol,this.XT),this.yb._l(t),this.YT(t)},e.pl=function(t){t.bo(Xg.ol,this.XT),t.ql=py.jl,this.yb.pl(t)},e.$T=function(t){},e.KT=function(t){},e.YT=function(t){t.ql!==py.jl?this.$T(t):this.KT(t)},e.JT=function(){for(var t=0,n=this.yb.kl;t<n.length;t++){var e=n[t];e.bo(Xg.ol,this.XT),e.kn()}},e.ZT=function(t){if(t>0)for(var n=0,e=this.yb.kl;n<e.length;n++){Ib(e[n],t)}},e.Bc=function(){return this.JT(),this.yb.Bc(),G.resolve()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.po(),[4,t.Bc()];case 1:return n.sent(),t.yb.kn(),[2]}}))}))()},n}(pc);ki(),Vt(),Ii();var Cb=function(t){function n(n){var e;return(e=t.call(this,ky.Vl)||this).errorObject=n,e}return Yi(n,t),n.prototype.Gd=function(){return this},Ri(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Hg),Nb=function(t){function n(n,e){var i;return(i=t.call(this)||this).QT=new rc,i.tS=n,i.nS=e,i}Yi(n,t);var e=n.prototype;return e.eS=function(t){if(t.src){var n=t.kind||db.bp,e=this.tS.iS(n,t.id,t.label,t.srclang,t.default);return e.Jl=Kl(t.src),this._l(e),e}},e.rS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a,c,f,h,v;return ea(this,(function(d){switch(d.label){case 0:t.Yl=m_.LOADING,i=new Gl({tv:t.Jl,$h:al.Si,_v:Fl.GET,fo:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,e.nS.Zh(i)];case 2:return o=d.sent(),u=o.Xh,[4,o.Dh()];case 3:return r=d.sent(),[3,5];case 4:return ac(s=d.sent()),t.Yl=m_.ERROR,t.lo(new Cb(Sb(s,t.Jl))),[2];case 5:try{for(a=Rb(r),t.xu=a,c=[],a===p_.WEBVTT||a===p_.SRT?(f=function(t,n){void 0===n&&(n=op);var e={$l:[],k_:[],R_:[]},i=lp(t),r=new Df;if(Sp(i),wp(i,(function(t){return"\n"!==t}),r),r.Yo>=i.length)return e;for(r.jo(1),"\n"!==i.charAt(r.Yo)?_p(gp(i,r,!1,!0,e,n),e):r.jo(1),wp(i,(function(t){return"\n"===t}),r);r.Yo<i.length;)_p(gp(i,r,!1,!1,e,n),e),wp(i,(function(t){return"\n"===t}),r);return e}(r),c=f.$l):a===p_.TTML&&(c=ib(r)),h=0;h<c.length;h++)v=c[h],t.uS(v)}catch(n){return ac(n),t.Yl=m_.ERROR,t.lo(new Cb(Eb(t.xu,t.Jl,u,n))),[2]}return t.Yl=m_.LOADED,[2]}}))}))()},e.$T=function(t){nc(this.yb.kl,t)&&t.Yl===m_.NONE&&this.rS(t,this.QT.fo).catch(cc)},e._c=function(){},e.Bc=function(){var n=this;return ta((function(){var e,i,r;return ea(this,(function(u){switch(u.label){case 0:for(n.QT.so(),n.QT=new rc,e=0,i=n.yb.kl;e<i.length;e++)r=i[e],n.tS.oS(r);return[4,t.prototype.Bc.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(Ob);function Db(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.Bl===n&&i.sS)return i}}function Ab(t,n){Pb(Db(t.kl,n))}function Pb(t){void 0!==t&&(t.ql=py.zl)}function xb(t,n){Pb(Db(t.kl,n)||function(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.Bl===n)return i}}(t.kl,n))}function Bb(t){for(var n=0;n<gb.length;n++){var e=gb[n];e===db.qT?xb(t,e):Ab(t,e)}}ki(),Vt(),ki(),Vt();var Lb,Fb,Mb=function(t){function n(){return t.call(this,ol.sh)}return Yi(n,t),n}(Sc);Ti(),ki(),Vt(),ki(),Vt(),(Fb=Lb||(Lb={}))[Fb.aS=0]="aS",Fb[Fb.cS=1]="cS",ki(),Vt(),Ii(),ki(),Vt();var Ub=function(t){function n(n){var e;return(e=t.call(this,vm.Cw)||this).currentTime=n,e}return Yi(n,t),n}(Sc);ki(),Vt();var Vb=function(t){function n(n){var e;return(e=t.call(this,vm.Nw)||this).currentTime=n,e}return Yi(n,t),n}(Sc),Hb=(vm.al,vm.Nw,ol.ih,ol.eh,function(t){function n(n,e){var i;return void 0===e&&(e=!1),(i=t.call(this)||this).fS=n,i.hS=e,i.vS=Gy.pw,i.dS=!0,i.lS=!1,i.wS=!1,i.gS=function(t){var n=i.fS.Yl;n!==i.vS&&i.lo(new Im(t.currentTime,n)),n===Gy.pw&&(i.lS=!1,i.wS=!1),i.yS(n),i.mS(n),i._S(n),i.maybeDispatchCanPlayThroughEvent(n),i.pS(n),i.bS(n),i.vS=n},i.kS=function(){i.bS(i.vS),i.pS(i.vS),i.dS=i.fS.Lw},i.TS=function(){i.dS=i.fS.Lw},i.SS=function(t){i.lo(new Vb(t.currentTime))},i.fS.yo(vm.al,i.gS),i.fS.yo(ol.ih,i.kS),i.fS.yo(ol.eh,i.TS),i.hS&&i.fS.yo(vm.Nw,i.SS),i}Yi(n,t);var e=n.prototype;return e.yS=function(t){!this.wS&&t>=Gy.bw&&(this.wS=!0,this.lo(new gm(this.fS.Dw,t)))},e.mS=function(t){!this.lS&&t>=Gy.kw&&(this.lS=!0,this.lo(new bm(this.fS.Dw,t)))},e.pS=function(t){this.hS||(t>=Gy.Tw&&this.vS<Gy.Tw&&!this.fS.Lw||this.ES&&t>=Gy.Tw)&&this.lo(new Vb(this.fS.Dw))},e.bS=function(t){!this.RS(t)||this.fS.Pw||this.fS.Do||this.lo(new Ub(this.fS.Dw))},e._S=function(t){this.vS<=Gy.kw&&t>=Gy.Tw&&this.lo(new Em(this.fS.Dw,t))},e.maybeDispatchCanPlayThroughEvent=function(t){t===Gy.Sw&&this.lo(new Rm(this.fS.Dw,t))},e.RS=function(t){var n=!this.fS.Lw&&t<=Gy.kw,e=!this.dS&&this.vS<=Gy.kw;return n&&!e},e.Bc=function(){this.vS=Gy.pw,this.dS=!0,this.lS=!1,this.wS=!1},e.kn=function(){this.po(),this.hS&&this.fS.bo(vm.Nw,this.SS),this.fS.bo(ol.ih,this.kS),this.fS.bo(ol.eh,this.TS),this.fS.bo(vm.al,this.gS)},Ri(n,[{key:"ES",get:function(){return!this.fS.Lw&&this.dS}}]),n}(pc));ki(),Vt(),ki(),Vt();var qb="titanium",zb="conax",Wb="ezdrm",jb="irdeto",Gb="vudrm",Xb="verimatrix",Yb="keyos",$b="drmtoday",Kb="expressplay",Jb="azure",Zb="xstream",Qb="vimond",tk="axinom",nk="uplynk",ek="comcast",ik="custom";ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii();var rk=function(){function t(t,n,e,i,r){this.IS=void 0,this.Cc=t,this.OS=n,this.CS=e,this.nS=i,this.NS=r,this.DS=this.AS(n)}var n=t.prototype;return n.PS=function(){return this.IS},n.xS=function(t){this.IS=t},n.BS=function(){return this.DS.licenseAcquisitionURL||this.PS()},n.LS=function(t){return G.resolve()},n.FS=function(t,n){return G.resolve(void 0)},n.MS=function(t,n,e,i){var r=this;return ta((function(){var u,o;return ea(this,(function(s){switch(s.label){case 0:if(""===(u=r.US(t,n,e,i)).tv)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");s.label=1;case 1:return s.trys.push([1,4,,6]),[4,r.Ud.Zh(u)];case 2:return[4,s.sent().Ah(n)];case 3:return[2,s.sent()];case 4:return ac(o=s.sent()),[4,r.VS(o,u.tv,i)];case 5:return s.sent(),[2];case 6:return[2]}}))}))()},n.US=function(t,n,e,i){var r=this.HS().Rh(),u=this.Tv,o={tv:this.qS(),$h:n,Yh:r,Lh:t,Tv:u,_v:Fl.POST,pv:0,fo:i,xu:Ul.sv,bv:e};return new Gl(o)},n.zS=function(t,n){return G.resolve(t)},n.WS=function(t,n,e,i){return G.resolve(t)},n.HS=function(){return new vl(this.DS.headers||{})},n.VS=function(t,n,e){return ta((function(){return ea(this,(function(n){throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.qS=function(t,n){var e=n,i=this.DS.queryParameters;if(!e){var r=this.BS();if(!r)return"";e=r}if(i||t){var u=Wi.du(e);t&&$l(u,t),i&&$l(u,i),e=u.href}return e},n.jS=function(t,n){return uk(t)},n.GS=function(t){return new y(t)},n.XS=function(t,n,e){var i=this;return ta((function(){var r,u;return ea(this,(function(o){switch(o.label){case 0:return[4,i.jS(t,e)];case 1:return r=o.sent(),[4,i.MS(r,i.NS,n,e)];case 2:return u=o.sent(),[2,i.GS(u)]}}))}))()},n.kn=function(){},Ri(t,[{key:"Ud",get:function(){return this.nS}},{key:"YS",get:function(){return!1}},{key:"$S",get:function(){var t=this.DS.certificate;if(t)return gr(t)?Fc(t):If(t)}},{key:"KS",get:function(){return!1}},{key:"Tv",get:function(){return Boolean(this.DS.useCredentials)}}]),t}();function uk(t){return G.resolve(Cf(t).buffer)}var ok,sk,ak=function(t){function n(n,e,i,r){return t.call(this,Ca,n,e,i,r)}Yi(n,t);var e=n.prototype;return e.AS=function(t){return t.widevine||{}},e.JS=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){return e.$S?[2,e.$S]:[2,e.ZS(new y(t),n)]}))}))()},e.ZS=function(n,e){return t.prototype.XS.call(this,n,Hl.hv,e)},n}(rk);function ck(t,n){if(null==t)return{};var e,i,r={},u=v.keys(t);for(i=0;i<u.length;i++)e=u[i],n.indexOf(e)>=0||(r[e]=t[e]);return r}function fk(t){return fr(t.token&&t.deviceId)}function hk(t){var n,e=null==(n=t.fairplay)?void 0:n.headers;return void 0!==e&&fr(e.PreAuthorization)}function vk(t){var n=t;return fk(n)&&""!==n.token&&""!==n.deviceId&&!hk(n)}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(sk=ok||(ok={})).QS=!1,sk.tE=!1,sk.nE=!1,sk.eE=!1,sk.LOG_ADS_DETAILS=!1,sk.LOG_CHROMECAST_DETAILS=!1,sk.LOG_CUSTOM_DRM=!1,sk.LOG_BUFFERING_VIDEO_MAIN=!1,sk.LOG_BUFFERING_VIDEO_SELECTION=!1,sk.LOG_BUFFERING_AUDIO_MAIN=!1,sk.LOG_BUFFERING_AUDIO_SELECTION=!1,sk.iE=!1,sk.rE=!1,sk.LOG_LCEVC_DETAILS=!1,ki(),Vt(),Ii();var dk,lk,wk=function(){function t(t,n,e){this.uE=t,this.cc=n,this.oE=e}return t.prototype.sE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var e=t.onCertificateResponse;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var i=t.onLicenseRequest;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.oE.build(t))},Ri(t,[{key:"aE",get:function(){return this.uE}},{key:"Cc",get:function(){return this.cc}}]),t}();ki(),Vt(),(lk=dk||(dk={})).FAILED="FAILED",lk.OVERRIDDEN="OVERRIDDEN",lk.SUCCEEDED="SUCCEEDED";var gk=function(){function t(){this.cE=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,e){switch(this.fE(t,n,e)){case dk.FAILED:throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case dk.OVERRIDDEN:var i=Bk(n);Wi.Zr("Warning: Overwriting an earlier registered integration for "+t+" and "+i+".");break;case dk.SUCCEEDED:Bk(n);0}},n.fE=function(t,n,e){var i=Bk(n);if(!i)return dk.FAILED;for(var r=dk.SUCCEEDED,u=0,o=this.cE.slice();u<o.length;u++){var s=o[u];s.aE===t&&s.Cc===i&&(r=dk.OVERRIDDEN,Qa(this.cE,s))}return this.cE.push(new wk(t,i,e)),r},n.hE=function(t,n){return void 0!==this.vE(t,n)},n.dE=function(t,n,e){var i=this.vE(t,n);if(!i)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return i.sE(e)},n.vE=function(t,n){for(var e=0,i=this.cE;e<i.length;e++){var r=i[e];if(r.aE===t&&(!n||r.Cc===n))return r}},t}();gk.lE=new gk;var yk={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function mk(t){if(!t)return!0;var n=t.licenseAcquisitionURL,e=t.certificateURL,i=t.keys,r=t.headers,u=t.useCredentials,o=t.queryParameters;return!(n||e||i||r||u||o)}function _k(t){return t&&void 0!==t.licenseAcquisitionURL}var pk,bk,kk=_k,Tk=_k;function Sk(t){if(!t)return!0;if(Ok(t))return!1;var n=t.fairplay,e=t.playready,i=t.widevine,r=t.clearkey,u=t.aes128;return mk(n)&&mk(e)&&mk(i)&&mk(r)&&mk(u)}function Ek(t){var n=vk(t),e=function(t){var n,e=t;return hk(e)&&""!==(null==(n=e.fairplay)?void 0:n.headers.PreAuthorization)&&!fk(e)}(t);return(!n||!e)&&(n||e)}function Rk(t){return t.integration===jb}function Ik(t){var n=t;if(!n)return!1;if(Sk(n))return!1;var e=n.fairplay,i=n.playready,r=n.widevine,u=n.clearkey;if(Ok(t))return!0;if(e&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(e))return!1;if(i&&!kk(i))return!1;if(r&&!Tk(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(gk.lE.hE(n.integration))return!0;switch(n.integration){case qb:if(!function(t){return t.integration===qb&&(Ck(t)||Nk(t))}(t))return!1;break;case Gb:if(!Dk(t))return!1;break;case Xb:if(!function(t){return t.integration===Xb}(t))return!1;break;case jb:if(!Rk(t))return!1;break;case zb:if(!Ek(t))return!1;break;case Wb:if(!function(t){return t.integration===Wb}(t))return!1;break;case Yb:if(!Ok(t))return!1;break;case $b:if(!function(t){var n=t;return n.integration===$b&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Kb:if(!function(t){return t.integration===Kb}(t))return!1;break;case Zb:if(!Ak(t))return!1;break;case Qb:if(!function(t){return t.integration===Qb}(t))return!1;break;case tk:if(!Pk(t))return!1;break;case Jb:if(!function(t){var n=t;return n.integration===Jb&&void 0!==n.token}(t))return!1;break;case nk:if(!function(t){return t.integration===nk}(t))return!1;break;case ek:if(!function(t){var n=t;return n&&fr(n.releasePid)&&fr(n.accountId)&&fr(n.token)}(t))return!1;break;case ik:return!0;default:return!1}}return!0}function Ok(t){return t.integration===Yb}function Ck(t){return void 0!==t.authToken}function Nk(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Dk(t){var n=t;return n.integration===Gb&&void 0!==n.token}function Ak(t){var n=t;return n&&n.integration===Zb&&gr(n.ticketAcquisitionURL)&&gr(n.streamId)}function Pk(t){var n=t;return n.integration===tk&&void 0!==n.token}function xk(t,n){var e,i,r,u=n[t],o=null!=(e=null==u?void 0:u.licenseAcquisitionURL)?e:yk[t],s=null!=(i=null==u?void 0:u.customdata)?i:n.customdata,a=s?{customData:s}:{},c=na({},null!=(r=null==u?void 0:u.headers)?r:{},a),f=null!=u?u:{};f.customdata;return na({},ck(f,["customdata"]),{licenseAcquisitionURL:o,headers:c})}function Bk(t){switch(t.toLowerCase()){case"widevine":case ka:return ka;case"playready":case _a:return _a;case"fairplay":case Ra:return Ra}}function Lk(t,n){switch(t){case wa:return function(t){for(var n={},e=Gp.ub(new DataView(t)),i=0;i<e.length;i++){var r=e[i];n[r.mT]=r.bT}return n}(n);case ga:case ya:return function(t){return Py({},Ea,t)}(n);default:throw new Md(Ad.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}(bk=pk||(pk={})).Nu="Widevine",bk.Cu="PlayreadyV2",bk.wE="PlayreadyV2",bk.gE="PlayreadyV3",bk.Au="Fairplay";var Fk={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Mk(t,n){var e,i,r,u,o=Fk[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=Wi.wu)?void 0:e.gu,OSVersion:null==(i=Wi.wu)?void 0:i.ku,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(r=Wi.wu)?void 0:r.Tu,DeviceModel:null==(u=Wi.wu)?void 0:u.Su}}}function Uk(t,n){if(!t.accountName)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function Vk(t,n,e){var i;if(Ck(t))i={AuthToken:t.authToken,Payload:n};else{if(!Nk(t))throw Uk(t,e);i={LatensRegistration:Mk(t,e),Payload:n}}return Gc(JSON.stringify(i))}function Hk(t,n,e){return qk.apply(this,arguments)}function qk(){return(qk=ta((function(t,n,e){var i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:if(!(i=t.Mv))throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);r=i,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.Nh(e)];case 2:return u=s.sent(),o=zk(u),[3,4];case 3:return s.sent(),o="",[3,4];case 4:throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,r.Zh.tv,r.Xh,r.Kh,o)}}))}))).apply(this,arguments)}function zk(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}ki(),Vt();var Wk=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Sh)||this).yE=void 0,r}Yi(n,t);var e=n.prototype;return e.VS=function(t,n,e){return Hk(t,n,e)},e.LS=function(t){return this.yE?fc(this.yE.Zo,t):(this.yE=new Af,G.resolve())},e.jS=function(t,n){var e=this;return ta((function(){var n,i;return ea(this,(function(r){if(!(n=e.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return i=Uc(t),[2,Vk(n,i,pk.Nu)]}))}))()},e.GS=function(t){if(!t.license)throw new t_(Ad.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Fc(t.license)},e.mE=function(t){return G.resolve(new y(t))},e.JS=function(t,n){var e=this;return ta((function(){var i,r;return ea(this,(function(u){switch(u.label){case 0:return e._E(),[4,e.jS(t,n)];case 1:return i=u.sent(),[4,e.MS(i,al.Th,Hl.vv,n)];case 2:return r=u.sent(),[4,e.mE(r)];case 3:return[2,u.sent()]}}))}))()},e.ZS=function(n,e){var i=this;return ta((function(){var r;return ea(this,(function(u){switch(u.label){case 0:return[4,t.prototype.ZS.call(i,n,e)];case 1:return r=u.sent(),i._E(),[2,r]}}))}))()},e._E=function(){this.yE||(this.yE=new Af),this.yE.Qo()},e.kn=function(){this.yE&&this.yE.so(),t.prototype.kn.call(this)},n.pE=function(){return Wi.gu.Lr?"required":"optional"},n}(ak);ki(),Vt(),Ii();var jk=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Th)||this).xS("https://widevine-proxy.drm.technology/proxy"),r}return Yi(n,t),n.prototype.jS=function(t,n){var e=this;return ta((function(){var n,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return[4,uk(t)];case 1:if(n=o.sent(),i=e.CS,r=Nf(new y(n)),!(u=e.bE))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:r,kid:i})]}}))}))()},Ri(n,[{key:"bE",get:function(){if(Dk(this.OS))return this.OS.token}}]),n}(ak);function Gk(t,n){var e=n||{};return t.ticket&&t.sessionId&&(e=na({},e,{SessionId:t.sessionId,Ticket:t.ticket})),na({},e,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}ki(),Vt(),ki(),Vt();var Xk=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Th)||this).xS("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return Yi(n,t),n.prototype.qS=function(n,e){var i=n;return Rk(this.OS)&&(i=Gk(this.OS,i)),t.prototype.qS.call(this,i,e)},n}(ak);ki(),Vt(),ki(),Vt();var Yk="Conax-Custom-Data";function $k(t,n,e){var i=t&&Ek(t)&&t;if(i&&!e.has(Yk)){var r=vk(i)?i.token:void 0,u=vk(i)?i.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});e.set(Yk,o)}return e}var Kk=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Th)||this).xS("https://connect.conax.com:8094/license"),r}return Yi(n,t),n.prototype.HS=function(){var n=t.prototype.HS.call(this);return $k(this.OS,"Widevine",n)},n}(ak);function Jk(t){var n=gf(new y(t));return Fc(JSON.parse(n).license)}function Zk(t){return"string"==typeof t.token?t.token:Gc(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Qk(t,n,e){var i;return i=e.token?"x-dt-auth-token":"dt-custom-data",t.set(i,n),t}ki(),Vt(),Ii(),ki(),Vt();var tT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Th)||this).xS("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}Yi(n,t);var e=n.prototype;return e.GS=function(t){return Jk(t)},e.HS=function(){return Qk(t.prototype.HS.call(this),this.bE,this.OS)},Ri(n,[{key:"bE",get:function(){return Zk(this.OS)}}]),n}(ak);ki(),Vt();var nT=function(t){function n(n,e,i){return t.call(this,n,e,i,al.Th)}return Yi(n,t),n.prototype.HS=function(){var n=t.prototype.HS.call(this),e=this.OS.token;return n.set("Authorization","Bearer "+e),n},n}(ak);function eT(t,n,e,i){return iT.apply(this,arguments)}function iT(){return(iT=ta((function(t,n,e,i){var r,u,o,s,a,c;return ea(this,(function(f){switch(f.label){case 0:if(!Ak(t))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(r=new vl).append("Cache-Control","no-cache"),r.append("Content-Type","application/json"),(u=t.sessionId)&&r.append("XSSESSION",u),o=t.streamId,s=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:s,streamId:o},c={tv:t.ticketAcquisitionURL,$h:al.Sh,Yh:r,_v:Fl.POST,Lh:JSON.stringify(a),fo:i},[4,e.Zh(c)];case 1:return[4,f.sent().Nh()];case 2:return[2,f.sent()]}}))}))).apply(this,arguments)}ki(),Vt(),ki(),Vt();var rT=function(t){function n(n,e,i){return t.call(this,n,e,i,al.Sh)}Yi(n,t);var e=n.prototype;return e.HS=function(){var n=t.prototype.HS.call(this);return n.set("Content-Type","application/json"),n},e.jS=function(n,e){var i=this;return ta((function(){var r,u,o;return ea(this,(function(s){switch(s.label){case 0:return r=jc(n.buffer),[4,eT(i.OS,"widevine_modular",i.Ud,e)];case 1:return u=s.sent(),i.xS(u.licenseServerUrl),o=yf(JSON.stringify({payload:r,ticket:u.ticket})),[2,t.prototype.jS.call(i,o,e)]}}))}))()},e.GS=function(t){return Fc(t.license)},n}(ak);ki(),Vt();var uT=function(t){function n(n,e,i){return t.call(this,n,e,i,al.Th)}return Yi(n,t),n.prototype.HS=function(){if(!Pk(this.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.HS.call(this);return n.set("X-AxDRM-Message",this.OS.token),n},n}(ak);function oT(t){for(var n=new y(2*t.length),e=0;e<t.length;e+=1)n[2*e]=t.charCodeAt(e),n[2*e+1]=0;return n}ki(),Vt();var sT=function(t){function n(n,e,i){var r;return(r=t.call(this,Oa,n,e,i,al.Th)||this).kE=void 0,r}Yi(n,t);var e=n.prototype;return e.AS=function(t){return t.playready||{}},e.HS=function(){var n=new vl(this.kE);return n.Oh(t.prototype.HS.call(this)),n},e.TE=function(t){return t.length>=1&&t[0].Ui.length>0},e.FS=function(n){var e=this.OS.playready.customData;if(e){var i=oT(e),r=oT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Uc(i)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return G.resolve({playready:{tf:r}})}return t.prototype.FS.call(this,n)},e.jS=function(t,n){var e=this;return ta((function(){var n;return ea(this,(function(i){switch(i.label){case 0:return[4,uk(t)];case 1:return n=i.sent(),[2,e.SE(n)]}}))}))()},e.SE=function(t){var n=this;return ta((function(){var e,i,r,u,o,s,a,c,f,h,v,d,l,w,g,y;return ea(this,(function(m){var _,p,b;r=null,u=new DataView(t),_=u,p=new Df,void 0===(b=!0)&&(b=!1),o=lf(_,p,b,!0);try{s=Wi.Ii(o)}catch(t){return[2,r]}for(a=null==(e=s.Mi("PlayReadyKeyMessage")[0])?void 0:e.Mi("LicenseAcquisition")[0],f=null!=(c=null==a?void 0:a.Mi("Challenge"))?c:[],n.TE(f)&&(r=Wc(f[0].Zi)),h=new vl,d=null!=(v=null==(i=null==a?void 0:a.Mi("HttpHeaders")[0])?void 0:i.Mi("HttpHeader"))?v:[],l=0;l<d.length;l++)w=d[l],g=w.Mi("name")[0].Zi,y=w.Mi("value")[0].Zi,h.append(g,y);return n.kE=h,[2,r]}))}))()},e.JS=function(t,n){return G.resolve(t)},e.ZS=function(n,e){return t.prototype.XS.call(this,n,Hl.dv,e)},n}(rk);ki(),Vt(),ki(),Vt(),Ii();var aT=function(){function t(n){this.EE=n,this.ja=t.RE(n)}return t.prototype.IE=function(){var t={};if(this.ja===pk.gE){var n={LatensRegistration:Mk(this.EE,pk.gE)};t["X-TITANIUM-DRM-CDATA"]=Gc(JSON.stringify(n))}return t},t.RE=function(t){return"3"===t.version?pk.gE:pk.wE},Ri(t,[{key:"OE",get:function(){return this.ja}},{key:"Vc",get:function(){return this.ja===pk.wE}}]),t}();var cT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).CE=new aT(r.OS),r}Yi(n,t);var e=n.prototype;return e.FS=function(t){var n=this.OS;if(!this.OS)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Nk(n)){var e={};return e.playready={tf:fT(n,this.CE.OE)},G.resolve(e)}return G.reject(Uk(n,pk.Cu))},e.HS=function(){var n=new vl(this.CE.IE());return n.Oh(t.prototype.HS.call(this)),n},e.VS=function(t,n,e){return ta((function(){var i,r,u,o,s,a,c,f;return ea(this,(function(h){switch(h.label){case 0:if(!(i=t.Mv))throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i.Ph(e)];case 2:return o=h.sent(),s=gf(new y(o)),(a=Wi.Ii(s))&&(c=Jp(a,"CustomData")).length>0&&(r=JSON.parse(c[0].Zi),u=null==(f=r.DrmErr)?void 0:f.desc),[3,4];case 3:return h.sent(),[3,4];case 4:throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,i.Xh,i.Kh,u)}}))}))()},e.TE=function(t){if(1!==t.length)throw new t_(Ad.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(sT);function fT(t,n){var e=Mk(t,n),i=e.DeviceInfo.FormatVersion,r=Gc('<LatensRegistration formatversion="'+i+'"><AccountName>'+e.AccountName+"</AccountName><CustomerName>"+e.CustomerName+"</CustomerName><PortalID>"+e.PortalId+'</PortalID><DeviceInfo formatversion="'+i+'"><DeviceType>'+e.DeviceInfo.DeviceType+"</DeviceType><OSType>"+e.DeviceInfo.OSType+"</OSType><OSVersion>"+e.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+e.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+e.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+e.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+e.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+e.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=_f(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return _f('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Uc(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}ki(),Vt(),Ii();var hT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).xS("https://playready-license.drm.technology/rightsmanager.asmx"),r}Yi(n,t);var e=n.prototype;return e.TE=function(t){if(1!==t.length)throw new t_(Ad.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.qS=function(n,e){var i=na({},n||{},{token:this.bE});return t.prototype.qS.call(this,i,e)},Ri(n,[{key:"bE",get:function(){if(Dk(this.OS))return this.OS.token}}]),n}(sT);ki(),Vt();var vT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).xS("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return Yi(n,t),n.prototype.qS=function(n,e){var i=n;return Rk(this.OS)&&(i=Gk(this.OS,i)),t.prototype.qS.call(this,i,e)},n}(sT);ki(),Vt();var dT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).xS("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return Yi(n,t),n.prototype.HS=function(){var n=t.prototype.HS.call(this);return $k(this.OS,"PlayReady",n)},n}(sT);ki(),Vt(),Ii();var lT,wT,gT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).xS("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}Yi(n,t);var e=n.prototype;return e.GS=function(n){return 1===(xa(gf(new y(n)),"<?xml")?0:1)?Jk(n):t.prototype.GS.call(this,new y(n))},e.HS=function(){return Qk(t.prototype.HS.call(this),this.bE,this.OS)},Ri(n,[{key:"bE",get:function(){return Zk(this.OS)}}]),n}(sT);(wT=lT||(lT={}))[wT.NE=0]="NE",wT[wT.Nh=1]="Nh",ki(),Vt();var yT=function(t){function n(n,e,i){return t.call(this,n,e,i)}Yi(n,t);var e=n.prototype;return e.HS=function(){var n=t.prototype.HS.call(this);return this.DE&&n.set("Ticket",this.DE),n.set("Content-Type","text/xml"),n},e.jS=function(n,e){var i=this;return ta((function(){var r;return ea(this,(function(u){switch(u.label){case 0:return[4,eT(i.OS,"playready",i.Ud,e)];case 1:return r=u.sent(),i.xS(r.licenseServerUrl),i.DE=r.ticket,[2,t.prototype.jS.call(i,n,e)]}}))}))()},n}(sT);ki(),Vt();var mT,_T,pT=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.HS=function(){if(!Pk(this.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.HS.call(this);return n.set("X-AxDRM-Message",this.OS.token),n},n}(sT);ki(),Vt(),Ii(),ki(),Vt(),(_T=mT||(mT={})).Sh="application/json",_T.AE="application/x-www-form-urlencoded",_T.PE="application/octet-stream",_T.Si="text/plain;charset=UTF-8";var bT=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n.Cc,e,i,r,u)||this).xE="",o.BE=void 0,o.LE=n.FE,o}Yi(n,t);var e=n.prototype;return e.ME=function(){return this.DS.certificateURL||this.BE},e.UE=function(t){this.BE=t},e.jS=function(t){return G.resolve(this.VE(t,this.xE))},e.VE=function(t,n){return"spc="+encodeURIComponent(Uc(t))+"&assetId="+encodeURIComponent(n)},e.AS=function(t){return t.fairplay||{}},e.HE=function(t){var n=t.indexOf("?");if(n>=0)return G.resolve(t.substr(n+1));var e=t.split("skd://").pop();if(e){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e))return G.resolve(e)}var i=t.split("/");return G.resolve(i[i.length-1])},e.FS=function(t){var n=this;return ta((function(){var e,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return i=null!=(e=n.LE)?e:bf(new y(t)),[4,n.HE(i)];case 1:return r=o.sent(),n.xE=r,(u={}).fairplay={af:r},[2,u]}}))}))()},e.HS=function(){var n=t.prototype.HS.call(this);return n.set("Content-Type",this.qE),n},e.JS=function(t,n){var e=this;return ta((function(){return ea(this,(function(t){switch(t.label){case 0:return e.$S?[2,e.$S]:[4,e.zE(n)];case 1:return[2,t.sent()]}}))}))()},e.ZS=function(n,e){return t.prototype.XS.call(this,n,Hl.cv,e)},e.WE=function(t){var n=this.ME(),e=this.HS(),i={tv:n,$h:al.Th,Yh:e,_v:Fl.GET,Tv:!1,Lh:null,pv:0,fo:t,xu:Ul.sv,bv:Hl.fv};return new Gl(i)},e.zE=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return e=n.WE(t),[4,n.Ud.Zh(e)];case 1:return[4,r.sent().Ph()];case 2:return i=r.sent(),[2,new y(i)]}}))}))()},e.GS=function(t){var n;if("string"==typeof t){var e=t.trim();"<ckc>"===e.substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6)),n=Fc(e)}else n=new y(t);return n},e.qS=function(n,e){var i=t.prototype.qS.call(this,n,e);return xa(i,"skd:")&&(i=i.substr("skd:".length)),i},Ri(n,[{key:"KS",get:function(){return!0}},{key:"qE",get:function(){return mT.AE}}]),n}(rk);ki(),Vt(),Ii();var kT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Th)}Yi(n,t);var e=n.prototype;return e.HE=function(n){var e=n.split("://",1);return"skd"!==e[0].slice(-3).toLowerCase()?G.resolve(""):(e=n.split(";",2)).length>1?G.resolve(e[1]):G.resolve(t.prototype.HE.call(this,n))},e.jS=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.GS=function(t){return new y(t)},e.qS=function(n,e){var i=n||{};return i.p1=au(),t.prototype.qS.call(this,i,e)},Ri(n,[{key:"qE",get:function(){return mT.PE}}]),n}(bT);ki(),Vt(),Ii();var TT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Th)||this).xS("https://fairplay-license.drm.technology/license"),u.UE("https://fairplay-license.drm.technology/certificate"),u}Yi(n,t);var e=n.prototype;return e.VE=function(t,n){var e={token:this.bE,contentId:n,payload:Uc(t)};return JSON.stringify(e)},e.GS=function(t){return new y(t)},e.HS=function(){var n=t.prototype.HS.call(this);return n.set("x-vudrm-token",this.bE),n},Ri(n,[{key:"qE",get:function(){return mT.Sh}},{key:"bE",get:function(){if(!Dk(this.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.OS.token}}]),n}(bT);ki(),Vt();var ST="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",ET="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",RT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Th)}return Yi(n,t),n.prototype.GS=function(n){var e=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new t_(Ad.CONTENT_PROTECTION_LICENSE_INVALID,ST)}if(!n)throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,ET);return n}(gf(new DataView(n)));return t.prototype.GS.call(this,e)},n}(bT);ki(),Vt(),Ii();var IT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Sh)}Yi(n,t);var e=n.prototype;return e.jS=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){if(!(e=n.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return i=Uc(t),[2,Vk(e,i,pk.Au)]}))}))()},e.GS=function(t){try{var n;if(gr(t)){var e=t.trim();n=JSON.parse(e)}else n=t;if(n.license){var i=Wc(n.license);return new y(i)}throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new t_(Ad.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.VS=function(t,n,e){return Hk(t,n,e)},Ri(n,[{key:"qE",get:function(){return mT.Sh}}]),n}(bT);ki(),Vt(),Ii();var OT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Th)||this).xS("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.UE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}Yi(n,t);var e=n.prototype;return e.ME=function(){var n=t.prototype.ME.call(this);if(!n)return n;var e=Wi.du(n),i=this.OS;return Rk(i)&&$l(e,{accountId:i.accountId,applicationId:i.applicationId||""}),e.href},e.HE=function(n){return Rk(this.OS)?G.resolve(this.OS.contentId):t.prototype.HE.call(this,n)},e.jS=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.GS=function(t){return new y(t)},e.qS=function(n,e){var i=n;return Rk(this.OS)&&(i=function(t,n){return na({},Gk(t,n),{KeyId:t.keyId})}(this.OS,i)),t.prototype.qS.call(this,i,e)},Ri(n,[{key:"qE",get:function(){return mT.PE}}]),n}(bT);ki(),Vt();var CT=function(t){function n(n,e,i,r){var u;if(u=t.call(this,n,e,i,r,al.Si)||this,!Ek(e))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.xS("https://connect.conax.com:8097/license"),u}Yi(n,t);var e=n.prototype;return e.HS=function(){var n=t.prototype.HS.call(this);return $k(this.OS,"FairPlay",n)},e.zE=function(t){var n=this;return ta((function(){var e,i,r;return ea(this,(function(u){switch(u.label){case 0:return e=n.ME(),i={tv:e,$h:al.Th,Yh:{},_v:Fl.GET,Tv:!1,Lh:null,pv:0,fo:t,xu:Ul.sv,bv:Hl.fv},[4,n.Ud.Zh(i)];case 1:return[4,u.sent().Ph()];case 2:return r=u.sent(),[2,new y(r)]}}))}))()},e.jS=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.HE=function(t){var n,e=t.indexOf("?");return 0===t.indexOf("skd://")?(n=e>=0?t.substring("skd://".length,e):t.substring("skd://".length),G.resolve(gf(Fc(n)))):G.resolve("unknown")},e.GS=function(t){try{var n=JSON.parse(t);return new y(Wc(n.CkcMessage))}catch(t){throw new f("CFLRW-66")}},n}(bT);ki(),Vt();var NT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Si)||this).xS(yk[da.Au]),u}Yi(n,t);var e=n.prototype;return e.HE=function(t){return xa(t,"skd://")?G.resolve(t.substring("skd://".length,40)):G.reject(new t_(Ad.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.VE=function(t,n){return"spc="+Uc(t)+"&assetId="+n},n}(bT);ki(),Vt(),Ii();var DT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Si)||this).xS("https://lic.drmtoday.com/license-server-fairplay/"),u}Yi(n,t);var e=n.prototype;return e.VE=function(t,n){var e="spc="+encodeURIComponent(Uc(t))+"&"+encodeURI(n);return"persistent"===this.DS.licenseType?e+"&offline=true":e},e.HS=function(){return Qk(t.prototype.HS.call(this),this.bE,this.OS)},Ri(n,[{key:"bE",get:function(){return Zk(this.OS)}}]),n}(bT);ki(),Vt(),Ii();var AT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Th)}Yi(n,t);var e=n.prototype;return e.HE=function(t){var n=t;return xa(n,"skd:")&&(n="http:"+n.substring(4)),xa(n,"http:")||xa(n,"https:")?G.resolve(Wi.du(n).hostname):G.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},e.jS=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.GS=function(t){return new y(t)},Ri(n,[{key:"qE",get:function(){return mT.PE}}]),n}(bT);ki(),Vt();var PT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Si)}return Yi(n,t),n.prototype.HS=function(){var n=t.prototype.HS.call(this),e=this.OS.token;return n.set("Authorization","Bearer "+e),n},n}(bT);ki(),Vt(),Ii();var xT=function(t){function n(n,e,i,r){var u=t.call(this,n,e,i,r,al.Sh);if(!Ak(e))throw new f("Invalid Xstream DRM configuration");return u}Yi(n,t);var e=n.prototype;return e.zE=function(t){var n=this;return ta((function(){var e,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return e=n.ME(),i=n.HS(),r={tv:e,$h:al.Sh,Yh:i,_v:Fl.POST,fo:t,xu:Ul.sv,bv:Hl.fv},[4,n.Ud.Zh(r)];case 1:return[4,o.sent().Nh()];case 2:return u=o.sent(),[2,new y(Fc(u.certificate))]}}))}))()},e.ZS=function(t,n,e){void 0===e&&(e=al.Si);var i=this;return ta((function(){var e,r,u,o;return ea(this,(function(s){switch(s.label){case 0:return e=Uc(t),[4,eT(i.OS,"fairplay",i.Ud,n)];case 1:return r=s.sent(),u=yf(JSON.stringify({spc:e,ticket:r.ticket})),o={tv:i.BS(),$h:al.Sh,Yh:i.HS(),_v:Fl.POST,Lh:u,pv:0,fo:n,xu:Ul.sv,bv:Hl.cv},[4,i.Ud.Zh(o)];case 2:return[4,s.sent().Nh()];case 3:return[2,Fc(s.sent().licence)]}}))}))()},Ri(n,[{key:"qE",get:function(){return mT.Sh}}]),n}(bT);ki(),Vt();var BT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Si)}Yi(n,t);var e=n.prototype;return e.VE=function(t,n){return Uc(t)},e.GS=function(n){if(0===n.length)throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.GS.call(this,n)},e.HS=function(){var n=t.prototype.HS.call(this);return n.set("Content-Type","text/plain"),n},n}(bT);ki(),Vt(),Ii();var LT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Th)}Yi(n,t);var e=n.prototype;return e.VE=function(t,n){return t},e.GS=function(t){return new y(t)},e.HS=function(){if(!Pk(this.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.HS.call(this);return n.set("X-AxDRM-Message",this.OS.token),n},Ri(n,[{key:"qE",get:function(){return mT.Sh}}]),n}(bT);ki(),Vt(),Ii();var FT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Sh)||this).jE=void 0,u}Yi(n,t);var e=n.prototype;return e.VE=function(t,n){var e={spc:Uc(t)};return JSON.stringify(e)},e.HE=function(t){var n=Wi.du(t);return this.jE=t,n.searchParams.has("b")?G.resolve(n.searchParams.get("b")):G.reject(new t_(Ad.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.qS=function(n,e){var i=this.BS();return!i&&this.jE&&(i=this.jE),i&&(i=i.replace("skd://","https://")),t.prototype.qS.call(this,n,e||i)},e.GS=function(t){try{var n;if((n=gr(t)?JSON.parse(t.trim()):t).ckc)return Fc(n.ckc)}catch(t){throw new t_(Ad.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Ri(n,[{key:"qE",get:function(){return mT.Si}}]),n}(bT);ki(),Vt(),ki(),Vt(),ki(),Vt();var MT=function(){function t(t,n){this.GE=t,this.XE=n}var n=t.prototype;return n.YE=function(t){return this.GE(t)},n.$E=function(t,n){throw new h(n+" must be "+this.XE+". (Received: "+t+")")},t}(),UT=(new MT((function(t){return!0}),"any"),new MT(_r,"a number")),VT=new MT(gr,"a string"),HT=new MT(yr,"a boolean");new MT((function(t){return"[object Date]"===cr.call(t)}),"a date"),new MT(hr,"undefined"),new MT(lr,"an object"),new MT((function(t){return null===t}),"null"),new MT((function(t){return null==t}),"null or undefined");var qT,zT=(qT={responseCode:UT,isException:HT,description:VT,title:VT,correlationId:VT},{YE:function(t){if(!lr(t))return!1;for(var n=0,e=v.keys(qT);n<e.length;n++){var i=e[n];if(!qT[i].YE(t[i]))return!1}return!0},$E:function(t,n){if(!lr(t))throw new h(n+" must be an object.");for(var e=0,i=v.keys(qT);e<i.length;e++){var r=i[e],u=qT[r];if(!u.YE(t[r]))return u.$E(t[r],n+"."+String(r))}throw new h}});function WT(t,n,e,i,r){return jT.apply(this,arguments)}function jT(){return(jT=ta((function(t,n,e,i,r){return ea(this,(function(u){switch(u.label){case 0:return[4,XT(GT(t,n,e,r),i)];case 1:return[2,u.sent()]}}))}))).apply(this,arguments)}function GT(t,n,e,i){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=Wi.du(t);return $l(e,n),e.toString()}(e,r)),o=new vl({});o.append("Content-Type","application/json");var s=Uc(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{tv:u,$h:al.Si,Yh:o,_v:Fl.POST,Lh:JSON.stringify(a),fo:i,xu:Ul.sv,bv:Hl.cv}}function XT(t,n){return YT.apply(this,arguments)}function YT(){return(YT=ta((function(t,n){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.Zh(t)];case 1:return[4,i.sent().Nh()];case 2:if(e=i.sent(),zT.YE(e))throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,e.description,void 0,t.tv,e.responseCode);return[2,Fc(e.getFairplayLicenseResponse.ckcResponse)]}}))}))).apply(this,arguments)}var $T=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Th)||this).KE=e,u}Yi(n,t);var e=n.prototype;return e.HE=function(n){var e=n.replace("FairPlay",this.KE.releasePid);return t.prototype.HE.call(this,e)},e.ZS=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return[4,WT(t,e.KE,e.BS(),e.Ud,n)];case 1:return[2,i.sent()]}}))}))()},n}(bT);ki(),Vt();var KT=function(t){function n(n,e,i){return t.call(this,Da,n,e,i,al.Th)}Yi(n,t);var e=n.prototype;return e.AS=function(t){return t.clearkey||{}},e.MS=function(n,e,i,r){var u=this;return ta((function(){var e,o;return ea(this,(function(s){if(e=u.DS,u.BS())return[2,t.prototype.MS.call(u,n,u.NS,i,r)];if(e.keys&&e.keys.length)return o={keys:e.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,yf(JSON.stringify(o)).buffer];throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},e.JS=function(t,n){return G.resolve(new y(0))},e.ZS=function(n,e){return t.prototype.XS.call(this,n,Hl.lv,e)},n}(rk);ki(),Vt();var JT=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n}(ak);ki(),Vt(),ki(),Vt();var ZT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function QT(t,n,e){return tS.apply(this,arguments)}function tS(){return(tS=ta((function(t,n,e){var i,r,u;return ea(this,(function(o){switch(o.label){case 0:return i=lS(n),(r=t.onCertificateRequest)&&"function"==typeof r?[4,fc(G.resolve(r.call(t,i)),e)]:[2,G.resolve(n)];case 1:return Rf(u=o.sent())?[2,If(u)]:[2,dS(na({},ZT,u))]}}))}))).apply(this,arguments)}function nS(t,n,e,i,r){return eS.apply(this,arguments)}function eS(){return(eS=ta((function(t,n,e,i,r){var u,o;return ea(this,(function(s){switch(s.label){case 0:return u=t.onCertificateResponse,o=vS(n,e,i),u&&"function"==typeof u?[4,fc(G.resolve(u.call(t,o)),r)]:[2,G.resolve(n)];case 1:return[2,If(s.sent())]}}))}))).apply(this,arguments)}function iS(t,n,e,i){return rS.apply(this,arguments)}function rS(){return(rS=ta((function(t,n,e,i){var r;return ea(this,(function(u){switch(u.label){case 0:return[4,sS(t,n,e,i)];case 1:return(r=u.sent())instanceof ArrayBuffer?[2,r]:[2,dS(r)]}}))}))).apply(this,arguments)}function uS(t,n,e,i,r,u){return oS.apply(this,arguments)}function oS(){return(oS=ta((function(t,n,e,i,r,u){var o;return ea(this,(function(s){switch(s.label){case 0:return o=hS(e,r),[4,cS(t,new y(n),o,i,u)];case 1:return[2,If(s.sent())]}}))}))).apply(this,arguments)}function sS(t,n,e,i){return aS.apply(this,arguments)}function aS(){return(aS=ta((function(t,n,e,i){var r,u,o;return ea(this,(function(s){switch(s.label){case 0:return r=null==t?void 0:t.onLicenseRequest,u=hS(n,e),r&&"function"==typeof r?[4,fc(G.resolve(r.call(t,u)),i)]:[2,G.resolve(u)];case 1:return Rf(o=s.sent())?[2,If(o).buffer]:[2,na({fairplaySkdUrl:void 0},ZT,o)]}}))}))).apply(this,arguments)}function cS(t,n,e,i,r){return fS.apply(this,arguments)}function fS(){return(fS=ta((function(t,n,e,i,r){var u,o;return ea(this,(function(s){switch(s.label){case 0:return u=null==t?void 0:t.onLicenseResponse,o=vS(n,e,i),u&&"function"==typeof u?[4,fc(G.resolve(u.call(t,o)),r)]:[2,G.resolve(n)];case 1:return[2,If(s.sent())]}}))}))).apply(this,arguments)}function hS(t,n){return na({},lS(t),{fairplaySkdUrl:n})}function vS(t,n,e){return{url:e.Qh,status:e.Xh,statusText:e.Kh,headers:e.Yh.Rh(),body:t,request:n}}function dS(t){return new Gl({tv:t.url,_v:t.method,Yh:t.headers,Lh:t.body,Tv:t.useCredentials})}function lS(t){var n;return{url:t.tv,body:null!=(n=wS(t.Lh))?n:null,headers:t.Yh.Rh(),method:t._v,useCredentials:t.Tv}}function wS(t){if(t)return"string"==typeof t?kf(t):t instanceof ArrayBuffer?new y(t):Hc(t)?Ef(t):void 0}var gS=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i)||this).JE=r,u}Yi(n,t);var e=n.prototype;return e.JS=function(t,n){return G.resolve(t)},e.ZS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return[4,e.SE(Cf(t).buffer)];case 1:return i=c.sent(),r=e.US(i,al.Th,Hl.dv,n),[4,iS(e.JE,r,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new y(u)];if(""===u.tv)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,e.Ud.Zh(u)];case 4:return[4,(o=c.sent()).Ph(n)];case 5:return s=c.sent(),[4,uS(e.JE,s,r,o,void 0,n)];case 6:return[2,c.sent()];case 7:throw ac(a=c.sent()),new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(sT);ki(),Vt();var yS=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,al.Th)||this).JE=r,u}Yi(n,t);var e=n.prototype;return e.JS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return e.$S?[2,e.$S]:(i=e.US(t,al.Th,Hl.vv,n),[4,QT(e.JE,i,n)]);case 1:if((r=c.sent())instanceof y)return[2,r];if(""===r.tv)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,e.Ud.Zh(r)];case 3:return[4,(u=c.sent()).Ph(n)];case 4:return o=c.sent(),[3,6];case 5:throw ac(s=c.sent()),new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",s);case 6:return a=hS(i,void 0),[4,nS(e.JE,new y(o),a,u,n)];case 7:return[2,c.sent()]}}))}))()},e.ZS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return i=e.US(t,al.Th,Hl.hv,n),[4,iS(e.JE,i,void 0,n)];case 1:if((r=a.sent())instanceof ArrayBuffer)return[2,new y(r)];if(""===r.tv)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Ud.Zh(r)];case 3:return[4,(u=a.sent()).Ph(n)];case 4:return o=a.sent(),[4,uS(e.JE,o,i,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw ac(s=a.sent()),new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",s);case 7:return[2]}}))}))()},n}(JT);ki(),Vt();var mS,_S,pS=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,i,r,al.Th)||this).JE=u,o}Yi(n,t);var e=n.prototype;return e.JS=function(t,n){var e=this;return ta((function(){var t,i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return e.$S?[2,e.$S]:(t=e.WE(n),[4,QT(e.JE,t,n)]);case 1:if(i=a.sent(),Hc(i))return[2,i];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Ud.Zh(i)];case 3:return[4,(r=a.sent()).Ph()];case 4:return u=a.sent(),o=hS(t,void 0),[4,nS(e.JE,new y(u),o,r,n)];case 5:return[2,a.sent()];case 6:throw ac(s=a.sent()),new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",s);case 7:return[2]}}))}))()},e.ZS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return i=e.US(t,al.Th,Hl.cv,n),[4,iS(e.JE,i,e.ZE,n)];case 1:if((r=a.sent())instanceof ArrayBuffer)return[2,new y(r)];if(""===r.tv)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Ud.Zh(r)];case 3:return[4,(u=a.sent()).Ph(n)];case 4:return o=a.sent(),[4,uS(e.JE,o,i,u,e.ZE,n)];case 5:return[2,a.sent()];case 6:throw ac(s=a.sent()),new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",s);case 7:return[2]}}))}))()},e.HE=function(n){var e;return this.ZE=n,(null==(e=this.JE)?void 0:e.extractFairplayContentId)?G.resolve(this.JE.extractFairplayContentId(n)):t.prototype.HE.call(this,n)},n}(bT),bS=function(){function t(){}var n=t.prototype;return n.QE=function(t,n,e,i){switch(t.Cc.xu){case da.Nu:return this.tR(n,e,i);case da.Cu:return this.nR(n,e,i);case da.Au:return this.eR(t,n,e,i);case da.Du:default:return this.iR(n,e,i)}},n.tR=function(t,n,e){var i=function(t){return t.integration===ik&&gr(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(i&&gk.lE.hE(i,ka)){var r=gk.lE.dE(i,ka,t);return new yS(t,n,e,r)}switch(i){case qb:return new Wk(t,n,e);case Gb:return new jk(t,n,e);case jb:return new Xk(t,n,e);case zb:return new Kk(t,n,e);case $b:return new tT(t,n,e);case Jb:return new nT(t,n,e);case Zb:return new rT(t,n,e);case tk:return new uT(t,n,e);case Yb:default:return new JT(t,n,e,al.Th)}},n.nR=function(t,n,e){var i=t.integration;if(i&&gk.lE.hE(i,_a)){var r=gk.lE.dE(i,_a,t);return new gS(t,n,e,r)}switch(i){case qb:return new cT(t,n,e);case Gb:return new hT(t,n,e);case jb:return new vT(t,n,e);case zb:return new dT(t,n,e);case $b:return new gT(t,n,e);case Zb:return new yT(t,n,e);case tk:return new pT(t,n,e);case Yb:default:return new sT(t,n,e)}},n.eR=function(t,n,e,i){var r=n.integration;if(r&&gk.lE.hE(r,Ra)){var u=gk.lE.dE(r,Ra,n);return new pS(t,n,e,i,u)}switch(r){case Wb:return new kT(t,n,e,i);case Gb:return new TT(t,n,e,i);case Xb:return new RT(t,n,e,i);case qb:return new IT(t,n,e,i);case jb:return new OT(t,n,e,i);case zb:return new CT(t,n,e,i);case Yb:return new NT(t,n,e,i);case $b:return new DT(t,n,e,i);case Kb:return new AT(t,n,e,i);case Jb:return new PT(t,n,e,i);case Zb:return new xT(t,n,e,i);case Qb:return new BT(t,n,e,i);case tk:return new LT(t,n,e,i);case nk:return new FT(t,n,e,i);case ek:return new $T(t,n,e,i);default:return new bT(t,n,e,i,al.Si)}},n.iR=function(t,n,e){return new KT(t,n,e)},n.rR=function(t){return t.xu===da.Cu||t.xu===da.Nu||t.xu===da.Au||t.xu===da.Du},n.Vc=function(t,n){var e;if(t.xu!==da.Cu)return!1;if(fr(null==(e=n.playready)?void 0:e.customData))return!0;var i=n.integration;return(!i||!gk.lE.hE(i,Ra))&&(i===qb&&new aT(n).Vc)},n.pE=function(t,n){if(t.xu===da.Nu){var e=n.integration;if(!e||!gk.lE.hE(e,Ra))return e===qb?Wk.pE():void 0}},t}();ki(),Vt(),ki(),Vt(),(_S=mS||(mS={}))[_S.uR=0]="uR",_S[_S.oR=1]="oR",_S[_S.sR=2]="sR",_S[_S.aR=3]="aR",_S[_S.cR=4]="cR",_S[_S.dw=5]="dw",_S[_S.fR=6]="fR",_S[_S.hR=7]="hR",_S[_S.ww=8]="ww",_S[_S.vR=9]="vR",_S[_S.dR=10]="dR",ki(),Vt(),Ii();var kS=function(){function t(){}return t.prototype.lR=function(t){},Ri(t,[{key:"wR",get:function(){return 0}},{key:"gR",get:function(){return 0}}]),t}();ki(),Vt();var TS=function(){function t(t,n){void 0===n&&(n=new bS),this.EE=void 0,this.nS=t,this.yR=n}var n=t.prototype;return n.mR=function(t){this.EE=t},n.pE=function(t){var n=this.EE;if(void 0!==n)return this.yR.pE(t,n)},n.Vc=function(t){var n=this.EE;return void 0!==n&&this.yR.Vc(t,n)},n._R=function(t){var n={Cc:t.Cc,pR:t.pR||[],FE:t.FE},e=this.yR.QE(n,this.EE||{},t.CS,this.nS);return new SS(e)},t}(),SS=function(){function t(t){this.bR=t}var n=t.prototype;return n.LS=function(t){return this.bR.LS(t)},n.FS=function(t,n,e){return this.bR.FS(n,e)},n.KS=function(){return this.bR.KS||void 0!==this.bR.$S},n.JS=function(t,n){return this.bR.JS(t,n)},n.ZS=function(t,n,e){return n&&this.bR.xS(n),this.bR.ZS(t,e)},n.Qu=function(){this.bR.kn()},t}();ki(),Vt();var ES=function(t){function n(n){var e;(e=t.call(this)||this).kR=[],e.TR=function(t){e._l(t.Xd)},e.SR=function(t){var n=t.Xd;e.ER(n)||e.pl(n)};for(var i=0;i<n.length;i++){var r=n[i];e.RR(r)}return e}Yi(n,t);var e=n.prototype;return e.RR=function(t){this.kR.push(t);for(var n=0,e=t.kl;n<e.length;n++){var i=e[n];this._l(i)}this.IR(t)},e.OR=function(t){Qa(this.kR,t),this.CR(t);for(var n=0,e=t.kl;n<e.length;n++){var i=e[n];this.ER(i)||this.pl(i)}},e.ER=function(t){for(var n=0,e=this.kR;n<e.length;n++){if(e[n].bl(t))return!0}return!1},e.IR=function(t){t.yo(xg.Vd,this.TR),t.yo(xg.qd,this.SR)},e.CR=function(t){t.bo(xg.Vd,this.TR),t.bo(xg.qd,this.SR)},e.kn=function(){for(;this.kR.length>0;)this.OR(this.kR[0]);t.prototype.kn.call(this)},e.Gd=function(){return Iy(this)},n}(Jg);function RS(t){return{get enabled(){return t.Al},set enabled(n){t.Al=ay(n)},get currentLatency(){return t.Jw},get streamConfiguration(){if(void 0!==t.NR)return function(t){return{get minimumOffset(){return t.qw},get maximumOffset(){return t.Ww},get targetOffset(){return t.zw},get forceSeekOffset(){return t.jw},get minimumPlaybackRate(){return t.Gw},get maximumPlaybackRate(){return t.Xw}}}(t.NR)},get configuration(){return function(t){return{get minimumOffset(){return t.qw},set minimumOffset(n){t.qw=cy(n)},get maximumOffset(){return t.Ww},set maximumOffset(n){t.Ww=cy(n)},get targetOffset(){return t.zw},set targetOffset(n){t.zw=cy(n)},get forceSeekOffset(){return t.jw},set forceSeekOffset(n){t.jw=cy(n)},get minimumPlaybackRate(){return t.Gw},set minimumPlaybackRate(n){t.Gw=cy(n)},get maximumPlaybackRate(){return t.Xw},set maximumPlaybackRate(n){t.Xw=cy(n)},update:function(n){t.kc(function(t){var n={};void 0!==t.minimumOffset&&(n.qw=cy(t.minimumOffset));void 0!==t.maximumOffset&&(n.Ww=cy(t.maximumOffset));void 0!==t.targetOffset&&(n.zw=cy(t.targetOffset));void 0!==t.forceSeekOffset&&(n.jw=cy(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.Gw=cy(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Xw=cy(t.maximumPlaybackRate));return n}(n))}}}(t.Nc)}}}ki(),Vt(),Ii(),ki(),Vt();var IS,OS=function(){function t(){this.DR={jw:0,Ww:0,Xw:0,qw:0,Gw:0,zw:0,kc:pr}}return Ri(t,[{key:"jd",get:function(){return null!=this.Wd||(this.Wd=RS(this)),this.Wd}},{key:"Al",get:function(){return!1},set:function(t){}},{key:"Jw",get:function(){}},{key:"NR",get:function(){}},{key:"Nc",get:function(){return this.DR}}]),t}();function CS(){return IS||(IS=mi&&mi.document&&mi.document.createElement("video")),IS}var NS=!(!mi||!mi.TextTrack),DS=function(t){function n(n,e,i,r,u,o,s){var a;return void 0===o&&(o=new bS),void 0===s&&(s=tl()),(a=t.call(this)||this).AR=void 0,a.PR=void 0,a.xR=void 0,a.LR=new kS,a.FR=new OS,a.MR=function(t){var n=t.Do,e=n.code,i=new Md(function(t){switch(t){case 1:return Ad.MEDIA_ABORTED;case 2:return Ad.NETWORK_ERROR;case 3:return Ad.MEDIA_DECODE_ERROR;case 4:return Ad.SOURCE_NOT_SUPPORTED;case 5:return Ad.CONTENT_PROTECTION_ERROR;case 6:return Ad.LICENSE_ERROR;case 7:return Ad.AD_ERROR}}(e),"Something went wrong during native playback.",n),r=new n_(e,i.message,n.message);a.UR(i,r)},a.HR=function(){a.lo(new _m(a.Dw,a.xg))},a.qR=function(t){a.Lw||(a.zR=void 0),a.lo(t)},a.WR=function(t){a.zR=void 0},a.jR=function(){a.lo(new R_(a.Lg))},a.GR=function(){a.Vw>0&&a.Uw>0&&a.lo(new Mb)},a.XR=function(t){a.ug._l(new w_(t.track))},a.YR=function(t){var n=PS(a.ug,t.track);n&&a.ug.pl(n)},a.$R=function(){a.KR(a.ug)},a.JR=function(t){a.og._l(new y_(t.track))},a.ZR=function(t){var n=PS(a.og,t.track);n&&a.og.pl(n)},a.QR=function(){a.KR(a.og)},a.tI=function(t){a.lo(t),a.UR(t.errorObject,i_(t.errorObject))},a.nI=e,a.nS=i,a.qu=s,a.eI=a.nI.wn(r_.yv),a.iI=a.eI.rI.preload,a.uI=new Hb(a.eI,!0),a.uI.yo(wm,a.do),a.oI=new TS(i,o),a.eI.sI=a.oI,a.aI(),a.ug=new o_,a.og=new o_,a.cI(),a.fI=new Nb(a.eI,a.nS),a.sg=new ES([a.eI.dg]),a.Tg(),a}Yi(n,t);var e=n.prototype;return e.Sg=function(){this.eI.Sg()},e.Tg=function(){this.eI.Tg()},e.yg=function(t,n,e){var i=this;return ta((function(){var r;return ea(this,(function(u){switch(u.label){case 0:return sc(e),r={xu:Lb.aS,Jl:t.src,Bh:t.type,hI:i.vI(t),Gg:i.iI,dI:t.crossOrigin,lI:n.metadata&&n.metadata.title},i.oI.mR(t.contentProtection),[4,i.eI._c(r)];case 1:return i.AR=u.sent(),sc(e),n.textTracks&&i.wI(n.textTracks),Bb(i.dg),[2]}}))}))()},e.wI=function(t){for(var n=0;n<t.length;n++){var e=t[n];if(this.eI.gI()&&sr.Ve&&NS&&!bb(e.kind,e.label)&&this.yI(e)){var i,r=null!=(i=e.kind)?i:db.bp;this.eI.mI(e.src,r,e.label,e.srclang,e.default)}else{if(void 0===e.src)continue;this.fI.eS(e)}}},e.yI=function(t){return!t.format||"webvtt"===t.format},e.gn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.eI.gn()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t._I?[3,5]:[4,t.eI.Eo(ol.rh)];case 4:return n.sent(),[3,3];case 5:return[2]}}))}))()},e.yn=function(){this.eI.yn()},e.mg=function(){return void 0!==this.eI.rI.webkitShowPlaybackTargetPicker},e._g=function(){this.eI.rI.webkitShowPlaybackTargetPicker&&this.eI.rI.webkitShowPlaybackTargetPicker()},e.pg=function(){this.eI.rI.webkitShowPlaybackTargetPicker&&this.eI.rI.webkitShowPlaybackTargetPicker()},e.Eg=function(){return this.eI.rI},e.Rg=function(){return this.eI.pI},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.PR=void 0,t.xR=void 0,t.AR=void 0,[4,t.fI.Bc()];case 1:return n.sent(),t.eI.bI(),[4,t.eI.Bc()];case 2:return n.sent(),t.uI.Bc(),t.Gg=t.iI,t.hg.Bc(),t.vg.Bc(),t.zR=void 0,[2]}}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.Bc()];case 1:return n.sent(),t.po(),t.kI(),t.TI(),t.uI.kn(),t.eI.sI=void 0,[4,t.nI.pn(t.eI)];case 2:return n.sent(),t.ug.kn(),t.og.kn(),t.sg.kn(),[4,t.fI.kn()];case 3:return n.sent(),[2]}}))}))()},e.aI=function(){this.eI.yo(ol.ih,this.do),this.eI.yo(ol.eh,this.do),this.eI.yo(ol.mh,this.HR),this.eI.yo(ol.rh,this.do),this.eI.yo(ol.Jf,this.do),this.eI.yo(ol.fh,this.do),this.eI.yo(ol.ah,this.qR),this.eI.yo(ol.Yf,this.do),this.eI.yo(ol.uh,this.do),this.eI.yo(ol._h,this.do),this.eI.yo(ol.Gf,this.do),this.eI.yo(ol.sh,this.GR),this.eI.yo(vm.Nw,this.WR),this.eI.yo(ky.Vl,this.MR),this.eI.yo(ol.zf,this.do),this.eI.yo(ol.qf,this.tI),this.eI.rI.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.jR)},e.kI=function(){this.eI.bo(ol.ih,this.do),this.eI.bo(ol.eh,this.do),this.eI.bo(ol.mh,this.HR),this.eI.bo(ol.rh,this.do),this.eI.bo(ol.Jf,this.do),this.eI.bo(ol.fh,this.do),this.eI.bo(ol.ah,this.qR),this.eI.bo(ol.Yf,this.do),this.eI.bo(ol.uh,this.do),this.eI.bo(ol._h,this.do),this.eI.bo(ol.Gf,this.do),this.eI.bo(ol.sh,this.GR),this.eI.bo(vm.Nw,this.WR),this.eI.bo(ky.Vl,this.MR),this.eI.bo(ol.zf,this.do),this.eI.bo(ol.qf,this.tI),this.eI.rI.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.jR)},e.vI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Cc:Na,SI:[{initDataTypes:[Na.Lu],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.cI=function(){var t=this.eI.rI.audioTracks,n=this.eI.rI.videoTracks;t&&(t.addEventListener("addtrack",this.XR),t.addEventListener("removetrack",this.YR),t.addEventListener("change",this.$R)),n&&(n.addEventListener("addtrack",this.JR),n.addEventListener("removetrack",this.ZR),n.addEventListener("change",this.QR))},e.TI=function(){var t=this.eI.rI.audioTracks,n=this.eI.rI.videoTracks;t&&(t.removeEventListener("addtrack",this.XR),t.removeEventListener("removetrack",this.YR),t.removeEventListener("change",this.$R)),n&&(n.removeEventListener("addtrack",this.JR),n.removeEventListener("removetrack",this.ZR),n.removeEventListener("change",this.QR))},e.KR=function(t){for(var n=0;n<t.Tl;n++){t.ml(n).iy()}},e.Ag=function(){this.eI.Ag()},e.UR=function(t,n){this.PR||(this.PR=n,this.xR=t,this.lo(new Om(t)))},Ri(n,[{key:"_I",get:function(){var t=this.eI.Pg,n=this.Dw;return t.EI(n,.01)}},{key:"hg",get:function(){return this.ug}},{key:"Pg",get:function(){return this.eI.Pg.RI()}},{key:"xg",get:function(){return this.eI.xg},set:function(t){t&&this.eI.II(t)}},{key:"Dw",get:function(){return void 0!==this.zR?this.zR:this.eI.Dw},set:function(t){this.Lg&&(this.zR=t),this.eI.Go(t)}},{key:"Aw",get:function(){return this.eI.Aw}},{key:"Pw",get:function(){return this.eI.Pw}},{key:"Do",get:function(){return this.PR}},{key:"xw",get:function(){return this.xR}},{key:"lg",get:function(){}},{key:"Lg",get:function(){return this.eI.Lg}},{key:"Fg",get:function(){return na({},{Mg:0,Ug:0,Vg:0,Hg:0,qg:0,zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.eI.OI())}},{key:"Bw",get:function(){return this.eI.Bw},set:function(t){this.eI.Bw=t}},{key:"Wg",get:function(){return!0}},{key:"Lw",get:function(){return this.eI.Lw}},{key:"Fw",get:function(){return this.eI.Fw},set:function(t){this.eI.Fw=t}},{key:"jg",get:function(){return this.eI.rI.played}},{key:"Gg",get:function(){return this.iI},set:function(t){this.iI=t,this.AR&&(this.AR.Gg=t)}},{key:"Yl",get:function(){return this.eI.Yl}},{key:"Xg",get:function(){return this.eI.Xg.RI()}},{key:"Mw",get:function(){return this.eI.Mw}},{key:"CI",get:function(){return this.eI.CI}},{key:"dg",get:function(){return this.sg}},{key:"vg",get:function(){return this.og}},{key:"Uw",get:function(){return this.eI.Uw}},{key:"Vw",get:function(){return this.eI.Vw}},{key:"Hw",get:function(){return this.eI.Hw},set:function(t){this.eI.Hw=t}},{key:"Yg",get:function(){return this.FR}},{key:"$g",get:function(){return this.eI.$g},set:function(t){this.eI.$g=t}},{key:"NI",get:function(){return this.LR}}]),n}(Cy);var AS=function(){function t(){this.DI=mS.dR}var n=t.prototype;return n.sE=function(t,n,e,i,r,u){return new DS(t,n,e,i,r)},n.AI=function(t,n){return function(t){return!t.type||!(!CS().canPlayType||!CS().canPlayType(t.type))}(t)},n.xI=function(){return!1},t}();function PS(t,n){for(var e=0,i=t.kl;e<i.length;e++){var r=i[e];if(r.sy===n)return r}}var xS=function(){function t(){this.BI=new AS,this.LI=[]}var n=t.prototype;return n.FI=function(t){this.LI.push(t)},n.sE=function(t,n,e,i,r,u){for(var o=this.BI.sE(t,n,e,i,r,u),s=0,a=this.LI;s<a.length;s++){o=(0,a[s])(o,e,i)}return o},n.AI=function(t,n){return this.BI.AI(t,n)},n.xI=function(){return!1},t.MI=function(){return this._i},Ri(t,[{key:"DI",get:function(){return this.BI.DI}}]),t}();function BS(t,n){return Xa(t.DI,n.DI)}xS._i=new xS,ki(),Vt(),ki(),Vt();var LS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UI=xS.MI(),n}Yi(n,t);var e=n.prototype;return e.VI=function(t){this.UI=t},e.HI=function(){return this.UI},e.qI=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:i=0,c.label=1;case 1:return i<t.length?(r=t[i],[4,e.zI(r,n)]):[3,4];case 2:if(u=c.sent())return[2,{WI:r,jI:u}];c.label=3;case 3:return i++,[3,1];case 4:for(o=e.UI,s=0;s<t.length;s++)if(a=t[s],o.AI(a,n))return[2,{WI:a,jI:o}];return[2,{WI:t[0],jI:o}]}}))}))()},n}(function(){function t(){this.GI=[]}var n=t.prototype;return n.XI=function(t){this.GI.push(t),this.GI.sort(BS)},n.zI=function(t,n){var e=this;return ta((function(){var i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:i=0,r=e.GI,a.label=1;case 1:return i<r.length?(u=r[i],mr(o=u.AI(t,n))?[4,o]:[3,3]):[3,6];case 2:return s=a.sent(),[3,4];case 3:s=Boolean(o),a.label=4;case 4:if(s)return[2,u];a.label=5;case 5:return i++,[3,1];case 6:return[2,void 0]}}))}))()},t}());LS._i=new LS,Ti(),ki(),Vt(),Ti();var FS,MS,US=function(){function t(t){var n,e;this.YI=mi&&mi.document&&mi.document.createElement("div"),n=this.YI,(e=n.style).position="absolute",e.left="0",e.right="0",e.top="0",e.bottom="0",e.width="100%",e.height="100%",t.appendChild(this.YI)}return t.prototype.kn=function(){Ns(this.YI)},t}();function VS(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";case"none":default:return"none"}}ki(),Vt(),Ii(),ki(),Vt(),(MS=FS||(FS={})).dR="",MS.$I="none",MS.Tp="metadata",MS.KI="auto";var HS=[ky.Vl,ol.Xf,ol.Ao,ol.kh,ol.Mf,ol.$f,ol.th,ol.nh,ol.dh,ol.wh,vm.Ew,vm.Rw,vm.Iw,vm.Ow,vm.al,vm.Cw,vm.Nw,ol.qf,ol.zf,ol.Gf,ol.Yf,ol.Jf,ol.Zf,ol.ih,ol.rh,ol.eh,ol.uh,ol.sh,ol.fh,ol.ah,ol.mh,ol._h,ol.oh,ol.Qf,ol.hh],qS=function(t){function n(n,e){var i;return(i=t.call(this)||this).JI=void 0,i.ZI=void 0,i.iI=FS.$I,i.QI=void 0,i.tO=!0,i.ug=new Ty,i.og=new Ty,i.sg=new Oy,i.ag=new Km,i.nO=n,i.eO=e,i.eO.Gg=i.Gg,i.iO(),i}Yi(n,t);var e=n.prototype;return e.yn=function(){this.eO.yn()},e.gn=function(){var t=this.eO.gn();mr(t)&&lc(t)},e.wg=function(){return this.yg(void 0)},e.En=function(){},e.Og=function(t){return!1},e.iO=function(){this.ug.Cl=this.eO.hg,this.og.Cl=this.eO.vg,this.sg.Cl=this.eO.dg,this.ag.Cl=this.eO.lg,this.eO.yo(HS,this.do)},e.rO=function(){this.eO.bo(HS,this.do),this.ug.Cl=void 0,this.og.Cl=void 0,this.sg.Cl=void 0,this.ag.Cl=void 0},e.gg=function(){return this.QI},e.yg=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return sc(n),e.QI=t,t?rm(i=t.sources.filter(cm))?[2]:[4,e.nO.qI(i,t)]:[2];case 1:return r=c.sent(),sc(n),u=r.WI,o=r.jI,s=e.Rg(),a=xm(e),e.JI!==o||e.Do?(e.rO(),[4,e.eO.kn()]):[3,3];case 2:c.sent(),sc(n),e.JI=o,e.eO=e.uO(o),function(t,n){t.Bw!==n.Bw&&(t.Bw=n.Bw);t.Hw!==n.Hw&&(t.Hw=n.Hw);t.Fw!==n.Fw&&(t.Fw=n.Fw)}(e.eO,a),Bm(e,a,e),e.iO(),c.label=3;case 3:return e.eO.Gg=e.Gg,e.tO?e.eO.Tg():e.eO.Sg(),[4,e.eO.yg(u,t,n)];case 4:return c.sent(),sc(n),e.oO(u),e.Rg()!==s&&e.lo(new Dy),[2]}}))}))()},e.oO=function(t){this.ZI!==t&&(this.ZI=t,this.lo(new Ay(t)))},e.mg=function(){return this.eO.mg()},e._g=function(){this.eO._g()},e.pg=function(){this.eO.pg()},e.Rg=function(){return this.eO.Rg()},e.Ag=function(){this.eO.Ag()},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.QI=void 0,t.oO(void 0),[4,t.eO.Bc()];case 1:return n.sent(),[2]}}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.po(),[4,t.Bc()];case 1:return n.sent(),[4,t.eO.kn()];case 2:return n.sent(),t.ug.kn(),t.og.kn(),t.sg.kn(),t.ag.kn(),[2]}}))}))()},e.Tg=function(){this.tO=!0,this.eO.Tg()},e.Sg=function(){this.tO=!1,this.eO.Sg()},Ri(n,[{key:"hg",get:function(){return this.ug}},{key:"Pg",get:function(){return this.eO.Pg}},{key:"Do",get:function(){return this.eO.Do}},{key:"xw",get:function(){return this.eO.xw}},{key:"xg",get:function(){return this.eO.xg},set:function(t){this.eO.xg=t}},{key:"Dg",get:function(){return this.ZI}},{key:"Dw",get:function(){return this.eO.Dw},set:function(t){this.eO.Dw=t}},{key:"Aw",get:function(){return this.eO.Aw}},{key:"Pw",get:function(){return this.eO.Pw}},{key:"lg",get:function(){return this.ag}},{key:"Lg",get:function(){return this.eO.Lg}},{key:"Fg",get:function(){return this.eO.Fg}},{key:"Bw",get:function(){return this.eO.Bw},set:function(t){this.eO.Bw=t}},{key:"Wg",get:function(){return this.eO.Wg}},{key:"Lw",get:function(){return this.eO.Lw}},{key:"Fw",get:function(){return this.eO.Fw},set:function(t){this.eO.Fw=t}},{key:"jg",get:function(){return this.eO.jg}},{key:"Gg",get:function(){return this.iI},set:function(t){this.iI=t,this.eO&&(this.eO.Gg=this.iI)}},{key:"Yl",get:function(){return this.eO.Yl}},{key:"Xg",get:function(){return this.eO.Xg}},{key:"Mw",get:function(){return this.eO.Mw}},{key:"dg",get:function(){return this.sg}},{key:"Uw",get:function(){return this.eO.Uw}},{key:"vg",get:function(){return this.og}},{key:"Vw",get:function(){return this.eO.Vw}},{key:"Hw",get:function(){return this.eO.Hw},set:function(t){this.eO.Hw=t}},{key:"Yg",get:function(){return this.eO.Yg}},{key:"NI",get:function(){return this.eO.NI}}]),n}(pc);ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),Ii();var zS,WS,jS=function(t){function n(n,e){var i;return(i=t.call(this)||this).Tl=n.length>>1,i.sO=n,i.aO=e||function(t){for(var n=new Array(2*t),e=0,i=0;e<t;e+=1,i+=2)n[i]=!0,n[i+1]=!1;return n}(i.Tl),i}Yi(n,t);var e=n.prototype;return e.cO=function(t){return this.sO[2*t]},e.fO=function(t){return this.aO[2*t]},e.hO=function(t){return this.sO[2*t+1]},e.vO=function(t){return this.aO[2*t+1]},Ri(n,[{key:"dO",get:function(){return this.sO.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Ny=function(t,n){return 0===this.Jy(t,n)},n.bm=function(t,n){return this.Jy(t,n)>0},n.km=function(t,n){return this.Jy(t,n)>=0},n.im=function(t,n){return this.Jy(t,n)<0},n.tm=function(t,n){return this.Jy(t,n)<=0},n.Km=function(t,n){return this.im(t,n)?t:n},n.$m=function(t,n){return this.bm(t,n)?t:n},n.lO=function(t,n,e){return e?this.tm(t,n):this.im(t,n)},n.RI=function(){var t=this;return{get length(){return t.Tl},start:function(n){var e=0|n;return t.wO(e),t.gO(t.cO(e))},end:function(n){var e=0|n;return t.wO(e),t.gO(t.hO(e))}}},n.yO=function(){for(var t=new Array(2*this.Tl),n=new Array(2*this.Tl),e=0;e<this.Tl;e++)t[2*e]=this.cO(e),t[2*e+1]=this.hO(e),n[2*e]=!0,n[2*e+1]=!0;return this.mO(t,n)},n.wO=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.Tl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.Tl+")")},n._O=function(t){if(0===this.Tl)return this.pO();if(this.EI(t))return t;if(this.tm(t,this.cO(0)))return this.cO(0);if(this.km(t,this.hO(this.Tl-1)))return this.hO(this.Tl-1);for(var n,e=this.bO(),i=0;i<this.Tl;i++){var r=this.cO(i),u=this.nm(r,t);this.im(u,e)&&(n=r,e=u);var o=this.hO(i),s=this.nm(this.hO(i),t);this.im(s,e)&&(n=o,e=s)}return n},n.kO=function(t){for(var n=0,e=0,i=[],r=[];n<this.Tl&&e<t.Tl;){var u=this.cO(n),o=this.hO(n),s=this.fO(n),a=this.vO(n),c=t.cO(e),f=t.hO(e),h=t.fO(e),v=t.vO(e),d=this.$m(u,c),l=this.Km(o,f),w=void 0;w=this.Ny(u,c)?s&&h:this.Ny(d,u)?s:h;var g=void 0;g=this.Ny(o,f)?a&&v:this.Ny(l,o)?a:v,(this.im(d,l)||w&&g&&this.Ny(d,l))&&(i.push(d,l),r.push(w,g));var y=this.Jy(this.hO(n),t.hO(e));0===y?(n+=1,e+=1):y<0?n+=1:e+=1}return this.mO(i,r)},n.TO=function(){var t=this.SO(),n=t.Tl;if(0===n)return this.mO([t.EO(),t.bO()],[!1,!1]);var e=[],i=[],r=t.cO(0);t.Ny(r,t.EO())||(e.push(t.EO(),r),i.push(!1,!t.fO(0)));for(var u=0;u<n-1;u++)e.push(t.hO(u),t.cO(u+1)),i.push(!t.vO(u),!t.fO(u+1));var o=t.hO(n-1);return t.Ny(o,t.bO())||(e.push(o,t.bO()),i.push(!t.vO(n-1),!1)),t.mO(e,i)},n.RO=function(t){for(var n=0,e=0,i=this.Tl,r=t.Tl,u=new Array(2*(i+r)),o=new Array(2*(i+r)),s=0;n<i&&e<r;){var a=this.cO(n),c=this.hO(n),f=t.cO(e),h=t.hO(e);this.im(a,f)||this.Ny(a,f)&&this.im(c,h)?(u[s]=a,u[s+1]=c,o[s]=this.fO(n),o[s+1]=this.vO(n),n++):(u[s]=f,u[s+1]=h,o[s]=t.fO(e),o[s+1]=t.vO(e),e++),s+=2}for(;n<i;)u[s]=this.cO(n),u[s+1]=this.hO(n),o[s]=this.fO(n),o[s+1]=this.vO(n),n++,s+=2;for(;e<r;)u[s]=t.cO(e),u[s+1]=t.hO(e),o[s]=t.fO(e),o[s+1]=t.vO(e),e++,s+=2;return this.mO(u,o)},n.IO=function(t){void 0===t&&(t=this.pO());var n=this.Tl;if(n<2)return this;for(var e=[],i=[],r=this.cO(0),u=this.hO(0),o=this.fO(0),s=this.vO(0),a=1;a<n;a++){var c=this.cO(a),f=this.hO(a),h=this.fO(a),v=this.vO(a);this.im(r,c)&&this.bm(u,f)||(this.Ny(r,c)&&(o=h=o||h),this.Ny(u,f)&&(s=v=s||v),this.lO(c,this.Jg(u,t),s||h)?(u=f,s=v):(e.push(r,u),i.push(o,s),r=c,u=f,o=h,s=v))}return e.push(r,u),i.push(o,s),this.mO(e,i).SO()},n.SO=function(){for(var t=[],n=[],e=0;e<this.Tl;e++){var i=this.cO(e),r=this.hO(e),u=this.fO(e),o=this.vO(e);this.Ny(i,r)?(u||o)&&(t.push(i,r),n.push(!0,!0)):(t.push(i,r),n.push(u,o))}return this.mO(t,n)},n.OO=function(t){return this.Tl?t.Tl?this.RO(t).IO():this:t},n.CO=function(t){var n=this.SO(),e=t.SO(),i=n.TO(),r=e.TO(),u=i.kO(e),o=r.kO(n);return u.OO(o)},n.jo=function(t){if(this.Ny(t,this.pO()))return this;for(var n=[],e=[],i=0;i<this.Tl;i++){var r=this.Jg(this.cO(i),t),u=this.Jg(this.hO(i),t);n.push(r,u),e.push(this.fO(i),this.vO(i))}return this.mO(n,e)},n.DO=function(t){return 0===this.Tl||0===t.Tl?this:this.SO().kO(t.SO().TO())},n.EI=function(t,n){return this.AO(t,n)>=0},n.PO=function(t,n,e,i,r){return this.xO(t,n,e,i,r)>=0},n.BO=function(t,n,e,i,r){return this.LO(t,n,e,i,r)>=0},n.FO=function(t){if(t.Tl!==this.Tl)return!1;for(var n=0;n<this.Tl;n++)if(!this.Ny(this.cO(n),t.cO(n))||!this.Ny(this.hO(n),t.hO(n))||this.fO(n)!==t.fO(n)||this.vO(n)!==t.vO(n))return!1;return!0},n.MO=function(t){for(var n=[],e=[],i=0;i<this.Tl;i++){var r=this.cO(i),u=this.hO(i),o=this.fO(i),s=this.vO(i);t(r,u,o,s)&&(n.push(r,u),e.push(o,s))}return this.mO(n,e)},n.LO=function(t,n,e,i,r){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===r&&(r=this.pO());for(var u=this.sm(t,r),o=this.Jg(n,r),s=0;s<this.Tl;s+=1)if(this.lO(this.cO(s),o,!i||this.fO(s))&&this.lO(u,this.hO(s),!e||this.vO(s)))return s;return-1},n.xO=function(t,n,e,i,r){void 0===e&&(e=!0),void 0===i&&(i=!1),void 0===r&&(r=this.pO());for(var u=this.Jg(t,r),o=this.sm(n,r),s=0;s<this.Tl;s+=1)if(this.lO(this.cO(s),u,!e||this.fO(s))&&this.lO(o,this.hO(s),!i||this.vO(s)))return s;return-1},n.AO=function(t,n){return this.xO(t,t,!0,!0,n)},n.UO=function(t,n){void 0===n&&(n=this.pO());for(var e=this.Jg(t,n),i=this.Tl-1;i>=0;i-=1)if(this.lO(this.cO(i),e,this.fO(i)))return i;return-1},n.VO=function(t,n){void 0===n&&(n=this.pO());for(var e=this.sm(t,n),i=0;i<this.Tl;i+=1)if(this.lO(e,this.hO(i),this.vO(i)))return i;return-1},n.HO=function(t){return this.wO(t),this.mO([this.cO(t),this.hO(t)],[this.fO(t),this.vO(t)])},n.qO=function(t,n){var e=this.AO(t,n);return e<0?void 0:this.HO(e)},Ri(t,[{key:"zO",get:function(){for(var t=this.pO(),n=0;n<this.Tl;n++){var e=this.sm(this.hO(n),this.cO(n));t=this.Jg(t,e)}return t}}]),t}()),GS=function(t){function n(n,e){return t.call(this,n,e)}Yi(n,t);var e=n.prototype;return e.Jy=function(t,n){return t<n?qa.Xu:t===n?qa.ju:qa.Gu},e.Jg=function(t,n){return t+n},e.sm=function(t,n){return t-n},e.nm=function(t,n){return d.abs(t-n)},e.pO=function(){return 0},e.bO=function(){return 1/0},e.EO=function(){return-1/0},e.mO=function(t,e){return new n(t,e)},e.gO=function(t){return t},n.WO=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t.start(i),t.end(i));return new n(e)},n.jO=function(t){for(var e=[],i=[],r=0;r<t.Tl;r++)e.push(t.cO(r).Jm),e.push(t.hO(r).Jm),i.push(t.fO(r)),i.push(t.vO(r));return new n(e,i)},n.GO=function(t){return new n([t,t],[!0,!0])},n.XO=function(t,e){return t<=e?new n([t,e]):n.YO()},n.YO=function(){return XS},n}(jS),XS=new GS([]);ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),(WS=zS||(zS={})).ol="fullscreenchange",WS.$O="fullscreensupportchange",WS.Vl="fullscreenerror";var YS=function(t){function n(){return t.call(this,zS.Vl)}return Yi(n,t),n}(Sc),$S=new(function(t){function n(){return t.apply(this,arguments)}Yi(n,t);var e=n.prototype;return e.gy=function(){this.lo(new YS)},e.my=function(){},e.kn=function(){this.po()},Ri(n,[{key:"KO",get:function(){return!1}},{key:"JO",get:function(){return!1}}]),n}(pc)),KS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).nI=void 0,n.eI=void 0,n}Yi(n,t);var e=n.prototype;return e.Eg=function(){var t;return null==(t=this.eI)?void 0:t.rI},e.kn=function(){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return e.sent(),n.eI?[4,n.nI.pn(n.eI)]:[3,3];case 2:e.sent(),n.eI=void 0,e.label=3;case 3:return[2]}}))}))()},Ri(n,[{key:"ZO",set:function(t){this.nI=t,this.eI=t.wn(r_.yv)}}]),n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).QO=0,n.tC=!1,n.nC=!0,n.eC=1,n.iC=!1,n.ca=1,n.hg=new o_,n.Pg=GS.YO().RI(),n.Aw=NaN,n.Pw=!1,n.Do=void 0,n.xw=void 0,n.lg=void 0,n.Lg=!1,n.Wg=!0,n.jg=GS.YO().RI(),n.Gg=FS.$I,n.Yl=Gy.pw,n.Xg=GS.YO().RI(),n.CI=void 0,n.dg=new wb,n.Uw=0,n.vg=new o_,n.Vw=0,n.Yg=new OS,n.LR=new kS,n}Yi(n,t);var e=n.prototype;return e.Tg=function(){},e.Sg=function(){},e.gn=function(){this.nC&&(this.nC=!1,this.lo(new lm(this.Dw)),this.lo(new Ub(this.Dw)))},e.yn=function(){this.nC||(this.nC=!0,this.lo(new _m(this.Dw,this.xg)),this.lo(new hm(this.Dw)))},e.yg=function(t,n){return G.resolve()},e.mg=function(){return!1},e._g=function(){},e.pg=function(){},e.Rg=function(){return $S},e.Ag=function(){},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.QO=0,t.iC=!1,t.yn(),t.lo(new fm(t.QO)),[2]}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.po(),t.hg.kn(),t.dg.kn(),t.vg.kn(),[2]}))}))()},Ri(n,[{key:"xg",get:function(){},set:function(t){}},{key:"Dw",get:function(){return this.QO},set:function(t){this.QO!==t&&(this.QO=t,this.iC=!0,this.lo(new km(this.Dw)))}},{key:"Fg",get:function(){return{Mg:0,Ug:0,Vg:0,Hg:0,qg:0,zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Bw",get:function(){return this.tC},set:function(t){this.tC!==t&&(this.tC=t,this.lo(new Sm(this.Dw,this.Hw)))}},{key:"Lw",get:function(){return this.nC}},{key:"Fw",get:function(){return this.eC},set:function(t){this.eC!==t&&(this.eC=t,this.lo(new mm(this.Dw,this.Fw)))}},{key:"Mw",get:function(){return this.iC}},{key:"Hw",get:function(){return this.ca},set:function(t){this.ca!==t&&(this.ca=t,this.lo(new Sm(this.Dw,this.Hw)))}},{key:"$g",get:function(){return!1},set:function(t){}},{key:"NI",get:function(){return this.LR}}]),n}(pc)),JS=function(t){function n(n,e,i,r,u,o){var s,a=new KS;return(s=t.call(this,LS._i,a)||this).rC=n,s.nf=e,s.nS=i,s.uC=r,s.oC=o,s.sC=new wi(u,s.oC),s.sC.bn(s.rC),a.ZO=s.sC,s.aC=new US(s.rC),s}Yi(n,t);var e=n.prototype;return e.En=function(){t.prototype.En.call(this),this.sC.ln()},e.bg=function(t){var n,e,i,r;n=this,i=(e=t).Hw,r=e.Bw,n.Hw=i,n.Bw=r},e.kg=function(){},e.uO=function(t){return t.sE(this.rC,this.sC,this.nS,this.nf,this.uC,this.oC)},e.Eg=function(){return this.eO.Eg()},e.Ig=function(){return this.sC.dn.map((function(t){return t.rI}))},e._o=function(n){t.prototype._o.call(this,n)},e.So=function(n){t.prototype.So.call(this,n)},e.kn=function(){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return e.sent(),n.sC.kn(),n.aC.kn(),[2]}}))}))()},Ri(n,[{key:"Bg",get:function(){return this.rC}},{key:"$g",get:function(){return this.eO.$g},set:function(t){this.eO.$g=t}}]),n}(qS);ki(),Vt(),Ii(),ki(),Vt();var ZS=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).FR=new OS,r.rC=n,r.cC=e,r.fC=new o_,r.hC=new wb,r.vC=i,r}Yi(n,t);var e=n.prototype;return e.Og=function(t){return!0},e.Sg=function(){},e.gn=function(){throw this.lo(new Om(this.vC)),this.cC},e.yn=function(){},e.gg=function(){},e.yg=function(t,n){var e=this;return ta((function(){return ea(this,(function(t){throw sc(n),e.lo(new Om(e.vC)),e.cC}))}))()},e.Tg=function(){},e.wg=function(){return G.resolve()},e.Eg=function(){},e.Rg=function(){return $S},e.Ig=function(){return[]},e.En=function(){},e.bg=function(t){},e.kg=function(){},e.mg=function(){return!1},e._g=function(){},e.pg=function(){},e.Ag=function(){},e.Bc=function(){return G.resolve()},e.kn=function(){return this.po(),this.fC.kn(),this.hC.kn(),G.resolve()},Ri(n,[{key:"hg",get:function(){return this.fC}},{key:"Pg",get:function(){return GS.YO().RI()}},{key:"xg",get:function(){return new Date(NaN)},set:function(t){}},{key:"Dg",get:function(){}},{key:"Dw",get:function(){return 0},set:function(t){}},{key:"Aw",get:function(){return 0}},{key:"Bg",get:function(){return this.rC}},{key:"Pw",get:function(){return!0}},{key:"Do",get:function(){return this.cC}},{key:"xw",get:function(){return this.vC}},{key:"lg",get:function(){}},{key:"Fg",get:function(){return{Mg:0,Ug:0,Vg:0,Hg:0,qg:0,zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Bw",get:function(){return!1},set:function(t){}},{key:"Wg",get:function(){return!0}},{key:"Lw",get:function(){return!0}},{key:"Fw",get:function(){return 0},set:function(t){}},{key:"jg",get:function(){return GS.YO().RI()}},{key:"Gg",get:function(){return FS.$I},set:function(t){}},{key:"Yl",get:function(){return Gy.pw}},{key:"Xg",get:function(){return GS.YO().RI()}},{key:"Mw",get:function(){return!1}},{key:"dg",get:function(){return this.hC}},{key:"Uw",get:function(){return 0}},{key:"vg",get:function(){return this.fC}},{key:"Vw",get:function(){return 0}},{key:"Hw",get:function(){return 1},set:function(t){}},{key:"Yg",get:function(){return this.FR}},{key:"$g",get:function(){return!1},set:function(t){}},{key:"Lg",get:function(){return!1}}]),n}(Ny);function QS(t){if(t&&lr(t))return na({},t,{integration:tE(t.integration),fairplay:oE(t.fairplay),widevine:nE(t.widevine),playready:eE(t.playready),clearkey:sE(t.clearkey),aes128:aE(t.aes128),integrationParameters:cE(t.integrationParameters),preferredKeySystems:fE(t.preferredKeySystems)})}function tE(t){if(gr(t))return t}function nE(t){if(t&&lr(t))return{persistentState:iE(t.persistentState),distinctiveIdentifier:iE(t.distinctiveIdentifier),audioRobustness:rE(t.audioRobustness),videoRobustness:rE(t.videoRobustness),licenseAcquisitionURL:gr(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:uE(t.licenseType),headers:t.headers,useCredentials:!!yr(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:gr(t.certificate)||Rf(t.certificate)?t.certificate:void 0}}function eE(t){if(t){var n=nE(t);if(n)return na({},n,{customData:gr(t.customData)?t.customData:void 0})}}function iE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function rE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function uE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function oE(t){if(t){var n=nE(t);if(n)return na({},n,{certificateURL:gr(t.certificateURL)?t.certificateURL:void 0})}}function sE(t){if(t){var n=nE(t);if(n)return na({},n,{keys:vr(t.keys)?t.keys.map((function(t){return function(t){if(!t||!lr(t))return;var n=t.id,e=t.value;if(!gr(n)||!gr(e))return;return{id:n,value:e}}(t)})).filter(fr):void 0})}}function aE(t){if(lr(t))return{useCredentials:yr(t.useCredentials)?t.useCredentials:void 0}}function cE(t){if(lr(t))return t}function fE(t){return t&&vr(t)?t.map((function(t){return Bk(t)})).filter(fr):[ka,_a,Ra]}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var hE=function(t){function n(n){var e;return(e=t.call(this,"presentationmodechange")||this).presentationMode=n,e}return Yi(n,t),n}(Sc);ki(),Vt(),ki(),Vt();var vE,dE,lE=function(t){function n(n,e){var i;return void 0===e&&(e=!1),(i=t.call(this,n)||this).dC=[],i.lC=function(t){dc((function(){i.do(t)}))},i.wC=e?i.lC:i.do,i}Yi(n,t);var e=n.prototype;return e.gC=function(t){t._o(this.wC),this.dC.push(t)},e.yC=function(t){t.So(this.wC),Qa(this.dC,t)},e.kn=function(){this.po();for(var t=0,n=this.dC;t<n.length;t++){n[t].So(this.wC)}ec(this.dC)},n}(Cy),wE=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n}(lE);(dE=vE||(vE={})).INLINE="inline",dE.FULLSCREEN="fullscreen",dE.PICTURE_IN_PICTURE="picture-in-picture";var gE,yE,mE=function(t){function n(n){var e;return(e=t.call(this)||this).mC=!1,e._C=!1,e.Wd=void 0,e.pC=function(){return e.bC()},e.kC=function(){return e.TC()},e.SC=n,e.EC=e.RC=e.IC=e.OC="inline",e.SC.yo(zS.ol,e.pC),e.SC.yo(zS.Vl,e.kC),e.CC(),e}Yi(n,t);var e=n.prototype;return e.Gd=function(){return t=this,e={get currentMode(){return t.NC()},requestMode:function(n){var e=pE(n);e&&t.DC(e)},supportsMode:function(n){var e=pE(n);return!!e&&t.AC(e)},addEventListener:function(t,e){n.yo(t,e)},removeEventListener:function(t,e){n.bo(t,e)}},(n=new lE(e,!0)).gC(t),e;var t,n,e},e.DC=function(t){this.xC(t,t)},e.xC=function(t,n){this.RC!==n&&(this.mC=!0,this.EC=t,this.BC(n,this.RC),"fullscreen"!==t&&(this.IC=t),this.mC=!1,this.CC())},e.NC=function(){return this._C?"fullscreen":"inline"},e.AC=function(t){switch(t){case"fullscreen":return this.SC.JO;case"inline":return!0}return!1},e.CC=function(){if(!this.mC){var t=this.RC,n=this.NC();this.RC=n,"fullscreen"!==n&&(this.OC=n),t!==n&&this.lo(new hE(n))}},e.BC=function(t,n){var e="fullscreen"===t;this._C=e,e!==this.SC.KO&&(e?this.SC.gy():this.SC.my())},e.bC=function(){if(!this.mC){var t=this.SC.KO;this._C=t,t?this.xC("fullscreen","fullscreen"):t||"fullscreen"!==this.EC?this.CC():this.xC(this.IC,this.OC)}},e.TC=function(){this.bC(),this.lo(new Om(new Md(Ad.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.kn=function(){this.SC.kn(),this.po()},Ri(n,[{key:"jd",get:function(){return this.Wd||(this.Wd=this.Gd()),this.Wd}}]),n}(Cy),_E={Dw:0,Aw:NaN,Pw:!1,Do:void 0,xw:void 0,Bw:!1,Lw:!0,Fw:1,Yl:Gy.pw,Mw:!1,Uw:0,Vw:0,Hw:1};function pE(t){switch(t){case vE.INLINE:case vE.FULLSCREEN:case vE.PICTURE_IN_PICTURE:return t;default:return}}ki(),Vt(),Ii(),(yE=gE||(gE={})).DEFAULT="",yE.THEO="theo",yE.GOOGLE_IMA="google-ima",yE.SPOTX="spotx",yE.FREEWHEEL="freewheel",yE.MEDIATAILOR="mediatailor";var bE,kE,TE,SE,EE,RE,IE,OE,CE,NE,DE,AE,PE,xE,BE,LE=function(){function t(){this.LC=[]}var n=t.prototype;return n.FC=function(t){var n=this.MC.filter((function(n){return n.UC(t)}));if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.VC=function(t){this.LC.push(t)},Ri(t,[{key:"MC",get:function(){return this.LC}}]),t}();LE._i=new LE,ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(kE=bE||(bE={})).Nw="PLAYING",kE.ng="PAUSED",kE.HC="SEEK",kE.qC="STALLED",kE.zC="FAILED",kE.WC="INITIAL_BUFFERING",kE.jC="NO_ACCESS",(SE=TE||(TE={})).GC="HTTP_REQUEST_STATUS_CODE_1XX",SE.XC="HTTP_REQUEST_STATUS_CODE_2XX",SE.YC="HTTP_REQUEST_STATUS_CODE_3XX",SE.$C="HTTP_REQUEST_STATUS_CODE_4XX",SE.KC="HTTP_REQUEST_STATUS_CODE_5XX",SE.JC="BUFFER_LENGTH",SE.ZC="BYTES_RECEIVED",SE.QC="SEGMENT_READ_BITRATE",SE.tN="SEGMENT_PROFILE_BITRATE",SE.nN="VIDEO_PROFILE_BITRATE",SE.eN="NUMBER_OF_FRAMES_DROPPED",SE.iN="PLAYBACK_POSITION",SE.rN="NUMBER_OF_FRAMES_DECODED",SE.uN="PLAYBACK_DELTA_TO_ORIGIN",SE.oN="STREAM_DELTA_TO_ORIGIN",SE.sN="ORIGIN_TIMESTAMP",(RE=EE||(EE={})).aN="MANIFEST_URI",RE.cN="ASSET_DURATION",RE.fN="NUMBER_OF_CONTENT_PROFILES",RE.hN="CDN",RE.vN="CONTENT_TITLE",RE.dN="SERVICE_NAME",RE.lN="CONTENT_TYPE",RE.wN="CONTENT_DESCRIPTION",(IE||(IE={})).gN="shutdown_normal_shutdown",(CE=OE||(OE={})).yN="session/",CE.mN="content/",CE._N="internalError/",CE.pN="drmError/",CE.bN="caError/",CE.kN="networkError/",(DE=NE||(NE={})).TN="userAction",DE.SN="endOfStreamReached",ki(),Vt(),ki(),Vt(),(PE=AE||(AE={})).PAUSE="EN",PE.RESUME="RN",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(BE=xE||(xE={})).UNAVAILABLE="unavailable",BE.AVAILABLE="available",BE.CONNECTING="connecting",BE.CONNECTED="connected";var FE,ME,UE,VE,HE,qE,zE,WE,jE,GE,XE,YE,$E="agama";function KE(t){switch(t){case"":return FE.NONE;case"horizontal":return FE.HORIZONTAL;case"vertical":return FE.VERTICAL;default:throw new h}}function JE(t,n){if(n)return UE.PM360;if(null==t)return UE.NONE;switch(t){case"":return UE.NONE;case"360":return UE.PM360;case"180":return UE.PM180;default:throw new h("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}function ZE(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!gr(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:void 0!==(null==t?void 0:t.needsTimescaleShifting)?ay(t.needsTimescaleShifting):void 0,desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?cy(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:ay(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:ay(null==t?void 0:t.ignoreAvailabilityWindow)}}function QE(t){if(!t||!gr(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function tR(t,n){return t.length>0?t:n.length>0?n:void 0}function nR(t){if(null!==t)return t}function eR(t){var n={};if(!lr(t))return n;var e=t;for(var i in e)if(v.prototype.hasOwnProperty.call(e,i)){var r=e[i];gr(r)&&(n[i]=r)}return n}function iR(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:nR(t.streamActivityMonitorID),adTagParameters:lr(t.adTagParameters)?t.adTagParameters:{},authToken:nR(t.authToken),omidAccessModeRules:t.omidAccessModeRules?eR(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var i=t.videoID,r=t.contentSourceID;return i?r?na({},e,{availabilityType:"vod",videoID:i,contentSourceID:r}):void Wi.Zr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void Wi.Zr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?na({},e,{availabilityType:"live",assetKey:u}):void Wi.Zr("A Live DAI configuration was provided without valid assetKey which is required.")}Wi.Zr("A DAI configuration was provided without a valid availabilityType which is required.")}function rR(t){if(!Ik(t)||!t.integration)return t;switch(t.integration){case Yb:return n=t,e=xk(da.Nu,n),i=xk(da.Cu,n),r=n[da.Au]&&xk(da.Au,n),na({integration:"keyos",widevine:e,playready:i},r?{fairplay:r}:{});default:return t}var n,e,i,r}ki(),Vt(),ki(),Vt(),(ME=FE||(FE={})).NONE="",ME.HORIZONTAL="horizontal",ME.VERTICAL="vertical",ki(),Vt(),(VE=UE||(UE={})).NONE="",VE.PM360="360",VE.PM180="180",ki(),Vt(),ki(),Vt(),ki(),Vt(),(qE=HE||(HE={})).KI="auto",qE.IN="always",qE.ON="never",qE.CLEAR_ONLY="clear-only",qE.SAME_DRM_ONLY="same-drm-only",ki(),Vt(),(WE=zE||(zE={})).KI="auto",WE.CN="playlist",WE.NN="media",ki(),Vt(),(GE=jE||(jE={})).VERIZON_MEDIA="verizon-media",GE.MEDIATAILOR="mediatailor",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(YE=XE||(XE={})).ASSET="asset",YE.CHANNEL="channel",YE.EVENT="event",ki(),Vt();var uR="https://content.uplynk.com";function oR(t){if(!t)return!0;var n,e,i=!(im(n=t.sources)||dr(n)&&im(n[0]))||rm(t.sources),r=!t.ads||(!(e=t.ads)||vr(e)&&0===e.length),u=""!==t.poster&&!t.poster;return i&&r&&u}function sR(t){if(t&&t.sources)return aR(t.sources)}function aR(t){return gr(t)?t:nm(t)?t.src:dr(t)&&t.length>0?aR(t[0]):void 0}function cR(t,n,e){return Zy(t)?function(t,n,e){var i=na({},um(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:jE.VERIZON_MEDIA,id:"",prefix:uR,preplayParameters:{},playbackUrlParameters:{},assetType:XE.ASSET,contentProtected:!1,assetInfo:!0});i.id=function(t){if(gr(t))return t;if(dr(t)&&gr(t[0]))return t;if(lr(n=t)&&gr(n.userId)&&(dr(n.externalId)||gr(n.externalId)))return t;var n;return""}(t.id),t.preplayParameters&&(i.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(i.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(i.assetType=function(t){switch(t){case"channel":return XE.CHANNEL;case"event":return XE.EVENT;case"asset":default:return XE.ASSET}}(t.assetType));t.contentProtected&&(i.contentProtected=ay(t.contentProtected));t.assetInfo?i.assetInfo=ay(t.assetInfo):i.assetInfo="asset"===i.assetType;t.prefix&&(i.prefix=hy(t.prefix)||uR);return i.ping=function(t,n){var e=!1,i=!1,r=!1;n?(e=!!yr(n.adImpressions)&&n.adImpressions,i=!!yr(n.freeWheelVideoViews)&&n.freeWheelVideoViews,r=yr(n.linearAdData)?n.linearAdData:t!==XE.ASSET):t!==XE.ASSET&&(r=!0);return{adImpressions:e,freeWheelVideoViews:i,linearAdData:r}}(i.assetType,t.ping),i=vR(i=dR(i=hR(i,t),n,e),t,e)}(t,n,e):Qy(t)?function(t,n,e){var i;return na({},fR(t,n,e),{integration:jE.MEDIATAILOR,adParams:null!=(i=t.adParams)?i:{}})}(t,n,e):fR(t,n,e)}function fR(t,n,e){var i=om(),r=n&&(n.contentProtection||n.drm);if(gr(t)){if(i.src=t,i.type=Ky(t),r){var u=QS(r);i.contentProtection=rR(u)}}else if(nm(t)||Jy(t)){i.src=t.src,i.type=t.type||Ky(t.src),i.isAdvertisement=t.isAdvertisement;var o=em(t)?t.hesp:void 0;void 0!==o&&(i.hesp=o),Qy(t)&&(i.integration=t.integration);var s=QS(t.contentProtection||t.drm||r);i.contentProtection=rR(s),t.ssai&&(i.ssai=function(t){switch(t.integration){case"google-dai":return iR(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),i=hR(i,t)}return i=vR(i=dR(i,n,e),t,e)}function hR(t,n){var e,i;n.useCredentials?t.crossOrigin=My.mw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case My.yw:case My.mw:return t;default:return My.gw}}(n.crossOrigin)),gr(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=ay(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=ay(n.useNativePlayback)),n.dash&&(t.dash=ZE(n.dash)),n.hls&&(t.hls={discontinuityAlignment:QE(null==(e=n.hls)?void 0:e.discontinuityAlignment),useLegacy:(i=null==e?void 0:e.useLegacy,fr(i)?Boolean(i):void 0)}),n.lcevc&&(t.lcevc=ay(n.lcevc));var r=void 0!==n.experimentalRendering?ay(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var u=void 0!==n.nativeUiRendering?ay(n.nativeUiRendering):void 0;return void 0!==u&&(t.nativeUiRendering=u),t}function vR(t,n,e){return t.abr=function(t,n){var e=vy(null==t?void 0:t.preferredAudioCodecs,hy),i=vy(null==t?void 0:t.preferredVideoCodecs,hy),r=vy(null==n?void 0:n.preferredAudioCodecs,hy),u=vy(null==n?void 0:n.preferredVideoCodecs,hy),o=tR(e,r),s=tR(i,u);if(o||s)return{preferredAudioCodecs:o,preferredVideoCodecs:s}}(gr(n)?void 0:n.abr,null==e?void 0:e.abr),t}function dR(t,n,e){var i,r=n&&n.timeServer;return e&&e.liveOffset&&!fr(t.liveOffset)&&(t.liveOffset=e.liveOffset),e&&e.hlsDateRange&&!fr(t.hlsDateRange)&&(t.hlsDateRange=e.hlsDateRange),t.crossOrigin===My.gw&&(null==n||null==(i=n.vr)?void 0:i[360])&&(t.crossOrigin=My.yw),t.useCredentials=t.crossOrigin===My.mw,gr(r)&&!t.timeServer&&(t.timeServer=r),t}function lR(t){var n={src:""};if(t&&t.src){if(n.src=hy(t.src),"default"in t&&(n.default=ay(t.default)),n.kind=yb(t.kind),function(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var e=t.srclang;"string"==typeof e&&""!==e&&(n.srclang=e)}if("label"in t){var i=t.label;"string"==typeof i&&""!==i&&(n.label=i)}}return n}function wR(t,n){if(wr(t))try{return n.FC(t).DN(t)}catch(t){return}}function gR(t){return gr(t.sources)&&""!==t.sources||lr(t.sources)&&gr(t.sources.src)}function yR(t){return t.integration===gE.SPOTX&&!g(t.id)}function mR(t){return"freewheel"===t.integration}function _R(t,n,e){if(void 0===e&&(e=LE._i),oR(t))return{sources:[om()]};var i=ry(t);if(i.sources=function(t,n,e){if(im(t))return[cR(t,n,e)];if(dr(t)&&im(t[0])){for(var i=[],r=0;r<t.length;r++){var u=t[r];i.push(cR(u,n,e))}return i}return[om()]}(i.sources,i,n),"contentProtection"in i&&delete i.contentProtection,"drm"in i&&delete i.drm,"ads"in i){var r=function(t,n){if(!dr(t))return[];for(var e=[],i=0;i<t.length;i++){var r=t[i];(r=wR(r,n))&&(gR(r)||yR(r)||mR(r))&&e.push(r)}return e}(i.ads,e);0===r.length?delete i.ads:i.ads=r}var u,o,s,a,c=!rm(i.sources),f=i.ads&&i.ads.length>0;if(c&&!f?delete i.ads:f&&!c&&(i.sources=[]),"textTracks"in i){var h=function(t){if(!dr(t))return[];for(var n=[],e=0;e<t.length;e++){var i=t[e];""!==(i=lR(i)).src&&n.push(i)}return n}(i.textTracks);0===h.length?delete i.textTracks:i.textTracks=h}if("poster"in i&&(i.poster=hy(i.poster)),"vr"in i&&(i.vr=(u=i.vr,(s=u||{}).stereoMode=function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(o=s.stereoMode)?o:"",{panoramaMode:JE(s.panoramaMode,Boolean(s[360])),stereoMode:s.stereoMode?KE(s.stereoMode):FE.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in i||(null==n?void 0:n.analytics)){var v=am(i.analytics),d=n&&n.analytics||[];i.analytics=function(t,n){for(var e=function(e){var r=n[e];!t.some((function(t){return t.integration===r.integration}))&&r.integration!==$E&&i.push(r)},i=ry(t),r=0;r<n.length;r++)e(r);return i}(v,d)}return"mutedAutoplay"in i&&(i.mutedAutoplay=Am(i.mutedAutoplay)),"timeServer"in i&&delete i.timeServer,"playAdsAfterTime"in i&&(i.playAdsAfterTime=cy(i.playAdsAfterTime)),i.blockContentIfAdError=void 0!==(a=i.blockContentIfAdError)&&"boolean"==typeof a&&Boolean(a),i}Ti(),ki(),Vt(),ki(),Vt(),ki(),Vt();var pR,bR=((pR=function(t){this.PN=t}).prototype.AN=function(t){var n,e,i,r,u,o,s,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.PN.charAt(64);for(n=0;n<t.length;n+=4)e=(s=this.PN.indexOf(t.charAt(n))<<18|this.PN.indexOf(t.charAt(n+1))<<12|(u=this.PN.indexOf(t.charAt(n+2)))<<6|(o=this.PN.indexOf(t.charAt(n+3))))>>>16&255,i=s>>>8&255,r=255&s,a[n/4]=String.fromCharCode(e,i,r),64===o&&(a[n/4]=String.fromCharCode(e,i)),64===u&&(a[n/4]=String.fromCharCode(e));return a.join("")},pR.prototype.xN=function(t,n){var e,i,r,u,o,s,a,c=[],f="";if((s=t.length%3)>0)for(;s++<3;)f+=this.PN.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(e=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=e>>12&63,u=e>>6&63,o=63&e,c[s/3]=this.PN.charAt(i)+this.PN.charAt(r)+this.PN.charAt(u)+this.PN.charAt(o);return a=(a=c.join("")).slice(0,a.length-f.length),n||(a+=f),a},pR.E_=new pR(function(){var t,n,e,i,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],e=0;e<n.length;e+=1)i=n.charAt(e),-1===r.indexOf(i)&&r.push(i);return r.join("")}()),pR.BN=new pR(pR.E_.AN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),pR);function kR(t){return"string"==typeof t}function TR(t){return"number"==typeof t}ki(),Vt(),ki(),Vt(),ki(),Vt();var SR={}.toString;var ER,RR=Array.isArray||function(t){return"[object Array]"===SR.call(t)};function IR(t,n){return RR(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(ER||(ER={}));var OR,CR,NR=v.keys(ER).map((function(t){return ER[t]}));function DR(t){return-1!==NR.indexOf(t)}(CR=OR||(OR={})).HESP="hesp",CR.MULTIVIEW="multiview";var AR,PR=v.keys(OR).map((function(t){return OR[t]}));function xR(t){return-1!==PR.indexOf(t)}function BR(t){try{var n=bR.BN.AN(t),e=JSON.parse(n);if(!function(t,n){var e,i=function(t){return"object"==typeof t&&null!==t}(t),r=kR(t.key),u=kR(t.customer_id),o=TR(t.generation_date),s=TR(t.expiration_date),a=IR(t.domains_page,kR),c=IR(t.domains_source,kR),f=IR(t.sdks,n?DR:kR),h=(v=t.send_impression,"boolean"==typeof v);var v;t.features?e=IR(t.features,n?xR:kR):(e=!0,t.features=[]);if(!(i&&r&&u&&o&&s&&a&&c&&f&&h&&e))return!1;return!0}(e,!1))throw new f("The provided license could not be decoded correctly.");return e}catch(t){throw new f("The provided license could not be decoded correctly.")}}function LR(){return AR||(AR={tv:_i.href,LN:mi.parent&&mi.parent!==e,FN:VR()}),AR}var FR,MR,UR=["http:","https:","ftp:","ws:","wss:"];function VR(){try{return mi.top.location.href}catch(t){return mi&&mi.document&&mi.document.referrer}}(MR=FR||(FR={}))[MR.MN=0]="MN",MR[MR.UN=1]="UN",MR[MR.VN=2]="VN";var HR,qR,zR=function(t,n,e,i,r,u,o,s,a){void 0===r&&(r=[]),void 0===u&&(u=""),void 0===o&&(o=Date.now()),void 0===s&&(s=[]),void 0===a&&(a=!0),this.HN=t,this.qN=n,this.zN=e,this.WN=i,this.jN=r,this.GN=u,this.XN=o,this.YN=s,this.$N=a};(qR=HR||(HR={})).UN="expired",qR.KN="invaliddomain",qR.JN="invalidsource",qR.ZN="invalidfeature",qR.Vl="error";var WR=function(){function t(t,n,e){this.QN=t,this.tD=n,this.Ws=e,this.nD=KR(this.Ws)}var n=t.prototype;return n.eD=function(t,n){var e=[];im(t.sources)?e=[t.sources]:dr(t.sources)&&(e=t.sources),this.iD(t,e,n),this.rD(e,n)},n.iD=function(t,n,e){var i=this;if(!oR(t)&&0!==e.zN.length&&!XR(e.zN)&&!n.every((function(t){return i.uD(t,e)}))){var r="invalidsource",u=QR.oD(r);throw new Md(jR(r),u)}},n.rD=function(t,n){for(var e=0;e<t.length;e++){var i=t[e];nm(i)&&em(i)&&this.sD([OR.HESP],n)}},n.aD=function(n){return this.cD(n.YN)&&this.fD(n)?t.hD(n.WN)?0:1:2},n.sD=function(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(!nc(n.jN,i)){var r="invalidfeature",u=QR.vD(r,i);throw new Md(jR(r),u)}}},n.cD=function(t){var n=this;return 0===t.length||t.some((function(t){return n.dD(t)}))},n.dD=function(t){return"tvos"===function(t){switch(t){case ER.ANDROID:return ji.An;case ER.ANDROIDTV:case ER.FIRETV:return ji.Pn;case ER.IOS:return ji.xn;case ER.TVOS:return ji.Bn;case ER.CHROMECAST:case ER.CHROMECASTCAF:return ji.Ln;default:return ji.Dn}}(t)},n.fD=function(t){return!(this.nD&&0!==t.qN.length&&!XR(t.qN))||!!(this.nD&&this.lD(t.qN)&&this.wD(t.qN))},n.lD=function(t){return YR(this.Ws.tv,t)},n.wD=function(t){if(!this.Ws.LN)return!0;if(this.QN)return!0;var n=this.gD();return!!n&&YR(n,t)},n.gD=function(){if(this.Ws.LN){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ws.FN?this.Ws.FN:void 0}},n.uD=function(n,e){return!!t.yD(n,e.zN)},t.hD=function(t){var n=Number(new Date);return!!t&&n<=t},t.yD=function(t,n){return YR(this.mD(t),n)},t.mD=function(t){return gr(t)?t:nm(t)&&t.src||""},t}();function jR(t){switch(t){case"invaliddomain":return Ad.LICENSE_INVALID_DOMAIN;case"invalidsource":return Ad.LICENSE_INVALID_SOURCE;case"expired":return Ad.LICENSE_EXPIRED;case"invalidfeature":return Ad.LICENSE_INVALID_FEATURE;case"error":return Ad.LICENSE_ERROR}}function GR(t,n){var e=t,i=n;if(!e)return!1;if("*"===(i=i.trim()))return!0;if(i===(e=e.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+r+o+r+o+r+o+"\\)"),a=i.match(s),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var f=new RegExp("^"+a[1]+r+c(a[2])+r+c(a[3])+r+c(a[4])+"$");return null!==e.match(f)}return i="."+i,-1!==e.indexOf(i,e.length-i.length)}function XR(t){return t.some((function(t){return"*"===t}))}function YR(t,n){var e=Wi.du(t);if(!$R(e))return!0;for(var i=0;i<n.length;i++){var r=n[i];if(GR(e.hostname,r))return!0;if(GR(tw(t),r))return!0}return!1}function $R(t){return-1!==UR.indexOf(t.protocol)}function KR(t){var n=Wi.du(t.tv);return $R(n)&&!GR(n.hostname,"localhost")&&!function(t){return GR(t.hostname,"theoplayer.doubleclick.net")}(n)}var JR,ZR,QR=function(){function t(){}return t.vD=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.oD=function(t){return"invaliddomain"===t?this._D:"invalidsource"===t?this.pD:"expired"===t?this.bD:"invalidfeature"===t?this.kD:this.TD},t}();function tI(t){var n=[t.Qk,t.SD,t.ED];switch(t.SD){case 1:n.push(t.Jl);break;case 4:n.push(t.Dw),n.push(t.Do);break;case 5:n.push(t.Do)}return n}QR.TD="The license for this player is invalid.",QR.bD="The usage license for this video player has expired.",QR._D="The current domain is incompatible with the license for this player.",QR.pD="The provided video source is incompatible with the license for this player.",QR.kD="The requested feature is not available with the license for this player.",ki(),Vt(),Ii(),ki(),Vt(),(ZR=JR||(JR={}))[ZR.RD=1]="RD",ZR[ZR.OD=4]="OD",ZR[ZR.CD=5]="CD",ki(),Vt();var nI,eI=new Array(256);for(nI=0;nI<256;nI+=1)eI[nI]=(nI<16?"0":"")+nI.toString(16);function iI(){var t=au(),n=(4294967296*d.random()|0)+t&3029421624,e=(4294967296*d.random()|0)+t&3595553209,i=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return eI[255&n]+eI[n>>>8&255]+eI[n>>>16&255]+eI[n>>>24&255]+"-"+eI[255&e]+eI[e>>>8&255]+"-"+eI[e>>>16&15|64]+eI[e>>>24&255]+"-"+eI[63&i|128]+eI[i>>>8&255]+"-"+eI[i>>>16&255]+eI[i>>>24&255]+eI[255&r]+eI[r>>>8&255]+eI[r>>>16&255]+eI[r>>>24&255]}function rI(){return Wi.Kr()}ki(),Vt(),ki(),Vt(),ki(),Vt();var uI,oI="theoplayer-session-id";function sI(){if(!uI){var t=el.Uo(oI);t?uI=t:(uI=iI(),el.Lf(oI,uI))}return uI}ki(),Vt(),Ti(),ki(),Vt();var aI=/[^\x00-\x7E]/g;function cI(t){return"\\u"+function(t,n,e){void 0===e&&(e=" ");var i=e,r=(0|n)-t.length;return r<=0?t:(r>i.length&&(i+=function(t,n){var e=0|n;if(0===t.length||0===e)return"";for(var i=t,r="";1==(1&e)&&(r+=i),0!=(e>>>=1);)i+=i;return r}(i,r/i.length)),i.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var fI="https://license.theoplayer.com";function hI(t){var n,e,i,r,u,o=(n=function(t){return[t.ND,t.Ic,t.HN,t.Zp,t.DD,t.PD,t.xD.map(tI)]}(t),e=[],i=n,r=function(t,n){if(lr(n)){if(-1!==e.indexOf(n))return null;e.push(n)}return n},JSON.stringify(i,r,u).replace(aI,cI));return bR.BN.xN(o)}var vI=function(){function t(t,n,e,i,r,u){void 0===i&&(i=bR.E_),void 0===r&&(r=0),void 0===u&&(u=1);var o=this;this.ja=t,this.nS=n,this.BD=e,this.LD=i,this.FD=r,this.MD=u,this.UD=[],this.VD=null,this.HD=0,this.qD="unknown",this.ba=0,this.zD=function(){rI()-o.HD>6e4&&o.V()},this.WD=function(){o.V(!0)},yi.In(this.WD),this.jD=a(this.zD,6e4)}var n=t.prototype;return n.GD=function(){return Boolean(this.DD)},n.XD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.BD.YD()];case 1:return i.sent().$N?(e={SD:JR.RD,ED:au(),Jl:t},[4,n.$D(e)]):[2];case 2:return i.sent(),[2]}}))}))()},n.KD=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){switch(r.label){case 0:return i={SD:JR.OD,ED:au(),Dw:n,Do:t},[4,e.$D(i)];case 1:return r.sent(),[2]}}))}))()},n.JD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return e={SD:JR.CD,ED:au(),Do:t},[4,n.$D(e)];case 1:return i.sent(),[2]}}))}))()},n.$D=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.BD.YD()];case 1:return e=i.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.LD.xN(e.HN)&&t.SD!==JR.CD?[2]:(t.SD===JR.RD?n.ZD():n.GD()||n.ZD(),t.Qk=n.ba++,n.UD.push(t),(r=t.SD)!==JR.RD&&r!==JR.CD?[3,3]:[4,n.V()]);case 2:return i.sent(),[3,5];case 3:return n.UD.length>n.FD?[4,n.QD()]:[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}var r}))}))()},n.V=function(t){void 0===t&&(t=!1);var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return n.UD.length>0?[4,n.QD(t)]:[3,2];case 1:return e.sent(),[3,0];case 2:return[2]}}))}))()},n.tA=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.BD.YD()];case 1:return e=i.sent(),[2,{ND:au(),Ic:sI(),HN:n.LD.xN(e.HN)||"dev",Zp:n.ja,DD:n.VD,PD:n.qD,xD:t}]}}))}))()},n.QD=function(t){void 0===t&&(t=!1);var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return e=n.UD.splice(0,n.MD),[4,n.tA(e)];case 1:return i=r.sent(),t?n.Ev(i):n.nA(i),n.HD=rI(),[2]}}))}))()},n.nA=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:e=hI(t),i=new Gl({tv:fI,Lh:e,Tv:!1,$h:al.Si,Yh:{"Content-Type":mT.AE},pv:4e3,_v:Fl.POST}),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,n.nS.Zh(i)];case 2:return[4,r.sent().Ph()];case 3:return r.sent(),[3,5];case 4:return r.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+e,[3,5];case 5:return[2]}}))}))()},n.Ev=function(t){var n=hI(t);this.nS.Ev({tv:fI,Lh:n,Bh:mT.AE})},n.ZD=function(){this.GD()&&this.V(),this.VD=iI(),this.ba=0},n.kn=function(){yi.On(this.WD),c(this.jD),this.V()},Ri(t,[{key:"xD",get:function(){return this.UD}},{key:"DD",get:function(){return this.VD}}]),t}();ki(),Vt(),Ii(),Fi(),ki(),Vt(),Fi();var dI=sr.ti||sr.Ve&&sr.oi<13;function lI(t,n,e){var i=t.getImageData(n,e,1,1).data;return 0===i[0]&&0===i[1]&&0===i[2]&&0===i[3]}var wI=function(){function t(t){this.Wd=void 0,this.eA=void 0,this.jI=t}var n=t.prototype;return n.iA=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];var r;if(!t||!t.drawImage)return!1;var u=this.jI.Eg();return!!u&&((r=t).drawImage.apply(r,[u].concat(Bi(e))),!0)},n.rA=function(t,n,e,r,u,o){if(!t||!t.texImage2D)return!1;var s=this.jI,a=s.Eg();if(!a)return!1;if(dI){this.eA||(this.eA=i.createElement("canvas"));var c=this.eA,h=c.getContext("2d"),v=s.Vw,d=s.Uw,l=c.width,w=c.height;h.clearRect(0,0,c.width,c.height),l===v&&w===d||(c.width=v,c.height=d),h.drawImage(a,0,0,v,d);var g=!1;v>0&&lI(h,v-1,0)&&(c.width=l,g=!0),d>0&&lI(h,0,d-1)&&(c.height=w,g=!0),g&&h.drawImage(a,0,0,v,d),a=c}try{t.texImage2D(n,e,r,u,o,a)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},Ri(t,[{key:"jd",get:function(){return this.Wd||(this.Wd=(t=this,{drawImage:function(n){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var u;return(u=t).iA.apply(u,[n].concat(Bi(i)))},texImage2D:function(n,e,i,r,u,o){return t.rA(n,e,i,r,u,o)}}));var t}}]),t}();ki(),Vt(),Ii(),ki(),Vt();var gI=function(t){function n(n,e){var i;return(i=t.call(this,"uA")||this).Hy=n,i.Pb=e,i}return Yi(n,t),n.prototype.Gd=function(){return new yI(this.Hy,this.Pb)},n}(Hg),yI=function(t){function n(n,e){var i;return(i=t.call(this,"dimensionchange")||this).width=n,i.height=e,i}return Yi(n,t),n}(Sc);ki(),Vt(),Ii(),ki(),Vt();var mI=function(t,n){this.Bg=t,this.oA=n};Ti();var _I=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).sA=0,i.aA=0,i.cA=function(t){if(t.length>0){var n=t[t.length-1].contentRect;i.aA=n.width,i.sA=n.height,i.oA(i.aA,i.sA)}},i.fA=new mi.ResizeObserver(i.cA),i.fA.observe(i.Bg),i}return Yi(n,t),n.prototype.kn=function(){this.fA.disconnect()},Ri(n,[{key:"hA",get:function(){return this.sA}},{key:"vA",get:function(){return this.aA}}]),n}(mI);ki(),Vt(),Ii(),ki(),Vt();var pI=0;var bI,kI=s,TI=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,SI=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;TI&&SI||(TI=function(t){var n=rI(),e=d.max(0,16-(n-pI)),i=o((function(){return t(n+e)}),e);return pI=n+e,i},SI=kI),TI=TI.bind(t),SI=SI.bind(t),ki(),Vt(),Ti();var EI=["Webkit","Moz","O","ms"],RI=(function(){var t=!1;try{if(void 0!==mi&&"function"==typeof mi.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});mi.addEventListener("testPassiveEventSupport",pr,n),mi.removeEventListener("testPassiveEventSupport",pr,n)}}catch(t){}}(),ua());function II(t){return RI.has(t)||RI.set(t,function(t){var n=(bI||(bI=mi&&mi.document&&mi.document.createElement("span")),bI);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<EI.length;i++){var r=EI[i]+e;if(void 0!==n.style[r])return r}return t}(t)),RI.get(t)}function OI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function CI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[II("transition")]="0s"}var NI=function(t){function n(n,r,u){var s;(s=t.call(this,n,r)||this).dA=0,s.aA=NaN,s.sA=NaN,s.lA=void 0,s.Bc=function(){s.wA.style.width="100000px",s.wA.style.height="100000px",s.gA.scrollLeft=1e5,s.gA.scrollTop=1e5,s.yA.scrollLeft=1e5,s.yA.scrollTop=1e5,0===s.yA.scrollTop&&TI(s.Bc)},s.mA=function(){var t=s.vA,n=s.hA;s.oA(t,n),s.aA=t,s.sA=n,s.Bc(),s.dA=0},s._A=function(){if(!s.dA){var t=s.vA,n=s.hA;t===s.aA&&n===s.sA||(s.dA=TI(s.mA))}},s.pA=function(){s.lA||(s.lA=o(s.bA,66))},s.bA=function(){s.lA=void 0,s.kA()},s.kA=function(){s._A()};var a=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==a||(n.style.position="relative");var c,f=i.createElement("div");return s.TA=f,s.gA=i.createElement("div"),s.wA=i.createElement("div"),s.yA=i.createElement("div"),s.SA=i.createElement("div"),OI(s.gA),OI(s.yA),CI(s.wA),CI(c=s.SA),c.style.width="200%",c.style.height="200%",f.appendChild(s.gA),f.appendChild(s.yA),s.gA.appendChild(s.wA),s.yA.appendChild(s.SA),n.appendChild(f),s.gA.addEventListener("scroll",s._A),s.yA.addEventListener("scroll",s._A),e&&e.addEventListener("resize",s.pA),s._A(),s}return Yi(n,t),n.prototype.kn=function(){SI(this.dA),this.dA=0,this.gA.removeEventListener("scroll",this._A),this.yA.removeEventListener("scroll",this._A),Ns(this.TA),e&&e.removeEventListener("resize",this.pA)},Ri(n,[{key:"hA",get:function(){return this.Bg.getBoundingClientRect().height||this.sA||0}},{key:"vA",get:function(){return this.Bg.getBoundingClientRect().width||this.aA||0}}]),n}(mI);Ti();var DI=function(t){function n(n){var e;return(e=t.call(this)||this).fA=void 0,e.cA=function(t,n){e.lo(new gI(t,n))},e.Bg=n,e}Yi(n,t);var e=n.prototype;return e.Pc=function(t){this.fA||("function"==typeof mi.ResizeObserver?this.fA=new _I(this.Bg,this.cA):this.fA=new NI(this.Bg,this.cA,t))},e.kn=function(){this.po(),this.fA&&(this.fA.kn(),this.fA=void 0)},Ri(n,[{key:"hA",get:function(){return this.fA?this.fA.hA:0}},{key:"vA",get:function(){return this.fA?this.fA.vA:0}}]),n}(pc);ki(),Vt(),Ii(),ki(),Vt();var AI=function(t){function n(){return t.call(this,zS.ol)}return Yi(n,t),n}(Sc);ki(),Vt();!function(){if(i)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var e=t[n];if(e[1]in i)return{EA:e[0],RA:e[1],IA:e[2],OA:e[3],CA:e[4],NA:e[5]}}}();ki(),Vt();var PI=function(t){function n(){return t.call(this,zS.$O)}return Yi(n,t),n}(Sc),xI=function(t){function n(n,e){var i;return(i=t.call(this)||this).DA=!1,i.AA=function(){return i.kc()},i.pC=function(t){i.DA||i.lo(t)},i.jI=n,i.PA=e,i.xA=$S,i.BA(),i.jI.yo(ol.$f,i.AA),i.kc(),i}Yi(n,t);var e=n.prototype;return e.gy=function(){this.PA&&this.xA.gy()},e.my=function(){this.xA.my()},e.BA=function(){this.xA.yo(zS.ol,this.pC),this.xA.yo(zS.Vl,this.do)},e.LA=function(){this.xA.bo(zS.ol,this.pC),this.xA.bo(zS.Vl,this.do)},e.kc=function(){var t=this.xA,n=this.jI.Rg();if(t!==n){this.DA=!0;var e=this.KO,i=this.JO;e&&this.my(),this.LA(),this.xA=n,this.BA(),e&&!this.KO&&this.JO?this.gy():this.my(),this.DA=!1,i!==this.JO&&this.lo(new PI),e!==this.KO&&this.lo(new AI)}},e.kn=function(){this.po(),this.LA(),this.jI.bo(ol.$f,this.AA)},Ri(n,[{key:"JO",get:function(){return!!this.PA&&this.xA.JO}},{key:"KO",get:function(){return this.xA.KO}}]),n}(pc);function BI(t){var n;return{get url(){return t.tv},get method(){return t._v},get headers(){return n||(n=t.Yh.Rh()),n},get body(){return t.Lh},get useCredentials(){return t.Tv},get type(){return t.xu},get subType(){return t.bv},get mediaType(){return t.kv},get responseType(){return t.$h}}}function LI(t){switch(t.toLowerCase()){case"arraybuffer":return al.Th;case"json":return al.Sh;case"stream":return al.Eh;case"text":default:return al.Si}}function FI(t){switch(t.toUpperCase()){case"POST":return Fl.POST;case"PUT":return Fl.PUT;case"DELETE":return Fl.DELETE;case"HEAD":return Fl.HEAD;case"OPTIONS":return Fl.OPTIONS;case"GET":default:return Fl.GET}}function MI(t){switch(t.toLowerCase()){case"manifest":return Ul.rv;case"segment":return Ul.uv;case"preload-hint":return Ul.ov;case"content-protection":return Ul.sv;default:return Ul.ev}}function UI(t){switch(t.toLowerCase()){case"initialization-segment":return Hl.av;case"fairplay-license":return Hl.cv;case"fairplay-certificate":return Hl.fv;case"widevine-license":return Hl.hv;case"widevine-certificate":return Hl.vv;case"playready-license":return Hl.dv;case"clearkey-license":return Hl.lv;case"aes128-key":return Hl.wv;default:return Hl.ev}}function VI(t){switch(t.toLowerCase()){case"audio":return zl.gv;case"video":return zl.yv;case"text":return zl.Si;case"image":return zl.mv;case"":default:return zl.ev}}ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii();var HI=function(){function t(t,n){this.FA=t,this.MA=n,this.UA=new Af,this.VA=[],this.Wd=void 0,this.HA=!1,this.Fv=void 0,this.qA=0}var n=t.prototype;return n.Hp=function(){this.HA=!0,this.UA.Qo(null)},n.zA=function(){this.UA.ts(new yl(this.VA))},n.WA=function(t){if(!this.jA)throw new h("Cannot respond more than once");if(!lr(t))throw new h("Expected valid response");this.Fv=this.GA(t),this.Hp()},n.XA=function(){try{var t=this.MA(this.jd);t?this.YA(t):this.$A||this.KA||this.Hp()}catch(t){this.VA.push(t),this.zA()}},n.YA=function(t){if(this.KA)throw new f("Request has been redirected or a response already exists");if(mr(t))this.JA(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new Af;try{var e=t((function(t){t?n.ts(t):n.Qo(void 0)}));mr(e)&&n.ao(e)}catch(t){n.ts(t)}this.JA(n.Zo)}},n.JA=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n.qA++,[4,t];case 1:return i.sent(),n.qA--,n.$A||n.KA||(n.VA.length?n.zA():n.Hp()),[3,3];case 2:return e=i.sent(),n.qA--,n.VA.push(e),n.$A||n.KA||n.zA(),[3,3];case 3:return[2]}}))}))()},Ri(t,[{key:"ZA",get:function(){return this.UA.Zo}},{key:"jd",get:function(){return this.Wd||(this.Wd=this.QA()),this.Wd}},{key:"KA",get:function(){return this.HA}},{key:"jA",get:function(){return!this.HA}},{key:"$A",get:function(){return this.qA>0}},{key:"Mv",get:function(){return this.Fv}}]),t}(),qI=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e)||this).tP=i,r.XA(),r}Yi(n,t);var e=n.prototype;return e.QA=function(){return e=BI((t=this).Zh),{get closed(){return!t.jA},get request(){return e},get url(){return t.tv},get status(){return t.Xh},get statusText(){return t.Kh},get headers(){return n||(n=t.Yh.Rh()),n},get body(){return t.Lh},respondWith:function(n){return t.WA(n)},waitUntil:function(n){return t.YA(n)}};var t,n,e},e.GA=function(t){return n.nP(t,this.FA,this.tP)},n.nP=function(t,n,e){var i=void 0===t.body?e:t.body;return new jl({Qi:i,Zh:n.Zh,$h:n.Zh.$h,Yh:t.headers,Xh:t.status,Kh:t.statusText,Qh:t.url,Jh:!0},n)},Ri(n,[{key:"Lh",get:function(){return this.tP}},{key:"Yh",get:function(){return this.FA.Yh}},{key:"Zh",get:function(){return this.FA.Zh}},{key:"Mv",get:function(){return this.Fv}},{key:"Xh",get:function(){return this.FA.Xh}},{key:"Kh",get:function(){return this.FA.Kh}},{key:"tv",get:function(){return this.FA.Qh}}]),n}(HI);ki(),Vt(),Ii();var zI=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e)||this).eP=void 0,r.iP=i,r.XA(),r}Yi(n,t);var e=n.prototype;return e.QA=function(){return t=this,{get url(){return t.tv},get method(){return t._v},get headers(){return n||(n=t.Yh.Rh()),n},get body(){return t.Lh},get closed(){return!t.jA},get useCredentials(){return t.Tv},get type(){return t.xu},get subType(){return t.bv},get mediaType(){return t.kv},get responseType(){return t.$h},redirect:function(n){return t.rP(n)},respondWith:function(n){return t.WA(n)},waitUntil:function(n){return t.YA(n)}};var t,n},e.GA=function(t){var n=this.FA.Lh,e=new jl({Qi:n,Yh:{},Zh:this.FA,Qh:this.FA.tv,$h:this.FA.$h,Xh:200,Kh:"OK"});return qI.nP(t,e,n)},e.rP=function(t){if(!this.jA)throw new h("Cannot redirect, already redirected or has a response");var n;n=gr(t)?{url:t}:t,this.eP=function(t,n){return new Gl({tv:void 0===t.url?n.tv:t.url,_v:void 0!==t.method?FI(t.method):void 0,Yh:t.headers,Lh:t.body,Tv:t.useCredentials,xu:void 0!==t.type?MI(t.type):void 0,bv:void 0!==t.subType?UI(t.subType):void 0,kv:void 0!==t.mediaType?VI(t.mediaType):void 0,$h:void 0!==t.responseType?LI(t.responseType):void 0},n)}(n,this.FA),this.Hp()},Ri(n,[{key:"Lh",get:function(){return this.FA.Lh}},{key:"jA",get:function(){return this.iP&&!this.HA}},{key:"Yh",get:function(){return this.FA.Yh}},{key:"_v",get:function(){return this.FA._v}},{key:"uP",get:function(){return this.eP}},{key:"Mv",get:function(){return this.Fv}},{key:"$h",get:function(){return this.FA.$h}},{key:"pv",get:function(){return this.FA.pv}},{key:"fo",get:function(){return this.FA.fo}},{key:"xu",get:function(){return this.FA.xu}},{key:"bv",get:function(){return this.FA.bv}},{key:"kv",get:function(){return this.FA.kv}},{key:"tv",get:function(){return this.FA.tv}},{key:"Tv",get:function(){return this.FA.Tv}},{key:"Sv",get:function(){return this.FA.Sv}}]),n}(HI);var WI=function(t){function n(n,e){var i;void 0===e&&(e=!0);var r=new jI(n);return(i=t.call(this,r,e)||this).oP=r,i}Yi(n,t);var e=n.prototype;return e.sP=function(t){this.oP.sP(t)},e.aP=function(t){this.oP.aP(t)},e.cP=function(t){this.oP.cP(t)},e.fP=function(t){this.oP.fP(t)},e.hP=function(t){this.oP.hP(t)},n}(Yl),jI=function(){function t(t){this.vP=[],this.dP=[],this.Rv=t}var n=t.prototype;return n.Zh=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,n.lP(t,t.fo)];case 1:return e=r.sent(),[3,5];case 2:return(i=r.sent())instanceof nw?[4,n.wP(i,t.fo)]:[3,4];case 3:return[2,r.sent()];case 4:throw i;case 5:return[4,n.gP(e,t.fo)];case 6:if(Ll(e=r.sent()))return[2,e];throw new iw(e)}}))}))()},n.Ev=function(t){return this.Rv.Ev(t)},n.lP=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:sc(n),i=t,u=0,o=e.vP.slice(),c.label=1;case 1:if(!(u<o.length))return[3,7];if(s=o[u],sc(n),(a=new zI(i,s,!r)).KA)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.ZA];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.uP&&!r?i=a.uP:a.Mv&&!r&&(r=a.Mv),c.label=6;case 6:return u++,[3,1];case 7:return r?[2,r]:[2,e.Rv.Zh(i)]}}))}))()},n.wP=function(t,n){var e=this;return ta((function(){var i,r;return ea(this,(function(u){switch(u.label){case 0:return i=t instanceof iw?t.Mv:new jl({Qi:null,Zh:t.Zh,Xh:0,Kh:""}),[4,e.gP(i,n)];case 1:if((r=u.sent())===i)throw t;if(Ll(r))return[2,r];throw new iw(r)}}))}))()},n.gP=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:i=t,r=0,u=e.dP.slice(),c.label=1;case 1:return r<u.length?(o=u[r],sc(n),[4,G.resolve(i.Xo().Qi(n))]):[3,8];case 2:if(s=c.sent(),(a=new qI(i,o,s)).KA)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.ZA];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:i=a.Mv||i,c.label=7;case 7:return r++,[3,1];case 8:return[2,i]}}))}))()},n.sP=function(t){this.vP.unshift(t)},n.aP=function(t){this.vP.push(t)},n.cP=function(t){Qa(this.vP,t)},n.fP=function(t){this.dP.unshift(t)},n.hP=function(t){Qa(this.dP,t)},n.kn=function(){this.Rv.kn(),ec(this.vP),ec(this.dP)},t}();ki(),Vt(),Ii();var GI,XI,YI=function(t){function n(n,e,i){var r;return(r=t.call(this,e)||this).yP=n,r.nS=e,r.uC=i,r.mP=function(t){r.lo(t)},r._P=function(t){r.lo(t)},r.yP.yo(ol.nh,r.mP),r.yP.yo(ol.th,r._P),r}Yi(n,t);var e=n.prototype;return e.pP=function(t){this.uC.pP(t)},e.sP=function(t){this.nS.sP(t)},e.cP=function(t){this.nS.cP(t)},e.fP=function(t){this.nS.fP(t)},e.hP=function(t){this.nS.hP(t)},e.kn=function(){this.po(),this.yP.bo(ol.nh,this.mP),this.yP.bo(ol.th,this._P)},Ri(n,[{key:"jd",get:function(){var t;return this.Wd||(this.Wd=(t=this,{get online(){return t.Wg},get estimator(){return n=t.bP,{get bandwidth(){return n.wR},get roundTripTime(){return n.gR}};var n},setEstimator:function(n){t.pP(function(t){if(t)return{get wR(){return fy(t.bandwidth)},get gR(){return fy(t.roundTripTime)},lR:function(n){return function(t){if(t)return{kP:function(n){t.markRequestStart(n)},TP:function(n){t.markResponseStart(n)},SP:function(n,e){t.markResponseData(n,e)},EP:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(BI(n)))}}}(n))},addRequestInterceptor:function(n){t.sP(n)},removeRequestInterceptor:function(n){t.cP(n)},addResponseInterceptor:function(n){t.fP(n)},removeResponseInterceptor:function(n){t.hP(n)},addEventListener:function(n,e){t.yo(n,e)},removeEventListener:function(n,e){t.bo(n,e)}})),this.Wd}},{key:"Wg",get:function(){return this.yP.Wg}},{key:"bP",get:function(){return this.uC.bP}}]),n}(pc);ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),(XI=GI||(GI={})).PERFORMANCE="performance",XI.QUALITY="quality",XI.BANDWIDTH="bandwidth",ki(),Vt();ki(),Vt();var $I={type:GI.BANDWIDTH};function KI(t){var n,e,i,r=ry($I);return gr(t)?r.type=JI(t):lr(t)&&function(t){switch(t){case GI.PERFORMANCE:case GI.QUALITY:case GI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=JI(t.type)),lr(t)&&lr(t.metadata)&&(r.metadata=(n=t.metadata,e={},i=cy(n.bitrate),g(i)||(e.bitrate=i),e)),r}function JI(t){switch(t){case"bandwidth":return GI.BANDWIDTH;case"performance":return GI.PERFORMANCE;case"quality":return GI.QUALITY}}function ZI(t){return{get strategy(){return{metadata:(n=t.RP).metadata,type:n.type};var n},set strategy(n){t.RP=KI(n)},get targetBuffer(){return t.IP},set targetBuffer(n){var e=cy(n);g(e)||(t.IP=e)},get bufferLookbackWindow(){return t.OP},set bufferLookbackWindow(n){var e=cy(n);g(e)||(t.OP=e<=0?30:e)},get maxBufferLength(){return t.CP}}}ki(),Vt();var QI=function(t){function n(n){var e;return(e=t.call(this,"NP")||this).IP=n,e}return Yi(n,t),n}(Sc);ki(),Vt();var tO=function(t){function n(n){var e;return(e=t.call(this,"DP")||this).RP=n,e}return Yi(n,t),n}(Sc);ki(),Vt();var nO=function(t){function n(n){var e;return(e=t.call(this,"AP")||this).OP=n,e}return Yi(n,t),n}(Sc),eO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Wd=ZI(lu(n)),n.PP=$I,n.xP=20,n.BP=30,n.LP=1/0,n.FP=void 0,n}Yi(n,t);var e=n.prototype;return e.MP=function(t){this.UP=t},e.pP=function(t){this.FP=t},e.VP=function(t){var n=d.min(t,.8*this.LP);if(n=d.max(10,n),this.LP===n)return!1;var e=this.HP;this.LP=n;var i=this.HP;return i!==e&&this.lo(new QI(i)),!0},Ri(n,[{key:"qP",get:function(){switch(this.PP.type){case GI.PERFORMANCE:return 0;case GI.QUALITY:return 1/0;case GI.BANDWIDTH:return this.PP.metadata&&void 0!==this.PP.metadata.bitrate?this.PP.metadata.bitrate:8*By.cw();default:return 8*By.cw()}}},{key:"jd",get:function(){return this.Wd}},{key:"RP",get:function(){return this.PP},set:function(t){this.PP=t,this.lo(new tO(t))}},{key:"IP",get:function(){return this.xP},set:function(t){this.xP=t,this.lo(new QI(t))}},{key:"HP",get:function(){return d.min(this.xP,this.LP)}},{key:"OP",get:function(){return this.BP},set:function(t){this.BP=t,this.lo(new nO(t))}},{key:"CP",get:function(){return this.LP}},{key:"bP",get:function(){var t;return null!=(t=this.FP)?t:this.UP.NI}}]),n}(pc);Ti(),ki(),Vt(),Ii(),ki(),Vt();var iO=function(t){function n(){return t.call(this,"sl")}return Yi(n,t),n.prototype.Gd=function(){return new rO},n}(Hg),rO=function(t){function n(){return t.call(this,"change")}return Yi(n,t),n}(Sc);ki(),Vt(),ki(),Vt();var uO=function(t){function n(n,e,i){var r;(r=t.call(this,i)||this).zP=function(t){qg(t)&&dc((function(){r.lo(t.jd)}))},r.WP=n,r.UD=e;for(var u=0,o=r.UD;u<o.length;u++){var s=o[u];r.WP.yo(s,r.zP)}return r}return Yi(n,t),n.prototype.kn=function(){this.po();for(var t=0,n=this.UD;t<n.length;t++){var e=n[t];this.WP.bo(e,this.zP)}},n}(pc),oO=function(t){function n(n,e){var i;return(i=t.call(this,e)||this).zP=function(t){qg(t)&&dc((function(){i.lo(t.jd)}))},i.WP=n,i.WP._o(i.zP),i}return Yi(n,t),n.prototype.kn=function(){this.po(),this.WP.So(this.zP)},n}(Cy);var sO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ry=0,n.Iy=1/0,n}Yi(n,t);var e=n.prototype;return e.Bc=function(){0===this.Ry&&this.Iy===1/0||(this.Ry=0,this.Iy=1/0,this.lo(new iO))},e.jP=function(){return new GS([this.py,this.by],[!0,!0])},Ri(n,[{key:"py",get:function(){return this.Ry},set:function(t){if(this.by<=t)throw new f("Start time of a clip should be smaller than the end time.");this.Ry!==t&&(this.Ry=t,this.lo(new iO))}},{key:"by",get:function(){return this.Iy},set:function(t){if(t<=this.py)throw new f("End time of a clip should be larger than the start time.");this.Iy!==t&&(this.Iy=t,this.lo(new iO))}},{key:"jd",get:function(){var t,n,e;return this.Wd||(this.Wd=(e={get startTime(){return t.py},set startTime(n){t.py=n},get endTime(){return t.by},set endTime(n){t.by=n},addEventListener:function(t,e){n.yo(t,e)},removeEventListener:function(t,e){n.bo(t,e)}},n=new oO(t=this,e),e)),this.Wd}}]),n}(Cy);ki(),Vt(),Ii(),ki(),Vt(),Ii();var aO=function(t){function n(n){var e;return(e=t.call(this)||this).GP=n,e.XP=function(t){e.YP(t)||e.lo(t)},e.GP._o(e.XP),e}Yi(n,t);var e=n.prototype;return e.$P=function(){return this.GP.hg},e.Ig=function(){return this.GP.Ig()},e.KP=function(){return this.GP.Pg},e.JP=function(){return this.GP.Dg},e.ZP=function(){return this.GP.xg},e.QP=function(t){this.GP.xg=t},e.tx=function(){return this.GP.Dw},e.nx=function(t){this.GP.Dw=t},e.ix=function(){return this.GP.Aw},e.ux=function(){return this.GP.Bg},e.ox=function(){return this.GP.Pw},e.sx=function(){return this.GP.Do},e.hx=function(){return this.GP.xw},e.vx=function(){return this.GP.Lg},e.lx=function(){return this.GP.Bw},e.wx=function(t){this.GP.Bw=t},e.gx=function(){return this.GP.Wg},e.yx=function(){return this.GP.Lw},e.mx=function(){return this.GP.Fw},e._x=function(t){this.GP.Fw=t},e.bx=function(){return this.GP.jg},e.kx=function(){return this.GP.Gg},e.Tx=function(t){this.GP.Gg=t},e.Sx=function(){return this.GP.Yl},e.Ex=function(){return this.GP.Xg},e.Rx=function(){return this.GP.Mw},e.gg=function(){return this.GP.gg()},e.yg=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return sc(n),[4,e.GP.yg(t,n)];case 1:return i.sent(),[2]}}))}))()},e.Ix=function(){return this.GP.dg},e.Ox=function(){return this.GP.Uw},e.Cx=function(){return this.GP.vg},e.Nx=function(){return this.GP.Vw},e.Dx=function(){return this.GP.Hw},e.Ax=function(t){this.GP.Hw=t},e.Rg=function(){return this.GP.Rg()},e.Eg=function(){return this.GP.Eg()},e.bg=function(t){this.GP.bg(t)},e.kg=function(){this.GP.kg()},e.Sg=function(){this.GP.Sg()},e.En=function(){this.GP.En()},e.yn=function(){this.GP.yn()},e.gn=function(){this.GP.gn()},e.Tg=function(){this.GP.Tg()},e.wg=function(){return this.GP.wg()},e.mg=function(){return this.GP.mg()},e._g=function(){this.GP._g()},e.pg=function(){this.GP.pg()},e.Bc=function(){return this.GP.Bc()},e.kn=function(){return this.GP.kn()},e.Ag=function(){this.GP.Ag()},e.Og=function(t){return this.GP.Og(t)},e.YP=function(t){return!1},Ri(n,[{key:"hg",get:function(){return this.$P()}},{key:"Pg",get:function(){return this.KP()}},{key:"xg",get:function(){return this.ZP()},set:function(t){this.QP(t)}},{key:"Dg",get:function(){return this.JP()}},{key:"Dw",get:function(){return this.tx()},set:function(t){this.nx(t)}},{key:"Aw",get:function(){return this.ix()}},{key:"Bg",get:function(){return this.ux()}},{key:"Pw",get:function(){return this.ox()}},{key:"Do",get:function(){return this.sx()}},{key:"xw",get:function(){return this.hx()}},{key:"lg",get:function(){return this.GP.lg}},{key:"Lg",get:function(){return this.vx()}},{key:"Fg",get:function(){return this.GP.Fg}},{key:"Bw",get:function(){return this.lx()},set:function(t){this.wx(t)}},{key:"Wg",get:function(){return this.gx()}},{key:"Lw",get:function(){return this.yx()}},{key:"Fw",get:function(){return this.mx()},set:function(t){this._x(t)}},{key:"jg",get:function(){return this.bx()}},{key:"Gg",get:function(){return this.kx()},set:function(t){this.Tx(t)}},{key:"Yl",get:function(){return this.Sx()}},{key:"Xg",get:function(){return this.Ex()}},{key:"Mw",get:function(){return this.Rx()}},{key:"dg",get:function(){return this.Ix()}},{key:"Uw",get:function(){return this.Ox()}},{key:"vg",get:function(){return this.Cx()}},{key:"Vw",get:function(){return this.Nx()}},{key:"Hw",get:function(){return this.Dx()},set:function(t){this.Ax(t)}},{key:"Yg",get:function(){return this.GP.Yg}},{key:"$g",get:function(){return this.GP.$g},set:function(t){this.GP.$g=t}}]),n}(Ny),cO=function(t){function n(e,i){var r;return(r=t.call(this,e)||this).Px=!1,r.xx=void 0,r.Bx=!1,r.Lx=function(){r.Fx(),r.Mx()},r.HR=function(){r.Ux(),r.Mx(),r.Vx&&r.Dw>=r.Hx.by-n.qx&&!r.Pw&&(r.xx=TI(r.HR))},r.zx=function(){r.Bx=!0},r.Wx=function(){r.Bx&&(r.Bx=!1,r.Mx())},r.Hx=i,r.Hx.yo("sl",r.Lx),r.GP.yo("timeupdate",r.HR),r}Yi(n,t);var e=n.prototype;return e.nx=function(n){var e=this.Hx.jP()._O(n);t.prototype.nx.call(this,e),this.Mx()},e.ox=function(){return t.prototype.ox.call(this)||this.Px},e.Ex=function(){return GS.WO(t.prototype.Ex.call(this)).kO(this.Hx.jP()).RI()},e.gn=function(){this.ox()?this.nx(this.jx.start(0)):this.Fx(),t.prototype.gn.call(this),this.Mx()},e.yg=function(n,e){var i=this;return ta((function(){return ea(this,(function(r){switch(r.label){case 0:return sc(e),i.Px=!1,i.Hx.Bc(),[4,t.prototype.yg.call(i,n,e)];case 1:return r.sent(),[2]}}))}))()},e.kn=function(){return this.Hx.bo("sl",this.Lx),this.GP.bo("timeupdate",this.HR),this.Ux(),t.prototype.kn.call(this)},e.YP=function(n){switch(n.type){case"seeking":return this.lo(n),this.zx(),!0;case"seeked":case"emptied":return this.lo(n),this.Wx(),!0;case"ended":if(this.Vx)return!0}return t.prototype.YP.call(this,n)},e.Ux=function(){this.xx&&(SI(this.xx),this.xx=void 0)},e.Mx=function(){var t=this.Dw,e=this.Vx&&t>=this.Hx.by-n.Zm;this.Px&&!e?(this.Px=!1,this.Lw&&this.gn()):this.Px||!e||this.Mw||this.Bx||(this.Px=!0,this.lo(new pm(t)),this.yn())},e.Fx=function(){if(this.Aw!==1/0){var t=this.jx,e=GS.WO(t)._O(this.Dw);ou(this.Dw,e,n.Zm)||this.nx(e)}},Ri(n,[{key:"jx",get:function(){return this.Ex().length?this.Ex():this.Hx.jP().RI()}},{key:"Vx",get:function(){return this.Hx.by<this.Aw}}]),n}(aO);cO.qx=1,cO.Zm=.001,ki(),Vt(),Ii();var fO=function(){function t(){this.Gx=!1}return Ri(t,[{key:"Xx",get:function(){return this.Gx},set:function(t){this.Gx=t}}]),t}();ki(),Vt();var hO=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).Yx=!1,i.$x=!1,i.Gx=e,i}Yi(n,t);var e=n.prototype;return e.ox=function(){return!this.Gx.Xx&&t.prototype.ox.call(this)},e.yn=function(){this.$x=!0,t.prototype.yn.call(this)},e.gn=function(){this.$x=!1,t.prototype.gn.call(this)},e.YP=function(n){if(this.Gx.Xx)switch(n.type){case"ended":return this.Dw=0,this.$x||(this.Mw?this.Yx=!0:this.gn()),!0;case"seeked":this.Yx&&(this.Yx=!1,this.gn());break;case"pause":if(this.Yx||t.prototype.ox.call(this))return!0}return t.prototype.YP.call(this,n)},n}(aO);ki(),Vt(),Ii(),ki(),Vt();var vO=function(){function t(t){var n;this.eO=t,this.Wd=(n=this,{get currentBandwidthEstimate(){return n.Hg},get corruptedVideoFrames(){return n.Ug},get droppedVideoFrames(){return n.Mg},get totalBytesLoaded(){return n.qg},get bufferedSegments(){return n.zg}})}return Ri(t,[{key:"jd",get:function(){return this.Wd}},{key:"Ug",get:function(){return this.eO.Kx.Fg.Ug}},{key:"Hg",get:function(){return this.eO.Kx.Fg.Hg}},{key:"Mg",get:function(){return this.eO.Kx.Fg.Mg}},{key:"Jx",get:function(){throw new f("Not implemented")}},{key:"Zx",get:function(){throw new f("Not implemented")}},{key:"qg",get:function(){return this.eO.Kx.Fg.qg}},{key:"Vg",get:function(){return this.eO.Kx.Fg.Vg}},{key:"zg",get:function(){return this.eO.Kx.Fg.zg}}]),t}();ki(),Vt(),Ii(),ki(),Vt();var dO=function(t){function n(){return t.call(this,"Qx")}return Yi(n,t),n.prototype.Gd=function(){return new lO},n}(Hg),lO=function(t){function n(){return t.call(this,"castingchange")}return Yi(n,t),n}(Sc);ki(),Vt();var wO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).tB=[],n.nB=!1,n.Wd=void 0,n.eB=function(){var t=n.nB,e=n.iB;t!==e&&(n.nB=e,n.lo(new dO))},n}Yi(n,t);var e=n.prototype;return e.rB=function(t){this.tB.push(t),t.yo("statechange",this.eB)},e.kn=function(){for(var t=0,n=this.tB;t<n.length;t++){n[t].bo("statechange",this.eB)}ec(this.tB)},Ri(n,[{key:"iB",get:function(){return this.tB.some((function(t){return t.iB}))}},{key:"jd",get:function(){var t,n,e;return this.Wd||(this.Wd=(e={get casting(){return t.iB},addEventListener:function(t,e){n.yo(t,e)},removeEventListener:function(t,e){n.bo(t,e)}},n=new uO(t=this,["Qx"],e),e)),this.Wd}}]),n}(pc);ki(),Vt(),ki(),Vt();var gO=function(){function t(){}return t.uB=function(t,n){return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e=new Gl({tv:t,$h:al.Si,_v:Fl.GET}),[4,n.Zh(e)];case 1:return[4,i.sent().Qi()];case 2:return[2,i.sent().trim()];case 3:return oc(i.sent()),[2,void 0];case 4:return[2]}}))}))()},t.oB=function(t){try{var n=BR(t);return new zR(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new Md(Ad.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.sB=function(t){void 0===t&&(t=bR.E_),Wi.Zr("The baked-in license is used. Please update the configuration with your license.");var n=t.AN('.$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl""'),e=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.AN(n)})),i=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.AN(n)})),r=Number(new Date(Number(t.AN('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.AN(n)}));return new zR(n,e,i,r,u)},t.convertLicenseToDummyLicense=function(t){return new zR(t.HN,t.qN,t.zN,864e13,t.jN,t.GN,Date.now(),t.YN,t.$N)},t}();ki(),Vt();var yO=function(){function t(){}return t.Ff=function(){return t._i||(t._i=mO.Hc()?new mO:new nl),t._i},t.qo=function(n){t.Ff().qo(n)},t.Bf=function(){t.Ff().Bf()},t.Uo=function(n){return t.Ff().Uo(n)},t.Lf=function(n,e){t.Ff().Lf(n,e)},t.aB=function(n){var e=t.Uo(n);if(void 0!==e)return w(e)},t.cB=function(n){return"true"===t.Uo(n)},t}();yO._i=void 0;var mO=function(n){function e(){return n.apply(this,arguments)}Yi(e,n);var i=e.prototype;return i.qo=function(n){t.localStorage.removeItem(n)},i.Bf=function(){t.localStorage.clear()},i.Uo=function(n){return t.localStorage[n]},i.Lf=function(n,e){t.localStorage[n]=e},e.Hc=function(){var n="foobar";try{return t.localStorage.setItem(n,n),t.localStorage.removeItem(n),!0}catch(t){}return!1},e}(yO),_O="https://validate.theoplayer.com/1/",pO=72e5,bO=d.floor(14399999*d.random()-pO),kO="THEOplayer.license",TO=function(){function t(t,n,e,i,r,u){this.nS=t,this.fB=n,this.hB=e,this.BD=i,this.vB=r,this.Ws=u,this.nD=KR(u)}var n=t.prototype;return n.dB=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return[4,t.lB(t.vB.license,t.vB.licenseUrl)];case 1:return n=e.sent(),t.BD.wB(n),[2]}}))}))()},n.lB=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a,c,f;return ea(this,(function(h){switch(h.label){case 0:return i=n,t?r=gO.oB(t):i||(r=gO.sB()),i||(i=_O+r.HN),u=e.gB(),r?(o=e.fB.aD(r))!==FR.MN?[3,3]:e.yB(r.WN)&&e.yB(null==u?void 0:u.WN)?[4,e.mB(i)]:[3,2]:[3,3];case 1:if(s=h.sent())return[2,s];h.label=2;case 2:return[2,r];case 3:return u?e.fB.aD(u)!==FR.MN?[3,6]:e.yB(null==u?void 0:u.WN)?[4,e.mB(i)]:[3,5]:[3,7];case 4:if(a=h.sent())return[2,a];h.label=5;case 5:return[2,u];case 6:yO.qo(kO),h.label=7;case 7:return[4,gO.uB(i,e.nS)];case 8:if(c=h.sent()){if(f=gO.oB(c),e.fB.aD(f)===FR.MN)return yO.Lf(kO,c),[2,f];yO.qo(kO)}else if(!e.nD&&r&&o===FR.UN&&i===_O+r.HN)return[2,gO.convertLicenseToDummyLicense(r)];if(!r&&!f)throw new Md(Ad.LICENSE_ERROR,"The given license is invalid!");return e._B(null!=r?r:f,new Md(Ad.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.eD=function(t){var n=this;return ta((function(){var e,i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return[4,n.BD.YD()];case 1:return e=c.sent(),n.yB(e.WN)?(r=null!=(i=n.vB.licenseUrl)?i:_O+e.HN,[4,n.mB(r)]):[3,3];case 2:(u=c.sent())&&(n.BD.wB(u),e=u),c.label=3;case 3:try{if((o=n.fB.aD(e))===FR.VN)throw s=HR.KN,new Md(jR(s),QR.oD(s));if(o===FR.UN)throw a=HR.UN,new Md(jR(a),QR.oD(a));n.fB.eD(t,e)}catch(t){n.pB(t)}return[2]}}))}))()},n.sD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.BD.YD()];case 1:e=i.sent();try{n.fB.sD(t,e)}catch(t){n.pB(t)}return[2]}}))}))()},n.mB=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,gO.uB(t,n.nS)];case 1:return void 0===(e=r.sent())?[2,void 0]:(i=gO.oB(e),n.fB.aD(i)===FR.MN?(yO.Lf(kO,e),[2,i]):[2,void 0]);case 2:return r.sent(),[2,void 0];case 3:return[2]}}))}))()},n.yB=function(t){return!t||Number(new Date)+2592e5+bO>=t},n.gB=function(){var t=yO.Uo(kO);if(t)return gO.oB(t)},n._B=function(t,n){this.BD.wB(t),this.pB(n)},n.pB=function(t){throw Nr(t.message),this.hB.JD(t.message),t},t}();ki(),Vt(),Ii();var SO=function(){function t(){this.bB=new Af}var n=t.prototype;return n.wB=function(t){this.kB=t,this.bB.Qo()},n.YD=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.kB?[2,G.resolve(t.kB)]:[4,t.bB.Zo];case 1:return n.sent(),[2,t.kB]}}))}))()},Ri(t,[{key:"TB",get:function(){return this.kB}}]),t}();ki(),Vt(),Ii(),ki(),Vt();var EO=function(t){function n(){return t.call(this,"sl")}return Yi(n,t),n.prototype.Gd=function(){return new RO},n}(Hg),RO=function(t){function n(){return t.call(this,"change")}return Yi(n,t),n}(Sc);function IO(t){var n,e={get fontFamily(){return t.SB},set fontFamily(n){t.SB=n},get fontColor(){return t.EB},set fontColor(n){t.EB=n},get fontSize(){return t.RB},set fontSize(n){t.RB=n},get backgroundColor(){return t.IB},set backgroundColor(n){t.IB=n},get windowColor(){return t.OB},set windowColor(n){t.OB=n},get edgeStyle(){return t.CB},set edgeStyle(n){t.CB=n},get marginTop(){return t.NB},set marginTop(n){t.NB=n},get marginBottom(){return t.DB},set marginBottom(n){t.DB=n},get marginLeft(){return t.AB},set marginLeft(n){t.AB=n},get marginRight(){return t.PB},set marginRight(n){t.PB=n},addEventListener:function(t,e){var i=dy(t,hy);n.yo(i,e)},removeEventListener:function(t,e){var i=dy(t,hy);n.bo(i,e)}};return n=new bc(e),t.yo(["sl"],(function(t){return n.lo(t.jd)})),e}ki(),Vt();var OO={SB:void 0,EB:void 0,RB:void 0,IB:void 0,OB:void 0,CB:void 0,xB:void 0,NB:void 0,DB:void 0,AB:void 0,PB:void 0},CO="THEOplayer.textTrackStyle.",NO=function(t){function n(){var e;return(e=t.call(this)||this).Wd=void 0,e.BB=n.LB(),e}return Yi(n,t),n.prototype.kc=function(t){this.BB=na({},this.BB,t),n.FB(this.BB),this.lo(new EO)},n.LB=function(){var t=na({},OO);return t.SB=yO.Uo(CO+"fontFamily")||t.SB,t.EB=yO.Uo(CO+"fontColor")||t.EB,t.RB=yO.Uo(CO+"fontSize")||t.RB,t.IB=yO.Uo(CO+"backgroundColor")||t.IB,t.OB=yO.Uo(CO+"windowColor")||t.OB,t.CB=yO.Uo(CO+"edgeStyle")||t.CB,t},n.FB=function(t){yO.Lf(CO+"fontFamily",t.SB||""),yO.Lf(CO+"fontColor",t.EB||""),yO.Lf(CO+"fontSize",t.RB||""),yO.Lf(CO+"backgroundColor",t.IB||""),yO.Lf(CO+"windowColor",t.OB||""),yO.Lf(CO+"edgeStyle",t.CB||"")},Ri(n,[{key:"MB",get:function(){return this.BB}},{key:"SB",get:function(){return this.BB.SB},set:function(t){this.kc({SB:t})}},{key:"EB",get:function(){return this.BB.EB},set:function(t){this.kc({EB:t})}},{key:"RB",get:function(){return this.BB.RB},set:function(t){this.kc({RB:t})}},{key:"IB",get:function(){return this.BB.IB},set:function(t){this.kc({IB:t})}},{key:"OB",get:function(){return this.BB.OB},set:function(t){this.kc({OB:t})}},{key:"CB",get:function(){return this.BB.CB},set:function(t){this.kc({CB:t})}},{key:"xB",get:function(){return this.BB.xB}},{key:"NB",get:function(){return this.BB.NB},set:function(t){this.kc({NB:t})}},{key:"DB",get:function(){return this.BB.DB},set:function(t){this.kc({DB:t})}},{key:"PB",get:function(){return this.BB.PB},set:function(t){this.kc({PB:t})}},{key:"AB",get:function(){return this.BB.AB},set:function(t){this.kc({AB:t})}},{key:"jd",get:function(){return this.Wd||(this.Wd=IO(this)),this.Wd}}]),n}(pc);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();ol.ih,ol.eh,vm.Nw,ol.mh,ol.rh,ol.Jf,ol.fh,ol.ah,ol.Yf,ol.uh,ol._h,ol.Gf,vm.al,ol.sh,ky.Vl,kc.Ao,kc.xo,ol.zf,ol.qf,ol.ph;var DO,AO={UB:!1};ki(),Vt(),ki(),Vt(),(DO||(DO={})).SN="VB",ki(),Vt();var PO=function(t){function n(n){var e;return(e=t.call(this,ol.rh)||this).currentTime=n,e}return Yi(n,t),n}(Sc);ki(),Vt();var xO,BO,LO,FO,MO,UO,VO,HO,qO,zO,WO,jO,GO=function(t){function n(){return t.call(this,ol.Jf)}return Yi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),(xO||(xO={})).HB="qB",(LO=BO||(BO={}))[LO.zB=0]="zB",LO[LO.Eh=1]="Eh",LO[LO.WB=2]="WB",ki(),Vt(),(FO||(FO={})).jB="GB",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(UO=MO||(MO={}))[UO.XB=0]="XB",UO[UO.YB=1]="YB",UO[UO.$B=2]="$B",ki(),Vt(),ki(),Vt(),ki(),Vt(),(HO=VO||(VO={}))[HO.KB=3]="KB",HO[HO.JB=4]="JB",HO[HO.ZB=5]="ZB",(zO=qO||(qO={}))[zO.QB=64]="QB",zO[zO.tL=103]="tL",zO[zO.nL=107]="nL",ki(),Vt(),ki(),Vt(),(jO=WO||(WO={}))[jO.eL=0]="eL",jO[jO.iL=1]="iL",jO[jO.tL=2]="tL",jO[jO.rL=5]="rL",jO[jO.uL=34]="uL",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();sr.ui;ki(),Vt(),ki(),Vt(),ki(),Vt();ki(),Vt();ol.ih,ol.eh,ol.fh,ol.ah,ol.Yf,ol.uh,vm.al,ky.Vl;ki(),Vt();var XO,YO;sr.Qe||sr.ti;(YO=XO||(XO={})).oL="closed",YO.Pv="open",YO.Yf="ended",ki(),Vt();ol._h,ol.uh,ol.fh,ol.ih,ol.eh;ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();vm.al,ol.ih,ol.eh,ol.fh,ol.ah,ol.Yf,ky.Vl;function $O(t,n){return t.py<=n&&t.by>n}function KO(t,n){return function(t,n){return $a(t.py,n.py,P_)}(t,n)||function(t,n){return $a(t.by,n.by,P_)}(t,n)}function JO(t,n){var e=function(t,n,e,i,r,u,o){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,a=o-1;s<=a;){var c=s+(a-s>>1),f=i(e(t[c]),n);if(f<0)s=c+1;else if(f>0)a=c-1;else{if(!(r&&c>u&&0===i(e(t[c-1]),n)))return c;a=c-1}}return~s}(t,n,br,KO,!0);if(e<0)return e;for(;e<t.length&&KO(n,t[e])===qa.ju;e++)if(t[e].Ny(n))return e;return-(e+1)}function ZO(t){var n=t.Xd;if(!n)return-1;if(t instanceof x_)return n.sL(t);var e=n.$l;if(!e)return-1;var i=JO(e.kl,t);return i>=0?i:-1}ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii();var QO=function(){function t(t){this.Wd=void 0,this.aL=t}var n=t.prototype;return n.Gd=function(){return function(t){for(var n=[],e=0;e<t.Tl;e++)n[e]=t.Uo(e).jd;return n.item=function(n){var e=0|n,i=t.Uo(e);return i&&i.jd||void 0},v.defineProperty(n,"constructor",{value:N_}),n}(this)},n.Zg=function(t){for(var n=this.aL,e=n.length-1;e>=0;e-=1){var i=n[e];if(t.Ny(i))return!0}return!1},n.Uo=function(t){return this.aL[t]},Ri(t,[{key:"kl",get:function(){return this.aL}},{key:"Tl",get:function(){return this.aL.length}},{key:"jd",get:function(){if(this.Wd){var t=this.aL;this.Wd.length=t.length;for(var n=0;n<t.length;n++)this.Wd[n]=t[n].jd}else this.Wd=this.Gd();return this.Wd}}]),t}();ki(),Vt();var tC=function(t){function n(n,e){var i;return(i=t.call(this,Xg.al)||this).Xd=n,i.Yl=e,i}return Yi(n,t),n.prototype.Gd=function(){return new nC(this.Xd.jd,this.Yl)},n}(zg),nC=function(t){function n(n,e){var i;return(i=t.call(this,"readystatechange")||this).track=n,i.readyState=e,i}return Yi(n,t),n}(Wg);ki(),Vt();var eC=function(t){function n(n){var e;return(e=t.call(this,Xg.fl)||this).Xd=n,e}return Yi(n,t),n.prototype.Gd=function(){return new iC(this.Xd.jd)},n}(zg),iC=function(t){function n(n){var e;return(e=t.call(this,"typechange")||this).track=n,e}return Yi(n,t),n}(Wg);ki(),Vt();var rC=function(t){function n(n){var e;return(e=t.call(this,Xg.Yd)||this)._y=n,e}return Yi(n,t),n.prototype.Gd=function(){return new uC(this._y.jd)},n}(zg),uC=function(t){function n(n){var e;return(e=t.call(this,"addcue")||this).cue=n,e}return Yi(n,t),n}(Wg);ki(),Vt();var oC=function(t){function n(n){var e;return(e=t.call(this,Xg.Kd)||this)._y=n,e}return Yi(n,t),n.prototype.Gd=function(){return new sC(this._y.jd)},n}(zg),sC=function(t){function n(n){var e;return(e=t.call(this,"removecue")||this).cue=n,e}return Yi(n,t),n}(Wg),aC=function(t){function n(n,e,i,r,u,o,s,a){var c;return(c=t.call(this)||this).ny=h_(),c.cL=!1,c.EC=py.jl,c.fL=m_.NONE,c.hL=void 0,c.aL=[],c.vL=[],c.dL=0,c.lL=0,c.sc=e||"",c.wL=a||"",c.gL=n,c.Zs=r||"",c.cL=Boolean(u),c.yL=Boolean(s),c.nr=o||p_.DEFAULT,c.ey=i||"",c.mL=new QO(c.aL),c._L=new QO(c.vL),c}Yi(n,t);var e=n.prototype;return e.pL=function(t){return Ja(this.mL.kl,(function(n){return n.Pl===t}))},e.Gd=function(){return Ey(this)},e.xC=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}(t);n!==this.ql&&(this.EC=n,n===py.jl&&(this.vL.forEach((function(t){t.Dy=!1})),ec(this.vL),this.lL=0),this.lo(new Zg(this)))},e.uS=function(t){if(t&&!t.Xd){var n=JO(this.$l.kl,t);if(!(n>=0)){t.Xd=this;var e=-(n+1);this.aL.splice(e,0,t),this.bL(e),t.Ey=e,e<this.lL&&(this.lL=e),this.lo(new rC(t))}}},e.WT=function(t){if(t&&t.Xd===this){var n=this.sL(t);if(!(n<0)){t.Dy=!1;var e=this.vL,i=JO(e,t);i>=0&&tc(e,i),tc(this.aL,n),this.bL(n),t.Ey=-1,this.lL>n&&--this.lL,this.lo(new oC(t))}}},e.kL=function(t,n){var e=this.vL,i=this.aL,r=this.lL,u=!1;n&&(r=0);for(var o=e.length-1;o>=0;o--){$O(e[o],t)||(u=!0,tc(e,o))}for(;r<i.length&&i[r].py<=t;){var s=i[r];if(0===t)break;$O(s,t)&&!nc(e,s)&&(u=!0,e.push(s)),r++}u&&ja(e,KO),this.lL=r},e.sL=function(t){return(-1===t.Ey||t.Ey>=this.dL)&&this.TL(),t.Ey},e.TL=function(){for(var t=this.aL,n=this.dL;n<t.length;n++)t[n].Ey=n;this.dL=t.length},e.bL=function(t){t<this.dL&&(this.dL=t)},e.Gl=function(t){this.Xl||(this.ql=t)},e.kn=function(){this.po();for(var t=this.aL.slice(),n=0;n<t.length;n++){t[n].kn()}ec(this.aL),ec(this.vL)},Ri(n,[{key:"Kl",get:function(){return this._L}},{key:"$l",get:function(){return this.mL}},{key:"sS",get:function(){return this.cL},set:function(t){this.cL=t}},{key:"Xl",get:function(){return this.yL}},{key:"jd",get:function(){return this.Wd||(this.Wd=this.Gd()),this.Wd}},{key:"Pl",get:function(){return this.sc}},{key:"xl",get:function(){return this.ny}},{key:"Hl",get:function(){return this.wL},set:function(t){this.wL=t}},{key:"Bl",get:function(){return this.gL}},{key:"Ll",get:function(){return this.ey},set:function(t){t!==this.ey&&(this.ey=t,this.lo(new a_(this)))}},{key:"Fl",get:function(){return this.Zs}},{key:"ql",get:function(){return this.EC},set:function(t){this.xC(t)}},{key:"Yl",get:function(){return this.fL},set:function(t){this.fL!==t&&(this.fL=t,this.lo(new tC(this,this.fL)))}},{key:"Jl",get:function(){return this.hL},set:function(t){this.hL=t}},{key:"xu",get:function(){return this.nr},set:function(t){this.nr!==t&&(this.nr=t,this.lo(new eC(this)))}}]),n}(pc);ki(),Vt(),ki(),Vt(),ki(),Vt();var cC=function(t){function n(n,e){var i;return(i=t.call(this,S_.wy,n)||this).zm=e,i}return Yi(n,t),n.prototype.Gd=function(){return new fC(this._y.jd)},n}(I_),fC=function(t){function n(n){return t.call(this,"enter",n)}return Yi(n,t),n}(O_);ki(),Vt();var hC=function(t){function n(n,e){var i;return(i=t.call(this,S_.yy,n)||this).zm=e,i}return Yi(n,t),n.prototype.Gd=function(){return new vC(this._y.jd)},n}(I_),vC=function(t){function n(n){return t.call(this,"exit",n)}return Yi(n,t),n}(O_);ki(),Vt();var dC=function(t){function n(n){var e;return(e=t.call(this,Xg.Zd)||this)._y=n,e}return Yi(n,t),n.prototype.Gd=function(){return new lC(this._y.jd)},n}(zg),lC=function(t){function n(n){var e;return(e=t.call(this,"entercue")||this).cue=n,e}return Yi(n,t),n}(Wg);ki(),Vt();var wC=function(t){function n(n){var e;return(e=t.call(this,Xg.tl)||this)._y=n,e}return Yi(n,t),n.prototype.Gd=function(){return new gC(this._y.jd)},n}(zg),gC=function(t){function n(n){var e;return(e=t.call(this,"exitcue")||this).cue=n,e}return Yi(n,t),n}(Wg);ki(),Vt();var yC,mC,_C,pC,bC=function(t){function n(n){var e;return(e=t.call(this,Xg.il)||this).Xd=n,e}return Yi(n,t),n.prototype.Gd=function(){return new kC(this.Xd.jd)},n}(zg),kC=function(t){function n(n){var e;return(e=t.call(this,"cuechange")||this).track=n,e}return Yi(n,t),n}(Wg);function TC(t,n,e){for(var i=t[n].py,r=n;r>=0&&t[r].py===i;r--)t[r].by=e}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(mC=yC||(yC={}))[mC.ISO_8859_1=0]="ISO_8859_1",mC[mC.UTF16_BOM=1]="UTF16_BOM",mC[mC.UTF16=2]="UTF16",mC[mC.UTF8=3]="UTF8",(pC=_C||(_C={}))[pC.V22=2]="V22",pC[pC.V23=3]="V23",pC[pC.V24=4]="V24",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();function SC(t,n){return Ya(t.zm,n.zm)||function(t,n){return t.Xd===n.Xd?Xa(ZO(t),ZO(n)):Tb(t.Xd,n.Xd)}(t._y,n._y)||function(t,n){return t===n?qa.ju:t===S_.wy?qa.Xu:qa.Gu}(t.type,n.type)}var EC=function(){function t(t,n){var e=this;this.sg=[],this.SL=0,this.EL=0,this.RL=[],this.IL=[],this.OL=!1,this.CL=!1,this.NL=void 0,this.DL=function(){e.SL=0,e.AL(),e.PL()},this.xL=function(){e.AL(),e.PL()},this.BL=function(){e.CL=!0,e.NL=e.eO.Dw,e.LL()},this.FL=function(){e.AL(),e.PL()},this.ML=function(){e.UL(),e.AL(),e.PL()},this.VL=function(t){nc(e.IL,t._y)||e.IL.push(t._y),e.HL()},this.qL=function(t){Qa(e.RL,t._y),Qa(e.IL,t._y),e.HL()},this.zL=n,this.eO=t,t.yo(ol.mh,this.xL),t.yo(ol.ih,this.xL),t.yo(vm.Nw,this.xL),t.yo(ol.eh,this.xL),t.yo(ol.fh,this.BL),t.yo(ol.ah,this.FL),this.HL()}var n=t.prototype;return n.Bc=function(){ec(this.RL);for(var t=0,n=this.sg.slice();t<n.length;t++){var e=n[t];this.pl(e)}this.LL(),this.SL=0,this.EL=0,this.OL=!1,this.CL=!1,this.NL=void 0},n._l=function(t){if(!nc(this.sg,t)){if(this.sg.push(t),t.yo(Xg.Yd,this.VL),t.yo(Xg.Kd,this.qL),t.yo(Xg.ol,this.ML),t.$l.Tl>0){for(var n=0,e=t.$l.kl;n<e.length;n++){var i=e[n];this.IL.push(i)}this.HL()}this.UL()}},n.pl=function(t){if(Qa(this.sg,t)){if(t.bo(Xg.Yd,this.VL),t.bo(Xg.Kd,this.qL),t.bo(Xg.ol,this.ML),t.$l.Tl>0){for(var n=0,e=t.$l.kl;n<e.length;n++){var i=e[n];Qa(this.RL,i),Qa(this.IL,i)}this.HL()}this.UL()}},n.UL=function(){this.OL=this.sg.some((function(t){return t.ql!==py.jl}))},n.PL=function(){this.eO.Mw||this.eO.Lw?this.LL():this.HL()},n.HL=function(){this.OL&&(this.SL||(this.SL=this.zL.H(this.DL)))},n.LL=function(){this.SL&&(this.zL.WL(this.SL),this.SL=0)},n.AL=function(){if(this.OL&&!this.eO.Mw){var t,n=this.sg,e=this.EL,i=null!=(t=this.NL)?t:this.eO.Dw,r=i-e<-.1,u=this.CL||r;u&&i>e&&i-e<.1&&(u=!1),this.CL=!1,this.NL=void 0;for(var o,s=[],a=0;a<n.length;a++){var c=n[a];if(c.ql!==py.jl){c.kL(i,u);for(var f=0,h=c.Kl.kl;f<h.length;f++){var v=h[f];s.push(v)}}}if(u)o=this.RL;else{o=[];for(var l=0;l<n.length;l++){var w=n[l];w.ql!==py.jl&&kb(w,e-vu,i,o)}}for(var g=o.length-1;g>=0;g--)nc(s,o[g])&&tc(o,g);var y=[];if(!u)for(var m=o.length-1;m>=0;m--){var _=o[m];_.py>e&&_.by<=i&&(y.push(_),tc(o,m))}for(var p=0,b=this.IL;p<b.length;p++){Qa(y,b[p])}ec(this.IL);for(var k=[],T=[],S=0;S<y.length;S++){var E=y[S];E.Dy||k.push(new cC(E,E.py)),k.push(new hC(E,d.max(E.py,E.by))),E.Dy=!1}for(var R=0;R<o.length;R++){var I=o[R];I.Dy&&(k.push(new hC(I,d.max(I.py,I.by))),I.Dy=!1)}for(var O=0;O<s.length;O++){var C=s[O];C.Dy||(k.push(new cC(C,C.py)),C.Dy=!0)}k.sort(SC);for(var N=0;N<k.length;N++){var D=k[N],A=D._y;A.lo(D);var P=A.Xd;P&&(D.type===S_.wy?P.lo(new dC(A)):P.lo(new wC(A)),nc(T,P)||T.push(P))}T.sort(Tb);for(var x=0;x<T.length;x++){var B=T[x];B.lo(new bC(B))}this.EL=i,this.RL=s}},n.kn=function(){this.Bc(),this.eO.bo(ol.mh,this.xL),this.eO.bo(ol.ih,this.xL),this.eO.bo(vm.Nw,this.xL),this.eO.bo(ol.eh,this.xL),this.eO.bo(ol.fh,this.BL),this.eO.bo(ol.ah,this.FL)},t}();ki(),Vt();var RC=function(){function t(){}var n=t.prototype;return n.H=function(t){return TI(t)},n.WL=function(t){SI(t)},t}(),IC=new RC,OC=function(t){function n(n,e){return void 0===e&&(e=IC),t.call(this,n,e)}return Yi(n,t),n}(EC);ki(),Vt(),ki(),Vt(),Ii();var CC=function(t){function n(n,e,i){return t.call(this,n,1/0,e,!1,i)}return Yi(n,t),n.prototype.Ny=function(n){return this===n||oy(this,n)&&t.prototype.Ny.call(this,n)&&(e=n,this.ky===e.ky);var e},Ri(n,[{key:"jd",get:function(){return this.Wd||(this.Wd=C_(this)),this.Wd}}]),n}(x_);ki(),Vt(),ki(),Vt();var NC=function(t){function n(n,e,i){return void 0===i&&(i=p_.DEFAULT),t.call(this,db.Tp,"",e||"","",!1,i,!1,n)}return Yi(n,t),n}(aC),DC=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).xu=p_.ID3,i}Yi(n,t);var e=n.prototype;return e.uS=function(n){!function(t,n){if(0!==n.length){var e=n.length-1;if(n[e].py<t.py)TC(n,e,t.py);else{var i=n[0];if(i.py>t.py)t.by=i.py;else{var r=JO(n,t);if(!(r>=0)){var u=-(r+1),o=u-1;if(o>=0&&n[o].py<t.py&&TC(n,o,t.py),u<n.length){var s=n[u];t.by=s.py}}}}}}(n,this.aL),t.prototype.uS.call(this,n)},e.Gd=function(){return Ey(this)},n}(NC);ki(),Vt();var AC=function(t){function n(n,e){var i;(i=t.call(this)||this).tS=n,i.jL=e,i.GL=new va;var r=lu(i);return i.TR=ta((function(t){var n;return ea(this,(function(e){switch(e.label){case 0:return(n=t.Xd).xu?[3,2]:[4,n.Eo(Xg.fl)];case 1:e.sent(),e.label=2;case 2:if(n.xu!==p_.ID3)return[2];e.label=3;case 3:return 0!==n.$l.Tl?[3,5]:[4,n.Eo(Xg.Yd)];case 4:return e.sent(),[3,3];case 5:return r.XL(n),[2]}}))})),i.SR=function(t){var n=t.Xd;if(n.xu===p_.ID3&&i.GL.has(n.xl)){var e=i.GL.get(n.xl);i.pl(e),i.tS.oS(e),n.bo(Xg.Yd,i.YL)}},i.YL=function(t){PC(t._y)&&i.$L(t._y)},i.KL(),i}Yi(n,t);var e=n.prototype;return e.KL=function(){this.jL.yo(xg.Vd,this.TR),this.jL.yo(xg.qd,this.SR)},e.JL=function(){this.jL.bo(xg.Vd,this.TR),this.jL.bo(xg.qd,this.SR)},e.XL=function(t){var n=t.$l.kl[0];if(PC(n)){var e=function(t){var n=t.match(xC);if(!n)return;return{Xd:n[1],Fl:n[2]}}(n.ky.description),i=e.Xd,r=e.Fl;if(!this.ZL(i,r)){var u=this.tS.iS(db.bp,t.Pl,i,r,!1,p_.TTML);this._l(u),this.GL.set(t.xl,u);for(var o=0,s=t.$l.kl;o<s.length;o++){var a=s[o];PC(a)&&this.$L(a)}t.yo(Xg.Yd,this.YL)}}},e.ZL=function(t,n){return this.yb.kl.some((function(e){return e.Ll===t&&e.Fl===n}))},e.$L=function(t){if(t.Xd)for(var n=this.GL.get(t.Xd.xl),e=ib(t.ky.text,0,{__:0,p_:1/0,b_:t.py}),i=0;i<e.length;i++){var r=e[i];n.uS(r)}},e.Bc=function(){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:for(e=0,i=n.jL.kl;e<i.length;e++)i[e].bo(Xg.Yd,n.YL);for(r=0,u=n.yb.kl;r<u.length;r++)o=u[r],n.tS.oS(o);return n.GL.clear(),[4,t.prototype.Bc.call(n)];case 1:return s.sent(),[2]}}))}))()},e.kn=function(){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return n.JL(),[4,t.prototype.kn.call(n)];case 1:return e.sent(),[2]}}))}))()},n}(Ob);function PC(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.ky)&&xC.test(n.description);var n}var xC=/^Track:(.+),Lang:(.+)$/;ki(),Vt(),Ii(),ki(),Vt(),Ii();var BC=function(t){function n(n){var e;return(e=t.call(this,ol.qf)||this).errorObject=n,e}return Yi(n,t),Ri(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Sc);ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var LC=function(t){function n(){return t.call(this,ol.zf)}return Yi(n,t),n}(Sc);ki(),Vt();var FC=function(t){function n(n){var e;return(e=t.call(this,"bh")||this).QL=n,e}return Yi(n,t),n}(Sc),MC=new jd,UC=function(t){function n(n){var e;return(e=t.call(this,"yc")||this).session=n,e}return Yi(n,t),n}(Sc),VC=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).tF=n,r.nF=e,r.eF=i,r.iF=!1,r.rF=!1,r.vf=new rc,r.dc=function(t){if(!r.vf.fo.Yu)switch(t.Co){case"license-request":case"license-renewal":r.zS(t.Oo,t.No).catch((function(t){return r.$c(t)}));break;default:r.$c(new t_(Ad.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Co))}},r.uF=function(t){r.tF.Rc.Vo((function(t,n){switch(t){case"usable":Wi.nu((function(){r.rF=!0,r.lo(new LC)}),100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":r.lo(new FC(n))}}))},r.oF=function(t){r.$c(new t_(Ad.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.yo("Oo",r.dc),n.yo("Io",r.uF),n.yo("Do",r.oF),n.Sc.then((function(){return r.sF()})),r}Yi(n,t);var e=n.prototype;return e.mc=function(){var t=this;return this.iF=!0,MC.gf((function(n){return t.aF(n)}),this.vf.fo)},e.aF=function(t){var n=this;return ta((function(){var e,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),sc(t),[4,n.nF.LS(t)];case 1:return o.sent(),[4,n.nF.FS(n.eF.Lu,n.eF.Lo,t)];case 2:return e=o.sent(),[4,n.tF.mc(n.eF.Lu,n.eF.Lo,e)];case 3:return o.sent(),[3,5];case 4:throw ac(i=o.sent()),r=i instanceof Lf?i.rs:void 0,u=new t_(Ad.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",i,void 0,void 0,void 0,void 0,r),n.$c(u),u;case 5:return[2]}}))}))()},e.zS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return qc(t,Pf())}(t)?[4,e.nF.JS(new y(t),e.vf.fo)]:[3,2];case 1:return i=c.sent(),[3,4];case 2:return[4,e.nF.ZS(new y(t),n,e.vf.fo)];case 3:i=c.sent(),c.label=4;case 4:return[3,6];case 5:if(oc(r=c.sent()))return[2];throw r;case 6:if(e.vf.fo.Yu)return[2];u=e.cF,o=new Af,e.cF=o,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,e.tF.kc(i)];case 8:return c.sent(),[4,yc(100)];case 9:return c.sent(),[3,14];case 10:throw s=c.sent(),a=s instanceof Lf?s.rs:void 0,new t_(Ad.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.Zo];case 12:c.sent(),c.label=13;case 13:return o.Qo(),e.cF===o&&(e.cF=void 0),[7];case 14:return[2]}}))}))()},e.$c=function(t){var n=t instanceof t_?t:new t_(Ad.CONTENT_PROTECTION_ERROR,t.message,t);this.lo(new BC(n)),this.yc()},e.sF=function(){this.tF.bo("Oo",this.dc),this.tF.bo("Io",this.uF),this.tF.bo("Do",this.oF),this.rF=!1,this.vf.so(),this.lo(new UC(this))},e.yc=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:t.po(),e.label=1;case 1:return void 0===(n=t.cF)?[3,3]:[4,n.Zo];case 2:e.sent(),e.label=3;case 3:if(t.cF!==n)return[3,1];e.label=4;case 4:return t.sF(),[4,t.tF.yc().catch(pr)];case 5:return e.sent(),[2]}}))}))()},n}(pc);ki(),Vt();var HC=[ol.zf,ol.qf,ol.ph],qC=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).fF=[],r.hF=void 0,r.vF=[],r.dF=function(t){t.session.bo(HC,r.do),t.session.bo("yc",r.dF),Qa(r.fF,t.session)},r.cc=n,r.Oc=e,r.lF=i,r}Yi(n,t);var e=n.prototype;return e.KS=function(){return this.lF.KS()},e.wF=function(t){return this.hF||(this.hF=this.gF(t)),this.hF},e.gF=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return sc(t),[4,n.lF.JS(new y(Pf()),t)];case 1:if(e=i.sent(),sc(t),!n.Oc)throw new f("Invalid MediaKeys when setting ServerCertificate");return[4,n.Oc.Ac(e.buffer)];case 2:return i.sent(),[2]}}))}))()},e.yF=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:if(!n.Oc)throw new f("Invalid MediaKeys when creating KeySession");r.label=1;case 1:return r.trys.push([1,,3,4]),n.vF.push(t),[4,n.Oc.Dc("temporary")];case 2:return e=r.sent(),i=new VC(e,n.lF,t),n.fF.push(i),i.yo(HC,n.do),i.yo("yc",n.dF),[2,i];case 3:return Qa(n.vF,t),[7];case 4:return[2]}}))}))()},e.mF=function(t){if(t._F)return!1;for(var n=0,e=this.fF;n<e.length;n++){if(zC(e[n].eF,t))return!0}for(var i=0,r=this.vF;i<r.length;i++){if(zC(r[i],t))return!0}return!1},e.kn=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return t.Oc=void 0,t.po(),n=t.fF.slice(),ec(t.fF),[4,G.all(n.map((function(t){return t.yc()})))];case 1:return e.sent(),t.lF.Qu(),[2]}}))}))()},Ri(n,[{key:"Cc",get:function(){return this.cc}}]),n}(pc);function zC(t,n){return!t._F&&t.Lu===n.Lu&&qc(t.Lo,n.Lo)}var WC=function(t){function n(n){var e;(e=t.call(this)||this).vf=new rc,e.pF=new jd,e.nf=void 0,e.lF=void 0,e.AR=void 0,e.cc=void 0;var i=lu(e);return e.bF=ta((function(t){var n;return ea(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.kF(t.Lu,t.Lo,i.vf.fo)];case 1:return e.sent(),[3,3];case 2:return oc(n=e.sent())||i.$c(n),[3,3];case 3:return[2]}}))})),e.eI=n,e.eI.yo(kc.Ao,e.bF),e}Yi(n,t);var e=n.prototype;return e._c=function(t,n){this.AR=t,this.TF(n)},e.TF=function(t){this.nf=t,this.SF(this.vf.fo).catch(cc)},e.SF=function(t){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return Wi.gu.Pr?[4,n.EF(t)]:[3,2];case 1:if(e.sent())return[2];e.label=2;case 2:return n.nf&&n.nf.RF?[4,n.IF(t)]:[3,4];case 3:return[2,e.sent()];case 4:return[2]}}))}))()},e.EF=function(t){var n=this;return ta((function(){var e,i,r,u,o,s,a,c,f,h,v;return ea(this,(function(d){switch(d.label){case 0:if(!(null==(e=n.nf)?void 0:e.hI))return[2,!1];r=!1,o=0,s=null!=(u=null==(i=n.nf)?void 0:i.hI)?u:[],d.label=1;case 1:if(!(o<s.length))return[3,9];a=s[o],f=0,h=null!=(c=a.pR)?c:[],d.label=2;case 2:if(!(f<h.length))return[3,7];v=h[f],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.kF(a.Cc.Lu,v,t)];case 4:return d.sent(),r=!0,[3,6];case 5:return ac(d.sent()),[3,6];case 6:return f++,[3,2];case 7:if(r)return[2,!0];d.label=8;case 8:return o++,[3,1];case 9:return[2,!1]}}))}))()},e.kF=function(t,n,e){var i=this;return ta((function(){var r,u,o,s,a,c,f,h,v,d;return ea(this,(function(l){switch(l.label){case 0:if(sc(e),!n.byteLength)return[2];if(!i.nf||!i.nf.hI.length)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==wa&&t!==ya&&t!==ga)return[2];r=Lk(t,n),u=i.nf.hI,s=0,l.label=1;case 1:if(!(s<u.length))return[3,11];if(a=u[s],sc(e),!(c=r[a.Cc.Fu])||a.Cc.Lu!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,i.OF(a,e)];case 3:return(f=l.sent()).KS()?[4,f.wF()]:[3,5];case 4:l.sent(),l.label=5;case 5:return h=i.eI.Lg,v={Lu:a.Cc.Lu,Lo:c,_F:h},i.CF(f,v)?[4,f.yF(v)]:[3,8];case 6:return[4,l.sent().mc()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return ac(d=l.sent()),o=d,[3,10];case 10:return s++,[3,1];case 11:return[4,Wi.uu()];case 12:throw l.sent()?new t_(Ad.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o):new t_(Ad.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o)}}))}))()},e.IF=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:if(!(i=null==(e=n.nf)?void 0:e.hI))return[2];r=0,s.label=1;case 1:if(!(r<i.length))return[3,8];u=i[r],sc(t),s.label=2;case 2:return s.trys.push([2,6,,7]),[4,n.OF(u,t)];case 3:return(o=s.sent()).KS()?[4,o.wF()]:[3,5];case 4:s.sent(),s.label=5;case 5:return[2];case 6:return ac(s.sent()),[3,7];case 7:return r++,[3,1];case 8:return[2]}}))}))()},e.CF=function(t,n){return Wi.gu.Ar||this.eI.NF.UB||!t.mF(n)},e.OF=function(t,n){var e=this;return this.pF.gf((function(n){return e.DF(t,n)}),n)},e.DF=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:if(sc(n),!e.nf||!e.lF||!e.AR)throw new f("Not initialized");if(e.cc){if(e.cc.Cc!==t.Cc)throw new f("Internal key system error");return[2,e.cc]}return i=e.lF,u=na({},t,{SI:t.SI.map((function(n){return na({},n,{persistentState:null!=(r=n.persistentState)?r:i.pE(t.Cc),Vc:n.Vc||i.Vc(t.Cc)})}))}),[4,e.AR.AF(u.Cc,u.SI)];case 1:return o=c.sent(),s=i._R(u),(a=new qC(u.Cc,o,s)).yo([ol.zf,ol.qf,ol.ph],e.do),e.cc=a,[2,a]}}))}))()},e.$c=function(t){var n=t instanceof t_?t:new t_(Ad.CONTENT_PROTECTION_ERROR,t.message,t);this.lo(new BC(n))},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.AR=void 0,t.nf=void 0,t.vf.so(),t.vf=new rc,[4,t.PF()];case 1:return n.sent(),[2]}}))}))()},e.PF=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return[4,t.pF.so()];case 1:return e.sent(),(n=t.cc)?(n.bo(ol.ph,t.do),t.cc=void 0,[4,n.kn()]):[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))()},e.Qu=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.po(),t.eI.bo(kc.Ao,t.bF),[4,t.Bc()];case 1:return n.sent(),[4,t.pF.kn()];case 2:return n.sent(),[2]}}))}))()},Ri(n,[{key:"xF",get:function(){var t;return null==(t=this.cc)?void 0:t.Cc}},{key:"sI",get:function(){return this.lF},set:function(t){this.lF=t}}]),n}(pc);sr.Qe||sr.ti,sr.mi,sr.ui,sr.ui&&sr.Ve;ki(),Vt(),Ii();var jC,GC,XC,YC;new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Wd=void 0,n}return Yi(n,t),Ri(n,[{key:"jd",get:function(){return this.Wd||(this.Wd=IO(this)),this.Wd}},{key:"SB",get:function(){}},{key:"EB",get:function(){}},{key:"RB",get:function(){}},{key:"IB",get:function(){}},{key:"OB",get:function(){}},{key:"CB",get:function(){}},{key:"xB",get:function(){}},{key:"NB",get:function(){}},{key:"DB",get:function(){}},{key:"AB",get:function(){}},{key:"PB",get:function(){}}]),n}(pc));ki(),Vt(),ki(),Vt(),Ti(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(GC=jC||(jC={})).BF='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',GC.LF='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',GC.FF='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',GC.MF='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',(YC=XC||(XC={})).BLACK="#000000",YC.WHITE="#FFFFFF",YC.GREEN="#00ff00",YC.BLUE="#0000ff",YC.CYAN="#00ffff",YC.RED="#ff0000",YC.YELLOW="#ffff00",YC.MAGENTA="#ff00ff",YC.TRANSPARENT="transparent";var $C,KC,JC,ZC;(function(t){var n=ua();for(var e in t)ar.call(t,e)&&n.set(e,t[e])})({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),XC.WHITE,XC.TRANSPARENT,XC.TRANSPARENT;ki(),Vt(),ki(),Vt(),Ti(),(KC=$C||($C={})).UF="Data",KC.VF="Tag",KC.HF="StartTag",KC.qF="StartTagClass",KC.zF="StartTagAnnotation",KC.WF="CharRefInAnnotation",KC.jF="EndTag",KC.GF="TimestampTag",(ZC=JC||(JC={})).XF="string",ZC.YF="starttag",ZC.KF="endtag",ZC.JF="timestamp",ki(),Vt(),ki(),Vt();var QC,tN,nN,eN;XC.WHITE,XC.TRANSPARENT;(tN=QC||(QC={}))[tN.POS_X=0]="POS_X",tN[tN.NEG_X=1]="NEG_X",tN[tN.POS_Y=2]="POS_Y",tN[tN.NEG_Y=3]="NEG_Y",ki(),Vt(),ki(),Vt(),ki(),Vt(),(eN=nN||(nN={})).FONT_REGULAR="regular",eN.FONT_UNDERLINE="underline",eN.FONT_ITALICS="italics",eN.FONT_UNDERLINE_ITALICS="underline-italics";var iN,rN,uN,oN;XC.WHITE,jC.FF,XC.BLACK,XC.WHITE,XC.WHITE,XC.GREEN,XC.GREEN,XC.BLUE,XC.BLUE,XC.CYAN,XC.CYAN,XC.RED,XC.RED,XC.YELLOW,XC.YELLOW,XC.MAGENTA,XC.MAGENTA,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE,XC.WHITE;ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(rN=iN||(iN={})).ZF="HELLO",rN.QF="HI_THERE",rN.tM="INITIALIZE",rN.nM="APPEND_INIT",rN.eM="APPEND_DATA",rN.iM="ACK",rN.rM="REMOVE",rN.uM="DESTROY_SESSION",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(oN=uN||(uN={})).gv="audio",oN.yv="video",oN.Tp="metadata",ki(),Vt();var sN=W_.Am,aN=new W_(-1/0),cN=W_.Qm,fN=new(function(t){function n(n,e){return t.call(this,n,e)}Yi(n,t);var e=n.prototype;return e.Jy=function(t,n){return t.im(n)?qa.Xu:t.Ny(n)?qa.ju:qa.Gu},e.Jg=function(t,n){return t.Jg(n)},e.sm=function(t,n){return t.sm(n)},e.nm=function(t,n){return t.nm(n)},e.pO=function(){return sN},e.bO=function(){return cN},e.EO=function(){return aN},e.mO=function(t,e){return new n(t,e)},e.gO=function(t){return t.Jm},n.WO=function(t){for(var e=[],i=0;i<t.length;i++)e.push(new W_(t.start(i)),new W_(t.end(i)));return new n(e)},n.oM=function(t){for(var e=[],i=[],r=0;r<t.Tl;r++)e.push(new W_(t.cO(r))),e.push(new W_(t.hO(r))),i.push(t.fO(r)),i.push(t.vO(r));return new n(e,i)},n.GO=function(t){return new n([t,t],[!0,!0])},n.XO=function(t,e){return t.tm(e)?new n([t,e]):n.YO()},n.YO=function(){return fN},n}(jS))([]);r_.gv,r_.yv;function hN(t,n){if(n.Tr){var e=t.muted;t.muted=!0,t.muted=!1,t.muted=e}else if(t.paused){var i=t.play();mr(i)&&lc(i),t.pause()}}ki(),Vt(),ki(),Vt();var vN,dN,lN,wN,gN=function(){function t(t){this.nS=t}var n=t.prototype;return n.Zh=function(t){return this.nS.Zh(t)},n.Ev=function(t){this.nS.Ev(t)},n.kn=function(){this.nS.kn()},t}(),yN=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).uC=e,i}return Yi(n,t),n.prototype.Zh=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:return e=new Gl(t),(i=n.uC.bP.lR(e))?(i.kP(Wi.Kr()/1e3),[4,n.nS.Zh(t)]):[2,n.nS.Zh(e)];case 1:return r=s.sent(),i.TP(Wi.Kr()/1e3),u=r.xh().pipeThrough(new Ft(new mN(i))),o={Qi:u,Zh:r.Zh},[2,new jl(o,r)]}}))}))()},n}(gN),mN=function(){function t(t){this.sM=t}var n=t.prototype;return n.start=function(t){this.bB=t},n.transform=function(t){this.sM.SP(Wi.Kr()/1e3,t),this.bB.enqueue(t)},n.flush=function(){this.sM.EP(Wi.Kr()/1e3)},t}(),_N=function(t){function n(n,e){var i;(i=t.call(this)||this).aM=!1,i.rg=!1,i.cM=!1,i.fM=function(t){if(!i.cM){i.cM=!0;var n=i.hM,e=i_(t);i.Kx.Cl=new ZS(i.Bg,e,t),lc(n.kn())}},i.vM=function(t){i.lo(t.jd)},i.dM=function(t){t.type!==ol.nh&&t.type!==ol.th&&i.lo(t)};var r=cy(e.uid);g(r)?i.ny=v_++:i.ny=r,i.Nc=e;var u=Wi.Ud,o=new SO;i.lM=new vI("5.5.1",u,o),i.uC=new eO;var s=new yN(u,i.uC);i.Ud=new WI(s,e.allowMixedContent),i.fB=new WR(e.isEmbeddable,"5.5.1",LR()),i.wM=new TO(u,i.fB,i.lM,o,e,LR()),i.wM.dB().catch(i.fM),i.gM=new DI(n),i.gM.yo("uA",i.vM),i.oC=new NO,i.Hx=new sO,i.Gx=new fO;var a=new JS(n,e,i.Ud,i.uC,i.gM,i.oC);i.uC.MP(a);var c=a;return c=new cO(c,i.yM),c=new hO(c,i.Xx),i.hM=c,i.Kx=new Jm(i.hM),i.Kx._o(i.dM),i.mM=new vO(lu(i)),i._M=new YI(i.Kx,i.Ud,i.uC),i.pM=new wI(lu(i)),i.bM=new xI(i.Kx,e.allowNativeFullscreen),i.kM=new mE(i.bM),i.gM.Pc(),i.sC=new wi(i.gM,i.oC,1,[r_.yv]),i.TM=new gi(i.sC),i.SM=new wO,i}Yi(n,t);var e=n.prototype;return e.wx=function(t){this.Kx.Bw=t,t||this.Lw||this.En()},e.Ax=function(t){this.Kx.Hw=t},e.EM=function(){Bm(this,_E,this)},e.gn=function(){this.Kx.gn()},e.yn=function(){this.Kx.yn()},e.yg=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){switch(r.label){case 0:return t?(e.wM.eD(t).catch(e.fM),i=function(t){t.sources;var n=t.sources.filter((function(t){return hr(t.integration)}));return t.sources=n,t}(t),[4,e.Kx.yg(i,n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},e.En=function(){if(!this.rg){this.Kx.En(),this.TM.En();for(var t=this.Bg.getElementsByTagName("video"),n=0;n<t.length;n++){var e=t[n];"Advertisement"===e.title&&hN(e,Wi.gu)}this.rg=!0}},e.KO=function(){return this.kM.NC()===vE.FULLSCREEN},e.Tg=function(){this.Kx.Tg()},e.Sg=function(){this.Kx.Sg()},e.Eg=function(){return this.Kx.Eg()},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.Kx.wg()];case 1:return n.sent(),[4,t.Kx.Bc()];case 2:return n.sent(),[2]}}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.po(),t.SM.kn(),t.Ud.kn(),t._M.kn(),t.bM.kn(),t.kM.kn(),t.gM.kn(),t.lM.kn(),t.TM.kn(),t.sC.kn(),[4,t.Kx.kn()];case 1:return n.sent(),[2]}}))}))()},Ri(n,[{key:"RM",get:function(){return this.uC}},{key:"cg",get:function(){return this.aM},set:function(t){this.aM=t,this.Kx.cg=t}},{key:"IM",get:function(){return this.TM}},{key:"hg",get:function(){return this.Kx.hg}},{key:"OM",get:function(){return this.SM}},{key:"CM",get:function(){return this.gM}},{key:"lg",get:function(){return this.Kx.lg}},{key:"Fg",get:function(){return this.mM}},{key:"NM",get:function(){return this._M}},{key:"dg",get:function(){return this.Kx.dg}},{key:"DM",get:function(){return this.oC}},{key:"vg",get:function(){return this.Kx.vg}},{key:"Pg",get:function(){return this.Kx.Pg}},{key:"yM",get:function(){return this.Hx}},{key:"Xx",get:function(){return this.Gx}},{key:"Dw",get:function(){return this.Kx.Dw},set:function(t){this.Kx.Dw=t}},{key:"xg",get:function(){return this.Kx.xg},set:function(t){this.Kx.xg=t}},{key:"Dg",get:function(){return this.Kx.Dg}},{key:"Aw",get:function(){return this.Kx.Aw}},{key:"Bg",get:function(){return this.Kx.Bg}},{key:"Pw",get:function(){return this.Kx.Pw}},{key:"Do",get:function(){return this.Kx.Do}},{key:"xw",get:function(){return this.Kx.xw}},{key:"Bw",get:function(){return this.Kx.Bw},set:function(t){var n=Boolean(t);this.wx(n)}},{key:"Lw",get:function(){return this.Kx.Lw}},{key:"Fw",get:function(){return this.Kx.Fw},set:function(t){this.Kx.Fw=t}},{key:"jg",get:function(){return this.Kx.jg}},{key:"Gg",get:function(){return this.Kx.Gg},set:function(t){this.Kx.Gg=VS(t)}},{key:"Yl",get:function(){return this.Kx.Yl}},{key:"Xg",get:function(){return this.Kx.Xg}},{key:"Mw",get:function(){return this.Kx.Mw}},{key:"xl",get:function(){return this.ny}},{key:"Uw",get:function(){return this.Kx.Uw}},{key:"Vw",get:function(){return this.Kx.Vw}},{key:"Hw",get:function(){return this.Kx.Hw},set:function(t){var n=uu(Number(t),0,1)||0;this.Ax(n)}},{key:"Yg",get:function(){return this.Kx.Yg}}]),n}(Ny);ki(),Vt(),(dN=vN||(vN={}))[dN.AM=0]="AM",dN[dN.PM=1]="PM",(wN=lN||(lN={}))[wN.xM=0]="xM";var pN={};function bN(t,n){var e=t;if(pN[n])for(var i=0,r=pN[n];i<r.length;i++){e=(0,r[i])(e)}return e}var kN=[];function TN(t){kN.push(t)}ki(),Vt();var SN=t.CustomEvent;var EN=function(){try{var t=new SN("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var e=i.createEvent("CustomEvent");return e.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),e};ki(),Vt(),ki(),Vt(),Ii();var RN=function(){function t(t,n){var e=this;this.BM=!1,this.LM=function(t){e.FM.KD(t.error,e.Dw)},this.MM=function(){e.FM.XD(e.UM),e.eO.removeEventListener("playing",e.MM),e.BM=!1},this.VM=function(){e.BM||(e.eO.addEventListener("playing",e.MM),e.BM=!0)},this.FM=n,this.eO=t,this.eO.addEventListener("error",this.LM),this.eO.addEventListener("sourcechange",this.VM),this.VM()}return t.prototype.Bc=function(){},Ri(t,[{key:"Dw",get:function(){var t=this.eO.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"UM",get:function(){return this.eO.src||""}}]),t}();TN((function(t){new RN(t.jd,t.lM)})),ki(),Vt();var IN,ON,CN="theoplayer-stored-volume",NN="theoplayer-stored-mutedstate";IN=function(t){return function(t){function n(n,e){var i;if(i=t.call(this,n,e)||this,e.persistVolume){var r=yO.aB(CN);(void 0===r||g(r))&&(r=1);var u=yO.cB(NN)||!1;i.Hw=r,i.Bw=u}return i}Yi(n,t);var e=n.prototype;return e.wx=function(n){this.Nc.persistVolume&&yO.Lf(NN,""+Boolean(n)),t.prototype.wx.call(this,n)},e.Ax=function(n){this.Nc.persistVolume&&yO.Lf(CN,""+Number(n)),t.prototype.Ax.call(this,n)},n}(t)},ON=vN.PM,(pN[ON]||(pN[ON]=[])).push(IN),ki(),Vt(),Ii();var DN=new(function(){function t(){this.HM=[],this.Wd=void 0}var n=t.prototype;return n.ml=function(t){return this.HM[t]},n.qM=function(t){this.HM.push(t),this.jd.push(t.jd)},n.bc=function(t){var n=this.HM.indexOf(t);n<0||(tc(this.HM,n),this.Wd&&tc(this.Wd,n))},n.zM=function(t){for(var n=0,e=this.HM;n<e.length;n++){var i=e[n];if(i.xl===t)return i}},Ri(t,[{key:"Tl",get:function(){return this.HM.length}},{key:"jd",get:function(){return this.Wd||(this.Wd=function(t){for(var n=[],e=0;e<t.Tl;e++)n[e]=t.ml(e).jd;return n.getPlayerByUID=function(n){var e=t.zM(n);return e&&e.jd},n}(this)),this.Wd}}]),t}());ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var AN=function(t){function n(n){var e;return(e=t.call(this,ol.yh)||this).source=n,e}return Yi(n,t),n}(Sc);ki(),Vt(),Ii();var PN=function(t){function n(){var n;return(n=t.call(this)||this).QO=0,n.nC=!0,n.iC=!1,n.eC=1,n}Yi(n,t);var e=n.prototype;return e.gn=function(){this.nC&&(this.nC=!1,this.lo(new lm(this.Dw)),this.lo(new Ub(this.Dw)))},e.yn=function(){this.nC||(this.nC=!0,this.lo(new _m(this.Dw,this.xg)),this.lo(new hm(this.Dw)))},e.Bc=function(){this.QO=0,this.iC=!1,this.eC=1,this.yn(),this.lo(new fm(this.QO))},e.kn=function(){this.po()},e.Sg=function(){},e.Tg=function(){},Ri(n,[{key:"xg",get:function(){},set:function(t){}},{key:"Dw",get:function(){return this.QO},set:function(t){this.iC&&this.QO===t||(this.QO=t,this.iC=!0,this.lo(new km(this.Dw)))}},{key:"Lw",get:function(){return this.nC}},{key:"Fw",get:function(){return this.eC},set:function(t){this.eC!==t&&(this.eC=t,this.lo(new mm(this.Dw,this.Fw)))}},{key:"Yl",get:function(){return Gy.pw}},{key:"Mw",get:function(){return this.iC}}]),n}(Cy);ki(),Vt();var xN=function(t){function n(){return t.call(this,ol.jf)}return Yi(n,t),n}(Sc);ki(),Vt(),Ii(),Ti();var BN,LN={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},FN={visibility:"hidden"},MN={visibility:"visible"},UN=function(){function t(t){var n,e=this;this.WM=!1,this.jM=function(t){var n;e.WM=!1,e.GM=null==(n=t.source)?void 0:n.poster,e.kc()},this.kS=function(){e.WM=!0,e.Sg()},this.eO=t,this.iO(),this.YI=((n=mi&&mi.document&&mi.document.createElement("div")).className="theoplayer-poster",Ds(LN,n),n),t.Bg.appendChild(this.YI)}var n=t.prototype;return n.kc=function(){var t=this.eO.Lw,n=this.WM;this.tv?this.YI.style.backgroundImage='url("'+(this.tv.replace(/[\\"]/g,(function(t){return"\\"+t}))+'")'):this.YI.style.backgroundImage="",t&&this.tv&&!n?this.Tg():this.Sg()},n.Tg=function(){Ds(FN,this.eO.Bg),Ds(MN,this.YI)},n.Sg=function(){Ds(FN,this.YI),Ds(MN,this.eO.Bg)},n.iO=function(){this.eO.yo("sourcechange",this.jM),this.eO.yo("play",this.kS)},n.kn=function(){this.eO.bo("sourcechange",this.jM),this.eO.bo("play",this.kS),Ns(this.YI)},Ri(t,[{key:"tv",get:function(){return void 0!==this.GM?this.GM:void 0!==this.XM?this.XM:void 0}},{key:"YM",set:function(t){this.XM=t,this.kc()}}]),t}();function VN(t){return function(n){function e(e,i){var r;return(r=n.call(this,e)||this).QI=void 0,r.PR=void 0,r.cC=void 0,r.$M=function(t){t.type!==ol.uh&&r.KM.push(t)},r.JM=new t(e,i),r.ZM=new PN,r.eO=r.JM,r.QM=new UN(lu(r)),r.pF=new jd,r.tU=!1,r.KM=[],r.tO=!0,r.iO(),r}Yi(e,n);var i=e.prototype;return i.gf=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){return[2,e.pF.gf(t,n).catch(cc)]}))}))()},i.nU=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:sc(n),e.JM._o(e.$M),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,e.JM.yg(t,n)];case 2:return i.sent(),[3,4];case 3:return e.JM.So(e.$M),[7];case 4:return[2]}}))}))()},i.eU=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:return(n=t.gg())&&!oR(n)&&t.cg&&t.Lw?(e=n.mutedAutoplay||t.Nc.mutedAutoplay,[4,t.IM.Sn(t.Bw)]):[2];case 1:switch(i.sent()){case"all":t.iU();break;case"muted":(t.Bw||e===Cm.ALL)&&(t.Bw=!0,t.gn())}return[2]}}))}))()},i.yg=function(t){var n=this.QI;n&&!oR(n)&&this.lo(new fm(0,0)),this.Bc(),this.QI=t;var e=this;lc(this.gf(ta((function(n){var i;return ea(this,(function(r){switch(r.label){case 0:sc(n),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,e.nU(t,n)];case 2:return r.sent(),[3,5];case 3:return i=r.sent(),e.QI=void 0,e.UR(function(t,n){return t instanceof Md?t:t instanceof f?new Md(n,t.message,t):new Md(n,String(t))}(i,Ad.SOURCE_NOT_SUPPORTED)),[2];case 4:return e.rU(e.JM),[7];case 5:return e.lo(new AN(e.gg())),[4,e.eU()];case 6:return r.sent(),[2]}}))}))))},i.nx=function(t){this.eO.Dw=t},i.sx=function(){var t;return null!=(t=this.cC)?t:this.JM.Do},i.hx=function(){var t;return null!=(t=this.PR)?t:this.JM.xw},i.UR=function(t){void 0===this.hx()&&(this.PR=t,this.cC=i_(t),this.lo(new Om(t)))},i.gn=function(){this.eO.gn()},i.iU=function(){this.Bw||this.En(),this.gn()},i.En=function(){this.JM.En()},i.yn=function(){this.eO.yn()},i.wg=function(){this.yg(void 0)},i.Tg=function(){this.tO=!0,this.eO.Tg()},i.Sg=function(){this.tO=!1,this.eO.Sg()},i.EM=function(){this.JM.EM()},i.Ax=function(t){this.JM.Ax(t)},i.wx=function(t){this.JM.wx(t)},i.uU=function(t){this.oU=t,t.qM(this)},i.KO=function(){return this.JM.KO()},i.gg=function(){return this.QI},i.Eg=function(){return this.JM.Eg()},i.tx=function(){return this.JM.Dw},i.ix=function(){return this.JM.Aw},i.KP=function(){return this.JM.Pg},i.bx=function(){return this.JM.jg},i.Ex=function(){return this.JM.Xg},i.Bc=function(){this.QI=void 0,this.PR=void 0,this.cC=void 0,ec(this.KM),this.ZM.Bc(),this.rU(this.ZM),this.pF.so();var t=this;lc(this.pF.gf(ta((function(n){return ea(this,(function(e){switch(e.label){case 0:return sc(n),[4,t.JM.Bc()];case 1:return e.sent(),[2]}}))}))))},i.kn=function(){this.lo(new xN),this.QM.kn(),this.rO(),this.Bc();var t=this;lc(this.gf(ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.JM.kn()];case 1:return n.sent(),t.oU&&(t.oU.bc(t),t.oU=void 0),t.pF.kn(),[2]}}))})))),this.po()},i.rU=function(t){if(this.eO!==t){var n=this.eO.Lw,e=this.eO.Dw,i=this.eO.Fw,r=this.eO.Mw;this.rO(),t===this.JM?((r||t.Dw!==e)&&(t.Dw=e),t.Fw!==i&&(t.Fw=i),n?t.yn():t.gn()):this.Nc.retainPlaybackRateOnSourceChange?t.Fw=i:1!==i&&this.lo(new mm(this.tx(),1)),this.eO=t,this.iO();for(var u=0,o=this.KM;u<o.length;u++){var s=o[u];this.lo(s)}ec(this.KM),this.tO?t.Tg():t.Sg()}},i.iO=function(){this.eO._o(this.do)},i.rO=function(){this.eO.So(this.do)},i.Gd=function(){return t=this,i=function(n){e=n;var i=_R(n,t.Nc);t.yg(i)},r={get abr(){return t.RM.jd},get audioTracks(){return t.hg.jd},get autoplay(){return t.cg},set autoplay(n){t.cg=Boolean(n)},get buffered(){return t.KP()},get canvas(){return t.pM.jd},get clip(){return t.yM.jd},get currentProgramDateTime(){var n;return null!=(n=t.xg)?n:null},set currentProgramDateTime(n){t.xg=null!=n?n:void 0},get currentTime(){return t.tx()},set currentTime(n){t.nx(Number(n))},get duration(){return t.ix()},get element(){return t.Bg},get ended(){return t.Pw},get error(){return t.sx()},get errorObject(){return t.hx()},get loop(){return t.Xx.Xx},set loop(n){t.Xx.Xx=Boolean(n)},get metrics(){return t.Fg.jd},get muted(){return t.Bw},set muted(n){t.wx(n)},get network(){return t.NM.jd},get paused(){return t.Lw},get playbackRate(){return t.Fw},set playbackRate(n){var e=Number(n);if(e<0)throw new RangeError("playbackRate must be a positive number");t.Fw=e},get played(){return t.bx()},get poster(){return t.sU},set poster(n){t.sU=hy(n)},get preload(){return t.Gg},set preload(n){t.Gg=n},get presentation(){return t.kM.jd},get readyState(){return t.Yl},get seekable(){return t.Ex()},get seeking(){return t.Mw},get source(){return e},set source(t){i(t)},get src(){return sR(t.gg())},set src(t){i({sources:t})},get textTracks(){return t.dg.jd},get textTrackStyle(){return t.DM.jd},get uid(){return t.xl},get videoHeight(){return t.Uw},get videoTracks(){return t.vg.jd},get videoWidth(){return t.Vw},get volume(){return t.Hw},set volume(n){t.Ax(Number(n))},get latency(){return t.Yg.jd},destroy:function(){t.kn(),t=null,e=void 0},play:function(){t.iU()},pause:function(){t.yn()},stop:function(){e=void 0,t.wg()},prepareWithUserAction:function(){t.En()},addEventListener:function(t,e){n.yo(t,e)},removeEventListener:function(t,e){n.bo(t,e)},setSource:function(t){i(t)}},(n=new wE(r,!0)).gC(t),n.yo("destroy",(function(){n.kn()})),r;var t,n,e,i,r},Ri(e,[{key:"lM",get:function(){return this.JM.lM}},{key:"pM",get:function(){return this.JM.pM}},{key:"Nc",get:function(){return this.JM.Nc}},{key:"hM",get:function(){return this.JM.hM}},{key:"Ud",get:function(){return this.JM.Ud}},{key:"pI",get:function(){return this.JM.bM}},{key:"kM",get:function(){return this.JM.kM}},{key:"gM",get:function(){return this.JM.gM}},{key:"Kx",get:function(){return this.JM.Kx}},{key:"RM",get:function(){return this.JM.RM}},{key:"cg",get:function(){return this.JM.cg},set:function(t){this.JM.cg=t,this.eU()}},{key:"IM",get:function(){return this.JM.IM}},{key:"hg",get:function(){return this.JM.hg}},{key:"OM",get:function(){return this.JM.OM}},{key:"CM",get:function(){return this.JM.gM}},{key:"jd",get:function(){return this.Wd||(this.Wd=this.Gd()),this.Wd}},{key:"lg",get:function(){return this.JM.lg}},{key:"Fg",get:function(){return this.JM.Fg}},{key:"NM",get:function(){return this.JM.NM}},{key:"dg",get:function(){return this.JM.dg}},{key:"DM",get:function(){return this.JM.DM}},{key:"vg",get:function(){return this.JM.vg}},{key:"yM",get:function(){return this.JM.yM}},{key:"Xx",get:function(){return this.JM.Xx}},{key:"xg",get:function(){return this.eO.xg},set:function(t){this.eO.xg=t}},{key:"Dg",get:function(){return this.JM.Dg}},{key:"Bg",get:function(){return this.JM.Bg}},{key:"Pw",get:function(){return this.JM.Pw}},{key:"Bw",get:function(){return this.JM.Bw},set:function(t){this.JM.Bw=t}},{key:"Lw",get:function(){return this.eO.Lw}},{key:"sU",get:function(){return this.QM.tv||""},set:function(t){this.QM.YM=t}},{key:"Fw",get:function(){return this.JM.Fw},set:function(t){this.eO.Fw=t}},{key:"Gg",get:function(){return this.JM.Gg},set:function(t){this.JM.Gg=VS(t)}},{key:"Yl",get:function(){return this.eO.Yl}},{key:"Mw",get:function(){return this.eO.Mw}},{key:"xl",get:function(){return this.JM.xl}},{key:"Uw",get:function(){return this.JM.Uw}},{key:"Vw",get:function(){return this.JM.Vw}},{key:"Hw",get:function(){return this.JM.Hw},set:function(t){this.JM.Hw=t}},{key:"Yg",get:function(){return this.JM.Yg}}]),e}(Ny)}function HN(t,n){var e=Pm(n),i=new(BN||(BN=bN(BN=VN(_N),vN.AM),BN=bN(BN,vN.PM)),BN)(t,e),r=i.jd;return i.EM(),i.uU(DN),v.defineProperty(r,"constructor",{value:HN}),r=ny(r),function(t){for(var n=0;n<kN.length;n++)(0,kN[n])(t)}(i),r}dc((function(){t.dispatchEvent&&t.dispatchEvent(EN("theoplayerready"))})),ki(),Vt();var qN={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Uc(t)},n.decode=function(t){return Fc(t)},t}())};ki(),Vt();var zN=JSON.parse("[]"),WN="5.5.1",jN="2023.3.0",GN=DN.jd,XN=gk.lE.registerContentProtectionIntegration.bind(gk.lE);ki(),Vt(),Ti(),ki(),Vt();var YN=function(){};ki(),Vt();var $N=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}();ki(),Vt(),ki(),Vt();var KN=O(Mi());function JN(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],e=0;e<t.length;e++)n[e]={start:t.start(e),end:t.end(e)};return n}(n):n}function ZN(t){return JSON.stringify(t,KN.getSerialize(JN))}ki(),Vt(),ki(),Vt(),Ii();var QN,tD,nD=O(qi()),eD=function(){function t(){}return t.prototype.Ii=function(t){var n=function(t){r[r.length-1].qi(t)},e=new nD.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new cD,r=[i];return e.on("text",(function(t){r.length>1&&n(new sD(t))})),e.on("cdata",(function(t){n(new aD(t))})),e.on("opentag",(function(t){for(var e=t.local,i=t.uri,u=t.prefix,o=new uD({Di:e,Pi:""===i?void 0:i,aU:""===u?void 0:u}),s=t.attributes,a=0,c=v.keys(s);a<c.length;a++){var f=s[c[a]],h=f.prefix,d=f.local,l=f.uri,w=f.value,g=new iD({Di:d,Bi:w,Pi:""===l?void 0:l,aU:""===h?void 0:h});o.cU(g)}n(o),r.push(o)})),e.on("closetag",(function(){r.pop()})),e.on("error",(function(t){throw new yu(t)})),e.write(t).close(),i},t}(),iD=function(){function t(t){this.fU=t.Di,this.g=t.Bi,this.hU=t.Pi,this.vU=t.aU}var n=t.prototype;return n.Ci=function(t){return this===t||!!hD(this,t)&&(this.fU===t.fU&&this.hU===t.hU&&this.vU===t.vU&&this.g===t.g)},n.Ni=function(){return new t({Di:this.Di,Bi:this.Bi,Pi:this.Pi,aU:this.xi})},Ri(t,[{key:"bi",get:function(){return fu.Ti}},{key:"Di",get:function(){return this.fU}},{key:"Ai",get:function(){return void 0===this.vU?this.fU:this.vU+":"+this.fU}},{key:"Pi",get:function(){return this.hU}},{key:"xi",get:function(){return this.vU}},{key:"Bi",get:function(){return this.g}}]),t}(),rD=function(){function t(){this.Li=[]}var n=t.prototype;return n.Mi=function(t){return this.Li.filter((function(n){return fD(n)&&n.Vi===t}))},n.Hi=function(t,n){return this.Li.filter((function(e){return fD(e)&&e.Di===n&&e.Pi===t}))},n.qi=function(t){this.Li.push(t)},Ri(t,[{key:"Ui",get:function(){return this.Li}},{key:"Wi",get:function(){return this.Li.filter(fD)}}]),t}(),uD=function(t){function n(n){var e;return(e=t.call(this)||this).dU=[],e.fU=n.Di,e.hU=n.Pi,e.vU=n.aU,e}Yi(n,t);var e=n.prototype;return e.lU=function(t){for(var n=0,e=this.Ui;n<e.length;n++){var i=e[n];fD(i)?i.lU(t):t.push(i.Qi)}},e.Gi=function(t,n){for(var e=0,i=this.dU;e<i.length;e++){var r=i[e];if(r.Di===n&&r.Pi===t)return r.Bi}},e.ji=function(t){for(var n=0,e=this.dU;n<e.length;n++){var i=e[n];if(i.Ai===t)return i.Bi}},e.cU=function(t){this.dU.push(t)},e.Xi=function(t){for(var n=0;n<this.dU.length;n++)if(this.dU[n].Ai===t)return void this.dU.splice(n,1)},e.Yi=function(t,n){for(var e=0;e<this.dU.length;e++)if(this.dU[e].Di===n&&this.dU[e].Pi===t)return void this.dU.splice(e,1)},e.$i=function(t,n){this.Xi(t),this.cU(new iD({Di:t,Bi:n}))},e.Ki=function(t,n,e){this.Xi(n);var i=n.split(":");this.cU(new iD({Di:i[i.length-1],Bi:e,Pi:t,aU:i.length>1?i[0]:void 0}))},e.Ni=function(t){var e=new n({Di:this.Di,Pi:this.Pi,aU:this.xi});return this.Ji.forEach((function(t){return e.cU(t.Ni())})),t&&this.Ui.forEach((function(n){return e.qi(n.Ni(t))})),e},e.Ci=function(t){return this===t||!!hD(this,t)&&(this.fU===t.fU&&this.vU===t.vU&&this.hU===t.hU&&(vD(this.Ji,t.Ji)&&vD(this.Ui,t.Ui)))},Ri(n,[{key:"bi",get:function(){return fu.ki}},{key:"Ji",get:function(){return this.dU}},{key:"Di",get:function(){return this.fU}},{key:"Pi",get:function(){return this.hU}},{key:"xi",get:function(){return this.vU}},{key:"Vi",get:function(){return void 0===this.vU?this.fU:this.vU+":"+this.fU}},{key:"Zi",get:function(){var t=[];return this.lU(t),t.join("")}}]),n}(rD),oD=function(){function t(t){this.B=t}return Ri(t,[{key:"Qi",get:function(){return this.B}}]),t}(),sD=function(t){function n(n){return t.call(this,n)}Yi(n,t);var e=n.prototype;return e.Ni=function(){return new n(this.Qi)},e.Ci=function(t){return this===t||!!hD(this,t)&&this.Qi===t.Qi},Ri(n,[{key:"bi",get:function(){return fu.Si}}]),n}(oD),aD=function(t){function n(n){return t.call(this,n)}Yi(n,t);var e=n.prototype;return e.Ni=function(){return new n(this.Qi)},e.Ci=function(t){return this===t||!!hD(this,t)&&this.Qi===t.Qi},Ri(n,[{key:"bi",get:function(){return fu.Ei}}]),n}(oD),cD=function(t){function n(){return t.apply(this,arguments)}Yi(n,t);var e=n.prototype;return e.Ni=function(t){var e=new n;return t&&this.Ui.forEach((function(n){return e.qi(n.Ni(t))})),e},e.Ci=function(t){return this===t||!!hD(this,t)&&vD(this.Ui,t.Ui)},Ri(n,[{key:"bi",get:function(){return fu.Ri}},{key:"tr",get:function(){return this.Wi[0]}}]),n}(rD);function fD(t){return du(t)}function hD(t,n){return t.bi===n.bi}function vD(t,n){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!t[e].Ci(n[e]))return!1;return!0}function dD(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:na({},t,{adBreak:na({},t.adBreak,{ads:t.adBreak.ads.map((function(t){t.adBreak;return ck(t,["adBreak"])}))})})}function lD(t){return void 0===t.ads?t:na({},t,{ads:t.ads.map((function(t){t.adBreak;return ck(t,["adBreak"])}))})}function wD(t){return"string"==typeof t.date?new Date(t.date):t.date}function gD(t){var n;return t.cue.track?(n=mD(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=mD(t.cue,""),n}function yD(t){var n=[];return function t(e){if(Array.isArray(e))return e.map(t);if("object"==typeof e&&null!==e&&v.keys(e).length){if(n.includes(e))return"[Circular ~]";n.push(e);var i=v.entries(e);return v.fromEntries(i.map((function(e){var i=ia(e,2),r=i[0],u=i[1],o=t(u);return"object"==typeof u&&null!==u&&"[Circular ~]"!==o&&n.pop(u),[r,o]})))}return e}(t)}function mD(t,n){var e={};switch(e.content=t.content,e.endTime=t.endTime,e.startTime=t.startTime,e.id=t.id,e.uid=t.uid,n){case"webvtt":e.align=t.align,e.line=t.line,e.lineAlign=t.lineAlign,e.position=t.position,e.positionAlign=t.positionAlign,e.region=t.region,e.size=t.size,e.snapToLines=t.snapToLines,e.text=t.text,e.vertical=t.vertical;break;case"ttml":e.content=pD(t.content).innerHTML;for(var i=t.content,r={};i.firstChild&&i.firstChild.outerHTML;){(new eD).Ii(i.firstChild.outerHTML).tr.Ji.forEach((function(t){r[t.Di]=t.Bi})),i=i.firstChild}e.ttmlAttributes=r;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if(kD(s)){var a=_D(s);u[o]={type:"daterange-ca-type_arraybuffer",value:a}}else TD(s)?u[o]={type:"daterange-ca-type_number",value:s}:u[o]={type:"daterange-ca-type_string",value:String(s)}}e.attributedClass=String(t.class),e.startDate=t.startDate,e.endDate=t.endDate,e.duration=t.duration,e.plannedDuration=t.plannedDuration,e.endOnNext=t.endOnNext,e.scte35Cmd=_D(t.scte35Cmd),e.scte35Out=_D(t.scte35Out),e.scte35In=_D(t.scte35In),e.customAttributes=u}return e}function _D(t){if(void 0!==t)return Uc(t)}function pD(t){var n=t.children;if(0!==n.length)for(var e=0;e<n.length;e++){var i=n.item(e);return"image"===i.nodeName||"smpte:image"===i.nodeName?i:pD(i)}}function bD(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var e=[];if(t.cues)for(var i=0;i<t.cues.length;i++){var r=t.cues[i];e.push(mD(r,t.type))}n.cues=e;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(mD(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function kD(t){return"object"==typeof t&&null!==t}function TD(t){return"number"==typeof t}(tD=QN||(QN={})).XF="daterange-ca-type_string",tD.wU="daterange-ca-type_number",tD.gU="daterange-ca-type_arraybuffer";var SD={cue:function(t){var n={};switch(n.date=wD(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=gD(t)}return n},textTrack:function(t){var n={};switch(n.date=wD(t),n.type=t.type,t.type){case"addcue":var e=t.cue;OD().register(e);var i=ID()[CD()].eventListeners;t.cue.addEventListener("enter",(function(t){i.InternalCueHelperEvent(t)})),t.cue.addEventListener("exit",(function(t){i.InternalCueHelperEvent(t)})),t.cue.addEventListener("update",(function(t){i.InternalCueHelperEvent(t)}));case"removecue":case"entercue":case"exitcue":n.cue=gD(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var o=t.track.activeCues[u];r.push(mD(o,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,e={track:bD(t.track),date:wD(t),type:t.type},i=null==(n=t.track)?void 0:n.cues,r=OD();if(i)switch(t.type){case"addtrack":i.forEach(r.register);break;case"removetrack":i.forEach((function(t){return r.remove(t.uid)}))}return e},default:function(t){var n={};switch(n.date=wD(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case ol._h:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=na({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=bD(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=lD(t.ad);break;case"adloaded":case"adimpression":n.ad=dD(t.ad);break;case"adskip":n.ad=dD(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.yU&&(n.yU=t.yU),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=dD(t.ad)}return yD(n)},minimizeCueHelper:function(t){var n={};return n.date=wD(t),n.type=t.type,n.cue=gD(t),n.track={uid:t.cue.track.uid},n},adReplacer:dD,adBreakReplacer:lD,removeCircularReferences:yD},ED=function(){this.stringify=ZN,this.minimize=SD};function RD(){return mi.self}function ID(){return RD().THEOplayerBridge}function OD(){return RD().THEOCueMirrorMap}function CD(){return RD().THEOplayerGlobalID}function ND(){var t=RD();if(t.THEOplayerBridge){var n=new YN;t.THEOplayerBridge=iy(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new YN;t.THEOplayerUtils||(t.THEOplayerUtils=new ED),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new $N)}ND(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii();var DD=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.Ii=function(t){var n,e=new DOMParser;try{n=e.parseFromString(t,"text/xml")}catch(t){throw new yu(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new yu;return new AD(n)},n}(mu),AD=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.Ni=function(t){return new n(this.Fi.cloneNode(t))},Ri(n,[{key:"Ui",get:function(){return void 0===this.Li&&(this.Li=BD(this.Fi.childNodes)),this.Li}},{key:"tr",get:function(){return new PD(this.Fi.documentElement)}}]),n}(Eu),PD=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.Ni=function(t){var e=new n(this.Fi.cloneNode(t));return e.Ji.length<1&&this.Ji.length>0&&this.Ji.forEach((function(t){e.$i(t.Ai,t.Bi)})),e},Ri(n,[{key:"Ui",get:function(){return void 0===this.Li&&(this.Li=BD(this.Fi.childNodes)),this.Li}}]),n}(bu);function xD(t){switch(t.nodeType){case fu.ki:return new PD(t)}return Iu(t)}function BD(t){for(var n=[],e=0;e<t.length;e++){var i=xD(t.item(e));i&&n.push(i)}return n}$i(new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).mU=new DD,n}return Yi(n,t),n.prototype.Ii=function(t){return this.mU.Ii(t)},n}(Fg))),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var LD=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).type=n,i.detail=e,i}return Yi(n,t),n}(Sc),FD=function(t){function n(){return t.apply(this,arguments)}Yi(n,t);var e=n.prototype;return e.dispatchEvent=function(t,n){this.lo(new LD(t,n))},e.addEventListener=function(t,n){this.yo(t,n)},e.removeEventListener=function(t,n){this.bo(t,n)},n}(Ny);ki(),Vt(),Ii();var MD=function(t){function n(n,e){var i;return(i=t.call(this)||this)._U=function(t){i.bU.pU("THEOplayerABRSetTargetBuffer",t.IP),i.lo(t)},i.kU=function(t){i.bU.pU("THEOplayerABRSetStrategy",t.RP),i.lo(t)},i.bU=n,i.TU=e,i.TU.yo("NP",i._U),i.TU.yo("DP",i.kU),i}return Yi(n,t),n.prototype.VP=function(t){return this.TU.VP(t)},Ri(n,[{key:"qP",get:function(){switch(this.RP.type){case GI.PERFORMANCE:return 1;case GI.QUALITY:return 0;case GI.BANDWIDTH:var t;return(null==(t=this.RP.metadata)?void 0:t.bitrate)&&!g(this.RP.metadata.bitrate)?this.RP.metadata.bitrate:0;default:return 0}}},{key:"jd",get:function(){return this.TU.jd}},{key:"RP",get:function(){return this.TU.RP},set:function(t){this.TU.RP=t}},{key:"IP",get:function(){return this.TU.IP},set:function(t){this.TU.IP=t}},{key:"HP",get:function(){return this.TU.HP}},{key:"OP",get:function(){return this.TU.OP},set:function(t){this.TU.OP=t}},{key:"CP",get:function(){return this.TU.CP}},{key:"bP",get:function(){return this.TU.bP}}]),n}(pc);ki(),Vt(),Ii(),ki(),Vt(),Ii();var UD,VD,HD=function(){function t(t,n,e){this.Oc=void 0,this.nf=t,this.qu=e,this._f=n}var n=t.prototype;return n.oS=function(t){throw new f("Not implemented yet.")},n.AF=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){switch(r.label){case 0:return[4,e.qu.zu(t.Bu,n)];case 1:return[4,r.sent().Mc()];case 2:return i=r.sent(),[4,e.SU(i)];case 3:return r.sent(),[2,i]}}))}))()},n.EU=function(t){return!1},n.TF=function(t){return G.resolve(void 0)},n.Qu=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.SU(void 0)];case 1:return n.sent(),[2]}}))}))()},n.SU=function(t){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,n.RU(t)];case 1:return e.sent(),[2]}}))}))()},n.RU=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return(e=n.Oc)?[4,e.xc(n._f)]:[3,2];case 1:i.sent(),n.Oc=void 0,i.label=2;case 2:return t?[4,t.Pc(n._f)]:[3,4];case 3:i.sent(),n.Oc=t,i.label=4;case 4:return[2]}}))}))()},n.iS=function(t,n,e){throw new f("Not implemented yet.")},Ri(t,[{key:"Nc",get:function(){return this.nf}},{key:"Gg",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Xg",get:function(){return new GS([0,1/0])}},{key:"dg",get:function(){throw new f("Not implemented yet.")}},{key:"IU",get:function(){throw new f("Not implemented yet")}},{key:"vg",get:function(){throw new f("Not implemented yet.")}},{key:"OU",get:function(){throw new f("Not implemented yet")}},{key:"CU",get:function(){throw new f("Not implemented yet")}}]),t}();ki(),Vt(),(VD=UD||(UD={})).NU="webkitneedkey",VD.DU="webkitkeymessage",VD.AU="webkitkeyerror",VD.PU="webkitkeyflowdone";var qD=function(t){function n(n,e){var i;return(i=t.call(this,"webkitneedkey")||this).initData=n,i.sessionId=e,i}return Yi(n,t),n}(Sc),zD=function(t){function n(n,e){var i;return(i=t.call(this,"webkitkeymessage")||this).message=n,i.destinationURL=e,i}return Yi(n,t),n}(Sc),WD=function(t){function n(){return t.call(this,"webkitkeyerror")}return Yi(n,t),n}(Sc),jD=function(t){function n(){return t.call(this,"webkitkeyflowdone")}return Yi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),Ii();var GD=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this)||this).zc=n,o.cc=e,o.xU=i,o.pf=r,o.if=u,o.Xc=new Af,o.rf=void 0,o.Zc=new Ac,o.sf=new Af,o.BU=function(t){o.rf?(o.rf.ts(void 0),o.rf=void 0):o.Jc("internal-error"),o.lo(new Cc)},o.LU=function(t){o.lo(new Oc(lu(o),"license-request",Cf(t.message).buffer,t.destinationURL||void 0))},o.FU=function(t){o.rf&&(o.rf.Qo(void 0),o.rf=void 0)},o}Yi(n,t);var e=n.prototype;return e.mc=function(t,n,e){var i=this;return ta((function(){var t;return ea(this,(function(r){switch(r.label){case 0:if(!(t=e&&e.fairplay&&e.fairplay.af))throw new h("Expected FairPlay contentId to be defined but was "+t+".");return[4,i.MU(If(n),t)];case 1:return r.sent(),i.Jc("usable"),i.sf.Qo(),i.sf=new Af,[2]}}))}))()},e._c=function(t){return ta((function(){return ea(this,(function(t){return[2,!0]}))}))()},e.kc=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){if(0===(e=If(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.rf=new Af,n.xU.kc(n.pf,e),[2,n.rf.Zo]}))}))()},e.yc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.sf];case 1:return n.sent(),t.xU.bo(UD.DU,t.LU),t.xU.bo(UD.AU,t.BU),t.xU.bo(UD.PU,t.FU),t.sf.so(),t.Xc.Qo(void 0),[2,t.Xc.Zo]}}))}))()},e.bc=function(){return ta((function(){return ea(this,(function(t){return[2]}))}))()},e.MU=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){return i=Fd(t,n,e.if),e.xU.yo(UD.DU,e.LU),e.xU.yo(UD.AU,e.BU),e.xU.yo(UD.PU,e.FU),e.xU.yF(e.pf,i),[2]}))}))()},e.Jc=function(t){this.Zc.qo(),this.Zc.Ho(Dc,t),this.lo(new Ic(this))},Ri(n,[{key:"Ic",get:function(){return this.pf}},{key:"Ec",get:function(){return NaN}},{key:"Sc",get:function(){return this.Xc.Zo}},{key:"Rc",get:function(){return this.Zc}}]),n}(pc),XD=function(){function t(t,n,e){this.UU=void 0,this.pf=void 0,this.if=void 0,this.xU=t,this.cc=n,this.nf=e;var i=pd(e)||"video/mp4";this.zc=yd(i)}var n=t.prototype;return n.Dc=function(t){var n=this;return ta((function(){var t;return ea(this,(function(e){if(!n.if)throw new Md(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return t=new GD(n.zc,n.cc,n.xU,n.pf,n.if),n.UU=t,[2,t]}))}))()},n.Ac=function(t){return this.if=If(t),G.resolve(!0)},n.Pc=function(t){var n=this;return ta((function(){return ea(this,(function(e){return t.webkitSetMediaKeys(n),[2]}))}))()},n.xc=function(t){return ta((function(){return ea(this,(function(n){return t.webkitSetMediaKeys(null),[2]}))}))()},n.createSession=function(){throw new f("Whoops.")},Ri(t,[{key:"Cc",get:function(){return this.cc}},{key:"Nc",get:function(){return this.nf}},{key:"sessionId",set:function(t){this.pf=t}}]),t}(),YD=function(){function t(t,n,e){this.VU=t,this.cc=n,this.nf=e}var n=t.prototype;return n.Uc=function(){return this.nf},n.Mc=function(){var t=this;return ta((function(){return ea(this,(function(n){return[2,new XD(t.VU,t.cc,t.nf)]}))}))()},Ri(t,[{key:"Cc",get:function(){return this.cc}}]),t}(),$D=function(){function t(t){this.VU=t}return t.prototype.zu=function(t,n){var e=this;return ta((function(){var i,r,u;return ea(this,(function(o){for(i=0;i<n.length;i++)if(r=n[i],u=md(KD,Rc,t,r))return[2,new YD(e.VU,t,u)];throw new h("Unsupported key system configuration for "+t)}))}))()},t}();function KD(t,n){return t===Ia}ki(),Vt();var JD=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.CF=function(t,n){return!0},n}(WC),ZD=function(t){function n(n,e,i){var r;return void 0===i&&(i=new $D(e)),(r=t.call(this)||this).AR=void 0,r.HU=new jd,r.qU=!1,r.ef=null,r.zU={Mg:0,Ug:0,Vg:0,Hg:0,qg:0,zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.WU=function(t){"boolean"==typeof t.detail.casting&&(r.qU=t.detail.casting,r.lo(new R_(r.qU)))},r.jU=function(t){r.pf=t.sessionId,r.ef&&(r.ef.sessionId=r.pf);var n=t.initData;if(n){var e=function(t){try{var n=Sf(t),e=new Df;return yf(mf(ef(n,e,sf(n,e,!0)),!0))}catch(t){return}}(n);if(!e)return;r.lo(new Nc(ya,e))}else r.lo(new Nc(ya,new ArrayBuffer(0)))},r.GU=n,r.VU=e,r.VU.yo(UD.NU,r.jU),r.qu=i,r.XU=new JD(lu(r)),r.YU(),r}Yi(n,t);var e=n.prototype;return e.$U=function(t){for(var n=0;n<t.length;n++){var e=t[n];if(e.xu===Lb.aS)return e}},e.Qu=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.Bc()];case 1:return n.sent(),t.po(),t.KU(),t.VU.bo(UD.NU,t.jU),[4,t.XU.Qu()];case 2:return n.sent(),[2]}}))}))()},e.Sg=function(){throw new f("Not implemented yet")},e.iS=function(t,n,e,i,r,u,o,s){throw new f("Not implemented yet")},e.gI=function(){return!1},e.mI=function(t,n,e,i,r){throw new f("Not implemented yet")},e.oS=function(t){throw new f("Not implemented yet")},e.bI=function(){throw new f("Not implemented yet")},e._c=function(t){var n=this;return ta((function(){return ea(this,(function(e){return[2,n.HU.gf(ta((function(e){var i;return ea(this,(function(r){if(t.xu===Lb.aS)return sc(e),i=new HD(t,n,n.qu),n.AR=i,n.XU._c(i,t),[2,i];throw new f("Could not create non-static media source")}))})))]}))}))()},e.yn=function(){throw new f("Not implemented yet")},e.gn=function(){throw new f("Not implemented yet")},e.Bc=function(){this.HU.so();var t=this;return this.HU.gf(ta((function(){return ea(this,(function(n){switch(n.label){case 0:return void 0===t.AR?[3,2]:[4,t.AR.Qu()];case 1:n.sent(),t.AR=void 0,n.label=2;case 2:return[4,t.XU.Bc()];case 3:return n.sent(),[2]}}))})))},e.Go=function(t,n){throw new f("Not implemented yet")},e.II=function(t){throw new f("Not implemented yet")},e.Tg=function(){throw new f("Not implemented yet")},e.OI=function(){return this.zU},e.YU=function(){this.GU.addEventListener("airPlayIsCasting",this.WU)},e.KU=function(){this.GU.removeEventListener("airPlayIsCasting",this.WU)},e.webkitSetMediaKeys=function(t){this.ef=t||null,this.ef&&(this.ef.sessionId=this.pf)},e.JU=function(){},e.ZU=function(){throw new f("Not implemented yet")},e.QU=function(){throw new f("Not implemented yet")},Ri(n,[{key:"xg",get:function(){throw new f("Not implemented yet")}},{key:"Pg",get:function(){throw new f("Not implemented yet")}},{key:"Dw",get:function(){throw new f("Not implemented yet")}},{key:"CM",get:function(){throw new f("Not implemented yet")}},{key:"Aw",get:function(){throw new f("Not implemented yet")}},{key:"Pw",get:function(){throw new f("Not implemented yet")}},{key:"Do",get:function(){throw new f("Not implemented yet")}},{key:"Pb",get:function(){throw new f("Not implemented yet")}},{key:"Lg",get:function(){return this.qU}},{key:"Bw",get:function(){throw new f("Not implemented yet")}},{key:"Lw",get:function(){throw new f("Not implemented yet")}},{key:"Fw",get:function(){throw new f("Not implemented yet")}},{key:"jg",get:function(){throw new f("Not implemented yet")}},{key:"Yl",get:function(){throw new f("Not implemented yet")}},{key:"Xg",get:function(){throw new f("Not implemented yet")}},{key:"Mw",get:function(){throw new f("Not implemented yet")}},{key:"tV",get:function(){throw new f("Not implemented yet")}},{key:"Hw",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"Hy",get:function(){throw new f("Not implemented yet")}},{key:"pI",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.ef}},{key:"NF",get:function(){return AO}},{key:"dg",get:function(){throw new f("Not implemented yet")}},{key:"DM",get:function(){throw new f("Not implemented yet")}},{key:"CI",get:function(){throw new f("Not implemented yet")}},{key:"nV",get:function(){return!0}},{key:"sI",get:function(){return this.XU.sI},set:function(t){this.XU.sI=t}},{key:"eV",get:function(){},set:function(t){}},{key:"xF",get:function(){return this.XU.xF}}]),n}(Cy);ki(),Vt();var QD=function(t){function n(n){var e;return(e=t.call(this,ol.kh)||this).zU=n,e}return Yi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt();var tA=function(t){function n(n,e){var i,r=nA(e,n.Aw,n.CI,n.iV);return(i=t.call(this,e,r,void 0,!1,n.Pl)||this).rV=n.uV,i.oV=n.CI,i.sV=n.iV,i.Js=n.Aw,i.aV=n.cV,i.fV=Boolean(n.hV),i.vV=n.dV||{},i.lV=n.wV,i.gV=n.yV,i.mV=n._V,i.pV(),i.bV(),i}Yi(n,t);var e=n.prototype;return e.kc=function(t){var n=!1;void 0===this.rV&&void 0!==t.uV&&(n=!0,this.rV=t.uV),void 0===this.sV&&void 0!==t.iV&&(n=!0,this.sV=t.iV),void 0===this.Js&&void 0!==t.Aw&&(n=!0,this.Js=t.Aw),void 0===this.aV&&void 0!==t.cV&&(n=!0,this.aV=t.cV),!this.fV&&t.hV&&(n=!0,this.fV=t.hV),n=this.updateCustomAttributes(t,n),void 0===this.lV&&void 0!==t.wV&&(n=!0,this.lV=t.wV),void 0===this.gV&&void 0!==t.yV&&(n=!0,this.gV=t.yV),void 0===this.mV&&void 0!==t._V&&(n=!0,this.mV=t._V),this.pV(),this.bV(),this.kV(),n&&this.lo(new D_(this))},e.updateCustomAttributes=function(t,n){var e=n;if(t.dV)for(var i=0,r=v.keys(t.dV);i<r.length;i++){var u=r[i];void 0===this.vV[u]&&(e=!0,this.vV[u]=t.dV[u])}return e},e.pV=function(){this.Js&&!this.sV&&(this.sV=new Date(this.oV.getTime()+1e3*this.Js))},e.bV=function(){this.sV&&!this.Js&&(this.Js=cu(this.sV.getTime()-this.oV.getTime()))},e.kV=function(){this.Iy===1/0&&(this.sV||this.Js)&&(this.Iy=nA(this.Ry,this.Js,this.oV,this.sV))},Ri(n,[{key:"jd",get:function(){var t;return this.Wd||(this.Wd=iy(C_(t=this),{get content(){return t.ky},get class(){return t.uV},get startDate(){return t.CI},get endDate(){return t.iV},get duration(){return t.Aw},get plannedDuration(){return t.cV},get endOnNext(){return t.hV},get scte35Cmd(){return t.wV},get scte35Out(){return t.yV},get scte35In(){return t._V},get customAttributes(){return t.dV}})),this.Wd}},{key:"uV",get:function(){return this.rV}},{key:"CI",get:function(){return this.oV}},{key:"iV",get:function(){return this.sV}},{key:"Aw",get:function(){return this.Js}},{key:"cV",get:function(){return this.aV}},{key:"hV",get:function(){return this.fV}},{key:"wV",get:function(){return this.lV}},{key:"yV",get:function(){return this.gV}},{key:"_V",get:function(){return this.mV}},{key:"dV",get:function(){return this.vV}}]),n}(x_);function nA(t,n,e,i){return fr(n)?t+n:i?t+(cu(i.getTime())-cu(e.getTime())):1/0}var eA,iA=function(t){function n(){return t.call(this,void 0,void 0,p_.DATE_RANGE)}Yi(n,t);var e=n.prototype;return e.kc=function(t,n){!function(t,n,e){for(var i=function(e){var i=r[e],u=Ja(n,(function(t){return t.Pl===i.Pl}));u?i.kc(u):t.WT(i)},r=t.$l.kl,u=r.length-1;u>=0;u--)i(u);for(var o=0;o<n.length;o++){var s=n[o],a=s.CI;if(void 0!==a&&!t.pL(s.Pl)){var c=e(a);t.uS(new tA(s,c))}}}(this,function(t){for(var n=ua(),e=[],i=0;i<t.length;i++){var r=t[i];if(n.has(r.Pl)){var u=n.get(r.Pl),o=na({},u,sy(r),{dV:na({},u.dV,r.dV)});n.set(r.Pl,o)}else n.set(r.Pl,r),e.push(r.Pl)}return e.map((function(t){return n.get(t)}))}(t),n)},e.uS=function(n){var e,i,r;e=this.$l.kl,i=n,(r=Za(e,(function(t){return t.uV===i.uV})))&&r.hV&&r.kc({Pl:r.Pl,iV:i.CI}),t.prototype.uS.call(this,n)},n}(NC);function rA(t){switch(t.type){case"daterange-ca-type_string":return t.value;case"daterange-ca-type_number":return cy(t.value);case"daterange-ca-type_arraybuffer":return Fc(t.value);default:return}}function uA(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}ki(),Vt(),function(t){t.XF="daterange-ca-type_string",t.wU="daterange-ca-type_number",t.gU="daterange-ca-type_arraybuffer"}(eA||(eA={})),ki(),Vt(),ki(),Vt(),Ii();var oA=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,r,e,i)||this).XE=n,o.TV=u,o}return Yi(n,t),Ri(n,[{key:"name",get:function(){return this.XE}},{key:"timestamp",get:function(){return this.TV}}]),n}(Md);ki(),Vt();var sA=function(t){function n(n,e,i,r,u,o,s,a){var c;return(c=t.call(this,n,e,i,r,a)||this).url=u,c.status=o,c.errorComment=s,c}return Yi(n,t),n}(oA);ki(),Vt(),Ii();var aA=function(){function t(t,n){this.sg=new wb,this.SV=new EC(t,n)}var n=t.prototype;return n.iS=function(t,n,e,i,r,u,o){var s=new aC(t,n,e,i,r,u,o);return this.sg._l(s),this.SV._l(s),s},n.oS=function(t){this.sg.pl(t),this.SV.pl(t),t.kn()},n.Bc=function(){for(var t=0,n=this.sg.kl.slice();t<n.length;t++){n[t].kn()}this.sg.Bc(),this.SV.Bc()},n.kn=function(){this.Bc(),this.sg.kn(),this.SV.kn()},Ri(t,[{key:"dg",get:function(){return this.sg}}]),t}(),cA=function(t){function n(n,e,i,r,u){var o;(o=t.call(this)||this).QO=0,o.EV=!1,o.PR=void 0,o.xR=void 0,o.nC=!0,o.eC=1,o.RV=GS.YO(),o.IV=GS.YO(),o.tC=!1,o.OV=GS.YO(),o.fL=Gy.pw,o.vS=Gy.pw,o.zU={Mg:0,Ug:0,Vg:0,Hg:0,qg:0,zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.AR=void 0,o.LR=new kS,o.FR=new OS;var s=lu(o);o.setCurrentTime=ta((function(t){return ea(this,(function(n){switch(n.label){case 0:return s.Xg.length?[3,2]:(s.QO=t,[4,s.GU.Eo("seekablechange")]);case 1:n.sent(),n.label=2;case 2:return s.QO=s.updateCurrentTime(t),s.bU.pU("THEOplayerSetCurrentTime",s.QO),s.iC=!0,s.lo(new km(s.QO)),[2]}}))})),o.CV=function(t){if(t.detail){for(var n=t.detail.buffered,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.RV=new GS(e),o.lo(new PO(o.Dw))}},o.NV=function(t){o.fL=t.detail.readyState,o.lo(new Em(+t.detail.currentTime,o.Yl)),o.DV()},o.AV=function(t){o.fL=t.detail.readyState,o.lo(new Rm(+t.detail.currentTime,o.Yl)),o.DV()},o.PV=function(t){if(t.detail){var n=+t.detail.duration;o.Js=n,o.lo(new ym(o.Aw))}},o.xV=function(t){t.detail&&(o.EV=!0,o.lo(new pm(+t.detail.currentTime)))},o.MR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,e=JSON.parse(t.detail.errorObject);uA(n=e)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.xR=new sA(e.name,e.message,void 0,e.code,e.url,e.status,e.errorComment,e.timestamp),o.PR=i_(o.xR),o.lo(new Om(o.xR))):uA(e)&&(o.xR=new oA(e.name,e.message,void 0,e.code,e.timestamp),o.PR=i_(o.xR),o.lo(new Om(o.xR)))}},o.BV=function(t){o.lo(new GO)},o.LV=function(t){o.fL=t.detail.readyState,o.lo(new bm(+t.detail.currentTime,o.Yl)),o.DV()};var a=lu(o);o.FV=ta((function(t){return ea(this,(function(n){switch(n.label){case 0:return a.Xg.length?[3,2]:[4,a.GU.Eo("seekablechange")];case 1:n.sent(),n.label=2;case 2:return a.fL=t.detail.readyState,a.lo(new gm(+t.detail.currentTime,a.Yl)),a.DV(),[2]}}))})),o.MV=function(t){t.detail&&o.nC&&(o.nC=!1,o.lo(new lm(+t.detail.currentTime)))},o.UV=function(t){t.detail&&(o.nC||(o.nC=!0,o.lo(new hm(+t.detail.currentTime))))},o.VV=function(t){if(t.detail){for(var n=t.detail.played,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.OV=new GS(e)}},o.HV=function(t){t.detail&&o.lo(new Vb(+t.detail.currentTime))},o.qV=function(t){t.detail&&(o.eC=t.detail.playbackRate,o.lo(new mm(+t.detail.currentTime,o.eC)))},o.zV=function(t){if(t.detail){for(var n=t.detail.seekable,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.IV=new GS(e)}},o.WV=function(t){t.detail&&(o.QO=+t.detail.currentTime,o.iC=!1,o.lo(new _m(o.QO,o.jV)),o.lo(new Tm(o.QO)))},o.GV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.Js&&(o.EV=!1),o.iC=!0,o.lo(new km(n))}},o.XV=function(t){t.detail&&(t.detail.currentDate&&(o.jV=new Date(1e3*t.detail.currentDate)),o.QO=+t.detail.currentTime,o.lo(new _m(o.QO,o.jV)))},o.YV=function(t){o.$V=t.detail.height,o.KV=t.detail.width},o.JV=function(t){t.detail&&o.lo(new Ub(+t.detail.currentTime))},o.ZV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.hg._l(new w_(n))},o.QV=function(t){for(var n,e,i=t.detail.lang,r=t.detail.label,u=0;u<o.ug.Tl;u++){var s=o.hg.ml(u);s.Fl==i&&s.Ll==r?e=o.ug.ml(u):1==s.Al&&(n=o.ug.ml(u))}e&&n&&(e.Al=!0,n.Al=!1)},o.tH=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.vg._l(new y_(n))},o.nH=function(t){var n,e=t.detail.kind,i=t.detail.type;e===db.Tp&&i===p_.ID3?(n=new DC("",t.detail.label)).ql=py.Wl:e===db.Tp&&i===p_.DATE_RANGE?(n=new iA,o.eH=n):n=new aC(e,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,i),o.iH._l(n),o.SV._l(n)},o.rH=function(t){for(var n=0,e=t.detail;n<e.length;n++){var i=e[n],r=i.Id3FrameId,u=void 0;if("PRIV"===r)u={id:r,ownerIdentifier:i.Id3_PRIV_ownerIdentifier,data:i.Id3_PRIV_data};else if("TXXX"===r||"TXX"===r){u={id:r,text:i.Id3FrameText,description:i.Id3FrameDescription}}else{u={id:r,text:i.Id3FrameText}}var s=new CC(cy(i.startTime),u,i.uid),a=o.uH();a&&a.uS(s)}},o.oH=function(t){for(var n=0,e=t.detail;n<e.length;n++){var i,r=e[n],u=new B_(cy(r.startTime),cy(r.endTime),r.content,!1),s=null!=(i=o.sH(db.bp))?i:o.sH(db.VT);s&&(s.xu=p_.WEBVTT,s.uS(u))}},o.aH=function(t){t.type===ol.qf&&(o.PR=i_(t.errorObject)),o.do(t)},o.cH=function(t){t.detail&&(o.zU.Ug=t.detail.corruptedVideoFrames,o.zU.Mg=t.detail.droppedVideoFrames,o.lo(new QD(o.Fg)))},o.fH=function(t){var n=function(t){var n=t.detail,e=[];return n.forEach((function(t){var n={Pl:t.id};if(void 0!==t.startDate&&(n.CI=new Date(t.startDate)),void 0!==t.endDate&&(n.iV=new Date(t.endDate)),void 0!==t.customAttributes){var i={};for(var r in t.customAttributes){var u=rA(t.customAttributes[r]);void 0!==u&&(i[r]=u)}n.dV=i}void 0!==t.scte35Cmd&&(n.wV=Fc(t.scte35Cmd)),void 0!==t.scte35In&&(n._V=Fc(t.scte35In)),void 0!==t.scte35Out&&(n.yV=Fc(t.scte35Out)),void 0!==t.startTime&&(n.py=t.startTime),n.uV=t.class,n.Aw=cy(t.duration),n.cV=cy(t.plannedDuration),e.push(n)})),e}(t);n.forEach((function(t){var e=null!=t.py?t.py:(new Date).getTime(),i=new tA(t,e);o.eH.uS(i),o.eH.kc(n,e)}))};var c=r.uid;o.bU=o.getSdkBridge(c),o.GU=new FD,ID()[c].sdkEventBus=o.GU,o.ug=new o_,o.og=new o_;var f=o.hH(i);return o.tS=new aA(lu(o),new RC),o.SV=new OC(lu(o)),o.fI=new Nb(o.tS,f),o.iH=new wb,o.vH=new AC(o.tS,o.iH),o.sg=new ES([o.iH,o.fI.yb,o.vH.yb]),o.VU=o.getFairPlayControllerBridge(o.bU),o.eI=new ZD(o.GU,o.VU),o.oI=new TS(f),o.eI.sI=o.oI,o.observeMediaElement(),o.cI(),o.uC=new MD(o.bU,u),o.uC.yo("NP",(function(){o.bU.pU("THEOplayerSetPreferredForwardBufferDuration",o.uC.IP)})),o}Yi(n,t);var e=n.prototype;return e.Rg=function(){return $S},e.Tg=function(){this.bU.pU("THEOplayerShow",{})},e.Sg=function(){this.bU.pU("THEOplayerHide",{})},e.dH=function(){var t=this;this.bU.pU("THEOplayerSetInitialPreferredPeakBitRate",this.uC.qP);var n=function(){t.bU.pU("THEOplayerSetInitialPreferredPeakBitRate",0),t.bo("playing",n)};this.yo("playing",n)},e.yg=function(t,n){var e=this;return ta((function(){var i,r,u;return ea(this,(function(o){switch(o.label){case 0:return e.lH=t,i=na({},n,{sources:{src:t.src,type:Vy.dw,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),e.bU.pU("THEOplayerSourceChange",i),r={xu:Lb.aS,Jl:t.src,Bh:t.type,hI:e.vI(t),dI:t.crossOrigin,lI:n.metadata&&n.metadata.title},e.oI.mR(t.contentProtection),[4,e.eI._c(r)];case 1:return e.AR=o.sent(),n.textTracks&&(u=n.textTracks.filter((function(t){return t.format!==p_.WEBVTT}))).length>0&&e.wI(u),Bb(e.dg),e.dH(),[2]}}))}))()},e.vI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Cc:Na,SI:[{initDataTypes:[Na.Lu],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.gn=function(){this.nC=!1,this.lo(new lm(this.Dw)),this.bU.pU("THEOplayerPlay",{})},e.yn=function(){this.nC=!0,this.lo(new hm(this.Dw)),this.bU.pU("THEOplayerPause",{})},e.Eg=function(){},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.QO=0,t.EV=!1,t.PR=void 0,t.xR=void 0,t.nC=!0,t.eC=1,t.Js=void 0,t.IV=GS.YO(),t.RV=GS.YO(),t.$V=void 0,t.KV=void 0,t.fL=Gy.pw,t.vS=Gy.pw,t.ug.Bc(),t.og.Bc(),t.iH.Bc(),t.sg.Bc(),[4,t.vH.Bc()];case 1:return n.sent(),[4,t.fI.Bc()];case 2:return n.sent(),t.tS.Bc(),t.SV.Bc(),t.lH=void 0,[4,t.eI.Bc()];case 3:return n.sent(),[2]}}))}))()},e._g=function(){this.bU.pU("THEOplayerShowAirPlayPicker",{})},e.pg=function(){this.bU.pU("THEOplayerStopAirPlayPicker",{})},e.updateMetrics=function(t){this.Fg.Ug=t.Ug,this.Fg.Mg=t.Mg},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.Bc()];case 1:return n.sent(),t.po(),t.unobserveMediaElement(),t.TI(),t.eI.sI=void 0,[4,t.eI.Qu()];case 2:return n.sent(),t.ug.kn(),t.og.kn(),t.iH.kn(),t.sg.kn(),[4,t.vH.kn()];case 3:return n.sent(),[4,t.fI.kn()];case 4:return n.sent(),t.tS.kn(),t.SV.kn(),[2]}}))}))()},e.wI=function(t){for(var n=0;n<t.length;n++){var e=t[n];this.fI.eS(e)}},e.DV=function(){var t=this.vS,n=this.fL;t!==n&&(this.vS=n,this.lo(new Im(this.Dw,n)))},e.observeMediaElement=function(){this.eI.yo(ol.Mf,this.do),this.eI.yo([ol.zf,ol.qf],this.aH),this.GU.addEventListener("play",this.MV),this.GU.addEventListener("pause",this.UV),this.GU.addEventListener("seeking",this.GV),this.GU.addEventListener("seeked",this.WV),this.GU.addEventListener("ratechange",this.qV),this.GU.addEventListener("durationchange",this.PV),this.GU.addEventListener("timeupdate",this.XV),this.GU.addEventListener("waiting",this.JV),this.GU.addEventListener("playing",this.HV),this.GU.addEventListener("ended",this.xV),this.GU.addEventListener("loadedmetadata",this.FV),this.GU.addEventListener("loadeddata",this.LV),this.GU.addEventListener("loadstart",this.BV),this.GU.addEventListener("canplay",this.NV),this.GU.addEventListener("canplaythrough",this.AV),this.GU.addEventListener("error",this.MR),this.GU.addEventListener("seekablechange",this.zV),this.GU.addEventListener("videosizechange",this.YV),this.GU.addEventListener("bufferedchange",this.CV),this.GU.addEventListener("playedchange",this.VV),this.GU.addEventListener("metricschange",this.cH),this.GU.addEventListener("addDateRangeCues",this.fH)},e.unobserveMediaElement=function(){this.eI.bo(ol.Mf,this.do),this.eI.bo([ol.zf,ol.qf],this.aH),this.GU.removeEventListener("play",this.MV),this.GU.removeEventListener("pause",this.UV),this.GU.removeEventListener("seeking",this.GV),this.GU.removeEventListener("seeked",this.WV),this.GU.removeEventListener("ratechange",this.qV),this.GU.removeEventListener("durationchange",this.PV),this.GU.removeEventListener("timeupdate",this.XV),this.GU.removeEventListener("waiting",this.JV),this.GU.removeEventListener("playing",this.HV),this.GU.removeEventListener("ended",this.xV),this.GU.removeEventListener("loadedmetadata",this.FV),this.GU.removeEventListener("loadeddata",this.LV),this.GU.removeEventListener("loadstart",this.BV),this.GU.removeEventListener("canplay",this.NV),this.GU.removeEventListener("canplaythrough",this.AV),this.GU.removeEventListener("error",this.MR),this.GU.removeEventListener("seekablechange",this.zV),this.GU.removeEventListener("videosizechange",this.YV),this.GU.removeEventListener("bufferedchange",this.CV),this.GU.removeEventListener("playedchange",this.VV),this.GU.removeEventListener("metricschange",this.cH),this.GU.removeEventListener("addDateRangeCues",this.fH)},e.updateCurrentTime=function(t){var n=this.Xg.start(0),e=this.Xg.end(0);return d.min(d.max(t,n),e)},e.uH=function(){for(var t=0,n=this.sg.kl;t<n.length;t++){var e=n[t];if(e.Bl===db.Tp&&e.xu===p_.ID3)return e}},e.sH=function(t){for(var n=0,e=this.sg.kl;n<e.length;n++){var i=e[n],r=i.ql===py.zl,u=i.Bl===t;if(r&&u)return i}},e.cI=function(){this.GU.addEventListener("addaudiotrack",this.ZV),this.GU.addEventListener("enableaudiotrack",this.QV),this.GU.addEventListener("addvideotrack",this.tH),this.GU.addEventListener("addtexttrack",this.nH),this.GU.addEventListener("addtexttrackid3cues",this.rH),this.GU.addEventListener("addtexttrackcues",this.oH)},e.TI=function(){this.GU.removeEventListener("addaudiotrack",this.ZV),this.GU.removeEventListener("enableaudiotrack",this.QV),this.GU.removeEventListener("addvideotrack",this.tH),this.GU.removeEventListener("addtexttrack",this.nH),this.GU.removeEventListener("addtexttrackid3cues",this.rH),this.GU.removeEventListener("addtexttrackcues",this.oH)},e.Ag=function(){},Ri(n,[{key:"hg",get:function(){return this.ug}},{key:"Pg",get:function(){return this.RV.RI()}},{key:"xg",get:function(){return this.jV?this.jV:null},set:function(t){this.bU.pU("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.jV=t}},{key:"Dw",get:function(){return this.QO},set:function(t){this.setCurrentTime(t)}},{key:"Aw",get:function(){return this.Js}},{key:"Pw",get:function(){return this.EV}},{key:"Do",get:function(){return this.PR}},{key:"xw",get:function(){return this.xR}},{key:"lg",get:function(){}},{key:"Lg",get:function(){return this.eI.Lg}},{key:"Fg",get:function(){return this.zU}},{key:"Bw",get:function(){return this.tC},set:function(t){this.tC!==t&&(this.bU.pU("THEOplayerSetMuted",t),this.tC=t,this.lo(new Sm(this.Dw,t?0:1)))}},{key:"Lw",get:function(){return this.nC}},{key:"Fw",get:function(){return this.eC},set:function(t){this.bU.pU("THEOplayerSetPlaybackRate",t),this.eC=t}},{key:"jg",get:function(){return this.OV.RI()}},{key:"Gg",get:function(){return FS.$I},set:function(t){}},{key:"Yl",get:function(){return this.fL}},{key:"Xg",get:function(){return this.IV.RI()}},{key:"Mw",get:function(){return this.iC}},{key:"CI",get:function(){}},{key:"dg",get:function(){return this.sg}},{key:"Uw",get:function(){return this.$V}},{key:"Vw",get:function(){return this.KV}},{key:"Hw",get:function(){return 1},set:function(t){}},{key:"Yg",get:function(){return this.FR}},{key:"vg",get:function(){return this.og}},{key:"NI",get:function(){return this.LR}},{key:"$g",get:function(){return!1},set:function(t){}},{key:"Wg",get:function(){return!0}}]),n}(Cy),fA=function(){function t(){this.DI=mS.hR}var n=t.prototype;return n.AI=function(n,e){if(n.isAdvertisement)return!1;if(e.vr&&!e.vr.nativeVR&&(e.vr.panoramaMode===UE.PM360||e.vr.panoramaMode===UE.PM180))return!1;if((i=n.type)&&xa(i.toLowerCase(),Vy.hw))return!1;var i,r=n.contentProtection;if(r&&!Sk(r)){if(!Ik(r))return!1;if(!t.wH(r))return!1}return!0},n.xI=function(){return!1},t.wH=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}();ki(),Vt();var hA=function(){function n(t){this.playerID=t}return n.prototype.pU=function(n,e){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var i={body:e,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(i)}},n}();ki(),Vt();var vA=function(t){function n(n){var e;return(e=t.call(this)||this).gH=function(t){var n=Fc(t.detail.initData),i=t.detail.sessionId;e.lo(new qD(n,i))},e.yH=function(t){var n=new y(Wc(t.detail.message)),i=t.detail.destinationURL;e.lo(new zD(n,i))},e.mH=function(t){e.lo(new WD)},e.forwardKeyFlowDone=function(t){e.lo(new jD)},e.bU=n,e.GU=new FD,ID().fairplayController={sdkEventBus:e.GU},e._H(),e}Yi(n,t);var e=n.prototype;return e._H=function(){this.GU.addEventListener(UD.NU,this.gH),this.GU.addEventListener(UD.DU,this.yH),this.GU.addEventListener(UD.AU,this.mH),this.GU.addEventListener(UD.PU,this.forwardKeyFlowDone)},e.yF=function(t,n){var e={playerId:CD(),data:jc(n.buffer),sessionId:t};this.bU.pU("THEOplayerCreateKeySession",e)},e.kc=function(t,n){var e={playerId:CD(),data:jc(n.buffer),sessionId:t};this.bU.pU("THEOplayerUpdateKey",e)},n}(Cy);ki(),Vt();var dA,lA,wA,gA=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.Zh=function(n){if(Rf(n.Lh)){var e=If(n.Lh);n.Lh=gf(e)}return t.prototype.Zh.call(this,n)},n}(gN),yA=function(t){function n(n,e,i,r,u){return t.call(this,n,e,i,r,u)}Yi(n,t);var e=n.prototype;return e.mg=function(){return!1},e.getSdkBridge=function(t){return new hA(t)},e.getFairPlayControllerBridge=function(t){return new vA(t)},e.hH=function(t){return new gA(t)},n}(cA);dA=new(function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.sE=function(t,n,e,i,r,u){return new yA(t,n,e,i,r)},n}(fA)),LS._i.VI(dA),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(wA=lA||(lA={})).Vd="addtrack",wA.qd="removetrack",wA.ol="change",wA.vl="update";var mA=function(t,n,e){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=e,this.type=lA.ol};ki(),Vt();var _A=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=lA.Vd};ki(),Vt();var pA=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=lA.qd};ki(),Vt();var bA=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=lA.vl},kA=function(){function t(t,n,e){var i=this;this.pH=function(t){var n=new mA(i.type,t.track,i.mediaTracks);i.messageDispatcher.bH(n)},this.kH=function(t){var n=new _A(i.type,t.track);i.messageDispatcher.bH(n),t.track.addEventListener("update",i.TH)},this.SH=function(t){var n=new pA(i.type,t.track);i.messageDispatcher.bH(n)},this.TH=function(t){var n=new bA(i.type,t.track);i.messageDispatcher.bH(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=e,this._H()}return t.prototype._H=function(){this.mediaTracks.addEventListener("change",this.pH),this.mediaTracks.addEventListener("addtrack",this.kH),this.mediaTracks.addEventListener("removetrack",this.SH)},t}();ki(),Vt();var TA=function(){function t(t){this.EH=new hA(t)}return t.prototype.bH=function(t){this.EH.pU(t.type,ZN(t))},t}();TN((function(t){if(t.jd.audioTracks){var n=new TA(t.xl);new kA("audio",t.jd.audioTracks,n)}if(t.jd.videoTracks){var e=new TA(t.xl);new kA("video",t.jd.videoTracks,e)}})),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var SA=function(){function t(){this.RH=e.webkit}return t.prototype.pU=function(t,n){this.RH.messageHandlers[t]&&this.RH.messageHandlers[t].postMessage(n)},t}();ki(),Vt(),ki(),Vt(),ki(),Vt();var EA,RA,IA="nativePromiseCallback",OA=function(t){function n(n){var e;return(e=t.call(this,IA)||this).detail=n,e}return Yi(n,t),n}(Sc);(RA=EA||(EA={})).RESOLVE="NATIVE_PROMISE_RESOLVE",RA.REJECT="NATIVE_PROMISE_REJECT";var CA=function(t){function n(){return t.apply(this,arguments)}Yi(n,t);var e=n.prototype;return e.dispatchEvent=function(t,n){this.lo(new OA(n))},e.addEventListener=function(t,n){this.yo(t,n)},e.removeEventListener=function(t,n){this.bo(t,n)},n}(FD),NA=O(Mi()),DA=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var e=t.promisesMap[n.detail.promiseId];if(!e)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case EA.RESOLVE:e.Qo(n.detail.data);break;case EA.REJECT:e.ts(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new CA;ID().nativePromise={sdkEventBus:n},n.addEventListener(IA,this.handleNativePromiseEvent)}return t.prototype.IH=function(n){var e;t.messageIdTracker+=1;var i=t.messageIdTracker.toString(),r=na({},n,{promiseId:i}),u=new Af;return this.promisesMap[i]=u,null==(e=this.EH)||e.pU(n.type,(0,NA.default)(r)),u.Zo},t}();DA.messageIdTracker=-1;var AA=function(t){function n(){var n;return(n=t.call(this)||this).EH=new SA,n}return Yi(n,t),n}(DA);ki(),Vt();var PA,xA,BA=function(t){function n(n){var e;return(e=t.call(this)||this).EH=new hA(n),e}return Yi(n,t),n}(DA);ki(),Vt(),ki(),Vt(),(xA=PA||(PA={})).Vd="TextTrackListAddTrack",xA.qd="TextTrackListRemoveTrack",xA.ol="TextTrackListChange";var LA=function(t){this.textTrack=t,this.type=PA.Vd};ki(),Vt();var FA=function(t){this.textTrack=t,this.type=PA.qd};ki(),Vt();var MA,UA,VA=function(t){this.textTrack=t,this.type=PA.ol};ki(),Vt(),ki(),Vt(),ki(),Vt(),(UA=MA||(MA={})).Yd="TextTrackAddCue",UA.Kd="TextTrackRemoveCue",UA.Zd="TextTrackEnterCue",UA.tl="TextTrackExitCue",UA.il="TextTrackCueChange";var HA=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=MA.Yd};ki(),Vt();var qA=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=MA.Kd};ki(),Vt();var zA=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=MA.Zd};ki(),Vt();var WA=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=MA.tl};ki(),Vt();var jA,GA,XA=function(t){this.textTrackUid=t,this.type=MA.il};ki(),Vt(),ki(),Vt(),ki(),Vt(),(GA=jA||(jA={})).wy="TextTrackCueEnter",GA.yy="TextTrackCueExit",GA.vl="TextTrackCueUpdate";var YA=function(t){this.textTrackCue=t,this.type=jA.wy};ki(),Vt();var $A=function(t){this.textTrackCue=t,this.type=jA.yy};ki(),Vt();var KA=function(t){this.textTrackCue=t,this.type=jA.vl},JA=function(){function t(t){var n=this;this.OH=function(t){var e=ZA(t.cue),i=new YA(e);n.messageDispatcher.IH(i).then()},this.CH=function(t){var e=ZA(t.cue),i=new $A(e);n.messageDispatcher.IH(i).then()},this.NH=function(t){var e=ZA(t.cue),i=new KA(e);n.messageDispatcher.IH(i).then()},this.messageDispatcher=t}var n=t.prototype;return n._H=function(t){t.addEventListener("enter",this.OH),t.addEventListener("exit",this.CH),t.addEventListener("update",this.NH)},n.To=function(t){t.removeEventListener("enter",this.OH),t.removeEventListener("exit",this.CH),t.removeEventListener("update",this.NH)},t}();function ZA(t){var n=mD(t,t.track.type);return delete n.track,n}var QA=function(){function t(t,n){var e=this;this.DH=function(t){var n,i=ZA(t.cue),r=new HA(i,t.cue.track.uid);e.messageDispatcher.IH(r).then(),null==(n=e.textTrackCueBridge)||n._H(t.cue)},this.AH=function(t){var n,i=ZA(t.cue),r=new qA(i,t.cue.track.uid);e.messageDispatcher.IH(r).then(),null==(n=e.textTrackCueBridge)||n.To(t.cue)},this.OH=function(t){var n=ZA(t.cue),i=new zA(n,t.cue.track.uid);e.messageDispatcher.IH(i).then()},this.CH=function(t){var n=ZA(t.cue),i=new WA(n,t.cue.track.uid);e.messageDispatcher.IH(i).then()},this.PH=function(t){var n=new XA(t.track.uid);e.messageDispatcher.IH(n).then()},this.messageDispatcher=t;var i=this.initMessageDispatcher(n);i&&(this.textTrackCueBridge=new JA(i))}var n=t.prototype;return n._H=function(t){t.addEventListener("addcue",this.DH),t.addEventListener("removecue",this.AH),t.addEventListener("entercue",this.OH),t.addEventListener("exitcue",this.CH),t.addEventListener("cuechange",this.PH)},n.To=function(t){t.removeEventListener("addcue",this.DH),t.removeEventListener("removecue",this.AH),t.removeEventListener("entercue",this.OH),t.removeEventListener("exitcue",this.CH),t.removeEventListener("cuechange",this.PH)},n.initMessageDispatcher=function(t){return sr.wi?new AA:sr.gi&&void 0!==t?new BA(t):void 0},t}(),tP=function(){function t(t,n,e){var i=this;this.kH=function(t){var n,e=new LA(t.track);i.messageDispatcher.IH(e).then(),null==(n=i.textTrackBridge)||n._H(t.track)},this.SH=function(t){var n,e=new FA(t.track);i.messageDispatcher.IH(e).then(),null==(n=i.textTrackBridge)||n.To(t.track)},this.xH=function(t){var n=new VA(t.track);i.messageDispatcher.IH(n).then()},this.BH=function(t){var n=t.detail.uid,e=t.detail.mode;i.textTracks.filter((function(t){return t.uid===n}))[0].mode=e},this.textTracks=t,this.messageDispatcher=n;var r=this.LH(e);r&&(this.textTrackBridge=new QA(r,e)),this._H(),this.sdkEventBus=new FD,ID().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.BH)}var n=t.prototype;return n._H=function(){this.textTracks.addEventListener("addtrack",this.kH),this.textTracks.addEventListener("removetrack",this.SH),this.textTracks.addEventListener("change",this.xH)},n.LH=function(t){return sr.wi?new AA:sr.gi&&void 0!==t?new BA(t):void 0},t}();TN((function(t){if(t.jd.textTracks){var n=new BA(t.xl);new tP(t.jd.textTracks,n,t.xl)}})),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var nP,eP,iP,rP=function(t){function n(){return t.apply(this,arguments)}return Yi(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case"registerContentProtectionIntegration":var e={integrationId:n.integrationId,keySystem:n.keySystem};this.lo(new uP(e));break;default:0}},n}(FD),uP=function(t){function n(n){var e;return(e=t.call(this,"registerContentProtectionIntegration")||this).detail=n,e}return Yi(n,t),n}(Sc);(nP||(nP={})).FH="registerContentProtectionIntegration",ki(),Vt(),ki(),Vt(),(iP=eP||(eP={})).MH="certifiateRequest",iP.UH="certifiateResponse",iP.VH="licenseRequest",iP.HH="licenseResponse",iP.qH="extractFairplayContentId",iP.zH="buildContentProtection",iP.WH="registerContentProtectionCallback";var oP,sP,aP=function(t,n){this.value=t,this.integrationId=n,this.type=eP.WH};ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(sP=oP||(oP={})).GALLERY="gallery",sP.OVERLAY="overlay",sP.SPOTLIGHT="spotlight",ki(),Vt();var cP=function(t,n){this.value=t,this.integrationId=n,this.type=eP.zH};ki(),Vt();var fP=function(t,n){this.value=t,this.integrationId=n,this.type=eP.MH};ki(),Vt();var hP=function(t,n){this.value=t,this.integrationId=n,this.type=eP.UH};ki(),Vt();var vP=function(t,n){this.value=t,this.integrationId=n,this.type=eP.qH};ki(),Vt();var dP=function(t,n){this.value=t,this.integrationId=n,this.type=eP.VH};ki(),Vt();var lP=function(t,n){this.value=t,this.integrationId=n,this.type=eP.HH},wP=function(){function t(t,n){this.jH=t,this.aE=n}var n=t.prototype;return n.onCertificateRequest=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:e=n.toCertificateRequestDTO(t),i=new fP(e,n.aE),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.jH.IH(i)];case 2:if(r=s.sent()){if(u=JSON.parse(r),n.GH(u))return[2,na({},u)];if(n.XH(u))return[2,new y(u)]}throw new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 3:throw o=s.sent(),new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,o);case 4:return[2]}}))}))()},n.onCertificateResponse=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:return e=n.toCertificateRequestDTO(t.request),i={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new hP(i,n.aE),[4,n.jH.IH(r)];case 1:if(u=s.sent())return o=JSON.parse(u),[2,new y(o)];throw new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse")}}))}))()},n.onLicenseRequest=function(t){var n=this;return ta((function(){var e,i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:e=n.toCertificateRequestDTO(t),i={url:e.url,method:e.method,headers:e.headers,body:e.body?Array.from(e.body):null,useCredentials:e.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new dP(i,n.aE),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.jH.IH(r)];case 2:if(u=a.sent()){if(o=JSON.parse(u),n.GH(o))return[2,{url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl}];if(n.XH(o))return[2,new y(o)]}throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 3:throw s=a.sent(),new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,s);case 4:return[2]}}))}))()},n.onLicenseResponse=function(t){var n=this;return ta((function(){var e,i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return e=n.toCertificateRequestDTO(t.request),i=na({},e,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new lP(r,n.aE),[4,n.jH.IH(u)];case 1:if(o=a.sent())return s=JSON.parse(o),[2,new y(s)];throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse")}}))}))()},n.extractFairplayContentId=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return e=new vP(t,n.aE),[4,n.jH.IH(e)];case 1:return(i=r.sent())?[2,i]:[2,G.reject(new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId"))]}}))}))()},n.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},n.GH=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},n.XH=function(t){return!!new y(t)},t}(),gP=function(){function t(t){this.jH=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new wP(this.jH,t.integration),e=new cP({drmConfiguration:t},t.integration);return this.jH.IH(e),n},t}(),yP=function(t){function n(n){var e;return(e=t.call(this)||this).jH=new BA(n),e}return Yi(n,t),Ri(n,[{key:"messageDispatcher",get:function(){return this.jH}}]),n}((function(){var t=this;this.YH=function(n){var e=new gP(t.messageDispatcher),i=n.detail,r=i.integrationId,u=i.keySystem,o={state:gk.lE.fE(r,u,e)};t.messageDispatcher.IH(new aP(o,r))},this.GU=new rP,ID().contentProtectionIntegration={sdkEventBus:this.GU},this.GU.addEventListener(nP.FH,this.YH)}));return TN((function(t){new yP(t.jd.uid)})),ki(),Vt(),n.exports}));