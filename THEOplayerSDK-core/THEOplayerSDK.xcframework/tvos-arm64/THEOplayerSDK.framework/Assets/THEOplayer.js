/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 5.4.2 (5.4.2)
 Created: 2023-06-20T15:20:01.378Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,(function(t){"use strict";var n={exports:{}},e=(n.exports,t.window),i=t.document,r=t.location,u=t.navigator,o=t.setTimeout,s=t.clearTimeout,a=t.setInterval,c=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),_=v.create,p=v.defineProperty,b=v.getOwnPropertyDescriptor,k=v.getOwnPropertyNames,T=v.getPrototypeOf,S=v.prototype.hasOwnProperty,E=function(t,n){return function(){return t&&(n=(0,t[k(t)[0]])(t=0)),n}},R=function(t,n){return function(){return n||(0,t[k(t)[0]])((n={exports:{}}).exports,n),n.exports}},I=function(t,n,e,i){if(n&&"object"==typeof n||"function"==typeof n)for(var r,u=k(n),o=0,s=u.length;o<s;o++)r=u[o],S.call(t,r)||r===e||p(t,r,{get:function(t){return n[t]}.bind(null,r),enumerable:!(i=b(n,r))||i.enumerable});return t},O=function(t,n,e){return e=null!=t?_(T(t)):{},I(!n&&t&&t.__esModule?e:p(e,"default",{value:t,enumerable:!0}),t)};function C(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var N,D,A,P,x,B,L,F,M,U,V,H,q,z,W,j,Y,G,X,$=E({"../../../web/node_modules/@swc/helpers/esm/_type_of.js":function(){ki(),Vt()}});function K(t){var n=this.constructor;return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){return n.reject(e)}))}))}function J(t){return new this((function(n,e){if(!t||void 0===t.length)return e(new h((void 0===t?"undefined":C(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var r=i.length;function u(t,e){if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,(function(n){u(t,n)}),(function(e){i[t]={status:"rejected",reason:e},0==--r&&n(i)}))}i[t]={status:"fulfilled",value:e},0==--r&&n(i)}for(var o=0;o<i.length;o++)u(o,i[o])}))}function Z(t){return Boolean(t&&void 0!==t.length)}function Q(){}function tt(t){if(!(this instanceof tt))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],ot(t,this)}function nt(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,tt.R((function(){var e=1===t.o?n.onFulfilled:n.onRejected;if(null!==e){var i;try{i=e(t.g)}catch(t){return void it(n.promise,t)}et(n.promise,i)}else(1===t.o?et:it)(n.promise,t.g)}))):t.p.push(n)}function et(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof tt)return t.o=3,t.g=n,void rt(t);if("function"==typeof e)return void ot((i=e,r=n,function(){i.apply(r,arguments)}),t)}t.o=1,t.g=n,rt(t)}catch(n){it(t,n)}var i,r}function it(t,n){t.o=2,t.g=n,rt(t)}function rt(t){2===t.o&&0===t.p.length&&tt.R((function(){t.l||tt.I(t.g)}));for(var n=0,e=t.p.length;n<e;n++)nt(t,t.p[n]);t.p=null}function ut(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function ot(t,n){var e=!1;try{t((function(t){e||(e=!0,et(n,t))}),(function(t){e||(e=!0,it(n,t))}))}catch(t){if(e)return;e=!0,it(n,t)}}function st(t){return new H(V,{reason:t,promise:D.reject(t).catch((function(){})),cancelable:!0})}function at(t){var n=new q(V,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function ct(t){var n=i.createEvent("CustomEvent");return n.initCustomEvent(V,!1,!0,{reason:t}),n}var ft,ht,vt,dt,lt,wt,gt,yt,mt,_t,pt,bt,kt,Tt,St,Et,Rt,It,Ot,Ct,Nt,Dt,At,Pt,xt,Bt,Lt,Ft,Mt,Ut=E({"../../../web/node_modules/@opentelly/promise-polyfill/dist/index.js":function(){var n,e,i,r,s;ki(),Vt(),$(),N=o,tt.prototype.catch=function(t){return this.then(null,t)},tt.prototype.then=function(t,n){var e=new this.constructor(Q);return nt(this,new ut(t,n,e)),e},tt.prototype.finally=K,tt.all=function(t){return new tt((function(n,e){if(!Z(t))return e(new h("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var r=i.length;function u(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(n){u(t,n)}),e)}i[t]=o,0==--r&&n(i)}catch(t){e(t)}}for(var o=0;o<i.length;o++)u(o,i[o])}))},tt.allSettled=J,tt.resolve=function(t){return t&&"object"==typeof t&&t.constructor===tt?t:new tt((function(n){n(t)}))},tt.reject=function(t){return new tt((function(n,e){e(t)}))},tt.race=function(t){return new tt((function(n,e){if(!Z(t))return e(new h("Promise.race accepts an array"));for(var i=0,r=t.length;i<r;i++)tt.resolve(t[i]).then(n,e)}))},tt.R="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){N(t,0)},tt.I=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},D=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),A=u?u.userAgent:"",P=A.match(/Firefox\/([0-9]+)/i),x=null!=P,B=P?Number(P[1]):0,L=A.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),F=null!=L,M=L?Number(L[3]):0,(n=function(t){this.N=0,this.P=0,this.B=[],this.F=t}).prototype.C=function(t){var n=this.length();this.M(n+1);var e=this.P+n&this.F-1;this.B[e]=t,this.N=n+1},n.prototype.push=function(t){var n=this.length()+1;if(this.F<n)this.C(t);else{var e=this.P+n-1,i=this.F-1;this.B[e&i]=t,this.N=n}},n.prototype.shift=function(){var t=this.P,n=this.B[t];return this.B[t]=void 0,this.P=t+1&this.F-1,this.N--,n},n.prototype.length=function(){return this.N},n.prototype.M=function(t){this.F<t&&this.U(this.F<<1)},n.prototype.U=function(t){var n=this.F;this.F=t;var e=this.P+this.N&n-1;!function(t,n,e,i){for(var r=0;r<i;++r)t[r+e]=t[r+n],t[r+n]=void 0}(this.B,0,n,e)},U=n,V="unhandledrejection",H=t.PromiseRejectionEvent,q=t.CustomEvent,z=function(t){return(z=function(){try{var t=D.resolve(),n="error",e=new H(V,{reason:n,promise:t});return V===e.type&&n===e.reason}catch(t){}return!1}()?st:function(){try{var t="error",n=new q(V,{detail:{reason:t}});return V===n.type&&t===n.detail.reason}catch(t){}return!1}()?at:ct)(t)},j=x&&B<60||F&&M<15,D&&!j?(Y=D,function(){}):(Y=tt,G=null!==(W=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var e=D;if(e&&"function"==typeof e.resolve){var i=e.resolve();return function(t){return i.then(t)}}}())&&void 0!==W?W:tt.R,e=G,i=new U(16),r=!1,(X={H:function(t){i.push(t),r||(r=!0,e(s))},V:s=function(){for(;i.length()>0;)i.shift()();r=!1}}).V,tt.R=X.H,tt.I=function(n){try{var e=z(n);if(!t.dispatchEvent(e)||e.defaultPrevented)return}catch(t){}o((function(){throw new f("Unhandled promise rejection: ".concat(n))}),0)})}}),Vt=E({"../../../web/src/util/polyfill/Promise.ts":function(){Ut()}});function Ht(){}function qt(t){return"object"==typeof t&&null!==t||"function"==typeof t}function zt(t){return t.slice()}function Wt(t){return!1!==function(t){if("number"!=typeof t)return!1;if(ht(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function jt(t,n,e){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,e)}function Yt(t,n,e,i){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new h(r+" is not a method");switch(e){case 0:return function(){return Xt(r,t,i)};case 1:return function(n){var e=[n].concat(i);return Xt(r,t,e)}}}return function(){return Zt(void 0)}}function Gt(t,n,e){var i=t[n];if(void 0!==i)return jt(i,t,e)}function Xt(t,n,e){try{return Zt(jt(t,n,e))}catch(t){return Qt(t)}}function $t(t){if(t=Number(t),ht(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Kt(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new h("size property of a queuing strategy must be a function");return function(n){return t(n)}}function Jt(t){return new dt(t)}function Zt(t){return wt(t)}function Qt(t){return gt(t)}function tn(t,n,e){return lt.call(t,n,e)}function nn(t,n,e){tn(tn(t,n,e),void 0,vt)}function en(t,n){nn(t,n)}function rn(t,n){nn(t,void 0,n)}function un(t,n,e){return tn(t,n,e)}function on(t){tn(t,void 0,vt)}function sn(t,n,e){var i=null;!0===e&&(i=v.prototype);var r=v.create(i);return r.value=t,r.done=n,r}function an(t,n){t.W=!0,t.j=n,n.Y=t,"readable"===n.o?vn(t):"closed"===n.o?function(t){vn(t),wn(t)}(t):dn(t,n.G)}function cn(t,n){return ti(t.j,n)}function fn(t){"readable"===t.j.o?ln(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){dn(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.j.Y=void 0,t.j=void 0}function hn(t){return new h("Cannot "+t+" a stream using a released reader")}function vn(t){t.X=Jt((function(n,e){t.K=n,t.J=e}))}function dn(t,n){vn(t),ln(t,n)}function ln(t,n){on(t.X),t.J(n),t.K=void 0,t.J=void 0}function wn(t){t.K(void 0),t.K=void 0,t.J=void 0}function gn(t,n){void 0===n&&(n=!1);var e=new pt(t);return e.W=n,e}function yn(t){return Jt((function(n,e){var i={Z:n,nt:e};t.Y.et.push(i)}))}function mn(t,n,e){var i=t.Y;i.et.shift().Z(sn(n,e,i.W))}function _n(t){return t.Y.et.length}function pn(t){var n=t.Y;return void 0!==n&&!!bn(n)}function bn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"et")}function kn(t){var n=t.j;return n.it=!0,"closed"===n.o?Zt(sn(void 0,!0,t.W)):"errored"===n.o?Qt(n.G):n.rt[_t]()}function Tn(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}function Sn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"ut")}function En(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Rn(t){var n=t.ot.shift();return t.st-=n.size,t.st<0&&(t.st=0),n.value}function In(t,n,e){if(!Wt(e=Number(e)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.ot.push({value:n,size:e}),t.st+=e}function On(t){t.ot=new yt,t.st=0}function Cn(t){return new It(t)}function Nn(t){t.o="writable",t.G=void 0,t.ct=void 0,t.ft=void 0,t.ht=new yt,t.vt=void 0,t.dt=void 0,t.wt=void 0,t.yt=void 0,t._t=!1}function Dn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"ft")}function An(t){return void 0!==t.ct}function Pn(t,n){var e=t.o;if("closed"===e||"errored"===e)return Zt(void 0);if(void 0!==t.yt)return t.yt.bt;var i=!1;"erroring"===e&&(i=!0,n=void 0);var r=Jt((function(e,r){t.yt={bt:void 0,Z:e,nt:r,kt:n,Tt:i}}));return t.yt.bt=r,!1===i&&Ln(t,n),r}function xn(t){var n=t.o;if("closed"===n||"errored"===n)return Qt(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var e,i=Jt((function(n,e){var i={Z:n,nt:e};t.dt=i})),r=t.ct;return void 0!==r&&!0===t._t&&"writable"===n&&he(r),In(e=t.ft,"close",0),Kn(e),i}function Bn(t,n){"writable"!==t.o?Fn(t):Ln(t,n)}function Ln(t,n){var e=t.ft;t.o="erroring",t.G=n;var i=t.ct;void 0!==i&&Wn(i,n),!1===function(t){if(void 0===t.vt&&void 0===t.wt)return!1;return!0}(t)&&!0===e.St&&Fn(t)}function Fn(t){t.o="errored",t.ft[Et]();var n=t.G;if(t.ht.forEach((function(t){t.nt(n)})),t.ht=new yt,void 0!==t.yt){var e=t.yt;if(t.yt=void 0,!0===e.Tt)return e.nt(n),void Un(t);nn(t.ft[St](e.kt),(function(){e.Z(),Un(t)}),(function(n){e.nt(n),Un(t)}))}else Un(t)}function Mn(t){return void 0!==t.dt||void 0!==t.wt}function Un(t){void 0!==t.dt&&(t.dt.nt(t.G),t.dt=void 0);var n=t.ct;void 0!==n&&ue(n,t.G)}function Vn(t,n){var e=t.ct;void 0!==e&&n!==t._t&&(!0===n?function(t){se(t)}(e):he(e)),t._t=n}function Hn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Et")}function qn(t){return xn(t.Et)}function zn(t,n){"pending"===t.Rt?ue(t,n):function(t,n){re(t,n)}(t,n)}function Wn(t,n){"pending"===t.It?fe(t,n):function(t,n){ae(t,n)}(t,n)}function jn(t){var n=t.Et,e=new h("Writer was released and can no longer be used to monitor the stream's closedness");Wn(t,e),zn(t,e),n.ct=void 0,t.Et=void 0}function Yn(t,n){var e=t.Et,i=e.ft,r=function(t,n){try{return t.Ot(n)}catch(n){return Jn(t,n),1}}(i,n);if(e!==t.Et)return Qt(ee("write to"));var u=e.o;if("errored"===u)return Qt(e.G);if(!0===Mn(e)||"closed"===u)return Qt(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Qt(e.G);var o=function(t){return Jt((function(n,e){var i={Z:n,nt:e};t.ht.push(i)}))}(e);return function(t,n,e){var i={chunk:n};try{In(t,i,e)}catch(n){return void Jn(t,n)}var r=t.Ct;if(!1===Mn(r)&&"writable"===r.o){Vn(r,Zn(t))}Kn(t)}(i,n,r),o}function Gn(t,n,e,i,r,u,o,s){n.Ct=t,t.ft=n,n.ot=void 0,n.st=void 0,On(n),n.St=!1,n.Ot=s,n.Nt=o,n.Dt=i,n.At=r,n.Pt=u;var a=Zn(n);Vn(t,a),nn(Zt(e()),(function(){n.St=!0,Kn(n)}),(function(e){n.St=!0,Bn(t,e)}))}function Xn(t){t.Dt=void 0,t.At=void 0,t.Pt=void 0,t.Ot=void 0}function $n(t){return t.Nt-t.st}function Kn(t){var n=t.Ct;if(!1!==t.St&&void 0===n.vt)if("erroring"!==n.o){if(0!==t.ot.length){var e=t.ot.peek().value;"close"===e?function(t){var n=t.Ct;(function(t){t.wt=t.dt,t.dt=void 0})(n),Rn(t);var e=t.At();Xn(t),nn(e,(function(){!function(t){t.wt.Z(void 0),t.wt=void 0,"erroring"===t.o&&(t.G=void 0,void 0!==t.yt&&(t.yt.Z(),t.yt=void 0)),t.o="closed";var n=t.ct;void 0!==n&&oe(n)}(n)}),(function(t){!function(t,n){t.wt.nt(n),t.wt=void 0,void 0!==t.yt&&(t.yt.nt(n),t.yt=void 0),Bn(t,n)}(n,t)}))}(t):function(t,n){var e=t.Ct;(function(t){t.vt=t.ht.shift()})(e),nn(t.Dt(n),(function(){!function(t){t.vt.Z(void 0),t.vt=void 0}(e);var n=e.o;if(Rn(t),!1===Mn(e)&&"writable"===n){var i=Zn(t);Vn(e,i)}Kn(t)}),(function(n){"writable"===e.o&&Xn(t),function(t,n){t.vt.nt(n),t.vt=void 0,Bn(t,n)}(e,n)}))}(t,e.chunk)}}else Fn(n)}function Jn(t,n){"writable"===t.Ct.o&&Qn(t,n)}function Zn(t){return $n(t)<=0}function Qn(t,n){var e=t.Ct;Xn(t),Ln(e,n)}function te(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ne(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function ee(t){return new h("Cannot "+t+" a stream using a released writer")}function ie(t){t.X=Jt((function(n,e){t.K=n,t.J=e,t.Rt="pending"}))}function re(t,n){ie(t),ue(t,n)}function ue(t,n){on(t.X),t.J(n),t.K=void 0,t.J=void 0,t.Rt="rejected"}function oe(t){t.K(void 0),t.K=void 0,t.J=void 0,t.Rt="resolved"}function se(t){t.xt=Jt((function(n,e){t.Bt=n,t.Lt=e})),t.It="pending"}function ae(t,n){se(t),fe(t,n)}function ce(t){se(t),he(t)}function fe(t,n){on(t.xt),t.Lt(n),t.Bt=void 0,t.Lt=void 0,t.It="rejected"}function he(t){t.Bt(void 0),t.Bt=void 0,t.Lt=void 0,t.It="fulfilled"}function ve(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}function de(t,n,e,i,r,u){var o=gn(t),s=Cn(n);t.it=!0;var a=!1,c=Zt(void 0);return Jt((function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var e=new Nt("Aborted","AbortError"),u=[];!1===i&&u.push((function(){return"writable"===n.o?Pn(n,e):Zt(void 0)})),!1===r&&u.push((function(){return"readable"===t.o?ti(t,e):Zt(void 0)})),p((function(){return Y.all(u.map((function(t){return t()})))}),!0,e)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(_(t,o.X,(function(t){!1===i?p((function(){return Pn(n,t)}),!0,t):b(!0,t)})),_(n,s.X,(function(n){!1===r?p((function(){return ti(t,n)}),!0,n):b(!0,n)})),l=t,w=o.X,g=function(){!1===e?p((function(){return function(t){var n=t.Et,e=n.o;return!0===Mn(n)||"closed"===e?Zt(void 0):"errored"===e?Qt(n.G):qn(t)}(s)})):b()},"closed"===l.o?g():en(w,g),!0===Mn(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");!1===r?p((function(){return ti(t,y)}),!0,y):b(!0,y)}function m(){var t=c;return tn(c,(function(){return t!==c?m():void 0}))}function _(t,n,e){"errored"===t.o?e(t.G):rn(n,e)}function p(t,e,i){function r(){nn(t(),(function(){return k(e,i)}),(function(t){return k(!0,t)}))}!0!==a&&(a=!0,"writable"===n.o&&!1===Mn(n)?en(m(),r):r())}function b(t,e){!0!==a&&(a=!0,"writable"===n.o&&!1===Mn(n)?en(m(),(function(){return k(t,e)})):k(t,e))}function k(t,n){jn(s),fn(o),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}on(Jt((function(t,n){!function e(i){i?t():tn(!0===a?Zt(!0):tn(s.xt,(function(){return tn(kn(o),(function(t){return!0===t.done||(c=tn(Yn(s,t.value),void 0,Ht),!1)}))})),e,n)}(!1)})))}))}function le(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Ft")}function we(t){!1!==ge(t)&&(!0!==t.Mt?(t.Mt=!0,nn(t.Ut(),(function(){t.Mt=!1,!0===t.Vt&&(t.Vt=!1,we(t))}),(function(n){pe(t,n)}))):t.Vt=!0)}function ge(t){var n=t.Ft;return!1!==ke(t)&&(!1!==t.St&&(!0===Qe(n)&&_n(n)>0||be(t)>0))}function ye(t){t.Ut=void 0,t.Ht=void 0,t.Ot=void 0}function me(t){var n=t.Ft;t.qt=!0,0===t.ot.length&&(ye(t),ni(n))}function _e(t,n){var e=t.Ft;if(!0===Qe(e)&&_n(e)>0)mn(e,n,!1);else{var i=void 0;try{i=t.Ot(n)}catch(n){throw pe(t,n),n}try{In(t,n,i)}catch(n){throw pe(t,n),n}}we(t)}function pe(t,n){var e=t.Ft;"readable"===e.o&&(On(t),ye(t),ei(e,n))}function be(t){var n=t.Ft.o;return"errored"===n?null:"closed"===n?0:t.Nt-t.st}function ke(t){var n=t.Ft.o;return!1===t.qt&&"readable"===n}function Te(t,n,e,i,r,u,o){n.Ft=t,n.ot=void 0,n.st=void 0,On(n),n.St=!1,n.qt=!1,n.Vt=!1,n.Mt=!1,n.Ot=o,n.Nt=u,n.Ut=i,n.Ht=r,t.rt=n,nn(Zt(e()),(function(){n.St=!0,we(n)}),(function(t){pe(n,t)}))}function Se(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Ee(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"zt")}function Re(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Wt")}function Ie(t){!1!==function(t){var n=t.zt;if("readable"!==n.o)return!1;if(!0===t.qt)return!1;if(!1===t.St)return!1;if(!0===pn(n)&&_n(n)>0)return!0;if(!0===Ye(n)&&je(n)>0)return!0;if(Ve(t)>0)return!0;return!1}(t)&&(!0!==t.Mt?(t.Mt=!0,nn(t.Ut(),(function(){t.Mt=!1,!0===t.Vt&&(t.Vt=!1,Ie(t))}),(function(n){Ue(t,n)}))):t.Vt=!0)}function Oe(t,n){var e=!1;"closed"===t.o&&(e=!0);var i=Ce(n);"default"===n.readerType?mn(t,i,e):function(t,n,e){var i=t.Y;i.jt.shift().Z(sn(n,e,i.W))}(t,i,e)}function Ce(t){var n=t.bytesFilled,e=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/e)}function Ne(t,n,e,i){t.ot.push({buffer:n,byteOffset:e,byteLength:i}),t.st+=i}function De(t,n){var e=n.elementSize,i=n.bytesFilled-n.bytesFilled%e,r=d.min(t.st,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,o=u-u%e,s=r,a=!1;o>i&&(s=o-n.bytesFilled,a=!0);for(var c,f,h,v,l,w=t.ot;s>0;){var g=w.peek(),m=d.min(s,g.byteLength),_=n.byteOffset+n.bytesFilled;c=n.buffer,f=_,h=g.buffer,v=g.byteOffset,l=m,new y(c).set(new y(h,v,l),f),g.byteLength===m?w.shift():(g.byteOffset+=m,g.byteLength-=m),t.st-=m,Ae(t,m,n),s-=m}return a}function Ae(t,n,e){xe(t),e.bytesFilled+=n}function Pe(t){0===t.st&&!0===t.qt?(Me(t),ni(t.zt)):Ie(t)}function xe(t){void 0!==t.Yt&&(t.Yt.Wt=void 0,t.Yt.Gt=void 0,t.Yt=void 0)}function Be(t){for(;t.Xt.length>0;){if(0===t.st)return;var n=t.Xt.peek();!0===De(t,n)&&(Fe(t),Oe(t.zt,n))}}function Le(t,n){var e=t.Xt.peek();if("closed"===t.zt.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var e=t.zt;if(!0===Ye(e))for(;je(e)>0;)Oe(e,Fe(t))}(t,e)}else!function(t,n,e){if(e.bytesFilled+n>e.byteLength)throw new RangeError("bytesWritten out of range");if(Ae(t,n,e),!(e.bytesFilled<e.elementSize)){Fe(t);var i=e.bytesFilled%e.elementSize;if(i>0){var r=e.byteOffset+e.bytesFilled,u=e.buffer.slice(r-i,r);Ne(t,u,0,u.byteLength)}e.buffer=e.buffer,e.bytesFilled-=i,Oe(t.zt,e),Be(t)}}(t,n,e);Ie(t)}function Fe(t){var n=t.Xt.shift();return xe(t),n}function Me(t){t.Ut=void 0,t.Ht=void 0}function Ue(t,n){var e=t.zt;"readable"===e.o&&(!function(t){xe(t),t.Xt=new yt}(t),On(t),Me(t),ei(e,n))}function Ve(t){var n=t.zt.o;return"errored"===n?null:"closed"===n?0:t.Nt-t.st}function He(t,n,e){var i=v.create(xt.prototype);var r=Yt(n,"pull",0,[i]),u=Yt(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===At(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,e,i,r,u,o){n.zt=t,n.Vt=!1,n.Mt=!1,n.Yt=void 0,n.ot=n.st=void 0,On(n),n.qt=!1,n.St=!1,n.Nt=$t(u),n.Ut=i,n.Ht=r,n.$t=o,n.Xt=new yt,t.rt=n,nn(Zt(e()),(function(){n.St=!0,Ie(n)}),(function(t){Ue(n,t)}))}(t,i,(function(){return Gt(n,"start",[i])}),r,u,e,o)}function qe(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function ze(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function We(t){return Jt((function(n,e){var i={Z:n,nt:e};t.Y.jt.push(i)}))}function je(t){return t.Y.jt.length}function Ye(t){var n=t.Y;return void 0!==n&&!!Ge(n)}function Ge(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"jt")}function Xe(t,n){var e=t.j;return e.it=!0,"errored"===e.o?Qt(e.G):function(t,n){var e=t.zt,i=1;n.constructor!==DataView&&(i=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:i,ctor:r,readerType:"byob"};if(t.Xt.length>0)return t.Xt.push(u),We(e);if("closed"===e.o)return Zt(sn(new r(u.buffer,u.byteOffset,0),!0,e.Y.W));if(t.st>0){if(!0===De(t,u)){var o=Ce(u);return Pe(t),Zt(sn(o,!1,e.Y.W))}if(!0===t.qt){var s=new h("Insufficient bytes to fill elements in the given buffer");return Ue(t,s),Qt(s)}}t.Xt.push(u);var a=We(e);return Ie(t),a}(e.rt,n)}function $e(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Ke(t,n,e,i,r){void 0===i&&(i=1),void 0===r&&(r=function(){return 1});var u=v.create(Lt.prototype);return Je(u),Te(u,v.create(Dt.prototype),t,n,e,i,r),u}function Je(t){t.o="readable",t.Y=void 0,t.G=void 0,t.it=!1}function Ze(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"rt")}function Qe(t){return void 0!==t.Y}function ti(t,n){return t.it=!0,"closed"===t.o?Zt(void 0):"errored"===t.o?Qt(t.G):(ni(t),un(t.rt[mt](n),Ht))}function ni(t){t.o="closed";var n=t.Y;void 0!==n&&(bn(n)&&(n.et.forEach((function(t){t.Z(sn(void 0,!0,n.W))})),n.et=new yt),wn(n))}function ei(t,n){t.o="errored",t.G=n;var e=t.Y;void 0!==e&&(bn(e)?(e.et.forEach((function(t){t.nt(n)})),e.et=new yt):(e.jt.forEach((function(t){t.nt(n)})),e.jt=new yt),ln(e,n))}function ii(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function ri(t,n,e,i,r,u){function o(){return n}t.Kt=function(t,n,e,i,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var o=v.create(Rt.prototype);return Nn(o),Gn(o,v.create(Ot.prototype),t,n,e,i,r,u),o}(o,(function(n){return function(t,n){var e=t.Jt;if(!0===t._t){return un(t.Zt,(function(){var i=t.Kt;if("erroring"===i.o)throw i.G;return vi(e,n)}))}return vi(e,n)}(t,n)}),(function(){return function(t){var n=t.Qt,e=t.Jt,i=e.tn();return fi(e),un(i,(function(){if("errored"===n.o)throw n.G;var t=n.rt;!0===ke(t)&&me(t)}),(function(e){throw oi(t,e),n.G}))}(t)}),(function(n){return function(t,n){return oi(t,n),Zt(void 0)}(t,n)}),e,i),t.Qt=Ke(o,(function(){return function(t){return ai(t,!1),t.Zt}(t)}),(function(n){return si(t,n),Zt(void 0)}),r,u),t._t=void 0,t.Zt=void 0,t.nn=void 0,ai(t,!0),t.Jt=void 0}function ui(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Jt")}function oi(t,n){pe(t.Qt.rt,n),si(t,n)}function si(t,n){fi(t.Jt),Jn(t.Kt.ft,n),!0===t._t&&ai(t,!1)}function ai(t,n){void 0!==t.Zt&&t.nn(),t.Zt=Jt((function(n){t.nn=n})),t._t=n}function ci(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"en")}function fi(t){t.rn=void 0,t.tn=void 0}function hi(t,n){var e=t.en,i=e.Qt.rt;if(!1===ke(i))throw new h("Readable side is not in a state that permits enqueue");try{_e(i,n)}catch(t){throw si(e,t),e.Qt.G}(function(t){return!0!==ge(t)})(i)!==e._t&&ai(e,!0)}function vi(t,n){return un(t.rn(n),void 0,(function(n){throw oi(t.en,n),n}))}function di(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function li(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}var wi,gi,yi,mi,_i,pi,bi=E({"../../../core/node_modules/web-streams-polyfill/dist/ponyfill.mjs":function(){var t;ki(),Vt(),ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"},ht=Number.isNaN||function(t){return t!=t},vt=Ht,dt=Y,lt=Y.prototype.then,wt=Y.resolve.bind(dt),gt=Y.reject.bind(dt),16384,yt=function(){function t(){this.un=0,this.sn=0,this.P={an:[],cn:void 0},this.fn=this.P,this.un=0,this.sn=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.sn},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.fn,e=n;16383===n.an.length&&(e={an:[],cn:void 0}),n.an.push(t),e!==n&&(this.fn=e,n.cn=e),++this.sn},t.prototype.shift=function(){var t=this.P,n=t,e=this.un,i=e+1,r=t.an,u=r[e];return 16384===i&&(n=t.cn,i=0),--this.sn,this.un=i,t!==n&&(this.P=n),r[e]=void 0,u},t.prototype.forEach=function(t){for(var n=this.un,e=this.P,i=e.an;!(n===i.length&&void 0===e.cn||n===i.length&&(n=0,0===(i=(e=e.cn).an).length));)t(i[n]),++n},t.prototype.peek=function(){var t=this.P,n=this.un;return t.an[n]},t}(),mt=ft("[[CancelSteps]]"),_t=ft("[[PullSteps]]"),pt=function(){function t(t){if(!1===Ze(t))throw new h("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Qe(t))throw new h("This stream has already been locked for exclusive reading by another reader");an(this,t),this.et=new yt}return v.defineProperty(t.prototype,"closed",{get:function(){return bn(this)?this.X:Qt(Tn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return bn(this)?void 0===this.j?Qt(hn("cancel")):cn(this,t):Qt(Tn("cancel"))},t.prototype.read=function(){return bn(this)?void 0===this.j?Qt(hn("read from")):kn(this):Qt(Tn("read"))},t.prototype.releaseLock=function(){if(!bn(this))throw Tn("releaseLock");if(void 0!==this.j){if(this.et.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");fn(this)}},t}(),"symbol"==typeof ft.asyncIterator&&((bt={})[ft.asyncIterator]=function(){return this},kt=bt,v.defineProperty(kt,ft.asyncIterator,{enumerable:!1})),Tt={next:function(){if(!1===Sn(this))return Qt(En("next"));var t=this.ut;return void 0===t.j?Qt(hn("iterate")):un(kn(t),(function(n){var e=n.done;return e&&fn(t),sn(n.value,e,!0)}))},return:function(t){if(!1===Sn(this))return Qt(En("next"));var n=this.ut;if(void 0===n.j)return Qt(hn("finish iterating"));if(n.et.length>0)return Qt(new h("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.hn){var e=cn(n,t);return fn(n),un(e,(function(){return sn(t,!0,!0)}))}return fn(n),Zt(sn(t,!0,!0))}},void 0!==kt&&v.setPrototypeOf(Tt,kt),v.defineProperty(Tt,"next",{enumerable:!1}),v.defineProperty(Tt,"return",{enumerable:!1}),St=ft("[[AbortSteps]]"),Et=ft("[[ErrorSteps]]"),Rt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Nn(this);var e=n.size,i=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Kt(e);void 0===i&&(i=1),function(t,n,e,i){var r=v.create(Ot.prototype),u=Yt(n,"write",1,[r]),o=Yt(n,"close",0,[]),s=Yt(n,"abort",1,[]);Gn(t,r,(function(){return Gt(n,"start",[r])}),u,o,s,e,i)}(this,t,i=$t(i),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===Dn(this))throw te("locked");return An(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Dn(this)?Qt(te("abort")):!0===An(this)?Qt(new h("Cannot abort a stream that already has a writer")):Pn(this,t)},t.prototype.close=function(){return!1===Dn(this)?Qt(te("close")):!0===An(this)?Qt(new h("Cannot close a stream that already has a writer")):!0===Mn(this)?Qt(new h("Cannot close an already-closing stream")):xn(this)},t.prototype.getWriter=function(){if(!1===Dn(this))throw te("getWriter");return Cn(this)},t}(),It=function(){function t(t){if(!1===Dn(t))throw new h("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===An(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Et=t,t.ct=this;var n,e=t.o;if("writable"===e)!1===Mn(t)&&!0===t._t?se(this):ce(this),ie(this);else if("erroring"===e)ae(this,t.G),ie(this);else if("closed"===e)ce(this),ie(n=this),oe(n);else{var i=t.G;ae(this,i),re(this,i)}}return v.defineProperty(t.prototype,"closed",{get:function(){return!1===Hn(this)?Qt(ne("closed")):this.X},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Hn(this))throw ne("desiredSize");if(void 0===this.Et)throw ee("desiredSize");return t=this.Et,"errored"===(n=t.o)||"erroring"===n?null:"closed"===n?0:$n(t.ft);var t,n},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return!1===Hn(this)?Qt(ne("ready")):this.xt},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Hn(this)?Qt(ne("abort")):void 0===this.Et?Qt(ee("abort")):function(t,n){return Pn(t.Et,n)}(this,t)},t.prototype.close=function(){if(!1===Hn(this))return Qt(ne("close"));var t=this.Et;return void 0===t?Qt(ee("close")):!0===Mn(t)?Qt(new h("Cannot close an already-closing stream")):qn(this)},t.prototype.releaseLock=function(){if(!1===Hn(this))throw ne("releaseLock");void 0!==this.Et&&jn(this)},t.prototype.write=function(t){return!1===Hn(this)?Qt(ne("write")):void 0===this.Et?Qt(ee("write to")):Yn(this,t)},t}(),Ot=function(){function t(){throw new h("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1==(!!qt(n=this)&&!!v.prototype.hasOwnProperty.call(n,"Ct")))throw new h("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var n;"writable"===this.Ct.o&&Qn(this,t)},t.prototype[St]=function(t){var n=this.Pt(t);return Xn(this),n},t.prototype[Et]=function(){On(this)},t}(),Ct="undefined"!=typeof DOMException?DOMException:void 0,Nt=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Ct)?Ct:((t=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t),Dt=function(){function t(){throw new h}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===le(this))throw Se("desiredSize");return be(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===le(this))throw Se("close");if(!1===ke(this))throw new h("The stream is not in a state that permits close");me(this)},t.prototype.enqueue=function(t){if(!1===le(this))throw Se("enqueue");if(!1===ke(this))throw new h("The stream is not in a state that permits enqueue");return _e(this,t)},t.prototype.error=function(t){if(!1===le(this))throw Se("error");pe(this,t)},t.prototype[mt]=function(t){On(this);var n=this.Ht(t);return ye(this),n},t.prototype[_t]=function(){var t=this.Ft;if(this.ot.length>0){var n=Rn(this);return!0===this.qt&&0===this.ot.length?(ye(this),ni(t)):we(this),Zt(sn(n,!1,t.Y.W))}var e=yn(t);return we(this),e},t}(),At=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&d.floor(t)===t},Pt=function(){function t(){throw new h("ReadableStreamBYOBRequest cannot be used directly")}return v.defineProperty(t.prototype,"view",{get:function(){if(!1===Re(this))throw qe("view");return this.Gt},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Re(this))throw qe("respond");if(void 0===this.Wt)throw new h("This BYOB request has been invalidated");this.Gt.buffer,function(t,n){if(!1===Wt(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Le(t,n)}(this.Wt,t)},t.prototype.respondWithNewView=function(t){if(!1===Re(this))throw qe("respond");if(void 0===this.Wt)throw new h("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");t.buffer,function(t,n){var e=t.Xt.peek();if(e.byteOffset+e.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(e.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");e.buffer=n.buffer,Le(t,n.byteLength)}(this.Wt,t)},t}(),xt=function(){function t(){throw new h("ReadableByteStreamController constructor cannot be used directly")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ee(this))throw ze("byobRequest");if(void 0===this.Yt&&this.Xt.length>0){var t=this.Xt.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),e=v.create(Pt.prototype);!function(t,n,e){t.Wt=n,t.Gt=e}(e,this,n),this.Yt=e}return this.Yt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ee(this))throw ze("desiredSize");return Ve(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ee(this))throw ze("close");if(!0===this.qt)throw new h("The stream has already been closed; do not close it again!");var t=this.zt.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.zt;if(t.st>0)t.qt=!0;else{if(t.Xt.length>0&&t.Xt.peek().bytesFilled>0){var e=new h("Insufficient bytes to fill elements in the given buffer");throw Ue(t,e),e}Me(t),ni(n)}}(this)},t.prototype.enqueue=function(t){if(!1===Ee(this))throw ze("enqueue");if(!0===this.qt)throw new h("stream is closed or draining");var n=this.zt.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new h("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var e=t.zt,i=n.buffer,r=n.byteOffset,u=n.byteLength,o=i;!0===pn(e)?0===_n(e)?Ne(t,o,r,u):mn(e,new y(o,r,u),!1):!0===Ye(e)?(Ne(t,o,r,u),Be(t)):Ne(t,o,r,u),Ie(t)}(this,t)},t.prototype.error=function(t){if(!1===Ee(this))throw ze("error");Ue(this,t)},t.prototype[mt]=function(t){this.Xt.length>0&&(this.Xt.peek().bytesFilled=0);On(this);var n=this.Ht(t);return Me(this),n},t.prototype[_t]=function(){var t=this.zt;if(this.st>0){var n=this.ot.shift();this.st-=n.byteLength,Pe(this);var e=void 0;try{e=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Qt(t)}return Zt(sn(e,!1,t.Y.W))}var i=this.$t;if(void 0!==i){var r=void 0;try{r=new ArrayBuffer(i)}catch(t){return Qt(t)}var u={buffer:r,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Xt.push(u)}var o=yn(t);return Ie(this),o},t}(),Bt=function(){function t(t){if(!Ze(t))throw new h("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ee(t.rt))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Qe(t))throw new h("This stream has already been locked for exclusive reading by another reader");an(this,t),this.jt=new yt}return v.defineProperty(t.prototype,"closed",{get:function(){return Ge(this)?this.X:Qt($e("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ge(this)?void 0===this.j?Qt(hn("cancel")):cn(this,t):Qt($e("cancel"))},t.prototype.read=function(t){return Ge(this)?void 0===this.j?Qt(hn("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Qt(new h("view must have non-zero byteLength")):Xe(this,t)):Qt(new h("view must be an array buffer view")):Qt($e("read"))},t.prototype.releaseLock=function(){if(!Ge(this))throw $e("releaseLock");if(void 0!==this.j){if(this.jt.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");fn(this)}},t}(),Lt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Je(this);var e=n.size,i=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==e)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===i&&(i=0),He(this,t,i=$t(i))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var u=Kt(e);void 0===i&&(i=1),function(t,n,e,i){var r=v.create(Dt.prototype),u=Yt(n,"pull",0,[r]),o=Yt(n,"cancel",1,[]);Te(t,r,(function(){return Gt(n,"start",[r])}),u,o,e,i)}(this,t,i=$t(i),u)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ze(this))throw ii("locked");return Qe(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Ze(this)?Qt(ii("cancel")):!0===Qe(this)?Qt(new h("Cannot cancel a stream that already has a reader")):ti(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Ze(this))throw ii("getReader");if(void 0===n)return gn(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var e=new Bt(t);return e.W=n,e}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var e=t.writable,i=t.readable,r=void 0===n?{}:n,u=r.preventClose,o=r.preventAbort,s=r.preventCancel,a=r.signal;if(!1===Ze(this))throw ii("pipeThrough");if(!1===Dn(e))throw new h("writable argument to pipeThrough must be a WritableStream");if(!1===Ze(i))throw new h("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==a&&!ve(a))throw new h("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Qe(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===An(e))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return on(de(this,e,u,o,s,a)),i},t.prototype.pipeTo=function(t,n){var e=void 0===n?{}:n,i=e.preventClose,r=e.preventAbort,u=e.preventCancel,o=e.signal;return!1===Ze(this)?Qt(ii("pipeTo")):!1===Dn(t)?Qt(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(i=Boolean(i),r=Boolean(r),u=Boolean(u),void 0===o||ve(o)?!0===Qe(this)?Qt(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===An(t)?Qt(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):de(this,t,i,r,u,o):Qt(new h("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Ze(this))throw ii("tee");var t=function(t,n){var e,i,r,u,o,s=gn(t),a=!1,c=!1,f=!1,h=Jt((function(t){o=t}));function v(){return!0===a||(a=!0,on(un(kn(s),(function(t){if(a=!1,!0===t.done)return!1===c&&me(r.rt),void(!1===f&&me(u.rt));var n=t.value,e=n,i=n;!1===c&&_e(r.rt,e),!1===f&&_e(u.rt,i)})))),Zt(void 0)}function d(){}return r=Ke(d,v,(function(n){if(c=!0,e=n,!0===f){var r=zt([e,i]),u=ti(t,r);o(u)}return h})),u=Ke(d,v,(function(n){if(f=!0,i=n,!0===c){var r=zt([e,i]),u=ti(t,r);o(u)}return h})),rn(s.X,(function(t){pe(r.rt,t),pe(u.rt,t)})),[r,u]}(this);return zt(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,e=void 0!==n&&n;if(!1===Ze(this))throw ii("getIterator");return function(t,n){void 0===n&&(n=!1);var e=gn(t),i=v.create(Tt);return i.ut=e,i.hn=Boolean(n),i}(this,e)},t}(),"symbol"==typeof ft.asyncIterator&&v.defineProperty(Lt.prototype,ft.asyncIterator,{value:Lt.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0}),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Ft=function(){function t(t,n,e){void 0===t&&(t={}),void 0===n&&(n={}),void 0===e&&(e={});var i=n.size,r=n.highWaterMark,u=e.size,o=e.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=Kt(i);if(void 0===r&&(r=1),r=$t(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=Kt(u);void 0===o&&(o=0),o=$t(o),ri(this,Jt((function(t){a=t})),r,s,o,c),function(t,n){var e=v.create(Mt.prototype),i=function(t){try{return hi(e,t),Zt(void 0)}catch(t){return Qt(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new h("transform is not a method");i=function(t){return Xt(r,n,[t,e])}}var u=Yt(n,"flush",0,[e]);!function(t,n,e,i){n.en=t,t.Jt=n,n.rn=e,n.tn=i}(t,e,i,u)}(this,t);var f=Gt(t,"start",[this.Jt]);a(f)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!1===ui(this))throw li("readable");return this.Qt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!1===ui(this))throw li("writable");return this.Kt},enumerable:!0,configurable:!0}),t}(),Mt=function(){function t(){throw new h("TransformStreamDefaultController instances cannot be created directly")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ci(this))throw di("desiredSize");return be(this.en.Qt.rt)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ci(this))throw di("enqueue");hi(this,t)},t.prototype.error=function(t){if(!1===ci(this))throw di("error");var n;n=t,oi(this.en,n)},t.prototype.terminate=function(){if(!1===ci(this))throw di("terminate");var t,n;t=this.en,!0===ke(n=t.Qt.rt)&&me(n),si(t,new h("TransformStream terminated"))},t}()}}),ki=E({"../../../core/src/util/polyfill/ReadableStream.ts":function(){bi()}});var Ti=E({"../../../web/src/dom/DOMEnvironment.ts":function(){ki(),Vt()}}),Si=R({"src/tvOS/DOMEnvironment.ts":function(n){ki(),Vt(),Ti();var e,i={vn:function(){function t(){this.dn=[]}var n=t.prototype;return n.ln=function(){},n.wn=function(t){return{gn:function(){return Y.resolve()},yn:function(){}}},n.mn=function(t){throw new f("Not implemented")},n._n=function(t){return Y.resolve()},n.pn=function(t){return Y.resolve()},n.bn=function(t){},n.kn=function(){},t}(),Tn:function(){function t(){}var n=t.prototype;return n.Sn=function(){return Y.resolve("all")},n.En=function(){},n.kn=function(){},t}(),Rn:{In:function(t){getActiveDocument().addEventListener("unload",t)},On:function(t){getActiveDocument().removeEventListener("unload",t)}},Cn:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:n,parent:n,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};Element.prototype.style={},wi=(e=i).vn,gi=e.Tn,yi=e.Rn,mi=e.Cn,_i=mi&&mi.location,pi=mi&&mi.navigator}});function Ei(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function Ri(t,n,e){return n&&Ei(t.prototype,n),e&&Ei(t,e),t}var Ii=E({"../../../web/node_modules/@swc/helpers/esm/_create_class.js":function(){ki(),Vt()}});function Oi(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var Ci=E({"../../../web/node_modules/@swc/helpers/esm/_array_like_to_array.js":function(){ki(),Vt()}});var Ni=E({"../../../web/node_modules/@swc/helpers/esm/_array_without_holes.js":function(){ki(),Vt(),Ci()}});var Di=E({"../../../web/node_modules/@swc/helpers/esm/_iterable_to_array.js":function(){ki(),Vt()}});var Ai=E({"../../../web/node_modules/@swc/helpers/esm/_non_iterable_spread.js":function(){ki(),Vt()}});function Pi(t,n){if(t){if("string"==typeof t)return Oi(t,n);var e=v.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Oi(t,n):void 0}}var xi=E({"../../../web/node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js":function(){ki(),Vt(),Ci()}});function Bi(t){return function(t){if(Array.isArray(t))return Oi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Pi(t)||function(){throw new h("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Li,Fi=E({"../../../web/node_modules/@swc/helpers/esm/_to_consumable_array.js":function(){ki(),Vt(),Ni(),Di(),Ai(),xi()}}),Mi=R({"../../node_modules/json-stringify-safe/stringify.js":function(t,n){function e(t,n){var e=[],i=[];return null==n&&(n=function(t,n){return e[0]===n?"[Circular ~]":"[Circular ~."+i.slice(0,e.indexOf(n)).join(".")+"]"}),function(r,u){if(e.length>0){var o=e.indexOf(this);~o?e.splice(o+1):e.push(this),~o?i.splice(o,1/0,r):i.push(r),~e.indexOf(u)&&(u=n.call(this,r,u))}else e.push(u);return null==t?u:t.call(this,r,u)}}ki(),Vt(),(n.exports=function(t,n,i,r){return JSON.stringify(t,e(n,r),i)}).getSerialize=e}}),Ui=R({"../../../core/node_modules/xmlchars/xml/1.0/ed5.js":function(t){ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),Vi=R({"../../../core/node_modules/xmlchars/xml/1.1/ed2.js":function(t){ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),Hi=R({"../../../core/node_modules/xmlchars/xmlns/1.0/ed3.js":function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),qi=R({"../../../core/node_modules/saxes/saxes.js":function(t){ki(),Vt(),Ii(),Fi(),v.defineProperty(t,"__esModule",{value:!0}),t.SaxesParser=t.EVENTS=void 0;var n=Ui(),e=Vi(),i=Hi(),r=n.isS,u=n.isChar,o=n.isNameStartChar,s=n.isNameChar,a=n.S_LIST,c=n.NAME_RE,h=e.isChar,d=i.isNCNameStartChar,w=i.isNCNameChar,g=i.NC_NAME_RE,y="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",_={__proto__:null,xml:y,xmlns:m},p={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b=-1,k=-2,T=13,S=33,E=10,R=60,I=61,O=62,C=63,N=93,D=function(t){return 34===t||39===t},A=[34,39],P=Bi(A).concat([91,O]),x=Bi(A).concat([R,N]),B=[I,C].concat(Bi(a)),L=Bi(a).concat([O,38,R]);function F(t,n,e){switch(n){case"xml":e!==y&&t.fail("xml prefix must be bound to "+y+".");break;case"xmlns":e!==m&&t.fail("xmlns prefix must be bound to "+m+".")}switch(e){case m:t.fail(""===n?"the default namespace may not be set to "+e+".":'may not assign a prefix (even "xmlns") to the URI '+m+".");break;case y:switch(n){case"xml":break;case"":t.fail("the default namespace may not be set to "+e+".");break;default:t.fail("may not assign the xml namespace to another prefix.")}}}var M=function(t){return g.test(t)},U=function(t){return c.test(t)};t.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var V={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"},H=function(){function t(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;var n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=d,this.nameCheck=w,this.isName=M,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},_);var e=this.opt.additionalNamespaces;null!=e&&(!function(t,n){for(var e=0,i=v.keys(n);e<i.length;e++){var r=i[e];F(t,r,n[r])}}(this,e),v.assign(this.ns,e))}else this.nameStartCheck=o,this.nameCheck=s,this.isName=U,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}var n=t.prototype;return n._init=function(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];var n=this.fragmentOpt;this.state=n?T:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;var e=this.opt.defaultXMLVersion;if(void 0===e){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");e="1.0"}this.setXMLVersion(e),this.positionAtNewLine=0,this.doctype=!1,this.Nn=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(p),null===(t=this.readyHandler)||void 0===t||t.call(this)},n.on=function(t,n){this[V[t]]=n},n.off=function(t){this[V[t]]=void 0},n.makeError=function(t){var n,e=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(e.length>0&&(e+=":"),e+=this.line+":"+this.column),e.length>0&&(e+=": "),new f(e+t)},n.fail=function(t){var n=this.makeError(t),e=this.errorHandler;if(void 0===e)throw n;return e(n),this},n.write=function(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");var n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=""+this.carriedFromPrevious+t,this.carriedFromPrevious=void 0);var e=t.length,i=t.charCodeAt(e-1);!n&&(13===i||i>=55296&&i<=56319)&&(this.carriedFromPrevious=t[e-1],e--,t=t.slice(0,e));var r=this.stateTable;for(this.chunk=t,this.i=0;this.i<e;)r[this.state].call(this);return this.chunkPosition+=e,n?this.end():this},n.close=function(){return this.write(null)},n.getCode10=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return b;var e=t.charCodeAt(n);if(this.column++,e<55296){if(e>=32||9===e)return e;switch(e){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:return t.charCodeAt(n+1)===E&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),e}}if(e>56319)return e>=57344&&e<=65533||this.fail("disallowed character."),e;var i=65536+1024*(e-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i},n.getCode11=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return b;var e=t.charCodeAt(n);if(this.column++,e<55296){if(e>31&&e<127||e>159&&8232!==e||9===e)return e;switch(e){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:var i=t.charCodeAt(n+1);i!==E&&133!==i||(this.i=n+2);case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),e}}if(e>56319)return e>=57344&&e<=65533||this.fail("disallowed character."),e;var r=65536+1024*(e-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r},n.getCodeNorm=function(){var t=this.getCode();return t===k?E:t},n.unget=function(){this.i=this.prevI,this.column--},n.captureTo=function(t){for(var n=this.i,e=this.chunk;;){var i=this.getCode(),r=i===k,u=r?E:i;if(u===b||t.includes(u))return this.text+=e.slice(n,this.prevI),u;r&&(this.text+=e.slice(n,this.prevI)+"\n",n=this.i)}},n.captureToChar=function(t){for(var n=this.i,e=this.chunk;;){var i=this.getCode();switch(i){case k:this.text+=e.slice(n,this.prevI)+"\n",n=this.i,i=E;break;case b:return this.text+=e.slice(n),!1}if(i===t)return this.text+=e.slice(n,this.prevI),!0}},n.captureNameChars=function(){for(var t=this.chunk,n=this.i;;){var e=this.getCode();if(e===b)return this.name+=t.slice(n),b;if(!s(e))return this.name+=t.slice(n,this.prevI),e===k?E:e}},n.skipSpaces=function(){for(;;){var t=this.getCodeNorm();if(t===b||!r(t))return t}},n.setXMLVersion=function(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)},n.sBegin=function(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1},n.sBeginWhitespace=function(){var t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case R:if(this.state=15,0!==this.text.length)throw new f("no-empty text at start");break;case b:break;default:this.unget(),this.state=T,this.xmlDeclPossible=!1}},n.sDoctype=function(){var t,n=this.captureTo(P);switch(n){case O:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=T,this.doctype=!0;break;case b:break;default:this.text+=String.fromCodePoint(n),91===n?this.state=4:D(n)&&(this.state=3,this.q=n)}},n.sDoctypeQuote=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)},n.sDTD=function(){var t=this.captureTo(x);t!==b&&(this.text+=String.fromCodePoint(t),t===N?this.state=2:t===R?this.state=6:D(t)&&(this.state=5,this.q=t))},n.sDTDQuoted=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)},n.sDTDOpenWaka=function(){var t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case C:this.state=11;break;default:this.state=4}},n.sDTDOpenWakaBang=function(){var t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?8:4,this.openWakaBang="")},n.sDTDComment=function(){this.captureToChar(45)&&(this.text+="-",this.state=9)},n.sDTDCommentEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8},n.sDTDCommentEnded=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===O?this.state=4:(this.fail("malformed comment."),this.state=8)},n.sDTDPI=function(){this.captureToChar(C)&&(this.text+="?",this.state=12)},n.sDTDPIEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===O&&(this.state=4)},n.sText=function(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()},n.sEntity=function(){var t=this.i,n=this.chunk;t:for(;;)switch(this.getCode()){case k:this.entity+=n.slice(t,this.prevI)+"\n",t=this.i;break;case 59:var e=this.entityReturnState,i=this.entity+n.slice(t,this.prevI);this.state=e;var r=void 0;""===i?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(i),this.entity=""),e===T&&void 0===this.textHandler||(this.text+=r);break t;case b:this.entity+=n.slice(t);break t}},n.sOpenWaka=function(){var t=this.getCode();if(o(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case C:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=T,this.xmlDeclPossible=!1}},n.sOpenWakaBang=function(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}},n.sComment=function(){this.captureToChar(45)&&(this.state=18)},n.sCommentEnding=function(){var t,n=this.getCodeNorm();45===n?(this.state=19,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(n),this.state=17)},n.sCommentEnded=function(){var t=this.getCodeNorm();t!==O?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(t),this.state=17):this.state=T},n.sCData=function(){this.captureToChar(N)&&(this.state=21)},n.sCDataEnding=function(){var t=this.getCodeNorm();t===N?this.state=22:(this.text+="]"+String.fromCodePoint(t),this.state=20)},n.sCDataEnding2=function(){var t,n=this.getCodeNorm();switch(n){case O:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=T;break;case N:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(n),this.state=20}},n.sPIFirstChar=function(){var t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):t===C||r(t)?(this.fail("processing instruction without a target."),this.state=t===C?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)},n.sPIRest=function(){for(var t=this.chunk,n=this.i;;){var e=this.getCodeNorm();if(e===b)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);var i=e===C;i||r(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=i?S:27):this.state=i?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}},n.sPIBody=function(){if(0===this.text.length){var t=this.getCodeNorm();t===C?this.state=26:r(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(C)&&(this.state=26)},n.sPIEnding=function(){var t,n=this.getCodeNorm();if(n===O){var e=this.piTarget;"xml"===e.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:e,body:this.text}),this.piTarget=this.text="",this.state=T}else n===C?this.text+="?":(this.text+="?"+String.fromCodePoint(n),this.state=25);this.xmlDeclPossible=!1},n.sXMLDeclNameStart=function(){var t=this.skipSpaces();t!==C?t!==b&&(this.state=28,this.name=String.fromCodePoint(t)):this.state=S},n.sXMLDeclName=function(){var t=this.captureTo(B);if(t===C)return this.state=S,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(r(t)||t===I){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail("expected the name "+this.xmlDeclExpects[0]+".");break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=t===I?30:29}},n.sXMLDeclEq=function(){var t=this.getCodeNorm();if(t===C)return this.state=S,void this.fail("XML declaration is incomplete.");r(t)||(t!==I&&this.fail("value required."),this.state=30)},n.sXMLDeclValueStart=function(){var t=this.getCodeNorm();if(t===C)return this.state=S,void this.fail("XML declaration is incomplete.");r(t)||(D(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)},n.sXMLDeclValue=function(){var t=this.captureTo([this.q,C]);if(t===C)return this.state=S,this.text="",void this.fail("XML declaration is incomplete.");if(t!==b){var n=this.text;switch(this.text="",this.name){case"version":this.xmlDeclExpects=["encoding","standalone"];var e=n;this.xmlDecl.version=e,/^1\.[0-9]+$/.test(e)?this.opt.forceXMLVersion||this.setXMLVersion(e):this.fail("version number must match /^1\\.[0-9]+$/.");break;case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=32}},n.sXMLDeclSeparator=function(){var t=this.getCodeNorm();t!==C?(r(t)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=S},n.sXMLDeclEnding=function(){var t;this.getCodeNorm()===O?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=T):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1},n.sOpenTag=function(){var t,n=this.captureNameChars();if(n!==b){var e=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case O:this.openTag();break;case 47:this.state=35;break;default:r(n)||this.fail("disallowed character in tag name."),this.state=36}}},n.sOpenTagSlash=function(){this.getCode()===O?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)},n.sAttrib=function(){var t=this.skipSpaces();t!==b&&(o(t)?(this.unget(),this.state=37):t===O?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))},n.sAttribName=function(){var t=this.captureNameChars();t===I?this.state=39:r(t)?this.state=38:t===O?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==b&&this.fail("disallowed character in attribute name.")},n.sAttribNameSawWhite=function(){var t=this.skipSpaces();switch(t){case b:return;case I:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",t===O?this.openTag():o(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}},n.sAttribValue=function(){var t=this.getCodeNorm();D(t)?(this.q=t,this.state=40):r(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())},n.sAttribValueQuoted=function(){for(var t=this.q,n=this.chunk,e=this.i;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(e,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=n.slice(e,this.prevI),this.state=14,void(this.entityReturnState=40);case E:case k:case 9:this.text+=n.slice(e,this.prevI)+" ",e=this.i;break;case R:return this.text+=n.slice(e,this.prevI),void this.fail("disallowed character.");case b:return void(this.text+=n.slice(e))}},n.sAttribValueClosed=function(){var t=this.getCodeNorm();r(t)?this.state=36:t===O?this.openTag():47===t?this.state=35:o(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")},n.sAttribValueUnquoted=function(){var t=this.captureTo(L);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case R:this.fail("disallowed character.");break;case b:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===O?this.openTag():this.state=36}},n.sCloseTag=function(){var t=this.captureNameChars();t===O?this.closeTag():r(t)?this.state=44:t!==b&&this.fail("disallowed character in closing tag.")},n.sCloseTagSawWhite=function(){switch(this.skipSpaces()){case O:this.closeTag();break;case b:break;default:this.fail("disallowed character in closing tag.")}},n.handleTextInRoot=function(){var t=this.i,n=this.forbiddenState,e=this.chunk,i=this.textHandler;t:for(;;)switch(this.getCode()){case R:if(this.state=15,void 0!==i){var r=this.text,u=e.slice(t,this.prevI);0!==r.length?(i(r+u),this.text=""):0!==u.length&&i(u)}n=0;break t;case 38:this.state=14,this.entityReturnState=T,void 0!==i&&(this.text+=e.slice(t,this.prevI)),n=0;break t;case N:switch(n){case 0:n=1;break;case 1:n=2;break;case 2:break;default:throw new f("impossible state")}break;case O:2===n&&this.fail('the string "]]>" is disallowed in char data.'),n=0;break;case k:void 0!==i&&(this.text+=e.slice(t,this.prevI)+"\n"),t=this.i,n=0;break;case b:void 0!==i&&(this.text+=e.slice(t));break t;default:n=0}this.forbiddenState=n},n.handleTextOutsideRoot=function(){var t=this.i,n=this.chunk,e=this.textHandler,i=!1;t:for(;;){var u=this.getCode();switch(u){case R:if(this.state=15,void 0!==e){var o=this.text,s=n.slice(t,this.prevI);0!==o.length?(e(o+s),this.text=""):0!==s.length&&e(s)}break t;case 38:this.state=14,this.entityReturnState=T,void 0!==e&&(this.text+=n.slice(t,this.prevI)),i=!0;break t;case k:void 0!==e&&(this.text+=n.slice(t,this.prevI)+"\n"),t=this.i;break;case b:void 0!==e&&(this.text+=n.slice(t));break t;default:r(u)||(i=!0)}}i&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))},n.pushAttribNS=function(t,n){var e,i=this.qname(t),r=i.prefix,u=i.local,o={name:t,prefix:r,local:u,value:n};if(this.attribList.push(o),null===(e=this.attributeHandler)||void 0===e||e.call(this,o),"xmlns"===r){var s=n.trim();"1.0"===this.currentXMLVersion&&""===s&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[u]=s,F(this,u,s)}else if("xmlns"===t){var a=n.trim();this.topNS[""]=a,F(this,"",a)}},n.pushAttribPlain=function(t,n){var e,i={name:t,value:n};this.attribList.push(i),null===(e=this.attributeHandler)||void 0===e||e.call(this,i)},n.end=function(){var t,n;this.sawRoot||this.fail("document must contain a root element.");for(var e=this.tags;e.length>0;){var i=e.pop();this.fail("unclosed tag: "+i.name)}0!==this.state&&this.state!==T&&this.fail("unexpected end.");var r=this.text;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Nn=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this},n.resolve=function(t){var n,e,i=this.topNS[t];if(void 0!==i)return i;for(var r=this.tags,u=r.length-1;u>=0;u--)if(void 0!==(i=r[u].ns[t]))return i;return void 0!==(i=this.ns[t])?i:null===(e=(n=this.opt).resolvePrefix)||void 0===e?void 0:e.call(n,t)},n.qname=function(t){var n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};var e=t.slice(n+1),i=t.slice(0,n);return(""===i||""===e||e.includes(":"))&&this.fail("malformed name: "+t+"."),{prefix:i,local:e}},n.processAttribsNS=function(){var t,n=this.attribList,e=this.tag,i=this.qname(e.name),r=i.prefix,u=i.local;e.prefix=r,e.local=u;var o=e.uri=null!==(t=this.resolve(r))&&void 0!==t?t:"";if(""!==r&&("xmlns"===r&&this.fail('tags may not have "xmlns" as prefix.'),""===o&&(this.fail("unbound namespace prefix: "+JSON.stringify(r)+"."),e.uri=r)),0!==n.length){for(var s=e.attributes,a=new Set,c=0;c<n.length;c++){var f=n[c],h=f.name,v=f.prefix,d=f.local,l=void 0,w=void 0;""===v?(l="xmlns"===h?m:"",w=h):(void 0===(l=this.resolve(v))&&(this.fail("unbound namespace prefix: "+JSON.stringify(v)+"."),l=v),w="{"+l+"}"+d),a.has(w)&&this.fail("duplicate attribute: "+w+"."),a.add(w),f.uri=l,s[h]=f}this.attribList=[]}},n.processAttribsPlain=function(){for(var t=this.attribList,n=this.tag.attributes,e=0;e<t.length;e++){var i=t[e],r=i.name,u=i.value;void 0!==n[r]&&this.fail("duplicate attribute: "+r+"."),n[r]=u}this.attribList=[]},n.openTag=function(){var t;this.processAttribs();var n=this.tags,e=this.tag;e.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),n.push(e),this.state=T,this.name=""},n.openSelfClosingTag=function(){var t,n,e;this.processAttribs();var i=this.tags,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(e=i[i.length-1])&&void 0!==e?e:null)&&(this.closedRoot=!0),this.state=T,this.name=""},n.closeTag=function(){var t=this.tags,n=this.name;if(this.state=T,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");for(var e=this.closeTagHandler,i=t.length;i-- >0;){var r=this.tag=t.pop();if(this.topNS=r.ns,null==e||e(r),r.name===n)break;this.fail("unexpected close tag.")}0===i?this.closedRoot=!0:i<0&&(this.fail("unmatched closing tag: "+n+"."),this.text+="</"+n+">")},n.parseEntity=function(t){if("#"!==t[0]){var n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),"&"+t+";")}var e=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?e=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(e=l(t.slice(1),10)),this.isChar(e)?String.fromCodePoint(e):(this.fail("malformed character entity."),"&"+t+";")},Ri(t,[{key:"closed",get:function(){return this.Nn}},{key:"position",get:function(){return this.chunkPosition+this.i}},{key:"columnIndex",get:function(){return this.position-this.positionAtNewLine}}]),t}();t.SaxesParser=H}}),zi={};!function(t,n){for(var e in n)p(t,e,{get:n[e],enumerable:!0})}(zi,{ChromelessPlayer:function(){return KN},ErrorCategory:function(){return xd},ErrorCode:function(){return Ad},createGlobals:function(){return UD},features:function(){return ZN},getCueMirrorMap:function(){return FD},getGlobalId:function(){return MD},getSdkEventBridge:function(){return LD},playerSuiteVersion:function(){return tD},players:function(){return nD},registerContentProtectionIntegration:function(){return eD},utils:function(){return JN},version:function(){return QN}}),n.exports=(Li=zi,I(p({},"__esModule",{value:!0}),Li)),ki(),Vt(),ki(),Vt();var Wi,ji,Yi;O(Si());function Gi(t,n){return(Gi=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function Xi(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Gi(t,n)}function $i(t){Wi=t}ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii(),Fi(),ki(),Vt(),Fi(),ki(),Vt(),Ii(),ki(),Vt(),(Yi=ji||(ji={})).Dn="web",Yi.An="android",Yi.Pn="android-tv",Yi.xn="ios",Yi.Bn="tvos",Yi.Ln="chromecast";var Ki=u?u.userAgent:"",Ji=Ki.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Zi=Ki.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Qi=Ki.match(/Android ([0-9\.]+)/i),tr=Ki.match(/Windows NT ([0-9\.]+)/i),nr=Ki.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),er=Ki.match(/Firefox\/([0-9\.]+)/i),ir=Ki.match(/OPR\/(\d+\.\d+)/i),rr=Ki.match(/Tizen ([0-9\.]+)/i),ur=Ki.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),or=function(){function n(){this.Fn=Boolean("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.Mn=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Ki)||/(macintosh|mac(?=_powerpc)\s)/i.test(Ki),this.Un=/Windows NT/i.test(Ki),this.Vn=tr?w(tr[1]):0,this.Hn=/Android/i.test(Ki),this.qn=Qi?w(Qi[1]):0,this.zn=/windows phone (8|8\.1)/i.test(Ki),this.Wn=/iPhone/i.test(Ki),this.jn=/iPad/i.test(Ki),this.Yn=this.Mn&&this.Fn&&!this.jn,this.Gn=/iPod/i.test(Ki),this.Xn=/Mobile Safari/i.test(Ki),this.$n=/EOSSTB/i.test(Ki),this.Kn=(this.Wn||this.jn||this.Yn||this.Gn)&&!this.zn,this.Jn=ur?w(ur[2]):0,this.Zn=this.zn||this.Kn||this.Hn||this.Xn,this.Qn=/CriOS/i.test(Ki),this.te=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Qn,this.ee=this.te&&/Edg\//i.test(u.userAgent),this.ie=Zi?l(Zi[1],10):0,this.re=Boolean(t.chrome||/Chrome/i.test(Ki)||/CriOS/i.test(Ki)),this.ue=Ji?l(Ji[1],10):0,this.oe=/SMART-TV.*Tizen/i.test(Ki),this.se=rr?w(rr[1]):0,this.ae=/webos|web0s/i.test(Ki),this.ce=/Edge\/\d+/i.test(Ki),this.fe=/Trident/i.test(Ki),this.he=this.fe&&!t.ActiveXObject&&"ActiveXObject"in t,this.ve=/Vivaldi/i.test(Ki),this.de=/Firefox/i.test(Ki)&&!/Seamonkey/i.test(Ki),this.we=er?w(er[1]):0,this.ye=/Safari/i.test(Ki)&&!/Chrome/i.test(Ki)&&!this.zn&&!this.oe,this.me=nr?w(nr[2]):0,this._e=Boolean(ir),this.pe=ir?w(ir[1]):0,this.be=/CrKey/.test(Ki),this.ke=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(Ki),this.Te="tvos"===ji.Pn,this.Se="tvos"===ji.An,this.Ee=this.Se||this.Te,this.Re="tvos"===ji.xn,this.Ie="tvos"===ji.Bn,this.Oe="tvos"===ji.Ln}return Ri(n,[{key:"Ce",get:function(){return this.Fn}},{key:"Ne",get:function(){return this.Mn}},{key:"De",get:function(){return this.Un}},{key:"Ae",get:function(){return this.Vn}},{key:"Pe",get:function(){return this.Hn}},{key:"xe",get:function(){return this.qn}},{key:"Be",get:function(){return this.zn}},{key:"Le",get:function(){return this.Wn}},{key:"Fe",get:function(){return this.jn}},{key:"Me",get:function(){return this.Yn}},{key:"Ue",get:function(){return this.Gn}},{key:"Ve",get:function(){return this.Kn}},{key:"He",get:function(){return this.Jn}},{key:"qe",get:function(){return this.$n}},{key:"ze",get:function(){return this.Xn}},{key:"We",get:function(){return this.Zn}},{key:"je",get:function(){return this.Qn}},{key:"Ye",get:function(){return this.te}},{key:"Ge",get:function(){return this.ue}},{key:"Xe",get:function(){return this.ee}},{key:"$e",get:function(){return this.ie}},{key:"Ke",get:function(){return this.oe}},{key:"Je",get:function(){return this.se}},{key:"Ze",get:function(){return this.ae}},{key:"Qe",get:function(){return this.ce}},{key:"ti",get:function(){return this.fe}},{key:"ni",get:function(){return this.he}},{key:"ei",get:function(){return this.ve}},{key:"ii",get:function(){return this.de}},{key:"ri",get:function(){return this.we}},{key:"ui",get:function(){return this.ye}},{key:"oi",get:function(){return this.me}},{key:"si",get:function(){return this._e}},{key:"ai",get:function(){return this.pe}},{key:"ci",get:function(){return this.be}},{key:"fi",get:function(){return this.ke}},{key:"hi",get:function(){return!(!this.Ze&&!this.Ke)&&this.Ge<=56}},{key:"vi",get:function(){return this.Te}},{key:"di",get:function(){return this.Se}},{key:"li",get:function(){return this.Ee}},{key:"wi",get:function(){return this.Re}},{key:"gi",get:function(){return this.Ie}},{key:"yi",get:function(){return this.Oe}},{key:"mi",get:function(){return this.re}}]),n}();or._i=new or;var sr=or._i;ki(),Vt();var ar={}.hasOwnProperty,cr={}.toString;function fr(t){return null!=t}function hr(t){return void 0===t}var vr=Array.isArray||function(t){return"[object Array]"===cr.call(t)};function dr(t){return lr(t)&&ar.call(t,"length")&&_r(t.length)}function lr(t){return"object"==typeof t&&null!==t}function wr(t){return lr(t)&&t.constructor&&t.constructor===v}function gr(t){return"string"==typeof t}function yr(t){return"boolean"==typeof t}function mr(t){return Boolean(t)&&"function"==typeof t.then}function _r(t){return"number"==typeof t}ki(),Vt();var pr=function(){},br=function(t){return t},kr=!(sr.ti&&!sr.ni),Tr=t.console;function Sr(t){if(lr(t))try{return JSON.stringify(t)}catch(t){}return t}function Er(t){return t.map(Sr).join(" ")}function Rr(t){var n=Tr&&Tr[t];return n?n.bind&&kr?n.bind(Tr):function(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];Tr[t](Er(e))}:void 0}var Ir,Or=Rr("log")||pr,Cr=Rr("warn")||Or.bind(void 0,"WARNING:"),Nr=Rr("error")||Or.bind(void 0,"ERROR:"),Dr=(Ir=Tr&&Tr.assert)?Ir.bind&&kr?Ir.bind(Tr):function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];Tr.assert(t,Er(e))}:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];t||Nr.apply(void 0,["Assertion failed:"].concat(Bi(e)))};ki(),Vt(),ki(),Vt(),ki(),Vt();var Ar=null;try{Ar=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Pr(t,n,e){this.low=0|t,this.high=0|n,this.unsigned=!!e}function xr(t){return!0===(t&&t.pi)}function Br(t){var n=d.clz32(t&-t);return t?31-n:n}Pr.prototype.pi,v.defineProperty(Pr.prototype,"pi",{value:!0}),Pr.isLong=xr;var Lr={},Fr={};function Mr(t,n){var e,i,r;return n?(r=0<=(t>>>=0)&&t<256)&&(i=Fr[t])?i:(e=Vr(t,0,!0),r&&(Fr[t]=e),e):(r=-128<=(t|=0)&&t<128)&&(i=Lr[t])?i:(e=Vr(t,t<0?-1:0,!1),r&&(Lr[t]=e),e)}function Ur(t,n){if(g(t))return n?$r:Xr;if(n){if(t<0)return $r;if(t>=jr)return tu}else{if(t<=-Yr)return nu;if(t+1>=Yr)return Qr}return t<0?Ur(-t,n).neg():Vr(t%Wr|0,t/Wr|0,n)}function Vr(t,n,e){return new Pr(t,n,e)}Pr.fromInt=Mr,Pr.fromNumber=Ur,Pr.fromBits=Vr;var Hr=d.pow;function qr(t,n,e){if(0===t.length)throw f("empty string");if("number"==typeof n?(e=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?$r:Xr;if((e=e||10)<2||36<e)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw f("interior hyphen");if(0===i)return qr(t.substring(1),n,e).neg();for(var r=Ur(Hr(e,8)),u=Xr,o=0;o<t.length;o+=8){var s=d.min(8,t.length-o),a=l(t.substring(o,o+s),e);if(s<8){var c=Ur(Hr(e,s));u=u.mul(c).add(Ur(a))}else u=(u=u.mul(r)).add(Ur(a))}return u.unsigned=n,u}function zr(t,n){return"number"==typeof t?Ur(t,n):"string"==typeof t?qr(t,n):Vr(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Pr.fromString=qr,Pr.fromValue=zr;var Wr=4294967296,jr=Wr*Wr,Yr=jr/2,Gr=Mr(1<<24),Xr=Mr(0);Pr.ZERO=Xr;var $r=Mr(0,!0);Pr.UZERO=$r;var Kr=Mr(1);Pr.ONE=Kr;var Jr=Mr(1,!0);Pr.UONE=Jr;var Zr=Mr(-1);Pr.NEG_ONE=Zr;var Qr=Vr(-1,2147483647,!1);Pr.MAX_VALUE=Qr;var tu=Vr(-1,-1,!0);Pr.MAX_UNSIGNED_VALUE=tu;var nu=Vr(0,-2147483648,!1);Pr.MIN_VALUE=nu;var eu=Pr.prototype;eu.toInt=function(){return this.unsigned?this.low>>>0:this.low},eu.toNumber=function(){return this.unsigned?(this.high>>>0)*Wr+(this.low>>>0):this.high*Wr+(this.low>>>0)},eu.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(nu)){var n=Ur(t),e=this.div(n),i=e.mul(n).sub(this);return e.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=Ur(Hr(t,6),this.unsigned),u=this,o="";;){var s=u.div(r),a=(u.sub(s.mul(r)).toInt()>>>0).toString(t);if((u=s).isZero())return a+o;for(;a.length<6;)a="0"+a;o=""+a+o}},eu.getHighBits=function(){return this.high},eu.getHighBitsUnsigned=function(){return this.high>>>0},eu.getLowBits=function(){return this.low},eu.getLowBitsUnsigned=function(){return this.low>>>0},eu.getNumBitsAbs=function(){if(this.isNegative())return this.eq(nu)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},eu.isZero=function(){return 0===this.high&&0===this.low},eu.eqz=eu.isZero,eu.isNegative=function(){return!this.unsigned&&this.high<0},eu.isPositive=function(){return this.unsigned||this.high>=0},eu.isOdd=function(){return 1==(1&this.low)},eu.isEven=function(){return 0==(1&this.low)},eu.equals=function(t){return xr(t)||(t=zr(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},eu.eq=eu.equals,eu.notEquals=function(t){return!this.eq(t)},eu.neq=eu.notEquals,eu.ne=eu.notEquals,eu.lessThan=function(t){return this.comp(t)<0},eu.lt=eu.lessThan,eu.lessThanOrEqual=function(t){return this.comp(t)<=0},eu.lte=eu.lessThanOrEqual,eu.le=eu.lessThanOrEqual,eu.greaterThan=function(t){return this.comp(t)>0},eu.gt=eu.greaterThan,eu.greaterThanOrEqual=function(t){return this.comp(t)>=0},eu.gte=eu.greaterThanOrEqual,eu.ge=eu.greaterThanOrEqual,eu.compare=function(t){if(xr(t)||(t=zr(t)),this.eq(t))return 0;var n=this.isNegative(),e=t.isNegative();return n&&!e?-1:!n&&e?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},eu.comp=eu.compare,eu.negate=function(){return!this.unsigned&&this.eq(nu)?nu:this.not().add(Kr)},eu.neg=eu.negate,eu.add=function(t){xr(t)||(t=zr(t));var n=this.high>>>16,e=65535&this.high,i=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,a=0,c=0,f=0,h=0;return f+=(h+=r+(65535&t.low))>>>16,c+=(f+=i+s)>>>16,a+=(c+=e+o)>>>16,a+=n+u,Vr((f&=65535)<<16|(h&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},eu.subtract=function(t){return xr(t)||(t=zr(t)),this.add(t.neg())},eu.sub=eu.subtract,eu.multiply=function(t){if(this.isZero())return this;if(xr(t)||(t=zr(t)),Ar)return Vr(Ar.mul(this.low,this.high,t.low,t.high),Ar.get_high(),this.unsigned);if(t.isZero())return this.unsigned?$r:Xr;if(this.eq(nu))return t.isOdd()?nu:Xr;if(t.eq(nu))return this.isOdd()?nu:Xr;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Gr)&&t.lt(Gr))return Ur(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,e=65535&this.high,i=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,a=65535&t.low,c=0,f=0,h=0,v=0;return h+=(v+=r*a)>>>16,f+=(h+=i*a)>>>16,h&=65535,f+=(h+=r*s)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=i*s)>>>16,f&=65535,c+=(f+=r*o)>>>16,c+=n*a+e*s+i*o+r*u,Vr((h&=65535)<<16|(v&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},eu.mul=eu.multiply,eu.divide=function(t){if(xr(t)||(t=zr(t)),t.isZero())throw f("division by zero");var n,e,i;if(Ar)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Vr((this.unsigned?Ar.div_u:Ar.div_s)(this.low,this.high,t.low,t.high),Ar.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?$r:Xr;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return $r;if(t.gt(this.shru(1)))return Jr;i=$r}else{if(this.eq(nu))return t.eq(Kr)||t.eq(Zr)?nu:t.eq(nu)?Kr:(n=this.shr(1).div(t).shl(1)).eq(Xr)?t.isNegative()?Kr:Zr:(e=this.sub(t.mul(n)),i=n.add(e.div(t)));if(t.eq(nu))return this.unsigned?$r:Xr;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=Xr}for(e=this;e.gte(t);){n=d.max(1,d.floor(e.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:Hr(2,r-48),o=Ur(n),s=o.mul(t);s.isNegative()||s.gt(e);)s=(o=Ur(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=Kr),i=i.add(o),e=e.sub(s)}return i},eu.div=eu.divide,eu.modulo=function(t){return xr(t)||(t=zr(t)),Ar?Vr((this.unsigned?Ar.rem_u:Ar.rem_s)(this.low,this.high,t.low,t.high),Ar.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},eu.mod=eu.modulo,eu.rem=eu.modulo,eu.not=function(){return Vr(~this.low,~this.high,this.unsigned)},eu.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},eu.clz=eu.countLeadingZeros,eu.countTrailingZeros=function(){return this.low?Br(this.low):Br(this.high)+32},eu.ctz=eu.countTrailingZeros,eu.and=function(t){return xr(t)||(t=zr(t)),Vr(this.low&t.low,this.high&t.high,this.unsigned)},eu.or=function(t){return xr(t)||(t=zr(t)),Vr(this.low|t.low,this.high|t.high,this.unsigned)},eu.xor=function(t){return xr(t)||(t=zr(t)),Vr(this.low^t.low,this.high^t.high,this.unsigned)},eu.shiftLeft=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Vr(0,this.low<<t-32,this.unsigned)},eu.shl=eu.shiftLeft,eu.shiftRight=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Vr(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},eu.shr=eu.shiftRight,eu.shiftRightUnsigned=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Vr(32===t?this.high:this.high>>>t-32,0,this.unsigned)},eu.shru=eu.shiftRightUnsigned,eu.shr_u=eu.shiftRightUnsigned,eu.rotateLeft=function(t){var n;return xr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Vr(this.high,this.low,this.unsigned):t<32?(n=32-t,Vr(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),Vr(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},eu.rotl=eu.rotateLeft,eu.rotateRight=function(t){var n;return xr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Vr(this.high,this.low,this.unsigned):t<32?(n=32-t,Vr(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),Vr(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},eu.rotr=eu.rotateRight,eu.toSigned=function(){return this.unsigned?Vr(this.low,this.high,!1):this},eu.toUnsigned=function(){return this.unsigned?this:Vr(this.low,this.high,!0)},eu.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},eu.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},eu.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Pr.fromBytes=function(t,n,e){return e?Pr.fromBytesLE(t,n):Pr.fromBytesBE(t,n)},Pr.fromBytesLE=function(t,n){return new Pr(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Pr.fromBytesBE=function(t,n){return new Pr(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var iu=Pr;ki(),Vt();var ru=d.pow(2,-52);function uu(t,n,e){return d.min(d.max(t,n),e)}function ou(t,n,e){return t===n||d.abs(t-n)<=e}function su(t,n){for(var e=t,i=n;0!==i;){var r=e%i;e=i,i=r}return e<0?-e:e}function au(){return Date.now()||(new Date).getTime()}function cu(t){return t/1e3}var fu,hu,vu=1/6;iu.fromNumber(9007199254740991);function du(t){return 1===t.bi}function lu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}ki(),Vt(),Ii(),ki(),Vt(),(hu=fu||(fu={}))[hu.ki=1]="ki",hu[hu.Ti=2]="Ti",hu[hu.Si=3]="Si",hu[hu.Ei=4]="Ei",hu[hu.Ri=9]="Ri",ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii();var wu=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];f.apply(this,n)};(wu.prototype=v.create(f.prototype)).constructor=wu;var gu=function(t){function n(n,e){var i;return(i=t.call(this)||this).message=n||"Unknown error",i.cause=e,f.captureStackTrace&&f.captureStackTrace(lu(i),i.constructor),i}return Xi(n,t),Ri(n,[{key:"name",get:function(){return"BaseError"}}]),n}(wu),yu=function(t){function n(n){return t.call(this,"Invalid XML",n)}return Xi(n,t),n}(gu),mu=function(){function t(){}return t.prototype.Ii=function(t){var n,e=new DOMParser;try{n=e.parseFromString(t,"text/xml")}catch(t){throw new yu(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new yu;return new Eu(n)},t}(),_u=function(){function t(t){this.Oi=t}var n=t.prototype;return n.Ci=function(t){return this.Oi.isEqualNode(t.Oi)},n.Ni=function(n){return new t(this.Oi.cloneNode(n))},Ri(t,[{key:"bi",get:function(){return fu.Ti}},{key:"Di",get:function(){var t;return null!=(t=this.Oi.localName)?t:Ou(this.Oi.nodeName)}},{key:"Ai",get:function(){return this.Oi.nodeName}},{key:"Pi",get:function(){var t;return null!=(t=this.Oi.namespaceURI)?t:void 0}},{key:"xi",get:function(){var t;return null!=(t=this.Oi.prefix)?t:void 0}},{key:"Bi",get:function(){return this.Oi.nodeValue}}]),t}(),pu=function(){function t(t){this.Li=void 0,this.Fi=t}var n=t.prototype;return n.Mi=function(t){return this.Ui.filter((function(n){return Ru(n)&&n.Vi===t}))},n.Hi=function(t,n){return this.Ui.filter((function(e){return Ru(e)&&e.Di===n&&e.Pi===t}))},n.qi=function(t){this.Fi.appendChild(t.zi),this.Li&&this.Li.push(t)},n.Ci=function(t){return this.Fi.isEqualNode(t.zi)},Ri(t,[{key:"Ui",get:function(){return void 0===this.Li&&(this.Li=function(t){for(var n=[],e=0;e<t.length;e++){var i=Iu(t.item(e));i&&n.push(i)}return n}(this.Fi.childNodes)),this.Li}},{key:"Wi",get:function(){return this.Ui.filter(Ru)}},{key:"zi",get:function(){return this.Fi}}]),t}(),bu=function(t){function n(n){return t.call(this,n)}Xi(n,t);var e=n.prototype;return e.ji=function(t){if(this.Fi.hasAttribute(t))return this.Fi.getAttribute(t)},e.Yi=function(t,n){if(this.Fi.hasAttributeNS(t,n))return this.Fi.getAttributeNS(t,n)},e.Gi=function(t){this.Fi.removeAttribute(t)},e.Xi=function(t,n){this.Fi.removeAttributeNS(t,n)},e.$i=function(t,n){this.Fi.setAttribute(t,n)},e.Ki=function(t,n,e){this.Fi.setAttributeNS(t,n,e)},e.Ni=function(t){return new n(this.Fi.cloneNode(t))},Ri(n,[{key:"bi",get:function(){return fu.ki}},{key:"Di",get:function(){var t;return null!=(t=this.Fi.localName)?t:Ou(this.Fi.nodeName)}},{key:"Pi",get:function(){var t;return null!=(t=this.Fi.namespaceURI)?t:void 0}},{key:"xi",get:function(){var t;return null!=(t=this.Fi.prefix)?t:void 0}},{key:"Vi",get:function(){return this.Fi.nodeName}},{key:"Ji",get:function(){return function(t){for(var n=[],e=0;e<t.length;e++)n.push(new _u(t.item(e)));return n}(this.Fi.attributes)}},{key:"Zi",get:function(){return this.Fi.textContent}}]),n}(pu),ku=function(){function t(t){this.Fi=t}return t.prototype.Ci=function(t){return this.Qi===t.Qi},Ri(t,[{key:"Qi",get:function(){return this.Fi.nodeValue}},{key:"zi",get:function(){return this.Fi}}]),t}(),Tu=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n.prototype.Ni=function(t){return new n(this.Fi.cloneNode(t))},Ri(n,[{key:"bi",get:function(){return fu.Si}}]),n}(ku),Su=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n.prototype.Ni=function(t){return new n(this.Fi.cloneNode(t))},Ri(n,[{key:"bi",get:function(){return fu.Ei}}]),n}(ku),Eu=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n.prototype.Ni=function(t){return new n(this.Fi.cloneNode(t))},Ri(n,[{key:"bi",get:function(){return fu.Ri}},{key:"tr",get:function(){return new bu(this.Fi.documentElement)}}]),n}(pu);function Ru(t){return du(t)}function Iu(t){switch(t.nodeType){case fu.ki:return new bu(t);case fu.Si:return new Tu(t);case fu.Ei:return new Su(t)}}function Ou(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function Cu(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function Nu(t,n){var e=function(t,n){var e=t.length;if(e<=1)return t;for(var i=new Array(e),r=1;r<e;r*=2){Du(t,n,r,i);var u=t;t=i,i=u}return t}(t,n);return e!==t&&Du(e,null,t.length,t),t}function Du(t,n,e,i){var r,u,o,s,a,c=t.length,f=0,h=2*e;for(r=0;r<c;r+=h)for(o=(u=r+e)+e,u>c&&(u=c),o>c&&(o=c),s=r,a=u;;)if(s<u&&a<o)n(t[s],t[a])<=0?i[f++]=t[s++]:i[f++]=t[a++];else if(s<u)i[f++]=t[s++];else{if(!(a<o))break;i[f++]=t[a++]}}ki(),Vt();var Au=/[a-zA-Z]/,Pu=/[0-9]/,xu=/[0-9a-fA-F]/,Bu=/^0x/i,Lu=/^[0-9]+$/,Fu=/^[0-9a-fA-F]+$/,Mu=/^[0-7]+$/,Uu=v.prototype.toString,Vu=Array.isArray||function(t){return"[object Array]"===Uu.call(t)},Hu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function qu(t){return Vu(t)?t:Array.from(t)}function zu(t){return t>=65&&t<=90}function Wu(t){return zu(t)||function(t){return t>=97&&t<=122}(t)}function ju(t){return t>=48&&t<=57}function Yu(t){return ju(t)||Wu(t)}function Gu(t){return ju(t)||t>=65&&t<=70||t>=97&&t<=102}function Xu(t){return zu(t)?t+32:t}function $u(t){return ju(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ku(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Ju=d.min,Zu=String.fromCharCode;function Qu(t){for(var n=t.length,e=[],i=0;i<n;i+=16384){var r=Ju(i+16384,n);e.push(Zu.apply(null,t.slice(i,r)))}return e.join("")}var to=2147483647,no=/[^\0-\x7E]/,eo=/[\x2E\u3002\uFF0E\uFF61]/g,io={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ro=d.floor,uo=String.fromCharCode;function oo(t){throw new RangeError(io[t])}function so(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}var ao,co,fo,ho=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},vo=function(t,n,e){var i=0;for(t=e?ro(t/700):t>>1,t+=ro(t/n);t>455;i+=36)t=ro(t/35);return ro(i+36*t/(t+38))},lo=function(t){return function(t,n){var e=t.split("@"),i="";e.length>1&&(i=e[0]+"@",t=e[1]);var r=function(t,n){for(var e=[],i=t.length;i--;)e[i]=n(t[i]);return e}((t=t.replace(eo,".")).split("."),n).join(".");return i+r}(t,(function(t){return no.test(t)?"xn--"+function(t){for(var n=[],e=(t=so(t)).length,i=128,r=0,u=72,o=0,s=t;o<s.length;o++){var a=s[o];a<128&&n.push(uo(a))}var c=n.length,f=c;for(c&&n.push("-");f<e;){for(var h=to,v=0,d=t;v<d.length;v++){var l=d[v];l>=i&&l<h&&(h=l)}var w=f+1;h-i>ro((to-r)/w)&&oo("overflow"),r+=(h-i)*w,i=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<i&&++r>to&&oo("overflow"),m==i){for(var _=r,p=36;;p+=36){var b=p<=u?1:p>=u+26?26:p-u;if(_<b)break;var k=_-b,T=36-b;n.push(uo(ho(b+k%T,0))),_=ro(k/T)}n.push(uo(ho(_,0))),u=vo(r,w,f==c),r=0,++f}}++r,++i}return n.join("")}(t):t}))};function wo(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return Qu(n)}function go(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function yo(t,n){return t>>n&63|128}function mo(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(go(t),n.push(t>>12&15|224),n.push(yo(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(yo(t,12)),n.push(yo(t,6))),n.push(63&t|128)):n.push(t)}function _o(t){for(var n=[],e=0;e<t.length;e++){mo(t[e],n)}return n}function po(){if(fo>=co)throw new f("Invalid byte index");var t=255&ao[fo];if(fo++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function bo(){var t,n;if(fo>co)throw new f("Invalid byte index");if(fo===co)return!1;if(t=255&ao[fo],fo++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|po())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|po()<<6|po())>=2048)return go(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|po()<<12|po()<<6|po())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function ko(t){return[37,Ku(t>>4),Ku(15&t)]}function To(t){return function(t){return t>=0&&t<=31}(t)||t>126}function So(t){return To(t)||32===t||34===t||60===t||62===t||96===t}function Eo(t){return So(t)||35===t||63===t||123===t||125===t}function Ro(t){return Eo(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Io(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Oo(t){return Io(t)||39===t}function Co(t,n){if(!n(t))return[t];for(var e=_o([t]),i=[],r=0;r<e.length;r++){var u=e[r];i.push.apply(i,ko(u))}return i}function No(t,n){for(var e=[],i=0,r=so(t);i<r.length;i++){var u=r[i];e.push.apply(e,Co(u,n))}return wo(e)}function Do(t){return function(t){for(var n=[],e=t.length,i=0;i<e;i++){var r=t[i];if(37===r&&i+2<e&&Gu(t[i+1])&&Gu(t[i+2])){var u=$u(t[i+1])<<4|$u(t[i+2]);n.push(u),i+=2}else n.push(r)}return n}(_o(t))}function Ao(t){return wo(function(t){ao=t.slice(),co=ao.length,fo=0;for(var n,e=[];!1!==(n=bo());)e.push(n);return e}(Do(so(t))))}function Po(t){var n,e,i,r,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new h;c+=2,a=s+=1}for(;c<u;){if(8===s)throw new h("Too many groups");if(":"!==t[c]){for(var f=0,v=0;v<4&&c<u&&xu.test(t[c]);)f=f<<4|l(t[c],16),c+=1,v+=1;if("."===t[c]){if(0===v)throw new h;if(c-=v,s>6)throw new h;for(var d=0;c<u;){var w=null;if(d>0){if(!("."===t[c]&&d<4))throw new h;c+=1}if(!Pu.test(t[c]))throw new h;for(;c<u&&Pu.test(t[c]);){var g=l(t[c],10);if(null===w)w=g;else{if(0===w)throw new h;if((w=10*w+g)>255)throw new h}c+=1}o[s]=o[s]<<8|w,2!==(d+=1)&&4!==d||(s+=1)}if(4!==d)throw new h;break}if(":"===t[c]){if((c+=1)===u)throw new h}else if(c<u)throw new h;o[s]=f,s+=1}else{if(null!==a)throw new h("Too many :: groups");c+=1,a=s+=1}}if(null!==a){var y=s-a;for(s=7;0!==s&&y>0;)i=a+y-1,r=void 0,r=(n=o)[e=s],n[e]=n[i],n[i]=r,s-=1,y-=1}else if(8!==s)throw new h;return o}function xo(t){var n=10,e=Lu;return Bu.test(t)?(t=t.slice(2),n=16,e=Fu):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,e=Mu),""===t?0:e.test(t)?l(t,n):void 0}var Bo={nr:4},Lo=/[\0\t\n\r #%/:?@\[\\\]]/,Fo=/[\0\t\n\r #/:?@\[\\\]]/;function Mo(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{nr:2,er:Po(t.slice(1,-1))}}if(!n)return function(t){if(Fo.test(t))throw new h("Invalid code point in opaque host");var n=No(t,To);return""===n?Bo:{nr:3,B:n}}(t);var e=function(t){return function(t){return lo(t.toLowerCase())}(t)}(Ao(t));if(Lo.test(e))throw new h("Invalid code point in host");var i=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var e=[],i=0;i<n.length;i++){var r=n[i];if(""===r)return;var u=xo(r);if(void 0===u)return;e.push(u)}for(var o=0;o<e.length-1;o++)if(e[o]>255)throw new h;if(e[e.length-1]>=d.pow(256,5-e.length))throw new h;for(var s=e.pop(),a=0;a<e.length;a++)s+=e[a]*d.pow(256,3-a);return s}}(e);return void 0!==i?{nr:1,er:i}:""===e?Bo:{nr:0,ir:e}}function Uo(t){switch(t.nr){case 0:return t.ir;case 1:return function(t){for(var n=[],e=t,i=1;i<=4;i++)n.push(""+(255&e)),4!==i&&n.push("."),e>>>=8;return n.reverse().join("")}(t.er);case 2:return"["+function(t){for(var n="",e=function(t){for(var n=0,e=0,i=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(i=u),r++):(r>e&&(n=i,e=r),r=0);return r>e&&(n=i,e=r),e>1?n:null}(t),i=!1,r=0;r<8;r++){if(i){if(0===t[r])continue;i=!1}e!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",i=!0)}return n}(t.er)+"]";case 3:return t.B;case 4:return""}}var Vo=/\+/g;function Ho(t){for(var n=t.split("&"),e=[],i=0;i<n.length;i++){var r=n[i];if(""!==r){var u=r.indexOf("="),o=void 0,s=void 0;-1!==u?(o=r.slice(0,u),s=r.slice(u+1)):(o=r,s=""),o=o.replace(Vo," "),s=s.replace(Vo," ");var a=Ao(o),c=Ao(s);e.push([a,c])}}return e}function qo(t){for(var n="",e=0;e<t.length;e++){var i=t[e];e>0&&(n+="&"),n+=zo(_o(so(i[0])))+"="+zo(_o(so(i[1])))}return n}function zo(t){for(var n,e=[],i=0;i<t.length;i++){var r=t[i];32===r?e.push(43):42===(n=r)||45===n||46===n||95===n||Yu(n)?e.push(r):e.push.apply(e,ko(r))}return Qu(e)}var Wo=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function jo(t){var n=""+t,e=Wo.exec(n);return e?function(t,n){for(var e=t.length,i=[],r=n;r<e;r++){var u=t.charCodeAt(r);if(Go(u))if(Xo(u)||r===e-1)i.push(Yo);else{var o=t.charCodeAt(r+1);Xo(o)?(i.push(u,o),r++):i.push(Yo)}else i.push(u)}return t.slice(0,n)+Qu(i)}(n,e.index):n}var Yo=65533,Go=function(t){return 55296==(63488&t)},Xo=function(t){return 0!=(1024&t)};function $o(t,n){var e=t[0],i=n[0];return e===i?0:e<i?-1:1}function Ko(t){t.rr.length=0}function Jo(t,n){!function(t,n){for(var e=0;e<n.length;e++)t[e]=n[e];t.length=n.length}(t.rr,Ho(n))}function Zo(t){if(t.ur){var n=qo(t.rr);""===n&&(n=null),t.ur.ur.sr=n}}var Qo=function(){function t(t){if(void 0===t&&(t=void 0),this.ur=null,null==t)this.rr=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Qo&&Vu(u.rr)&&(!Hu||u[Symbol.iterator]===ts))this.rr=t.rr.slice();else if(function(t){return null!=t&&(!!Vu(t)||!!Hu&&"function"==typeof t[Symbol.iterator])}(t)){this.rr=[];for(var n=0,e=qu(t);n<e.length;n++){var i=qu(e[n]);if(2!==i.length)throw new h("Invalid name-value pair");this.rr.push([jo(i[0]),jo(i[1])])}}else for(var r in this.rr=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.rr.push([jo(r),jo(t[r])]);else(t=jo(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.rr=Ho(t);var u}var n=t.prototype;return n.append=function(t,n){t=jo(t),n=jo(n),this.rr.push([t,n]),Zo(this)},n.delete=function(t){t=jo(t);for(var n=this.rr,e=0;e<n.length;){n[e][0]===t?n.splice(e,1):e++}Zo(this)},n.get=function(t){t=jo(t);for(var n=this.rr,e=0;e<n.length;e++){var i=n[e];if(i[0]===t)return i[1]}return null},n.getAll=function(t){t=jo(t);for(var n=this.rr,e=[],i=0;i<n.length;i++){var r=n[i];r[0]===t&&e.push(r[1])}return e},n.has=function(t){t=jo(t);for(var n=this.rr,e=0;e<n.length;e++){if(n[e][0]===t)return!0}return!1},n.set=function(t,n){t=jo(t),n=jo(n);for(var e=this.rr,i=!1,r=0;r<e.length;){var u=e[r];u[0]===t?i?e.splice(r,1):(u[1]=n,i=!0,r++):r++}i||e.push([t,n]),Zo(this)},n.sort=function(){Nu(this.rr,$o),Zo(this)},n.toString=function(){return qo(this.rr)},n.entries=function(){return new rs(this.rr,ns)},n.keys=function(){return new rs(this.rr,es)},n.values=function(){return new rs(this.rr,is)},n.forEach=function(t){var n=this;this.rr.forEach((function(e){return t(e[1],e[0],n)}))},t}(),ts=Qo.prototype.entries;Hu&&(Qo.prototype[Symbol.iterator]=ts);var ns=function(t){return[t[0],t[1]]},es=function(t){return t[0]},is=function(t){return t[1]},rs=function(){function t(t,n){this.ar=0,this.rr=t,this.cr=n}return t.prototype.next=function(){return this.ar<this.rr.length?{done:!1,value:this.cr(this.rr[this.ar++])}:{done:!0,value:void 0}},t}(),us="null";var os=v.create(null);os.ftp=21,os.file=0,os.gopher=70,os.http=80,os.https=443,os.ws=80,os.wss=443;var ss=/^(?:\.|%2e)$/i,as=/^(?:\.|%2e){2}$/i;function cs(t){return ss.test(t)}function fs(t){return as.test(t)}function hs(t){return void 0!==os[t]}function vs(t){return hs(t.hr)}function ds(t){return""!==t.dr||""!==t.wr}function ls(t){var n=t.length;if(!(n>=2))return!1;if(!gs(t.slice(0,2)))return!1;if(2!==n){var e=t[2];if(47!==e&&92!==e&&63!==e&&35!==e)return!1}return!0}function ws(t){return 2===t.length&&Au.test(t[0])&&(":"===t[1]||"|"===t[1])}function gs(t){return 2===t.length&&ws(Qu(t))}function ys(t){return ws(t)&&":"===t[1]}function ms(t){var n=t.gr;0!==n.length&&("file"===t.hr&&1===n.length&&ys(n[0])||n.pop())}function _s(t){return null===t.yr||Bo===t.yr||t.mr||"file"===t.hr}var ps=-1,bs=/\t|\n|\r/g,ks=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Ts(t,n,e,i){void 0===e&&(e=null),void 0===i&&(i=null),e||(e=new Es,t=t.replace(ks,""));var r=null!==i?i:0;n=n||null;for(var u=[],o=!1,s=!1,a=!1,c=so(t=t.replace(bs,"")),f=c.length,v=0;v<=f;){var d=v<f?c[v]:ps;switch(r){case 0:if(!Wu(d)){if(null===i){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(Xu(d)),r=1;break;case 1:if(Yu(d)||43===d||45===d||46===d)u.push(Xu(d));else{if(58!==d){if(null===i){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=wo(u);if(null!==i){if(hs(e.hr)&&!hs(w))return;if(!hs(e.hr)&&hs(w))return;if((ds(e)||null!==e._r)&&"file"===w)return;if("file"===e.hr&&(e.yr===Bo||null===e.yr))return}if(e.hr=w,null!==i)return void(vs(e)&&e._r===os[e.hr]&&(e._r=null));u.length=0,"file"===e.hr?r=13:vs(e)&&n&&n.hr===e.hr?r=3:vs(e)?r=7:47===c[v+1]?(r=4,v+=1):(e.mr=!0,e.gr.push(""),r=18)}break;case 2:if(!n||n.mr&&35!==d)throw new h("Invalid scheme");n.mr&&35===d?(e.hr=n.hr,e.gr=n.gr.slice(),e.sr=n.sr,e.pr="",e.mr=!0,r=20):"file"!==n.hr?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===c[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:e.hr=n.hr,ps===d?(e.dr=n.dr,e.wr=n.wr,e.yr=n.yr,e._r=n._r,e.gr=n.gr.slice(),e.sr=n.sr):47===d?r=6:63===d?(e.dr=n.dr,e.wr=n.wr,e.yr=n.yr,e._r=n._r,e.gr=n.gr.slice(),e.sr="",r=19):35===d?(e.dr=n.dr,e.wr=n.wr,e.yr=n.yr,e._r=n._r,e.gr=n.gr.slice(),e.sr=n.sr,e.pr="",r=20):92===d&&vs(e)?r=6:(e.dr=n.dr,e.wr=n.wr,e.yr=n.yr,e._r=n._r,e.gr=n.gr.slice(),e.gr.pop(),r=17,v-=1);break;case 6:!vs(e)||47!==d&&92!==d?47===d?r=9:(e.dr=n.dr,e.wr=n.wr,e.yr=n.yr,e._r=n._r,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==c[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){o&&u.unshift(37,52,48),o=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||a){var m=wo(Co(y,Ro));a?e.wr+=m:e.dr+=m}else a=!0}u.length=0}else if(ps===d||47===d||63===d||35===d||vs(e)&&92===d){if(o&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==i&&"file"===e.hr)v-=1,r=15;else if(58!==d||s)if(ps===d||47===d||63===d||35===d||vs(e)&&92===d){if(v-=1,vs(e)&&0===u.length)throw new h("Invalid host");if(null!==i&&0===u.length&&(ds(e)||null!==e._r))return;var _=Mo(wo(u),vs(e));if(e.yr=_,u.length=0,r=16,null!==i)return}else 91===d?s=!0:93===d&&(s=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=Mo(wo(u),vs(e));if(e.yr=p,u.length=0,r=12,11===i)return}break;case 12:if(ju(d))u.push(d);else{if(!(ps===d||47===d||63===d||35===d||vs(e)&&92===d||null!==i))throw new h("Invalid port");if(0!==u.length){var b=l(wo(u),10);if(b>65535)throw new h("Invalid port");e._r=b===os[e.hr]?null:b,u.length=0}if(null!==i)return;r=16,v-=1}break;case 13:e.hr="file",47===d||92===d?r=14:n&&"file"===n.hr?ps===d?(e.yr=n.yr,e.gr=n.gr.slice(),e.sr=n.sr):63===d?(e.yr=n.yr,e.gr=n.gr.slice(),e.sr="",r=19):35===d?(e.yr=n.yr,e.gr=n.gr.slice(),e.sr=n.sr,e.pr="",r=20):(ls(c.slice(v))||(e.yr=n.yr,e.gr=n.gr.slice(),ms(e)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.hr&&!ls(c.slice(v))&&(ys(n.gr[0])?e.gr.push(n.gr[0]):e.yr=n.yr),r=17,v-=1);break;case 15:if(ps===d||47===d||92===d||63===d||35===d)if(v-=1,null===i&&gs(u))r=17;else if(0===u.length){if(e.yr=Bo,null!==i)return;r=16}else{var k=Mo(wo(u),vs(e));if(0===k.nr&&"localhost"===k.ir&&(k=Bo),e.yr=k,null!==i)return;u.length=0,r=16}else u.push(d);break;case 16:vs(e)?(r=17,47!==d&&92!==d&&(v-=1)):null===i&&63===d?(e.sr="",r=19):null===i&&35===d?(e.pr="",r=20):ps!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(ps===d||47===d||vs(e)&&92===d||null===i&&(63===d||35===d)){var T=wo(u);if(fs(T)?(ms(e),47===d||vs(e)&&92===d||e.gr.push("")):!cs(T)||47===d||vs(e)&&92===d?cs(T)||("file"===e.hr&&0===e.gr.length&&gs(u)&&(Bo!==e.yr&&null!==e.yr&&(e.yr=Bo),u[1]=58,T=wo(u)),e.gr.push(T)):e.gr.push(""),u.length=0,"file"===e.hr&&(ps===d||63===d||35===d))for(;e.gr.length>1&&""===e.gr[0];)e.gr.shift();63===d?(e.sr="",r=19):35===d&&(e.pr="",r=20)}else u.push.apply(u,Co(d,Eo));break;case 18:63===d?(e.sr="",r=19):35===d?(e.pr="",r=20):ps!==d&&(e.gr[0]+=wo(Co(d,To)));break;case 19:null===i&&35===d?(e.pr="",r=20):ps!==d&&(e.sr+=wo(Co(d,vs(e)?Oo:Io)));break;case 20:ps===d||0===d||(e.pr+=wo(Co(d,So)))}v++}return e}function Ss(t,n,e,i){try{Ts(t,n,e,i)}catch(t){}}var Es=function(){this.hr="",this.dr="",this.wr="",this.yr=null,this._r=null,this.gr=[],this.sr=null,this.pr=null,this.mr=!1};function Rs(t){switch(t.hr){case"blob":var n;try{n=Ts(t.gr[0],null)}catch(t){return us}return Rs(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return e=t.hr,i=t.yr,r=t._r,e+"://"+Uo(i)+(null===r?"":":"+r);case"file":default:return us}var e,i,r}var Is,Os=function(){function t(t,n){var e,i,r=null;if(null!=n)if(null!=(e=n)&&e instanceof Os&&"object"==typeof e.ur)r=n.ur;else try{r=Ts(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{i=Ts(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var u=i.sr;this.ur=i,this.sr=function(t){var n=new Qo;return null!==t&&Jo(n,t),n}(u),this.sr.ur=this}var n,e,i,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(e=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var e=t.hr+":";if(null!==t.yr?(e+="//",ds(t)&&(e+=t.dr,""!==t.wr&&(e+=":"+t.wr),e+="@"),e+=Uo(t.yr),null!==t._r&&(e+=":"+t._r)):null===t.yr&&"file"===t.hr&&(e+="//"),t.mr)e+=t.gr[0];else for(var i=0,r=t.gr;i<r.length;i++)e+="/"+r[i];return null!==t.sr&&(e+="?"+t.sr),n||null===t.pr||(e+="#"+t.pr),e}(this.ur)},set:function(t){var n;try{n=Ts(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.ur=n,Ko(this.sr);var e=this.ur.sr;null!==e&&Jo(this.sr,e)}},{key:"origin",get:function(){return Rs(this.ur)}},{key:"protocol",get:function(){return this.ur.hr+":"},set:function(t){Ss(t+":",null,this.ur,0)}},{key:"username",get:function(){return this.ur.dr},set:function(t){_s(this.ur)||(this.ur.dr=No(t,Ro))}},{key:"password",get:function(){return this.ur.wr},set:function(t){_s(this.ur)||(this.ur.wr=No(t,Ro))}},{key:"host",get:function(){var t=this.ur,n=t.yr;if(null===n)return"";var e=t._r,i=Uo(n);return null!==e&&(i+=":"+e),i},set:function(t){this.ur.mr||Ss(t,null,this.ur,10)}},{key:"hostname",get:function(){var t=this.ur.yr;return null===t?"":Uo(t)},set:function(t){this.ur.mr||Ss(t,null,this.ur,11)}},{key:"port",get:function(){var t=this.ur._r;return null===t?"":""+t},set:function(t){_s(this.ur)||(""===t?this.ur._r=null:Ss(t,null,this.ur,12))}},{key:"pathname",get:function(){var t=this.ur.gr;return this.ur.mr?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ur.mr||(this.ur.gr.length=0,Ss(t,null,this.ur,16))}},{key:"search",get:function(){var t=this.ur.sr;return null===t||""===t?"":"?"+t},set:function(t){t=jo(t);var n=this.ur;if(""===t)return n.sr=null,void Ko(this.sr);"?"===t[0]&&(t=t.slice(1)),n.sr="",Ss(t,null,n,19),Jo(this.sr,t)}},{key:"searchParams",get:function(){return this.sr}},{key:"hash",get:function(){var t=this.ur.pr;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ur.pr="",Ss(t,null,this.ur,20)):this.ur.pr=null}}])&&Cu(n.prototype,e),i&&Cu(n,i),t}();function Cs(t){return t.document&&t.document.baseURI||t.location.href||""}function Ns(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ds(t,n){var e=n.style;if(e)for(var i in t)e[i]=t[i]}function As(){return void 0!==i?i.createElement("video"):void 0}function Ps(){return Is||(Is=As()),Is}ki(),Vt(),Ti(),Ti(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var xs=!!("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Bs=Ps(),Ls=!(!Bs||!Bs.webkitShowPlaybackTargetPicker),Fs=function(){function t(){this.br=void 0,this.kr=!1,this.Ce=xs,this.We=!1,this.Tr=!0}var n=t.prototype;return n.Sr=function(){return 0},n.Er=function(t,n){return!0},n.Rr=function(t){return t>=2*vu},Ri(t,[{key:"Ir",get:function(){return void 0===this.br&&(this.br=this.Sr()),this.br}},{key:"Or",get:function(){return!sr.fi}},{key:"Cr",get:function(){}},{key:"Nr",get:function(){return e.devicePixelRatio||1}},{key:"Dr",get:function(){return Ls}},{key:"Ar",get:function(){return!1}},{key:"Pr",get:function(){return!0}},{key:"Br",get:function(){return sr.ui||sr.Ve}},{key:"Lr",get:function(){return!0}},{key:"Fr",get:function(){return!0}},{key:"Mr",get:function(){return!1}},{key:"Ur",get:function(){}},{key:"Vr",get:function(){return!0}},{key:"Hr",get:function(){return!1}},{key:"qr",get:function(){return!1}}]),t}();ki(),Vt();var Ms=function(){var t=As();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(sr.Me)return!1;var t=As();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Us=function(t){function n(n){var e;return(e=t.call(this)||this).zr=n,e.zr&&(e.kr=e.zr.kr,e.Ce=e.zr.Ce,e.Tr=Ms&&e.zr.Tr),e}Xi(n,t);var e=n.prototype;return e.Sr=function(){return this.zr?this.zr.Ir:t.prototype.Sr.call(this)},e.Er=function(n,e){return this.zr?this.zr.Er(n,e):t.prototype.Er.call(this,n,e)},e.Rr=function(n){return this.zr?this.zr.Rr(n):t.prototype.Rr.call(this,n)},Ri(n,[{key:"Ur",get:function(){var t;return null==(t=this.zr)?void 0:t.Ur}},{key:"Vr",get:function(){var t,n;return null==(n=null==(t=this.zr)?void 0:t.Vr)||n}}]),n}(Fs),Vs=function(t){function n(n){var e;return(e=t.call(this,n)||this).kr=!0,e.We=!0,e}return Xi(n,t),Ri(n,[{key:"Mr",get:function(){return sr.Ve}}]),n}(Us);Ti();var Hs=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Sr=function(){return mi.MediaSource?t.prototype.Sr.call(this):1},Ri(n,[{key:"Mr",get:function(){return!0}}]),n}(Vs);ki(),Vt(),Ii();var qs=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Er=function(n,e){return t.prototype.Er.call(this,n,e)},Ri(n,[{key:"Ar",get:function(){return sr.Je<3}},{key:"Pr",get:function(){return sr.Je>=3}},{key:"Cr",get:function(){var t=this;return e.tizen&&!this.Wr&&e.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var e=n.resolutionWidth,i=n.resolutionHeight;1===e&&1===i||(t.Wr={width:e,height:i})})),this.Wr}},{key:"Hr",get:function(){return sr.Je<3}},{key:"qr",get:function(){return!0}}]),n}(Us);ki(),Vt();var zs=function(t){function n(){return t.call(this)}return Xi(n,t),n}(Fs);ki(),Vt(),Ii();var Ws=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Er=function(t,n){if(t&&t.jr&&n&&n.jr){var e=js(t.jr,"mp4a.40.2")&&js(n.jr,"mp4a.40.5"),i=js(t.jr,"mp4a.40.5")&&js(n.jr,"mp4a.40.2"),r=js(t.jr,"mp4a.40.2")&&js(n.jr,"mp4a.40.34"),u=js(t.jr,"mp4a.40.34")&&js(n.jr,"mp4a.40.2"),o=js(t.jr,"mp4a.40.5")&&js(n.jr,"mp4a.40.34"),s=js(t.jr,"mp4a.40.34")&&js(n.jr,"mp4a.40.5");return!(e||i||r||u||o||s)}return!0},Ri(n,[{key:"Ur",get:function(){if(sr.Ne)return 4096}}]),n}(zs);function js(t,n){return t.indexOf(n)>-1}ki(),Vt();var Ys=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Rr=function(t){return t>=2},n}(zs);ki(),Vt();var Gs=function(t){function n(){var n;return(n=t.call(this)||this).kr=sr.oi>=11,n.Tr=sr.ui&&!(sr.Ve&&sr.oi<10),n}return Xi(n,t),n}(zs);ki(),Vt(),Ii();var Xs=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),Ri(n,[{key:"Cr",get:function(){var t=this;return e.webOS&&!this.Wr&&e.webOS.deviceInfo((function(n){t.Wr={width:n.screenWidth,height:n.screenHeight}})),this.Wr}},{key:"Lr",get:function(){return!1}},{key:"qr",get:function(){return!0}}]),n}(Us);ki(),Vt(),Ii();var $s=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),Ri(n,[{key:"Vr",get:function(){return!sr.De||(sr.Xe?92!==sr.$e:sr.Ge>=100)}}]),n}(zs);ki(),Vt(),Ii();var Ks=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),Ri(n,[{key:"Mr",get:function(){return!0}}]),n}(Us),Js=function(){function n(){var n;this.Yr=new mu,this.Gr=new Zs,this.Xr=(n=sr.ii?new Ws:sr.Qe||sr.ti?new Ys:sr.ui?new Gs:sr.Ye?new $s:new zs,sr.Ve?new Hs(n):sr.We?new Vs(n):sr.Ke?new qs(n):sr.Ze?new Xs(n):sr.Ne?new Ks(n):new Us(n)),this.$r=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Kr=function(){return t.performance.now()}:this.Kr=au}var e=n.prototype;return e.Jr=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Or.apply(void 0,Bi(n))},e.Zr=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Cr.apply(void 0,Bi(n))},e.Qr=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Nr.apply(void 0,Bi(n))},e.tu=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];Dr.apply(void 0,[t].concat(Bi(e)))},e.nu=function(t,n){return o(t,n)},e.eu=function(t,n){return a(t,n)},e.iu=function(t){s(t)},e.ru=function(t){c(t)},e.Ii=function(t){return this.Yr.Ii(t)},e.uu=function(){return this.ou.uu()},e.su=function(){return this.ou.su()},e.au=function(){return this.ou.au()},e.cu=function(){return this.ou.cu()},e.fu=function(){return this.ou.fu()},e.hu=function(t,n){return this.ou.hu(t,n)},e.vu=function(t){return this.ou.vu(t)},e.du=function(t,n){var e;return void 0===n&&(n=Cs(mi)),e="object"!=typeof n||n instanceof Os?n:n.href,new Os(t,e)},e.lu=function(n,e){if(void 0===e&&(e=Cs(mi)),this.$r){var i=gr(e)?e:e.toString();return new t.URL(n,i).href}return this.du(n,e).href},Ri(n,[{key:"wu",get:function(){return this.Gr}},{key:"gu",get:function(){return this.Xr}},{key:"yu",get:function(){return{mu:u&&u.userAgent.match(/Android /i)?"Android":"other",_u:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"pu",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"bu",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),Zs=function(){function t(){}return Ri(t,[{key:"ku",get:function(){return u.oscpu}},{key:"gu",get:function(){return u.platform}},{key:"Tu",get:function(){return u.vendor}},{key:"Su",get:function(){return u.vendorSub}}]),t}();function Qs(t,n,e,i,r,u,o){try{var s=t[u](o),a=s.value}catch(t){return void e(t)}s.done?n(a):Y.resolve(a).then(i,r)}function ta(t){return function(){var n=this,e=arguments;return new Y((function(i,r){var u=t.apply(n,e);function o(t){Qs(u,i,r,o,s,"next",t)}function s(t){Qs(u,i,r,o,s,"throw",t)}o(void 0)}))}}function na(){return(na=v.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)v.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}function ea(t,n){var e,i,r,u,o=function(t){return function(n){return s([t,n])}},s=function(u){if(e)throw new h("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=2&u[0]?i.return:u[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,u[1])).done)return r;switch(i=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){a.label=u[1];break}if(6===u[0]&&a.label<r[1]){a.label=r[1],r=u;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(u);break}r[2]&&a.ops.pop(),a.trys.pop();continue}u=n.call(t,a)}catch(t){u=[6,t],i=0}finally{e=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}},a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function ia(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,r,u=[],o=!0,s=!1;try{for(e=e.call(t);!(o=(i=e.next()).done)&&(u.push(i.value),!n||u.length!==n);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==e.return||e.return()}finally{if(s)throw r}}return u}}(t,n)||Pi(t,n)||function(){throw new h("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(){var t=v.create(null);return t.__=void 0,delete t.__,t}function ua(){return new aa}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),xi();var oa,sa="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,aa=sa||(oa=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=v.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ra(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ra(),this.size=0},n.keys=function(){return new oa(this.data,(function(t,n){return n}))},n.values=function(){return new oa(this.data,(function(t,n){return t[n]}))},n.entries=function(){return new oa(this.data,(function(t,n){return[n,t[n]]}))},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var ca,fa,ha,va=sa||(ca=function(){function t(t,n){this.Ru=t,this.Iu=n}return t.prototype.next=function(){var t=this.Ru.next();return t.done?t:{value:this.Iu(t.value),done:!1}},t}(),function(){function t(){this.Ou=ua()}var n=t.prototype;return n.get=function(t){return this.Ou.get(""+t)},n.set=function(t,n){return this.Ou.set(""+t,n),this},n.has=function(t){return this.Ou.has(""+t)},n.delete=function(t){return this.Ou.delete(""+t)},n.clear=function(){this.Ou.clear()},n.keys=function(){return new ca(this.Ou.keys(),(function(t){return Number(t)}))},n.values=function(){return this.Ou.values()},n.entries=function(){return new ca(this.Ou.entries(),(function(t){var n=ia(t,2),e=n[0],i=n[1];return[Number(e),i]}))},n.forEach=function(t){this.Ou.forEach((function(n,e){t(n,Number(e))}))},Ri(t,[{key:"size",get:function(){return this.Ou.size}}]),t}());Ti(),ki(),Vt(),ki(),Vt(),(ha=fa||(fa={})).Cu="9a04f079-9840-4286-ab92-e65be0885f95",ha.Nu="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ha.Du="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ha.Au="94ce86fb-07ff-4f43-adb8-93d2fa968ca2";var da,la,wa="cenc",ga="sinf",ya="skd",ma="9a04f079-9840-4286-ab92-e65be0885f95",_a="urn:uuid:"+ma,pa="com.microsoft.playready",ba="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ka="urn:uuid:"+ba,Ta="com.widevine.alpha",Sa="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Ea="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Ra="urn:uuid:"+Ea,Ia="com.apple.fps.1_0";ki(),Vt(),(la=da||(da={})).Cu="playready",la.Nu="widevine",la.Au="fairplay",la.Du="clearkey",la.Pu="aes128";var Oa={xu:da.Cu,Bu:pa,Lu:"cenc",Fu:ma,Mu:_a,Uu:"PlayReady"},Ca={xu:da.Nu,Bu:Ta,Lu:"cenc",Fu:ba,Mu:ka,Uu:"Widevine"},Na={xu:da.Au,Bu:Ia,Lu:"skd",Fu:Ea,Mu:Ra,Uu:"FairPlay"},Da=(da.Au,{xu:da.Du,Bu:"org.w3.clearkey",Lu:"cenc",Fu:Sa,Mu:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Uu:"ClearKey"});function Aa(t,n,e){return t.split(n).join(e)}function Pa(t,n){return null!=t&&-1!==t.indexOf(n)}function xa(t,n){return null!=t&&t.substr(0,n.length)===n}function Ba(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function La(t,n){return t.toUpperCase()===n.toUpperCase()}function Fa(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return Ua(n)}ki(),Vt(),Fi();var Ma=16384;function Ua(t){var n,e=t.length;if(e<=Ma)return(n=String).fromCharCode.apply(n,Bi(t));for(var i=[],r=0;r<e;r+=Ma){var u;i.push((u=String).fromCharCode.apply(u,Bi(t.slice(r,r+Ma))))}return i.join("")}var Va=sr.Ye&&sr.Ge>=42||sr.ii&&sr.ri>=38||sr.Qe||sr.ni||sr.si&&sr.ai>=29;function Ha(t,n){return Pa(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[na({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[na({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var qa,za,Wa=function(){function t(t){this.Vu=ua(),this.Hu=void 0,this.qu=t}var n=t.prototype;return n.fu=function(){return this.vu(Ca)},n.su=function(){return this.vu(Da)},n.cu=function(){return this.vu(Oa)},n.au=function(){return this.vu(Na)},n.vu=function(t){var n=t.Mu,e=this.Vu.get(n);if(e)return e;var i=this.hu(t,'video/mp4; codecs="avc1.42000a"');return this.Vu.set(n,i),i},n.hu=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,e.qu.zu(t.Bu,[Ha(n,!0)])];case 1:return i.sent(),[2,!0];case 2:i.sent(),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,e.qu.zu(t.Bu,[Ha(n,!1)])];case 4:return i.sent(),[2,!0];case 5:return i.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.uu=function(){return this.Hu||(this.Hu=this.Wu()),this.Hu},n.Wu=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return"https:"===_i.protocol?[2,!1]:Va?[4,t.su()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function ja(t,n){var e=function(t,n){var e=t,i=e.length;if(i<=1)return e;for(var r=new Array(i),u=1;u<i;u*=2){Ya(e,n,u,r);var o=e;e=r,r=o}return e}(t,n);return e!==t&&Ya(e,void 0,t.length,t),t}function Ya(t,n,e,i){var r,u,o,s,a,c=t.length,f=0,h=2*e;for(u=0;u<c;u+=h)for(r=(o=u+e)+e,o>c&&(o=c),r>c&&(r=c),s=u,a=o;;)if(s<o&&a<r)n&&n(t[s],t[a])<=0?i[f++]=t[s++]:i[f++]=t[a++];else if(s<o)i[f++]=t[s++];else{if(!(a<r))break;i[f++]=t[a++]}}ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(za=qa||(qa={}))[za.ju=0]="ju",za[za.Yu=1]="Yu",za[za.Gu=-1]="Gu";var Ga=function(t,n){return(0|t)-(0|n)},Xa=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1};function $a(t,n,e){return ou(t,n,e)?0:Xa(t,n)}var Ka=function(t,n){return function(t,n){if(t===n)return!0;var e=d.abs(t-n);return e<ru||e<d.max(d.abs(t),d.abs(n))*ru}(t,n)?0:Xa(t,n)};function Ja(t,n,e){var i=function(t,n,e){for(var i=0;i<t.length;i+=1){var r=t[i];if(n.call(e,r,i,t))return i}return-1}(t,n,e);return-1===i?void 0:t[i]}function Za(t,n,e){var i=function(t,n,e){for(var i=t.length-1;i>=0;i-=1){var r=t[i];if(n.call(e,r,i,t))return i}return-1}(t,n,e);return-1===i?void 0:t[i]}function Qa(t,n){var e=t.indexOf(n);return-1!==e&&(tc(t,e),!0)}function tc(t,n){t.splice(n,1)}function nc(t,n){return-1!==t.indexOf(n)}function ec(t){t.length=0}ki(),Vt(),Ii(),ki(),Vt(),Ii();var ic=function(){function t(){this.Xu=!1,this.$u=!1,this.Ku=[],this.Ju=[]}var n=t.prototype;return n.Zu=function(){if(!this.Xu&&!this.$u){this.Xu=!0;for(var t=0,n=this.Ku.slice();t<n.length;t++){(0,n[t])()}this.Qu()}},n.Qu=function(){if(!this.$u){this.$u=!0;for(var t=0,n=this.Ju.slice();t<n.length;t++){(0,n[t])()}ec(this.Ku),ec(this.Ju)}},n.eo=function(t){this.$u||this.Ku.push(t)},n.io=function(t){this.$u||Qa(this.Ku,t)},n.ro=function(t){this.$u||this.Ju.push(t)},n.uo=function(t){this.$u||Qa(this.Ju,t)},t}(),rc=function(){function t(){this.oo=new ic}var n=t.prototype;return n.so=function(){this.oo.Zu()},n.Qu=function(){this.oo.Qu()},n.ao=function(t){var n=this.oo;if(!n.Xu)if(t.Xu)n.Zu();else if(!n.$u&&!t.$u){var e=function(){i(),n.Zu()},i=function(){t.io(e),t.uo(i),n.io(e),n.uo(i)};t.eo(e),t.ro(i),n.eo(e),n.ro(i)}},n.co=function(){var n=new t,e=new t,i=n.fo,r=e.fo,u=this.oo,o=function(){i.Xu&&r.$u||r.Xu&&i.$u?u.Zu():i.$u&&r.$u&&u.Qu()};i.eo(o),r.eo(o),i.ro(o),r.ro(o),n.ao(u),e.ao(u);return u.ro((function(){i.io(o),r.io(o),i.uo(o),r.uo(o)})),[n,e]},Ri(t,[{key:"fo",get:function(){return this.oo}}]),t}(),uc=function(t){function n(n,e){return t.call(this,n||"Aborted",e)}return Xi(n,t),Ri(n,[{key:"name",get:function(){return"AbortError"}}]),n}(gu);function oc(t){return t instanceof f&&"AbortError"===t.name}function sc(t){if(t&&t.Xu)throw new uc}function ac(t){if(oc(t))throw t}function cc(t){if(!oc(t))throw t}function fc(t,n){return n?new Y((function(e,i){if(n.Xu)return t.catch(pr),i(new uc);var r=function(){n.io(r),i(new uc)};n.eo(r),t.then((function(t){n.io(r),e(t)}),(function(t){n.io(r),i(t)}))})):t}function hc(t,n){return t.then((function(t){return n.Qu(),t}),(function(t){throw n.Qu(),t}))}ki(),Vt();var vc=Y.resolve();function dc(t){vc.then(t)}function lc(t){t.then(pr,pr)}function wc(t){return gc.apply(this,arguments)}function gc(){return(gc=ta((function(t){var n;return ea(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,Y.all(t)];case 1:return[2,e.sent()];case 2:return n=e.sent(),[4,Y.all(t.map((function(t){return t.catch(pr)})))];case 3:throw e.sent(),n;case 4:return[2]}}))}))).apply(this,arguments)}function yc(t,n){return new Y((function(e,i){if(void 0!==n&&n.Xu)i(new uc);else{var r=Wi.nu((function(){void 0!==n&&n.io(u),e()}),t),u=function(){Wi.iu(r),i(new uc)};void 0!==n&&n.eo(u)}}))}function mc(t){return t&&"function"!=typeof t?t.slice():t}function _c(t,n,e){if(e)if("function"==typeof e)e.call(t,n);else for(var i=0;i<e.length;i++){e[i].call(t,n)}}var pc=function(){function t(t){var n=this;this.ho=ra(),this.vo=void 0,this.do=function(t){n.lo(t)},this.wo=t||this}var n=t.prototype;return n.yo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.mo(t,n);else for(var e=0;e<t.length;e++){var i=t[e];this.mo(i,n)}},n.mo=function(t,n){var e=this.ho[t];e?"function"==typeof e?this.ho[t]=[e,n]:e.push(n):this.ho[t]=n},n._o=function(t){if("function"==typeof t){var n=this.vo;n?"function"==typeof n?this.vo=[n,t]:n.push(t):this.vo=t}},n.po=function(){this.ho=ra(),this.vo=void 0},n.lo=function(t){var n=mc(this.ho[t.type]),e=mc(this.vo);_c(this.wo,t,n),_c(this.wo,t,e)},n.bo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.ko(t,n);else for(var e=0;e<t.length;e++){var i=t[e];this.ko(i,n)}},n.ko=function(t,n){var e=this.ho[t];e&&("function"==typeof e?e===n&&(this.ho[t]=void 0):Qa(e,n))},n.To=function(t){if("string"==typeof t)this.ho[t]=void 0;else for(var n=0;n<t.length;n++){var e=t[n];this.ho[e]=void 0}},n.So=function(t){var n=this.vo;n&&("function"==typeof n?n===t&&(this.vo=void 0):Qa(n,t))},n.Eo=function(t,n){var e=this;return new Y((function(i,r){if(n&&n.Xu)return r(new uc);var u=function(t){s(),i(t)},o=function(){s(),r(new uc)},s=function(){e.bo(t,u),n&&n.io(o)};e.yo(t,u),n&&n.eo(o)}))},t}(),bc=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.lo=function(n){var e=this;dc((function(){t.prototype.lo.call(e,n)}))},n}(pc);ki(),Vt(),ki(),Vt();var kc,Tc,Sc=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ec=["cenc"],Rc=["cbcs","cbcs-1-9"],Ic=function(t){function n(n){var e;return(e=t.call(this,"Io")||this).Ro=n,e}return Xi(n,t),n}(Sc),Oc=function(t){function n(n,e,i,r){var u;return(u=t.call(this,"Oo")||this).Ro=n,u.Co=e,u.Oo=i,u.No=r,u}return Xi(n,t),n}(Sc),Cc=function(t){function n(){return t.call(this,"Do")}return Xi(n,t),n}(Sc);(Tc=kc||(kc={})).Ao="Po",Tc.xo="Bo";var Nc=function(t){function n(n,e){var i;return(i=t.call(this,"Po")||this).Lu=n,i.Lo=e,i}return Xi(n,t),n}(Sc);ki(),Vt(),Ii();var Dc=new y([0]).buffer,Ac=function(){function t(){this.Fo=[]}var n=t.prototype;return n.Mo=function(t){for(var n=0,e=this.Fo;n<e.length;n++){if(e[n][0]===t)return!0}return!1},n.Uo=function(t){for(var n=0,e=this.Fo;n<e.length;n++){var i=e[n];if(i[0]===t)return i[1]}},n.Vo=function(t,n){this.Fo.forEach((function(n){return t(n[1],n[0])}),n)},n.Ho=function(t,n){this.Fo.push([t,n])},n.qo=function(){ec(this.Fo)},Ri(t,[{key:"zo",get:function(){return this.Fo.length}}]),t}();ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var Pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),xc=/[\t\n\f\r ]/g;function Bc(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Lc()}function Lc(){throw new f("Invalid base64 input")}function Fc(t){var n=t;xc.test(n)&&(n=n.replace(xc,""));var e=n.length;e%4==0&&e>=1&&"="===n[e-1]&&(e>=2&&"="===n[e-2]?e-=2:e-=1,n=n.substr(0,e));var i=e%4;if(1===i)return Lc();for(var r,u=0===i?0:4-i,o=new y(function(t,n){return 3*(t+n)/4-n}(e,u)),s=u>0?e-4:e,a=0,c=0;a<s;a+=4)r=Bc(n.charCodeAt(a))<<18|Bc(n.charCodeAt(a+1))<<12|Bc(n.charCodeAt(a+2))<<6|Bc(n.charCodeAt(a+3)),o[c++]=r>>16&255,o[c++]=r>>8&255,o[c++]=255&r;return 2===u?(r=Bc(n.charCodeAt(a))<<2|Bc(n.charCodeAt(a+1))>>4,o[c++]=255&r):1===u&&(r=Bc(n.charCodeAt(a))<<10|Bc(n.charCodeAt(a+1))<<4|Bc(n.charCodeAt(a+2))>>2,o[c++]=r>>8&255,o[c++]=255&r),o}function Mc(t,n,e){for(var i,r,u,o=[],s=n;s<e;s+=3)o.push((i=t[s],r=t[s+1],u=t[s+2],Pc[i>>2]+Pc[(3&i)<<4|r>>4]+Pc[(15&r)<<2|u>>6]+Pc[63&u]));return o.join("")}function Uc(t){for(var n=t.length,e=n%3,i=[],r=n-e,u=0;u<r;u+=16383)i.push(Mc(t,u,d.min(r,u+16383)));if(1===e){var o=t[n-1];i.push(Pc[o>>2]+Pc[(3&o)<<4]+"==")}else if(2===e){var s=t[n-2],a=t[n-1];i.push(Pc[s>>2]+Pc[(3&s)<<4|a>>4]+Pc[(15&a)<<2]+"=")}return i.join("")}var Vc=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Hc=ArrayBuffer.isView||function(t){return t&&nc(Vc,cr.call(t))};function qc(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var e=0;e<t.length;e+=1)if(t[e]!==n[e])return!1;return!0}(new y(t),new y(n))}function zc(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return function(t,n){for(var e=new y(n),i=0,r=0;r<t.length;r++){var u=t[r];e.set(u,i),i+=u.byteLength}return e}(t,n)}function Wc(t){return Fc(t).buffer}function jc(t){return Uc(new y(t))}function Yc(t){return Uc(yf(t))}ki(),Vt(),Ii();var Gc=function(){function t(t){void 0===t&&(t=0),this.Wo=t}var n=t.prototype;return n.jo=function(t){this.Wo+=t},n.Yo=function(t){this.Wo=t},n.Go=function(){return new t(this.Xo)},Ri(t,[{key:"Xo",get:function(){return this.Wo}}]),t}();function Xc(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function $c(t,n){return t>>n&63|128}function Kc(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Xc(t),n.push(t>>12&15|224),n.push($c(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push($c(t,12)),n.push($c(t,6))),n.push(63&t|128)):n.push(t)}function Jc(t,n){if(n.Xo>=t.length)throw new f("Invalid byte index");var e=255&t[n.Xo];if(n.jo(1),128==(192&e))return 63&e;throw new f("Invalid continuation byte")}function Zc(t,n){var e=n.Xo;if(e>t.length)throw new f("Invalid byte index");if(e===t.length)return!1;var i=255&t[e];if(n.jo(1),0==(128&i))return i;if(192==(224&i)){var r=(31&i)<<6|Jc(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&i)){var u=(15&i)<<12|Jc(t,n)<<6|Jc(t,n);if(u>=2048)return Xc(u),u;throw new f("Invalid continuation byte")}if(240==(248&i)){var o=(7&i)<<18|Jc(t,n)<<12|Jc(t,n)<<6|Jc(t,n);if(o>=65536&&o<=1114111)return o}throw new f("Invalid UTF-8 detected")}ki(),Vt(),ki(),Vt();var Qc=function(){function t(t){this.$o=t}return t.prototype.Ko=function(t){return function(t,n){return(t&n)===n}(this.$o,t)},t}();function tf(t,n){var e=t.getUint8(n.Xo);return n.jo(1),e}function nf(t,n,e){t.setUint8(n.Xo,e),n.jo(1)}function ef(t,n,e){var i=Tf(Ef(t),n.Xo,n.Xo+e);return n.jo(i.byteLength),i}function rf(t,n,e){return n.Xo+e<=t.byteLength}function uf(t,n,e){void 0===e&&(e=!1);var i=t.getUint16(n.Xo,e);return n.jo(2),i}function of(t,n,e,i){void 0===i&&(i=!1),t.setUint16(n.Xo,e,i),n.jo(2)}function sf(t,n,e){void 0===e&&(e=!1);var i=t.getUint32(n.Xo,e);return n.jo(4),i}function af(t,n,e,i){void 0===i&&(i=!1),t.setUint32(n.Xo,e,i),n.jo(4)}function cf(t,n,e){void 0===e&&(e=!1);var i=sf(t,n,e),r=sf(t,n,e),u=e?r:i,o=e?i:r;return iu.fromBits(o,u,!0)}function ff(t,n){return function(t,n){return df(t,n,!0)}(t,n)}function hf(t,n,e){return Ua(Nf(ef(t,n,e)))}function vf(t,n){var e,i=tf(t,n);return 0==(128&i)?e=i:192==(224&i)?e=64*(31&i)+(63&tf(t,n)):224==(240&i)?e=4096*(15&i)+64*(63&tf(t,n))+(63&tf(t,n)):240==(248&i)&&(e=262144*(7&i)+4096*(63&tf(t,n))+64*(63&tf(t,n))+(63&tf(t,n))),e}function df(t,n,e){for(var i=[];n.Xo<t.byteLength;){var r=tf(t,n);if(e&&!r)break;i.push(r)}return Ua(i)}function lf(t,n,e,i){for(var r=[];n.Xo+2<=t.byteLength;){var u=uf(t,n,e);if(i&&!u)break;r.push(u)}return Ua(r)}function wf(t,n,e,i){void 0===i&&(i=!1);for(var r=e.length,u=0;u<r;u+=1){of(t,n,e.charCodeAt(u),i)}}function gf(t){return df(Sf(t),new Df,!1)}function yf(t){var n=new y(t.length);return function(t,n,e){for(var i=e.length,r=0;r<i;r+=1)nf(t,n,e.charCodeAt(r))}(Sf(n),new Df,t),n}function mf(t,n){return void 0===n&&(n=!1),lf(Sf(t),new Df,n,!1)}function _f(t,n){void 0===n&&(n=!1);var e=new y(2*t.length);return wf(Sf(e),new Df,t,n),e}function pf(t,n){return function(t,n,e){var i=[];(function(t,n){return n.Xo+3<=t.byteLength&&239===t.getUint8(n.Xo)&&187===t.getUint8(n.Xo+1)&&191===t.getUint8(n.Xo+2)})(t,n)&&n.jo(3);for(;n.Xo<t.byteLength;){var r=vf(t,n);if(void 0===r)break;if(e&&0===r)break;i.push(r)}return Fa(i)}(t,n,!0)}function bf(t){return Fa(function(t,n){var e,i=[],r=new Df;if(!n){if(!1===(e=Zc(t,r)))return i;65279===e||i.push(e)}for(;!1!==(e=Zc(t,r));)i.push(e);return i}(Ef(t)))}function kf(t){return new y(function(t){for(var n=[],e=0;e<t.length;e++)Kc(t[e],n);return n}(function(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}(t)))}function Tf(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),new y(t.buffer,t.byteOffset+n,e-n)}function Sf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ef(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Rf(t){return t instanceof ArrayBuffer||Hc(t)}function If(t){return t instanceof ArrayBuffer?new y(t):Ef(t)}function Of(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),t.slice?t.slice(n,e):Cf(Tf(t,n,e))}function Cf(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function Nf(t){return[].slice.call(t)}var Df=function(){function t(t){void 0===t&&(t=0),this.Wo=t}var n=t.prototype;return n.jo=function(t){this.Wo+=t},n.Yo=function(t){this.Wo=t},n.Go=function(){return new t(this.Xo)},n.Jo=function(){return new Gc(this.Xo<<3)},Ri(t,[{key:"Xo",get:function(){return this.Wo}}]),t}();ki(),Vt();var Af=function(){function t(){var t=this;this.Zo=new Y((function(n,e){t.Z=n,t.nt=e}))}var n=t.prototype;return n.Qo=function(t){this.Z&&(this.Z(t),this.Qu())},n.ts=function(t){this.nt&&(this.nt(t),this.Qu())},n.so=function(){this.Zo.catch(pr),this.ts(new uc)},n.ao=function(t){var n=this;t.then((function(t){return n.Qo(t)}),(function(t){return n.ts(t)}))},n.Qu=function(){this.Z=void 0,this.nt=void 0},t}();function Pf(){return new y([8,4]).buffer}function xf(t,n){return t===pa?function(t){if(t.byteLength<2*Bf.length)return t;if(mf(new DataView(t,0,2*Bf.length),!0)===Bf)return t;return n=t,e='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',_f('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+jc(n)+e,!0).buffer;var n,e}(n):n}ki(),Vt();var Bf="<PlayReady";ki(),Vt(),ki(),Vt();var Lf=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,r)||this).es=e,u.rs=i,u}return Xi(n,t),n}(gu);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Ff=function(t,n){return(Ff=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)v.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)};function Mf(t,n){var e=function(){this.constructor=t};if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");Ff(t,n),t.prototype=null===n?v.create(n):(e.prototype=n.prototype,new e)}function Uf(t,n,e){return t.indexOf?t.indexOf(n,e):Array.prototype.indexOf.call(t,n,e)}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Vf;(Vf=function(t,n){this.us=t,this.os=n}).prototype.get=function(t){var n=this.us.get(t);if(0===this.os||void 0===n)return n;var e=this.us.get(t+1)||0,i=n&(1<<8-this.os)-1,r=e>>8-this.os;return(i<<this.os)+r},Vf.prototype.getBit=function(t){if(!(t<0)){var n=this.us.get(d.floor((t+this.os)/8));if(void 0!==n)return(n&1<<7-this.os-t%8)>0?1:0}},v.defineProperty(Vf.prototype,"bitLength",{get:function(){return this.us.bitLength-this.os},enumerable:!1,configurable:!0}),v.defineProperty(Vf.prototype,"length",{get:function(){return this.us.length},enumerable:!1,configurable:!0});ki(),Vt(),ki(),Vt();d.pow(2,-52);function Hf(t,n,e){return d.min(d.max(t,n),e)}function qf(t,n){return t>>8-n}function zf(t,n){return t&(1<<n)-1}var Wf,jf=(Wf=function(t){this.ss=t,this.cs=0,this.fs=0},v.defineProperty(Wf.prototype,"totalBitsRead",{get:function(){return 8*this.cs+this.fs},enumerable:!1,configurable:!0}),v.defineProperty(Wf.prototype,"done",{get:function(){return this.cs===this.ss.length&&0===this.fs},enumerable:!1,configurable:!0}),v.defineProperty(Wf.prototype,"location",{get:function(){return{byte:this.cs,bit:this.fs}},enumerable:!1,configurable:!0}),Wf.prototype.copy=function(){var t=new Wf(this.ss);return t.seek(this.cs,this.fs),t},Wf.prototype.canReadBits=function(t){return 8*this.cs+t+this.fs<=8*this.ss.length},Wf.prototype.canReadBytes=function(t){return 0===this.fs?this.cs+t<=this.ss.length:this.cs+t<this.ss.length},Wf.prototype.incBit=function(){this.fs++,this.fs>7&&(this.cs++,this.fs=0)},Wf.prototype.seek=function(t,n){this.cs=t,this.fs=n},Wf.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.ss.get(this.cs)>>7-this.fs&1},Wf.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},Wf.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.fs)return this.ss.get(this.cs++);var t=zf(this.ss.get(this.cs),8-this.fs),n=qf(this.ss.get(this.cs+1),this.fs);return this.cs++,t<<this.fs|n},Wf.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],e=0;e<t;e++)n.push(this.readBit());return n},Wf.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.fs&&t%8==0)for(var e=t-8;e>=0;e-=8)n|=this.readByte()<<e;else for(e=t-1;e>=0;e--)n|=this.readBit()<<e;return n},Wf.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0==(n&1<<t-1)?n:n-d.pow(2,t)},Wf.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},Wf.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},Wf.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.fs+t;this.cs+=n>>3,this.fs=7&n},Wf.prototype.readBool=function(){return this.readBit()>0},Wf.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],e=0;e<t;e++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},Wf);ki(),Vt(),ki(),Vt(),ki(),Vt();var Yf,Gf=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},Xf=((Yf=function(){this.hs=[],this.vs=[],this.N=0}).from=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=new Yf,i=0,r=t;i<r.length;i++){var u=r[i];e.pushRange(u)}return e},Yf.prototype.pushRange=function(t,n,e){if(void 0===n&&(n=0),void 0===e&&(e=t.length),e<0)throw new f("The buffer length must be positive.");if(0!==e){if(0===this.vs.length)this.vs.push(0);else{var i=this.vs[this.vs.length-1]+this.hs[this.hs.length-1].length;this.vs.push(i)}this.hs.push(t.subarray(n,n+e)),this.N+=e}},Yf.prototype.concat=function(t){var n=new Yf;return n.pushRange(this.join()),n.pushRange(t.join()),n},Yf.prototype.copy=function(t,n,e,i){if(void 0===n&&(n=0),void 0===e&&(e=0),void 0===i&&(i=this.length),n<0||e<0||i<0)throw new RangeError;return this.slice(e,i).copyInternal(t,n)},Yf.prototype.copyInternal=function(t,n){for(var e=0,i=n,r=0,u=this.hs;r<u.length;r++){var o=u[r];t.set(o,i),e+=o.length,i+=o.length}return e},Yf.prototype.clear=function(){this.hs=[],this.vs=[],this.N=0},Yf.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),e=t-this.vs[n];return this.hs[n][e]}},v.defineProperty(Yf.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),Yf.prototype.indexOf=function(t){if(this.hs.length<1)return-1;if(this.hs.length>1){var n=this.join();this.clear(),this.pushRange(n)}var e=this.hs[0];return"number"==typeof t?Uf(e,t):"undefined"!=typeof Buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var e=n[0],i=n.length,r=t.length-i,u=0;u<=r&&!((u=Uf(t,e,u))<0||u>r);u++){for(var o=u+1,s=u+i,a=1;o<s&&t[o]===n[a];o++,a++);if(o===s)return u}return-1}(e,t)},Yf.prototype.findContainingBufferIndex=function(t){return function(t,n,e){if(0!==t.length){var i=0,r=t.length-1;if(1!==e(t[i],n)){if(1===e(n,t[r]))return r;for(;i!==r;){var u=d.ceil((i+r)/2);e(t[u],n)<=0?i=u:r=u-1}return i}}}(this.vs,t,Gf)},Yf.prototype.join=function(){if(1===this.hs.length)return this.hs[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(Yf.prototype,"length",{get:function(){return this.N},enumerable:!1,configurable:!0}),v.defineProperty(Yf.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),Yf.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var e=0,i=0;i<n;i++)e+=this.get(t+i)*d.pow(2,8*(n-i-1));return e},Yf.prototype.slice=function(t,n){void 0===n&&(n=this.length);var e=Hf(t,0,this.length),i=Hf(n,0,this.length);if(e>i)return new Yf;if(e===i)return new Yf;for(var r=new Yf,u=this.findContainingBufferIndex(e),o=this.hs[u],s=e,a=s-this.vs[u];s+o.length-a<i;)r.pushRange(o,a,o.length-a),u+=1,a=(s+=o.length-a)-this.vs[u],o=this.hs[u];var c=i-s;return r.pushRange(o,a,c),r},Yf.prototype.trim=function(){if(0===this.length)return new Yf;for(var t=this.length-1,n=this.hs.length-1,e=this.hs[n],i=e.length-1;t>=0&&n>=0&&0===e[i];){if(0===i){if(0===n)return new Yf;n-=1,i=(e=this.hs[n]).length-1}else i-=1;t-=1}return this.slice(0,t+1)},Yf),$f=function(){function t(n){this.ds=n||t.BUFFER_CHUNK_SIZE,this.Nn=!1,this.ls=new Xf,this.ss=new y(this.ds),this.gs=0,this.ys=0,this.fs=7}return t.prototype.closeByte=function(){this.ss[this.gs++]=this.ys,this.gs>=this.ds&&this.closeBuffer(),this.ys=0,this.fs=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.gs&&(this.ls.pushRange(this.ss,0,this.gs),t&&(this.ss=new y(this.ds)),this.gs=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.fs},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Nn)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Nn=!0,this.ls},t.prototype.writeBit=function(t){if(this.Nn)throw new f("Cannot write to a closed BitWriter.");this.ys|=t<<this.fs,0===this.fs?this.closeByte():this.fs--},t.prototype.writeByte=function(t){if(this.Nn)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.ys=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.fs;this.ys|=qf(t,n+1),this.closeByte(),this.ys=zf(t,8-n)<<n+1,this.fs=n},t.prototype.writeBits=function(t){for(var n=0,e=t;n<e.length;n++){var i=e[n];this.writeBit(i)}},t.prototype.writeBytes=function(t){if(this.Nn)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.gs+t.length<=this.ds?(this.ss.set(t,this.gs),this.gs+=t.length,this.gs===this.ds&&this.closeBuffer()):(this.closeBuffer(),this.ls.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.fs;this.ys|=qf(t[0],n+1),this.closeByte();for(var e=1;e<t.length;e++){var i=zf(t[e-1],8-n),r=qf(t[e],n+1);this.ys=i<<n+1|r,this.closeByte()}this.ys=zf(t[t.length-1],8-n)<<n+1,this.fs=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var e=n-8;e>=0;e-=8)this.writeByte(t>>e&255);else for(e=n-1;e>=0;e--)this.writeBool((t&1<<e)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,e=0;e<n-1;e++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}(t),e=0;e<n.length;e++)this.writeByte(n[e])},t.BUFFER_CHUNK_SIZE=1024,t}();ki(),Vt();var Kf,Jf,Zf=((Kf=function(t){this.rb=new Xf,this.ct=t}).prototype.closeWriter=function(){void 0!==this.ct&&(this.rb=this.rb.concat(this.ct.close()),this.ct=void 0)},v.defineProperty(Kf.prototype,"writer",{get:function(){return void 0===this.ct&&(this.ct=new $f),this.ct},enumerable:!1,configurable:!0}),Kf.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},Kf.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},Kf),Qf=((Jf=function(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}).prototype.serializeCommonBoxHeader=function(t){var n=this.getSize(),e=n>=Jf.LARGE_SIZE/8,i=16===this.boxType.length;t.writeUInt(e?1:n,32),t.writeString(i?"uuid":this.boxType),e&&(t.writeUInt(d.floor(n/Jf.LARGE_SIZE),32),t.writeUInt(n%Jf.LARGE_SIZE,32)),i&&t.writeString(this.boxType)},Jf.prototype.getSize=function(){var t=8+(this.boxType.length>4?16:0),n=this.getBoxContentSize()+t;return n>=Jf.LARGE_SIZE/8&&(n+=8),n},Jf.prototype.serialize=function(){var t=new Zf;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},Jf.LARGE_SIZE=d.pow(2,32),Jf);function th(t,n){return t instanceof iu?64===n:t<d.pow(2,n)}function nh(t,n){return d.round(t*d.pow(2,n))}function eh(t,n){for(var e=0;e<n.length;e++)t.writeByte(n[e])}function ih(t,n){return t/d.pow(2,n)}ki(),Vt();var rh,uh,oh=(Mf(uh=function(t,n,e){var i=rh.call(this,t)||this;if(i.version=n,!th(n,8))throw new f("the provided version cannot fit in 8 bits.");return i.flags=e,i},rh=Qf),v.defineProperty(uh.prototype,"flags",{get:function(){return this._s},set:function(t){this._s=t},enumerable:!1,configurable:!0}),uh.prototype.getBoxContentSize=function(){return 4},uh.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},uh.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},uh);ki(),Vt(),ki(),Vt();var sh=function(t){var n=function(n,e){var i=t.call(this,n)||this;return i.data=e,i};return Mf(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Xf.from(this.data))},n}(Qf);ki(),Vt(),ki(),Vt();var ah,ch=((ah=function(t){void 0===t&&(t=0),this.offset=t}).prototype.shift=function(t){this.offset+=t},ah.prototype.seek=function(t){this.offset=t},ah.prototype.clone=function(){return new ah(this.offset)},ah);ki(),Vt();var fh=16384;function hh(t){var n=t.length;if(n<=fh)return String.fromCharCode.apply(String,t);for(var e=[],i=0;i<n;i+=fh)e.push(String.fromCharCode.apply(String,t.slice(i,i+fh)));return e.join("")}var vh,dh=((vh=function(t){this.raw=t}).prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},vh);function lh(t,n){var e=t.getUint8(n.offset);return n.shift(1),e}function wh(t,n,e){var i=kh(Th(t),n.offset,n.offset+e);return n.shift(i.byteLength),i}function gh(t,n,e){return n.offset+e<=t.byteLength}function yh(t,n,e){void 0===e&&(e=!1);var i=t.getUint32(n.offset,e);return n.shift(4),i}function mh(t,n,e){void 0===e&&(e=!1);var i=yh(t,n,e),r=yh(t,n,e),u=e?r:i,o=e?i:r;return iu.fromBits(o,u,!0)}function _h(t,n,e){var i,r=wh(t,n,e);return hh((i=r,[].slice.call(i)))}function ph(t,n){var e,i=lh(t,n);return 0==(128&i)?e=i:192==(224&i)?e=64*(31&i)+(63&lh(t,n)):224==(240&i)?e=4096*(15&i)+64*(63&lh(t,n))+(63&lh(t,n)):240==(248&i)&&(e=262144*(7&i)+4096*(63&lh(t,n))+64*(63&lh(t,n))+(63&lh(t,n))),e}function bh(t,n){return function(t,n,e){var i=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=ph(t,n);if(void 0===r)break;if(e&&0===r)break;i.push(r)}return function(t){for(var n=[],e=0,i=t;e<i.length;e++){var r=i[e];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return hh(n)}(i)}(t,n,!0)}function kh(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),new y(t.buffer,t.byteOffset+n,e-n)}function Th(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Sh,Eh=((Sh=function(t){void 0===t&&(t=0),this.offset=t}).prototype.shift=function(t){this.offset+=t},Sh.prototype.seek=function(t){this.offset=t},Sh.prototype.clone=function(){return new Sh(this.offset)},Sh.prototype.toBit=function(){return new ch(this.offset<<3)},Sh);ki(),Vt();var Rh,Ih=((Rh=function(t,n){this.data=t,this.cursor=n}).prototype.nextUint8=function(){return lh(this.data,this.cursor)},Rh.prototype.nextUint16=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getUint16(n.offset,e);return n.shift(2),i}(this.data,this.cursor)},Rh.prototype.nextInt16=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt16(n.offset,e);return n.shift(2),i}(this.data,this.cursor)},Rh.prototype.nextUint32=function(){return yh(this.data,this.cursor)},Rh.prototype.nextInt32=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt32(n.offset,e);return n.shift(4),i}(this.data,this.cursor)},Rh.prototype.nextInt64=function(){return function(t,n,e){void 0===e&&(e=!1);var i=yh(t,n,e),r=yh(t,n,e),u=e?r:i,o=e?i:r;return iu.fromBits(o,u,!1)}(this.data,this.cursor)},Rh.prototype.nextUint64=function(){return mh(this.data,this.cursor)},Rh.prototype.nextUint8Array=function(t){return wh(this.data,this.cursor,t)},Rh.prototype.nextUint32Array=function(t){return function(t,n,e){for(var i=[],r=0;r<e;r++)i.push(yh(t,n));return i}(this.data,this.cursor,t)},Rh.prototype.nextChars=function(t){return _h(this.data,this.cursor,t)},Rh.prototype.nextUTF8String=function(){return bh(this.data,this.cursor)},Rh.prototype.skip=function(t){this.cursor.shift(t)},Rh.prototype.clone=function(){return new Rh(this.data,this.cursor.clone())},Rh);function Oh(t,n){return t.type===n}function Ch(t){var n=function(t,n){var e=[];for(;n.offset<t.byteLength;){var i=Nh(t,n);if(!i.complete)return{complete:!1,boxes:e};e.push(i.box)}return{complete:!0,boxes:e}}(t.data,t.cursor);if(!n.complete)throw new f("Data incomplete");return n.boxes}function Nh(t,n){var e=n.offset,i=function(t,n){var e=n.offset;if(!gh(t,n,8)){return{complete:!1,neededOffset:u=n.offset+8}}var i=yh(t,n),r=_h(t,n,4);if(1===i){if(!gh(t,n,8)){var u=n.offset+8;return n.seek(e),{complete:!1,neededOffset:u}}i=mh(t,n).toNumber()}if("uuid"===r){if(!gh(t,n,16)){u=n.offset+16;return n.seek(e),{complete:!1,neededOffset:u}}r=_h(t,n,16)}var o=n.offset;return{complete:!0,header:{type:r,size:i,headerSize:o-e}}}(t,n);if(!i.complete)return i;var r=i.header,u=r.size;0===u&&(u=t.byteLength-e);var o=e+u;if(o>t.byteLength){var s=o;return n.seek(e),{complete:!1,neededOffset:s}}var a,c,f,h={type:r.type,offset:e,data:new Ih((a=t,c=e,f=o,void 0===c&&(c=0),void 0===f&&(f=a.byteLength),new DataView(a.buffer,a.byteOffset+c,f-c)),new Eh(r.headerSize))};return n.seek(o),{complete:!0,box:h}}function Dh(t){return{version:t>>24,flags:new dh(16777215&t)}}function Ah(t,n){var e,i,r,u;return 1===n?(e=t.nextUint64(),i=t.nextUint64(),r=t.nextUint32(),u=t.nextUint64()):(e=t.nextUint32(),i=t.nextUint32(),r=t.nextUint32(),u=t.nextUint32()),{creation:e,modification:i,scale:r,duration:u}}function Ph(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function xh(t){var n=t.nextUint32Array(9);return{a:ih(n[0],16),b:ih(n[1],16),u:ih(n[2],30),c:ih(n[3],16),d:ih(n[4],16),v:ih(n[5],30),x:ih(n[6],16),y:ih(n[7],16),w:ih(n[8],30)}}function Bh(t){return new sh(t.type,kh(Th(t.data.data),t.data.cursor.offset))}var Lh=function(t){var n=function(n,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",i,r)||this;return u.name=e,u.handlerType=n,u};return Mf(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.ps},set:function(t){this.ps=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(e=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==e?e:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(oh);function Fh(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var o=n.nextUTF8String();return new Lh(u,o,i,r.raw)}!function(t){var n=function(){return t.call(this,"mdir")||this};Mf(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Lh);ki(),Vt(),ki(),Vt(),ki(),Vt();var Mh,Uh=((Mh=function(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}).prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(Mh.prototype,"tag",{get:function(){return this.bs},set:function(t){if(!th(t,8))throw new f("Provided tag does not fit in 8 bits.");this.bs=t},enumerable:!1,configurable:!0}),Mh.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},Mh.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,e=this.encodeSize(this.getDescriptorSize());n<e.length;n++){var i=e[n];t.writer.writeByte(i)}this.serializeDescriptorContent(t)},Mh);ki(),Vt();!function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s={});var a=t.call(this,4,s.fixed28BitMode)||this;return a.upStream=i,a.decoderSpecificInfo=o,a.objectTypeIndication=n,a.streamType=e,a.bufferSizeDb=r,a.maxBitrate=u.max,a.avgBitrate=u.avg,a};Mf(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.ks},set:function(t){if(!th(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.Ts},set:function(t){if(!th(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.Ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Ss},set:function(t){if(!th(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.Ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Es},set:function(t){if(!th(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Rs},set:function(t){if(!th(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,e=this.decoderSpecificInfo;n<e.length;n++){e[n].serialize(t)}}}(Uh);ki(),Vt();!function(t){var n=function(n,e){void 0===e&&(e={});var i=t.call(this,5,e.fixed28BitMode)||this;return i.data=n,i};Mf(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Xf.from(this.data))}}(Uh);ki(),Vt(),ki(),Vt();var Vh=function(t){var n=function(n){void 0===n&&(n=!1);var e=t.call(this,6,n)||this;return e.predefined=2,e};return Mf(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Uh);!function(t){var n=function(n,e,i,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=i,u.esId=n,u.streamPriority=e,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Vh(r.fixed28BitMode),u};Mf(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.Is},set:function(t){if(!th(t,16))throw new f("Provided esId does not fit in 16 bits.");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Os},set:function(t){if(!th(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Cs},set:function(t){if(t&&!th(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Ns},set:function(t){if(t&&!th(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.Ns=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Uh);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Hh=function(t){var n=function(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n};return Mf(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),e=0,i=this.boxes;e<i.length;e++){var r=i[e];n=n.concat(r.serialize())}return n},n}(Qf),qh=function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};return Mf(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Hh),zh=function(t){var n=function(n,e){var i=t.call(this,n)||this;return i.dataReferenceIndex=e,i};return Mf(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Ds},set:function(t){if(!th(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.Ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(qh),Wh=function(t){var n=function(n,e,i,r){var u,o,s=this;return(s=t.call(this,n,e)||this).extra=r,s.channelCount=null!==(u=i.channelCount)&&void 0!==u?u:2,s.sampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:16,s.sampleRate=i.sampleRate,s};return Mf(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.As},set:function(t){if(!th(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Ps},set:function(t){if(!th(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.xs},set:function(t){if(!th(nh(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(e=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(nh(this.sampleRate,16),32),this.extra&&eh(n.writer,this.extra)},n}(zh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stco",0,0)||this;return e.entries=n,e};Mf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"clap")||this;return e.cleanApertureWidthN=n.cleanApertureWidthN,e.cleanApertureWidthD=n.cleanApertureWidthD,e.cleanApertureHeightN=n.cleanApertureHeightN,e.cleanApertureHeightD=n.cleanApertureHeightD,e.horizOffN=n.horizOffN,e.horizOffD=n.horizOffD,e.vertOffN=n.vertOffN,e.vertOffD=n.vertOffD,e};Mf(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Ls},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Fs},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Ms},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Us},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Vs},set:function(t){if(!th(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Hs},set:function(t){if(!th(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.Hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.qs},set:function(t){if(!th(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.zs},set:function(t){if(!th(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Qf);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"ctts",n,0)||this;return i.entries=e,i};Mf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t.sampleCount,32)||!th(t.sampleOffset,32)})))throw new f("Not all entries can be represented in 64 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"url ",0,void 0===n?1:0)||this;return e.location=n,e};Mf(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ws},set:function(t){this.flags=void 0===t?1:0,this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(oh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"urn ",0,i)||this;return r.name=n,r.location=e,r};Mf(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ws},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(oh);ki(),Vt();!function(t){var n=function(){return t.call(this,"dinf")||this};Mf(n,t)}(qh);ki(),Vt(),ki(),Vt();var jh=function(t){var n=function(n,e,i){var r=t.call(this,n)||this;if(r.version=e,!th(e,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=i,r};return Mf(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this._s},set:function(t){this._s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Hh);!function(t){var n=function(){return t.call(this,"dref",0,0)||this};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(jh);ki(),Vt(),ki(),Vt();var Yh=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"elst",e,i)||this;return r.entries=n,r};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){for(var n=0,e=t;n<e.length;n++){var i=e[n];if(!th(i.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!th(i.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!th(i.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(i.mediaRateFraction&&!th(i.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(oh),Gh=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Mf(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,e=0,i=this.entries;e<i.length;e++){var r=i[e];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Yh),Xh=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Mf(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,e=0,i=this.entries;e<i.length;e++){var r=i[e];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Yh);function $h(t){for(var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags,u=n.nextUint32(),o=[],s=0;s<u;s++){var a=void 0,c=void 0;0===i?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var f=n.nextInt16(),h=n.nextInt16();o.push({segmentDuration:a,mediaTime:c,mediaRateFraction:h,mediaRateInteger:f})}return 0===i?new Gh(o,r.raw):new Xh(o,r.raw)}var Kh=function(t){var n=function(){return t.call(this,"edts")||this};return Mf(n,t),n}(qh);function Jh(t){for(var n=new Kh,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"elst")?n.boxes.push($h(r)):n.boxes.push(Bh(r))}return n}ki(),Vt(),ki(),Vt();var Zh=function(t){var n=function(n,e,i,r){var u=t.call(this,n)||this;return u.majorBrand=e,u.minorVersion=i,u.compatibleBrands=r,u};return Mf(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.js},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ys},set:function(t){if(!th(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Gs},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.Gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,e=this.compatibleBrands;n<e.length;n++){var i=e[n];t.writer.writeString(i)}},n}(Qf);!function(t){var n=function(n,e,i){return t.call(this,"ftyp",n,e,i)||this};Mf(n,t)}(Zh);ki(),Vt();!function(t){var n=function(n,e){void 0===e&&(e="free");var i=t.call(this,e)||this;return i.data=n,i};Mf(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Xf.from(this.data))}}(Qf);ki(),Vt(),ki(),Vt();var Qh=function(t){var n=function(n,e,i,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",i,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=e,u};return Mf(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Xs},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.$s},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ks},set:function(t){if(!th(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Js},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.Zs},set:function(t){if(!iv(t))throw new f("Expected an ISO-639-2/T language code");this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var e=0,i=this.language;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(oh),tv=function(t){var n=function(n,e,i){return void 0===i&&(i=0),t.call(this,n,e,0,i)||this};return Mf(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Qh),nv=function(t){var n=function(n,e,i){return void 0===i&&(i=0),t.call(this,n,e,1,i)||this};return Mf(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Qh);function ev(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags,u=Ah(n,i),o=new jf(Xf.from(n.nextUint8Array(2)));o.skipBits(1);for(var s=[],a=0;a<3;a++)s.push(o.readUInt(5));var c=s.map((function(t){return String.fromCharCode(t+96)})).join("");return iv(c)||(c="und"),n.skip(2),0===i?new tv(u,c,r.raw):new nv(u,c,r.raw)}function iv(t){return/^[a-z]{3}$/.test(t)}var rv=function(t){var n=function(){return t.call(this,"mdia")||this};return Mf(n,t),n}(qh);function uv(t){for(var n=new rv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"mdhd")?n.boxes.push(ev(r)):Oh(r,"hdlr")?n.boxes.push(Fh(r)):n.boxes.push(Bh(r))}return n}ki(),Vt();!function(t){var n=function(){var n=t.call(this,"mdat")||this;return n.data=new Xf,n};Mf(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(Qf);ki(),Vt();!function(t){var n=function(){return t.call(this,"minf")||this};Mf(n,t)}(qh);ki(),Vt();var ov,sv;!function(t){var n=function(n){var e=t.call(this,"meta",0,0)||this;return e.handler=n,e};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(jh);ki(),Vt(),ki(),Vt(),(sv=ov||(ov={})).VIDEO="vide",sv.AUXILIARY_VIDEO="auxv",sv.AUDIO="soun",sv.METADATA="meta",sv.HINT="hint",sv.TEXT="text",sv.SUBTITLE="subt",sv.FONT="fdsm",ki(),Vt();var av,cv,fv,hv,vv={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function dv(t,n){n.writer.writeUInt(nh(t.a,16),32),n.writer.writeUInt(nh(t.b,16),32),n.writer.writeUInt(nh(0,30),32),n.writer.writeUInt(nh(t.c,16),32),n.writer.writeUInt(nh(t.d,16),32),n.writer.writeUInt(nh(0,30),32),n.writer.writeUInt(nh(t.x,16),32),n.writer.writeUInt(nh(t.y,16),32),n.writer.writeUInt(nh(1,30),32)}function lv(t,n){var e,i,r,u;n.writer.writeUInt(null!==(e=t.isLeading)&&void 0!==e?e:av.UNKNOWN,2),n.writer.writeUInt(null!==(i=t.sampleDependsOn)&&void 0!==i?i:fv.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:fv.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:fv.UNKNOWN,2)}function wv(t,n){var e,i,r;n.writer.writeUInt(0,4),lv(t,n),n.writer.writeUInt(null!==(e=t.samplePaddingValue)&&void 0!==e?e:0,3),n.writer.writeBool(null!==(i=t.sampleIsNonSyncSample)&&void 0!==i&&i),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}ki(),Vt(),(cv=av||(av={}))[cv.UNKNOWN=0]="UNKNOWN",cv[cv.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",cv[cv.NO=2]="NO",cv[cv.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY",(hv=fv||(fv={}))[hv.UNKNOWN=0]="UNKNOWN",hv[hv.YES=1]="YES",hv[hv.NO=2]="NO",hv[hv.RESERVED=3]="RESERVED",ki(),Vt(),ki(),Vt();var gv=function(){};ki(),Vt(),ki(),Vt(),ki(),Vt();var yv=function(t){var n=function(n,e,i){var r=t.call(this,"pssh",n,0)||this;return r.systemId=e,r.data=i,r};return Mf(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Qs},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.B},set:function(t){if(!th(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.B=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Xf.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Xf.from(this.data))},n}(oh),mv=function(t){var n=function(n,e){return t.call(this,0,n,e)||this};return Mf(n,t),n}(yv),_v=function(t){var n=function(n,e,i){var r=t.call(this,1,n,e)||this;return r.kIds=i,r};return Mf(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.ta},set:function(t){if(!th(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new f("Not all provided key ids are 16 bytes long.");this.ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,e=this.kIds;n<e.length;n++){var i=e[n];t.concat(Xf.from(i))}},n}(yv);function pv(t){var n=t.data.nextUint8();t.data.skip(3);var e=t.data.nextUint8Array(16),i=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)i.push(t.data.nextUint8Array(16));var o=t.data.nextUint32(),s=t.data.nextUint8Array(o);return 1===n?new _v(e,s,i):new mv(e,s)}ki(),Vt(),ki(),Vt();var bv=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"mehd",e,i)||this;return r.fragmentDuration=n,r};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.na},set:function(t){if(!th(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(oh),kv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Mf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(bv),Tv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Mf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(bv);function Sv(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags;return 0===i?new kv(n.nextUint32(),r.raw):new Tv(n.nextUint64(),r.raw)}ki(),Vt();var Ev=function(t){var n=function(n,e,i,r){void 0===e&&(e={}),void 0===i&&(i=0),void 0===r&&(r=0);var u,o,s,a=this;return(a=t.call(this,"trex",i,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==e?void 0:e.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(o=e.sampleDuration)&&void 0!==o?o:0,a.defaultSampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:0,a.defaultSampleFlags=e.sampleFlags,a};return Mf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ea},set:function(t){if(!th(t,32))throw new f("Provided track id does not fit in 32 bits.");this.ea=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.ia},set:function(t){if(!th(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.ia=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.ra},set:function(t){if(!th(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.ua},set:function(t){if(!th(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.oa},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!th(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!th(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.oa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var e;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),wv(null!==(e=this.defaultSampleFlags)&&void 0!==e?e:{},n)},n}(oh);function Rv(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags,u=n.nextUint32(),o=n.nextUint32(),s=n.nextUint32(),a=n.nextUint32(),c=Ph(new jf(Xf.from(n.nextUint8Array(4))));return new Ev(u,{sampleDescriptionIndex:o,sampleDuration:s,sampleSize:a,sampleFlags:c},i,r.raw)}var Iv=function(t){var n=function(){return t.call(this,"mvex")||this};return Mf(n,t),n}(qh);function Ov(t){for(var n=new Iv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"mehd")?n.boxes.push(Sv(r)):Oh(r,"trex")?n.boxes.push(Rv(r)):n.boxes.push(Bh(r))}return n}ki(),Vt();var Cv=function(t){function n(e,i,r,u,o){void 0===o&&(o=0);var s,a,c,f=this;return(f=t.call(this,"mvhd",u,o)||this).creationTime=e.creation,f.modificationTime=e.modification,f.timescale=e.scale,f.duration=e.duration,f.rate=null!==(s=r.rate)&&void 0!==s?s:n.DEFAULT_RATE,f.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,f.matrix=null!==(c=r.matrix)&&void 0!==c?c:vv,f.sa=i,f}return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Xs},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.$s},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ks},set:function(t){if(!th(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Js},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.aa},set:function(t){if(!th(nh(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.aa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.ca},set:function(t){if(!th(nh(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.ca=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.fa},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.fa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.sa},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!th(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(nh(this.rate,16),32),n.writer.writeUInt(nh(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),dv(this.matrix,n);for(var e=0;e<6;e++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(oh),Nv=function(t){var n=function(n,e,i,r){return void 0===i&&(i={}),void 0===r&&(r=0),t.call(this,n,e,i,0,r)||this};return Mf(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Cv),Dv=function(t){var n=function(n,e,i,r){return void 0===i&&(i={}),void 0===r&&(r=0),t.call(this,n,e,i,1,r)||this};return Mf(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Cv);function Av(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags,u=Ah(n,i),o=ih(n.nextUint32(),16),s=ih(n.nextUint16(),8);n.skip(2),n.skip(8);var a=xh(n);n.skip(24);var c=n.nextUint32();return 0===i?new Nv(u,c,{rate:o,volume:s,matrix:a},r.raw):new Dv(u,c,{rate:o,volume:s,matrix:a},r.raw)}ki(),Vt(),ki(),Vt();var Pv=function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s={});var a,c,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,e,i,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(e=null==t?void 0:t.trackInMovie)||void 0===e||e,trackInPreview:null===(i=null==t?void 0:t.trackInPreview)||void 0===i||i,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(s))||this).creationTime=e.creation,h.modificationTime=e.modification,h.trackId=i,h.duration=e.duration,h.volume=r,h.width=u,h.height=o,h.layer=null!==(a=s.layer)&&void 0!==a?a:0,h.alternateGroup=null!==(c=s.alternateGroup)&&void 0!==c?c:0,h.matrix=null!==(f=s.matrix)&&void 0!==f?f:vv,h};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Xs},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.$s},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ea},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!th(t,32))throw new f("trackId cannot exceed 32 bits.");this.ea=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Js},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.ca},set:function(t){if(!th(nh(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.ca=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.ha},set:function(t){if(!th(nh(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.ha=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.va},set:function(t){if(!th(nh(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.va=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.da},set:function(t){if(!th(t,16))throw new f("Provided layer does not fit in 16 bits.");this.da=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.la},set:function(t){if(!th(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.la=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.fa},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(nh(this.volume,8),16),n.writer.writeUInt(0,16),dv(this.matrix,n),n.writer.writeUInt(nh(this.width,16),32),n.writer.writeUInt(nh(this.height,16),32)},n}(oh),xv=function(t){var n=function(n,e,i,r,u,o){return t.call(this,0,n,e,i,r,u,o)||this};return Mf(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Pv),Bv=function(t){var n=function(n,e,i,r,u,o){return t.call(this,1,n,e,i,r,u,o)||this};return Mf(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Pv);function Lv(t){var n,e,i,r,u=t.data,o=Dh(u.nextUint32()),s=o.version,a=o.flags,c=a.isSet(8),f=a.isSet(4),h=a.isSet(2),v=a.isSet(1);0===s?(n=u.nextUint32(),e=u.nextUint32(),i=u.nextUint32(),u.skip(4),r=u.nextUint32()):(n=u.nextUint64(),e=u.nextUint64(),i=u.nextUint32(),u.skip(4),r=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),w=ih(u.nextInt16(),8);u.skip(2);var g=xh(u),y=ih(u.nextUint32(),16),m=ih(u.nextUint32(),16);return 0===s?new xv({creation:n,modification:e,duration:r},i,w,y,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:f,trackInMovie:h}):new Bv({creation:n,modification:e,duration:r},i,w,y,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:f,trackInMovie:h})}var Fv=function(t){var n=function(){return t.call(this,"trak")||this};return Mf(n,t),n}(qh);function Mv(t){for(var n=new Fv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"tkhd")?n.boxes.push(Lv(r)):Oh(r,"mdia")?n.boxes.push(uv(r)):Oh(r,"edts")?n.boxes.push(Jh(r)):n.boxes.push(Bh(r))}return n}var Uv=function(t){var n=function(){return t.call(this,"moov")||this};return Mf(n,t),n}(qh);ki(),Vt(),ki(),Vt(),ki(),Vt();var Vv=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"tfdt",e,i)||this;return r.baseMediaDecodeTime=n,r};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.wa},set:function(t){if(!th(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(oh),Hv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Mf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Vv),qv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Mf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Vv);function zv(t){var n=t.data,e=Dh(n.nextUint32()),i=e.version,r=e.flags;return 0===i?new Hv(n.nextUint32(),r.raw):new qv(n.nextUint64(),r.raw)}ki(),Vt();var Wv=function(t){var n=function(n,e){void 0===e&&(e=0);var i=t.call(this,"tfhd",e,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return i.trackId=n.trackId,i.baseDataOffset=n.baseDataOffset,i.sampleDescriptionIndex=n.sampleDescriptionIndex,i.defaultSampleDuration=n.defaultSampleDuration,i.defaultSampleSize=n.defaultSampleSize,i.defaultSampleFlags=n.defaultSampleFlags,i};return Mf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ea},set:function(t){if(!th(t,32))throw new f("Provided track id does not fit in 32 bits.");this.ea=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.ga},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!th(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.ga=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.ya},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!th(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.ra},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!th(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.ua},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!th(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.oa},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!th(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!th(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.oa=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&wv(this.defaultSampleFlags,n)},n}(oh);function jv(t){var n=t.data,e=n.nextUint8(),i=new jf(Xf.from(n.nextUint8Array(3)));i.skipBits(6);var r=Boolean(i.readBit()),u=Boolean(i.readBit());i.skipBits(10);var o=Boolean(i.readBit()),s=Boolean(i.readBit()),a=Boolean(i.readBit());i.skipBits(1);var c=Boolean(i.readBit()),f=Boolean(i.readBit()),h=n.nextUint32(),v=f?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=a?n.nextUint32():void 0,w=s?n.nextUint32():void 0,g=o?Ph(new jf(Xf.from(n.nextUint8Array(4)))):void 0;return new Wv({trackId:h,defaultBaseIsMoof:r,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:w,defaultSampleFlags:g},e)}ki(),Vt();var Yv=function(t){var n=function(n,e,i){var r=t.call(this,"trun",n,function(t){var n,e,i,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(e=t.sampleSizePresent)&&void 0!==e&&e,sampleFlagsPresent:null!==(i=t.sampleFlagsPresent)&&void 0!==i&&i,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(e))||this;return r.dataOffset=e.dataOffset,r.samples=i,r.firstSampleFlags=e.firstSampleFlags,r};return Mf(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.ma},set:function(t){if(t&&!th(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.ma=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this._a},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!th(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!th(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this._a=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.pa},set:function(t){var n,e;if(!th(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var i=0,r=t;i<r.length;i++){var u=r[i];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!th(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!th(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!th(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(e=u.flags)||void 0===e?void 0:e.sampleDegradationPriority)&&!th(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!th(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.pa=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&wv(this.firstSampleFlags,n);for(var e=0,i=this.samples;e<i.length;e++){var r=i[e];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&wv(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(oh);function Gv(t){var n=t.data,e=n.nextUint8(),i=new jf(Xf.from(n.nextUint8Array(3)));i.skipBits(12);var r=Boolean(i.readBit()),u=Boolean(i.readBit()),o=Boolean(i.readBit()),s=Boolean(i.readBit());i.skipBits(5);var a=Boolean(i.readBit());i.skipBits(1);var c=Boolean(i.readBit()),f=n.nextUint32(),h={sampleDurationPresent:s,sampleSizePresent:o,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:r};c&&(h.dataOffset=n.nextInt32()),a&&(h.firstSampleFlags=Ph(new jf(Xf.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<f;d++){var l={};s&&(l.duration=n.nextUint32()),o&&(l.size=n.nextUint32()),u&&(l.flags=Ph(new jf(Xf.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===e?n.nextUint32():n.nextInt32()),v.push(l)}return new Yv(e,h,v)}var Xv=function(t){var n=function(){return t.call(this,"traf")||this};return Mf(n,t),n}(qh);function $v(t){for(var n=new Xv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"tfhd")?n.boxes.push(jv(r)):Oh(r,"tfdt")?n.boxes.push(zv(r)):Oh(r,"trun")?n.boxes.push(Gv(r)):n.boxes.push(Bh(r))}return n}var Kv=function(t){var n=function(){return t.call(this,"moof")||this};return Mf(n,t),n}(qh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"mfhd",0,0)||this;return e.sequenceNumber=n,e};Mf(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.ba},set:function(t){if(!th(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.ba=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(oh);ki(),Vt();var Jv=function(t){var n=function(n){var e=t.call(this,"frma")||this;return e.codingName=n,e};return Mf(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.ka},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Qf);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"pasp")||this;return i.hSpacing=n,i.vSpacing=e,i};Mf(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Ta},set:function(t){if(!th(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Sa},set:function(t){if(!th(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Qf);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,n)||this;return r.sample=e,r.sinf=i,r};Mf(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(qh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"sinf")||this;return r.schm=e,r.schi=i,r.frma=new Jv(n),r};Mf(n,t),n.prototype.getBoxContentSize=function(){var t,n,e,i;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(i=null===(e=this.schi)||void 0===e?void 0:e.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Qf);ki(),Vt();var Zv=function(t){var n=function(n,e,i){var r=t.call(this,"saio",n,void 0===i?0:1)||this;return r.entries=e,r.explicitAuxInfoType=i,r};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){var n=this;if(!th(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!th(t,n.bitSize)})))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ea},set:function(t){if(void 0===t)this.flags=0;else{if(!th(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!th(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(oh);(function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Mf(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,e=this.entries;n<e.length;n++){var i=e[n];t.writer.writeUInt(i,32)}}})(Zv),function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Mf(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,e=this.entries;n<e.length;n++){var i=e[n];t.writer.writeUInt(i.getHighBitsUnsigned(),32),t.writer.writeUInt(i.getLowBitsUnsigned(),32)}}}(Zv);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"saiz",0,void 0===i?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=e,r.explicitAuxInfoType=i,r};Mf(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ra},set:function(t){if(!th(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ra=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Ia},set:function(t){if(!th(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!th(t,8)})))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.Ia=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ea},set:function(t){if(void 0===t)this.flags=0;else{if(!th(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!th(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var e=0,i=this.sampleInfoSizes;e<i.length;e++){var r=i[e];n.writer.writeByte(r)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"sdtp",0,0)||this;return e.samples=n,e};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var e=0,i=this.samples;e<i.length;e++){lv(i[e],n)}}}(oh);ki(),Vt();!function(t){var n=function(n){return t.call(this,"stsd",n,0)||this};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(jh);ki(),Vt();var Qv=function(t){var n=function(n,e,i){var r=t.call(this,"sgpd",n,0)||this;return r.entries=i,r.groupingType=e,r};return Mf(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.Oa},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.Oa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(oh);(function(t){var n=function(n,e){return t.call(this,0,n,e)||this};Mf(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(Qv),function(t){var n=function(n,e,i){var r=t.call(this,1,n,i)||this;return r.defaultLength=e,r};Mf(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Ca},set:function(t){if(!th(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.Ca=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Qv),function(t){var n=function(n,e,i,r){void 0===r&&(r=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,e,i)||this).defaultSampleDescriptionIndex=r,u};Mf(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.ia},set:function(t){if(!th(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Qv);ki(),Vt();(function(t){var n=function(n){void 0===n&&(n=[]);var e=t.call(this,"stsz",0,0)||this;return e.sampleSizes=n,e};Mf(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Na},set:function(t){if(!th(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!th(t,32)})))throw new f("Not all sampleSizes can be represented in 32 bits.");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var e=0,i=this.sampleSizes;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}})(oh),function(t){var n=function(n,e){void 0===n&&(n=0),void 0===e&&(e=0);var i=t.call(this,"stsz",0,0)||this;return i.defaultSampleSize=n,i.samples=e,i};Mf(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.ua},set:function(t){if(!th(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.pa},set:function(t){if(!th(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.pa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(oh);ki(),Vt();!function(t){var n=function(){return t.call(this,"stbl")||this};Mf(n,t)}(qh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stsc",0,0)||this;return e.entries=n,e};Mf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t.firstChunk,32)||!th(t.sampleDescriptionIndex,32)||!th(t.samplesPerChunk,32)})))throw new f("Not all entries can be represented in 96 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(oh);ki(),Vt();!function(t){var n=function(){return t.call(this,"schi")||this};Mf(n,t)}(qh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"schm",0,void 0===i?0:1)||this;return r.schemeType=n,r.schemeVersion=e,r.schemeUri=i,r};Mf(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.Da},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.Da=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.Aa},set:function(t){if(!th(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.Aa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.Pa},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.Pa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(oh);ki(),Vt();var td=function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s=0);var a=t.call(this,"sidx",n,s)||this;return a.referenceId=e,a.timescale=i,a.earliestPresentationTime=r,a.firstOffset=u,a.references=o,a};return Mf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.xa},set:function(t){if(!th(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.xa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ks},set:function(t){if(!th(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.Ba},set:function(t){if(!th(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.Ba=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.La},set:function(t){if(!th(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.La=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this.Fa},set:function(t){if(!th(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,e=t;n<e.length;n++){var i=e[n];if(!th(i.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!th(i.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!th(i.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!th(i.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var e=0,i=this.references;e<i.length;e++){var r=i[e];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(oh),nd=function(t){var n=function(n,e,i,r,u,o){return void 0===o&&(o=0),t.call(this,0,n,e,i,r,u,o)||this};return Mf(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(td),ed=function(t){var n=function(n,e,i,r,u,o){return void 0===o&&(o=0),t.call(this,1,n,e,i,r,u,o)||this};return Mf(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(td);ki(),Vt();!function(t){var n=function(n,e,i){return t.call(this,"styp",n,e,i)||this};Mf(n,t)}(Zh);ki(),Vt();!function(t){var n=function(n){void 0===n&&(n=0);var e=t.call(this,"smhd",0,0)||this;return e.balance=n,e};Mf(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.Ma},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!th(nh(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.Ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(nh(this.balance,8),16),n.writer.writeUInt(0,16)}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stss",0,0)||this;return e.entries=n,e};Mf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stts",0,0)||this;return e.entries=n,e};Mf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Bs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t.sampleCount,32)||!th(t.sampleDelta,32)})))throw new f("Not all entries can be represented in 64 bits.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"trep",0,0)||this;return e.trackId=n,e};Mf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ea},set:function(t){if(!th(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(jh);ki(),Vt();!function(t){var n=function(){return t.call(this,"udta")||this};Mf(n,t)}(qh);ki(),Vt();var id={red:0,green:0,blue:0};!function(t){var n=function(n,e){void 0===n&&(n=0),void 0===e&&(e=id);var i=t.call(this,"vmhd",0,1)||this;return i.graphicsMode=n,i.opColor=e,i};Mf(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.Ua},set:function(t){if(!th(t.red,16)||!th(t.green,16)||!th(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(oh);ki(),Vt();var rd=function(t){var n=function(n,e,i,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var o,s,a,c,f,h=this;return(h=t.call(this,n,e)||this).width=i.width,h.height=i.height,h.horizontalResolution=null!==(o=i.horizontal)&&void 0!==o?o:72,h.verticalResolution=null!==(s=i.vertical)&&void 0!==s?s:72,h.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",h.frameCount=null!==(c=r.frameCount)&&void 0!==c?c:1,h.depth=null!==(f=r.depth)&&void 0!==f?f:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h};return Mf(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.ha},set:function(t){if(!th(t,16))throw new f("Provided width does not fit in 16 bits.");this.ha=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.va},set:function(t){if(!th(t,16))throw new f("Provided height does not fit in 16 bits.");this.va=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.Va},set:function(t){if(!th(nh(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.Va=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Ha},set:function(t){if(!th(nh(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Ha=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.qa},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.qa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.za},set:function(t){if(!th(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.za=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Wa},set:function(t){if(!th(t,16))throw new f("Provided depth does not fit in 16 bits.");this.Wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,e,i,r,u,o;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(e=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==e?e:0)+(null!==(r=null===(i=this.pasp)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)+(null!==(o=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==o?o:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(nh(this.horizontalResolution,16),32),n.writer.writeUInt(nh(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var e=0;e<31-this.compressorName.length;e++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&eh(n.writer,this.extra)},n}(zh);ki(),Vt(),ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"esds",0,0)||this;return e.esDescriptor=n,e};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(Xf.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(oh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"mp4a",n,i)||this;return r.esd=e,r};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Wh);ki(),Vt();!function(t){var n=function(n,e,i,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,e,r)||this;return u.esDescriptor=i,u};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(rd);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"mp4s",n)||this;return i.esDescriptor=e,i};Mf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(zh);ki(),Vt(),ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"avcC")||this;return e.decoderConfig=n,e};Mf(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Qf);ki(),Vt();var ud;ud=function(t,n,e,i,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=e,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=i,this.ppsSets=r},v.defineProperty(ud.prototype,"version",{get:function(){return this.ja},set:function(t){if(!th(t,8))throw new f("Provided version does not fit in 8 bits.");this.ja=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"profileIndication",{get:function(){return this.Ya},set:function(t){if(!th(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.Ya=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"profileCompatibility",{get:function(){return this.Ga},set:function(t){if(!th(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.Ga=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"levelIndication",{get:function(){return this.Xa},set:function(t){if(!th(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.Xa=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"spsSets",{get:function(){return this.$a},set:function(t){if(!th(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.$a=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"ppsSets",{get:function(){return this.Ka},set:function(t){if(!th(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.Ka=t},enumerable:!1,configurable:!0}),ud.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},ud.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,e=this.spsSets;n<e.length;n++){var i=e[n];t.writer.writeUInt(i.length,16),t.concat(Xf.from(i))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var o=u[r];t.writer.writeUInt(o.length,16),t.concat(Xf.from(o))}};ki(),Vt();!function(t){var n=function(n,e,i,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var o=t.call(this,"avc1",n,e,r)||this;return o.configurationBox=i,o.bitrateBox=u,o};Mf(n,t),n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(e=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(rd);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=e,r.avg=i,r};Mf(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Ss},set:function(t){if(!th(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.Ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.Ja},set:function(t){if(!th(t,32))throw new f("Provided max does not fit in 32 bits.");this.Ja=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.Za},set:function(t){if(!th(t,32))throw new f("Provided avg does not fit in 32 bits.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Qf);ki(),Vt(),ki(),Vt(),ki(),Vt();var od=function(t){var n=function(n,e){var i,r,u,o,s=this;if(s=t.call(this,"tenc",n,0)||this,e.perSampleIvSize>0&&(null!==(r=null===(i=e.constantIv)||void 0===i?void 0:i.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return s.kId=e.kId,s.isProtected=null!==(u=e.isProtected)&&void 0!==u?u:1,e.perSampleIvSize>0?s.perSampleIvSize=e.perSampleIvSize:s.constantIv=null!==(o=e.constantIv)&&void 0!==o?o:new y(0),s};return Mf(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.Qa},set:function(t){if(!th(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.Qa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.tc},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.tc=t,this.nc=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.ec},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.ec=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.nc},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.nc=t,this.tc=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),eh(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),eh(t.writer,this.constantIv))},n}(oh),sd=(function(t){var n=function(n){return t.call(this,0,n)||this};Mf(n,t)}(od),function(t){var n=function(n){var e=t.call(this,1,n)||this;return e.cryptByteBlocks=n.cryptByteBlock,e.skipByteBlocks=n.skipByteBlock,e};return Mf(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.ic},set:function(t){if(!th(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.ic=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.rc},set:function(t){if(!th(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.rc=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(od));!function(t){var n=function(n){var e=t.call(this)||this;return e.tencBox=new sd(n),e};Mf(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(gv);function ad(t){return void 0!==t.iv}function cd(t){return void 0!==t.subsamples}ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return e.samples=n,e};Mf(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.pa},set:function(t){var n;if(!th(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var e=0,i=t;e<i.length;e++){var r=i[e];if(ad(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=cd(r)),!0===n&&!cd(r)||!1===n&&cd(r))throw new f("Mix of samples with and without subsamples detected.");if(cd(r)){if(!th(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];if(!th(s.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!th(s.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.pa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,e=0,i=this.samples;e<i.length;e++){var r=i[e];ad(r)&&(n+=r.iv.length),cd(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var e=0,i=this.samples;e<i.length;e++){var r=i[e];if(ad(r)&&eh(n.writer,r.iv),cd(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];n.writer.writeUInt(s.clearData,16),n.writer.writeUInt(s.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(oh);ki(),Vt(),ki(),Vt();!function(t){var n=function(n,e,i,r,u){var o=t.call(this,"emsg",0,0)||this;return o.schemeIdUri=n,o.value=e,o.data=u,o.id=i,o.timescale=r.timescale,o.presentationTimeDelta=r.presentationTimeDelta,o.eventDuration=r.eventDuration,o};Mf(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ks},set:function(t){if(!th(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.uc},set:function(t){if(!th(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.uc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.oc},set:function(t){if(!th(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.oc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.sc},set:function(t){if(!th(t,32))throw new f("The provided id does not fit in 32 bits.");this.sc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Xf.from(this.data))}}(oh);ki(),Vt(),ki(),Vt(),ki(),Vt();var fd;(fd=function(){this.boxes=[]}).prototype.serialize=function(){for(var t=new Zf,n=0,e=this.boxes;n<e.length;n++){var i=e[n];t.concat(i.serialize())}return t.toRangedBuffer()};function hd(t,n){return function(e){var i,r=function(t,n){for(var e=t.data,i=t.cursor;i.offset<e.byteLength;){var r=Nh(e,i);if(!r.complete)return;if(Oh(r.box,n))return r.box}}(new Ih((i=e,new DataView(i.buffer,i.byteOffset,i.byteLength)),new Eh),t);if(!r)throw new f("".concat(t," box not found"));return n(r)}}hd("moov",(function(t){for(var n=new Uv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"mvhd")?n.boxes.push(Av(r)):Oh(r,"trak")?n.boxes.push(Mv(r)):Oh(r,"mvex")?n.boxes.push(Ov(r)):Oh(r,"pssh")?n.boxes.push(pv(r)):n.boxes.push(Bh(r))}return n})),hd("sidx",(function(t){var n,e,i=t.data,r=Dh(i.nextUint32()),u=r.version,o=r.flags,s=i.nextUint32(),a=i.nextUint32();0===u?(n=i.nextUint32(),e=i.nextUint32()):(n=i.nextUint64(),e=i.nextUint64()),i.skip(2);for(var c=i.nextUint16(),f=[],h=0;h<c;h++){var v=new jf(Xf.from(i.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),w=v.readUInt(32),g=Boolean(v.readBit()),y=v.readUInt(3),m=v.readUInt(28);f.push({referenceType:d,referencedSize:l,subsegmentDuration:w,startsWithSap:g,sapType:y,sapDeltaTime:m})}return 0===u?new nd(s,a,n,e,f,o.raw):new ed(s,a,n,e,f,o.raw)})),hd("moof",(function(t){for(var n=new Kv,e=0,i=Ch(t.data);e<i.length;e++){var r=i[e];Oh(r,"traf")?n.boxes.push($v(r)):Oh(r,"pssh")?n.boxes.push(pv(r)):n.boxes.push(Bh(r))}return n}));var vd=hd("pssh",pv),dd=function(t){function n(n,e){var i;(i=t.call(this)||this).ac=n,i.cc=e,i.fc=!1,i.hc=function(){i.vc()},i.dc=function(t){i.lo(new Oc(lu(i),t.messageType,xf(i.cc,t.message)))},i.lc=function(){i.fc=!0,i.wc.zo>0&&(i.wc.qo(),i.lo(new Ic(lu(i)))),i.ac.removeEventListener("keystatuseschange",i.hc),i.ac.removeEventListener("message",i.dc)},i.ac.addEventListener("keystatuseschange",i.hc),i.ac.addEventListener("message",i.dc),i.wc=new Ac;var r=[];return i.ac.closed&&r.push(Y.resolve(i.ac.closed)),i.gc=new Af,r.push(i.gc.Zo),i.X=Y.race(r).then(i.lc,i.lc),i.vc(),i}Xi(n,t);var e=n.prototype;return e.yc=function(){if(this.fc)return this.X;var t=[];return t.push(Y.resolve(this.ac.close())),t.push(yc(1e3)),this.gc.ao(Y.race(t).catch(ld)),this.fc=!0,this.X},e.mc=function(t,n,e){if(sr.qe){var i=vd(If(n));if(1===i.version)n=new mv(i.systemId,i.data).serialize().join()}return Y.resolve(this.ac.generateRequest(t,n)).catch(ld)},e._c=function(t){return Y.resolve(this.ac.load(t)).catch(ld)},e.bc=function(){return Y.resolve(this.ac.remove()).catch(ld)},e.kc=function(t){return Y.resolve(this.ac.update(t)).catch(ld)},e.vc=function(){var t=this;this.wc.qo(),this.ac.keyStatuses.forEach((function(n,e){t.Tc(e,n)})),this.lo(new Ic(this))},e.Tc=function(t,n){if("string"==typeof t){var e=t;t=n,n=e}var i=If(t);if(this.cc===pa&&16===i.byteLength){var r=Sf(i),u=r.getUint32(0,!0),o=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,o,!1),r.setUint16(6,s,!1)}this.cc===pa&&"status-pending"===n&&(n="usable"),this.wc.Ho(i,n)},Ri(n,[{key:"Sc",get:function(){return this.X}},{key:"Ec",get:function(){return this.ac.expiration}},{key:"Rc",get:function(){return this.wc}},{key:"Ic",get:function(){return this.ac.sessionId}}]),n}(pc);function ld(t){var n;if(t.message){var e=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);e&&(n=0|l(e[1],16))}throw new Lf(t.message,void 0,n,t)}var wd=function(){function t(t,n,e){this.Oc=t,this.Cc=n,this.Nc=e}var n=t.prototype;return n.Dc=function(t){var n=this;return ta((function(){return ea(this,(function(e){return[2,new dd(n.Oc.createSession(t),n.Cc)]}))}))()},n.Ac=function(t){return Y.resolve(this.Oc.setServerCertificate(t))},n.Pc=function(t){return Y.resolve(t.setMediaKeys(this.Oc))},n.xc=function(t){return Y.resolve(t.setMediaKeys(null))},n.Bc=function(){return Y.resolve()},t}(),gd=function(){function t(t,n,e){this.Lc=t,this.cc=n,this.Fc=e}var n=t.prototype;return n.Mc=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return[4,t.Lc.createMediaKeys()];case 1:return n=e.sent(),[2,new wd(n,t.cc,t.Fc)]}}))}))()},n.Uc=function(){return this.Fc},Ri(t,[{key:"Cc",get:function(){return this.Lc.keySystem}}]),t}();function yd(t){var n=t.trim(),e=n.indexOf(";");return e<0?n:n.substr(0,e).trim()}function md(t,n,e,i){var r=!1;if(!(i.persistentState&&"optional"!==i.persistentState||i.distinctiveIdentifier&&"optional"!==i.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label,Vc:i.Vc},o=!1;if(i.audioCapabilities){var s=i.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));s.length&&(u.audioCapabilities=s.filter((function(i){return _d(t,n,e,i)})),o=!0,u.audioCapabilities.length&&(r=!0))}if(i.videoCapabilities){var a=i.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(i){return _d(t,n,e,i)})),o=!0,u.videoCapabilities.length&&(r=!0))}return o||(r=t(e,"video/mp4")),r?u:void 0}}function _d(t,n,e,i){return!!i.contentType&&(!(i.encryptionScheme&&!nc(n,i.encryptionScheme))&&(!i.robustness&&t(e,yd(i.contentType))))}function pd(t){if(t.videoCapabilities)for(var n=0,e=t.videoCapabilities;n<e.length;n++){var i=e[n];if(i.contentType)return i.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var o=u[r];if(o.contentType)return o.contentType}}function bd(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i.encryptionScheme&&n.push({contentType:i.contentType,robustness:i.robustness})}return t.concat(n)}function kd(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Td))||!(!t.videoCapabilities||!t.videoCapabilities.some(Td))}function Td(t){return!t.robustness}function Sd(t,n){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.robustness?e.push(r):e.push(na({},r,{robustness:n}))}return e}ki(),Vt(),ki(),Vt();var Ed=function(){function t(){}return t.prototype.zu=function(t,n){return ta((function(){var e,i,r,o,s,a,c;return ea(this,(function(f){switch(f.label){case 0:for(n=n.filter((function(t){return!t.Vc})),e=0;e<n.length;e++)(i=n[e]).audioCapabilities&&(i.audioCapabilities=bd(i.audioCapabilities)),i.videoCapabilities&&(i.videoCapabilities=bd(i.videoCapabilities));if(t!==Ta||!n.some(kd))return[3,4];r=n.map((function(t){return function(t,n){return na({},t,{videoCapabilities:t.videoCapabilities?Sd(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?Sd(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,u.requestMediaKeySystemAccess(t,r)];case 2:return o=f.sent(),s=o.getConfiguration(),[2,new gd(o,t,s)];case 3:return f.sent(),[3,4];case 4:return[4,u.requestMediaKeySystemAccess(t,n)];case 5:return a=f.sent(),c=a.getConfiguration(),[2,new gd(a,t,c)]}}))}))()},t.Hc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}();ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii();var Rd=function(t){function n(n,e){var i;return(i=t.call(this)||this).qc=n,i.zc=e,i.fc=!1,i.Wc=void 0,i.jc=void 0,i.Yc=void 0,i.lc=function(){i.fc=!0,i.Gc.Qo(void 0),i.Yc&&(i.Yc.removeEventListener("mskeyclose",i.lc),i.Yc.removeEventListener("mskeymessage",i.Xc),i.Yc.removeEventListener("mskeyerror",i.$c),i.Yc.removeEventListener("mskeyadded",i.Kc))},i.Xc=function(t){i.jc&&(i.jc.Qo(void 0),i.jc=void 0),i.lo(new Oc(lu(i),"license-request",Cf(t.message).buffer,t.destinationURL||void 0))},i.$c=function(){var t=i.Yc&&i.Yc.error;if(t){var n=new Lf("Unknown CDM error",t.code,t.systemCode);if(i.jc)i.jc.ts(n),i.jc=void 0;else if(i.Wc)i.Wc.ts(n),i.Wc=void 0;else switch(n.es){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:i.Jc("output-not-allowed");break;default:i.Jc("internal-error")}}},i.Kc=function(){i.jc&&(i.Jc("usable"),i.jc.Qo(void 0),i.jc=void 0),i.Wc&&(i.Jc("usable"),i.Wc.Qo(void 0),i.Wc=void 0)},i.Gc=new Af,i.Zc=new Ac,i}Xi(n,t);var e=n.prototype;return e.mc=function(t,n,e){var i=this;return ta((function(){return ea(this,(function(t){switch(t.label){case 0:return i.Qc(),i.jc=new Af,i.Dc(If(n),e),[4,i.jc.Zo];case 1:return t.sent(),[2]}}))}))()},e.Dc=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var e,i=n&&n.playready&&n.playready.tf;return(e=n?this.qc.createSession(this.zc,t,i):this.qc.createSession(this.zc,t)).addEventListener("mskeyclose",this.lc),e.addEventListener("mskeymessage",this.Xc),e.addEventListener("mskeyerror",this.$c),e.addEventListener("mskeyadded",this.Kc),this.Yc=e,this.Jc("status-pending"),e},e._c=function(t){var n=this;return ta((function(){return ea(this,(function(t){return n.Qc(),[2,!0]}))}))()},e.kc=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:if(n.Wc=new Af,n.Qc(),!n.Yc)return[2,Y.resolve()];if(0===(e=If(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.Yc.update(e),[4,n.Wc.Zo];case 1:return i.sent(),[2]}}))}))()},e.yc=function(){return!this.fc&&this.Yc&&(this.fc=!0,this.Yc.close()),this.Gc.Zo},e.bc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.Qc(),[2]}))}))()},e.Qc=function(){if(this.fc)throw new h("Already closing or closed.")},e.Jc=function(t){this.Zc.qo(),this.Zc.Ho(Dc,t),this.lo(new Ic(this))},Ri(n,[{key:"Ic",get:function(){return this.Yc&&this.Yc.sessionId||""}},{key:"Ec",get:function(){return NaN}},{key:"Sc",get:function(){return this.Gc.Zo}},{key:"Rc",get:function(){return this.Zc}}]),n}(pc),Id=function(){function t(t,n,e){this.qc=t,this.Cc=n,this.Nc=e;var i=pd(e)||"video/mp4";this.zc=yd(i)}var n=t.prototype;return n.Dc=function(t){var n=this;return ta((function(){return ea(this,(function(t){return[2,new Rd(n.qc,n.zc)]}))}))()},n.Ac=function(t){return Y.resolve(!1)},n.Pc=function(t){var n=this,e=function(){t.msSetMediaKeys(n.qc),t.removeEventListener("loadedmetadata",e)};return t.readyState>=1?t.msSetMediaKeys(this.qc):t.addEventListener("loadedmetadata",e),Y.resolve()},n.xc=function(t){return Y.resolve()},n.Bc=function(){return Y.resolve()},t}();Ti();var Od=function(){function t(t,n){this.cc=t,this.nf=n}var n=t.prototype;return n.Uc=function(){return this.nf},n.Mc=function(){var t=new mi.MSMediaKeys(this.cc);return Y.resolve(new Id(t,this.cc,this.nf))},Ri(t,[{key:"Cc",get:function(){return this.cc}}]),t}();Ti();var Cd=function(){function t(){}return t.prototype.zu=function(t,n){try{return Y.resolve(function(t,n){if(!Nd())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=md(Dd,Ec,t,i);if(r)return new Od(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Y.reject(t)}},t.Hc=function(){return Nd()},t}();function Nd(){return void 0!==mi.MSMediaKeys&&"function"==typeof mi.MSMediaKeys.isTypeSupported}function Dd(t,n){return mi.MSMediaKeys.isTypeSupported(t,n)}ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii();var Ad,Pd,xd,Bd,Ld=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).ef=n,r.zc=e,r.if=i,r.Gc=new Af,r.rf=void 0,r.Zc=new Ac,r.uf=void 0,r.sf=new Af,r.$c=function(){var t=r.uf&&r.uf.error;if(t){var n=new Lf("Unknown CDM error",t.code,t.systemCode);r.rf?(r.rf.ts(n),r.rf=void 0):n.es===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Jc("output-not-allowed"):r.Jc("internal-error"),r.lo(new Cc)}},r.Xc=function(t){r.lo(new Oc(lu(r),"license-request",Cf(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Kc=function(){r.rf&&(r.rf.Qo(void 0),r.rf=void 0),r.Jc("usable")},r}Xi(n,t);var e=n.prototype;return e.mc=function(t,n,e){var i=e&&e.fairplay&&e.fairplay.af;if(!i)throw new h("Expected FairPlay contentId to be defined but was "+i+".");var r=Fd(If(n),i,this.if);return this.uf=this.ef.createSession(this.zc,r),this.uf.addEventListener("webkitkeymessage",this.Xc,!1),this.uf.addEventListener("webkitkeyadded",this.Kc,!1),this.uf.addEventListener("webkitkeyerror",this.$c,!1),this.Jc("status-pending"),this.sf.Qo(this.uf),this.sf=new Af,Y.resolve()},e._c=function(t){return Y.resolve(!0)},e.kc=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:if(0===(e=If(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.rf=new Af,(i=n.uf)?[3,2]:[4,n.sf.Zo];case 1:i=r.sent(),r.label=2;case 2:return i.update(e),[4,n.rf.Zo];case 3:return r.sent(),[2]}}))}))()},e.yc=function(){var t,n=this.uf;return n&&(n.removeEventListener("webkitkeymessage",this.Xc,!1),n.removeEventListener("webkitkeyadded",this.Kc,!1),n.removeEventListener("webkitkeyerror",this.$c,!1),n.close()),this.sf.so(),null==(t=this.rf)||t.so(),this.Gc.Qo(void 0),this.Gc.Zo},e.bc=function(){return Y.resolve(void 0)},e.Jc=function(t){this.Zc.qo(),this.Zc.Ho(Dc,t),this.lo(new Ic(this))},Ri(n,[{key:"Ic",get:function(){return this.uf?this.uf.sessionId:""}},{key:"Ec",get:function(){return NaN}},{key:"Sc",get:function(){return this.Gc.Zo}},{key:"Rc",get:function(){return this.Zc}}]),n}(pc);function Fd(t,n,e){var i=bf(t),r=2*i.length,u=2*n.length,o=new ArrayBuffer(4+r+4+u+4+e.byteLength),s=new DataView(o),a=new Df;return af(s,a,r,!0),wf(s,a,i,!0),af(s,a,u,!0),wf(s,a,n,!0),af(s,a,e.byteLength,!0),function(t,n,e){Ef(t).set(Ef(e),n.Xo),n.jo(e.byteLength)}(s,a,e),new y(o)}ki(),Vt(),Ii(),ki(),Vt(),(Pd=Ad||(Ad={}))[Pd.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Pd[Pd.LICENSE_ERROR=2e3]="LICENSE_ERROR",Pd[Pd.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Pd[Pd.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Pd[Pd.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Pd[Pd.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Pd[Pd.SOURCE_INVALID=3e3]="SOURCE_INVALID",Pd[Pd.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Pd[Pd.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Pd[Pd.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Pd[Pd.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Pd[Pd.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Pd[Pd.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Pd[Pd.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Pd[Pd.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Pd[Pd.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Pd[Pd.NETWORK_ERROR=6e3]="NETWORK_ERROR",Pd[Pd.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Pd[Pd.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Pd[Pd.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Pd[Pd.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Pd[Pd.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Pd[Pd.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Pd[Pd.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Pd[Pd.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Pd[Pd.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Pd[Pd.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Pd[Pd.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Pd[Pd.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Pd[Pd.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Pd[Pd.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Pd[Pd.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Pd[Pd.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Pd[Pd.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Pd[Pd.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Pd[Pd.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Pd[Pd.AD_ERROR=1e4]="AD_ERROR",Pd[Pd.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Pd[Pd.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",Pd[Pd.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",Pd[Pd.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",(Bd=xd||(xd={}))[Bd.CONFIGURATION=1]="CONFIGURATION",Bd[Bd.LICENSE=2]="LICENSE",Bd[Bd.SOURCE=3]="SOURCE",Bd[Bd.MANIFEST=4]="MANIFEST",Bd[Bd.MEDIA=5]="MEDIA",Bd[Bd.NETWORK=6]="NETWORK",Bd[Bd.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Bd[Bd.SUBTITLE=8]="SUBTITLE",Bd[Bd.VR=9]="VR",Bd[Bd.AD=10]="AD",Bd[Bd.FULLSCREEN=11]="FULLSCREEN",Bd[Bd.CACHE=12]="CACHE",(xd||(xd={})).fromCode=function(t){var n=d.floor(t/1e3);if(n in xd)return n;throw new h("Invalid error code: "+t)};var Md=function(t){function n(n,e,i){var r;return(r=t.call(this,e,i)||this).code=n,r}return Xi(n,t),Ri(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return xd.fromCode(this.code)}}]),n}(gu);var Ud=function(){function t(t,n,e){this.ef=t,this.Cc=n,this.Nc=e,this.if=void 0;var i=pd(e)||"video/mp4";this.zc=yd(i)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.ef},n.Dc=function(t){var n=this;return ta((function(){return ea(this,(function(t){if(!n.if)throw new Md(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new Ld(n.ef,n.zc,n.if)]}))}))()},n.Ac=function(t){return this.if=If(t),Y.resolve(!0)},n.Pc=function(t){return t.webkitSetMediaKeys(this.ef),Y.resolve()},n.xc=function(t){return t.webkitSetMediaKeys(null),Y.resolve()},n.Bc=function(){return Y.resolve()},t}();Ti();var Vd=function(){function t(t,n){this.cc=t,this.nf=n}var n=t.prototype;return n.Uc=function(){return this.nf},n.Mc=function(){var t=new mi.WebKitMediaKeys(this.cc);return Y.resolve(new Ud(t,this.cc,this.nf))},Ri(t,[{key:"Cc",get:function(){return this.cc}}]),t}();Ti();var Hd=function(){function t(){}return t.prototype.zu=function(t,n){try{return Y.resolve(function(t,n){if(t!==Ia)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!qd())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=md(zd,Rc,t,i);if(r)return new Vd(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Y.reject(t)}},t.Hc=function(){return qd()},t}();function qd(){return void 0!==mi.WebKitMediaKeys&&"function"==typeof mi.WebKitMediaKeys.isTypeSupported}function zd(t,n){return mi.WebKitMediaKeys.isTypeSupported(t,n)}ki(),Vt();var Wd=function(){function t(t){this.cf=t}return t.prototype.zu=function(t,n){var e=this;return ta((function(){var i,r,u;return ea(this,(function(o){switch(o.label){case 0:i=0,r=e.cf,o.label=1;case 1:if(!(i<r.length))return[3,6];u=r[i],o.label=2;case 2:return o.trys.push([2,4,,5]),[4,u.zu(t,n)];case 3:return[2,o.sent()];case 4:return o.sent(),[3,5];case 5:return i++,[3,1];case 6:throw new h("Unsupported key system configuration for "+t)}}))}))()},t}();ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt();var jd=function(){function t(t){var n=this;this.ff=[],this.hf=void 0,this.vf=new rc,this.df=function(){return 0===n.ff.length?n.lf?Yd(n.lf,n.vf.fo).then(n.wf,n.wf):n.wf():n.ff.shift()().then(n.df)},this.wf=function(){if(0!==n.ff.length)return n.df();n.hf=void 0},this.lf=t}var n=t.prototype;return n.gf=function(t,n){var e=this;return new Y((function(i){var r=new rc;r.ao(e.vf.fo),n&&r.ao(n);var u=function(){r.Qu()};e.ff.push((function(){var n=Yd(t,r.fo);return i(n),n.then(u,u)})),e.hf||(e.hf=e.df())}))},n.so=function(){return this.yf(!0)},n.kn=function(){return this.lf=void 0,this.yf(!1)},n.yf=function(t){var n=this.hf;return this.vf.so(),t&&(this.vf=new rc),Y.resolve(n)},t}();function Yd(t,n){return new Y((function(e){return e(t(n))}))}var Gd,Xd=new jd,$d=function(t){function n(n){var e;return(e=t.call(this)||this).cc=n,e.jc=void 0,e.rf=void 0,e.Nn=!1,e.mf=void 0,e._f=void 0,e.Gc=new Af,e.pf="",e.bf=new Af,e.kf=new Ac,e}Xi(n,t);var e=n.prototype;return e.Tf=function(){this.rf&&(this.Jc("usable"),this.rf.Qo(void 0),this.rf=void 0)},e.Sf=function(t){var n=new Lf("Unknown CDM error",t.errorCode,t.systemCode);this.rf?(this.rf.ts(n),this.rf=void 0):this.jc?(this.jc.ts(n),this.jc=void 0):n.es===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Jc("output-restricted"):1===n.rs?this.Jc("expired"):this.Jc("internal-error")},e.Ef=function(t){0!==t.message.byteLength&&(this.jc&&(this.jc.Qo(void 0),this.jc=void 0),this.lo(new Oc(this,"license-request",xf(this.cc,Cf(t.message).buffer),t.defaultURL||void 0)))},e.Rf=function(t){this._f||(this._f=t,this.bf.Qo(t))},e.yc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.throwIfClosed(),t.rf&&(t.rf.ts(void 0),t.rf=void 0),t.Nn=!0,t.Gc.Qo(void 0),[2]}))}))()},e.mc=function(t,n){var e=this;return ta((function(){var t;return ea(this,(function(i){switch(i.label){case 0:return e.throwIfClosed(),e.jc=new Af,e.mf=If(n),(t=e._f)?[3,2]:[4,e.bf.Zo];case 1:t=i.sent(),i.label=2;case 2:return t.webkitGenerateKeyRequest(e.cc,e.mf),[4,e.jc.Zo];case 3:return i.sent(),[2]}}))}))()},e._c=function(t){var n=this;return ta((function(){return ea(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},e.bc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.throwIfClosed(),[2]}))}))()},e.kc=function(t){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return n.throwIfClosed(),n.rf=new Af,sr.Ze||sr.Ke?[2,Xd.gf(ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,n.doUpdate(t)];case 1:return e.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return e.sent(),[2]}}))}))()},e.doUpdate=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return void 0===n.rf?[2]:(e=n._f)?[3,2]:[4,n.bf.Zo];case 1:e=i.sent(),i.label=2;case 2:return e.webkitAddKey(n.cc,If(t),n.mf,n.Ic),[4,n.rf.Zo];case 3:return i.sent(),[2]}}))}))()},e.throwIfClosed=function(){if(this.Nn)throw new h("Already closing or closed.")},e.Jc=function(t){this.kf.qo(),this.kf.Ho(Dc,t),this.lo(new Ic(this))},e.If=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:return(e=t._f)?[3,2]:[4,t.bf.Zo];case 1:e=i.sent(),i.label=2;case 2:if(!(n=e).webkitCancelKeyRequest)return[3,7];i.label=3;case 3:return i.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.cc,t.pf),[3,7];case 4:return i.sent(),[3,7];case 5:return[4,yc(500)];case 6:return i.sent(),[7];case 7:return[2]}}))}))()},Ri(n,[{key:"Rc",get:function(){return this.kf}},{key:"Ic",get:function(){return this.pf},set:function(t){this.pf=t}},{key:"Sc",get:function(){return this.Gc.Zo}},{key:"Ec",get:function(){return NaN}}]),n}(pc),Kd=function(){function t(t,n){var e=this;this.Cc=t,this.Nc=n,this._f=void 0,this.Of=ua(),this.Cf=[],this.Kc=function(t){var n=e.Nf(t.sessionId);n&&n.Tf()},this.Df=function(t){var n=e.Nf(t.sessionId);n&&n.Sf(t)},this.Af=function(t){var n=e.Nf(t.sessionId);n&&n.Ef(t)}}var n=t.prototype;return n.Pc=function(t){return this._f=t,this._f.addEventListener("webkitkeyadded",this.Kc),this._f.addEventListener("webkitkeyerror",this.Df),this._f.addEventListener("webkitkeymessage",this.Af),this.Of.forEach((function(n,e){return n.Rf(t)})),this.Cf.forEach((function(n){return n.Rf(t)})),Y.resolve()},n.xc=function(t){return t.removeEventListener("webkitkeyadded",this.Kc),t.removeEventListener("webkitkeyerror",this.Df),t.removeEventListener("webkitkeymessage",this.Af),this._f=void 0,Y.resolve()},n.Bc=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:n=t.Of.entries(),e=n.next(),i.label=1;case 1:return e.done?[3,3]:[4,e.value[1].If()];case 2:return i.sent(),e=n.next(),[3,1];case 3:return t.Of.clear(),[2]}}))}))()},n.Dc=function(t,n,e){var i=this;return ta((function(){var t;return ea(this,(function(n){return t=new $d(i.Cc),i._f&&t.Rf(i._f),i.Cf.push(t),[2,t]}))}))()},n.Ac=function(t){return Y.resolve(!1)},n.Nf=function(t){if(t){var n=this.Of.get(t);return n||((n=this.Cf.shift())?(n.Ic=t,this.Of.set(t,n),n):void 0)}},t}(),Jd=function(){function t(t,n){this.Cc=t,this.Pf=n}var n=t.prototype;return n.Mc=function(){return Y.resolve(new Kd(this.Cc,this.Pf))},n.Uc=function(){return this.Pf},t}(),Zd=function(){function t(){}return t.prototype.zu=function(t,n){try{return Y.resolve(function(t,n){if(!Zd.Hc())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=md(Qd,Ec,t,i);if(r)return new Jd(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Y.reject(t)}},t.Hc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Qd(t,n){var e=Ps();return!(!e||!e.canPlayType||""===e.canPlayType(n,t))}function tl(){return Gd||(Gd=function(){var t=[];Hd.Hc()&&t.push(new Hd);Ed.Hc()&&t.push(new Ed);Cd.Hc()&&t.push(new Cd);Zd.Hc()&&t.push(new Zd);return new Wd(t)}()),Gd}ki(),Vt(),ki(),Vt();var nl=function(){function t(){this.xf=ua()}var n=t.prototype;return n.qo=function(t){this.xf.delete(t)},n.Bf=function(){this.xf.clear()},n.Uo=function(t){return this.xf.get(t)},n.Lf=function(t,n){this.xf.set(t,n)},t}(),el=function(){function t(){}return t.Ff=function(){return t._i||(t._i=il.Hc()?new il:new nl),t._i},t.qo=function(n){t.Ff().qo(n)},t.Bf=function(){t.Ff().Bf()},t.Uo=function(n){return t.Ff().Uo(n)},t.Lf=function(n,e){t.Ff().Lf(n,e)},t}();el._i=void 0;var il=function(n){function e(){return n.apply(this,arguments)}Xi(e,n);var i=e.prototype;return i.qo=function(n){t.sessionStorage.removeItem(n)},i.Bf=function(){t.sessionStorage.clear()},i.Uo=function(n){return t.sessionStorage[n]},i.Lf=function(n,e){t.sessionStorage[n]=e},e.Hc=function(){var n="foobar";try{return t.sessionStorage.setItem(n,n),t.sessionStorage.removeItem(n),!0}catch(t){return!1}},e}(el);ki(),Vt(),ki(),Vt();var rl=function(){var n,e=t.Blob;if(e)try{return new e,n=e,function(t,e){return new n(t,e)}}catch(t){}var i,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return i=r,function(t,n){var e=new i;if(t)for(var r=0;r<t.length;r++){var u=t[r];e.append(u)}return e.getBlob(n&&n.type||"")}}();function ul(t,n,e){var r=rl([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),o=function(t,n){var e=t,i=e.indexOf("?");if(i>=0&&(e=e.substr(0,i)),e=e.substr(e.lastIndexOf("/")+1),n){var r=e.indexOf(".");r<0&&(r=e.length),e=e.substr(0,r)+n+e.substr(r)}return e}(t,e),s=i.createElement("a");s.href=u,s.download=o,i.body.appendChild(s),s.click(),i.body.removeChild(s),URL.revokeObjectURL(u)}ki(),Vt();var ol,sl,al,cl,fl="default",hl="unknown";ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),(sl=ol||(ol={})).Mf="Uf",sl.Vf="Hf",sl.qf="contentprotectionerror",sl.zf="contentprotectionsuccess",sl.Wf="currentsourcechange",sl.jf="destroy",sl.Yf="durationchange",sl.Gf="emptied",sl.Ao="encrypted",sl.Xf="ended",sl.$f="Kf",sl.Jf="loadstart",sl.Zf="manifestupdate",sl.Qf="nosupportedrepresentationfound",sl.th="offline",sl.nh="online",sl.eh="pause",sl.ih="play",sl.rh="progress",sl.uh="ratechange",sl.oh="representationchange",sl.sh="resize",sl.ah="seeked",sl.fh="seeking",sl.hh="segmentnotfound",sl.dh="lh",sl.wh="gh",sl.yh="sourcechange",sl.mh="timeupdate",sl._h="volumechange",sl.ph="bh",sl.kh="metricschange",ki(),Vt(),ki(),Vt(),(cl=al||(al={})).Th="arraybuffer",cl.Sh="json",cl.Eh="stream",cl.Si="text",ki(),Vt();var vl=function(){function t(n){var e=this;this.Ou={},n instanceof t?n.asList().forEach((function(t){var n=ia(t,2),i=n[0],r=n[1];e.append(i,r)})):Array.isArray(n)?n.forEach((function(t){e.append(t[0],t[1])})):n&&v.getOwnPropertyNames(n).forEach((function(t){e.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var e=t,i=n;e=dl(e),i=ll(i);var r=e.toLowerCase();if(this.Ou.hasOwnProperty(r)){var u=this.Ou[r],o=u[1];u[1]=o?o+", "+i:i}else this.Ou[r]=[e,i]},n.delete=function(t){var n=dl(t).toLowerCase();delete this.Ou[n]},n.get=function(t){var n=dl(t).toLowerCase();return this.Ou.hasOwnProperty(n)?this.Ou[n][1]:null},n.has=function(t){var n=dl(t).toLowerCase();return this.Ou.hasOwnProperty(n)},n.set=function(t,n){var e=t,i=(e=dl(e)).toLowerCase();this.Ou[i]=[e,ll(n)]},n.forEach=function(t,n){for(var e in this.Ou)this.Ou.hasOwnProperty(e)&&t.call(n,this.Ou[e][1],e,this)},n.asList=function(){var t=[];for(var n in this.Ou)if(this.Ou.hasOwnProperty(n)){var e=ia(this.Ou[n],2),i=e[0],r=e[1];t.push([i,r])}return t},n.Rh=function(){var t={};return this.forEach((function(n,e){t[e]=n})),t},n.Ih=function(t){var n=this;t.forEach((function(t,e){n.append(e,t)}))},n.Oh=function(t){var n=this;t.forEach((function(t,e){n.set(e,t)}))},t}();function dl(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function ll(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),bi(),ki(),Vt(),Ii();var wl,gl,yl=function(t){function n(n){var e;return(e=t.call(this,""+n.join("\n"),n[0])||this).causes=n,e}return Xi(n,t),Ri(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(gu);function ml(t){return n=[t],new Lt({start:function(t){for(var e=0;e<n.length;e++){var i=n[e];t.enqueue(i)}t.close()}});var n}function _l(t){return ml(new y(t))}function pl(t,n){return function(t,n){var e=n,i=t.getReader(),r=new Af,u=function(){o();var t=new uc;i.cancel(t).catch(pr),r.ts(t)},o=function(){e&&(e.io(u),e=void 0)};e&&(e.Xu?u():e.eo(u));var s=[],a=function(t){return t.done?(o(),Y.resolve(s)):(s.push(t.value),Y.resolve(i.read()).then(a))};return Y.resolve(i.read()).then(a).then((function(t){o(),r.Qo(t)}),(function(t){o(),r.ts(t)})),r.Zo}(t,n).then((function(t){return zc(t).buffer}))}function bl(t,n){var e=n,i=new Ft,r=i.readable,u=i.writable,o=u.getWriter(),s=function(){e&&e.so()};return o.closed.then(s,s),t.then((function(t){return e=void 0,o.releaseLock(),t.pipeTo(u).catch(pr)}),(function(t){return e=void 0,o.releaseLock(),u.abort(t).catch(pr)})),r}function kl(t){return bf(new y(t))}function Tl(t){return kf(t).buffer}ki(),Vt(),(gl=wl||(wl={}))[gl.Eh=0]="Eh",gl[gl.Ch=1]="Ch";var Sl="text/plain;charset=UTF-8",El=function(){function t(){}var n=t.prototype;return n.Nh=function(t){return this.Dh(t).then(JSON.parse)},n.Ah=function(t,n){switch(t){case al.Th:return this.Ph(n);case al.Sh:return this.Nh(n);case al.Eh:return this.xh();case al.Si:return this.Dh(n);default:throw new h}},t}();function Rl(t,n,e){if(t instanceof El)return t;if(t instanceof Lt)return function(t,n){return new Ol({xu:0,xh:t,Bh:Il(n)})}(t,e);var i=Il(e),r=Y.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{xu:al.Si,Lh:t,Bh:n||Sl};if(t instanceof ArrayBuffer||Hc(t))return{xu:al.Th,Lh:Bl(t),Bh:n};if(wr(t)||vr(t))return{xu:al.Sh,Lh:t,Bh:n};throw new h("Unsupported BodyInit type")}return{xu:al.Si,Lh:null,Bh:n}}(t,i)}));return new Ol({xu:1,Zo:r,Fh:n})}function Il(t){return(t.get("content-type")||"").toLowerCase()}var Ol=function(t){function n(n){var e;return(e=t.call(this)||this).Mh=!1,e.Uh=new Af,e.Uh.Zo.catch(pr),e.Vh(n),e}Xi(n,t);var e=n.prototype;return e.Hh=function(){return this.Uh.Zo},e.Dh=function(t){return this.qh(Cl,t)},e.Nh=function(t){return this.qh(Dl,t)},e.Ph=function(t){return this.qh(Pl,t)},e.xh=function(){return this.zh(0===(t=this.Wh).xu?t.xh:bl(t.Zo.then(xl).then(_l),t.Fh));var t},e.qh=function(t,n){if(this.Mh)return Y.reject(new h("Already used"));this.Mh=!0;var e=t(this.Wh,n);return this.Uh.ao(e.then(pr)),e},e.zh=function(t){if(this.Mh)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.Mh=!0;var n=new Ft,e=Y.resolve(t.pipeTo(n.writable));return this.Uh.ao(e),n.readable},e.Vh=function(t){this.Wh=t,1===t.xu&&t.Zo.catch(pr)},e.jh=function(){if(this.Mh)throw new h("Already used");var t=function(t){if(0===t.xu){var n=ia(t.xh.tee(),2),e=n[0],i=n[1];return[{xu:t.xu,xh:e,Bh:t.Bh},{xu:t.xu,xh:i,Bh:t.Bh}]}var r=ia(t.Fh.co(),2),u=r[0],o=r[1];return[{xu:t.xu,Zo:t.Zo,Fh:u},{xu:t.xu,Zo:t.Zo,Fh:o}]}(this.Wh),e=t[0],i=t[1];return this.Vh(e),new n(i)},Ri(n,[{key:"Yh",get:function(){return this.Mh}}]),n}(El);function Cl(t,n){return 0===t.xu?pl(t.xh,n).then(kl):(n&&t.Fh.ao(n),hc(t.Zo.then(Nl),t.Fh))}function Nl(t){switch(t.xu){case al.Si:return Y.resolve(t.Lh||"");case al.Th:return Y.resolve(t.Lh).then(kl);case al.Sh:return Y.resolve(t.Lh).then(JSON.stringify)}}function Dl(t,n){return 0===t.xu?Cl(t,n).then(JSON.parse):(n&&t.Fh.ao(n),hc(t.Zo.then(Al),t.Fh))}function Al(t){return t.xu===al.Sh?Y.resolve(t.Lh):Nl(t).then(JSON.parse)}function Pl(t,n){return 0===t.xu?pl(t.xh,n):(n&&t.Fh.ao(n),hc(t.Zo.then(xl),t.Fh))}function xl(t){switch(t.xu){case al.Th:return Y.resolve(t.Lh);case al.Si:case al.Sh:return Nl(t).then(Tl)}}function Bl(t){return t instanceof ArrayBuffer?t:Cf(Ef(t)).buffer}function Ll(t){return t.Gh>=200&&t.Gh<=299||304===t.Gh}var Fl,Ml,Ul,Vl,Hl,ql,zl,Wl,jl=function(t){function n(n,e){var i,r,u,o,s,a;e?(r=e.Xh,u=e.$h,o=e.Gh,s=e.Kh,a=e.Jh):(r=[],u=al.Si,o=200,s="OK",a=!1);var c=n.Zh,f=new vl(n.Xh||r),h=n.$h||u,v=n.Qh||(e&&e.Zh===c?e.Qh:c.tv),d=e?e.nv:null,l=Rl(void 0!==n.Qi?n.Qi:d,n.Fh||new rc,f);return(i=t.call(this,l)||this).Xh=f,i.Zh=c,i.Qh=v,i.$h=h,i.Gh=void 0!==n.Gh?n.Gh:o,i.Kh=void 0!==n.Kh?String(n.Kh):s,i.Jh=n.Jh||a,i}Xi(n,t);var e=n.prototype;return e.Qi=function(t){return this.Ah(this.$h,t)},e.Go=function(){return new n({Qi:this.jh(),Zh:this.Zh},this)},n}(function(t){function n(n){var e;return(e=t.call(this)||this).nv=n,e}Xi(n,t);var e=n.prototype;return e.Hh=function(){return this.nv.Hh()},e.Dh=function(t){return this.nv.Dh(t)},e.Nh=function(t){return this.nv.Nh(t)},e.Ph=function(t){return this.nv.Ph(t)},e.xh=function(){return this.nv.xh()},e.jh=function(){return this.nv.jh()},Ri(n,[{key:"Yh",get:function(){return this.nv.Yh}}]),n}(El));ki(),Vt(),(Ml=Fl||(Fl={})).DELETE="DELETE",Ml.GET="GET",Ml.HEAD="HEAD",Ml.OPTIONS="OPTIONS",Ml.POST="POST",Ml.PUT="PUT",(Vl=Ul||(Ul={})).ev="",Vl.rv="manifest",Vl.uv="segment",Vl.ov="preload-hint",Vl.sv="content-protection",(ql=Hl||(Hl={})).ev="",ql.av="initialization-segment",ql.cv="fairplay-license",ql.fv="fairplay-certificate",ql.hv="widevine-license",ql.vv="widevine-certificate",ql.dv="playready-license",ql.lv="clearkey-license",ql.wv="aes128-key",(Wl=zl||(zl={})).ev="",Wl.gv="audio",Wl.yv="video",Wl.Si="text",Wl.mv="image";var Yl=function(t,n){var e,i,r,u,o,s,a,c,f,h,v,d=t.tv;n?(e=n.Lh,i=n.Xh,r=n._v,u=n.$h,o=n.pv,s=n.fo,a=n.xu,c=n.bv,f=n.kv,h=n.Tv,v=n.Sv):(e=null,i={},r="GET",u=al.Si,o=0,a="",c="",f="",h=!1),this.tv=d,this.Lh=t.Lh||e,this.Xh=new vl(t.Xh||i),this._v=t._v||r,this.$h=t.$h||u,this.pv=void 0!==t.pv?Number(t.pv)||0:o,this.fo=t.fo||s||(new rc).fo,this.xu=t.xu||a,this.bv=t.bv||c,this.kv=t.kv||f,this.Tv=void 0!==t.Tv?Boolean(t.Tv):h,this.Sv=t.Sv||v},Gl=function(){function t(){}var n=t.prototype;return n.Zh=function(t){var n=function(t){return new jl({Qi:null,Xh:{},Zh:t,Qh:t.tv,$h:t.$h,Gh:0,Kh:ol.th})}(new Yl(t));return Y.resolve(n)},n.Ev=function(t){},n.kn=function(){},t}();var Xl=function(){function t(t,n){void 0===n&&(n=!0),this.Rv=t,this.Iv=n}var n=t.prototype;return n.Zh=function(t){var n=this.Ov(t);return this.Rv.Zh(n)},n.Ev=function(t){return this.Rv.Ev(this.Cv(t))},n.Ov=function(n){var e=new Yl(n);if(!this.Iv){var i=t.Nv(e.tv);e=new Yl({tv:i},e)}return e},n.Cv=function(n){var e=n.tv;return this.Iv||(e=t.Nv(e)),{tv:e,Lh:n.Lh}},n.kn=function(){this.Rv.kn()},t.Nv=function(t){return Wi.pu&&xa(t,"http://")?t.replace(":","s:"):t},Ri(t,null,[{key:"Dv",get:function(){return t.Av||(t.Av=new t(new Gl)),t.Av}}]),t}();function $l(t,n){for(var e=0,i=v.keys(n);e<i.length;e++){var r=i[e];t.searchParams.set(r,n[r])}}function Kl(t,n){var e=Wi.lu(t);return n&&!Ba(e,"/")&&(e+="/"),e}Xl.Av=void 0,ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt();var Jl,Zl,Ql=/cache:(.+)?(?=&|$)/;function tw(t){if(!xa(t,"http://webcache.googleusercontent.com/search?q=cache:"))return"";var n=Wi.du(t).search.match(Ql);return n&&n.length>1?n[1]:""}ki(),Vt(),Ii(),ki(),Vt(),Ii(),(Zl=Jl||(Jl={})).Pv="HttpOpenError",Zl.xv="HttpResponseError",Zl.Bv="HttpTimeoutError";var nw=function(t){function n(n,e,i){var r;return(r=t.call(this,e,i)||this).Lv=n,r}return Xi(n,t),Ri(n,[{key:"Zh",get:function(){return this.Lv}}]),n}(gu);var ew=function(t){function n(n,e){return t.call(this,n,"Error while opening "+n.tv+". Invalid URL.",e)}return Xi(n,t),Ri(n,[{key:"name",get:function(){return Jl.Pv}}]),n}(nw);ki(),Vt(),Ii();var iw=function(t){function n(n,e,i){var r;return(r=t.call(this,n.Zh,null!=i?i:function(t){return"Error while loading "+t.Zh.tv+", status code "+t.Gh}(n),e)||this).Fv=n,r}return Xi(n,t),Ri(n,[{key:"name",get:function(){return Jl.xv}},{key:"Mv",get:function(){return this.Fv}}]),n}(nw);ki(),Vt(),Ii();var rw=function(t){function n(n,e){return t.call(this,n,function(t){return"Request for "+t.tv+" timed out after "+t.pv+" seconds."}(n),e)}return Xi(n,t),Ri(n,[{key:"name",get:function(){return Jl.Bv}}]),n}(nw);ki(),Vt();var uw=function(t,n){return(uw=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function ow(t,n){function e(){this.constructor=t}uw(t,n),t.prototype=null===n?v.create(n):(e.prototype=n.prototype,new e)}var sw="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var aw=function(){var t=sw.Blob;if(t)try{return new t,function(t,n){return new sw.Blob(t,n)}}catch(t){}var n,e=sw.BlobBuilder||sw.WebKitBlobBuilder||sw.MozBlobBuilder||sw.MSBlobBuilder;return e?(n=e,function(t,e){var i=new n;if(t)for(var r=0,u=t;r<u.length;r++){var o=u[r];i.append(o)}return i.getBlob(e&&e.type||"")}):null}(),cw="function"==typeof Lt?Lt:void 0;function fw(t){return t&&"function"==typeof t.getReader}function hw(t){if("function"!=typeof t)return!1;try{var n=!1,e=new t({start:function(){n=!0}});return!!n&&fw(e)}catch(t){return!1}}var vw=function(){function t(t,n){this.Y=t,this.Uv=n}return t.prototype.pull=function(t){var n=this;return this.Y.read().then((function(e){n.Uv&&n.Uv(e),e.done?t.close():t.enqueue(e.value)}))},t.prototype.cancel=function(t){return this.Y.cancel(t)},t}();function dw(t,n){return n.constructor===t?n:new t(new vw(n.getReader()),{highWaterMark:0})}var lw=function(){function t(t,n){this.Vv=t,this.Hv=n}return t.prototype.pull=function(t){return this.Vv().then((function(n){t.enqueue(new y(n)),t.close()}))},t.prototype.cancel=function(t){this.Hv&&this.Hv(t)},t}();function ww(t,n,e){return new t(new lw(n,e),{highWaterMark:0})}var gw={searchParams:"URLSearchParams"in sw,iterable:"Symbol"in sw&&"iterator"in Symbol,blob:"FileReader"in sw&&!!aw,formData:"FormData"in sw,arrayBuffer:"ArrayBuffer"in sw,stream:hw(cw),streamRequest:"Request"in sw&&"body"in sw.Request.prototype,streamResponse:"Response"in sw&&"body"in sw.Response.prototype,abort:"AbortController"in sw&&"Request"in sw&&"signal"in sw.Request.prototype,encoding:"TextEncoder"in sw&&"TextDecoder"in sw,url:"URL"in sw&&function(t){try{return new sw.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in sw&&/Firefox\//.test(sw.navigator.userAgent)};function yw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function mw(t){return"string"!=typeof t&&(t=String(t)),t}function _w(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return gw.iterable&&(n[Symbol.iterator]=function(){return n}),n}var pw=function(){function t(t){var n=this;this.Ou={};var e,i=function(t,e){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(e,t)};(e=t)&&"function"==typeof e.forEach?t.forEach(i):!function(t){return gw.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach((function(e){n.append(e,t[e])})):Array.from(t).forEach(i)}return t.prototype.append=function(t,n){t=yw(t),n=mw(n);var e=t.toLowerCase();if(this.Ou.hasOwnProperty(e)){var i=this.Ou[e],r=i[1];i[1]=r?r+", "+n:n}else this.Ou[e]=[t,n]},t.prototype.delete=function(t){var n=yw(t).toLowerCase();delete this.Ou[n]},t.prototype.get=function(t){var n=yw(t).toLowerCase();return this.Ou.hasOwnProperty(n)?this.Ou[n][1]:null},t.prototype.has=function(t){var n=yw(t).toLowerCase();return this.Ou.hasOwnProperty(n)},t.prototype.set=function(t,n){var e=(t=yw(t)).toLowerCase();this.Ou[e]=[t,mw(n)]},t.prototype.forEach=function(t,n){for(var e in this.Ou)this.Ou.hasOwnProperty(e)&&t.call(n,this.Ou[e][1],e,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(n,e){t.push(e)})),_w(t)},t.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),_w(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(n,e){t.push([e,n])})),_w(t)},t.prototype.asList=function(){var t=[];for(var n in this.Ou)if(this.Ou.hasOwnProperty(n)){var e=this.Ou[n],i=e[0],r=e[1];t.push([i,r])}return t},t}();function bw(){}gw.iterable&&(pw.prototype[Symbol.iterator]=pw.prototype.entries);var kw,Tw,Sw,Ew=d.min,Rw=String.fromCharCode;function Iw(t){for(var n=[],e=0,i=t;e<i.length;e++){var r=i[e];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,e=[],i=0;i<n;i+=16384){var r=Ew(i+16384,n);e.push(Rw.apply(null,t.slice(i,r)))}return e.join("")}(n)}function Ow(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Cw(t,n){return t>>n&63|128}function Nw(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ow(t),n.push(t>>12&15|224),n.push(Cw(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Cw(t,12)),n.push(Cw(t,6))),n.push(63&t|128)):n.push(t)}function Dw(){if(Sw>=Tw)throw new f("Invalid byte index");var t=255&kw[Sw];if(Sw++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Aw(){var t,n;if(Sw>Tw)throw new f("Invalid byte index");if(Sw===Tw)return!1;if(t=255&kw[Sw],Sw++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Dw())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Dw()<<6|Dw())>=2048)return Ow(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Dw()<<12|Dw()<<6|Dw())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var Pw=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function xw(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Bw(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Lw(t){return t&&DataView.prototype.isPrototypeOf(t)}var Fw,Mw,Uw=ArrayBuffer.isView||function(t){return t&&(Pw.indexOf(v.prototype.toString.call(t))>-1||Lw(t))};function Vw(t){if(t.bodyUsed)return Y.reject(new h("Already used"));t.bodyUsed=!0}function Hw(t){return new Y((function(n,e){t.onload=function(){n(t.result)},t.onerror=function(){e(t.error)}}))}function qw(t){return gw.encoding?new sw.TextDecoder("utf-8").decode(new y(t)):Iw(function(t){Tw=(kw=t).length,Sw=0;for(var n,e=[];!1!==(n=Aw());)e.push(n);return e}(new y(t)))}function zw(t){return gw.encoding?(new sw.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],e=0,i=t;e<i.length;e++)Nw(i[e],n);return n}(function(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}(t))).buffer}function Ww(t){var n=t.getReader(),e=[],i=function(t){var r=t.done,u=t.value;return r?Y.resolve(e):(e.push(u),n.read().then(i))};return n.read().then(i)}function jw(t){return Ww(t).then((function(t){return function(t){for(var n=0,e=0,i=t;e<i.length;e++)n+=(a=i[e]).byteLength;for(var r=new y(n),u=0,o=0,s=t;o<s.length;o++){var a=s[o];r.set(a,u),u+=a.byteLength}return r}(t).buffer}))}function Yw(t){return t.slice?t.slice(0):Gw(new y(t))}function Gw(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Xw(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var e=t.split("="),i=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");n.append(decodeURIComponent(i),decodeURIComponent(r))}})),n}function $w(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.qv===Fw.zv){if(!n.Wv.tee)throw new f("could not clone ReadableStream body");var e=n.Wv.tee(),i=e[0],r=e[1];return n.body=i,n.Wv=i,n.jv=i,r}return n.qv===Fw.Th?Yw(n.Wv):n.qv===Fw.Ch?n.Wv.then($w):n.jv}(Mw=Fw||(Fw={}))[Mw.Si=0]="Si",Mw[Mw.Yv=1]="Yv",Mw[Mw.Gv=2]="Gv",Mw[Mw.Th=3]="Th",Mw[Mw.zv=4]="zv",Mw[Mw.Ch=5]="Ch";var Kw=function(){function t(n,e){this.bodyUsed=!1;var i,r,u,o=this;if(this.jv=n||null,n)if("string"==typeof n)this.qv=Fw.Si,this.Wv=n;else if((u=n)&&"function"==typeof u.then)this.qv=Fw.Ch,this.Wv=Y.resolve(n).then((function(n){return new t(n,e)})),this.Wv.catch(bw);else if(gw.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.qv=Fw.Yv,this.Wv=n;else if(gw.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.qv=Fw.Gv,this.Wv=n;else if(gw.searchParams&&xw(n))this.qv=Fw.Si,this.Wv=n.toString();else if(gw.arrayBuffer&&(Bw(n)||Uw(n)))Lw(n)&&(this.jv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.qv=Fw.Th,this.Wv=Bw(i=n)?Yw(i):Gw(i);else{if(!gw.stream||!fw(n))throw new f("unsupported BodyInit type");n=dw(cw,n),this.qv=Fw.zv,this.Wv=n,this.jv=n}else this.qv=Fw.Si,this.Wv="";this.Xv="",e.has("content-type")?this.Xv=(e.get("content-type")||"").toLowerCase():("string"==typeof n?this.Xv="text/plain;charset=UTF-8":o.qv===Fw.Yv&&o.Wv.type?this.Xv=o.Wv.type:gw.searchParams&&xw(n)&&(this.Xv="application/x-www-form-urlencoded;charset=UTF-8"),this.Xv&&e.set("content-type",this.Xv)),gw.stream&&(null==n?this.body=null:o.qv===Fw.zv?this.body=o.Wv:this.body=ww(cw,(function(){return o.arrayBuffer()}),(function(){o.bodyUsed=!0})))}return t.prototype.text=function(){var t,n,e,i=this,r=Vw(i);return r||(i.qv===Fw.Yv?(t=i.Wv,n=new FileReader,e=Hw(n),n.readAsText(t),e):i.qv===Fw.Th?Y.resolve(i.Wv).then(qw):i.qv===Fw.zv?jw(i.Wv).then(qw):i.qv===Fw.Ch?i.Wv.then((function(t){return t.text()})):i.qv===Fw.Gv?Y.reject(new f("could not read FormData body as text")):Y.resolve(i.Wv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();gw.blob&&(Kw.prototype.blob=function(){var t,n,e=this,i=Vw(e);return i||(e.qv===Fw.Yv?Y.resolve(e.Wv):e.qv===Fw.Th?Y.resolve(aw([e.Wv],{type:e.Xv})):e.qv===Fw.zv?(t=e.Wv,n=e.Xv,Ww(t).then((function(t){return aw(t,{type:n||""})}))):e.qv===Fw.Ch?e.Wv.then((function(t){return t.blob()})):e.qv===Fw.Gv?Y.reject(new f("could not read FormData body as Blob")):Y.resolve(aw([e.Wv],{type:e.Xv})))}),gw.arrayBuffer&&(Kw.prototype.arrayBuffer=function(){var t,n,e,i=this;return i.qv===Fw.Th?Vw(i)||Y.resolve(i.Wv):i.qv===Fw.Yv?Vw(i)||(t=i.Wv,n=new FileReader,e=Hw(n),n.readAsArrayBuffer(t),e):i.qv===Fw.zv?jw(i.Wv):i.qv===Fw.Ch?Vw(i)||i.Wv.then((function(t){return t.arrayBuffer()})):i.qv===Fw.Gv?Y.reject(new f("could not read FormData body as ArrayBuffer")):Y.resolve(i.Wv).then(zw)}),gw.formData&&(Kw.prototype.formData=function(){var t=this;return t.qv===Fw.Gv?Vw(t)||Y.resolve(t.Wv):t.text().then(Xw)});var Jw=[301,302,303,307,308],Zw=function(t){function n(n,e){var i=this,r=new pw((e=e||{}).headers);return(i=t.call(this,n||null,r)||this).type="default",i.status=void 0===e.status?200:e.status,i.ok=i.status>=200&&i.status<300,i.statusText=void 0!==e.statusText?String(e.statusText):"",i.headers=r,i.url=e.url||"",i}return ow(n,t),n.prototype.clone=function(){return new n($w(this),{status:this.status,statusText:this.statusText,headers:new pw(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,e){if(-1===Jw.indexOf(e))throw new RangeError("Invalid status code");return new n(null,{status:e,headers:{location:t}})},n}(Kw);var Qw,tg,ng=(function(t,n){function e(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function u(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}function s(t){return(s=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function a(t,n){return(a=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,e){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var i=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(i){var r=v.getOwnPropertyDescriptor(i,n);return r.get?r.get.call(e):r.value}})(t,n,e||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){e(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var e=this.listeners[t],i=0,r=e.length;i<r;i++)if(e[i]===n)return void e.splice(i,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var e=function(e){o((function(){return e.call(n,t)}))},i=this.listeners[t.type],r=0,u=i.length;r<u;r++)e(i[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,i,r;return e(this,n),i=this,(t=!(r=s(n).call(this))||"object"!=typeof r&&"function"!=typeof r?c(i):r).listeners||d.call(c(t)),v.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(n,t),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(d),w=function(){function t(){e(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==i?i.createEvent?(t=i.createEvent("Event")).initEvent("abort",!1,!1):(t=i.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w}(Qw={exports:{}},Qw.exports),Qw.exports);(tg=ng)&&tg.__esModule&&v.prototype.hasOwnProperty.call(tg,"default")&&tg.default;ng.AbortSignal;var eg=ng.AbortController,ig=sw.DOMException;try{new ig}catch(t){(ig=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),ig.prototype.constructor=ig}var rg=eg;function ug(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var e=function(){n.removeEventListener("abort",e),t.signal.removeEventListener("abort",e),t.abort()};n.addEventListener("abort",e),t.signal.addEventListener("abort",e)}}function og(t,n,e){return new Y((function(i,r){if(n.signal.aborted)return t.catch(bw),r(sg());var u=function(){n.signal.removeEventListener("abort",u),r(sg())};n.signal.addEventListener("abort",u),t.then((function(t){n.signal.removeEventListener("abort",u),i(t),e&&n.abort()}),(function(t){n.signal.removeEventListener("abort",u),r(t),e&&n.abort()}))}))}function sg(){return new ig("Aborted","AbortError")}var ag,cg,fg="moz-chunked-arraybuffer";function hg(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}(cg=ag||(ag={}))[cg.UNSENT=0]="UNSENT",cg[cg.OPENED=1]="OPENED",cg[cg.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",cg[cg.LOADING=3]="LOADING",cg[cg.DONE=4]="DONE";var vg=function(){function t(t,n){var e=this;this.$v=!1,this.Lv=t,this.Kv=n,this.Jv=new m,this.Zv=new Y((function(t,n){e.Qv=t,e.td=n}))}return t.prototype.send=function(){var t=this;return this.nd().then((function(n){return t.ed(n,t.Kv),t.Zv}))},t.prototype.nd=function(){var t=this.Lv;return t.qv===Fw.zv?t.arrayBuffer():Y.resolve(t.jv)},t.prototype.rd=function(t){this.Lv.onprogress&&this.Lv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.ud=function(t){this.td(t)},t.prototype.od=function(){this.ud(new h("Network request failed"))},t.prototype.sd=function(){this.ud(new h("Network request failed"))},t.prototype.fd=function(){this.ud(sg())},t.prototype.ed=function(t,n){var e=this,i=this.Lv,r=this.Jv,u=function(){return e.hd()};if(i.signal.aborted)return this.fd();r.onreadystatechange=function(){if(r.readyState>=ag.HEADERS_RECEIVED&&!e.$v){var t=function(t){var n=new pw;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),i=e.shift().trim();if(i){var r=e.join(":").trim();n.append(i,r)}})),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};e.$v=!0,e.vd(n)}},r.onprogress=function(t){return e.rd(t)},r.onload=function(){return e.dd()},r.onerror=function(){return e.od()},r.ontimeout=function(){return e.sd()},r.onabort=function(){return e.fd()},r.open(i.method,i.url,!0),r.withCredentials="include"===i.credentials,"responseType"in r&&n&&(r.responseType=n),i.headers.forEach((function(t,n){r.setRequestHeader(n,t)})),i.signal.addEventListener("abort",u),r.onloadend=function(){i.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.hd=function(){this.fd(),this.Jv.abort()},t}(),dg=function(t){function n(n,e){var i=t.call(this,n,e)||this;return i.ld=void 0,i.wd=void 0,i}return ow(n,t),n.prototype.vd=function(t){var n=this;this.ld=new Y((function(t,e){n.wd=t,n.gd=e})),this.Qv(new Zw(this.ld,t))},n.prototype.dd=function(){var t=this.Jv.response;if(null==t){var n=this.Kv;""===n||"text"===n?t=this.Jv.responseText:"document"===n?t=this.Jv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=aw([]))}this.wd(t)},n.prototype.ud=function(n){t.prototype.ud.call(this,n),this.gd&&this.gd(n)},n}(vg),lg=function(t){function n(n){var e=t.call(this,n,fg)||this;return e.yd=void 0,e.md=void 0,e._d=!1,e}return ow(n,t),n.prototype.vd=function(t){var n=this;this.yd=new cw({start:function(t){n.md=t},cancel:function(){n._d=!0,n.hd()}}),this.Qv(new Zw(this.yd,t))},n.prototype.rd=function(n){this._d||this.md.enqueue(new y(this.Jv.response)),t.prototype.rd.call(this,n)},n.prototype.dd=function(){this.md.close()},n.prototype.ud=function(n){t.prototype.ud.call(this,n),this.md&&!this._d&&(this._d=!0,this.md.error(n))},n}(vg),wg=function(){var t=gw.firefox&&hg(fg);return wg=function(){return t},t},gg=function(){var t;return t=gw.arrayBuffer&&hg("arraybuffer")?"arraybuffer":gw.blob&&hg("blob")?"blob":"",gg=function(){return t},t};function yg(t){return(gw.stream&&wg()?new lg(t):new dg(t,gg())).send()}var mg=sw.fetch,_g=sw.Request,pg=(sw.Response,sw.AbortController);var bg=["http:","https:"];var kg=function(){try{if(gw.streamRequest){var t=new _g("about:blank",{body:"",method:"POST"}).body;if(t&&hw(t.constructor))return t.constructor}}catch(t){}}();function Tg(t,n,e){var i;if(gw.stream){var r=void 0;if(gw.streamResponse){var u=t.body;r=u&&dw(cw,u)}else r=ww(cw,(function(){return og(t.arrayBuffer(),n,!0)}),(function(){n.abort()}));r&&e&&(r=function(t,n,e){var i=0;return function(t,n,e){return new t(new vw(n.getReader(),e),{highWaterMark:0})}(cw,t,(function(t){var r=t.done,u=t.value;r?e=void 0===e?i:e:i+=u.byteLength,n(i,e)}))}(r,e,Sg(t.headers))),i=r}else{var o=og(t.arrayBuffer(),n,!0);e&&(o=function(t,n,e){return Y.resolve().then((function(){return n(0,e),t})).then((function(t){var i=t.byteLength;return n(i,e=void 0===e?i:e),t}))}(o,e,Sg(t.headers))),i=o}return new Zw(i,t)}function Sg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Eg(t){var n=new rg;return t.signal&&ug(n,t.signal),function(t,n){var e,i,r=t;if(e=r.qv===Fw.zv?gw.streamRequest&&kg?Y.resolve(dw(kg,r.Wv)):og(t.arrayBuffer(),n,!1):og(Y.resolve(t.jv),n,!1),gw.abort){var u=new pg;ug(u,n.signal),i=u.signal}return e.then((function(n){return new _g(t.url,{body:n||void 0,credentials:t.credentials,headers:(e=t.headers,(e instanceof pw?e:new pw(e)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:i});var e}))}(t,n).then((function(e){return mg(e).then((function(e){return Tg(e,n,t.onprogress)}))}))}var Rg=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Ig=function(t){function n(e,i){var r,u,o,s,a,c,f,v,d,l=this,w=(i=i||{}).body||null;if(e instanceof n){if(e.bodyUsed)throw new h("Already used");r=e.url,u=e.credentials,i.headers||(o=new pw(e.headers)),s=e.method,a=e.mode,c=e.referrer,f=e.referrerPolicy,v=e.signal,d=e.onprogress,w||null==e.jv||(w=e.jv,e.bodyUsed=!0)}else r=String(e),u="same-origin",s="GET",a="cors",c="about:client",f="",v=null,d=null;if(!i.headers&&o||(o=new pw(i.headers)),i&&(c="about:client",f=""),(l=t.call(this,w,o)||this).url=r,l.headers=o,l.credentials=i.credentials||u,l.method=function(t){var n=t.toUpperCase();return Rg.indexOf(n)>-1?n:t}(i.method||s),l.mode=i.mode||a,l.signal=i.signal||v||(new rg).signal,l.referrer=void 0!==i.referrer?i.referrer:c,l.referrerPolicy=void 0!==i.referrerPolicy?i.referrerPolicy:f,l.onprogress=i.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return ow(n,t),n.prototype.clone=function(){return new n(this,{body:$w(this)})},n}(Kw),Og="function"==typeof mg&&gw.stream&&gw.streamResponse&&gw.url;function Cg(t,n){return new Y((function(e){var i=new Ig(t,n);e((Og&&function(t){try{return bg.indexOf(new sw.URL(t,sw.location.href).protocol)>=0}catch(t){return!1}}(i.url)?Eg:yg)(i))}))}Cg.polyfill=!0;var Ng=function(){function t(t){this.vf=new rc,this.Fv=void 0,this.pd=!1,this.Lv=t,this.vf.ao(t.fo),this.Mv=this.bd()}var n=t.prototype;return n.bd=function(){var t=this;return ta((function(){var n,e,i,r,u,s,a,c,f;return ea(this,(function(h){switch(h.label){case 0:(n=t.Lv).pv&&o((function(){t.pd=!0,t.vf.so()}),n.pv);try{e=Cg(n.tv,{method:n._v,headers:n.Xh.Rh(),body:n.Lh,credentials:n.Tv?"include":"same-origin",signal:Pg(t.vf.fo),onprogress:n.Sv})}catch(t){throw new ew(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e];case 2:return i=h.sent(),[3,4];case 3:throw r=h.sent(),oc(u=t.kd(r))&&t.vf.so(),u;case 4:if(s=i.url||n.tv,a=0===i.status&&"file:"===(v=s,Wi.du(v).protocol)?200:i.status,c=new Dg(t,i,t.vf),f=new jl({Qi:c,Zh:n,$h:n.$h,Xh:new vl(i.headers.asList()),Gh:a,Kh:i.statusText,Qh:s}),t.Fv=f,Ll(f))return[2,f];throw new iw(f)}var v}))}))()},n.kd=function(t){return oc(t)?this.pd?new rw(this.Lv):new uc(t.message,t):this.Fv?new iw(this.Fv,t):new ew(this.Lv,t)},t}(),Dg=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).Uh=new Af,r.Td=n,r.Sd=e,r.vf=i,r.Uh.Zo.catch(pr),r}Xi(n,t);var e=n.prototype;return e.Hh=function(){return this.Uh.Zo},e.Dh=function(t){return this.qh(this.Sd.text(),t)},e.Ph=function(t){return this.qh(this.Sd.arrayBuffer(),t)},e.xh=function(){var t=this.Sd.body;return t?this.zh(t):bl(this.Ph().then(_l),this.vf)},e.jh=function(){var t=this.Sd.clone(),e=ia(this.vf.co(),2),i=e[0],r=e[1];return this.vf=i,new n(this.Td,t,r)},e.qh=function(t,n){var e=this;n&&this.vf.ao(n);var i=Y.resolve(t).catch((function(t){throw e.Td.kd(t)}));return i=hc(i,this.vf),this.Uh.ao(i.then(pr)),i},e.zh=function(t){var n=this,e=new Ft,i=Y.resolve(t.pipeTo(e.writable,{preventAbort:!0})).catch((function(t){var i=n.Td.kd(t);throw e.writable.abort(i).catch(pr),i}));return i=hc(i,this.vf),this.Uh.ao(i.then(pr)),e.readable},Ri(n,[{key:"Yh",get:function(){return this.Sd.bodyUsed}}]),n}(El),Ag="abort";function Pg(t){var n=new rg;if(t.Xu)n.abort();else if(!t.$u){var e=function(){i(),n.abort()},i=function(){n.signal.removeEventListener(Ag,e),t.io(e),t.uo(i)};n.signal.addEventListener(Ag,e),t.eo(e),t.ro(i)}return n.signal}Ti(),ki(),Vt();var xg,Bg,Lg=function(){function t(){}var n=t.prototype;return n.Zh=function(t){return new Ng(t).Mv},n.Ev=function(t){if(pi&&pi.sendBeacon)pi.sendBeacon(t.tv,rl([t.Lh],{type:t.Bh}));else{var n=t.Bh?{"Content-type":t.Bh}:void 0;lc(this.Zh(new Yl({_v:Fl.POST,tv:t.tv,Lh:t.Lh,Xh:n})))}},n.kn=function(){},t}(),Fg=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ed=void 0,n.Rd=Mg(),n.Id=Ug(),n.Od=Vg(),n.Cd=void 0,n}return Xi(n,t),Ri(n,[{key:"ou",get:function(){return this.Ed||(this.Ed=new Wa(tl())),this.Ed}},{key:"Nd",get:function(){return this.Rd}},{key:"Dd",get:function(){return this.Id}},{key:"Ad",get:function(){return this.Od}},{key:"Pd",get:function(){return!1}},{key:"xd",get:function(){return el.Ff()}},{key:"Bd",get:function(){return{Ld:ul}}},{key:"Fd",get:function(){return u.connection&&u.connection.effectiveType||fl}},{key:"Md",get:function(){return u.connection&&u.connection.type||hl}},{key:"Ud",get:function(){return this.Cd||(this.Cd=new Xl(new Lg)),this.Cd}}]),n}(Js);function Mg(){if(sr.qe)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}function Ug(){return sr.hi||sr.qe}function Vg(){return(sr.hi||sr.qe)&&!(sr.Ke&&sr.Je<3)}$i(new Fg),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),Fi(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),(Bg=xg||(xg={})).Vd="Hd",Bg.qd="zd",ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii();var Hg=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).Wd=void 0,i}return Xi(n,t),Ri(n,[{key:"jd",get:function(){return this.Wd||(this.Wd=this.Yd()),this.Wd}}]),n}(Sc);function qg(t){return Boolean(t&&t.jd)}var zg=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n}(Hg),Wg=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n}(Sc),jg=function(t){function n(n){var e;return(e=t.call(this,xg.Vd)||this).Gd=n,e}return Xi(n,t),n.prototype.Yd=function(){return new Yg(this.Gd.jd)},n}(zg),Yg=function(t){function n(n){var e;return(e=t.call(this,"addtrack")||this).track=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var Gg,Xg,$g=function(t){function n(n){var e;return(e=t.call(this,xg.qd)||this).Gd=n,e}return Xi(n,t),n.prototype.Yd=function(){return new Kg(this.Gd.jd)},n}(zg),Kg=function(t){function n(n){var e;return(e=t.call(this,"removetrack")||this).track=n,e}return Xi(n,t),n}(Wg);ki(),Vt(),(Xg=Gg||(Gg={})).Xd="$d",Xg.Kd="Jd",Xg.Zd="Qd",Xg.tl="nl",Xg.il="ul",Xg.ol="sl",Xg.al="cl",Xg.fl="hl",Xg.vl="kc",Xg.dl="ll",Xg.wl="gl",Xg.QUALITY_UNAVAILABLE="qualityunavailable",Xg.NO_QUALITY="noquality";var Jg=function(t){function n(){var n;return(n=t.call(this)||this).yl=[],n.Wd=void 0,n}Xi(n,t);var e=n.prototype;return e.ml=function(t){return this.yl[t]},e._l=function(t){return!(!t||nc(this.yl,t))&&(this.yl.push(t),this.Wd&&this.Wd.push(t.jd),t.yo(Gg.ol,this.do),this.lo(new jg(t)),!0)},e.pl=function(t){if(!t)return!1;var n=this.yl.indexOf(t);return!(n<0)&&(tc(this.yl,n),this.Wd&&tc(this.Wd,n),t.bo(Gg.ol,this.do),this.lo(new $g(t)),!0)},e.bl=function(t){return nc(this.yl,t)},e.Bc=function(){for(var t=this.yl,n=t.length-1;n>=0;n-=1)this.pl(t[n])},e.kn=function(){this.Bc(),this.po()},Ri(n,[{key:"kl",get:function(){return this.yl}},{key:"jd",get:function(){return this.Wd||(this.Wd=this.Yd()),this.Wd}},{key:"Tl",get:function(){return this.yl.length}}]),n}(pc);ki(),Vt();var Zg=function(t){function n(n){var e;return(e=t.call(this,Gg.ol)||this).Gd=n,e}return Xi(n,t),n.prototype.Yd=function(){return new Qg(this.Gd.jd)},n}(zg),Qg=function(t){function n(n){var e;return(e=t.call(this,"change")||this).track=n,e}return Xi(n,t),n}(Wg),ty=function(t){function n(){var n;return(n=t.call(this)||this).Sl=void 0,n.El=function(t){var e=t.Gd;n._l(e)},n.Rl=function(t){var e=t.Gd;n.pl(e)},n}Xi(n,t);var e=n.prototype;return e.Il=function(t){t.yo(xg.Vd,this.El),t.yo(xg.qd,this.Rl)},e.Ol=function(t){t.bo(xg.Vd,this.El),t.bo(xg.qd,this.Rl)},e.kn=function(){this.Sl&&this.Sl.kn(),t.prototype.kn.call(this)},Ri(n,[{key:"Cl",get:function(){return this.Sl},set:function(t){var n=this.Sl;if(t!==n){if(n){this.Ol(n);for(var e=0,i=n.kl;e<i.length;e++){var r=i[e];t&&t.bl(r)||this.pl(r)}}if(this.Sl=t,t){for(var u=[],o=0,s=t.kl;o<s.length;o++){var a=s[o];this._l(a),this.Nl(a)&&u.push(a)}this.Il(t);for(var c=0;c<u.length;c++){var f=u[c];f.lo(new Zg(f))}}}}}]),n}(Jg);ki(),Vt(),ki(),Vt(),ki(),Vt();var ny=v.freeze||br;function ey(t,n,e){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:e})}function iy(t,n){for(var e=0,i=v.getOwnPropertyNames(n);e<i.length;e++){var r=i[e];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function ry(t){if(wr(t)){var n={};for(var e in t)ar.call(t,e)&&(n[e]=ry(t[e]));return n}if(vr(t)){for(var i=new Array(t.length),r=0;r<i.length;r++)r in t&&(i[r]=ry(t[r]));return i}return t}function uy(t,n){return t===n||!(!t||!n)&&(!(!lr(t)||!lr(n))&&(dr(t)?!!dr(n)&&function(t,n){var e=t.length,i=n.length;if(e!==i)return!1;for(var r=0;r<e;r+=1)if(!uy(t[r],n[r]))return!1;return!0}(t,n):!dr(n)&&function(t,n){var e=v.keys(t),i=v.keys(n);if(!e||!i||e.length!==i.length)return!1;for(var r=0;r<e.length;r++){var u=e[r];if(!ar.call(n,u)||!uy(t[u],n[u]))return!1}return!0}(t,n)))}function oy(t,n){return t.constructor===n.constructor}function sy(t){for(var n={},e=0,i=v.keys(t);e<i.length;e++){var r=i[e],u=t[r];null!=u&&(n[r]=u)}return n}function ay(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function cy(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function fy(t){var n=cy(t);if(g(n))throw new f("Expected a valid number.");return n}function hy(t){return"string"==typeof t?t:""}function vy(t,n){if(!dr(t))return[];for(var e=0|t.length,i=new Array(e),r=0;r<e;r++)i[r]=n(t[r]);return i}function dy(t,n){return dr(t)?vy(t,n):n(t)}ki(),Vt();var ly=[xg.Vd,xg.qd,Gg.ol];function wy(t){var n,e=t.kl.map((function(t){return t.jd}));return e.item=function(n){var e=0|n,i=t.ml(e);return i&&i.jd||void 0},e.addEventListener=function(t,e){n.yo(t,e)},e.removeEventListener=function(t,e){n.bo(t,e)},n=new bc(e),t.yo(ly,(function(t){return n.lo(t.jd)})),e}function gy(){}function yy(t){var n,e=[Gg.vl,Gg.ol,Gg.dl,Gg.wl,Gg.QUALITY_UNAVAILABLE],i={get activeQuality(){return t.Dl&&t.Dl.jd},get enabled(){return t.Al},set enabled(n){t.Al=ay(n)},get id(){return t.Pl},get uid(){return t.xl},get kind(){return t.Bl},get label(){return t.Ll},set label(n){t.Ll=hy(n)},get language(){return t.Fl},get qualities(){return t.Ml.jd},set targetQuality(n){var e;(e=n?function(t,n){for(var e=[],i=0,r=t.Ml.kl;i<r.length;i++)for(var u=r[i],o=0;o<n.length;o++){var s=n[o];u.jd===s&&e.push(u)}return e}(t,vr(n)?n:[n]):[]).length>0?t.Ul=e:t.Ul=void 0},get targetQuality(){if(t.Ul)return 1===t.Ul.length?t.Ul[0].jd:t.Ul.map((function(t){return t.jd}))},addEventListener:function(t,e){var i=dy(t,hy);n.yo(i,e)},removeEventListener:function(t,e){var i=dy(t,hy);n.bo(i,e)}};return n=new bc(i),t.yo(e,(function(t){return n.lo(t.jd)})),v.defineProperty(i,"constructor",{value:gy}),i}function my(){}function _y(t){var n=wy(t);return v.defineProperty(n,"constructor",{value:my}),n}var py,by,ky,Ty=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.Yd=function(){return _y(this)},e.Nl=function(t){return t.Al},n}(ty);function Sy(){}function Ey(t){var n,e=[Gg.ol,Gg.vl,Gg.Xd,Gg.Kd,Gg.Zd,Gg.tl,Gg.il,Gg.al,Gg.fl],i=[ky.Vl],r={get kind(){return t.Bl},get label(){return t.Ll},set label(n){t.Ll=hy(n)},get language(){return t.Fl},get id(){return t.Pl},get uid(){return t.xl},get inBandMetadataTrackDispatchType(){return t.Hl},get mode(){return t.ql},set mode(n){n!==py.zl&&n!==py.Wl&&n!==py.jl||t.Yl(n)},get forced(){return Boolean(t.Gl)},get type(){return t.xu},get readyState(){return t.Xl},get cues(){return t.ql===py.jl?null:t.$l.jd},get activeCues(){return t.ql===py.jl?null:t.Kl.jd},get src(){return t.Jl||""},addEventListener:function(t,e){var i=dy(t,hy);n.yo(i,e)},removeEventListener:function(t,e){var i=dy(t,hy);n.bo(i,e)}};return n=new bc(t),t.yo(e,(function(t){return n.lo(t.jd)})),t.yo(i,(function(t){return n.lo(t)})),v.defineProperty(r,"constructor",{value:Sy}),r}function Ry(){}function Iy(t){var n=wy(t);return v.defineProperty(n,"constructor",{value:Ry}),n}ki(),Vt(),ki(),Vt(),ki(),Vt(),(by=py||(py={})).jl="disabled",by.Wl="hidden",by.zl="showing",ki(),Vt(),(ky||(ky={})).Vl="error";var Oy=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.Yd=function(){return Iy(this)},e.Nl=function(t){return t.ql===py.zl},n}(ty);ki(),Vt();var Cy=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e._o=function(n){t.prototype._o.call(this,n)},e.So=function(n){t.prototype.So.call(this,n)},n}(pc),Ny=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n}(Cy);ki(),Vt();var Dy=function(t){function n(){return t.call(this,ol.$f)}return Xi(n,t),n}(Sc);ki(),Vt();var Ay=function(t){function n(n){var e;return(e=t.call(this,ol.Wf)||this).currentSource=n,e}return Xi(n,t),n}(Sc);function Py(t,n,e){return n in t?v.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var xy="theoplayer-stored-network-info",By=function(){function t(){}return t.Zl=function(n,e){var i=t.Ql(n,e);return i?t.tw(i):0},t.nw=function(){return Wi.Fd||fl},t.ew=function(){return Wi.Md||hl},t.Ql=function(n,e){var i,r=null==(i=Wi.xd)?void 0:i.Uo(e),u=r&&JSON.parse(r);if(u&&u[n])return t.iw(u,n,e)},t.tw=function(t){var n=t.availableBandwidth;return n||0},t.iw=function(n,e,i){if(!t.rw(n,e))return n[e];t.uw(n,e,i)},t.uw=function(t,n,e){var i;delete t[n],null==(i=Wi.xd)||i.Lf(e,JSON.stringify(t))},t.rw=function(t,n){var e=t[n].storedTimestamp;if(!e)return!1;var i=new Date(e),r=(new Date).getTime();return i.setMonth(i.getMonth()+1)<=r},t.ow=function(t,n,e,i){return na({},t,Py({},n,{availableBandwidth:e,storedTimestamp:i}))},t.sw=function(n){var e=t.nw();t.aw(e,xy,n,au())},t.aw=function(n,e,i,r){var u,o,s=null==(u=Wi.xd)?void 0:u.Uo(e),a=s?JSON.parse(s):void 0,c=t.ow(a,n,i,r);null==(o=Wi.xd)||o.Lf(e,JSON.stringify(c))},t.cw=function(){var n=t.nw();return t.Zl(n,xy)},t}();ki(),Vt(),ki(),Vt();var Ly,Fy,My,Uy,Vy,Hy,qy,zy,Wy,jy,Yy,Gy,Xy="1ADD53F3";function $y(t){return{chromecast:function(t){return{appID:t&&t.appID?hy(t.appID):Xy}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return"auto";case"manual":return"manual";case"disabled":return"disabled";default:return"manual"}}(t?t.strategy:void 0)}}function Ky(t){var n,e=Vy.fw;return(n=t)&&Pa(n,"mpd")&&(e=Vy.hw),function(t){return!!t&&Pa(t,"m3u8")}(t)&&(e=Vy.dw),e}function Jy(t){return lr(t)&&lr(t.ssai)&&"google-dai"===t.ssai.integration}function Zy(t){return lr(t)&&gr(t.integration)&&"verizon-media"===t.integration}function Qy(t){return lr(t)&&gr(t.integration)&&"mediatailor"===t.integration}function tm(t){if(gr(t))return!t;if(Zy(t))return!t.id;if(Jy(t)){var n=t.ssai,e="live"===n.availabilityType&&n.assetKey,i="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(e&&i)}return!t.src}function nm(t){return Boolean(lr(t)&&gr(t.src))}function em(t){return t.type===Vy.lw||t.type===Vy.ww}function im(t){return gr(t)||nm(t)||Jy(t)||Zy(t)}function rm(t){if(t){if(im(t))return tm(t);for(var n=0;n<t.length;n++){if(!tm(t[n]))return!1}return!0}return!0}function um(){return{crossOrigin:My.gw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function om(){return na({},um(),{src:void 0,type:Vy.fw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function sm(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:qy.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Wy.NONE;case"midroll-and-postroll":default:return Wy.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=ay(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return qy.INSECURE;case"disabled":return qy.DISABLED;case"enabled":default:return qy.ENABLED}}(t.vpaidMode)),vr(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(gr)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:ay(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1};var n}(t.googleIma))),n}function am(t){if(!dr(t))return[];for(var n=[],e=0;e<t.length;e++){var i=t[e];wr(i)&&n.push(i)}return n}function cm(t){return gr(t.src)}(Fy=Ly||(Ly={})).AUTO="auto",Fy.MANUAL="manual",Fy.DISABLED="disabled",ki(),Vt(),ki(),Vt(),(Uy=My||(My={})).gw="",Uy.yw="anonymous",Uy.mw="use-credentials",(Hy=Vy||(Vy={})).hw="application/dash+xml",Hy.dw="application/vnd.apple.mpegurl",Hy._w="application/x-mpegurl",Hy.fw="video/mp4",Hy.lw="application/vnd.theoplayer.hesp+json",Hy.ww="application/vnd.theo.hesp+json",ki(),Vt(),ki(),Vt(),(zy=qy||(qy={})).ENABLED="enabled",zy.INSECURE="insecure",zy.DISABLED="disabled",ki(),Vt(),ki(),Vt(),(jy=Wy||(Wy={})).NONE="none",jy.MIDROLL_AND_POSTROLL="midroll-and-postroll",ki(),Vt(),ki(),Vt(),(Gy=Yy||(Yy={}))[Gy.pw=0]="pw",Gy[Gy.bw=1]="bw",Gy[Gy.kw=2]="kw",Gy[Gy.Tw=3]="Tw",Gy[Gy.Sw=4]="Sw";var fm=function(t){function n(n,e){var i;return void 0===e&&(e=Yy.pw),(i=t.call(this,ol.Gf)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var hm=function(t){function n(n){var e;return(e=t.call(this,ol.eh)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var vm,dm,lm=function(t){function n(n){var e;return(e=t.call(this,ol.ih)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),(dm=vm||(vm={})).Ew="canplay",dm.Rw="canplaythrough",dm.Iw="loadeddata",dm.Ow="loadedmetadata",dm.al="readystatechange",dm.Cw="waiting",dm.Nw="playing";var wm=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"],gm=function(t){function n(n,e){var i;return void 0===e&&(e=Yy.bw),(i=t.call(this,vm.Ow)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var ym=function(t){function n(n){var e;return(e=t.call(this,ol.Yf)||this).duration=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var mm=function(t){function n(n,e){var i;return(i=t.call(this,ol.uh)||this).currentTime=n,i.playbackRate=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var _m=function(t){function n(n,e){var i;return(i=t.call(this,ol.mh)||this).currentTime=n,i.currentProgramDateTime=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var pm=function(t){function n(n){var e;return(e=t.call(this,ol.Xf)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var bm=function(t){function n(n,e){var i;return void 0===e&&(e=Yy.kw),(i=t.call(this,vm.Iw)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var km=function(t){function n(n){var e;return(e=t.call(this,ol.fh)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var Tm=function(t){function n(n){var e;return(e=t.call(this,ol.ah)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var Sm=function(t){function n(n,e){var i;return(i=t.call(this,ol._h)||this).currentTime=n,i.volume=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var Em=function(t){function n(n,e){var i;return void 0===e&&(e=Yy.Tw),(i=t.call(this,vm.Ew)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var Rm=function(t){function n(n,e){var i;return void 0===e&&(e=Yy.Sw),(i=t.call(this,vm.Rw)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var Im=function(t){function n(n,e){var i;return(i=t.call(this,vm.al)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt(),Ii();var Om=function(t){function n(n){var e;return(e=t.call(this,ky.Vl)||this).errorObject=n,e}return Xi(n,t),n.prototype.Yd=function(){return this},Ri(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Hg);ki(),Vt();var Cm,Nm,Dm={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function Am(t){switch(t){case"all":case"content":return t;default:return"none"}}function Pm(t){var n,e,i,r,u,o=ry(t||{});return o.libraryLocation&&(o.libraryLocation=Kl(o.libraryLocation,!0)),o.isEmbeddable=Boolean(o.isEmbeddable),o.cast=$y(o.cast),o.ads=sm(o.ads),o.analytics=am(o.analytics),o.mutedAutoplay=Am(o.mutedAutoplay),o.allowNativeFullscreen=Boolean(o.allowNativeFullscreen),o.allowMixedContent=Boolean(o.allowMixedContent),o.persistVolume=Boolean(o.persistVolume),o.liveOffset=(n=o.liveOffset,Number(n)||void 0),o.hlsDateRange=(e=o.hlsDateRange,Boolean(e)),o.retainPlaybackRateOnSourceChange=Boolean(o.retainPlaybackRateOnSourceChange),o.license=gr(i=o.license)?i:void 0,o.licenseUrl=function(t){if(!t)return;try{return Kl(t)}catch(t){return void Wi.Zr("Invalid 'licenseUrl', falling back to default URL")}}(o.licenseUrl),o.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(o.vr),o.retryConfiguration=(r=o.retryConfiguration,u=na({},Dm),void 0!==r&&(void 0!==r.maxRetries&&(u.maxRetries=Number(r.maxRetries)),void 0!==r.minimumBackoff&&(u.minimumBackoff=Number(r.minimumBackoff)),void 0!==r.maximumBackoff&&(u.maximumBackoff=Number(r.maximumBackoff))),u),o}function xm(t){return{Dw:t.Dw,Aw:t.Aw,Pw:t.Pw,Do:t.Do,xw:t.xw,Bw:t.Bw,Lw:t.Lw,Fw:t.Fw,Xl:t.Xl,Mw:t.Mw,Uw:t.Uw,Vw:t.Vw,Hw:t.Hw}}function Bm(t,n,e){if(n!==e){var i=n.Dw,r=n.Aw,u=n.Bw,o=n.Lw,s=n.Fw,a=n.Xl,c=n.Mw,f=(n.Vw,n.Uw,n.Hw),h=e.Dw,v=e.Aw,d=e.Pw,l=e.xw,w=e.Bw,y=e.Lw,m=e.Fw,_=e.Xl,p=e.Mw,b=(e.Vw,e.Uw,e.Hw);a!==Yy.pw&&t.lo(new fm(h,_)),y&&!o?t.lo(new hm(h)):!y&&o&&t.lo(new lm(h)),_>=Yy.bw&&t.lo(new gm(h,_)),v===r||g(v)&&g(r)||t.lo(new ym(v)),m!==s&&t.lo(new mm(h,m)),h!==i&&t.lo(new _m(h,void 0)),d&&t.lo(new pm(h)),_>=Yy.kw&&t.lo(new bm(h,_)),p&&!c?t.lo(new km(h)):!p&&c&&t.lo(new Tm(h)),b===f&&w===u||t.lo(new Sm(h,b)),_>=Yy.Tw&&t.lo(new Em(h,_)),_>=Yy.Sw&&t.lo(new Rm(h,_)),_!==a&&t.lo(new Im(h,_)),l&&t.lo(new Om(l))}}(Nm=Cm||(Cm={})).NONE="none",Nm.ALL="all",Nm.CONTENT="content",ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Lm=.25,Fm={qw:.2,zw:.45,Ww:.7,jw:3,Yw:jm,Gw:Ym},Mm={qw:.4,zw:.65,Ww:1,jw:3,Yw:jm,Gw:Ym},Um={qw:.4,zw:.7,Ww:.9,jw:3,Yw:jm,Gw:Ym},Vm={qw:.4,zw:.65,Ww:1,jw:3,Yw:jm,Gw:Ym},Hm={qw:.5,zw:1.125,Ww:1.75,jw:2.55,Yw:jm,Gw:Ym};function qm(){var t;return t=Wi.gu.Br?Vm:Wi.gu.Mr?Mm:Wi.gu.Fr?"Android"===Wi.yu.mu?Um:Fm:Hm,Wi.yu._u?function(t){if(Wi.yu._u){var n=d.max(.65,t.qw),e=d.max(n+Lm,t.zw),i=d.max(e+Lm,t.Ww);return{qw:n,zw:e,Ww:i,jw:d.max(i+Lm,t.jw),Yw:jm,Gw:Ym}}return t}(t):t}ki(),Vt(),ki(),Vt();var zm,Wm,jm=.92,Ym=1.08;function Gm(t){return{goLive:function(){return t.Xw()},get isLive(){return t.$w},get currentServerLiveTime(){return t.Kw},get currentLatency(){return t.Jw},get latency(){return t.Zw},set latency(n){if(!function(t){if(!lr(t))return!1;var n=t,e=fr(n.target)&&"number"==typeof n.target&&fr(n.windowEnd)&&"number"==typeof n.windowEnd&&fr(n.windowStart)&&"number"==typeof n.windowStart&&fr(n.maxOffset)&&"number"==typeof n.maxOffset,i=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return e&&i}(n))throw new f("Invalid latency configuration");t.Zw=n},get manifest(){return t.Qw},addEventListener:function(n,e){t.yo($m(n),e)},removeEventListener:function(n,e){t.bo($m(n),e)}}}(Wm=zm||(zm={}))[Wm.jl=0]="jl",Wm[Wm.tg=1]="tg",Wm[Wm.ng=2]="ng";var Xm=["golive","latencyrecoveryseek"];function $m(t){var n=dy(t,hy);return(gr(n)?[n]:n).filter((function(t){return nc(Xm,t)}))}var Km=function(t){function n(){var n,e;return(n=t.call(this)||this).Sl=void 0,n.Wd=void 0,n.eg={windowStart:(e=qm()).qw,windowEnd:e.Ww,target:e.zw,maxOffset:e.jw},n.Sl=void 0,n}Xi(n,t);var e=n.prototype;return e.Il=function(t){t.yo(Xm,this.do)},e.Ol=function(t){t.bo(Xm,this.do)},e.Xw=function(){var t;null==(t=this.Sl)||t.Xw()},e.kn=function(){this.po(),this.Sl&&this.Ol(this.Sl),this.Sl=void 0},Ri(n,[{key:"Cl",get:function(){return this.Sl},set:function(t){var n=this.Sl;t!==n&&(n&&this.Ol(n),t&&this.Il(t),this.Sl=t,this.Sl&&(this.Sl.Zw=this.eg))}},{key:"jd",get:function(){return this.Wd||(this.Wd=Gm(this)),this.Wd}},{key:"Kw",get:function(){var t;return null==(t=this.Sl)?void 0:t.Kw}},{key:"Jw",get:function(){var t;return null==(t=this.Sl)?void 0:t.Jw}},{key:"$w",get:function(){return!!this.Sl&&this.Sl.$w}},{key:"Zw",get:function(){return this.Sl?this.Sl.Zw:this.eg},set:function(t){this.Sl&&(this.Sl.Zw=t),this.eg=t}},{key:"Qw",get:function(){var t;return null==(t=this.Sl)?void 0:t.Qw}}]),n}(pc),Jm=function(t){function n(n){var e;return(e=t.call(this)||this).ig=[],e.rg=!1,e.ug=new Ty,e.og=new Ty,e.sg=new Oy,e.ag=new Km,e.cg=!1,e.fg(n),n._o(e.do),e.Sl=n,e.ug.Cl=n.hg,e.og.Cl=n.vg,e.sg.Cl=n.dg,e.ag.Cl=n.lg,e}Xi(n,t);var e=n.prototype;return e.gn=function(){this.Sl.gn()},e.yn=function(){this.Sl.yn()},e.wg=function(){var t=this;return ta((function(){return ea(this,(function(n){return[2,wc(t.ig.map((function(t){return t.wg()}))).then(pr)]}))}))()},e.gg=function(){return this.Sl.gg()},e.yg=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return sc(n),[4,e.Sl.yg(t,n)];case 1:return i.sent(),[2]}}))}))()},e.mg=function(){return this.Cl.mg()},e._g=function(){this.Cl._g()},e.pg=function(){this.Cl.pg()},e.En=function(){if(!this.rg){for(var t=0,n=this.ig;t<n.length;t++){n[t].En()}this.rg=!0}},e.bg=function(t){this.Sl.bg(t)},e.kg=function(){this.Sl.kg()},e.Tg=function(){this.Sl.Tg()},e.Sg=function(){this.Sl.Sg()},e.Eg=function(){return this.Sl.Eg()},e.Rg=function(){return this.Sl.Rg()},e.Ig=function(){for(var t=[],n=0,e=this.ig;n<e.length;n++){var i,r=e[n];(i=t).push.apply(i,Bi(r.Ig()))}return t},e.Og=function(t){for(var n=!1,e=0,i=this.ig;e<i.length;e++){n=i[e].Og(t)||n}return n},e.lo=function(n){this.Og(n)||t.prototype.lo.call(this,n)},e.fg=function(t){this.ig.push(t)},e.Cg=function(t){Qa(this.ig,t)},e.Ng=function(t){if(t!==this.Sl){var n=this.Sl;n.kg(),n.So(this.do);var e=xm(this),i=this.Dg,r=this.Rg();this.Sl=t,this.ug.Cl=t.hg,this.og.Cl=t.vg,this.sg.Cl=t.dg,this.ag.Cl=t.lg,Bm(this,e,this);var u=this.Dg;u!==i&&this.lo(new Ay(u)),this.Rg()!==r&&this.lo(new Dy),t._o(this.do),t.bg(n)}},e.Ag=function(){},e.kn=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:t.po(),t.Sl.kg(),n=0,e=t.ig,i.label=1;case 1:return n<e.length?[4,e[n].kn()]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return t.ug.kn(),t.og.kn(),t.sg.kn(),t.ag.kn(),[2]}}))}))()},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){return[2,wc(t.ig.map((function(t){return t.Bc()}))).then(pr)]}))}))()},Ri(n,[{key:"hg",get:function(){return this.ug}},{key:"dg",get:function(){return this.sg}},{key:"vg",get:function(){return this.og}},{key:"Pg",get:function(){return this.Sl.Pg}},{key:"xg",get:function(){return this.Sl.xg},set:function(t){this.Sl.xg=t}},{key:"Dg",get:function(){return this.Sl.Dg}},{key:"Dw",get:function(){return this.Sl.Dw},set:function(t){this.Sl.Dw=t}},{key:"Aw",get:function(){return this.Sl.Aw}},{key:"Bg",get:function(){return this.Sl.Bg}},{key:"Pw",get:function(){return this.Sl.Pw}},{key:"Do",get:function(){return this.Sl.Do}},{key:"xw",get:function(){return this.Sl.xw}},{key:"lg",get:function(){return this.ag}},{key:"Lg",get:function(){return this.Sl.Lg}},{key:"Fg",get:function(){return function(t){for(var n=0,e=0,i=0,r=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var a=t[s];n+=a.Mg,e+=a.Ug,i+=a.Vg,r+=a.Hg,u+=a.qg,o.amountOfBufferedAudioSegments+=a.zg.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=a.zg.amountOfBufferedVideoSegments}return{Mg:n,Ug:e,Vg:i,Hg:r,qg:u,zg:o}}(this.ig.map((function(t){return t.Fg})))}},{key:"Bw",get:function(){return this.Sl.Bw},set:function(t){this.Sl.Bw=t}},{key:"Wg",get:function(){return this.Sl.Wg}},{key:"Lw",get:function(){return this.Sl.Lw}},{key:"Fw",get:function(){return this.Sl.Fw},set:function(t){this.Sl.Fw=t}},{key:"jg",get:function(){return this.Sl.jg}},{key:"Yg",get:function(){return this.Sl.Yg},set:function(t){this.Sl.Yg=t}},{key:"Xl",get:function(){return this.Sl.Xl}},{key:"Gg",get:function(){return this.Sl.Gg}},{key:"Mw",get:function(){return this.Sl.Mw}},{key:"Uw",get:function(){return this.Sl.Uw}},{key:"Vw",get:function(){return this.Sl.Vw}},{key:"Hw",get:function(){return this.Sl.Hw},set:function(t){this.Sl.Hw=t}},{key:"Xg",get:function(){return this.Sl.Xg}},{key:"$g",get:function(){return!1},set:function(t){}},{key:"Cl",get:function(){return this.Sl},set:function(t){this.Ng(t)}}]),n}(Ny);ki(),Vt(),Ii(),ki(),Vt(),Ii();var Zm,Qm,t_=function(t){function n(n,e,i,r,u,o,s,a){var c;return(c=t.call(this,n,e,i)||this).url=r,c.status=u,c.statusText=o,c.response=s,c.systemCode=a,c}return Xi(n,t),Ri(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Md);(Qm=Zm||(Zm={}))[Qm.ABORTED=1]="ABORTED",Qm[Qm.NETWORK=2]="NETWORK",Qm[Qm.DECODE=3]="DECODE",Qm[Qm.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",Qm[Qm.ENCRYPTED=5]="ENCRYPTED",Qm[Qm.LICENSE_INVALID=6]="LICENSE_INVALID",Qm[Qm.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR";var n_=function(t){function n(n,e,i,r){var u;return(u=t.call(this,e)||this).code=n,u.message=null!=e?e:"Unknown error",u.cause=i,u.systemCode=r,f.captureStackTrace&&f.captureStackTrace(lu(u),u.constructor),u}return Xi(n,t),Ri(n,[{key:"name",get:function(){return"MediaError"}}]),n}(wu);function e_(t){ey(t,"MEDIA_ERR_ABORTED",1),ey(t,"MEDIA_ERR_NETWORK",2),ey(t,"MEDIA_ERR_DECODE",3),ey(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),ey(t,"MEDIA_ERR_ENCRYPTED",5)}function i_(t){var n,e;return function(t){return t.category===xd.CONTENT_PROTECTION}(t)?new n_(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new n_(function(t){if(t===Ad.MEDIA_ABORTED)return 1;if(t===Ad.MANIFEST_LOAD_ERROR||t===Ad.MEDIA_LOAD_ERROR||t===Ad.SUBTITLE_LOAD_ERROR)return 2;if(t===Ad.MEDIA_DECODE_ERROR)return 3;if(t===Ad.MEDIA_NOT_SUPPORTED)return 4;var n=xd.fromCode(t);if(n===xd.NETWORK)return 2;if(n===xd.SOURCE)return 4;if(n===xd.LICENSE)return 6;if(n===xd.CONTENT_PROTECTION)return 5;if(n===xd.AD)return 7;return 3}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}e_(n_),e_(n_.prototype),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt();var r_,u_,o_=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e._l=function(n){return t.prototype._l.call(this,n)},e.Yd=function(){return _y(this)},n}(Jg);ki(),Vt(),ki(),Vt(),(u_=r_||(r_={})).gv="audio",u_.yv="video",u_.Si="text",u_.mv="image",u_.ev="unknown",ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt();var s_=function(){function t(){this.Kg=[],this.Wd=void 0}var n=t.prototype;return n.Jg=function(t){this.Kg.push(t),this.Wd&&this.Wd.push(t.jd)},n.bc=function(t){Qa(this.Kg,t),this.Wd&&Qa(this.Wd,t.jd)},n.ml=function(t){return this.Kg[t]},n.Zg=function(t){return vr(t)?function(t,n){for(var e=0;e<n.length;e++)if(!nc(t,n[e]))return!1;return!0}(this.Kg,t):nc(this.Kg,t)},n.Bc=function(){ec(this.Kg),this.Wd&&ec(this.Wd)},Ri(t,[{key:"kl",get:function(){return this.Kg}},{key:"Tl",get:function(){return this.Kg.length}},{key:"jd",get:function(){var t,n;return this.Wd||(this.Wd=((n=(t=this).kl.map((function(t){return t.jd}))).item=function(n){var e=0|n,i=t.ml(e);return i&&i.jd||void 0},n)),this.Wd}}]),t}();ki(),Vt();var a_=function(t){function n(n){var e;return(e=t.call(this,Gg.vl)||this).Gd=n,e}return Xi(n,t),n.prototype.Yd=function(){return new c_(this.Gd.jd)},n}(zg),c_=function(t){function n(n){var e;return(e=t.call(this,"update")||this).track=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var f_=0;function h_(){return f_++}var v_=0;var d_=0;var l_=0;var w_=function(t){function n(n){var e;return(e=t.call(this)||this).xu=r_.gv,e.Qg=!1,e.Wd=void 0,e.ty=n,e.ny=h_(),e.sc=l_+++"",e.ey=n.label,e.Kg=new s_,e.iy(),e}Xi(n,t);var e=n.prototype;return e.uy=function(t){this.Al=t},e.iy=function(){this.Al=this.oy},Ri(n,[{key:"Dl",get:function(){}},{key:"Al",get:function(){return this.Qg},set:function(t){this.Qg!==t&&(this.Qg=t,this.oy=t,this.lo(new Zg(this)))}},{key:"oy",get:function(){return this.ty.enabled},set:function(t){this.ty.enabled=t}},{key:"jd",get:function(){return this.Wd||(this.Wd=yy(this)),this.Wd}},{key:"Pl",get:function(){return this.sc}},{key:"xl",get:function(){return this.ny}},{key:"Bl",get:function(){return this.ty.kind}},{key:"Ll",get:function(){return this.ey},set:function(t){t!==this.ey&&(this.ey=t,this.lo(new a_(this)))}},{key:"Fl",get:function(){return this.ty.language}},{key:"ql",get:function(){return this.Al?"enabled":"disabled"}},{key:"sy",get:function(){return this.ty}},{key:"Ml",get:function(){return this.Kg}},{key:"Ul",get:function(){},set:function(t){}}]),n}(pc);ki(),Vt(),Ii();var g_=0;var y_=function(t){function n(n){var e;return(e=t.call(this)||this).xu=r_.yv,e.Qg=!1,e.Wd=void 0,e.ty=n,e.ny=h_(),e.sc=g_+++"",e.Kg=new s_,e.ey=n.label,e.iy(),e}Xi(n,t);var e=n.prototype;return e.iy=function(){this.Al=this.oy},e.uy=function(t){this.Al=t},Ri(n,[{key:"Dl",get:function(){}},{key:"Al",get:function(){return this.Qg},set:function(t){this.Qg!==t&&(this.Qg=t,this.oy=t,this.lo(new Zg(this)))}},{key:"oy",get:function(){return!!this.ty.selected},set:function(t){this.ty.selected=t}},{key:"jd",get:function(){return this.Wd||(this.Wd=yy(this)),this.Wd}},{key:"Pl",get:function(){return this.sc}},{key:"xl",get:function(){return this.ny}},{key:"Bl",get:function(){return"main"}},{key:"Ll",get:function(){return this.ey},set:function(t){t!==this.ey&&(this.ey=t,this.lo(new a_(this)))}},{key:"Fl",get:function(){return this.ty.language}},{key:"ql",get:function(){return this.Al?"enabled":"disabled"}},{key:"sy",get:function(){return this.ty}},{key:"Ml",get:function(){return this.Kg}},{key:"Ul",get:function(){},set:function(t){}}]),n}(pc);ki(),Vt();var m_,__,p_,b_,k_,T_,S_,E_,R_=function(t){function n(n){var e;return(e=t.call(this,ol.Mf)||this).Lg=n,e}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),(__=m_||(m_={}))[__.NONE=0]="NONE",__[__.LOADING=1]="LOADING",__[__.LOADED=2]="LOADED",__[__.ERROR=3]="ERROR",ki(),Vt(),(b_=p_||(p_={})).DEFAULT="",b_.SRT="srt",b_.TTML="ttml",b_.WEBVTT="webvtt",b_.EMSG="emsg",b_.EVENT_STREAM="eventstream",b_.ID3="id3",b_.CEA608="cea608",b_.DATE_RANGE="daterange",ki(),Vt(),ki(),Vt(),(T_=k_||(k_={})).hy="cue",T_.vy="region",T_.ly="stylesheet",ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(E_=S_||(S_={})).wy="gy",E_.yy="my",E_.vl="kc";var I_=function(t){function n(n,e){var i;return(i=t.call(this,n)||this)._y=e,i}return Xi(n,t),n}(zg),O_=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).cue=e,i}return Xi(n,t),n}(Wg);function C_(t){var n,e=[S_.wy,S_.yy,S_.vl],i={get track(){return t.Gd.jd},get id(){return t.Pl},get uid(){return t.xl},get startTime(){return t.py},get endTime(){return t.by},get content(){return t.ky},addEventListener:function(t,e){var i=dy(t,hy);n.yo(i,e)},removeEventListener:function(t,e){var i=dy(t,hy);n.bo(i,e)}};return n=new bc(i),t.yo(e,(function(t){return n.lo(t.jd)})),i}function N_(){}ki(),Vt(),Ii(),ki(),Vt();var D_=function(t){function n(n){return t.call(this,S_.vl,n)}return Xi(n,t),n.prototype.Yd=function(){return new A_(this._y.jd)},n}(I_),A_=function(t){function n(n){return t.call(this,"update",n)}return Xi(n,t),n}(O_),P_=.02;var x_=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this)||this).Wd=void 0,o.Ty=void 0,o.Sy=!1,o.Ey=-1,o.ny=d_++,o.Ry=n,o.Iy=e,o.Oy=i,o.Cy=Boolean(r),o.sc=null!=u?u:"",o}Xi(n,t);var e=n.prototype;return e.Yd=function(){return C_(this)},e.Ny=function(t){return this===t||oy(this,t)&&(e=t,ou((n=this).py,e.py,P_)&&ou(n.by,e.by,P_)&&n.Pl===e.Pl);var n,e},e.kn=function(){this.po()},Ri(n,[{key:"py",get:function(){return this.Ry},set:function(t){this.Ry!==t&&(this.Ry=t,this.lo(new D_(this)))}},{key:"by",get:function(){return this.Iy},set:function(t){this.Iy!==t&&(this.Iy=t,this.lo(new D_(this)))}},{key:"Pl",get:function(){return this.sc}},{key:"xl",get:function(){return this.ny}},{key:"jd",get:function(){return this.Wd||(this.Wd=this.Yd()),this.Wd}},{key:"Dy",get:function(){return this.Sy},set:function(t){this.Sy=t}},{key:"Gd",get:function(){return this.Ty},set:function(t){this.Ty=t}},{key:"ky",get:function(){return this.Oy},set:function(t){this.Oy!==t&&(this.Oy=t,this.lo(new D_(this)))}},{key:"Ay",get:function(){return this.Cy},set:function(t){this.Cy=t}}]),n}(pc);var B_=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,i,r,u)||this).Py="auto",o.xy="start",o.By="auto",o.Ly="auto",o.Fy=void 0,o.My=!0,o.zo=100,o.Uy="center",o.Vy="",o}return Xi(n,t),n.prototype.Ny=function(n){return this===n||oy(this,n)&&t.prototype.Ny.call(this,n)&&(i=n,(e=this).ky===i.ky&&e.Py===i.Py&&e.xy===i.xy&&e.By===i.By&&e.Ly===i.Ly&&e.Fy===i.Fy&&e.My===i.My&&e.zo===i.zo&&e.Uy===i.Uy&&e.Vy===i.Vy);var e,i},Ri(n,[{key:"jd",get:function(){var t;return this.Wd||(this.Wd=iy(C_(t=this),{get align(){return t.Uy},get line(){return t.Py},get lineAlign(){return t.xy},get position(){return t.By},get positionAlign(){return t.Ly},get region(){return t.Fy?t.Fy.jd:null},get size(){return t.zo},get snapToLines(){return t.My},get text(){return t.ky},get vertical(){return t.Vy}})),this.Wd}},{key:"xu",get:function(){return k_.hy}}]),n}(x_);ki(),Vt(),Ii(),ki(),Vt();var L_=function(){function t(t,n,e,i,r,u,o,s){this.Pl=t,this.Hy=n,this.qy=e,this.zy=i,this.Wy=r,this.jy=u,this.Yy=o,this.Gy=s}return Ri(t,[{key:"jd",get:function(){var t;return this.Wd||(this.Wd=(t=this,{get id(){return t.Pl},get identifier(){return t.Pl},get lines(){return t.qy},get regionAnchorX(){return t.zy},get regionAnchorY(){return t.Wy},get scrollValue(){return t.Gy},get viewportAnchorX(){return t.jy},get viewportAnchorY(){return t.Yy},get width(){return t.Hy}})),this.Wd}},{key:"xu",get:function(){return k_.vy}}]),t}();ki(),Vt(),ki(),Vt();var F_=1e6,M_=function(){function t(){}var n=t.prototype;return n.Xy=function(t){return this.$y()*t},n.Ky=function(t){return this.Jy(t)>0},n.Zy=function(t){return this.Jy(t)>=0},n.Qy=function(t,n){return this.nm(t).tm(n)},n.Ny=function(t){return 0===this.Jy(t)},n.im=function(t){return this.Jy(t)<0},n.tm=function(t){return this.Jy(t)<=0},n.rm=function(){return this.um()?this.om():this},n.sm=function(t){return this.Jg(t.om())},n.nm=function(t){return this.sm(t).rm()},t}();function U_(t,n){return t.am()?n.am()?qa.ju:qa.Yu:n.am()?qa.Gu:t.fm()?n.fm()&&t.um()===n.um()?qa.ju:t.um()?qa.Gu:qa.Yu:n.um()?qa.Yu:qa.Gu}ki(),Vt(),ki(),Vt();var V_=0x10000000000000000,H_=V_*V_,q_=H_/2,z_=function(){function t(t,n){this.hm=t,this.vm=n}var n=t.prototype;return n.dm=function(){return this.vm.unsigned},n.lm=function(){return this.hm.isZero()&&this.vm.isZero()},n.um=function(){return this.vm.isNegative()},n.wm=function(){return this.dm()?t.gm(this.hm,this.vm,!1):this},n.ym=function(){return this.dm()?this:t.gm(this.hm,this.vm,!0)},n._m=function(){return this.hm},n.$y=function(){return this.um()?-this.om().$y():this.vm.toNumber()*V_+this.hm.toUnsigned().toNumber()},n.pm=function(){return this.hm.toInt()},n.Ny=function(t){return(this.dm()===t.dm()||this.vm.getHighBits()>>>31!=1||t.vm.getHighBits()>>>31!=1)&&(this.vm.toUnsigned().eq(t.vm.toUnsigned())&&this.hm.toUnsigned().eq(t.hm.toUnsigned()))},n.Jy=function(t){if(this.Ny(t))return qa.ju;var n=this.um(),e=t.um();if(n&&!e)return qa.Gu;if(!n&&e)return qa.Yu;if(!this.dm())return this.sm(t).um()?qa.Gu:qa.Yu;var i=this.ym(),r=t.ym(),u=r.vm.comp(i.vm);return u>0||0===u&&r.hm.gt(i.hm)?qa.Gu:qa.Yu},n.im=function(t){return this.Jy(t)<0},n.tm=function(t){return this.Jy(t)<=0},n.bm=function(t){return this.Jy(t)>0},n.km=function(t){return this.Jy(t)>=0},n.Tm=function(){return new t(this.hm.not(),this.vm.not())},n.Sm=function(n){return new t(this.hm.and(n.hm),this.vm.and(n.vm))},n.Em=function(n){return new t(this.hm.or(n.hm),this.vm.or(n.vm))},n.Rm=function(n){var e=127&n;return 0===e?this:e<64?t.gm(this.hm.shl(e),this.vm.shl(e).or(this.hm.shru(64-e)),this.dm()):t.gm(iu.ZERO,this.hm.shl(e-64),this.dm())},n.Im=function(n){var e=127&n;return 0===e?this:e<64?t.gm(this.hm.shru(e).or(this.vm.shl(64-e)),this.vm.shr(e),this.dm()):t.gm(this.vm.shr(e-64),this.vm.isNegative()?iu.NEG_ONE:iu.ZERO,this.dm())},n.Om=function(n){var e=127&n;return 0===e?this:e<64?t.gm(this.hm.shru(e).or(this.vm.shl(64-e)),this.vm.shru(e),this.dm()):64===e?t.gm(this.vm,iu.ZERO,this.dm()):t.gm(this.vm.shru(e-64),iu.ZERO,this.dm())},n.Jg=function(n){var e=this.vm.high>>>16,i=65535&this.vm.high,r=this.vm.low>>>16,u=65535&this.vm.low,o=this.hm.high>>>16,s=65535&this.hm.high,a=this.hm.low>>>16,c=65535&this.hm.low,f=n.vm.high>>>16,h=65535&n.vm.high,v=n.vm.low>>>16,d=65535&n.vm.low,l=n.hm.high>>>16,w=65535&n.hm.high,g=n.hm.low>>>16,y=0,m=0,_=0,p=0,b=0,k=0,T=0,S=0;T+=(S+=c+(65535&n.hm.low))>>>16,S&=65535,k+=(T+=a+g)>>>16,T&=65535,b+=(k+=s+w)>>>16,k&=65535,p+=(b+=o+l)>>>16,b&=65535,_+=(p+=u+d)>>>16,p&=65535,m+=(_+=r+v)>>>16,_&=65535,y+=(m+=i+h)>>>16,m&=65535,y+=e+f,y&=65535;var E=this.dm(),R=iu.fromBits(_<<16|p,y<<16|m,E),I=iu.fromBits(T<<16|S,b<<16|k,E);return t.gm(I,R,E)},n.sm=function(t){return this.Jg(t.om())},n.om=function(){return this.Tm().Jg(t.Cm)},n.Nm=function(n){if(this.lm()||n.lm())return this.dm()?t.Dm:t.Am;if(this.um())return n.um()?this.om().Nm(n.om()):this.om().Nm(n).om();if(n.um())return this.Nm(n.om()).om();if(this.vm.isZero()&&0===this.hm.high&&n.vm.isZero()&&0===n.hm.high)return t.Pm(this.hm.multiply(n.hm));var e=iu.fromBits(4294967295,0,!0),i=this.hm.and(e),r=this.hm.shru(32),u=this.vm.and(e),o=this.vm.shru(32),s=n.hm.and(e),a=n.hm.shru(32),c=n.vm.and(e),f=n.vm.shru(32),h=iu.UZERO,v=iu.UZERO,d=iu.UZERO,l=iu.UZERO;h=h.add(i.mul(s)),v=v.add(h.shru(32)),h=h.and(e),v=v.add(r.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(e)).add(i.mul(a)),d=d.add(v.shru(32)),v=v.and(e),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(e)).add(r.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(e)).add(i.mul(c)),l=l.add(d.shru(32)),d=d.and(e),l=l.add(o.mul(s)).add(u.mul(a)).add(r.mul(c)).add(i.mul(f)).and(e);var w=iu.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=iu.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.gm(w,g,this.dm())},n.xm=function(n){var e,i,r=n;if(r.lm())throw new RangeError("division by zero");if(this.lm())return this.dm()?[t.Dm,t.Dm]:[t.Am,t.Am];if(this.dm()){if(r.dm()||(r=r.ym()),r.bm(this))return[t.Dm,this];if(r.bm(this.Om(1)))return[i=t.Bm,e=this.sm(r)];i=t.Dm}else{if(this.Ny(t.Lm)){if(r.Ny(t.Cm)||r.Ny(t.Fm))return[t.Lm,t.Am];if(r.Ny(t.Lm))return[t.Cm,t.Am];var u=this.Im(1).Mm(r).Rm(1);return u.Ny(t.Am)?i=r.um()?t.Cm:t.Fm:(e=this.sm(r.Nm(u)),i=u.Jg(e.Mm(r))),[i,e=this.sm(r.Nm(i))]}if(r.Ny(t.Lm))return this.dm()?[t.Dm,this]:[t.Am,this];var o,s;if(this.um())return r.um()?this.om().xm(r.om()):(i=(o=ia(this.om().xm(r),2))[0],e=o[1],[i.om(),e.om()]);if(r.um())return i=(s=ia(this.xm(r.om()),2))[0],e=s[1],[i.om(),e.om()];i=t.Am}for(e=this;e.km(r);){for(var a=d.max(1,d.floor(e.$y()/r.$y())),c=d.ceil(d.log(a)/d.LN2),f=c<=48?1:d.pow(2,c-48),h=t.Um(a),v=h.Nm(r);v.um()||v.bm(e);)a-=f,v=(h=t.Um(a,this.dm())).Nm(r);h.lm()&&(h=t.Cm),i=i.Jg(h),e=e.sm(v)}return[i,e]},n.Mm=function(t){return this.xm(t)[0]},n.Vm=function(t){return this.xm(t)[1]},n.toString=function(n){var e=n||10;if(e<2||e>36)throw new RangeError("radix");if(this.lm())return"0";if(this.um()){if(this.Ny(t.Lm)){var i=t.Um(e),r=this.Mm(i),u=r.Nm(i).sm(this);return r.toString(e)+u.pm().toString(e)}return"-"+this.om().toString(e)}for(var o=t.Um(d.pow(e,6),this.dm()),s=this,a="";;){var c=s.Mm(o),f=(s.sm(c.Nm(o)).pm()>>>0).toString(e);if((s=c).lm())return f+a;for(;f.length<6;)f="0"+f;a=String(f)+a}},t.gm=function(n,e,i){return i?new t(n.toUnsigned(),e.toUnsigned()):new t(n.toSigned(),e.toSigned())},t.Pm=function(n){return n.unsigned?new t(n,iu.UZERO):new t(n,n.isNegative()?iu.NEG_ONE:iu.ZERO)},t.Um=function(n,e){if(g(n))return e?t.Dm:t.Am;if(e){if(n<0)return t.Dm;if(n>=H_)return t.Hm}else{if(n<=-q_)return t.Lm;if(n+1>=q_)return t.qm}return n<0?t.Um(-n,e).om():t.gm(iu.fromNumber(n%V_),iu.fromNumber(n/V_),e)},t}();z_.Am=z_.Pm(iu.ZERO),z_.Dm=z_.Pm(iu.UZERO),z_.Cm=z_.Pm(iu.ONE),z_.Bm=z_.Pm(iu.UONE),z_.Fm=z_.Pm(iu.NEG_ONE),z_.qm=z_.gm(iu.NEG_ONE,iu.MAX_VALUE,!1),z_.Hm=z_.gm(iu.MAX_UNSIGNED_VALUE,iu.MAX_UNSIGNED_VALUE,!0),z_.Lm=z_.gm(iu.ZERO,iu.MIN_VALUE,!1),ki(),Vt(),Ii();var W_=function(){function t(t,n){void 0===n&&(n=1),this.zm=t,this.Wm=n}var n=t.prototype;return n.Jg=function(n){return this.Wm>=n.Wm?new t(this.zm+n.jm(this.Wm).zm,this.Wm):new t(this.jm(n.Wm).zm+n.zm,n.Wm)},n.Ky=function(t){return t.im(this)},n.Zy=function(t){return t.tm(this)},n.nm=function(n){return this.Wm>=n.Wm?new t(d.abs(this.zm-n.jm(this.Wm).zm),this.Wm):n.nm(this)},n.Qy=function(t,n){return this.nm(t).tm(n)},n.Jy=function(t){return e=t,(n=this).Wm>=e.Wm?Ka(n.zm,e.jm(n.Wm).zm):Ka(n.jm(e.Wm).zm,e.zm);var n,e},n.Ny=function(t){return 0===this.Jy(t)},n.im=function(t){return this.Jy(t)<0},n.tm=function(t){return this.Jy(t)<=0},n.jm=function(n){return new t(this.zm*(n/this.Wm),n)},n.sm=function(n){return this.Wm>=n.Wm?new t(this.zm-n.jm(this.Wm).zm,this.Wm):new t(this.jm(n.Wm).zm-n.zm,n.Wm)},n.Ym=function(n){return new t(this.zm*n,this.Wm)},t.Gm=function(n){return new t(d.ceil(n.zm),n.Wm)},t.Xm=function(n){return new t(d.floor(n.zm),n.Wm)},t.$m=function(t,n){return t.Zy(n)?t:n},t.Km=function(t,n){return t.tm(n)?t:n},Ri(t,[{key:"fm",get:function(){return!isFinite(this.zm)}},{key:"Jm",get:function(){return this.zm/this.Wm}}]),t}();W_.Zm=new W_(1/6,1),W_.Am=new W_(0),W_.Qm=new W_(1/0),W_.t_=1e6;var j_=function(t){function n(n,e){var i;return(i=t.call(this)||this).Bi=n.toSigned(),i.Wm=e>>>0,i}Xi(n,t);var e=n.prototype;return e.um=function(){return this.Bi.isNegative()},e.lm=function(){return 0!==this.Wm&&this.Bi.isZero()},e.fm=function(){return 0===this.Wm&&!this.Bi.isZero()},e.am=function(){return 0===this.Wm&&this.Bi.isZero()},e.$y=function(){if(0===this.Wm)return this.Bi.isZero()?NaN:this.Bi.isNegative()?-1/0:1/0;var t=this.Bi.divide(this.Wm),n=this.Bi.subtract(t.multiply(this.Wm));return t.toNumber()+n.toNumber()/this.Wm},e._m=function(){if(0===this.Wm)throw new f("Failed to convert timestamp");return this.Bi},e.n_=function(){return new Date(0===this.Wm?NaN:this.jm(1e3).Bi.toNumber())},e.e_=function(){return new W_(0===this.Wm?this.$y():this.Bi.toNumber(),this.Wm)},e.jm=function(t,e){void 0===e&&(e=Y_.i_);var i=this.Wm;if(i===t)return this;if(0===i)return this;var r=su(i,t);return new n(function(t,n,e){var i=ia(t.xm(n),2),r=i[0],u=i[1];if(u.lm())return r;if(e===Y_.i_)return u.um()?r.sm(z_.Cm):r;if(e===Y_.r_)return u.um()?r:r.Jg(z_.Cm);var o=u.Nm(z_.Um(2));return o.um()?o.om().im(n)?r:r.sm(z_.Cm):o.im(n)?r:r.Jg(z_.Cm)}(z_.Pm(this.Bi).Nm(z_.Um(t/r)),z_.Um(i/r),e)._m(),t)},e.Jy=function(t){if(this===t)return qa.ju;if(0===this.Wm||0===t.Wm)return U_(this,t);if(this.lm())return t.lm()?qa.ju:t.um()?qa.Yu:qa.Gu;if(t.lm())return this.um()?qa.Gu:qa.Yu;var n=d.min(this.Wm,t.Wm),e=this.jm(n,Y_.u_).Bi,i=t.jm(n,Y_.u_).Bi;return e.compare(i)},e.om=function(){return 0===this.Wm?function(t){0;return t.am()?t:t.um()?j_.o_:j_.s_}(this):new n(this.Bi.negate(),this.Wm)},e.Jg=function(t){if(0===this.Wm||0===t.Wm)return function(t,n){0;if(t.am()||n.am())return j_.a_;if(t.fm()&&n.fm())return t.um()===n.um()?t:j_.a_;return t.fm()?t:n}(this,t);if(this.lm())return t;if(t.lm())return this;var e=d.max(this.Wm,t.Wm),i=this.jm(e,Y_.u_),r=t.jm(e,Y_.u_);return new n(i.Bi.add(r.Bi),e)},e.Nm=function(t){if(this.am()||g(t))return n.a_;if(this.fm()||!isFinite(t)){if(this.lm()||0===t)return n.a_;var e=this.um()?n.s_:n.o_;return t<0?e.om():e}return this.lm()?this:new n(0===t?iu.ZERO:this.Bi.multiply(t),this.Wm)},e.Mm=function(t){if(this.am()||g(t))return n.a_;if(this.fm())return isFinite(t)?0===t?1/t<0?this.om():this:t<0?this.om():this:n.a_;if(!isFinite(t))return new n(iu.ZERO,this.Wm);if(this.lm())return 0===t?n.a_:new n(iu.ZERO,this.Wm);if(0===t){var e=this.um()?n.s_:n.o_;return 1/t<0?e.om():e}return new n(this.Bi.divide(t),this.Wm)},e.c_=function(){return[this.Bi.low,this.Bi.high,this.Wm]},n.f_=function(t,e){return void 0===e&&(e=F_),n.Um(t*e,e)},n.Um=function(t,e){return g(t)?n.a_:t===1/0?n.o_:t===-1/0?n.s_:new n(iu.fromNumber(t),e)},n.Pm=function(t,e){return new n(t,e)},n.h_=function(t){return n.f_(t.Jm,F_)},n.v_=function(t){return new n(iu.fromNumber(t.getTime()),1e3)},n.$m=function(t,n){return t.Zy(n)?t:n},n.Km=function(t,n){return t.tm(n)?t:n},n.d_=function(t,e,i){return n.$m(e,n.Km(i,t))},n}(M_);j_.Am=new j_(iu.ZERO,F_),j_.a_=new j_(iu.ZERO,0),j_.o_=new j_(iu.ONE,0),j_.s_=new j_(iu.NEG_ONE,0),ki(),Vt(),Ii(),$();var Y_,G_,X_=function(t){function n(n,e){var i;return(i=t.call(this)||this).Bi=BigInt.asIntN(64,n),i.Wm=e>>>0,i}Xi(n,t);var e=n.prototype;return e.um=function(){return this.Bi<BigInt(0)},e.lm=function(){return 0!==this.Wm&&this.Bi===BigInt(0)},e.fm=function(){return 0===this.Wm&&this.Bi!==BigInt(0)},e.am=function(){return 0===this.Wm&&this.Bi===BigInt(0)},e.$y=function(){if(0===this.Wm)return this.Bi===BigInt(0)?NaN:this.Bi<BigInt(0)?-1/0:1/0;var t=this.Bi/BigInt(this.Wm),n=this.Bi-t*BigInt(this.Wm);return Number(t)+Number(n)/this.Wm},e._m=function(){if(0===this.Wm)throw new f("Failed to convert timestamp");return this.l_()},e.l_=function(){var t=this.Bi&BigInt(4294967295),n=this.Bi>>BigInt(32)&BigInt(4294967295);return iu.fromBits(Number(t),Number(n))},e.n_=function(){return new Date(0===this.Wm?NaN:Number(this.jm(1e3).Bi))},e.e_=function(){return new W_(0===this.Wm?this.$y():Number(this.Bi),this.Wm)},e.jm=function(t,e){void 0===e&&(e=Y_.i_);var i=this.Wm;if(i===t)return this;if(0===i)return this;var r=su(i,t);return new n(function(t,n,e){var i=t/n,r=t-i*n;if(r===BigInt(0))return i;if(e===Y_.i_)return r<BigInt(0)?i-BigInt(1):i;if(e===Y_.r_)return r<BigInt(0)?i:i+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?i:i-BigInt(1):u<n?i:i+BigInt(1)}(this.Bi*BigInt(t/r),BigInt(i/r),e),t)},e.Jy=function(t){if(this===t)return qa.ju;if(0===this.Wm||0===t.Wm)return U_(this,t);if(this.lm())return t.lm()?qa.ju:t.um()?qa.Yu:qa.Gu;if(t.lm())return this.um()?qa.Gu:qa.Yu;var n=d.min(this.Wm,t.Wm),e=this.jm(n,Y_.u_).Bi,i=t.jm(n,Y_.u_).Bi;return e>i?qa.Yu:e<i?qa.Gu:qa.ju},e.om=function(){return 0===this.Wm?function(t){0;return t.am()?t:t.um()?X_.o_:X_.s_}(this):new n(-this.Bi,this.Wm)},e.Jg=function(t){if(0===this.Wm||0===t.Wm)return function(t,n){0;if(t.am()||n.am())return X_.a_;if(t.fm()&&n.fm())return t.um()===n.um()?t:X_.a_;return t.fm()?t:n}(this,t);if(this.lm())return t;if(t.lm())return this;var e=d.max(this.Wm,t.Wm),i=this.jm(e,Y_.u_),r=t.jm(e,Y_.u_);return new n(i.Bi+r.Bi,e)},e.Nm=function(t){if(this.am()||g(t))return n.a_;if(this.fm()||!isFinite(t)){if(this.lm()||0===t)return n.a_;var e=this.um()?n.s_:n.o_;return t<0?e.om():e}return this.lm()?this:new n(0===t?BigInt(0):this.Bi*BigInt(t),this.Wm)},e.Mm=function(t){if(this.am()||g(t))return n.a_;if(this.fm())return isFinite(t)?0===t?1/t<0?this.om():this:t<0?this.om():this:n.a_;if(!isFinite(t))return new n(BigInt(0),this.Wm);if(this.lm())return 0===t?n.a_:new n(BigInt(0),this.Wm);if(0===t){var e=this.um()?n.s_:n.o_;return 1/t<0?e.om():e}return new n(this.Bi/BigInt(t),this.Wm)},e.c_=function(){var t=this.l_();return[t.low,t.high,this.Wm]},n.f_=function(t,e){return void 0===e&&(e=F_),n.Um(t*e,e)},n.Um=function(t,e){return g(t)?n.a_:t===1/0?n.o_:t===-1/0?n.s_:new n(BigInt(d.floor(t)),e)},n.Pm=function(t,e){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),e)},n.h_=function(t){return n.f_(t.Jm,F_)},n.v_=function(t){return n.Um(t.getTime(),1e3)},n.$m=function(t,n){return t.Zy(n)?t:n},n.Km=function(t,n){return t.tm(n)?t:n},n.d_=function(t,e,i){return n.$m(e,n.Km(i,t))},Ri(n,null,[{key:"Am",get:function(){return n.w_||(n.w_=new n(BigInt(0),F_)),n.w_}},{key:"a_",get:function(){return n.g_||(n.g_=new n(BigInt(0),0)),n.g_}},{key:"o_",get:function(){return n.y_||(n.y_=new n(BigInt(1),0)),n.y_}},{key:"s_",get:function(){return n.m_||(n.m_=new n(BigInt(-1),0)),n.m_}}]),n}(M_);X_.w_=void 0,X_.g_=void 0,X_.y_=void 0,X_.m_=void 0,(G_=Y_||(Y_={}))[G_.i_=0]="i_",G_[G_.r_=1]="r_",G_[G_.u_=2]="u_";var $_=function(){try{return"function"==typeof BigInt&&"bigint"===C(BigInt(0))}catch(t){return!1}}()?X_:j_;ki(),Vt();var K_=d.pow(2,33);$_.Um(K_,9e4).Mm(2);ki(),Vt();var J_,Z_,Q_,tp,np,ep,ip,rp,up,op={__:0,p_:1/0,b_:0},sp=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],ap=[" ","\t","\n","\f","\r"],cp=/^\d*$/,fp=/.*[0-9]+.*/,hp=/^[\d.-]+$/,vp=/(^\.|\.$)/,dp=/(\D\.|\.\D)/;function lp(t){var n=Aa(t,"\0"," "),e=Aa(n,"\r\n","\n");return Aa(e,"\r","\n")}function wp(t,n,e){for(var i=e.Xo;e.Xo<t.length&&n(t.charAt(e.Xo));)e.jo(1);return t.substring(i,e.Xo)}function gp(t,n,e,i,r,u){for(var o,s=0,a=n.Xo,c="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(o=wp(t,(function(t){return"\n"!==t}),n),s++,n.Xo>=t.length?f=!0:n.jo(1),Pa(o,"--\x3e")){if(i||1!==s&&(2!==s||h)){n.Yo(a);break}h=!0,a=n.Xo,v=new B_(0,0,"",!1,c);try{pp(o,r.k_,v,u),c=""}catch(t){Wi.Zr(t),v=null}}else{if(""===o)break;i&&xa(o,"X-TIMESTAMP-MAP")&&(r.T_=yp(o)),i||2!==s||e||(La("STYLE",c.replace(/ /g,""))?(d={xu:k_.ly},c=""):La("REGION",c.replace(/ /g,""))&&(l=new L_("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,a=n.Xo}if(v)return v.ky=c,v;if(d);else if(l)return function(t,n){for(var e=t.split(/\s/),i=":",r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&Pa(u,i)&&u.charAt(0)!==i&&u.charAt(u.length-1)!==i){var o=u.indexOf(i),s=u.substring(0,o),a=u.substring(o+1,u.length);switch(s.toUpperCase()){case"ID":Bp(a,n);break;case"WIDTH":Mp(a,n);break;case"LINES":Fp(a,n);break;case"REGIONANCHOR":var c=xp(a);c&&(n.zy=c[0],n.Wy=c[1]);break;case"VIEWPORTANCHOR":var f=xp(a);f&&(n.jy=f[0],n.Yy=f[1]);break;case"SCROLL":Lp(a,n)}}}}(c,l),l;return null}function yp(t){var n,e,i=t.split("=")[1].trim().split(","),r=mp(i[0].trim(),"MPEGTS")?i[0]:i[1],u=mp(i[0].trim(),"LOCAL")?i[0]:i[1];return{S_:(e=Number(r.split(/:(.*)/)[1].trim())||0,$_.Um(e,9e4)),E_:$_.f_(null!=(n=Tp(u.split(/:(.*)/)[1].trim(),new Df))?n:0)}}function mp(t,n){return xa(t,n)}function _p(t,n){t&&function(t){return"cue"===t.xu}(t)?n.$l.push(t):t&&function(t){return"region"===t.xu}(t)?n.k_.push(t):t&&function(t){return"stylesheet"===t.xu}(t)&&n.R_.push(t)}function pp(t,n,e,i){var r=new Df;if(Ep(t,r),e.py=bp(Tp(t,r),i),Ep(t,r),"--\x3e"!==t.substring(r.Xo,r.Xo+3))throw f("Something went wrong with parsing a WebVTT Cue");r.jo(3),Ep(t,r),e.by=bp(Tp(t,r),i),function(t,n,e){for(var i=t.split(/\s/),r=":",u=0;u<i.length;u++){var o=i[u];if(0!==o.length&&Pa(o,r)&&o.charAt(0)!==r&&o.charAt(o.length-1)!==r){var s=o.indexOf(r),a=o.substring(0,s),c=o.substring(s+1,o.length);switch(a.toUpperCase()){case"REGION":Np(c,n,e);break;case"VERTICAL":Ap(c,n);break;case"D":Pp(c,n);break;case"LINE":case"L":Op(c,n);break;case"POSITION":case"T":Cp(c,n);break;case"SIZE":case"S":Dp(c,n);break;case"ALIGN":case"A":Ip(c,n)}}}}(t.substring(r.Xo,t.length),e,n)}function bp(t,n){return t+n.__}function kp(t){return/^[0-9]$/.test(t)}function Tp(t,n){var e,i,r,u=Aa(t,",","."),o=!1;if(n.Xo>=u.length||!kp(u.charAt(n.Xo)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var s=wp(u,kp,n),a=l(s,10);if((s.length>2||a>59)&&(o=!0),n.Xo>=u.length||":"!==u.charAt(n.Xo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.jo(1);var c=wp(u,kp,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(c,10);if(o||n.Xo<u.length&&":"===u.charAt(n.Xo)){if(n.Xo>=u.length||":"!==u.charAt(n.Xo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.jo(1);var v=wp(u,kp,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");e=a,i=h,r=l(v,10)}else e=0,i=a,r=h;if(n.Xo>=u.length||"."!==u.charAt(n.Xo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.jo(1);var d=wp(u,kp,n),w=l(d,10);if(h>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*e*60+60*i+r+w/1e3}function Sp(t){if(t.length<6)return!1;for(var n=0;n<sp.length;n++){if(xa(t,sp[n]))return!0}return!1}function Ep(t,n){for(;n.Xo<t.length&&(e=t.charAt(n.Xo),nc(ap,e));)n.jo(1);var e}function Rp(t){var n=t.lastIndexOf("%");if(n>-1){var e=w(t.substring(0,n));if(!g(e)&&e>=0&&e<=100)return e}return null}function Ip(t,n){var e=t.toLowerCase();switch(e){case"start":case"center":case"end":case"left":case"right":n.Uy=e;break;case"middle":n.Uy="center"}}function Op(t,n){var e,i,r=t.indexOf(",");if(r>=0?(e=t.substring(0,r),i=t.substring(r+1,t.length)):(e=t,i=""),fp.test(e)){var u,o;if(Ba(e,"%")){var s=Rp(e);if(null===s)return;u=s,o=!1}else{if(!hp.test(e)||e.lastIndexOf("-")>0)return;var a=e.indexOf(".");if(a>=0&&(a!==e.lastIndexOf(".")||!dp.test(e)||vp.test(e)))return;if(u=w(e),g(u))return;o=!0}switch(n.Py=u,n.My=o,i=i.toLowerCase()){case"start":case"center":case"end":n.xy=i;break;case"middle":n.xy="center"}}}function Cp(t,n){var e,i,r=t.indexOf(",");r>=0?(e=t.substring(0,r),i=t.substring(r+1,t.length)):(e=t,i="");var u=Rp(e);if(null!==u)switch(n.By=u,i=i.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Ly=i;break;case"start":n.Ly="line-left";break;case"middle":n.Ly="center";break;case"end":n.Ly="line-right"}}function Np(t,n,e){var i=Za(e,(function(n){return n.Pl===t}));void 0!==i&&(n.Fy=i)}function Dp(t,n){var e=Rp(t);null!==e&&(n.zo=e)}function Ap(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Vy="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Vy="lr";break;default:n.Vy=""}}function Pp(t,n){"VERTICAL"===t.toUpperCase()?n.Vy="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Vy="lr")}function xp(t){if(t.indexOf(",")>=0){var n=Rp(t.substring(0,t.indexOf(","))),e=Rp(t.substring(t.indexOf(",")+1,t.length));return[uu(n||0,0,100),uu(e||100,0,100)]}return null}function Bp(t,n){n.Pl=t}function Lp(t,n){"up"===t.toLowerCase()&&(n.Gy="up")}function Fp(t,n){cp.test(t)&&(n.qy=l(t))}function Mp(t,n){var e=Rp(t);null!==e&&(n.Hy=e)}ki(),Vt(),ki(),Vt(),ki(),Vt(),(Z_=J_||(J_={})).I_="moov",Z_.O_="mvhd",Z_.C_="trak",Z_.N_="tkhd",Z_.D_="mdia",Z_.A_="mdhd",Z_.P_="hdlr",Z_.x_="minf",Z_.B_="stbl",Z_.L_="stsd",Z_.F_="stsc",Z_.M_="mvex",Z_.U_="trex",Z_.V_="avc1",Z_.H_="avcC",Z_.q_="hev1",Z_.z_="hvc1",Z_.W_="hvcC",Z_.j_="vp09",Z_.Y_="vpcC",Z_.G_="av01",Z_.X_="av1C",Z_.K_="colr",Z_.J_="pasp",Z_.Z_="mp4a",Z_.Q_="esds",Z_.tp="wvtt",Z_.np="vttC",Z_.ep="vlab",Z_.ip="enca",Z_.rp="encv",Z_.op="moof",Z_.sp="mfhd",Z_.ap="traf",Z_.cp="tfhd",Z_.fp="trun",Z_.hp="tfdt",Z_.vp="senc",Z_.dp="mdat",Z_.lp="pssh",Z_.wp="emsg",Z_.gp="sidx",Z_.yp="styp",Z_.mp="ftyp",Z_._p="sinf",Z_.pp="frma",function(t){t.yv="vide",t.gv="soun",t.bp="subt",t.kp="hint",t.Tp="meta",t.Sp="auxv"}(Q_||(Q_={})),(np=tp||(tp={})).ON_SCREEN_COLOURS="nclx",np.RESTRICTED_ICC_PROFILE="rICC",np.UNRESTRICED_ICC_PROFILE="prof",(ip=ep||(ep={}))[ip.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",ip[ip.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",ip[ip.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",ip[ip.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",ip[ip.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",ip[ip.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",ip[ip.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",(up=rp||(rp={}))[up.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",up[up.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",up[up.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",up[up.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",up[up.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",up[up.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",ki(),Vt();var Up=function(){function t(t,n){this.Qi=t,this.Ep=n}var n=t.prototype;return n.Rp=function(){return tf(this.Qi,this.Ep)},n.Ip=function(){return uf(this.Qi,this.Ep)},n.Op=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt16(n.Xo,e);return n.jo(2),i}(this.Qi,this.Ep)},n.Cp=function(){return sf(this.Qi,this.Ep)},n.Np=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt32(n.Xo,e);return n.jo(4),i}(this.Qi,this.Ep)},n.Dp=function(){return cf(this.Qi,this.Ep)},n.Ap=function(t){return ef(this.Qi,this.Ep,t)},n.Pp=function(t){return function(t,n,e){for(var i=[],r=0;r<e;r++)i.push(sf(t,n));return i}(this.Qi,this.Ep,t)},n.xp=function(t){return hf(this.Qi,this.Ep,t)},n.Bp=function(){return pf(this.Qi,this.Ep)},n.Lp=function(t){this.Ep.jo(t)},n.Go=function(){return new t(this.Qi,this.Ep.Go())},t}();ki(),Vt(),Ii(),ki(),Vt();var Vp=function(t){function n(n,e){var i;return(i=t.call(this)||this).Fp=n,i.Mp=e,i}return Xi(n,t),Ri(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(gu),Hp=function(){function t(){}return t.Up=function(n){var e=n.Qi,i=n.Ep,r=t.Vp(e,i,!1);if(!r.Hp)throw new Vp(i.Xo,r.Wi);return r.Wi},t.Vp=function(n,e,i){for(var r=[];e.Xo<n.byteLength;){var u=t.qp(n,e,i);if(!u.Hp)return{Hp:!1,Wi:r};r.push(u.zp)}return{Hp:!0,Wi:r}},t.Wp=function(n,e){var i=t.qp(n,e,!1);if(!i.Hp)throw new Vp(e.Xo);return i.zp},t.jp=function(n,e){for(var i=n.Qi,r=n.Ep;r.Xo<i.byteLength;){var u=t.qp(i,r,!1);if(!u.Hp)return;if(u.zp.xu===e)return u.zp}},t.qp=function(n,e,i){var r=e.Xo,u=t.Yp(n,e);if(!u.Hp)return u;var o=u.Gp,s=o.zo;if(0===s){if(i)return e.Yo(r),{Hp:!1,Xp:1/0};s=n.byteLength-r}var a=r+s;if(a>n.byteLength){var c=a;return e.Yo(r),{Hp:!1,Xp:c}}var f,h,v,d={xu:o.xu,Xo:r,Qi:new Up((f=n,h=r,v=a,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new Df(o.$p))};return e.Yo(a),{Hp:!0,zp:d}},t.Yp=function(t,n){var e=n.Xo;if(!rf(t,n,8))return{Hp:!1,Xp:n.Xo+8};var i=sf(t,n),r=hf(t,n,4);if(1===i){if(!rf(t,n,8)){var u=n.Xo+8;return n.Yo(e),{Hp:!1,Xp:u}}i=cf(t,n).toNumber()}if("uuid"===r){if(!rf(t,n,16)){var o=n.Xo+16;return n.Yo(e),{Hp:!1,Xp:o}}r=hf(t,n,16)}return{Hp:!0,Gp:{xu:r,zo:i,$p:n.Xo-e}}},t.Kp=function(t,n,e){var i=t.Qi,r=t.Ep,u=Tf(Ef(i),r.Xo,i.byteLength);return e&&(u=Cf(u)),r.jo(u.byteLength),{xu:n,Qi:u}},t.Jp=function(n,e,i){var r=jp(n.Cp());return{xu:e,Zp:r.version,Qp:r.flags,Qi:t.Kp(n,e,i).Qi}},t}();function qp(t,n){var e=zp(t,n);if(!e)throw new f("Missing "+n+" atom");return e}function zp(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.xu===n)return i.Qi}}function Wp(t,n){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.xu===n&&e.push(r.Qi)}return e}function jp(t){return{version:t>>24,flags:new Qc(16777215&t)}}var Yp=function(){function t(){}return t.tb=function(n){for(var e=[],i=Hp.Up(new Up(n,new Df)),r=0;r<i.length;r++){var u=i[r],o=t.nb(u);o&&e.push(o)}return e},t.eb=function(t){return Hp.Vp(t,new Df,!1).Wi.some(this.ib)},t.ub=function(n){return Wp(Hp.Up(new Up(n,new Df)),J_.lp).map(t.ob)},t.sb=function(n){return Wp(Hp.Up(n.Qi),J_.lp).map(t.ob)},t.ib=function(t){return t.xu===J_.mp||t.xu===J_.yp||t.xu===J_.I_||t.xu===J_.op||t.xu===J_.dp||t.xu===J_.gp||t.xu===J_.wp},t.nb=function(n){switch(n.xu){case J_.I_:return t.ab(n.Qi);case J_.op:return t.cb(n.Qi,n.Xo);case J_.dp:return t.fb(n.Qi);case J_.gp:return t.hb(n.Qi);case J_.wp:return t.vb(n.Qi)}},t.ab=function(n){var e=Hp.Up(n),i=qp(e,J_.O_),r=Wp(e,J_.C_),u=zp(e,J_.M_),o=t.lb(i),s=r.map(t.wb),a=u?t.gb(u):void 0;return{xu:J_.I_,Gp:o,yb:s,mb:a}},t.lb=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=1===e?t.Dp():t.Cp(),u=1===e?t.Dp():t.Cp(),o=t.Cp(),s=1===e?t.Dp():t.Cp(),a=t.Cp(),c=t.Ip()>>8;t.Lp(2),t.Lp(8);var f=t.Pp(9);t.Lp(24);var h=t.Cp();return{xu:J_.O_,Zp:e,Qp:i,_b:r,pb:u,Wm:o,Aw:s,bb:a,Hw:c,kb:f,Tb:h}},t.wb=function(n){var e=Hp.Up(n),i=qp(e,J_.N_),r=qp(e,J_.D_),u=t.Sb(i),o=t.Eb(r);return{xu:J_.C_,Gp:u,Rb:o}},t.Sb=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=1===e?t.Dp():t.Cp(),u=1===e?t.Dp():t.Cp(),o=t.Cp();t.Lp(4);var s=1===e?t.Dp():t.Cp();t.Lp(8);var a=t.Op(),c=t.Op(),f=t.Op()/d.pow(2,8);t.Lp(2);var h=t.Pp(9),v=t.Cp()/d.pow(2,16),l=t.Cp()/d.pow(2,16);return{xu:J_.N_,Ib:i.Ko(1),Ob:i.Ko(2),Cb:i.Ko(4),_b:r,pb:u,Nb:o,Aw:s,Db:a,Ab:c,Hw:f,kb:h,Hy:v,Pb:l}},t.Eb=function(n){var e=Hp.Up(n),i=qp(e,J_.A_),r=qp(e,J_.P_),u=qp(e,J_.x_),o=t.xb(i),s=t.Bb(r),a=t.Lb(u);return{xu:J_.D_,Gp:o,Fb:s,Mb:a}},t.xb=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=1===e?t.Dp():t.Cp(),u=1===e?t.Dp():t.Cp(),o=t.Cp(),s=1===e?t.Dp():t.Cp();t.Ip();return t.Lp(2),{xu:J_.A_,Zp:e,Qp:i,_b:r,pb:u,Wm:o,Aw:s}},t.Bb=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags;t.Lp(4);var r=t.xp(4);t.Lp(12);var u=t.Bp();return{xu:J_.P_,Zp:e,Qp:i,Ub:r,Ai:u}},t.Lb=function(n){var e=qp(Hp.Up(n),J_.B_),i=t.Vb(e);return{xu:J_.x_,Hb:i}},t.Vb=function(n){var e=qp(Hp.Up(n),J_.L_),i=t.qb(e);return{xu:J_.B_,zb:i}},t.qb=function(n){for(var e=jp(n.Cp()),i=e.version,r=e.flags,u=(n.Cp(),[]),o=Hp.Up(n),s=0;s<o.length;s++){var a=o[s],c=t.Wb(a.Qi,a.xu);c&&u.push(c)}return{xu:J_.L_,Zp:i,Qp:r,jb:u}},t.Wb=function(n,e){var i=t.Yb(n,e);return i||((i=t.Gb(n,e))||(e===J_.tp?t.Xb(n):void 0))},t.Yb=function(n,e){return e===J_.Z_?t.$b(n):e===J_.ip?t.Kb(n):void 0},t.Gb=function(n,e){return e===J_.V_?t.Jb(n):e===J_.q_||e===J_.z_?t.Zb(n,e):e===J_.j_?t.Qb(n,e):e===J_.G_?t.tk(n,e):e===J_.rp?t.nk(n):void 0},t.ek=function(t,n){return t.Lp(6),{xu:n,ik:t.Ip()}},t.rk=function(n,e){var i=t.ek(n,e);n.Lp(8);var r=n.Ip(),u=n.Ip();return n.Lp(2),n.Lp(2),na({},i,{uk:r,sk:u,ak:n.Cp()>>>16})},t.ck=function(n,e){var i=t.ek(n,e);n.Lp(2),n.Lp(2),n.Lp(12);var r=n.Ip(),u=n.Ip(),o=n.Cp(),s=n.Cp();n.Lp(4);var a=n.Ip();n.Lp(32);var c=n.Ip();return n.Lp(2),na({},i,{Hy:r,Pb:u,fk:o,hk:s,vk:a,dk:c})},t.$b=function(n){var e=t.rk(n,J_.Z_),i=qp(Hp.Up(n),J_.Q_);return na({},e,{lk:t.wk(i)})},t.Xb=function(n){var e=t.ek(n,J_.tp),i=Hp.Up(n),r=qp(i,J_.np),u=t.gk(r),o=zp(i,J_.ep);return na({},e,{yk:u,mk:o?t._k(o):o})},t.gk=function(t){return{xu:J_.np,Nc:t.Bp()}},t._k=function(t){return{xu:J_.ep,Ll:t.Bp()}},t.wk=function(t){return Hp.Jp(t,J_.Q_,!0)},t.Jb=function(n){var e=t.ck(n,J_.V_),i=Hp.Up(n),r=qp(i,J_.H_),u=zp(i,J_.J_);return na({},e,{pk:t.bk(r),kk:u?t.Tk(u):void 0})},t.Zb=function(n,e){var i=t.ck(n,e),r=qp(Hp.Up(n),J_.W_);return na({},i,{Sk:t.Ek(r)})},t.Qb=function(n,e){var i=t.ck(n,e),r=qp(Hp.Up(n),J_.Y_);return na({},i,{Rk:t.Ik(r)})},t.tk=function(n,e){var i=t.ck(n,e),r=Hp.Up(n),u=qp(r,J_.X_),o=t.Ok(u),s=zp(r,J_.K_);return na({},i,{Ck:o,Nk:s?t.Dk(s):void 0})},t.nk=function(n){var e=n.Go(),i=t.ck(n,J_.rp),r=qp(Hp.Up(n),J_._p),u=t.Ak(r);return na({},i,{Pk:t.Gb(e,u.Bk.xk),Lk:u})},t.Kb=function(n){var e=n.Go(),i=t.rk(n,J_.ip),r=qp(Hp.Up(n),J_._p),u=t.Ak(r);return na({},i,{Pk:t.Yb(e,u.Bk.xk),Lk:u})},t.Ak=function(n){var e=qp(Hp.Up(n),J_.pp),i=t.Fk(e);return{xu:J_._p,Bk:i}},t.Fk=function(t){var n=t.xp(4);return{xu:J_.pp,xk:n}},t.bk=function(t){return Hp.Kp(t,J_.H_,!0)},t.Ek=function(t){return Hp.Kp(t,J_.W_,!0)},t.Ik=function(t){return Hp.Kp(t,J_.Y_,!0)},t.Ok=function(t){return Hp.Kp(t,J_.X_,!0)},t.Dk=function(t){var n=t.xp(4);switch(n){case"nclx":return{Mk:tp.ON_SCREEN_COLOURS,Uk:t.Ip(),Vk:t.Ip(),Hk:t.Ip(),qk:0!=(128&t.Rp())};case"rICC":return{Mk:tp.RESTRICTED_ICC_PROFILE};case"prof":return{Mk:tp.UNRESTRICED_ICC_PROFILE};default:throw f("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.Tk=function(t){var n=t.Cp(),e=t.Cp();return{xu:J_.J_,zk:n,Wk:e}},t.gb=function(n){var e=Wp(Hp.Up(n),J_.U_).map(t.jk);return{xu:J_.M_,yb:e}},t.jk=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=t.Cp(),u=t.Cp(),o=t.Cp(),s=t.Cp(),a=t.Cp();return{xu:J_.U_,Zp:e,Qp:i,Nb:r,Yk:u,Gk:o,Xk:s,$k:a}},t.cb=function(n,e){var i=Hp.Up(n),r=qp(i,J_.sp),u=Wp(i,J_.ap),o=t.Kk(r),s=u.map(t.Jk);return{xu:J_.op,Zk:e,Gp:o,yb:s}},t.Kk=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=t.Cp();return{xu:J_.sp,Zp:e,Qp:i,Qk:r}},t.Jk=function(n){var e=Hp.Up(n),i=qp(e,J_.cp),r=Wp(e,J_.fp),u=zp(e,J_.hp),o=t.tT(i),s=r.map((function(n){return t.nT(n,o)})),a=u?t.eT(u):void 0;return{xu:J_.ap,Gp:o,iT:s,rT:a}},t.tT=function(t){var n=jp(t.Cp()),e=n.version,i=n.flags,r=t.Cp(),u=i.Ko(ep.BASE_DATA_OFFSET_PRESENT)?t.Dp():void 0,o=i.Ko(ep.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Cp():void 0,s=i.Ko(ep.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Cp():void 0,a=i.Ko(ep.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Cp():void 0,c=i.Ko(ep.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Cp():void 0;return{xu:J_.cp,Zp:e,Qp:i,Nb:r,uT:u,oT:o,Gk:s,Xk:a,$k:c}},t.nT=function(n,e){for(var i=jp(n.Cp()),r=i.version,u=i.flags,o=n.Cp(),s=u.Ko(rp.DATA_OFFSET_PRESENT)?n.Np():void 0,a=u.Ko(rp.FIRST_SAMPLE_FLAGS_PRESENT)?n.Cp():void 0,c=[],f=0;f<o;f++){var h=t.sT(n,u,r,e);0===f&&void 0!==a&&(h.Qp=a),c.push(h)}return{xu:J_.fp,Zp:r,Qp:u,aT:o,Zk:s,cT:a,fT:c}},t.sT=function(t,n,e,i){return{Aw:n.Ko(rp.SAMPLE_DURATION_PRESENT)?t.Cp():i.Gk,zo:n.Ko(rp.SAMPLE_SIZE_PRESENT)?t.Cp():i.Xk,Qp:n.Ko(rp.SAMPLE_FLAGS_PRESENT)?t.Cp():i.$k,hT:n.Ko(rp.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===e?t.Cp():t.Np():void 0}},t.vb=function(t){var n=t.Qi,e=t.Ep,i=jp(sf(n,e)),r=i.version,u=i.flags;if(1===r){var o=sf(n,e),s=cf(n,e),a=sf(n,e),c=sf(n,e),f=ff(n,e),h=ff(n,e),v=Of(Ef(n),e.Xo,n.byteLength);return e.jo(v.byteLength),{xu:J_.wp,Zp:r,Qp:u,vT:f,Bi:h,Wm:o,dT:s,lT:a,Pl:c,wT:v}}var d=ff(n,e),l=ff(n,e),w=sf(n,e),g=sf(n,e),y=sf(n,e),m=sf(n,e),_=Of(Ef(n),e.Xo,n.byteLength);return e.jo(_.byteLength),{xu:J_.wp,Qp:u,Zp:r,vT:d,Bi:l,Wm:w,gT:g,lT:y,Pl:m,wT:_}},t.fb=function(t){return Hp.Kp(t,J_.dp,!1)},t.ob=function(n){var e=n.Qi,i=n.Ep,r=Cf(Ef(e)).buffer,u=jp(sf(e,i)),o=u.version,s=u.flags,a=t.yT(e,i),c=[];if(o>0)for(var f=sf(e,i),h=0;h<f;h++){var v=ef(e,i,16);c.push(v)}var d=sf(e,i),l=new y(r,i.Xo,d);return i.jo(e.byteLength),{xu:J_.lp,Zp:o,Qp:s,mT:a,_T:c,pT:d,Qi:l,bT:r}},t.yT=function(t,n){for(var e="",i=0;i<4;i++){var r=tf(t,n).toString(16);e+=1===r.length?"0"+r:r}e+="-";for(var u=0;u<2;u++){var o=tf(t,n).toString(16);e+=1===o.length?"0"+o:o}e+="-";for(var s=0;s<2;s++){var a=tf(t,n).toString(16);e+=1===a.length?"0"+a:a}e+="-";for(var c=0;c<2;c++){var f=tf(t,n).toString(16);e+=1===f.length?"0"+f:f}e+="-";for(var h=0;h<6;h++){var v=tf(t,n).toString(16);e+=1===v.length?"0"+v:v}return e.toLowerCase()},t.hb=function(t){var n,e,i=t.Qi,r=t.Ep,u=jp(sf(i,r)),o=u.version,s=u.flags,a=sf(i,r),c=sf(i,r);0===o?(n=iu.fromBits(sf(i,r),0,!0),e=iu.fromBits(sf(i,r),0,!0)):(n=cf(i,r),e=cf(i,r)),r.jo(2);for(var f=uf(i,r),h=[],v=0;v<f;v+=1){var d=sf(i,r),l=d>>31&1,w=2147483647&d,g=sf(i,r),y=sf(i,r),m=y>>31&1,_=y>>28&7,p=268435455&y;h.push({kT:l,TT:w,Aw:g,ST:m,ET:_,RT:p})}return{xu:J_.gp,Zp:o,Qp:s,IT:a,Wm:c,OT:n,CT:e,NT:f,DT:h}},t.eT=function(t){var n,e=t.Qi,i=t.Ep,r=jp(sf(e,i)),u=r.version,o=r.flags;return n=0===u?iu.fromBits(sf(e,i),0,!0):cf(e,i),{xu:J_.hp,Zp:u,Qp:o,rT:n}},t}();function Gp(t){return t&&"zi"in t?t.zi:t}ki(),Vt(),Ii(),ki(),Vt();var Xp=function(t){function n(n,e,i,r,u,o,s){var a;return(a=t.call(this,n,e,i,r)||this).AT=u,a.PT=o,a.xT=s||void 0,a}return Xi(n,t),n.prototype.Ny=function(n){return this===n||!!oy(this,n)&&(!!t.prototype.Ny.call(this,n)&&(!!uy(this.BT,n.BT)&&(!!uy(this.k_,n.k_)&&(this.LT&&n.LT?!!this.LT.Ci(n.LT)&&(this.ky&&n.ky?this.ky.Ci(n.ky):this.ky===n.ky):this.LT===n.LT))))},Ri(n,[{key:"BT",get:function(){return this.AT}},{key:"k_",get:function(){return this.PT}},{key:"LT",get:function(){return this.xT}},{key:"jd",get:function(){var t;return this.Wd||(this.Wd=iy(C_(t=this),{get styles(){return t.BT},get regions(){return t.k_},get metadata(){return Gp(t.LT)},get content(){return Gp(t.ky)}})),this.Wd}}]),n}(x_);ki(),Vt(),Ii();var $p=function(){function t(t,n,e){this.FT=t,this.MT=n,du(e)?this.Gt=function(t,n,e){for(var i=0,r=["begin","end","dur"];i<r.length;i++){var u=r[i];e.Gi(u)}return e}(0,0,e):this.Gt=e}return Ri(t,[{key:"UT",get:function(){return this.Gt.Ni(!0)}},{key:"py",get:function(){return this.FT}},{key:"by",get:function(){return this.MT}}]),t}();ki(),Vt(),Fi();var Kp="http://www.w3.org/XML/1998/namespace";function Jp(t,n){return function(t,n){var e=t.Wi.slice(),i=[];for(;e.length>0;){var r,u=e.shift();if(n(u))i.push(u);else(r=e).push.apply(r,Bi(u.Wi))}return i}(t,(function(t){return t.Vi===n}))}function Zp(t,n){for(var e=t,i=0;i<n.length;i++){var r=n[i];e=e.replace(r+":","")}return e}function Qp(t,n){for(var e=t.Ji,i={},r=0;r<e.length;r++)i[Zp(e[r].Ai,n)]=e[r].Bi;return i}var tb=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,nb=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,eb="http://www.w3.org/ns/ttml";function ib(t,n,e){return void 0===e&&(e=op),function(t,n,e){var i,r=[];try{i=Wi.Ii(t)}catch(t){return r}var u=i.tr;if("tt"!==u.Di)return r;var o=u&&u.Hi(eb,"head")[0],s=u&&u.Hi(eb,"body")[0],a=["ebutts","tts","xml"];if(!s||!o)return r;for(var c=function(t,n){for(var e={},i=t.Hi(eb,"styling")[0],r=i&&i.Hi(eb,"style")||[],u=0;u<r.length;u++){var o=r[u];e[o.Yi(Kp,"id")]=Qp(o,n)}return e}(o,a),f=function(t,n){var e=ry(t),i=sb(n.ji("tts:extent"));if(!i)return e;for(var r=0,u=v.keys(e);r<u.length;r++){var o=u[r],s=sb(e[o].extent);if(s){var a=ub(s[0],i[0]),c=ub(s[1],i[1]);e[o].extent=a+" "+c}var f=sb(e[o].origin);if(f){var h=ub(f[0],i[0]),d=ub(f[1],i[1]);e[o].origin=h+" "+d}}return e}(function(t,n){for(var e={},i=t.Hi(eb,"layout")[0],r=i&&i.Hi(eb,"region")||[],u=0;u<r.length;u++){var o=r[u],s=o.Yi(Kp,"id");if(s){e[s]=Qp(o,n);var a=fb(o,n);for(var c in a)ar.call(a,c)&&(e[s][c]=a[c])}}return e}(o,a),u),h=o.Hi(eb,"metadata")[0],d=ab(s,e.__,e.p_,e.b_),l=0;l<d.length;l++){var w=d[l],g=rb(f,w);r.push(new Xp(w.py,w.by,w.UT,!1,c,g,h))}return r}(t,0,e)}function rb(t,n){for(var e=hb(n.UT),i={},r=0;r<e.length;r++){var u=e[r];i[u]=t[u]}return i}function ub(t,n){var e=ob(t),i=ob(n);if(e&&i&&e===i){var r=Number(t.slice(0,-e.length)),u=Number(n.slice(0,-i.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function ob(t){return Ba(t,"px")?"px":Ba(t,"em")?"em":Ba(t,"c")?"c":Ba(t,"%")?"%":void 0}function sb(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function ab(t,n,e,i){var r,u=function(n){var e=function(t,n,e){for(var i=[],r=0;r<e.length;r++){var u=e[r].py,o=e[r].by;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&i.push(e[r])}return i}(l[n],l[n+1],a);if(e.length<=0&&function(t){if(du(t)){var n=t.Di.toUpperCase(),e=Boolean(t.ji("smpte:backgroundImage"));return"BR"===n||e}return t.bi===fu.Si}(t)){var i=t.Ni(!1);c.push(new $p(l[n],l[n+1],i))}else if(e.length>0){var r=t.Ni(!1);e.forEach((function(t){return r.qi(t.UT)})),c.push(new $p(l[n],l[n+1],r))}},o=n,s=e,a=[],c=[];if(du(t)){var f,h;o=null!=(f=cb(t.ji("begin"),i))?f:o,r=cb(t.ji("dur"),0),s=null!=(h=cb(t.ji("end"),i))?h:void 0!==r?o+r:s;for(var v=t.Ui,d=0;d<v.length;d++)("body"===t.Di||"div"===t.Di)&&v[d].bi>1||(a=a.concat(ab(v[d],o,s,i)))}for(var l=function(t,n,e){var i=[];i.push(t,n);for(var r=0;r<e.length;r++){var u=e[r];i.push(u.py,u.by)}i.sort(Xa);for(var o=i.length,s=0;s<o-1;s++)i[s+1]===i[s]&&(tc(i,s+1),s--,o=i.length);return i}(o,s,a),w=0;w<l.length-1;w++)u(w);return c}function cb(t,n){if(t){if(tb.test(t)){var e=tb.exec(t);if(!e)return;var i=Number(e[1])||0,r=Number(e[2])||0,u=Number(e[3])||0,o=e[6];return 3600*i+60*r+u+(o?Number(o)*d.pow(.1,o.length):0)+n}if(nb.test(t)){var s=nb.exec(t);if(!s)return;var a,c=Number(s[1]);switch(s[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a+n}}}function fb(t,n){for(var e={},i=t.Mi("style")||[],r=0;r<i.length;r++){var u=Qp(i[r],n);for(var o in u)ar.call(u,o)&&(e[o]=u[o])}return e}function hb(t){var n,e=[];if(du(t)){(n=t.ji("region"))&&e.push(n);for(var i=t.Ui,r=0;r<i.length;r++)e=e.concat(hb(i[r]))}return e}function vb(t){var n=function(t){try{return Wi.Ii(t).tr}catch(t){}}(t);return"tt"===(null==n?void 0:n.Di)}ki(),Vt(),ki(),Vt();var db,lb,wb=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e._l=function(n){return t.prototype._l.call(this,n)},e.pl=function(n){var e=t.prototype.pl.call(this,n);return e&&(n.ql=py.jl),e},e.Yd=function(){return Iy(this)},n}(Jg);ki(),Vt(),ki(),Vt(),(lb=db||(db={})).bp="subtitles",lb.VT="captions",lb.HT="descriptions",lb.qT="chapters",lb.Tp="metadata",lb.zT="thumbnails";var gb=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function yb(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&nc(gb,t)}(n)?n:n?"metadata":"subtitles"}ki(),Vt();var mb,_b,pb=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,u)||this).url=i,o.status=r,o}return Xi(n,t),n}(Md);function bb(t,n){return t===db.zT||t===db.Tp&&n===db.zT}function kb(t,n,e,i){for(var r=0,u=t.$l.kl;r<u.length;r++){var o=u[r];if(o.py>e)break;n<=o.by&&i.push(o)}}function Tb(t,n){return Ga(t.xl,n.xl)}function Sb(t,n){var e=n,i=0;if(function(t){return t instanceof nw}(t)&&t.name===Jl.Pv)e=t.Zh.tv;else if(function(t){return t instanceof iw}(t)){var r=t.Mv;if(e=r.Qh,0===(i=r.Gh))return new pb(Ad.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,i,t)}return new pb(Ad.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,i,t)}function Eb(t,n,e,i){var r=function(t){switch(t){case p_.WEBVTT:return"WebVTT";case p_.SRT:return"SRT";case p_.TTML:return"TTML";default:return""}}(t);return new pb(Ad.SUBTITLE_PARSE_ERROR,"Could not parse the "+(r?r+" ":"")+"subtitle file.",n,e,i)}function Rb(t){return Sp(lp(t))?p_.WEBVTT:vb(t)?p_.TTML:p_.SRT}function Ib(t,n){for(var e=[],i=0,r=t.$l.kl;i<r.length;i++){var u=r[i];if(u.by<=n)e.push(u);else if(u.py>=n)break}for(var o=0;o<e.length;o++){var s=e[o];t.WT(s)}}ki(),Vt(),(_b=mb||(mb={})).jT="vtt",_b.tp="wvtt",_b.YT="stpp";var Ob=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).yb=new wb,n.GT=function(t){var e=t.Gd;n.XT(e)},n}Xi(n,t);var e=n.prototype;return e._l=function(t){t.yo(Gg.ol,this.GT),this.yb._l(t),this.XT(t)},e.pl=function(t){t.bo(Gg.ol,this.GT),t.ql=py.jl,this.yb.pl(t)},e.$T=function(t){},e.KT=function(t){},e.XT=function(t){t.ql!==py.jl?this.$T(t):this.KT(t)},e.JT=function(){for(var t=0,n=this.yb.kl;t<n.length;t++){var e=n[t];e.bo(Gg.ol,this.GT),e.kn()}},e.ZT=function(t){if(t>0)for(var n=0,e=this.yb.kl;n<e.length;n++){Ib(e[n],t)}},e.Bc=function(){return this.JT(),this.yb.Bc(),Y.resolve()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.po(),[4,t.Bc()];case 1:return n.sent(),t.yb.kn(),[2]}}))}))()},n}(pc);ki(),Vt(),Ii();var Cb=function(t){function n(n){var e;return(e=t.call(this,ky.Vl)||this).errorObject=n,e}return Xi(n,t),n.prototype.Yd=function(){return this},Ri(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Hg),Nb=function(t){function n(n,e){var i;return(i=t.call(this)||this).QT=new rc,i.tS=n,i.nS=e,i}Xi(n,t);var e=n.prototype;return e.eS=function(t){if(t.src){var n=t.kind||db.bp,e=this.tS.iS(n,t.id,t.label,t.srclang,t.default);return e.Jl=Kl(t.src),this._l(e),e}},e.rS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a,c,f,h,v;return ea(this,(function(d){switch(d.label){case 0:t.Xl=m_.LOADING,i=new Yl({tv:t.Jl,$h:al.Si,_v:Fl.GET,fo:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,e.nS.Zh(i)];case 2:return o=d.sent(),u=o.Gh,[4,o.Dh()];case 3:return r=d.sent(),[3,5];case 4:return ac(s=d.sent()),t.Xl=m_.ERROR,t.lo(new Cb(Sb(s,t.Jl))),[2];case 5:try{for(a=Rb(r),t.xu=a,c=[],a===p_.WEBVTT||a===p_.SRT?(f=function(t,n){void 0===n&&(n=op);var e={$l:[],k_:[],R_:[]},i=lp(t),r=new Df;if(Sp(i),wp(i,(function(t){return"\n"!==t}),r),r.Xo>=i.length)return e;for(r.jo(1),"\n"!==i.charAt(r.Xo)?_p(gp(i,r,!1,!0,e,n),e):r.jo(1),wp(i,(function(t){return"\n"===t}),r);r.Xo<i.length;)_p(gp(i,r,!1,!1,e,n),e),wp(i,(function(t){return"\n"===t}),r);return e}(r),c=f.$l):a===p_.TTML&&(c=ib(r)),h=0;h<c.length;h++)v=c[h],t.uS(v)}catch(n){return ac(n),t.Xl=m_.ERROR,t.lo(new Cb(Eb(t.xu,t.Jl,u,n))),[2]}return t.Xl=m_.LOADED,[2]}}))}))()},e.$T=function(t){nc(this.yb.kl,t)&&t.Xl===m_.NONE&&this.rS(t,this.QT.fo).catch(cc)},e._c=function(){},e.Bc=function(){var n=this;return ta((function(){var e,i,r;return ea(this,(function(u){switch(u.label){case 0:for(n.QT.so(),n.QT=new rc,e=0,i=n.yb.kl;e<i.length;e++)r=i[e],n.tS.oS(r);return[4,t.prototype.Bc.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(Ob);function Db(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.Bl===n&&i.sS)return i}}function Ab(t,n){Pb(Db(t.kl,n))}function Pb(t){void 0!==t&&(t.ql=py.zl)}function xb(t,n){Pb(Db(t.kl,n)||function(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.Bl===n)return i}}(t.kl,n))}function Bb(t){for(var n=0;n<gb.length;n++){var e=gb[n];e===db.qT?xb(t,e):Ab(t,e)}}ki(),Vt(),ki(),Vt();var Lb,Fb,Mb=function(t){function n(){return t.call(this,ol.sh)}return Xi(n,t),n}(Sc);Ti(),ki(),Vt(),ki(),Vt(),(Fb=Lb||(Lb={}))[Fb.aS=0]="aS",Fb[Fb.cS=1]="cS",ki(),Vt();var Ub=t.MediaSource,Vb=t.WebKitMediaSource,Hb=t.TextTrack,qb=i&&i.createElement("video"),zb=(i&&i.documentElement.style,sr.Ne&&sr.si&&sr.ai<=26),Wb=(sr.We,!(!Ub&&!Vb)),jb=!!Hb,Yb=(i&&(i.fullscreenEnabled||i.webkitFullscreenEnabled||i.mozFullScreenEnabled||i.msFullscreenEnabled)||sr.Ve,sr.ii&&sr.ri,qb&&qb.canPlayType&&(""!==qb.canPlayType("application/vnd.apple.mpegURL")||sr.Pe&&!sr.ii&&sr.xe),qb&&qb.canPlayType&&""!==qb.canPlayType("video/mp4")&&!zb),Gb=Wb&&!sr.ui&&!sr.ti&&!sr.Qe&&((Ub||Vb).isTypeSupported?(Ub||Vb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):qb&&qb.canPlayType&&""!==qb.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Wb&&!sr.ui&&(Gb||((Ub||Vb).isTypeSupported?(Ub||Vb).isTypeSupported("audio/mpeg"):qb&&qb.canPlayType&&qb.canPlayType("audio/mpeg"))),Wb&&!(sr.ei&&sr.Ne)&&(Ub||Vb).isTypeSupported&&(Ub||Vb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),sr.ui||sr.ti||sr.Qe,sr.ni,sr.ui,sr.ti&&sr.De&&sr.Ae;try{e&&e.top!==e.self}catch(t){!0}ki(),Vt(),Ii(),ki(),Vt();var Xb=function(t){function n(n){var e;return(e=t.call(this,vm.Cw)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var $b=function(t){function n(n){var e;return(e=t.call(this,vm.Nw)||this).currentTime=n,e}return Xi(n,t),n}(Sc),Kb=(vm.al,vm.Nw,ol.ih,ol.eh,function(t){function n(n,e){var i;return void 0===e&&(e=!1),(i=t.call(this)||this).fS=n,i.hS=e,i.vS=Yy.pw,i.dS=!0,i.lS=!1,i.wS=!1,i.gS=function(t){var n=i.fS.Xl;n!==i.vS&&i.lo(new Im(t.currentTime,n)),n===Yy.pw&&(i.lS=!1,i.wS=!1),i.yS(n),i.mS(n),i._S(n),i.maybeDispatchCanPlayThroughEvent(n),i.pS(n),i.bS(n),i.vS=n},i.kS=function(){i.bS(i.vS),i.pS(i.vS),i.dS=i.fS.Lw},i.TS=function(){i.dS=i.fS.Lw},i.SS=function(t){i.lo(new $b(t.currentTime))},i.fS.yo(vm.al,i.gS),i.fS.yo(ol.ih,i.kS),i.fS.yo(ol.eh,i.TS),i.hS&&i.fS.yo(vm.Nw,i.SS),i}Xi(n,t);var e=n.prototype;return e.yS=function(t){!this.wS&&t>=Yy.bw&&(this.wS=!0,this.lo(new gm(this.fS.Dw,t)))},e.mS=function(t){!this.lS&&t>=Yy.kw&&(this.lS=!0,this.lo(new bm(this.fS.Dw,t)))},e.pS=function(t){this.hS||(t>=Yy.Tw&&this.vS<Yy.Tw&&!this.fS.Lw||this.ES&&t>=Yy.Tw)&&this.lo(new $b(this.fS.Dw))},e.bS=function(t){!this.RS(t)||this.fS.Pw||this.fS.Do||this.lo(new Xb(this.fS.Dw))},e._S=function(t){this.vS<=Yy.kw&&t>=Yy.Tw&&this.lo(new Em(this.fS.Dw,t))},e.maybeDispatchCanPlayThroughEvent=function(t){t===Yy.Sw&&this.lo(new Rm(this.fS.Dw,t))},e.RS=function(t){var n=!this.fS.Lw&&t<=Yy.kw,e=!this.dS&&this.vS<=Yy.kw;return n&&!e},e.Bc=function(){this.vS=Yy.pw,this.dS=!0,this.lS=!1,this.wS=!1},e.kn=function(){this.po(),this.hS&&this.fS.bo(vm.Nw,this.SS),this.fS.bo(ol.ih,this.kS),this.fS.bo(ol.eh,this.TS),this.fS.bo(vm.al,this.gS)},Ri(n,[{key:"ES",get:function(){return!this.fS.Lw&&this.dS}}]),n}(pc));ki(),Vt(),ki(),Vt();var Jb="titanium",Zb="conax",Qb="ezdrm",tk="irdeto",nk="vudrm",ek="verimatrix",ik="keyos",rk="drmtoday",uk="expressplay",ok="azure",sk="xstream",ak="vimond",ck="axinom",fk="uplynk",hk="comcast",vk="custom";ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii();var dk=function(){function t(t,n,e,i,r){this.IS=void 0,this.Cc=t,this.OS=n,this.CS=e,this.nS=i,this.NS=r,this.DS=this.AS(n)}var n=t.prototype;return n.PS=function(){return this.IS},n.xS=function(t){this.IS=t},n.BS=function(){return this.DS.licenseAcquisitionURL||this.PS()},n.LS=function(t){return Y.resolve()},n.FS=function(t,n){return Y.resolve(void 0)},n.MS=function(t,n,e,i){var r=this;return ta((function(){var u,o;return ea(this,(function(s){switch(s.label){case 0:if(""===(u=r.US(t,n,e,i)).tv)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");s.label=1;case 1:return s.trys.push([1,4,,6]),[4,r.Ud.Zh(u)];case 2:return[4,s.sent().Ah(n)];case 3:return[2,s.sent()];case 4:return ac(o=s.sent()),[4,r.VS(o,u.tv,i)];case 5:return s.sent(),[2];case 6:return[2]}}))}))()},n.US=function(t,n,e,i){var r=this.HS().Rh(),u=this.Tv,o={tv:this.qS(),$h:n,Xh:r,Lh:t,Tv:u,_v:Fl.POST,pv:0,fo:i,xu:Ul.sv,bv:e};return new Yl(o)},n.zS=function(t,n){return Y.resolve(t)},n.WS=function(t,n,e,i){return Y.resolve(t)},n.HS=function(){return new vl(this.DS.headers||{})},n.VS=function(t,n,e){return ta((function(){return ea(this,(function(n){throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.qS=function(t,n){var e=n,i=this.DS.queryParameters;if(!e){var r=this.BS();if(!r)return"";e=r}if(i||t){var u=Wi.du(e);t&&$l(u,t),i&&$l(u,i),e=u.href}return e},n.jS=function(t,n){return lk(t)},n.YS=function(t){return new y(t)},n.GS=function(t,n,e){var i=this;return ta((function(){var r,u;return ea(this,(function(o){switch(o.label){case 0:return[4,i.jS(t,e)];case 1:return r=o.sent(),[4,i.MS(r,i.NS,n,e)];case 2:return u=o.sent(),[2,i.YS(u)]}}))}))()},n.kn=function(){},Ri(t,[{key:"Ud",get:function(){return this.nS}},{key:"XS",get:function(){return!1}},{key:"$S",get:function(){var t=this.DS.certificate;if(t)return gr(t)?Fc(t):If(t)}},{key:"KS",get:function(){return!1}},{key:"Tv",get:function(){return Boolean(this.DS.useCredentials)}}]),t}();function lk(t){return Y.resolve(Cf(t).buffer)}var wk,gk,yk=function(t){function n(n,e,i,r){return t.call(this,Ca,n,e,i,r)}Xi(n,t);var e=n.prototype;return e.AS=function(t){return t.widevine||{}},e.JS=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){return e.$S?[2,e.$S]:[2,e.ZS(new y(t),n)]}))}))()},e.ZS=function(n,e){return t.prototype.GS.call(this,n,Hl.hv,e)},n}(dk);function mk(t,n){if(null==t)return{};var e,i,r={},u=v.keys(t);for(i=0;i<u.length;i++)e=u[i],n.indexOf(e)>=0||(r[e]=t[e]);return r}function _k(t){return fr(t.token&&t.deviceId)}function pk(t){var n,e=null==(n=t.fairplay)?void 0:n.headers;return void 0!==e&&fr(e.PreAuthorization)}function bk(t){var n=t;return _k(n)&&""!==n.token&&""!==n.deviceId&&!pk(n)}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(gk=wk||(wk={})).QS=!1,gk.tE=!1,gk.nE=!1,gk.eE=!1,gk.LOG_ADS_DETAILS=!1,gk.LOG_CHROMECAST_DETAILS=!1,gk.LOG_CUSTOM_DRM=!1,gk.LOG_BUFFERING_VIDEO_MAIN=!1,gk.LOG_BUFFERING_VIDEO_SELECTION=!1,gk.LOG_BUFFERING_AUDIO_MAIN=!1,gk.LOG_BUFFERING_AUDIO_SELECTION=!1,gk.iE=!1,gk.rE=!1,gk.LOG_LCEVC_DETAILS=!1,ki(),Vt(),Ii();var kk,Tk,Sk=function(){function t(t,n,e){this.uE=t,this.cc=n,this.oE=e}return t.prototype.sE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var e=t.onCertificateResponse;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var i=t.onLicenseRequest;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.oE.build(t))},Ri(t,[{key:"aE",get:function(){return this.uE}},{key:"Cc",get:function(){return this.cc}}]),t}();ki(),Vt(),(Tk=kk||(kk={})).FAILED="FAILED",Tk.OVERRIDDEN="OVERRIDDEN",Tk.SUCCEEDED="SUCCEEDED";var Ek=function(){function t(){this.cE=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,e){switch(this.fE(t,n,e)){case kk.FAILED:throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case kk.OVERRIDDEN:var i=Wk(n);Wi.Zr("Warning: Overwriting an earlier registered integration for "+t+" and "+i+".");break;case kk.SUCCEEDED:Wk(n);0}},n.fE=function(t,n,e){var i=Wk(n);if(!i)return kk.FAILED;for(var r=kk.SUCCEEDED,u=0,o=this.cE.slice();u<o.length;u++){var s=o[u];s.aE===t&&s.Cc===i&&(r=kk.OVERRIDDEN,Qa(this.cE,s))}return this.cE.push(new Sk(t,i,e)),r},n.hE=function(t,n){return void 0!==this.vE(t,n)},n.dE=function(t,n,e){var i=this.vE(t,n);if(!i)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return i.sE(e)},n.vE=function(t,n){for(var e=0,i=this.cE;e<i.length;e++){var r=i[e];if(r.aE===t&&(!n||r.Cc===n))return r}},t}();Ek.lE=new Ek;var Rk={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Ik(t){if(!t)return!0;var n=t.licenseAcquisitionURL,e=t.certificateURL,i=t.keys,r=t.headers,u=t.useCredentials,o=t.queryParameters;return!(n||e||i||r||u||o)}function Ok(t){return t&&void 0!==t.licenseAcquisitionURL}var Ck,Nk,Dk=Ok,Ak=Ok;function Pk(t){if(!t)return!0;if(Fk(t))return!1;var n=t.fairplay,e=t.playready,i=t.widevine,r=t.clearkey,u=t.aes128;return Ik(n)&&Ik(e)&&Ik(i)&&Ik(r)&&Ik(u)}function xk(t){var n=bk(t),e=function(t){var n,e=t;return pk(e)&&""!==(null==(n=e.fairplay)?void 0:n.headers.PreAuthorization)&&!_k(e)}(t);return(!n||!e)&&(n||e)}function Bk(t){return t.integration===tk}function Lk(t){var n=t;if(!n)return!1;if(Pk(n))return!1;var e=n.fairplay,i=n.playready,r=n.widevine,u=n.clearkey;if(Fk(t))return!0;if(e&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(e))return!1;if(i&&!Dk(i))return!1;if(r&&!Ak(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Ek.lE.hE(n.integration))return!0;switch(n.integration){case Jb:if(!function(t){return t.integration===Jb&&(Mk(t)||Uk(t))}(t))return!1;break;case nk:if(!Vk(t))return!1;break;case ek:if(!function(t){return t.integration===ek}(t))return!1;break;case tk:if(!Bk(t))return!1;break;case Zb:if(!xk(t))return!1;break;case Qb:if(!function(t){return t.integration===Qb}(t))return!1;break;case ik:if(!Fk(t))return!1;break;case rk:if(!function(t){var n=t;return n.integration===rk&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case uk:if(!function(t){return t.integration===uk}(t))return!1;break;case sk:if(!Hk(t))return!1;break;case ak:if(!function(t){return t.integration===ak}(t))return!1;break;case ck:if(!qk(t))return!1;break;case ok:if(!function(t){var n=t;return n.integration===ok&&void 0!==n.token}(t))return!1;break;case fk:if(!function(t){return t.integration===fk}(t))return!1;break;case hk:if(!function(t){var n=t;return n&&fr(n.releasePid)&&fr(n.accountId)&&fr(n.token)}(t))return!1;break;case vk:return!0;default:return!1}}return!0}function Fk(t){return t.integration===ik}function Mk(t){return void 0!==t.authToken}function Uk(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Vk(t){var n=t;return n.integration===nk&&void 0!==n.token}function Hk(t){var n=t;return n&&n.integration===sk&&gr(n.ticketAcquisitionURL)&&gr(n.streamId)}function qk(t){var n=t;return n.integration===ck&&void 0!==n.token}function zk(t,n){var e,i,r,u=n[t],o=null!=(e=null==u?void 0:u.licenseAcquisitionURL)?e:Rk[t],s=null!=(i=null==u?void 0:u.customdata)?i:n.customdata,a=s?{customData:s}:{},c=na({},null!=(r=null==u?void 0:u.headers)?r:{},a),f=null!=u?u:{};f.customdata;return na({},mk(f,["customdata"]),{licenseAcquisitionURL:o,headers:c})}function Wk(t){switch(t.toLowerCase()){case"widevine":case ka:return ka;case"playready":case _a:return _a;case"fairplay":case Ra:return Ra}}function jk(t,n){switch(t){case wa:return function(t){for(var n={},e=Yp.ub(new DataView(t)),i=0;i<e.length;i++){var r=e[i];n[r.mT]=r.bT}return n}(n);case ga:case ya:return function(t){return Py({},Ea,t)}(n);default:throw new Md(Ad.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}(Nk=Ck||(Ck={})).Nu="Widevine",Nk.Cu="PlayreadyV2",Nk.wE="PlayreadyV2",Nk.gE="PlayreadyV3",Nk.Au="Fairplay";var Yk={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Gk(t,n){var e,i,r,u,o=Yk[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=Wi.wu)?void 0:e.gu,OSVersion:null==(i=Wi.wu)?void 0:i.ku,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(r=Wi.wu)?void 0:r.Tu,DeviceModel:null==(u=Wi.wu)?void 0:u.Su}}}function Xk(t,n){if(!t.accountName)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function $k(t,n,e){var i;if(Mk(t))i={AuthToken:t.authToken,Payload:n};else{if(!Uk(t))throw Xk(t,e);i={LatensRegistration:Gk(t,e),Payload:n}}return Yc(JSON.stringify(i))}function Kk(t,n,e){return Jk.apply(this,arguments)}function Jk(){return(Jk=ta((function(t,n,e){var i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:if(!(i=t.Mv))throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);r=i,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.Nh(e)];case 2:return u=s.sent(),o=Zk(u),[3,4];case 3:return s.sent(),o="",[3,4];case 4:throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,r.Zh.tv,r.Gh,r.Kh,o)}}))}))).apply(this,arguments)}function Zk(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}ki(),Vt();var Qk=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Sh)||this).yE=void 0,r}Xi(n,t);var e=n.prototype;return e.VS=function(t,n,e){return Kk(t,n,e)},e.LS=function(t){return this.yE?fc(this.yE.Zo,t):(this.yE=new Af,Y.resolve())},e.jS=function(t,n){var e=this;return ta((function(){var n,i;return ea(this,(function(r){if(!(n=e.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return i=Uc(t),[2,$k(n,i,Ck.Nu)]}))}))()},e.YS=function(t){if(!t.license)throw new t_(Ad.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Fc(t.license)},e.mE=function(t){return Y.resolve(new y(t))},e.JS=function(t,n){var e=this;return ta((function(){var i,r;return ea(this,(function(u){switch(u.label){case 0:return e._E(),[4,e.jS(t,n)];case 1:return i=u.sent(),[4,e.MS(i,al.Th,Hl.vv,n)];case 2:return r=u.sent(),[4,e.mE(r)];case 3:return[2,u.sent()]}}))}))()},e.ZS=function(n,e){var i=this;return ta((function(){var r;return ea(this,(function(u){switch(u.label){case 0:return[4,t.prototype.ZS.call(i,n,e)];case 1:return r=u.sent(),i._E(),[2,r]}}))}))()},e._E=function(){this.yE||(this.yE=new Af),this.yE.Qo()},e.kn=function(){this.yE&&this.yE.so(),t.prototype.kn.call(this)},n.pE=function(){return Wi.gu.Lr?"required":"optional"},n}(yk);ki(),Vt(),Ii();var tT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Th)||this).xS("https://widevine-proxy.drm.technology/proxy"),r}return Xi(n,t),n.prototype.jS=function(t,n){var e=this;return ta((function(){var n,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return[4,lk(t)];case 1:if(n=o.sent(),i=e.CS,r=Nf(new y(n)),!(u=e.bE))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:r,kid:i})]}}))}))()},Ri(n,[{key:"bE",get:function(){if(Vk(this.OS))return this.OS.token}}]),n}(yk);function nT(t,n){var e=n||{};return t.ticket&&t.sessionId&&(e=na({},e,{SessionId:t.sessionId,Ticket:t.ticket})),na({},e,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}ki(),Vt(),ki(),Vt();var eT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Th)||this).xS("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return Xi(n,t),n.prototype.qS=function(n,e){var i=n;return Bk(this.OS)&&(i=nT(this.OS,i)),t.prototype.qS.call(this,i,e)},n}(yk);ki(),Vt(),ki(),Vt();var iT="Conax-Custom-Data";function rT(t,n,e){var i=t&&xk(t)&&t;if(i&&!e.has(iT)){var r=bk(i)?i.token:void 0,u=bk(i)?i.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});e.set(iT,o)}return e}var uT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Th)||this).xS("https://connect.conax.com:8094/license"),r}return Xi(n,t),n.prototype.HS=function(){var n=t.prototype.HS.call(this);return rT(this.OS,"Widevine",n)},n}(yk);function oT(t){var n=gf(new y(t));return Fc(JSON.parse(n).license)}function sT(t){return"string"==typeof t.token?t.token:Yc(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function aT(t,n,e){var i;return i=e.token?"x-dt-auth-token":"dt-custom-data",t.set(i,n),t}ki(),Vt(),Ii(),ki(),Vt();var cT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Th)||this).xS("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}Xi(n,t);var e=n.prototype;return e.YS=function(t){return oT(t)},e.HS=function(){return aT(t.prototype.HS.call(this),this.bE,this.OS)},Ri(n,[{key:"bE",get:function(){return sT(this.OS)}}]),n}(yk);ki(),Vt();var fT=function(t){function n(n,e,i){return t.call(this,n,e,i,al.Th)}return Xi(n,t),n.prototype.HS=function(){var n=t.prototype.HS.call(this),e=this.OS.token;return n.set("Authorization","Bearer "+e),n},n}(yk);function hT(t,n,e,i){return vT.apply(this,arguments)}function vT(){return(vT=ta((function(t,n,e,i){var r,u,o,s,a,c;return ea(this,(function(f){switch(f.label){case 0:if(!Hk(t))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(r=new vl).append("Cache-Control","no-cache"),r.append("Content-Type","application/json"),(u=t.sessionId)&&r.append("XSSESSION",u),o=t.streamId,s=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:s,streamId:o},c={tv:t.ticketAcquisitionURL,$h:al.Sh,Xh:r,_v:Fl.POST,Lh:JSON.stringify(a),fo:i},[4,e.Zh(c)];case 1:return[4,f.sent().Nh()];case 2:return[2,f.sent()]}}))}))).apply(this,arguments)}ki(),Vt(),ki(),Vt();var dT=function(t){function n(n,e,i){return t.call(this,n,e,i,al.Sh)}Xi(n,t);var e=n.prototype;return e.HS=function(){var n=t.prototype.HS.call(this);return n.set("Content-Type","application/json"),n},e.jS=function(n,e){var i=this;return ta((function(){var r,u,o;return ea(this,(function(s){switch(s.label){case 0:return r=jc(n.buffer),[4,hT(i.OS,"widevine_modular",i.Ud,e)];case 1:return u=s.sent(),i.xS(u.licenseServerUrl),o=yf(JSON.stringify({payload:r,ticket:u.ticket})),[2,t.prototype.jS.call(i,o,e)]}}))}))()},e.YS=function(t){return Fc(t.license)},n}(yk);ki(),Vt();var lT=function(t){function n(n,e,i){return t.call(this,n,e,i,al.Th)}return Xi(n,t),n.prototype.HS=function(){if(!qk(this.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.HS.call(this);return n.set("X-AxDRM-Message",this.OS.token),n},n}(yk);function wT(t){for(var n=new y(2*t.length),e=0;e<t.length;e+=1)n[2*e]=t.charCodeAt(e),n[2*e+1]=0;return n}ki(),Vt();var gT=function(t){function n(n,e,i){var r;return(r=t.call(this,Oa,n,e,i,al.Th)||this).kE=void 0,r}Xi(n,t);var e=n.prototype;return e.AS=function(t){return t.playready||{}},e.HS=function(){var n=new vl(this.kE);return n.Oh(t.prototype.HS.call(this)),n},e.TE=function(t){return t.length>=1&&t[0].Ui.length>0},e.FS=function(n){var e=this.OS.playready.customData;if(e){var i=wT(e),r=wT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Uc(i)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return Y.resolve({playready:{tf:r}})}return t.prototype.FS.call(this,n)},e.jS=function(t,n){var e=this;return ta((function(){var n;return ea(this,(function(i){switch(i.label){case 0:return[4,lk(t)];case 1:return n=i.sent(),[2,e.SE(n)]}}))}))()},e.SE=function(t){var n=this;return ta((function(){var e,i,r,u,o,s,a,c,f,h,v,d,l,w,g,y;return ea(this,(function(m){var _,p,b;r=null,u=new DataView(t),_=u,p=new Df,void 0===(b=!0)&&(b=!1),o=lf(_,p,b,!0);try{s=Wi.Ii(o)}catch(t){return[2,r]}for(a=null==(e=s.Mi("PlayReadyKeyMessage")[0])?void 0:e.Mi("LicenseAcquisition")[0],f=null!=(c=null==a?void 0:a.Mi("Challenge"))?c:[],n.TE(f)&&(r=Wc(f[0].Zi)),h=new vl,d=null!=(v=null==(i=null==a?void 0:a.Mi("HttpHeaders")[0])?void 0:i.Mi("HttpHeader"))?v:[],l=0;l<d.length;l++)w=d[l],g=w.Mi("name")[0].Zi,y=w.Mi("value")[0].Zi,h.append(g,y);return n.kE=h,[2,r]}))}))()},e.JS=function(t,n){return Y.resolve(t)},e.ZS=function(n,e){return t.prototype.GS.call(this,n,Hl.dv,e)},n}(dk);ki(),Vt(),ki(),Vt(),Ii();var yT=function(){function t(n){this.EE=n,this.ja=t.RE(n)}return t.prototype.IE=function(){var t={};if(this.ja===Ck.gE){var n={LatensRegistration:Gk(this.EE,Ck.gE)};t["X-TITANIUM-DRM-CDATA"]=Yc(JSON.stringify(n))}return t},t.RE=function(t){return"3"===t.version?Ck.gE:Ck.wE},Ri(t,[{key:"OE",get:function(){return this.ja}},{key:"Vc",get:function(){return this.ja===Ck.wE}}]),t}();var mT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).CE=new yT(r.OS),r}Xi(n,t);var e=n.prototype;return e.FS=function(t){var n=this.OS;if(!this.OS)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Uk(n)){var e={};return e.playready={tf:_T(n,this.CE.OE)},Y.resolve(e)}return Y.reject(Xk(n,Ck.Cu))},e.HS=function(){var n=new vl(this.CE.IE());return n.Oh(t.prototype.HS.call(this)),n},e.VS=function(t,n,e){return ta((function(){var i,r,u,o,s,a,c,f;return ea(this,(function(h){switch(h.label){case 0:if(!(i=t.Mv))throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i.Ph(e)];case 2:return o=h.sent(),s=gf(new y(o)),(a=Wi.Ii(s))&&(c=Jp(a,"CustomData")).length>0&&(r=JSON.parse(c[0].Zi),u=null==(f=r.DrmErr)?void 0:f.desc),[3,4];case 3:return h.sent(),[3,4];case 4:throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,i.Gh,i.Kh,u)}}))}))()},e.TE=function(t){if(1!==t.length)throw new t_(Ad.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(gT);function _T(t,n){var e=Gk(t,n),i=e.DeviceInfo.FormatVersion,r=Yc('<LatensRegistration formatversion="'+i+'"><AccountName>'+e.AccountName+"</AccountName><CustomerName>"+e.CustomerName+"</CustomerName><PortalID>"+e.PortalId+'</PortalID><DeviceInfo formatversion="'+i+'"><DeviceType>'+e.DeviceInfo.DeviceType+"</DeviceType><OSType>"+e.DeviceInfo.OSType+"</OSType><OSVersion>"+e.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+e.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+e.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+e.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+e.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+e.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=_f(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return _f('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Uc(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}ki(),Vt(),Ii();var pT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).xS("https://playready-license.drm.technology/rightsmanager.asmx"),r}Xi(n,t);var e=n.prototype;return e.TE=function(t){if(1!==t.length)throw new t_(Ad.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.qS=function(n,e){var i=na({},n||{},{token:this.bE});return t.prototype.qS.call(this,i,e)},Ri(n,[{key:"bE",get:function(){if(Vk(this.OS))return this.OS.token}}]),n}(gT);ki(),Vt();var bT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).xS("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return Xi(n,t),n.prototype.qS=function(n,e){var i=n;return Bk(this.OS)&&(i=nT(this.OS,i)),t.prototype.qS.call(this,i,e)},n}(gT);ki(),Vt();var kT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).xS("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return Xi(n,t),n.prototype.HS=function(){var n=t.prototype.HS.call(this);return rT(this.OS,"PlayReady",n)},n}(gT);ki(),Vt(),Ii();var TT,ST,ET=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).xS("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}Xi(n,t);var e=n.prototype;return e.YS=function(n){return 1===(xa(gf(new y(n)),"<?xml")?0:1)?oT(n):t.prototype.YS.call(this,new y(n))},e.HS=function(){return aT(t.prototype.HS.call(this),this.bE,this.OS)},Ri(n,[{key:"bE",get:function(){return sT(this.OS)}}]),n}(gT);(ST=TT||(TT={}))[ST.NE=0]="NE",ST[ST.Nh=1]="Nh",ki(),Vt();var RT=function(t){function n(n,e,i){return t.call(this,n,e,i)}Xi(n,t);var e=n.prototype;return e.HS=function(){var n=t.prototype.HS.call(this);return this.DE&&n.set("Ticket",this.DE),n.set("Content-Type","text/xml"),n},e.jS=function(n,e){var i=this;return ta((function(){var r;return ea(this,(function(u){switch(u.label){case 0:return[4,hT(i.OS,"playready",i.Ud,e)];case 1:return r=u.sent(),i.xS(r.licenseServerUrl),i.DE=r.ticket,[2,t.prototype.jS.call(i,n,e)]}}))}))()},n}(gT);ki(),Vt();var IT,OT,CT=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.HS=function(){if(!qk(this.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.HS.call(this);return n.set("X-AxDRM-Message",this.OS.token),n},n}(gT);ki(),Vt(),Ii(),ki(),Vt(),(OT=IT||(IT={})).Sh="application/json",OT.AE="application/x-www-form-urlencoded",OT.PE="application/octet-stream",OT.Si="text/plain;charset=UTF-8";var NT=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n.Cc,e,i,r,u)||this).xE="",o.BE=void 0,o.LE=n.FE,o}Xi(n,t);var e=n.prototype;return e.ME=function(){return this.DS.certificateURL||this.BE},e.UE=function(t){this.BE=t},e.jS=function(t){return Y.resolve(this.VE(t,this.xE))},e.VE=function(t,n){return"spc="+encodeURIComponent(Uc(t))+"&assetId="+encodeURIComponent(n)},e.AS=function(t){return t.fairplay||{}},e.HE=function(t){var n=t.indexOf("?");if(n>=0)return Y.resolve(t.substr(n+1));var e=t.split("skd://").pop();if(e){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e))return Y.resolve(e)}var i=t.split("/");return Y.resolve(i[i.length-1])},e.FS=function(t){var n=this;return ta((function(){var e,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return i=null!=(e=n.LE)?e:bf(new y(t)),[4,n.HE(i)];case 1:return r=o.sent(),n.xE=r,(u={}).fairplay={af:r},[2,u]}}))}))()},e.HS=function(){var n=t.prototype.HS.call(this);return n.set("Content-Type",this.qE),n},e.JS=function(t,n){var e=this;return ta((function(){return ea(this,(function(t){switch(t.label){case 0:return e.$S?[2,e.$S]:[4,e.zE(n)];case 1:return[2,t.sent()]}}))}))()},e.ZS=function(n,e){return t.prototype.GS.call(this,n,Hl.cv,e)},e.WE=function(t){var n=this.ME(),e=this.HS(),i={tv:n,$h:al.Th,Xh:e,_v:Fl.GET,Tv:!1,Lh:null,pv:0,fo:t,xu:Ul.sv,bv:Hl.fv};return new Yl(i)},e.zE=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return e=n.WE(t),[4,n.Ud.Zh(e)];case 1:return[4,r.sent().Ph()];case 2:return i=r.sent(),[2,new y(i)]}}))}))()},e.YS=function(t){var n;if("string"==typeof t){var e=t.trim();"<ckc>"===e.substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6)),n=Fc(e)}else n=new y(t);return n},e.qS=function(n,e){var i=t.prototype.qS.call(this,n,e);return xa(i,"skd:")&&(i=i.substr("skd:".length)),i},Ri(n,[{key:"KS",get:function(){return!0}},{key:"qE",get:function(){return IT.AE}}]),n}(dk);ki(),Vt(),Ii();var DT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Th)}Xi(n,t);var e=n.prototype;return e.HE=function(n){var e=n.split("://",1);return"skd"!==e[0].slice(-3).toLowerCase()?Y.resolve(""):(e=n.split(";",2)).length>1?Y.resolve(e[1]):Y.resolve(t.prototype.HE.call(this,n))},e.jS=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.YS=function(t){return new y(t)},e.qS=function(n,e){var i=n||{};return i.p1=au(),t.prototype.qS.call(this,i,e)},Ri(n,[{key:"qE",get:function(){return IT.PE}}]),n}(NT);ki(),Vt(),Ii();var AT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Th)||this).xS("https://fairplay-license.drm.technology/license"),u.UE("https://fairplay-license.drm.technology/certificate"),u}Xi(n,t);var e=n.prototype;return e.VE=function(t,n){var e={token:this.bE,contentId:n,payload:Uc(t)};return JSON.stringify(e)},e.YS=function(t){return new y(t)},e.HS=function(){var n=t.prototype.HS.call(this);return n.set("x-vudrm-token",this.bE),n},Ri(n,[{key:"qE",get:function(){return IT.Sh}},{key:"bE",get:function(){if(!Vk(this.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.OS.token}}]),n}(NT);ki(),Vt();var PT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",xT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",BT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Th)}return Xi(n,t),n.prototype.YS=function(n){var e=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new t_(Ad.CONTENT_PROTECTION_LICENSE_INVALID,PT)}if(!n)throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,xT);return n}(gf(new DataView(n)));return t.prototype.YS.call(this,e)},n}(NT);ki(),Vt(),Ii();var LT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Sh)}Xi(n,t);var e=n.prototype;return e.jS=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){if(!(e=n.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return i=Uc(t),[2,$k(e,i,Ck.Au)]}))}))()},e.YS=function(t){try{var n;if(gr(t)){var e=t.trim();n=JSON.parse(e)}else n=t;if(n.license){var i=Wc(n.license);return new y(i)}throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new t_(Ad.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.VS=function(t,n,e){return Kk(t,n,e)},Ri(n,[{key:"qE",get:function(){return IT.Sh}}]),n}(NT);ki(),Vt(),Ii();var FT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Th)||this).xS("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.UE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}Xi(n,t);var e=n.prototype;return e.ME=function(){var n=t.prototype.ME.call(this);if(!n)return n;var e=Wi.du(n),i=this.OS;return Bk(i)&&$l(e,{accountId:i.accountId,applicationId:i.applicationId||""}),e.href},e.HE=function(n){return Bk(this.OS)?Y.resolve(this.OS.contentId):t.prototype.HE.call(this,n)},e.jS=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.YS=function(t){return new y(t)},e.qS=function(n,e){var i=n;return Bk(this.OS)&&(i=function(t,n){return na({},nT(t,n),{KeyId:t.keyId})}(this.OS,i)),t.prototype.qS.call(this,i,e)},Ri(n,[{key:"qE",get:function(){return IT.PE}}]),n}(NT);ki(),Vt();var MT=function(t){function n(n,e,i,r){var u;if(u=t.call(this,n,e,i,r,al.Si)||this,!xk(e))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.xS("https://connect.conax.com:8097/license"),u}Xi(n,t);var e=n.prototype;return e.HS=function(){var n=t.prototype.HS.call(this);return rT(this.OS,"FairPlay",n)},e.zE=function(t){var n=this;return ta((function(){var e,i,r;return ea(this,(function(u){switch(u.label){case 0:return e=n.ME(),i={tv:e,$h:al.Th,Xh:{},_v:Fl.GET,Tv:!1,Lh:null,pv:0,fo:t,xu:Ul.sv,bv:Hl.fv},[4,n.Ud.Zh(i)];case 1:return[4,u.sent().Ph()];case 2:return r=u.sent(),[2,new y(r)]}}))}))()},e.jS=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.HE=function(t){var n,e=t.indexOf("?");return 0===t.indexOf("skd://")?(n=e>=0?t.substring("skd://".length,e):t.substring("skd://".length),Y.resolve(gf(Fc(n)))):Y.resolve("unknown")},e.YS=function(t){try{var n=JSON.parse(t);return new y(Wc(n.CkcMessage))}catch(t){throw new f("CFLRW-66")}},n}(NT);ki(),Vt();var UT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Si)||this).xS(Rk[da.Au]),u}Xi(n,t);var e=n.prototype;return e.HE=function(t){return xa(t,"skd://")?Y.resolve(t.substring("skd://".length,40)):Y.reject(new t_(Ad.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.VE=function(t,n){return"spc="+Uc(t)+"&assetId="+n},n}(NT);ki(),Vt(),Ii();var VT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Si)||this).xS("https://lic.drmtoday.com/license-server-fairplay/"),u}Xi(n,t);var e=n.prototype;return e.VE=function(t,n){var e="spc="+encodeURIComponent(Uc(t))+"&"+encodeURI(n);return"persistent"===this.DS.licenseType?e+"&offline=true":e},e.HS=function(){return aT(t.prototype.HS.call(this),this.bE,this.OS)},Ri(n,[{key:"bE",get:function(){return sT(this.OS)}}]),n}(NT);ki(),Vt(),Ii();var HT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Th)}Xi(n,t);var e=n.prototype;return e.HE=function(t){var n=t;return xa(n,"skd:")&&(n="http:"+n.substring(4)),xa(n,"http:")||xa(n,"https:")?Y.resolve(Wi.du(n).hostname):Y.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},e.jS=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.YS=function(t){return new y(t)},Ri(n,[{key:"qE",get:function(){return IT.PE}}]),n}(NT);ki(),Vt();var qT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Si)}return Xi(n,t),n.prototype.HS=function(){var n=t.prototype.HS.call(this),e=this.OS.token;return n.set("Authorization","Bearer "+e),n},n}(NT);ki(),Vt(),Ii();var zT=function(t){function n(n,e,i,r){var u=t.call(this,n,e,i,r,al.Sh);if(!Hk(e))throw new f("Invalid Xstream DRM configuration");return u}Xi(n,t);var e=n.prototype;return e.zE=function(t){var n=this;return ta((function(){var e,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return e=n.ME(),i=n.HS(),r={tv:e,$h:al.Sh,Xh:i,_v:Fl.POST,fo:t,xu:Ul.sv,bv:Hl.fv},[4,n.Ud.Zh(r)];case 1:return[4,o.sent().Nh()];case 2:return u=o.sent(),[2,new y(Fc(u.certificate))]}}))}))()},e.ZS=function(t,n,e){void 0===e&&(e=al.Si);var i=this;return ta((function(){var e,r,u,o;return ea(this,(function(s){switch(s.label){case 0:return e=Uc(t),[4,hT(i.OS,"fairplay",i.Ud,n)];case 1:return r=s.sent(),u=yf(JSON.stringify({spc:e,ticket:r.ticket})),o={tv:i.BS(),$h:al.Sh,Xh:i.HS(),_v:Fl.POST,Lh:u,pv:0,fo:n,xu:Ul.sv,bv:Hl.cv},[4,i.Ud.Zh(o)];case 2:return[4,s.sent().Nh()];case 3:return[2,Fc(s.sent().licence)]}}))}))()},Ri(n,[{key:"qE",get:function(){return IT.Sh}}]),n}(NT);ki(),Vt();var WT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Si)}Xi(n,t);var e=n.prototype;return e.VE=function(t,n){return Uc(t)},e.YS=function(n){if(0===n.length)throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.YS.call(this,n)},e.HS=function(){var n=t.prototype.HS.call(this);return n.set("Content-Type","text/plain"),n},n}(NT);ki(),Vt(),Ii();var jT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Th)}Xi(n,t);var e=n.prototype;return e.VE=function(t,n){return t},e.YS=function(t){return new y(t)},e.HS=function(){if(!qk(this.OS))throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.HS.call(this);return n.set("X-AxDRM-Message",this.OS.token),n},Ri(n,[{key:"qE",get:function(){return IT.Sh}}]),n}(NT);ki(),Vt(),Ii();var YT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Sh)||this).jE=void 0,u}Xi(n,t);var e=n.prototype;return e.VE=function(t,n){var e={spc:Uc(t)};return JSON.stringify(e)},e.HE=function(t){var n=Wi.du(t);return this.jE=t,n.searchParams.has("b")?Y.resolve(n.searchParams.get("b")):Y.reject(new t_(Ad.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.qS=function(n,e){var i=this.BS();return!i&&this.jE&&(i=this.jE),i&&(i=i.replace("skd://","https://")),t.prototype.qS.call(this,n,e||i)},e.YS=function(t){try{var n;if((n=gr(t)?JSON.parse(t.trim()):t).ckc)return Fc(n.ckc)}catch(t){throw new t_(Ad.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Ri(n,[{key:"qE",get:function(){return IT.Si}}]),n}(NT);ki(),Vt(),ki(),Vt(),ki(),Vt();var GT=function(){function t(t,n){this.YE=t,this.GE=n}var n=t.prototype;return n.XE=function(t){return this.YE(t)},n.$E=function(t,n){throw new h(n+" must be "+this.GE+". (Received: "+t+")")},t}(),XT=(new GT((function(t){return!0}),"any"),new GT(_r,"a number")),$T=new GT(gr,"a string"),KT=new GT(yr,"a boolean");new GT((function(t){return"[object Date]"===cr.call(t)}),"a date"),new GT(hr,"undefined"),new GT(lr,"an object"),new GT((function(t){return null===t}),"null"),new GT((function(t){return null==t}),"null or undefined");var JT,ZT=(JT={responseCode:XT,isException:KT,description:$T,title:$T,correlationId:$T},{XE:function(t){if(!lr(t))return!1;for(var n=0,e=v.keys(JT);n<e.length;n++){var i=e[n];if(!JT[i].XE(t[i]))return!1}return!0},$E:function(t,n){if(!lr(t))throw new h(n+" must be an object.");for(var e=0,i=v.keys(JT);e<i.length;e++){var r=i[e],u=JT[r];if(!u.XE(t[r]))return u.$E(t[r],n+"."+String(r))}throw new h}});function QT(t,n,e,i,r){return tS.apply(this,arguments)}function tS(){return(tS=ta((function(t,n,e,i,r){return ea(this,(function(u){switch(u.label){case 0:return[4,eS(nS(t,n,e,r),i)];case 1:return[2,u.sent()]}}))}))).apply(this,arguments)}function nS(t,n,e,i){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=Wi.du(t);return $l(e,n),e.toString()}(e,r)),o=new vl({});o.append("Content-Type","application/json");var s=Uc(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{tv:u,$h:al.Si,Xh:o,_v:Fl.POST,Lh:JSON.stringify(a),fo:i,xu:Ul.sv,bv:Hl.cv}}function eS(t,n){return iS.apply(this,arguments)}function iS(){return(iS=ta((function(t,n){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.Zh(t)];case 1:return[4,i.sent().Nh()];case 2:if(e=i.sent(),ZT.XE(e))throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,e.description,void 0,t.tv,e.responseCode);return[2,Fc(e.getFairplayLicenseResponse.ckcResponse)]}}))}))).apply(this,arguments)}var rS=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Th)||this).KE=e,u}Xi(n,t);var e=n.prototype;return e.HE=function(n){var e=n.replace("FairPlay",this.KE.releasePid);return t.prototype.HE.call(this,e)},e.ZS=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return[4,QT(t,e.KE,e.BS(),e.Ud,n)];case 1:return[2,i.sent()]}}))}))()},n}(NT);ki(),Vt();var uS=function(t){function n(n,e,i){return t.call(this,Da,n,e,i,al.Th)}Xi(n,t);var e=n.prototype;return e.AS=function(t){return t.clearkey||{}},e.MS=function(n,e,i,r){var u=this;return ta((function(){var e,o;return ea(this,(function(s){if(e=u.DS,u.BS())return[2,t.prototype.MS.call(u,n,u.NS,i,r)];if(e.keys&&e.keys.length)return o={keys:e.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,yf(JSON.stringify(o)).buffer];throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},e.JS=function(t,n){return Y.resolve(new y(0))},e.ZS=function(n,e){return t.prototype.GS.call(this,n,Hl.lv,e)},n}(dk);ki(),Vt();var oS=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n}(yk);ki(),Vt(),ki(),Vt();var sS={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function aS(t,n,e){return cS.apply(this,arguments)}function cS(){return(cS=ta((function(t,n,e){var i,r,u;return ea(this,(function(o){switch(o.label){case 0:return i=TS(n),(r=t.onCertificateRequest)&&"function"==typeof r?[4,fc(Y.resolve(r.call(t,i)),e)]:[2,Y.resolve(n)];case 1:return Rf(u=o.sent())?[2,If(u)]:[2,kS(na({},sS,u))]}}))}))).apply(this,arguments)}function fS(t,n,e,i,r){return hS.apply(this,arguments)}function hS(){return(hS=ta((function(t,n,e,i,r){var u,o;return ea(this,(function(s){switch(s.label){case 0:return u=t.onCertificateResponse,o=bS(n,e,i),u&&"function"==typeof u?[4,fc(Y.resolve(u.call(t,o)),r)]:[2,Y.resolve(n)];case 1:return[2,If(s.sent())]}}))}))).apply(this,arguments)}function vS(t,n,e,i){return dS.apply(this,arguments)}function dS(){return(dS=ta((function(t,n,e,i){var r;return ea(this,(function(u){switch(u.label){case 0:return[4,gS(t,n,e,i)];case 1:return(r=u.sent())instanceof ArrayBuffer?[2,r]:[2,kS(r)]}}))}))).apply(this,arguments)}function lS(t,n,e,i,r,u){return wS.apply(this,arguments)}function wS(){return(wS=ta((function(t,n,e,i,r,u){var o;return ea(this,(function(s){switch(s.label){case 0:return o=pS(e,r),[4,mS(t,new y(n),o,i,u)];case 1:return[2,If(s.sent())]}}))}))).apply(this,arguments)}function gS(t,n,e,i){return yS.apply(this,arguments)}function yS(){return(yS=ta((function(t,n,e,i){var r,u,o;return ea(this,(function(s){switch(s.label){case 0:return r=null==t?void 0:t.onLicenseRequest,u=pS(n,e),r&&"function"==typeof r?[4,fc(Y.resolve(r.call(t,u)),i)]:[2,Y.resolve(u)];case 1:return Rf(o=s.sent())?[2,If(o).buffer]:[2,na({fairplaySkdUrl:void 0},sS,o)]}}))}))).apply(this,arguments)}function mS(t,n,e,i,r){return _S.apply(this,arguments)}function _S(){return(_S=ta((function(t,n,e,i,r){var u,o;return ea(this,(function(s){switch(s.label){case 0:return u=null==t?void 0:t.onLicenseResponse,o=bS(n,e,i),u&&"function"==typeof u?[4,fc(Y.resolve(u.call(t,o)),r)]:[2,Y.resolve(n)];case 1:return[2,If(s.sent())]}}))}))).apply(this,arguments)}function pS(t,n){return na({},TS(t),{fairplaySkdUrl:n})}function bS(t,n,e){return{url:e.Qh,status:e.Gh,statusText:e.Kh,headers:e.Xh.Rh(),body:t,request:n}}function kS(t){return new Yl({tv:t.url,_v:t.method,Xh:t.headers,Lh:t.body,Tv:t.useCredentials})}function TS(t){var n;return{url:t.tv,body:null!=(n=SS(t.Lh))?n:null,headers:t.Xh.Rh(),method:t._v,useCredentials:t.Tv}}function SS(t){if(t)return"string"==typeof t?kf(t):t instanceof ArrayBuffer?new y(t):Hc(t)?Ef(t):void 0}var ES=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i)||this).JE=r,u}Xi(n,t);var e=n.prototype;return e.JS=function(t,n){return Y.resolve(t)},e.ZS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return[4,e.SE(Cf(t).buffer)];case 1:return i=c.sent(),r=e.US(i,al.Th,Hl.dv,n),[4,vS(e.JE,r,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new y(u)];if(""===u.tv)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,e.Ud.Zh(u)];case 4:return[4,(o=c.sent()).Ph(n)];case 5:return s=c.sent(),[4,lS(e.JE,s,r,o,void 0,n)];case 6:return[2,c.sent()];case 7:throw ac(a=c.sent()),new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(gT);ki(),Vt();var RS=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,al.Th)||this).JE=r,u}Xi(n,t);var e=n.prototype;return e.JS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return e.$S?[2,e.$S]:(i=e.US(t,al.Th,Hl.vv,n),[4,aS(e.JE,i,n)]);case 1:if((r=c.sent())instanceof y)return[2,r];if(""===r.tv)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,e.Ud.Zh(r)];case 3:return[4,(u=c.sent()).Ph(n)];case 4:return o=c.sent(),[3,6];case 5:throw ac(s=c.sent()),new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",s);case 6:return a=pS(i,void 0),[4,fS(e.JE,new y(o),a,u,n)];case 7:return[2,c.sent()]}}))}))()},e.ZS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return i=e.US(t,al.Th,Hl.hv,n),[4,vS(e.JE,i,void 0,n)];case 1:if((r=a.sent())instanceof ArrayBuffer)return[2,new y(r)];if(""===r.tv)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Ud.Zh(r)];case 3:return[4,(u=a.sent()).Ph(n)];case 4:return o=a.sent(),[4,lS(e.JE,o,i,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw ac(s=a.sent()),new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",s);case 7:return[2]}}))}))()},n}(oS);ki(),Vt();var IS,OS,CS=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,i,r,al.Th)||this).JE=u,o}Xi(n,t);var e=n.prototype;return e.JS=function(t,n){var e=this;return ta((function(){var t,i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return e.$S?[2,e.$S]:(t=e.WE(n),[4,aS(e.JE,t,n)]);case 1:if(i=a.sent(),Hc(i))return[2,i];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Ud.Zh(i)];case 3:return[4,(r=a.sent()).Ph()];case 4:return u=a.sent(),o=pS(t,void 0),[4,fS(e.JE,new y(u),o,r,n)];case 5:return[2,a.sent()];case 6:throw ac(s=a.sent()),new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",s);case 7:return[2]}}))}))()},e.ZS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return i=e.US(t,al.Th,Hl.cv,n),[4,vS(e.JE,i,e.ZE,n)];case 1:if((r=a.sent())instanceof ArrayBuffer)return[2,new y(r)];if(""===r.tv)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Ud.Zh(r)];case 3:return[4,(u=a.sent()).Ph(n)];case 4:return o=a.sent(),[4,lS(e.JE,o,i,u,e.ZE,n)];case 5:return[2,a.sent()];case 6:throw ac(s=a.sent()),new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",s);case 7:return[2]}}))}))()},e.HE=function(n){var e;return this.ZE=n,(null==(e=this.JE)?void 0:e.extractFairplayContentId)?Y.resolve(this.JE.extractFairplayContentId(n)):t.prototype.HE.call(this,n)},n}(NT),NS=function(){function t(){}var n=t.prototype;return n.QE=function(t,n,e,i){switch(t.Cc.xu){case da.Nu:return this.tR(n,e,i);case da.Cu:return this.nR(n,e,i);case da.Au:return this.eR(t,n,e,i);case da.Du:default:return this.iR(n,e,i)}},n.tR=function(t,n,e){var i=function(t){return t.integration===vk&&gr(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(i&&Ek.lE.hE(i,ka)){var r=Ek.lE.dE(i,ka,t);return new RS(t,n,e,r)}switch(i){case Jb:return new Qk(t,n,e);case nk:return new tT(t,n,e);case tk:return new eT(t,n,e);case Zb:return new uT(t,n,e);case rk:return new cT(t,n,e);case ok:return new fT(t,n,e);case sk:return new dT(t,n,e);case ck:return new lT(t,n,e);case ik:default:return new oS(t,n,e,al.Th)}},n.nR=function(t,n,e){var i=t.integration;if(i&&Ek.lE.hE(i,_a)){var r=Ek.lE.dE(i,_a,t);return new ES(t,n,e,r)}switch(i){case Jb:return new mT(t,n,e);case nk:return new pT(t,n,e);case tk:return new bT(t,n,e);case Zb:return new kT(t,n,e);case rk:return new ET(t,n,e);case sk:return new RT(t,n,e);case ck:return new CT(t,n,e);case ik:default:return new gT(t,n,e)}},n.eR=function(t,n,e,i){var r=n.integration;if(r&&Ek.lE.hE(r,Ra)){var u=Ek.lE.dE(r,Ra,n);return new CS(t,n,e,i,u)}switch(r){case Qb:return new DT(t,n,e,i);case nk:return new AT(t,n,e,i);case ek:return new BT(t,n,e,i);case Jb:return new LT(t,n,e,i);case tk:return new FT(t,n,e,i);case Zb:return new MT(t,n,e,i);case ik:return new UT(t,n,e,i);case rk:return new VT(t,n,e,i);case uk:return new HT(t,n,e,i);case ok:return new qT(t,n,e,i);case sk:return new zT(t,n,e,i);case ak:return new WT(t,n,e,i);case ck:return new jT(t,n,e,i);case fk:return new YT(t,n,e,i);case hk:return new rS(t,n,e,i);default:return new NT(t,n,e,i,al.Si)}},n.iR=function(t,n,e){return new uS(t,n,e)},n.rR=function(t){return t.xu===da.Cu||t.xu===da.Nu||t.xu===da.Au||t.xu===da.Du},n.Vc=function(t,n){var e;if(t.xu!==da.Cu)return!1;if(fr(null==(e=n.playready)?void 0:e.customData))return!0;var i=n.integration;return(!i||!Ek.lE.hE(i,Ra))&&(i===Jb&&new yT(n).Vc)},n.pE=function(t,n){if(t.xu===da.Nu){var e=n.integration;if(!e||!Ek.lE.hE(e,Ra))return e===Jb?Qk.pE():void 0}},t}();ki(),Vt(),ki(),Vt(),(OS=IS||(IS={}))[OS.uR=0]="uR",OS[OS.oR=1]="oR",OS[OS.sR=2]="sR",OS[OS.aR=3]="aR",OS[OS.cR=4]="cR",OS[OS.dw=5]="dw",OS[OS.fR=6]="fR",OS[OS.hR=7]="hR",OS[OS.ww=8]="ww",OS[OS.vR=9]="vR",OS[OS.dR=10]="dR",ki(),Vt(),Ii();var DS=function(){function t(){}return t.prototype.lR=function(t){},Ri(t,[{key:"wR",get:function(){return 0}},{key:"gR",get:function(){return 0}}]),t}();ki(),Vt();var AS=function(){function t(t,n){void 0===n&&(n=new NS),this.EE=void 0,this.nS=t,this.yR=n}var n=t.prototype;return n.mR=function(t){this.EE=t},n.pE=function(t){var n=this.EE;if(void 0!==n)return this.yR.pE(t,n)},n.Vc=function(t){var n=this.EE;return void 0!==n&&this.yR.Vc(t,n)},n._R=function(t){var n={Cc:t.Cc,pR:t.pR||[],FE:t.FE},e=this.yR.QE(n,this.EE||{},t.CS,this.nS);return new PS(e)},t}(),PS=function(){function t(t){this.bR=t}var n=t.prototype;return n.LS=function(t){return this.bR.LS(t)},n.FS=function(t,n,e){return this.bR.FS(n,e)},n.KS=function(){return this.bR.KS||void 0!==this.bR.$S},n.JS=function(t,n){return this.bR.JS(t,n)},n.ZS=function(t,n,e){return n&&this.bR.xS(n),this.bR.ZS(t,e)},n.Qu=function(){this.bR.kn()},t}();ki(),Vt();var xS=function(t){function n(n){var e;(e=t.call(this)||this).kR=[],e.TR=function(t){e._l(t.Gd)},e.SR=function(t){var n=t.Gd;e.ER(n)||e.pl(n)};for(var i=0;i<n.length;i++){var r=n[i];e.RR(r)}return e}Xi(n,t);var e=n.prototype;return e.RR=function(t){this.kR.push(t);for(var n=0,e=t.kl;n<e.length;n++){var i=e[n];this._l(i)}this.IR(t)},e.OR=function(t){Qa(this.kR,t),this.CR(t);for(var n=0,e=t.kl;n<e.length;n++){var i=e[n];this.ER(i)||this.pl(i)}},e.ER=function(t){for(var n=0,e=this.kR;n<e.length;n++){if(e[n].bl(t))return!0}return!1},e.IR=function(t){t.yo(xg.Vd,this.TR),t.yo(xg.qd,this.SR)},e.CR=function(t){t.bo(xg.Vd,this.TR),t.bo(xg.qd,this.SR)},e.kn=function(){for(;this.kR.length>0;)this.OR(this.kR[0]);t.prototype.kn.call(this)},e.Yd=function(){return Iy(this)},n}(Jg);function BS(t){return{get enabled(){return t.Al},set enabled(n){t.Al=ay(n)},get currentLatency(){return t.Jw},get streamConfiguration(){if(void 0!==t.NR)return function(t){return{get minimumOffset(){return t.qw},get maximumOffset(){return t.Ww},get targetOffset(){return t.zw},get forceSeekOffset(){return t.jw},get minimumPlaybackRate(){return t.Yw},get maximumPlaybackRate(){return t.Gw}}}(t.NR)},get configuration(){return function(t){return{get minimumOffset(){return t.qw},set minimumOffset(n){t.qw=cy(n)},get maximumOffset(){return t.Ww},set maximumOffset(n){t.Ww=cy(n)},get targetOffset(){return t.zw},set targetOffset(n){t.zw=cy(n)},get forceSeekOffset(){return t.jw},set forceSeekOffset(n){t.jw=cy(n)},get minimumPlaybackRate(){return t.Yw},set minimumPlaybackRate(n){t.Yw=cy(n)},get maximumPlaybackRate(){return t.Gw},set maximumPlaybackRate(n){t.Gw=cy(n)},update:function(n){t.kc(function(t){var n={};void 0!==t.minimumOffset&&(n.qw=cy(t.minimumOffset));void 0!==t.maximumOffset&&(n.Ww=cy(t.maximumOffset));void 0!==t.targetOffset&&(n.zw=cy(t.targetOffset));void 0!==t.forceSeekOffset&&(n.jw=cy(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.Yw=cy(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Gw=cy(t.maximumPlaybackRate));return n}(n))}}}(t.Nc)}}}ki(),Vt(),Ii(),ki(),Vt();var LS,FS=function(){function t(){this.DR={jw:0,Ww:0,Gw:0,qw:0,Yw:0,zw:0,kc:pr}}return Ri(t,[{key:"jd",get:function(){return null!=this.Wd||(this.Wd=BS(this)),this.Wd}},{key:"Al",get:function(){return!1},set:function(t){}},{key:"Jw",get:function(){}},{key:"NR",get:function(){}},{key:"Nc",get:function(){return this.DR}}]),t}();function MS(){return LS||(LS=mi&&mi.document&&mi.document.createElement("video")),LS}var US=function(t){function n(n,e,i,r,u,o,s){var a;return void 0===o&&(o=new NS),void 0===s&&(s=tl()),(a=t.call(this)||this).AR=void 0,a.PR=void 0,a.xR=void 0,a.LR=new DS,a.FR=new FS,a.MR=function(t){var n=t.Do,e=n.code,i=new Md(function(t){switch(t){case 1:return Ad.MEDIA_ABORTED;case 2:return Ad.NETWORK_ERROR;case 3:return Ad.MEDIA_DECODE_ERROR;case 4:return Ad.SOURCE_NOT_SUPPORTED;case 5:return Ad.CONTENT_PROTECTION_ERROR;case 6:return Ad.LICENSE_ERROR;case 7:return Ad.AD_ERROR}}(e),"Something went wrong during native playback.",n),r=new n_(e,i.message,n.message);a.UR(i,r)},a.HR=function(){a.lo(new _m(a.Dw,a.xg))},a.qR=function(t){a.Lw||(a.zR=void 0),a.lo(t)},a.WR=function(t){a.zR=void 0},a.jR=function(){a.lo(new R_(a.Lg))},a.YR=function(){a.Vw>0&&a.Uw>0&&a.lo(new Mb)},a.GR=function(t){a.ug._l(new w_(t.track))},a.XR=function(t){var n=HS(a.ug,t.track);n&&a.ug.pl(n)},a.$R=function(){a.KR(a.ug)},a.JR=function(t){a.og._l(new y_(t.track))},a.ZR=function(t){var n=HS(a.og,t.track);n&&a.og.pl(n)},a.QR=function(){a.KR(a.og)},a.tI=function(t){a.lo(t),a.UR(t.errorObject,i_(t.errorObject))},a.nI=e,a.nS=i,a.qu=s,a.eI=a.nI.wn(r_.yv),a.iI=a.eI.rI.preload,a.uI=new Kb(a.eI,!0),a.uI.yo(wm,a.do),a.oI=new AS(i,o),a.eI.sI=a.oI,a.aI(),a.ug=new o_,a.og=new o_,a.cI(),a.fI=new Nb(a.eI,a.nS),a.sg=new xS([a.eI.dg]),a.Tg(),a}Xi(n,t);var e=n.prototype;return e.Sg=function(){this.eI.Sg()},e.Tg=function(){this.eI.Tg()},e.yg=function(t,n,e){var i=this;return ta((function(){var r;return ea(this,(function(u){switch(u.label){case 0:return sc(e),r={xu:Lb.aS,Jl:t.src,Bh:t.type,hI:i.vI(t),Yg:i.iI,dI:t.crossOrigin,lI:n.metadata&&n.metadata.title},i.oI.mR(t.contentProtection),[4,i.eI._c(r)];case 1:return i.AR=u.sent(),sc(e),n.textTracks&&i.wI(n.textTracks),Bb(i.dg),[2]}}))}))()},e.wI=function(t){for(var n=0;n<t.length;n++){var e=t[n];if(this.eI.gI()&&sr.Ve&&jb&&!bb(e.kind,e.label)&&this.yI(e)){var i,r=null!=(i=e.kind)?i:db.bp;this.eI.mI(e.src,r,e.label,e.srclang,e.default)}else{if(void 0===e.src)continue;this.fI.eS(e)}}},e.yI=function(t){return!t.format||"webvtt"===t.format},e.gn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.eI.gn()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t._I?[3,5]:[4,t.eI.Eo(ol.rh)];case 4:return n.sent(),[3,3];case 5:return[2]}}))}))()},e.yn=function(){this.eI.yn()},e.mg=function(){return void 0!==this.eI.rI.webkitShowPlaybackTargetPicker},e._g=function(){this.eI.rI.webkitShowPlaybackTargetPicker&&this.eI.rI.webkitShowPlaybackTargetPicker()},e.pg=function(){this.eI.rI.webkitShowPlaybackTargetPicker&&this.eI.rI.webkitShowPlaybackTargetPicker()},e.Eg=function(){return this.eI.rI},e.Rg=function(){return this.eI.pI},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.PR=void 0,t.xR=void 0,t.AR=void 0,[4,t.fI.Bc()];case 1:return n.sent(),t.eI.bI(),[4,t.eI.Bc()];case 2:return n.sent(),t.uI.Bc(),t.Yg=t.iI,t.hg.Bc(),t.vg.Bc(),t.zR=void 0,[2]}}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.Bc()];case 1:return n.sent(),t.po(),t.kI(),t.TI(),t.uI.kn(),t.eI.sI=void 0,[4,t.nI.pn(t.eI)];case 2:return n.sent(),t.ug.kn(),t.og.kn(),t.sg.kn(),[4,t.fI.kn()];case 3:return n.sent(),[2]}}))}))()},e.aI=function(){this.eI.yo(ol.ih,this.do),this.eI.yo(ol.eh,this.do),this.eI.yo(ol.mh,this.HR),this.eI.yo(ol.rh,this.do),this.eI.yo(ol.Jf,this.do),this.eI.yo(ol.fh,this.do),this.eI.yo(ol.ah,this.qR),this.eI.yo(ol.Xf,this.do),this.eI.yo(ol.uh,this.do),this.eI.yo(ol._h,this.do),this.eI.yo(ol.Yf,this.do),this.eI.yo(ol.sh,this.YR),this.eI.yo(vm.Nw,this.WR),this.eI.yo(ky.Vl,this.MR),this.eI.yo(ol.zf,this.do),this.eI.yo(ol.qf,this.tI),this.eI.rI.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.jR)},e.kI=function(){this.eI.bo(ol.ih,this.do),this.eI.bo(ol.eh,this.do),this.eI.bo(ol.mh,this.HR),this.eI.bo(ol.rh,this.do),this.eI.bo(ol.Jf,this.do),this.eI.bo(ol.fh,this.do),this.eI.bo(ol.ah,this.qR),this.eI.bo(ol.Xf,this.do),this.eI.bo(ol.uh,this.do),this.eI.bo(ol._h,this.do),this.eI.bo(ol.Yf,this.do),this.eI.bo(ol.sh,this.YR),this.eI.bo(vm.Nw,this.WR),this.eI.bo(ky.Vl,this.MR),this.eI.bo(ol.zf,this.do),this.eI.bo(ol.qf,this.tI),this.eI.rI.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.jR)},e.vI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Cc:Na,SI:[{initDataTypes:[Na.Lu],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.cI=function(){var t=this.eI.rI.audioTracks,n=this.eI.rI.videoTracks;t&&(t.addEventListener("addtrack",this.GR),t.addEventListener("removetrack",this.XR),t.addEventListener("change",this.$R)),n&&(n.addEventListener("addtrack",this.JR),n.addEventListener("removetrack",this.ZR),n.addEventListener("change",this.QR))},e.TI=function(){var t=this.eI.rI.audioTracks,n=this.eI.rI.videoTracks;t&&(t.removeEventListener("addtrack",this.GR),t.removeEventListener("removetrack",this.XR),t.removeEventListener("change",this.$R)),n&&(n.removeEventListener("addtrack",this.JR),n.removeEventListener("removetrack",this.ZR),n.removeEventListener("change",this.QR))},e.KR=function(t){for(var n=0;n<t.Tl;n++){t.ml(n).iy()}},e.Ag=function(){this.eI.Ag()},e.UR=function(t,n){this.PR||(this.PR=n,this.xR=t,this.lo(new Om(t)))},Ri(n,[{key:"_I",get:function(){var t=this.eI.Pg,n=this.Dw;return t.EI(n,.01)}},{key:"hg",get:function(){return this.ug}},{key:"Pg",get:function(){return this.eI.Pg.RI()}},{key:"xg",get:function(){return this.eI.xg},set:function(t){t&&this.eI.II(t)}},{key:"Dw",get:function(){return void 0!==this.zR?this.zR:this.eI.Dw},set:function(t){this.Lg&&(this.zR=t),this.eI.Yo(t)}},{key:"Aw",get:function(){return this.eI.Aw}},{key:"Pw",get:function(){return this.eI.Pw}},{key:"Do",get:function(){return this.PR}},{key:"xw",get:function(){return this.xR}},{key:"lg",get:function(){}},{key:"Lg",get:function(){return this.eI.Lg}},{key:"Fg",get:function(){return na({},{Mg:0,Ug:0,Vg:0,Hg:0,qg:0,zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.eI.OI())}},{key:"Bw",get:function(){return this.eI.Bw},set:function(t){this.eI.Bw=t}},{key:"Wg",get:function(){return!0}},{key:"Lw",get:function(){return this.eI.Lw}},{key:"Fw",get:function(){return this.eI.Fw},set:function(t){this.eI.Fw=t}},{key:"jg",get:function(){return this.eI.rI.played}},{key:"Yg",get:function(){return this.iI},set:function(t){this.iI=t,this.AR&&(this.AR.Yg=t)}},{key:"Xl",get:function(){return this.eI.Xl}},{key:"Gg",get:function(){return this.eI.Gg.RI()}},{key:"Mw",get:function(){return this.eI.Mw}},{key:"CI",get:function(){return this.eI.CI}},{key:"dg",get:function(){return this.sg}},{key:"vg",get:function(){return this.og}},{key:"Uw",get:function(){return this.eI.Uw}},{key:"Vw",get:function(){return this.eI.Vw}},{key:"Hw",get:function(){return this.eI.Hw},set:function(t){this.eI.Hw=t}},{key:"Xg",get:function(){return this.FR}},{key:"$g",get:function(){return this.eI.$g},set:function(t){this.eI.$g=t}},{key:"NI",get:function(){return this.LR}}]),n}(Cy);var VS=function(){function t(){this.DI=IS.dR}var n=t.prototype;return n.sE=function(t,n,e,i,r,u){return new US(t,n,e,i,r)},n.AI=function(t,n){return function(t){return!t.type||!(!MS().canPlayType||!MS().canPlayType(t.type))}(t)},n.xI=function(){return!1},t}();function HS(t,n){for(var e=0,i=t.kl;e<i.length;e++){var r=i[e];if(r.sy===n)return r}}var qS=function(){function t(){this.BI=new VS,this.LI=[]}var n=t.prototype;return n.FI=function(t){this.LI.push(t)},n.sE=function(t,n,e,i,r,u){for(var o=this.BI.sE(t,n,e,i,r,u),s=0,a=this.LI;s<a.length;s++){o=(0,a[s])(o,e,i)}return o},n.AI=function(t,n){return this.BI.AI(t,n)},n.xI=function(){return!1},t.MI=function(){return this._i},Ri(t,[{key:"DI",get:function(){return this.BI.DI}}]),t}();function zS(t,n){return Ga(t.DI,n.DI)}qS._i=new qS,ki(),Vt(),ki(),Vt();var WS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UI=qS.MI(),n}Xi(n,t);var e=n.prototype;return e.VI=function(t){this.UI=t},e.HI=function(){return this.UI},e.qI=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:i=0,c.label=1;case 1:return i<t.length?(r=t[i],[4,e.zI(r,n)]):[3,4];case 2:if(u=c.sent())return[2,{WI:r,jI:u}];c.label=3;case 3:return i++,[3,1];case 4:for(o=e.UI,s=0;s<t.length;s++)if(a=t[s],o.AI(a,n))return[2,{WI:a,jI:o}];return[2,{WI:t[0],jI:o}]}}))}))()},n}(function(){function t(){this.YI=[]}var n=t.prototype;return n.GI=function(t){this.YI.push(t),this.YI.sort(zS)},n.zI=function(t,n){var e=this;return ta((function(){var i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:i=0,r=e.YI,a.label=1;case 1:return i<r.length?(u=r[i],mr(o=u.AI(t,n))?[4,o]:[3,3]):[3,6];case 2:return s=a.sent(),[3,4];case 3:s=Boolean(o),a.label=4;case 4:if(s)return[2,u];a.label=5;case 5:return i++,[3,1];case 6:return[2,void 0]}}))}))()},t}());WS._i=new WS,Ti(),ki(),Vt(),Ti();var jS,YS,GS=function(){function t(t){var n,e;this.XI=mi&&mi.document&&mi.document.createElement("div"),n=this.XI,(e=n.style).position="absolute",e.left="0",e.right="0",e.top="0",e.bottom="0",e.width="100%",e.height="100%",t.appendChild(this.XI)}return t.prototype.kn=function(){Ns(this.XI)},t}();function XS(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";case"none":default:return"none"}}ki(),Vt(),Ii(),ki(),Vt(),(YS=jS||(jS={})).dR="",YS.$I="none",YS.Tp="metadata",YS.KI="auto";var $S=[ky.Vl,ol.Gf,ol.Ao,ol.kh,ol.Mf,ol.$f,ol.th,ol.nh,ol.dh,ol.wh,vm.Ew,vm.Rw,vm.Iw,vm.Ow,vm.al,vm.Cw,vm.Nw,ol.qf,ol.zf,ol.Yf,ol.Xf,ol.Jf,ol.Zf,ol.ih,ol.rh,ol.eh,ol.uh,ol.sh,ol.fh,ol.ah,ol.mh,ol._h,ol.oh,ol.Qf,ol.hh],KS=function(t){function n(n,e){var i;return(i=t.call(this)||this).JI=void 0,i.ZI=void 0,i.iI=jS.$I,i.QI=void 0,i.tO=!0,i.ug=new Ty,i.og=new Ty,i.sg=new Oy,i.ag=new Km,i.nO=n,i.eO=e,i.eO.Yg=i.Yg,i.iO(),i}Xi(n,t);var e=n.prototype;return e.yn=function(){this.eO.yn()},e.gn=function(){var t=this.eO.gn();mr(t)&&lc(t)},e.wg=function(){return this.yg(void 0)},e.En=function(){},e.Og=function(t){return!1},e.iO=function(){this.ug.Cl=this.eO.hg,this.og.Cl=this.eO.vg,this.sg.Cl=this.eO.dg,this.ag.Cl=this.eO.lg,this.eO.yo($S,this.do)},e.rO=function(){this.eO.bo($S,this.do),this.ug.Cl=void 0,this.og.Cl=void 0,this.sg.Cl=void 0,this.ag.Cl=void 0},e.gg=function(){return this.QI},e.yg=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return sc(n),e.QI=t,t?rm(i=t.sources.filter(cm))?[2]:[4,e.nO.qI(i,t)]:[2];case 1:return r=c.sent(),sc(n),u=r.WI,o=r.jI,s=e.Rg(),a=xm(e),e.JI!==o||e.Do?(e.rO(),[4,e.eO.kn()]):[3,3];case 2:c.sent(),sc(n),e.JI=o,e.eO=e.uO(o),function(t,n){t.Bw!==n.Bw&&(t.Bw=n.Bw);t.Hw!==n.Hw&&(t.Hw=n.Hw);t.Fw!==n.Fw&&(t.Fw=n.Fw)}(e.eO,a),Bm(e,a,e),e.iO(),c.label=3;case 3:return e.eO.Yg=e.Yg,e.tO?e.eO.Tg():e.eO.Sg(),[4,e.eO.yg(u,t,n)];case 4:return c.sent(),sc(n),e.oO(u),e.Rg()!==s&&e.lo(new Dy),[2]}}))}))()},e.oO=function(t){this.ZI!==t&&(this.ZI=t,this.lo(new Ay(t)))},e.mg=function(){return this.eO.mg()},e._g=function(){this.eO._g()},e.pg=function(){this.eO.pg()},e.Rg=function(){return this.eO.Rg()},e.Ag=function(){this.eO.Ag()},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.QI=void 0,t.oO(void 0),[4,t.eO.Bc()];case 1:return n.sent(),[2]}}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.po(),[4,t.Bc()];case 1:return n.sent(),[4,t.eO.kn()];case 2:return n.sent(),t.ug.kn(),t.og.kn(),t.sg.kn(),t.ag.kn(),[2]}}))}))()},e.Tg=function(){this.tO=!0,this.eO.Tg()},e.Sg=function(){this.tO=!1,this.eO.Sg()},Ri(n,[{key:"hg",get:function(){return this.ug}},{key:"Pg",get:function(){return this.eO.Pg}},{key:"Do",get:function(){return this.eO.Do}},{key:"xw",get:function(){return this.eO.xw}},{key:"xg",get:function(){return this.eO.xg},set:function(t){this.eO.xg=t}},{key:"Dg",get:function(){return this.ZI}},{key:"Dw",get:function(){return this.eO.Dw},set:function(t){this.eO.Dw=t}},{key:"Aw",get:function(){return this.eO.Aw}},{key:"Pw",get:function(){return this.eO.Pw}},{key:"lg",get:function(){return this.ag}},{key:"Lg",get:function(){return this.eO.Lg}},{key:"Fg",get:function(){return this.eO.Fg}},{key:"Bw",get:function(){return this.eO.Bw},set:function(t){this.eO.Bw=t}},{key:"Wg",get:function(){return this.eO.Wg}},{key:"Lw",get:function(){return this.eO.Lw}},{key:"Fw",get:function(){return this.eO.Fw},set:function(t){this.eO.Fw=t}},{key:"jg",get:function(){return this.eO.jg}},{key:"Yg",get:function(){return this.iI},set:function(t){this.iI=t,this.eO&&(this.eO.Yg=this.iI)}},{key:"Xl",get:function(){return this.eO.Xl}},{key:"Gg",get:function(){return this.eO.Gg}},{key:"Mw",get:function(){return this.eO.Mw}},{key:"dg",get:function(){return this.sg}},{key:"Uw",get:function(){return this.eO.Uw}},{key:"vg",get:function(){return this.og}},{key:"Vw",get:function(){return this.eO.Vw}},{key:"Hw",get:function(){return this.eO.Hw},set:function(t){this.eO.Hw=t}},{key:"Xg",get:function(){return this.eO.Xg}},{key:"NI",get:function(){return this.eO.NI}}]),n}(pc);ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),Ii();var JS,ZS,QS=function(t){function n(n,e){var i;return(i=t.call(this)||this).Tl=n.length>>1,i.sO=n,i.aO=e||function(t){for(var n=new Array(2*t),e=0,i=0;e<t;e+=1,i+=2)n[i]=!0,n[i+1]=!1;return n}(i.Tl),i}Xi(n,t);var e=n.prototype;return e.cO=function(t){return this.sO[2*t]},e.fO=function(t){return this.aO[2*t]},e.hO=function(t){return this.sO[2*t+1]},e.vO=function(t){return this.aO[2*t+1]},Ri(n,[{key:"dO",get:function(){return this.sO.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Ny=function(t,n){return 0===this.Jy(t,n)},n.bm=function(t,n){return this.Jy(t,n)>0},n.km=function(t,n){return this.Jy(t,n)>=0},n.im=function(t,n){return this.Jy(t,n)<0},n.tm=function(t,n){return this.Jy(t,n)<=0},n.Km=function(t,n){return this.im(t,n)?t:n},n.$m=function(t,n){return this.bm(t,n)?t:n},n.lO=function(t,n,e){return e?this.tm(t,n):this.im(t,n)},n.RI=function(){var t=this;return{get length(){return t.Tl},start:function(n){var e=0|n;return t.wO(e),t.gO(t.cO(e))},end:function(n){var e=0|n;return t.wO(e),t.gO(t.hO(e))}}},n.yO=function(){for(var t=new Array(2*this.Tl),n=new Array(2*this.Tl),e=0;e<this.Tl;e++)t[2*e]=this.cO(e),t[2*e+1]=this.hO(e),n[2*e]=!0,n[2*e+1]=!0;return this.mO(t,n)},n.wO=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.Tl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.Tl+")")},n._O=function(t){if(0===this.Tl)return this.pO();if(this.EI(t))return t;if(this.tm(t,this.cO(0)))return this.cO(0);if(this.km(t,this.hO(this.Tl-1)))return this.hO(this.Tl-1);for(var n,e=this.bO(),i=0;i<this.Tl;i++){var r=this.cO(i),u=this.nm(r,t);this.im(u,e)&&(n=r,e=u);var o=this.hO(i),s=this.nm(this.hO(i),t);this.im(s,e)&&(n=o,e=s)}return n},n.kO=function(t){for(var n=0,e=0,i=[],r=[];n<this.Tl&&e<t.Tl;){var u=this.cO(n),o=this.hO(n),s=this.fO(n),a=this.vO(n),c=t.cO(e),f=t.hO(e),h=t.fO(e),v=t.vO(e),d=this.$m(u,c),l=this.Km(o,f),w=void 0;w=this.Ny(u,c)?s&&h:this.Ny(d,u)?s:h;var g=void 0;g=this.Ny(o,f)?a&&v:this.Ny(l,o)?a:v,(this.im(d,l)||w&&g&&this.Ny(d,l))&&(i.push(d,l),r.push(w,g));var y=this.Jy(this.hO(n),t.hO(e));0===y?(n+=1,e+=1):y<0?n+=1:e+=1}return this.mO(i,r)},n.TO=function(){var t=this.SO(),n=t.Tl;if(0===n)return this.mO([t.EO(),t.bO()],[!1,!1]);var e=[],i=[],r=t.cO(0);t.Ny(r,t.EO())||(e.push(t.EO(),r),i.push(!1,!t.fO(0)));for(var u=0;u<n-1;u++)e.push(t.hO(u),t.cO(u+1)),i.push(!t.vO(u),!t.fO(u+1));var o=t.hO(n-1);return t.Ny(o,t.bO())||(e.push(o,t.bO()),i.push(!t.vO(n-1),!1)),t.mO(e,i)},n.RO=function(t){for(var n=0,e=0,i=this.Tl,r=t.Tl,u=new Array(2*(i+r)),o=new Array(2*(i+r)),s=0;n<i&&e<r;){var a=this.cO(n),c=this.hO(n),f=t.cO(e),h=t.hO(e);this.im(a,f)||this.Ny(a,f)&&this.im(c,h)?(u[s]=a,u[s+1]=c,o[s]=this.fO(n),o[s+1]=this.vO(n),n++):(u[s]=f,u[s+1]=h,o[s]=t.fO(e),o[s+1]=t.vO(e),e++),s+=2}for(;n<i;)u[s]=this.cO(n),u[s+1]=this.hO(n),o[s]=this.fO(n),o[s+1]=this.vO(n),n++,s+=2;for(;e<r;)u[s]=t.cO(e),u[s+1]=t.hO(e),o[s]=t.fO(e),o[s+1]=t.vO(e),e++,s+=2;return this.mO(u,o)},n.IO=function(t){void 0===t&&(t=this.pO());var n=this.Tl;if(n<2)return this;for(var e=[],i=[],r=this.cO(0),u=this.hO(0),o=this.fO(0),s=this.vO(0),a=1;a<n;a++){var c=this.cO(a),f=this.hO(a),h=this.fO(a),v=this.vO(a);this.im(r,c)&&this.bm(u,f)||(this.Ny(r,c)&&(o=h=o||h),this.Ny(u,f)&&(s=v=s||v),this.lO(c,this.Jg(u,t),s||h)?(u=f,s=v):(e.push(r,u),i.push(o,s),r=c,u=f,o=h,s=v))}return e.push(r,u),i.push(o,s),this.mO(e,i).SO()},n.SO=function(){for(var t=[],n=[],e=0;e<this.Tl;e++){var i=this.cO(e),r=this.hO(e),u=this.fO(e),o=this.vO(e);this.Ny(i,r)?(u||o)&&(t.push(i,r),n.push(!0,!0)):(t.push(i,r),n.push(u,o))}return this.mO(t,n)},n.OO=function(t){return this.Tl?t.Tl?this.RO(t).IO():this:t},n.CO=function(t){var n=this.SO(),e=t.SO(),i=n.TO(),r=e.TO(),u=i.kO(e),o=r.kO(n);return u.OO(o)},n.jo=function(t){if(this.Ny(t,this.pO()))return this;for(var n=[],e=[],i=0;i<this.Tl;i++){var r=this.Jg(this.cO(i),t),u=this.Jg(this.hO(i),t);n.push(r,u),e.push(this.fO(i),this.vO(i))}return this.mO(n,e)},n.DO=function(t){return 0===this.Tl||0===t.Tl?this:this.SO().kO(t.SO().TO())},n.EI=function(t,n){return this.AO(t,n)>=0},n.PO=function(t,n,e,i,r){return this.xO(t,n,e,i,r)>=0},n.BO=function(t,n,e,i,r){return this.LO(t,n,e,i,r)>=0},n.FO=function(t){if(t.Tl!==this.Tl)return!1;for(var n=0;n<this.Tl;n++)if(!this.Ny(this.cO(n),t.cO(n))||!this.Ny(this.hO(n),t.hO(n))||this.fO(n)!==t.fO(n)||this.vO(n)!==t.vO(n))return!1;return!0},n.MO=function(t){for(var n=[],e=[],i=0;i<this.Tl;i++){var r=this.cO(i),u=this.hO(i),o=this.fO(i),s=this.vO(i);t(r,u,o,s)&&(n.push(r,u),e.push(o,s))}return this.mO(n,e)},n.LO=function(t,n,e,i,r){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===r&&(r=this.pO());for(var u=this.sm(t,r),o=this.Jg(n,r),s=0;s<this.Tl;s+=1)if(this.lO(this.cO(s),o,!i||this.fO(s))&&this.lO(u,this.hO(s),!e||this.vO(s)))return s;return-1},n.xO=function(t,n,e,i,r){void 0===e&&(e=!0),void 0===i&&(i=!1),void 0===r&&(r=this.pO());for(var u=this.Jg(t,r),o=this.sm(n,r),s=0;s<this.Tl;s+=1)if(this.lO(this.cO(s),u,!e||this.fO(s))&&this.lO(o,this.hO(s),!i||this.vO(s)))return s;return-1},n.AO=function(t,n){return this.xO(t,t,!0,!0,n)},n.UO=function(t,n){void 0===n&&(n=this.pO());for(var e=this.Jg(t,n),i=this.Tl-1;i>=0;i-=1)if(this.lO(this.cO(i),e,this.fO(i)))return i;return-1},n.VO=function(t,n){void 0===n&&(n=this.pO());for(var e=this.sm(t,n),i=0;i<this.Tl;i+=1)if(this.lO(e,this.hO(i),this.vO(i)))return i;return-1},n.HO=function(t){return this.wO(t),this.mO([this.cO(t),this.hO(t)],[this.fO(t),this.vO(t)])},n.qO=function(t,n){var e=this.AO(t,n);return e<0?void 0:this.HO(e)},Ri(t,[{key:"zO",get:function(){for(var t=this.pO(),n=0;n<this.Tl;n++){var e=this.sm(this.hO(n),this.cO(n));t=this.Jg(t,e)}return t}}]),t}()),tE=function(t){function n(n,e){return t.call(this,n,e)}Xi(n,t);var e=n.prototype;return e.Jy=function(t,n){return t<n?qa.Gu:t===n?qa.ju:qa.Yu},e.Jg=function(t,n){return t+n},e.sm=function(t,n){return t-n},e.nm=function(t,n){return d.abs(t-n)},e.pO=function(){return 0},e.bO=function(){return 1/0},e.EO=function(){return-1/0},e.mO=function(t,e){return new n(t,e)},e.gO=function(t){return t},n.WO=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t.start(i),t.end(i));return new n(e)},n.jO=function(t){for(var e=[],i=[],r=0;r<t.Tl;r++)e.push(t.cO(r).Jm),e.push(t.hO(r).Jm),i.push(t.fO(r)),i.push(t.vO(r));return new n(e,i)},n.YO=function(t){return new n([t,t],[!0,!0])},n.GO=function(){return nE},n}(QS),nE=new tE([]);ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),(ZS=JS||(JS={})).ol="fullscreenchange",ZS.XO="fullscreensupportchange",ZS.Vl="fullscreenerror";var eE=function(t){function n(){return t.call(this,JS.Vl)}return Xi(n,t),n}(Sc),iE=new(function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.gy=function(){this.lo(new eE)},e.my=function(){},e.kn=function(){this.po()},Ri(n,[{key:"$O",get:function(){return!1}},{key:"KO",get:function(){return!1}}]),n}(pc)),rE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).nI=void 0,n.eI=void 0,n}Xi(n,t);var e=n.prototype;return e.Eg=function(){var t;return null==(t=this.eI)?void 0:t.rI},e.kn=function(){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return e.sent(),n.eI?[4,n.nI.pn(n.eI)]:[3,3];case 2:e.sent(),n.eI=void 0,e.label=3;case 3:return[2]}}))}))()},Ri(n,[{key:"JO",set:function(t){this.nI=t,this.eI=t.wn(r_.yv)}}]),n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ZO=0,n.QO=!1,n.tC=!0,n.nC=1,n.eC=!1,n.ca=1,n.hg=new o_,n.Pg=tE.GO().RI(),n.Aw=NaN,n.Pw=!1,n.Do=void 0,n.xw=void 0,n.lg=void 0,n.Lg=!1,n.Wg=!0,n.jg=tE.GO().RI(),n.Yg=jS.$I,n.Xl=Yy.pw,n.Gg=tE.GO().RI(),n.CI=void 0,n.dg=new wb,n.Uw=0,n.vg=new o_,n.Vw=0,n.Xg=new FS,n.LR=new DS,n}Xi(n,t);var e=n.prototype;return e.Tg=function(){},e.Sg=function(){},e.gn=function(){this.tC&&(this.tC=!1,this.lo(new lm(this.Dw)),this.lo(new Xb(this.Dw)))},e.yn=function(){this.tC||(this.tC=!0,this.lo(new _m(this.Dw,this.xg)),this.lo(new hm(this.Dw)))},e.yg=function(t,n){return Y.resolve()},e.mg=function(){return!1},e._g=function(){},e.pg=function(){},e.Rg=function(){return iE},e.Ag=function(){},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.ZO=0,t.eC=!1,t.yn(),t.lo(new fm(t.ZO)),[2]}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.po(),t.hg.kn(),t.dg.kn(),t.vg.kn(),[2]}))}))()},Ri(n,[{key:"xg",get:function(){},set:function(t){}},{key:"Dw",get:function(){return this.ZO},set:function(t){this.ZO!==t&&(this.ZO=t,this.eC=!0,this.lo(new km(this.Dw)))}},{key:"Fg",get:function(){return{Mg:0,Ug:0,Vg:0,Hg:0,qg:0,zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Bw",get:function(){return this.QO},set:function(t){this.QO!==t&&(this.QO=t,this.lo(new Sm(this.Dw,this.Hw)))}},{key:"Lw",get:function(){return this.tC}},{key:"Fw",get:function(){return this.nC},set:function(t){this.nC!==t&&(this.nC=t,this.lo(new mm(this.Dw,this.Fw)))}},{key:"Mw",get:function(){return this.eC}},{key:"Hw",get:function(){return this.ca},set:function(t){this.ca!==t&&(this.ca=t,this.lo(new Sm(this.Dw,this.Hw)))}},{key:"$g",get:function(){return!1},set:function(t){}},{key:"NI",get:function(){return this.LR}}]),n}(pc)),uE=function(t){function n(n,e,i,r,u,o){var s,a=new rE;return(s=t.call(this,WS._i,a)||this).iC=n,s.nf=e,s.nS=i,s.rC=r,s.uC=o,s.oC=new wi(u,s.uC),s.oC.bn(s.iC),a.JO=s.oC,s.sC=new GS(s.iC),s}Xi(n,t);var e=n.prototype;return e.En=function(){t.prototype.En.call(this),this.oC.ln()},e.bg=function(t){var n,e,i,r;n=this,i=(e=t).Hw,r=e.Bw,n.Hw=i,n.Bw=r},e.kg=function(){},e.uO=function(t){return t.sE(this.iC,this.oC,this.nS,this.nf,this.rC,this.uC)},e.Eg=function(){return this.eO.Eg()},e.Ig=function(){return this.oC.dn.map((function(t){return t.rI}))},e._o=function(n){t.prototype._o.call(this,n)},e.So=function(n){t.prototype.So.call(this,n)},e.kn=function(){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return e.sent(),n.oC.kn(),n.sC.kn(),[2]}}))}))()},Ri(n,[{key:"Bg",get:function(){return this.iC}},{key:"$g",get:function(){return this.eO.$g},set:function(t){this.eO.$g=t}}]),n}(KS);ki(),Vt(),Ii(),ki(),Vt();var oE=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).FR=new FS,r.iC=n,r.aC=e,r.cC=new o_,r.fC=new wb,r.hC=i,r}Xi(n,t);var e=n.prototype;return e.Og=function(t){return!0},e.Sg=function(){},e.gn=function(){throw this.lo(new Om(this.hC)),this.aC},e.yn=function(){},e.gg=function(){},e.yg=function(t,n){var e=this;return ta((function(){return ea(this,(function(t){throw sc(n),e.lo(new Om(e.hC)),e.aC}))}))()},e.Tg=function(){},e.wg=function(){return Y.resolve()},e.Eg=function(){},e.Rg=function(){return iE},e.Ig=function(){return[]},e.En=function(){},e.bg=function(t){},e.kg=function(){},e.mg=function(){return!1},e._g=function(){},e.pg=function(){},e.Ag=function(){},e.Bc=function(){return Y.resolve()},e.kn=function(){return this.po(),this.cC.kn(),this.fC.kn(),Y.resolve()},Ri(n,[{key:"hg",get:function(){return this.cC}},{key:"Pg",get:function(){return tE.GO().RI()}},{key:"xg",get:function(){return new Date(NaN)},set:function(t){}},{key:"Dg",get:function(){}},{key:"Dw",get:function(){return 0},set:function(t){}},{key:"Aw",get:function(){return 0}},{key:"Bg",get:function(){return this.iC}},{key:"Pw",get:function(){return!0}},{key:"Do",get:function(){return this.aC}},{key:"xw",get:function(){return this.hC}},{key:"lg",get:function(){}},{key:"Fg",get:function(){return{Mg:0,Ug:0,Vg:0,Hg:0,qg:0,zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Bw",get:function(){return!1},set:function(t){}},{key:"Wg",get:function(){return!0}},{key:"Lw",get:function(){return!0}},{key:"Fw",get:function(){return 0},set:function(t){}},{key:"jg",get:function(){return tE.GO().RI()}},{key:"Yg",get:function(){return jS.$I},set:function(t){}},{key:"Xl",get:function(){return Yy.pw}},{key:"Gg",get:function(){return tE.GO().RI()}},{key:"Mw",get:function(){return!1}},{key:"dg",get:function(){return this.fC}},{key:"Uw",get:function(){return 0}},{key:"vg",get:function(){return this.cC}},{key:"Vw",get:function(){return 0}},{key:"Hw",get:function(){return 1},set:function(t){}},{key:"Xg",get:function(){return this.FR}},{key:"$g",get:function(){return!1},set:function(t){}},{key:"Lg",get:function(){return!1}}]),n}(Ny);function sE(t){if(t&&lr(t))return na({},t,{integration:aE(t.integration),fairplay:lE(t.fairplay),widevine:cE(t.widevine),playready:fE(t.playready),clearkey:wE(t.clearkey),aes128:gE(t.aes128),integrationParameters:yE(t.integrationParameters),preferredKeySystems:mE(t.preferredKeySystems)})}function aE(t){if(gr(t))return t}function cE(t){if(t&&lr(t))return{persistentState:hE(t.persistentState),distinctiveIdentifier:hE(t.distinctiveIdentifier),audioRobustness:vE(t.audioRobustness),videoRobustness:vE(t.videoRobustness),licenseAcquisitionURL:gr(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:dE(t.licenseType),headers:t.headers,useCredentials:!!yr(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:gr(t.certificate)||Rf(t.certificate)?t.certificate:void 0}}function fE(t){if(t){var n=cE(t);if(n)return na({},n,{customData:gr(t.customData)?t.customData:void 0})}}function hE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function vE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function dE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function lE(t){if(t){var n=cE(t);if(n)return na({},n,{certificateURL:gr(t.certificateURL)?t.certificateURL:void 0})}}function wE(t){if(t){var n=cE(t);if(n)return na({},n,{keys:vr(t.keys)?t.keys.map((function(t){return function(t){if(!t||!lr(t))return;var n=t.id,e=t.value;if(!gr(n)||!gr(e))return;return{id:n,value:e}}(t)})).filter(fr):void 0})}}function gE(t){if(lr(t))return{useCredentials:yr(t.useCredentials)?t.useCredentials:void 0}}function yE(t){if(lr(t))return t}function mE(t){return t&&vr(t)?t.map((function(t){return Wk(t)})).filter(fr):[ka,_a,Ra]}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var _E=function(t){function n(n){var e;return(e=t.call(this,"presentationmodechange")||this).presentationMode=n,e}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt();var pE,bE,kE=function(t){function n(n,e){var i;return void 0===e&&(e=!1),(i=t.call(this,n)||this).vC=[],i.dC=function(t){dc((function(){i.do(t)}))},i.lC=e?i.dC:i.do,i}Xi(n,t);var e=n.prototype;return e.wC=function(t){t._o(this.lC),this.vC.push(t)},e.gC=function(t){t.So(this.lC),Qa(this.vC,t)},e.kn=function(){this.po();for(var t=0,n=this.vC;t<n.length;t++){n[t].So(this.lC)}ec(this.vC)},n}(Cy),TE=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n}(kE);(bE=pE||(pE={})).INLINE="inline",bE.FULLSCREEN="fullscreen",bE.PICTURE_IN_PICTURE="picture-in-picture";var SE,EE,RE=function(t){function n(n){var e;return(e=t.call(this)||this).yC=!1,e.mC=!1,e.Wd=void 0,e._C=function(){return e.pC()},e.bC=function(){return e.kC()},e.TC=n,e.SC=e.EC=e.RC=e.IC="inline",e.TC.yo(JS.ol,e._C),e.TC.yo(JS.Vl,e.bC),e.OC(),e}Xi(n,t);var e=n.prototype;return e.Yd=function(){return t=this,e={get currentMode(){return t.CC()},requestMode:function(n){var e=OE(n);e&&t.NC(e)},supportsMode:function(n){var e=OE(n);return!!e&&t.DC(e)},addEventListener:function(t,e){n.yo(t,e)},removeEventListener:function(t,e){n.bo(t,e)}},(n=new kE(e,!0)).wC(t),e;var t,n,e},e.NC=function(t){this.AC(t,t)},e.AC=function(t,n){this.EC!==n&&(this.yC=!0,this.SC=t,this.xC(n,this.EC),"fullscreen"!==t&&(this.RC=t),this.yC=!1,this.OC())},e.CC=function(){return this.mC?"fullscreen":"inline"},e.DC=function(t){switch(t){case"fullscreen":return this.TC.KO;case"inline":return!0}return!1},e.OC=function(){if(!this.yC){var t=this.EC,n=this.CC();this.EC=n,"fullscreen"!==n&&(this.IC=n),t!==n&&this.lo(new _E(n))}},e.xC=function(t,n){var e="fullscreen"===t;this.mC=e,e!==this.TC.$O&&(e?this.TC.gy():this.TC.my())},e.pC=function(){if(!this.yC){var t=this.TC.$O;this.mC=t,t?this.AC("fullscreen","fullscreen"):t||"fullscreen"!==this.SC?this.OC():this.AC(this.RC,this.IC)}},e.kC=function(){this.pC(),this.lo(new Om(new Md(Ad.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.kn=function(){this.TC.kn(),this.po()},Ri(n,[{key:"jd",get:function(){return this.Wd||(this.Wd=this.Yd()),this.Wd}}]),n}(Cy),IE={Dw:0,Aw:NaN,Pw:!1,Do:void 0,xw:void 0,Bw:!1,Lw:!0,Fw:1,Xl:Yy.pw,Mw:!1,Uw:0,Vw:0,Hw:1};function OE(t){switch(t){case pE.INLINE:case pE.FULLSCREEN:case pE.PICTURE_IN_PICTURE:return t;default:return}}ki(),Vt(),Ii(),(EE=SE||(SE={})).DEFAULT="",EE.THEO="theo",EE.GOOGLE_IMA="google-ima",EE.SPOTX="spotx",EE.FREEWHEEL="freewheel",EE.MEDIATAILOR="mediatailor";var CE,NE,DE,AE,PE,xE,BE,LE,FE,ME,UE,VE,HE,qE,zE,WE=function(){function t(){this.BC=[]}var n=t.prototype;return n.LC=function(t){var n=this.FC.filter((function(n){return n.MC(t)}));if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.UC=function(t){this.BC.push(t)},Ri(t,[{key:"FC",get:function(){return this.BC}}]),t}();WE._i=new WE,ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(NE=CE||(CE={})).Nw="PLAYING",NE.ng="PAUSED",NE.VC="SEEK",NE.HC="STALLED",NE.qC="FAILED",NE.zC="INITIAL_BUFFERING",NE.WC="NO_ACCESS",(AE=DE||(DE={})).jC="HTTP_REQUEST_STATUS_CODE_1XX",AE.YC="HTTP_REQUEST_STATUS_CODE_2XX",AE.GC="HTTP_REQUEST_STATUS_CODE_3XX",AE.XC="HTTP_REQUEST_STATUS_CODE_4XX",AE.$C="HTTP_REQUEST_STATUS_CODE_5XX",AE.KC="BUFFER_LENGTH",AE.JC="BYTES_RECEIVED",AE.ZC="SEGMENT_READ_BITRATE",AE.QC="SEGMENT_PROFILE_BITRATE",AE.tN="VIDEO_PROFILE_BITRATE",AE.nN="NUMBER_OF_FRAMES_DROPPED",AE.eN="PLAYBACK_POSITION",AE.iN="NUMBER_OF_FRAMES_DECODED",AE.rN="PLAYBACK_DELTA_TO_ORIGIN",AE.uN="STREAM_DELTA_TO_ORIGIN",AE.oN="ORIGIN_TIMESTAMP",(xE=PE||(PE={})).sN="MANIFEST_URI",xE.aN="ASSET_DURATION",xE.cN="NUMBER_OF_CONTENT_PROFILES",xE.fN="CDN",xE.hN="CONTENT_TITLE",xE.vN="SERVICE_NAME",xE.dN="CONTENT_TYPE",xE.lN="CONTENT_DESCRIPTION",(BE||(BE={})).wN="shutdown_normal_shutdown",(FE=LE||(LE={})).gN="session/",FE.yN="content/",FE.mN="internalError/",FE._N="drmError/",FE.pN="caError/",FE.bN="networkError/",(UE=ME||(ME={})).kN="userAction",UE.TN="endOfStreamReached",ki(),Vt(),ki(),Vt(),(HE=VE||(VE={})).PAUSE="SN",HE.RESUME="EN",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(zE=qE||(qE={})).UNAVAILABLE="unavailable",zE.AVAILABLE="available",zE.CONNECTING="connecting",zE.CONNECTED="connected";var jE,YE,GE,XE,$E,KE,JE,ZE,QE,tR,nR,eR,iR="agama";function rR(t){switch(t){case"":return jE.NONE;case"horizontal":return jE.HORIZONTAL;case"vertical":return jE.VERTICAL;default:throw new h}}function uR(t,n){if(n)return GE.PM360;if(null==t)return GE.NONE;switch(t){case"":return GE.NONE;case"360":return GE.PM360;case"180":return GE.PM180;default:throw new h("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}function oR(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!gr(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:void 0!==(null==t?void 0:t.needsTimescaleShifting)?ay(t.needsTimescaleShifting):void 0,desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?cy(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:ay(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:ay(null==t?void 0:t.ignoreAvailabilityWindow)}}function sR(t){if(!t||!gr(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function aR(t,n){return t.length>0?t:n.length>0?n:void 0}function cR(t){if(null!==t)return t}function fR(t){var n={};if(!lr(t))return n;var e=t;for(var i in e)if(v.prototype.hasOwnProperty.call(e,i)){var r=e[i];gr(r)&&(n[i]=r)}return n}function hR(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:cR(t.streamActivityMonitorID),adTagParameters:lr(t.adTagParameters)?t.adTagParameters:{},authToken:cR(t.authToken),omidAccessModeRules:t.omidAccessModeRules?fR(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var i=t.videoID,r=t.contentSourceID;return i?r?na({},e,{availabilityType:"vod",videoID:i,contentSourceID:r}):void Wi.Zr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void Wi.Zr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?na({},e,{availabilityType:"live",assetKey:u}):void Wi.Zr("A Live DAI configuration was provided without valid assetKey which is required.")}Wi.Zr("A DAI configuration was provided without a valid availabilityType which is required.")}function vR(t){if(!Lk(t)||!t.integration)return t;switch(t.integration){case ik:return n=t,e=zk(da.Nu,n),i=zk(da.Cu,n),r=n[da.Au]&&zk(da.Au,n),na({integration:"keyos",widevine:e,playready:i},r?{fairplay:r}:{});default:return t}var n,e,i,r}ki(),Vt(),ki(),Vt(),(YE=jE||(jE={})).NONE="",YE.HORIZONTAL="horizontal",YE.VERTICAL="vertical",ki(),Vt(),(XE=GE||(GE={})).NONE="",XE.PM360="360",XE.PM180="180",ki(),Vt(),ki(),Vt(),ki(),Vt(),(KE=$E||($E={})).KI="auto",KE.RN="always",KE.IN="never",KE.CLEAR_ONLY="clear-only",KE.SAME_DRM_ONLY="same-drm-only",ki(),Vt(),(ZE=JE||(JE={})).KI="auto",ZE.ON="playlist",ZE.CN="media",ki(),Vt(),(tR=QE||(QE={})).VERIZON_MEDIA="verizon-media",tR.MEDIATAILOR="mediatailor",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(eR=nR||(nR={})).ASSET="asset",eR.CHANNEL="channel",eR.EVENT="event",ki(),Vt();var dR="https://content.uplynk.com";function lR(t){if(!t)return!0;var n,e,i=!(im(n=t.sources)||dr(n)&&im(n[0]))||rm(t.sources),r=!t.ads||(!(e=t.ads)||vr(e)&&0===e.length),u=""!==t.poster&&!t.poster;return i&&r&&u}function wR(t){if(t&&t.sources)return gR(t.sources)}function gR(t){return gr(t)?t:nm(t)?t.src:dr(t)&&t.length>0?gR(t[0]):void 0}function yR(t,n,e){return Zy(t)?function(t,n,e){var i=na({},um(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:QE.VERIZON_MEDIA,id:"",prefix:dR,preplayParameters:{},playbackUrlParameters:{},assetType:nR.ASSET,contentProtected:!1,assetInfo:!0});i.id=function(t){if(gr(t))return t;if(dr(t)&&gr(t[0]))return t;if(lr(n=t)&&gr(n.userId)&&(dr(n.externalId)||gr(n.externalId)))return t;var n;return""}(t.id),t.preplayParameters&&(i.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(i.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(i.assetType=function(t){switch(t){case"channel":return nR.CHANNEL;case"event":return nR.EVENT;case"asset":default:return nR.ASSET}}(t.assetType));t.contentProtected&&(i.contentProtected=ay(t.contentProtected));t.assetInfo?i.assetInfo=ay(t.assetInfo):i.assetInfo="asset"===i.assetType;t.prefix&&(i.prefix=hy(t.prefix)||dR);return i.ping=function(t,n){var e=!1,i=!1,r=!1;n?(e=!!yr(n.adImpressions)&&n.adImpressions,i=!!yr(n.freeWheelVideoViews)&&n.freeWheelVideoViews,r=yr(n.linearAdData)?n.linearAdData:t!==nR.ASSET):t!==nR.ASSET&&(r=!0);return{adImpressions:e,freeWheelVideoViews:i,linearAdData:r}}(i.assetType,t.ping),i=pR(i=bR(i=_R(i,t),n,e),t,e)}(t,n,e):Qy(t)?function(t,n,e){var i;return na({},mR(t,n,e),{integration:QE.MEDIATAILOR,adParams:null!=(i=t.adParams)?i:{}})}(t,n,e):mR(t,n,e)}function mR(t,n,e){var i=om(),r=n&&(n.contentProtection||n.drm);if(gr(t)){if(i.src=t,i.type=Ky(t),r){var u=sE(r);i.contentProtection=vR(u)}}else if(nm(t)||Jy(t)){i.src=t.src,i.type=t.type||Ky(t.src),i.isAdvertisement=t.isAdvertisement;var o=em(t)?t.hesp:void 0;void 0!==o&&(i.hesp=o),Qy(t)&&(i.integration=t.integration);var s=sE(t.contentProtection||t.drm||r);i.contentProtection=vR(s),t.ssai&&(i.ssai=function(t){switch(t.integration){case"google-dai":return hR(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),i=_R(i,t)}return i=pR(i=bR(i,n,e),t,e)}function _R(t,n){var e,i;n.useCredentials?t.crossOrigin=My.mw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case My.yw:case My.mw:return t;default:return My.gw}}(n.crossOrigin)),gr(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=ay(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=ay(n.useNativePlayback)),n.dash&&(t.dash=oR(n.dash)),n.hls&&(t.hls={discontinuityAlignment:sR(null==(e=n.hls)?void 0:e.discontinuityAlignment),useLegacy:(i=null==e?void 0:e.useLegacy,fr(i)?Boolean(i):void 0)}),n.lcevc&&(t.lcevc=ay(n.lcevc));var r=void 0!==n.experimentalRendering?ay(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var u=void 0!==n.nativeUiRendering?ay(n.nativeUiRendering):void 0;return void 0!==u&&(t.nativeUiRendering=u),t}function pR(t,n,e){return t.abr=function(t,n){var e=vy(null==t?void 0:t.preferredAudioCodecs,hy),i=vy(null==t?void 0:t.preferredVideoCodecs,hy),r=vy(null==n?void 0:n.preferredAudioCodecs,hy),u=vy(null==n?void 0:n.preferredVideoCodecs,hy),o=aR(e,r),s=aR(i,u);if(o||s)return{preferredAudioCodecs:o,preferredVideoCodecs:s}}(gr(n)?void 0:n.abr,null==e?void 0:e.abr),t}function bR(t,n,e){var i,r=n&&n.timeServer;return e&&e.liveOffset&&!fr(t.liveOffset)&&(t.liveOffset=e.liveOffset),e&&e.hlsDateRange&&!fr(t.hlsDateRange)&&(t.hlsDateRange=e.hlsDateRange),t.crossOrigin===My.gw&&(null==n||null==(i=n.vr)?void 0:i[360])&&(t.crossOrigin=My.yw),t.useCredentials=t.crossOrigin===My.mw,gr(r)&&!t.timeServer&&(t.timeServer=r),t}function kR(t){var n={src:""};if(t&&t.src){if(n.src=hy(t.src),"default"in t&&(n.default=ay(t.default)),n.kind=yb(t.kind),function(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var e=t.srclang;"string"==typeof e&&""!==e&&(n.srclang=e)}if("label"in t){var i=t.label;"string"==typeof i&&""!==i&&(n.label=i)}}return n}function TR(t,n){if(wr(t))try{return n.LC(t).NN(t)}catch(t){return}}function SR(t){return gr(t.sources)&&""!==t.sources||lr(t.sources)&&gr(t.sources.src)}function ER(t){return t.integration===SE.SPOTX&&!g(t.id)}function RR(t){return"freewheel"===t.integration}function IR(t,n,e){if(void 0===e&&(e=WE._i),lR(t))return{sources:[om()]};var i=ry(t);if(i.sources=function(t,n,e){if(im(t))return[yR(t,n,e)];if(dr(t)&&im(t[0])){for(var i=[],r=0;r<t.length;r++){var u=t[r];i.push(yR(u,n,e))}return i}return[om()]}(i.sources,i,n),"contentProtection"in i&&delete i.contentProtection,"drm"in i&&delete i.drm,"ads"in i){var r=function(t,n){if(!dr(t))return[];for(var e=[],i=0;i<t.length;i++){var r=t[i];(r=TR(r,n))&&(SR(r)||ER(r)||RR(r))&&e.push(r)}return e}(i.ads,e);0===r.length?delete i.ads:i.ads=r}var u,o,s,a,c=!rm(i.sources),f=i.ads&&i.ads.length>0;if(c&&!f?delete i.ads:f&&!c&&(i.sources=[]),"textTracks"in i){var h=function(t){if(!dr(t))return[];for(var n=[],e=0;e<t.length;e++){var i=t[e];""!==(i=kR(i)).src&&n.push(i)}return n}(i.textTracks);0===h.length?delete i.textTracks:i.textTracks=h}if("poster"in i&&(i.poster=hy(i.poster)),"vr"in i&&(i.vr=(u=i.vr,(s=u||{}).stereoMode=function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(o=s.stereoMode)?o:"",{panoramaMode:uR(s.panoramaMode,Boolean(s[360])),stereoMode:s.stereoMode?rR(s.stereoMode):jE.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in i||(null==n?void 0:n.analytics)){var v=am(i.analytics),d=n&&n.analytics||[];i.analytics=function(t,n){for(var e=function(e){var r=n[e];!t.some((function(t){return t.integration===r.integration}))&&r.integration!==iR&&i.push(r)},i=ry(t),r=0;r<n.length;r++)e(r);return i}(v,d)}return"mutedAutoplay"in i&&(i.mutedAutoplay=Am(i.mutedAutoplay)),"timeServer"in i&&delete i.timeServer,"playAdsAfterTime"in i&&(i.playAdsAfterTime=cy(i.playAdsAfterTime)),i.blockContentIfAdError=void 0!==(a=i.blockContentIfAdError)&&"boolean"==typeof a&&Boolean(a),i}Ti(),ki(),Vt(),ki(),Vt(),ki(),Vt();var OR,CR=((OR=function(t){this.AN=t}).prototype.DN=function(t){var n,e,i,r,u,o,s,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.AN.charAt(64);for(n=0;n<t.length;n+=4)e=(s=this.AN.indexOf(t.charAt(n))<<18|this.AN.indexOf(t.charAt(n+1))<<12|(u=this.AN.indexOf(t.charAt(n+2)))<<6|(o=this.AN.indexOf(t.charAt(n+3))))>>>16&255,i=s>>>8&255,r=255&s,a[n/4]=String.fromCharCode(e,i,r),64===o&&(a[n/4]=String.fromCharCode(e,i)),64===u&&(a[n/4]=String.fromCharCode(e));return a.join("")},OR.prototype.PN=function(t,n){var e,i,r,u,o,s,a,c=[],f="";if((s=t.length%3)>0)for(;s++<3;)f+=this.AN.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(e=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=e>>12&63,u=e>>6&63,o=63&e,c[s/3]=this.AN.charAt(i)+this.AN.charAt(r)+this.AN.charAt(u)+this.AN.charAt(o);return a=(a=c.join("")).slice(0,a.length-f.length),n||(a+=f),a},OR.E_=new OR(function(){var t,n,e,i,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],e=0;e<n.length;e+=1)i=n.charAt(e),-1===r.indexOf(i)&&r.push(i);return r.join("")}()),OR.xN=new OR(OR.E_.DN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),OR);function NR(t){return"string"==typeof t}function DR(t){return"number"==typeof t}ki(),Vt(),ki(),Vt(),ki(),Vt();var AR={}.toString;var PR,xR=Array.isArray||function(t){return"[object Array]"===AR.call(t)};function BR(t,n){return xR(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(PR||(PR={}));var LR,FR,MR=v.keys(PR).map((function(t){return PR[t]}));function UR(t){return-1!==MR.indexOf(t)}(FR=LR||(LR={})).HESP="hesp",FR.MULTIVIEW="multiview";var VR,HR=v.keys(LR).map((function(t){return LR[t]}));function qR(t){return-1!==HR.indexOf(t)}function zR(t){try{var n=CR.xN.DN(t),e=JSON.parse(n);if(!function(t,n){var e,i=function(t){return"object"==typeof t&&null!==t}(t),r=NR(t.key),u=NR(t.customer_id),o=DR(t.generation_date),s=DR(t.expiration_date),a=BR(t.domains_page,NR),c=BR(t.domains_source,NR),f=BR(t.sdks,n?UR:NR),h=(v=t.send_impression,"boolean"==typeof v);var v;t.features?e=BR(t.features,n?qR:NR):(e=!0,t.features=[]);if(!(i&&r&&u&&o&&s&&a&&c&&f&&h&&e))return!1;return!0}(e,!1))throw new f("The provided license could not be decoded correctly.");return e}catch(t){throw new f("The provided license could not be decoded correctly.")}}function WR(){return VR||(VR={tv:_i.href,BN:mi.parent&&mi.parent!==e,LN:XR()}),VR}var jR,YR,GR=["http:","https:","ftp:","ws:","wss:"];function XR(){try{return mi.top.location.href}catch(t){return mi&&mi.document&&mi.document.referrer}}(YR=jR||(jR={}))[YR.FN=0]="FN",YR[YR.MN=1]="MN",YR[YR.UN=2]="UN";var $R,KR,JR=function(t,n,e,i,r,u,o,s,a){void 0===r&&(r=[]),void 0===u&&(u=""),void 0===o&&(o=Date.now()),void 0===s&&(s=[]),void 0===a&&(a=!0),this.VN=t,this.HN=n,this.qN=e,this.zN=i,this.WN=r,this.jN=u,this.YN=o,this.GN=s,this.XN=a};(KR=$R||($R={})).MN="expired",KR.$N="invaliddomain",KR.KN="invalidsource",KR.JN="invalidfeature",KR.Vl="error";var ZR=function(){function t(t,n,e){this.ZN=t,this.QN=n,this.Ws=e,this.tD=rI(this.Ws)}var n=t.prototype;return n.nD=function(t,n){var e=[];im(t.sources)?e=[t.sources]:dr(t.sources)&&(e=t.sources),this.eD(t,e,n),this.iD(e,n)},n.eD=function(t,n,e){var i=this;if(!lR(t)&&0!==e.qN.length&&!nI(e.qN)&&!n.every((function(t){return i.rD(t,e)}))){var r="invalidsource",u=sI.uD(r);throw new Md(QR(r),u)}},n.iD=function(t,n){for(var e=0;e<t.length;e++){var i=t[e];nm(i)&&em(i)&&this.oD([LR.HESP],n)}},n.sD=function(n){return this.aD(n.GN)&&this.cD(n)?t.fD(n.zN)?0:1:2},n.oD=function(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(!nc(n.WN,i)){var r="invalidfeature",u=sI.hD(r,i);throw new Md(QR(r),u)}}},n.aD=function(t){var n=this;return 0===t.length||t.some((function(t){return n.vD(t)}))},n.vD=function(t){return"tvos"===function(t){switch(t){case PR.ANDROID:return ji.An;case PR.ANDROIDTV:case PR.FIRETV:return ji.Pn;case PR.IOS:return ji.xn;case PR.TVOS:return ji.Bn;case PR.CHROMECAST:case PR.CHROMECASTCAF:return ji.Ln;default:return ji.Dn}}(t)},n.cD=function(t){return!(this.tD&&0!==t.HN.length&&!nI(t.HN))||!!(this.tD&&this.dD(t.HN)&&this.lD(t.HN))},n.dD=function(t){return eI(this.Ws.tv,t)},n.lD=function(t){if(!this.Ws.BN)return!0;if(this.ZN)return!0;var n=this.wD();return!!n&&eI(n,t)},n.wD=function(){if(this.Ws.BN){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ws.LN?this.Ws.LN:void 0}},n.rD=function(n,e){return!!t.gD(n,e.qN)},t.fD=function(t){var n=Number(new Date);return!!t&&n<=t},t.gD=function(t,n){return eI(this.yD(t),n)},t.yD=function(t){return gr(t)?t:nm(t)&&t.src||""},t}();function QR(t){switch(t){case"invaliddomain":return Ad.LICENSE_INVALID_DOMAIN;case"invalidsource":return Ad.LICENSE_INVALID_SOURCE;case"expired":return Ad.LICENSE_EXPIRED;case"invalidfeature":return Ad.LICENSE_INVALID_FEATURE;case"error":return Ad.LICENSE_ERROR}}function tI(t,n){var e=t,i=n;if(!e)return!1;if("*"===(i=i.trim()))return!0;if(i===(e=e.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+r+o+r+o+r+o+"\\)"),a=i.match(s),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var f=new RegExp("^"+a[1]+r+c(a[2])+r+c(a[3])+r+c(a[4])+"$");return null!==e.match(f)}return i="."+i,-1!==e.indexOf(i,e.length-i.length)}function nI(t){return t.some((function(t){return"*"===t}))}function eI(t,n){var e=Wi.du(t);if(!iI(e))return!0;for(var i=0;i<n.length;i++){var r=n[i];if(tI(e.hostname,r))return!0;if(tI(tw(t),r))return!0}return!1}function iI(t){return-1!==GR.indexOf(t.protocol)}function rI(t){var n=Wi.du(t.tv);return iI(n)&&!tI(n.hostname,"localhost")&&!function(t){return tI(t.hostname,"theoplayer.doubleclick.net")}(n)}var uI,oI,sI=function(){function t(){}return t.hD=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.uD=function(t){return"invaliddomain"===t?this.mD:"invalidsource"===t?this._D:"expired"===t?this.pD:"invalidfeature"===t?this.bD:this.kD},t}();function aI(t){var n=[t.Qk,t.TD,t.SD];switch(t.TD){case 1:n.push(t.Jl);break;case 4:n.push(t.Dw),n.push(t.Do);break;case 5:n.push(t.Do)}return n}sI.kD="The license for this player is invalid.",sI.pD="The usage license for this video player has expired.",sI.mD="The current domain is incompatible with the license for this player.",sI._D="The provided video source is incompatible with the license for this player.",sI.bD="The requested feature is not available with the license for this player.",ki(),Vt(),Ii(),ki(),Vt(),(oI=uI||(uI={}))[oI.ED=1]="ED",oI[oI.RD=4]="RD",oI[oI.OD=5]="OD",ki(),Vt();var cI,fI=new Array(256);for(cI=0;cI<256;cI+=1)fI[cI]=(cI<16?"0":"")+cI.toString(16);function hI(){var t=au(),n=(4294967296*d.random()|0)+t&3029421624,e=(4294967296*d.random()|0)+t&3595553209,i=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return fI[255&n]+fI[n>>>8&255]+fI[n>>>16&255]+fI[n>>>24&255]+"-"+fI[255&e]+fI[e>>>8&255]+"-"+fI[e>>>16&15|64]+fI[e>>>24&255]+"-"+fI[63&i|128]+fI[i>>>8&255]+"-"+fI[i>>>16&255]+fI[i>>>24&255]+fI[255&r]+fI[r>>>8&255]+fI[r>>>16&255]+fI[r>>>24&255]}ki(),Vt();var vI=function(){function t(t){this.AN=t}var n=t.prototype;return n.DN=function(t){var n,e,i,r,u,o,s,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)e=(s=this.AN.indexOf(t.charAt(n))<<18|this.AN.indexOf(t.charAt(n+1))<<12|(u=this.AN.indexOf(t.charAt(n+2)))<<6|(o=this.AN.indexOf(t.charAt(n+3))))>>>16&255,i=s>>>8&255,r=255&s,a[n/4]=String.fromCharCode(e,i,r),64===o&&(a[n/4]=String.fromCharCode(e,i)),64===u&&(a[n/4]=String.fromCharCode(e));return a.join("")},n.PN=function(t){var n,e,i,r,u,o,s,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.AN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(n=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,i=n>>12&63,r=n>>6&63,u=63&n,a[o/3]=this.AN.charAt(e)+this.AN.charAt(i)+this.AN.charAt(r)+this.AN.charAt(u);return(s=a.join("")).slice(0,s.length-c.length)+c},t}();function dI(){return Wi.Kr()}vI.E_=new vI(function(){var t,n,e,i,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],e=0;e<n.length;e+=1)i=n.charAt(e),-1===r.indexOf(i)&&r.push(i);return r.join("")}()),vI.xN=new vI(vI.E_.DN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),ki(),Vt(),ki(),Vt();var lI,wI="theoplayer-session-id";function gI(){if(!lI){var t=el.Uo(wI);t?lI=t:(lI=hI(),el.Lf(wI,lI))}return lI}ki(),Vt(),Ti(),ki(),Vt();var yI=/[^\x00-\x7E]/g;function mI(t){return"\\u"+function(t,n,e){void 0===e&&(e=" ");var i=e,r=(0|n)-t.length;return r<=0?t:(r>i.length&&(i+=function(t,n){var e=0|n;if(0===t.length||0===e)return"";for(var i=t,r="";1==(1&e)&&(r+=i),0!=(e>>>=1);)i+=i;return r}(i,r/i.length)),i.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var _I="https://license.theoplayer.com";function pI(t){var n,e,i,r,u,o=(n=function(t){return[t.CD,t.Ic,t.VN,t.Zp,t.ND,t.DD,t.PD.map(aI)]}(t),e=[],i=n,r=function(t,n){if(lr(n)){if(-1!==e.indexOf(n))return null;e.push(n)}return n},JSON.stringify(i,r,u).replace(yI,mI));return vI.xN.PN(o)}var bI=function(){function t(t,n,e,i,r,u){void 0===i&&(i=vI.E_),void 0===r&&(r=0),void 0===u&&(u=1);var o=this;this.ja=t,this.nS=n,this.xD=e,this.BD=i,this.LD=r,this.FD=u,this.MD=[],this.UD=null,this.VD=0,this.HD="unknown",this.ba=0,this.qD=function(){dI()-o.VD>6e4&&o.V()},this.zD=function(){o.V(!0)},yi.In(this.zD),this.WD=a(this.qD,6e4)}var n=t.prototype;return n.jD=function(){return Boolean(this.ND)},n.YD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.xD.GD()];case 1:return i.sent().XN?(e={TD:uI.ED,SD:au(),Jl:t},[4,n.XD(e)]):[2];case 2:return i.sent(),[2]}}))}))()},n.$D=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){switch(r.label){case 0:return i={TD:uI.RD,SD:au(),Dw:n,Do:t},[4,e.XD(i)];case 1:return r.sent(),[2]}}))}))()},n.KD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return e={TD:uI.OD,SD:au(),Do:t},[4,n.XD(e)];case 1:return i.sent(),[2]}}))}))()},n.XD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.xD.GD()];case 1:return e=i.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.BD.PN(e.VN)&&t.TD!==uI.OD?[2]:(t.TD===uI.ED?n.JD():n.jD()||n.JD(),t.Qk=n.ba++,n.MD.push(t),(r=t.TD)!==uI.ED&&r!==uI.OD?[3,3]:[4,n.V()]);case 2:return i.sent(),[3,5];case 3:return n.MD.length>n.LD?[4,n.ZD()]:[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}var r}))}))()},n.V=function(t){void 0===t&&(t=!1);var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return n.MD.length>0?[4,n.ZD(t)]:[3,2];case 1:return e.sent(),[3,0];case 2:return[2]}}))}))()},n.QD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.xD.GD()];case 1:return e=i.sent(),[2,{CD:au(),Ic:gI(),VN:n.BD.PN(e.VN)||"dev",Zp:n.ja,ND:n.UD,DD:n.HD,PD:t}]}}))}))()},n.ZD=function(t){void 0===t&&(t=!1);var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return e=n.MD.splice(0,n.FD),[4,n.QD(e)];case 1:return i=r.sent(),t?n.Ev(i):n.tA(i),n.VD=dI(),[2]}}))}))()},n.tA=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:e=pI(t),i=new Yl({tv:_I,Lh:e,Tv:!1,$h:al.Si,Xh:{"Content-Type":IT.AE},pv:4e3,_v:Fl.POST}),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,n.nS.Zh(i)];case 2:return[4,r.sent().Ph()];case 3:return r.sent(),[3,5];case 4:return r.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+e,[3,5];case 5:return[2]}}))}))()},n.Ev=function(t){var n=pI(t);this.nS.Ev({tv:_I,Lh:n,Bh:IT.AE})},n.JD=function(){this.jD()&&this.V(),this.UD=hI(),this.ba=0},n.kn=function(){yi.On(this.zD),c(this.WD),this.V()},Ri(t,[{key:"PD",get:function(){return this.MD}},{key:"ND",get:function(){return this.UD}}]),t}();ki(),Vt(),Ii(),Fi(),ki(),Vt(),Fi();var kI=sr.ti||sr.Ve&&sr.oi<13;function TI(t,n,e){var i=t.getImageData(n,e,1,1).data;return 0===i[0]&&0===i[1]&&0===i[2]&&0===i[3]}var SI=function(){function t(t){this.Wd=void 0,this.nA=void 0,this.jI=t}var n=t.prototype;return n.eA=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];var r;if(!t||!t.drawImage)return!1;var u=this.jI.Eg();return!!u&&((r=t).drawImage.apply(r,[u].concat(Bi(e))),!0)},n.iA=function(t,n,e,r,u,o){if(!t||!t.texImage2D)return!1;var s=this.jI,a=s.Eg();if(!a)return!1;if(kI){this.nA||(this.nA=i.createElement("canvas"));var c=this.nA,h=c.getContext("2d"),v=s.Vw,d=s.Uw,l=c.width,w=c.height;h.clearRect(0,0,c.width,c.height),l===v&&w===d||(c.width=v,c.height=d),h.drawImage(a,0,0,v,d);var g=!1;v>0&&TI(h,v-1,0)&&(c.width=l,g=!0),d>0&&TI(h,0,d-1)&&(c.height=w,g=!0),g&&h.drawImage(a,0,0,v,d),a=c}try{t.texImage2D(n,e,r,u,o,a)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},Ri(t,[{key:"jd",get:function(){return this.Wd||(this.Wd=(t=this,{drawImage:function(n){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var u;return(u=t).eA.apply(u,[n].concat(Bi(i)))},texImage2D:function(n,e,i,r,u,o){return t.iA(n,e,i,r,u,o)}}));var t}}]),t}();ki(),Vt(),Ii(),ki(),Vt();var EI=function(t){function n(n,e){var i;return(i=t.call(this,"rA")||this).Hy=n,i.Pb=e,i}return Xi(n,t),n.prototype.Yd=function(){return new RI(this.Hy,this.Pb)},n}(Hg),RI=function(t){function n(n,e){var i;return(i=t.call(this,"dimensionchange")||this).width=n,i.height=e,i}return Xi(n,t),n}(Sc);ki(),Vt(),Ii(),ki(),Vt();var II=function(t,n){this.Bg=t,this.uA=n};Ti();var OI=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).oA=0,i.sA=0,i.aA=function(t){if(t.length>0){var n=t[t.length-1].contentRect;i.sA=n.width,i.oA=n.height,i.uA(i.sA,i.oA)}},i.cA=new mi.ResizeObserver(i.aA),i.cA.observe(i.Bg),i}return Xi(n,t),n.prototype.kn=function(){this.cA.disconnect()},Ri(n,[{key:"fA",get:function(){return this.oA}},{key:"hA",get:function(){return this.sA}}]),n}(II);ki(),Vt(),Ii(),ki(),Vt();var CI=0;var NI,DI=s,AI=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,PI=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;AI&&PI||(AI=function(t){var n=dI(),e=d.max(0,16-(n-CI)),i=o((function(){return t(n+e)}),e);return CI=n+e,i},PI=DI),AI=AI.bind(t),PI=PI.bind(t),ki(),Vt(),Ti();var xI=["Webkit","Moz","O","ms"],BI=(function(){var t=!1;try{if(void 0!==mi&&"function"==typeof mi.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});mi.addEventListener("testPassiveEventSupport",pr,n),mi.removeEventListener("testPassiveEventSupport",pr,n)}}catch(t){}}(),ua());function LI(t){return BI.has(t)||BI.set(t,function(t){var n=(NI||(NI=mi&&mi.document&&mi.document.createElement("span")),NI);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<xI.length;i++){var r=xI[i]+e;if(void 0!==n.style[r])return r}return t}(t)),BI.get(t)}function FI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function MI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[LI("transition")]="0s"}var UI=function(t){function n(n,r,u){var s;(s=t.call(this,n,r)||this).vA=0,s.sA=NaN,s.oA=NaN,s.dA=void 0,s.Bc=function(){s.lA.style.width="100000px",s.lA.style.height="100000px",s.wA.scrollLeft=1e5,s.wA.scrollTop=1e5,s.gA.scrollLeft=1e5,s.gA.scrollTop=1e5,0===s.gA.scrollTop&&AI(s.Bc)},s.yA=function(){var t=s.hA,n=s.fA;s.uA(t,n),s.sA=t,s.oA=n,s.Bc(),s.vA=0},s.mA=function(){if(!s.vA){var t=s.hA,n=s.fA;t===s.sA&&n===s.oA||(s.vA=AI(s.yA))}},s._A=function(){s.dA||(s.dA=o(s.pA,66))},s.pA=function(){s.dA=void 0,s.bA()},s.bA=function(){s.mA()};var a=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==a||(n.style.position="relative");var c,f=i.createElement("div");return s.kA=f,s.wA=i.createElement("div"),s.lA=i.createElement("div"),s.gA=i.createElement("div"),s.TA=i.createElement("div"),FI(s.wA),FI(s.gA),MI(s.lA),MI(c=s.TA),c.style.width="200%",c.style.height="200%",f.appendChild(s.wA),f.appendChild(s.gA),s.wA.appendChild(s.lA),s.gA.appendChild(s.TA),n.appendChild(f),s.wA.addEventListener("scroll",s.mA),s.gA.addEventListener("scroll",s.mA),e&&e.addEventListener("resize",s._A),s.mA(),s}return Xi(n,t),n.prototype.kn=function(){PI(this.vA),this.vA=0,this.wA.removeEventListener("scroll",this.mA),this.gA.removeEventListener("scroll",this.mA),Ns(this.kA),e&&e.removeEventListener("resize",this._A)},Ri(n,[{key:"fA",get:function(){return this.Bg.getBoundingClientRect().height||this.oA||0}},{key:"hA",get:function(){return this.Bg.getBoundingClientRect().width||this.sA||0}}]),n}(II);Ti();var VI=function(t){function n(n){var e;return(e=t.call(this)||this).cA=void 0,e.aA=function(t,n){e.lo(new EI(t,n))},e.Bg=n,e}Xi(n,t);var e=n.prototype;return e.Pc=function(t){this.cA||("function"==typeof mi.ResizeObserver?this.cA=new OI(this.Bg,this.aA):this.cA=new UI(this.Bg,this.aA,t))},e.kn=function(){this.po(),this.cA&&(this.cA.kn(),this.cA=void 0)},Ri(n,[{key:"fA",get:function(){return this.cA?this.cA.fA:0}},{key:"hA",get:function(){return this.cA?this.cA.hA:0}}]),n}(pc);ki(),Vt(),Ii(),ki(),Vt();var HI=function(t){function n(){return t.call(this,JS.ol)}return Xi(n,t),n}(Sc);ki(),Vt();!function(){if(i)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var e=t[n];if(e[1]in i)return{SA:e[0],EA:e[1],RA:e[2],IA:e[3],OA:e[4],CA:e[5]}}}();ki(),Vt();var qI=function(t){function n(){return t.call(this,JS.XO)}return Xi(n,t),n}(Sc),zI=function(t){function n(n,e){var i;return(i=t.call(this)||this).NA=!1,i.DA=function(){return i.kc()},i._C=function(t){i.NA||i.lo(t)},i.jI=n,i.AA=e,i.PA=iE,i.xA(),i.jI.yo(ol.$f,i.DA),i.kc(),i}Xi(n,t);var e=n.prototype;return e.gy=function(){this.AA&&this.PA.gy()},e.my=function(){this.PA.my()},e.xA=function(){this.PA.yo(JS.ol,this._C),this.PA.yo(JS.Vl,this.do)},e.BA=function(){this.PA.bo(JS.ol,this._C),this.PA.bo(JS.Vl,this.do)},e.kc=function(){var t=this.PA,n=this.jI.Rg();if(t!==n){this.NA=!0;var e=this.$O,i=this.KO;e&&this.my(),this.BA(),this.PA=n,this.xA(),e&&!this.$O&&this.KO?this.gy():this.my(),this.NA=!1,i!==this.KO&&this.lo(new qI),e!==this.$O&&this.lo(new HI)}},e.kn=function(){this.po(),this.BA(),this.jI.bo(ol.$f,this.DA)},Ri(n,[{key:"KO",get:function(){return!!this.AA&&this.PA.KO}},{key:"$O",get:function(){return this.PA.$O}}]),n}(pc);function WI(t){var n;return{get url(){return t.tv},get method(){return t._v},get headers(){return n||(n=t.Xh.Rh()),n},get body(){return t.Lh},get useCredentials(){return t.Tv},get type(){return t.xu},get subType(){return t.bv},get mediaType(){return t.kv},get responseType(){return t.$h}}}function jI(t){switch(t.toLowerCase()){case"arraybuffer":return al.Th;case"json":return al.Sh;case"stream":return al.Eh;case"text":default:return al.Si}}function YI(t){switch(t.toUpperCase()){case"POST":return Fl.POST;case"PUT":return Fl.PUT;case"DELETE":return Fl.DELETE;case"HEAD":return Fl.HEAD;case"OPTIONS":return Fl.OPTIONS;case"GET":default:return Fl.GET}}function GI(t){switch(t.toLowerCase()){case"manifest":return Ul.rv;case"segment":return Ul.uv;case"preload-hint":return Ul.ov;case"content-protection":return Ul.sv;default:return Ul.ev}}function XI(t){switch(t.toLowerCase()){case"initialization-segment":return Hl.av;case"fairplay-license":return Hl.cv;case"fairplay-certificate":return Hl.fv;case"widevine-license":return Hl.hv;case"widevine-certificate":return Hl.vv;case"playready-license":return Hl.dv;case"clearkey-license":return Hl.lv;case"aes128-key":return Hl.wv;default:return Hl.ev}}function $I(t){switch(t.toLowerCase()){case"audio":return zl.gv;case"video":return zl.yv;case"text":return zl.Si;case"image":return zl.mv;case"":default:return zl.ev}}ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),Ii();var KI=function(){function t(t,n){this.LA=t,this.FA=n,this.MA=new Af,this.UA=[],this.Wd=void 0,this.VA=!1,this.Fv=void 0,this.HA=0}var n=t.prototype;return n.Hp=function(){this.VA=!0,this.MA.Qo(null)},n.qA=function(){this.MA.ts(new yl(this.UA))},n.zA=function(t){if(!this.WA)throw new h("Cannot respond more than once");if(!lr(t))throw new h("Expected valid response");this.Fv=this.jA(t),this.Hp()},n.YA=function(){try{var t=this.FA(this.jd);t?this.GA(t):this.XA||this.$A||this.Hp()}catch(t){this.UA.push(t),this.qA()}},n.GA=function(t){if(this.$A)throw new f("Request has been redirected or a response already exists");if(mr(t))this.KA(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new Af;try{var e=t((function(t){t?n.ts(t):n.Qo(void 0)}));mr(e)&&n.ao(e)}catch(t){n.ts(t)}this.KA(n.Zo)}},n.KA=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n.HA++,[4,t];case 1:return i.sent(),n.HA--,n.XA||n.$A||(n.UA.length?n.qA():n.Hp()),[3,3];case 2:return e=i.sent(),n.HA--,n.UA.push(e),n.XA||n.$A||n.qA(),[3,3];case 3:return[2]}}))}))()},Ri(t,[{key:"JA",get:function(){return this.MA.Zo}},{key:"jd",get:function(){return this.Wd||(this.Wd=this.ZA()),this.Wd}},{key:"$A",get:function(){return this.VA}},{key:"WA",get:function(){return!this.VA}},{key:"XA",get:function(){return this.HA>0}},{key:"Mv",get:function(){return this.Fv}}]),t}(),JI=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e)||this).QA=i,r.YA(),r}Xi(n,t);var e=n.prototype;return e.ZA=function(){return e=WI((t=this).Zh),{get closed(){return!t.WA},get request(){return e},get url(){return t.tv},get status(){return t.Gh},get statusText(){return t.Kh},get headers(){return n||(n=t.Xh.Rh()),n},get body(){return t.Lh},respondWith:function(n){return t.zA(n)},waitUntil:function(n){return t.GA(n)}};var t,n,e},e.jA=function(t){return n.tP(t,this.LA,this.QA)},n.tP=function(t,n,e){var i=void 0===t.body?e:t.body;return new jl({Qi:i,Zh:n.Zh,$h:n.Zh.$h,Xh:t.headers,Gh:t.status,Kh:t.statusText,Qh:t.url,Jh:!0},n)},Ri(n,[{key:"Lh",get:function(){return this.QA}},{key:"Xh",get:function(){return this.LA.Xh}},{key:"Zh",get:function(){return this.LA.Zh}},{key:"Mv",get:function(){return this.Fv}},{key:"Gh",get:function(){return this.LA.Gh}},{key:"Kh",get:function(){return this.LA.Kh}},{key:"tv",get:function(){return this.LA.Qh}}]),n}(KI);ki(),Vt(),Ii();var ZI=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e)||this).nP=void 0,r.eP=i,r.YA(),r}Xi(n,t);var e=n.prototype;return e.ZA=function(){return t=this,{get url(){return t.tv},get method(){return t._v},get headers(){return n||(n=t.Xh.Rh()),n},get body(){return t.Lh},get closed(){return!t.WA},get useCredentials(){return t.Tv},get type(){return t.xu},get subType(){return t.bv},get mediaType(){return t.kv},get responseType(){return t.$h},redirect:function(n){return t.iP(n)},respondWith:function(n){return t.zA(n)},waitUntil:function(n){return t.GA(n)}};var t,n},e.jA=function(t){var n=this.LA.Lh,e=new jl({Qi:n,Xh:{},Zh:this.LA,Qh:this.LA.tv,$h:this.LA.$h,Gh:200,Kh:"OK"});return JI.tP(t,e,n)},e.iP=function(t){if(!this.WA)throw new h("Cannot redirect, already redirected or has a response");var n;n=gr(t)?{url:t}:t,this.nP=function(t,n){return new Yl({tv:void 0===t.url?n.tv:t.url,_v:void 0!==t.method?YI(t.method):void 0,Xh:t.headers,Lh:t.body,Tv:t.useCredentials,xu:void 0!==t.type?GI(t.type):void 0,bv:void 0!==t.subType?XI(t.subType):void 0,kv:void 0!==t.mediaType?$I(t.mediaType):void 0,$h:void 0!==t.responseType?jI(t.responseType):void 0},n)}(n,this.LA),this.Hp()},Ri(n,[{key:"Lh",get:function(){return this.LA.Lh}},{key:"WA",get:function(){return this.eP&&!this.VA}},{key:"Xh",get:function(){return this.LA.Xh}},{key:"_v",get:function(){return this.LA._v}},{key:"rP",get:function(){return this.nP}},{key:"Mv",get:function(){return this.Fv}},{key:"$h",get:function(){return this.LA.$h}},{key:"pv",get:function(){return this.LA.pv}},{key:"fo",get:function(){return this.LA.fo}},{key:"xu",get:function(){return this.LA.xu}},{key:"bv",get:function(){return this.LA.bv}},{key:"kv",get:function(){return this.LA.kv}},{key:"tv",get:function(){return this.LA.tv}},{key:"Tv",get:function(){return this.LA.Tv}},{key:"Sv",get:function(){return this.LA.Sv}}]),n}(KI);var QI=function(t){function n(n,e){var i;void 0===e&&(e=!0);var r=new tO(n);return(i=t.call(this,r,e)||this).uP=r,i}Xi(n,t);var e=n.prototype;return e.oP=function(t){this.uP.oP(t)},e.sP=function(t){this.uP.sP(t)},e.aP=function(t){this.uP.aP(t)},e.cP=function(t){this.uP.cP(t)},e.fP=function(t){this.uP.fP(t)},n}(Xl),tO=function(){function t(t){this.hP=[],this.vP=[],this.Rv=t}var n=t.prototype;return n.Zh=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,n.dP(t,t.fo)];case 1:return e=r.sent(),[3,5];case 2:return(i=r.sent())instanceof nw?[4,n.lP(i,t.fo)]:[3,4];case 3:return[2,r.sent()];case 4:throw i;case 5:return[4,n.wP(e,t.fo)];case 6:if(Ll(e=r.sent()))return[2,e];throw new iw(e)}}))}))()},n.Ev=function(t){return this.Rv.Ev(t)},n.dP=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:sc(n),i=t,u=0,o=e.hP.slice(),c.label=1;case 1:if(!(u<o.length))return[3,7];if(s=o[u],sc(n),(a=new ZI(i,s,!r)).$A)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.JA];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.rP&&!r?i=a.rP:a.Mv&&!r&&(r=a.Mv),c.label=6;case 6:return u++,[3,1];case 7:return r?[2,r]:[2,e.Rv.Zh(i)]}}))}))()},n.lP=function(t,n){var e=this;return ta((function(){var i,r;return ea(this,(function(u){switch(u.label){case 0:return i=t instanceof iw?t.Mv:new jl({Qi:null,Zh:t.Zh,Gh:0,Kh:""}),[4,e.wP(i,n)];case 1:if((r=u.sent())===i)throw t;if(Ll(r))return[2,r];throw new iw(r)}}))}))()},n.wP=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:i=t,r=0,u=e.vP.slice(),c.label=1;case 1:return r<u.length?(o=u[r],sc(n),[4,Y.resolve(i.Go().Qi(n))]):[3,8];case 2:if(s=c.sent(),(a=new JI(i,o,s)).$A)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.JA];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:i=a.Mv||i,c.label=7;case 7:return r++,[3,1];case 8:return[2,i]}}))}))()},n.oP=function(t){this.hP.unshift(t)},n.sP=function(t){this.hP.push(t)},n.aP=function(t){Qa(this.hP,t)},n.cP=function(t){this.vP.unshift(t)},n.fP=function(t){Qa(this.vP,t)},n.kn=function(){this.Rv.kn(),ec(this.hP),ec(this.vP)},t}();ki(),Vt(),Ii();var nO,eO,iO=function(t){function n(n,e,i){var r;return(r=t.call(this,e)||this).gP=n,r.nS=e,r.rC=i,r.yP=function(t){r.lo(t)},r.mP=function(t){r.lo(t)},r.gP.yo(ol.nh,r.yP),r.gP.yo(ol.th,r.mP),r}Xi(n,t);var e=n.prototype;return e._P=function(t){this.rC._P(t)},e.oP=function(t){this.nS.oP(t)},e.aP=function(t){this.nS.aP(t)},e.cP=function(t){this.nS.cP(t)},e.fP=function(t){this.nS.fP(t)},e.kn=function(){this.po(),this.gP.bo(ol.nh,this.yP),this.gP.bo(ol.th,this.mP)},Ri(n,[{key:"jd",get:function(){var t;return this.Wd||(this.Wd=(t=this,{get online(){return t.Wg},get estimator(){return n=t.pP,{get bandwidth(){return n.wR},get roundTripTime(){return n.gR}};var n},setEstimator:function(n){t._P(function(t){if(t)return{get wR(){return fy(t.bandwidth)},get gR(){return fy(t.roundTripTime)},lR:function(n){return function(t){if(t)return{bP:function(n){t.markRequestStart(n)},kP:function(n){t.markResponseStart(n)},TP:function(n,e){t.markResponseData(n,e)},SP:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(WI(n)))}}}(n))},addRequestInterceptor:function(n){t.oP(n)},removeRequestInterceptor:function(n){t.aP(n)},addResponseInterceptor:function(n){t.cP(n)},removeResponseInterceptor:function(n){t.fP(n)},addEventListener:function(n,e){t.yo(n,e)},removeEventListener:function(n,e){t.bo(n,e)}})),this.Wd}},{key:"Wg",get:function(){return this.gP.Wg}},{key:"pP",get:function(){return this.rC.pP}}]),n}(pc);ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),(eO=nO||(nO={})).PERFORMANCE="performance",eO.QUALITY="quality",eO.BANDWIDTH="bandwidth",ki(),Vt();ki(),Vt();var rO={type:nO.BANDWIDTH};function uO(t){var n,e,i,r=ry(rO);return gr(t)?r.type=oO(t):lr(t)&&function(t){switch(t){case nO.PERFORMANCE:case nO.QUALITY:case nO.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=oO(t.type)),lr(t)&&lr(t.metadata)&&(r.metadata=(n=t.metadata,e={},i=cy(n.bitrate),g(i)||(e.bitrate=i),e)),r}function oO(t){switch(t){case"bandwidth":return nO.BANDWIDTH;case"performance":return nO.PERFORMANCE;case"quality":return nO.QUALITY}}function sO(t){return{get strategy(){return{metadata:(n=t.EP).metadata,type:n.type};var n},set strategy(n){t.EP=uO(n)},get targetBuffer(){return t.RP},set targetBuffer(n){var e=cy(n);g(e)||(t.RP=e)},get bufferLookbackWindow(){return t.IP},set bufferLookbackWindow(n){var e=cy(n);g(e)||(t.IP=e<=0?30:e)},get maxBufferLength(){return t.OP}}}ki(),Vt();var aO=function(t){function n(n){var e;return(e=t.call(this,"CP")||this).RP=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var cO=function(t){function n(n){var e;return(e=t.call(this,"NP")||this).EP=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var fO=function(t){function n(n){var e;return(e=t.call(this,"DP")||this).IP=n,e}return Xi(n,t),n}(Sc),hO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Wd=sO(lu(n)),n.AP=rO,n.PP=20,n.xP=30,n.BP=1/0,n.LP=void 0,n}Xi(n,t);var e=n.prototype;return e.FP=function(t){this.MP=t},e._P=function(t){this.LP=t},e.UP=function(t){var n=d.min(t,.8*this.BP);if(n=d.max(10,n),this.BP===n)return!1;var e=this.VP;this.BP=n;var i=this.VP;return i!==e&&this.lo(new aO(i)),!0},Ri(n,[{key:"HP",get:function(){switch(this.AP.type){case nO.PERFORMANCE:return 0;case nO.QUALITY:return 1/0;case nO.BANDWIDTH:return this.AP.metadata&&void 0!==this.AP.metadata.bitrate?this.AP.metadata.bitrate:8*By.cw();default:return 8*By.cw()}}},{key:"jd",get:function(){return this.Wd}},{key:"EP",get:function(){return this.AP},set:function(t){this.AP=t,this.lo(new cO(t))}},{key:"RP",get:function(){return this.PP},set:function(t){this.PP=t,this.lo(new aO(t))}},{key:"VP",get:function(){return d.min(this.PP,this.BP)}},{key:"IP",get:function(){return this.xP},set:function(t){this.xP=t,this.lo(new fO(t))}},{key:"OP",get:function(){return this.BP}},{key:"pP",get:function(){var t;return null!=(t=this.LP)?t:this.MP.NI}}]),n}(pc);Ti(),ki(),Vt(),Ii(),ki(),Vt();var vO=function(t){function n(){return t.call(this,"sl")}return Xi(n,t),n.prototype.Yd=function(){return new dO},n}(Hg),dO=function(t){function n(){return t.call(this,"change")}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt();var lO=function(t){function n(n,e,i){var r;(r=t.call(this,i)||this).qP=function(t){qg(t)&&dc((function(){r.lo(t.jd)}))},r.zP=n,r.MD=e;for(var u=0,o=r.MD;u<o.length;u++){var s=o[u];r.zP.yo(s,r.qP)}return r}return Xi(n,t),n.prototype.kn=function(){this.po();for(var t=0,n=this.MD;t<n.length;t++){var e=n[t];this.zP.bo(e,this.qP)}},n}(pc),wO=function(t){function n(n,e){var i;return(i=t.call(this,e)||this).qP=function(t){qg(t)&&dc((function(){i.lo(t.jd)}))},i.zP=n,i.zP._o(i.qP),i}return Xi(n,t),n.prototype.kn=function(){this.po(),this.zP.So(this.qP)},n}(Cy);var gO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ry=0,n.Iy=1/0,n}Xi(n,t);var e=n.prototype;return e.Bc=function(){0===this.Ry&&this.Iy===1/0||(this.Ry=0,this.Iy=1/0,this.lo(new vO))},e.WP=function(){return new tE([this.py,this.by],[!0,!0])},Ri(n,[{key:"py",get:function(){return this.Ry},set:function(t){if(this.by<=t)throw new f("Start time of a clip should be smaller than the end time.");this.Ry!==t&&(this.Ry=t,this.lo(new vO))}},{key:"by",get:function(){return this.Iy},set:function(t){if(t<=this.py)throw new f("End time of a clip should be larger than the start time.");this.Iy!==t&&(this.Iy=t,this.lo(new vO))}},{key:"jd",get:function(){var t,n,e;return this.Wd||(this.Wd=(e={get startTime(){return t.py},set startTime(n){t.py=n},get endTime(){return t.by},set endTime(n){t.by=n},addEventListener:function(t,e){n.yo(t,e)},removeEventListener:function(t,e){n.bo(t,e)}},n=new wO(t=this,e),e)),this.Wd}}]),n}(Cy);ki(),Vt(),Ii(),ki(),Vt(),Ii();var yO=function(t){function n(n){var e;return(e=t.call(this)||this).jP=n,e.YP=function(t){e.GP(t)||e.lo(t)},e.jP._o(e.YP),e}Xi(n,t);var e=n.prototype;return e.XP=function(){return this.jP.hg},e.Ig=function(){return this.jP.Ig()},e.$P=function(){return this.jP.Pg},e.KP=function(){return this.jP.Dg},e.JP=function(){return this.jP.xg},e.ZP=function(t){this.jP.xg=t},e.QP=function(){return this.jP.Dw},e.tx=function(t){this.jP.Dw=t},e.nx=function(){return this.jP.Aw},e.ix=function(){return this.jP.Bg},e.ux=function(){return this.jP.Pw},e.ox=function(){return this.jP.Do},e.sx=function(){return this.jP.xw},e.hx=function(){return this.jP.Lg},e.vx=function(){return this.jP.Bw},e.lx=function(t){this.jP.Bw=t},e.wx=function(){return this.jP.Wg},e.gx=function(){return this.jP.Lw},e.yx=function(){return this.jP.Fw},e.mx=function(t){this.jP.Fw=t},e._x=function(){return this.jP.jg},e.bx=function(){return this.jP.Yg},e.kx=function(t){this.jP.Yg=t},e.Tx=function(){return this.jP.Xl},e.Sx=function(){return this.jP.Gg},e.Ex=function(){return this.jP.Mw},e.gg=function(){return this.jP.gg()},e.yg=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return sc(n),[4,e.jP.yg(t,n)];case 1:return i.sent(),[2]}}))}))()},e.Rx=function(){return this.jP.dg},e.Ix=function(){return this.jP.Uw},e.Ox=function(){return this.jP.vg},e.Cx=function(){return this.jP.Vw},e.Nx=function(){return this.jP.Hw},e.Dx=function(t){this.jP.Hw=t},e.Rg=function(){return this.jP.Rg()},e.Eg=function(){return this.jP.Eg()},e.bg=function(t){this.jP.bg(t)},e.kg=function(){this.jP.kg()},e.Sg=function(){this.jP.Sg()},e.En=function(){this.jP.En()},e.yn=function(){this.jP.yn()},e.gn=function(){this.jP.gn()},e.Tg=function(){this.jP.Tg()},e.wg=function(){return this.jP.wg()},e.mg=function(){return this.jP.mg()},e._g=function(){this.jP._g()},e.pg=function(){this.jP.pg()},e.Bc=function(){return this.jP.Bc()},e.kn=function(){return this.jP.kn()},e.Ag=function(){this.jP.Ag()},e.Og=function(t){return this.jP.Og(t)},e.GP=function(t){return!1},Ri(n,[{key:"hg",get:function(){return this.XP()}},{key:"Pg",get:function(){return this.$P()}},{key:"xg",get:function(){return this.JP()},set:function(t){this.ZP(t)}},{key:"Dg",get:function(){return this.KP()}},{key:"Dw",get:function(){return this.QP()},set:function(t){this.tx(t)}},{key:"Aw",get:function(){return this.nx()}},{key:"Bg",get:function(){return this.ix()}},{key:"Pw",get:function(){return this.ux()}},{key:"Do",get:function(){return this.ox()}},{key:"xw",get:function(){return this.sx()}},{key:"lg",get:function(){return this.jP.lg}},{key:"Lg",get:function(){return this.hx()}},{key:"Fg",get:function(){return this.jP.Fg}},{key:"Bw",get:function(){return this.vx()},set:function(t){this.lx(t)}},{key:"Wg",get:function(){return this.wx()}},{key:"Lw",get:function(){return this.gx()}},{key:"Fw",get:function(){return this.yx()},set:function(t){this.mx(t)}},{key:"jg",get:function(){return this._x()}},{key:"Yg",get:function(){return this.bx()},set:function(t){this.kx(t)}},{key:"Xl",get:function(){return this.Tx()}},{key:"Gg",get:function(){return this.Sx()}},{key:"Mw",get:function(){return this.Ex()}},{key:"dg",get:function(){return this.Rx()}},{key:"Uw",get:function(){return this.Ix()}},{key:"vg",get:function(){return this.Ox()}},{key:"Vw",get:function(){return this.Cx()}},{key:"Hw",get:function(){return this.Nx()},set:function(t){this.Dx(t)}},{key:"Xg",get:function(){return this.jP.Xg}},{key:"$g",get:function(){return this.jP.$g},set:function(t){this.jP.$g=t}}]),n}(Ny),mO=function(t){function n(e,i){var r;return(r=t.call(this,e)||this).Ax=!1,r.Px=void 0,r.xx=!1,r.Bx=function(){r.Lx(),r.Fx()},r.HR=function(){r.Mx(),r.Fx(),r.Ux&&r.Dw>=r.Vx.by-n.Hx&&!r.Pw&&(r.Px=AI(r.HR))},r.qx=function(){r.xx=!0},r.zx=function(){r.xx&&(r.xx=!1,r.Fx())},r.Vx=i,r.Vx.yo("sl",r.Bx),r.jP.yo("timeupdate",r.HR),r}Xi(n,t);var e=n.prototype;return e.tx=function(n){var e=this.Vx.WP()._O(n);t.prototype.tx.call(this,e),this.Fx()},e.ux=function(){return t.prototype.ux.call(this)||this.Ax},e.Sx=function(){return tE.WO(t.prototype.Sx.call(this)).kO(this.Vx.WP()).RI()},e.gn=function(){this.ux()?this.tx(this.Wx.start(0)):this.Lx(),t.prototype.gn.call(this),this.Fx()},e.yg=function(n,e){var i=this;return ta((function(){return ea(this,(function(r){switch(r.label){case 0:return sc(e),i.Ax=!1,i.Vx.Bc(),[4,t.prototype.yg.call(i,n,e)];case 1:return r.sent(),[2]}}))}))()},e.kn=function(){return this.Vx.bo("sl",this.Bx),this.jP.bo("timeupdate",this.HR),this.Mx(),t.prototype.kn.call(this)},e.GP=function(n){switch(n.type){case"seeking":return this.lo(n),this.qx(),!0;case"seeked":case"emptied":return this.lo(n),this.zx(),!0;case"ended":if(this.Ux)return!0}return t.prototype.GP.call(this,n)},e.Mx=function(){this.Px&&(PI(this.Px),this.Px=void 0)},e.Fx=function(){var t=this.Dw,e=this.Ux&&t>=this.Vx.by-n.Zm;this.Ax&&!e?(this.Ax=!1,this.Lw&&this.gn()):this.Ax||!e||this.Mw||this.xx||(this.Ax=!0,this.lo(new pm(t)),this.yn())},e.Lx=function(){if(this.Aw!==1/0){var t=this.Wx,e=tE.WO(t)._O(this.Dw);ou(this.Dw,e,n.Zm)||this.tx(e)}},Ri(n,[{key:"Wx",get:function(){return this.Sx().length?this.Sx():this.Vx.WP().RI()}},{key:"Ux",get:function(){return this.Vx.by<this.Aw}}]),n}(yO);mO.Hx=1,mO.Zm=.001,ki(),Vt(),Ii();var _O=function(){function t(){this.jx=!1}return Ri(t,[{key:"Yx",get:function(){return this.jx},set:function(t){this.jx=t}}]),t}();ki(),Vt();var pO=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).Gx=!1,i.Xx=!1,i.jx=e,i}Xi(n,t);var e=n.prototype;return e.ux=function(){return!this.jx.Yx&&t.prototype.ux.call(this)},e.yn=function(){this.Xx=!0,t.prototype.yn.call(this)},e.gn=function(){this.Xx=!1,t.prototype.gn.call(this)},e.GP=function(n){if(this.jx.Yx)switch(n.type){case"ended":return this.Dw=0,this.Xx||(this.Mw?this.Gx=!0:this.gn()),!0;case"seeked":this.Gx&&(this.Gx=!1,this.gn());break;case"pause":if(this.Gx||t.prototype.ux.call(this))return!0}return t.prototype.GP.call(this,n)},n}(yO);ki(),Vt(),Ii(),ki(),Vt();var bO=function(){function t(t){var n;this.eO=t,this.Wd=(n=this,{get currentBandwidthEstimate(){return n.Hg},get corruptedVideoFrames(){return n.Ug},get droppedVideoFrames(){return n.Mg},get totalBytesLoaded(){return n.qg},get bufferedSegments(){return n.zg}})}return Ri(t,[{key:"jd",get:function(){return this.Wd}},{key:"Ug",get:function(){return this.eO.$x.Fg.Ug}},{key:"Hg",get:function(){return this.eO.$x.Fg.Hg}},{key:"Mg",get:function(){return this.eO.$x.Fg.Mg}},{key:"Kx",get:function(){throw new f("Not implemented")}},{key:"Jx",get:function(){throw new f("Not implemented")}},{key:"qg",get:function(){return this.eO.$x.Fg.qg}},{key:"Vg",get:function(){return this.eO.$x.Fg.Vg}},{key:"zg",get:function(){return this.eO.$x.Fg.zg}}]),t}();ki(),Vt(),Ii(),ki(),Vt();var kO=function(t){function n(){return t.call(this,"Zx")}return Xi(n,t),n.prototype.Yd=function(){return new TO},n}(Hg),TO=function(t){function n(){return t.call(this,"castingchange")}return Xi(n,t),n}(Sc);ki(),Vt();var SO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Qx=[],n.tB=!1,n.Wd=void 0,n.nB=function(){var t=n.tB,e=n.eB;t!==e&&(n.tB=e,n.lo(new kO))},n}Xi(n,t);var e=n.prototype;return e.iB=function(t){this.Qx.push(t),t.yo("statechange",this.nB)},e.kn=function(){for(var t=0,n=this.Qx;t<n.length;t++){n[t].bo("statechange",this.nB)}ec(this.Qx)},Ri(n,[{key:"eB",get:function(){return this.Qx.some((function(t){return t.eB}))}},{key:"jd",get:function(){var t,n,e;return this.Wd||(this.Wd=(e={get casting(){return t.eB},addEventListener:function(t,e){n.yo(t,e)},removeEventListener:function(t,e){n.bo(t,e)}},n=new lO(t=this,["Zx"],e),e)),this.Wd}}]),n}(pc);ki(),Vt(),ki(),Vt();var EO=function(){function t(){}return t.rB=function(t,n){return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e=new Yl({tv:t,$h:al.Si,_v:Fl.GET}),[4,n.Zh(e)];case 1:return[4,i.sent().Qi()];case 2:return[2,i.sent().trim()];case 3:return oc(i.sent()),[2,void 0];case 4:return[2]}}))}))()},t.uB=function(t){try{var n=zR(t);return new JR(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new Md(Ad.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.oB=function(t){void 0===t&&(t=vI.E_),Wi.Zr("The baked-in license is used. Please update the configuration with your license.");var n=t.DN('.$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl""'),e=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.DN(n)})),i=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.DN(n)})),r=Number(new Date(Number(t.DN('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.DN(n)}));return new JR(n,e,i,r,u)},t.convertLicenseToDummyLicense=function(t){return new JR(t.VN,t.HN,t.qN,864e13,t.WN,t.jN,Date.now(),t.GN,t.XN)},t}();ki(),Vt();var RO=function(){function t(){}return t.Ff=function(){return t._i||(t._i=IO.Hc()?new IO:new nl),t._i},t.qo=function(n){t.Ff().qo(n)},t.Bf=function(){t.Ff().Bf()},t.Uo=function(n){return t.Ff().Uo(n)},t.Lf=function(n,e){t.Ff().Lf(n,e)},t.sB=function(n){var e=t.Uo(n);if(void 0!==e)return w(e)},t.aB=function(n){return"true"===t.Uo(n)},t}();RO._i=void 0;var IO=function(n){function e(){return n.apply(this,arguments)}Xi(e,n);var i=e.prototype;return i.qo=function(n){t.localStorage.removeItem(n)},i.Bf=function(){t.localStorage.clear()},i.Uo=function(n){return t.localStorage[n]},i.Lf=function(n,e){t.localStorage[n]=e},e.Hc=function(){var n="foobar";try{return t.localStorage.setItem(n,n),t.localStorage.removeItem(n),!0}catch(t){}return!1},e}(RO),OO="https://validate.theoplayer.com/1/",CO=72e5,NO=d.floor(14399999*d.random()-CO),DO="THEOplayer.license",AO=function(){function t(t,n,e,i,r,u){this.nS=t,this.cB=n,this.fB=e,this.xD=i,this.hB=r,this.Ws=u,this.tD=rI(u)}var n=t.prototype;return n.vB=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return[4,t.dB(t.hB.license,t.hB.licenseUrl)];case 1:return n=e.sent(),t.xD.lB(n),[2]}}))}))()},n.dB=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a,c,f;return ea(this,(function(h){switch(h.label){case 0:return i=n,t?r=EO.uB(t):i||(r=EO.oB()),i||(i=OO+r.VN),u=e.wB(),r?(o=e.cB.sD(r))!==jR.FN?[3,3]:e.gB(r.zN)&&e.gB(null==u?void 0:u.zN)?[4,e.yB(i)]:[3,2]:[3,3];case 1:if(s=h.sent())return[2,s];h.label=2;case 2:return[2,r];case 3:return u?e.cB.sD(u)!==jR.FN?[3,6]:e.gB(null==u?void 0:u.zN)?[4,e.yB(i)]:[3,5]:[3,7];case 4:if(a=h.sent())return[2,a];h.label=5;case 5:return[2,u];case 6:RO.qo(DO),h.label=7;case 7:return[4,EO.rB(i,e.nS)];case 8:if(c=h.sent()){if(f=EO.uB(c),e.cB.sD(f)===jR.FN)return RO.Lf(DO,c),[2,f];RO.qo(DO)}else if(!e.tD&&r&&o===jR.MN&&i===OO+r.VN)return[2,EO.convertLicenseToDummyLicense(r)];if(!r&&!f)throw new Md(Ad.LICENSE_ERROR,"The given license is invalid!");return e.mB(null!=r?r:f,new Md(Ad.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.nD=function(t){var n=this;return ta((function(){var e,i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return[4,n.xD.GD()];case 1:return e=c.sent(),n.gB(e.zN)?(r=null!=(i=n.hB.licenseUrl)?i:OO+e.VN,[4,n.yB(r)]):[3,3];case 2:(u=c.sent())&&(n.xD.lB(u),e=u),c.label=3;case 3:try{if((o=n.cB.sD(e))===jR.UN)throw s=$R.$N,new Md(QR(s),sI.uD(s));if(o===jR.MN)throw a=$R.MN,new Md(QR(a),sI.uD(a));n.cB.nD(t,e)}catch(t){n._B(t)}return[2]}}))}))()},n.oD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.xD.GD()];case 1:e=i.sent();try{n.cB.oD(t,e)}catch(t){n._B(t)}return[2]}}))}))()},n.yB=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,EO.rB(t,n.nS)];case 1:return void 0===(e=r.sent())?[2,void 0]:(i=EO.uB(e),n.cB.sD(i)===jR.FN?(RO.Lf(DO,e),[2,i]):[2,void 0]);case 2:return r.sent(),[2,void 0];case 3:return[2]}}))}))()},n.gB=function(t){return!t||Number(new Date)+2592e5+NO>=t},n.wB=function(){var t=RO.Uo(DO);if(t)return EO.uB(t)},n.mB=function(t,n){this.xD.lB(t),this._B(n)},n._B=function(t){throw Nr(t.message),this.fB.KD(t.message),t},t}();ki(),Vt(),Ii();var PO=function(){function t(){this.pB=new Af}var n=t.prototype;return n.lB=function(t){this.bB=t,this.pB.Qo()},n.GD=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.bB?[2,Y.resolve(t.bB)]:[4,t.pB.Zo];case 1:return n.sent(),[2,t.bB]}}))}))()},Ri(t,[{key:"kB",get:function(){return this.bB}}]),t}();ki(),Vt(),Ii(),ki(),Vt();var xO=function(t){function n(){return t.call(this,"sl")}return Xi(n,t),n.prototype.Yd=function(){return new BO},n}(Hg),BO=function(t){function n(){return t.call(this,"change")}return Xi(n,t),n}(Sc);function LO(t){var n,e={get fontFamily(){return t.TB},set fontFamily(n){t.TB=n},get fontColor(){return t.SB},set fontColor(n){t.SB=n},get fontSize(){return t.EB},set fontSize(n){t.EB=n},get backgroundColor(){return t.RB},set backgroundColor(n){t.RB=n},get windowColor(){return t.IB},set windowColor(n){t.IB=n},get edgeStyle(){return t.OB},set edgeStyle(n){t.OB=n},get marginTop(){return t.CB},set marginTop(n){t.CB=n},get marginBottom(){return t.NB},set marginBottom(n){t.NB=n},get marginLeft(){return t.DB},set marginLeft(n){t.DB=n},get marginRight(){return t.AB},set marginRight(n){t.AB=n},addEventListener:function(t,e){var i=dy(t,hy);n.yo(i,e)},removeEventListener:function(t,e){var i=dy(t,hy);n.bo(i,e)}};return n=new bc(e),t.yo(["sl"],(function(t){return n.lo(t.jd)})),e}ki(),Vt();var FO={TB:void 0,SB:void 0,EB:void 0,RB:void 0,IB:void 0,OB:void 0,PB:void 0,CB:void 0,NB:void 0,DB:void 0,AB:void 0},MO="THEOplayer.textTrackStyle.",UO=function(t){function n(){var e;return(e=t.call(this)||this).Wd=void 0,e.xB=n.BB(),e}return Xi(n,t),n.prototype.kc=function(t){this.xB=na({},this.xB,t),n.LB(this.xB),this.lo(new xO)},n.BB=function(){var t=na({},FO);return t.TB=RO.Uo(MO+"fontFamily")||t.TB,t.SB=RO.Uo(MO+"fontColor")||t.SB,t.EB=RO.Uo(MO+"fontSize")||t.EB,t.RB=RO.Uo(MO+"backgroundColor")||t.RB,t.IB=RO.Uo(MO+"windowColor")||t.IB,t.OB=RO.Uo(MO+"edgeStyle")||t.OB,t},n.LB=function(t){RO.Lf(MO+"fontFamily",t.TB||""),RO.Lf(MO+"fontColor",t.SB||""),RO.Lf(MO+"fontSize",t.EB||""),RO.Lf(MO+"backgroundColor",t.RB||""),RO.Lf(MO+"windowColor",t.IB||""),RO.Lf(MO+"edgeStyle",t.OB||"")},Ri(n,[{key:"FB",get:function(){return this.xB}},{key:"TB",get:function(){return this.xB.TB},set:function(t){this.kc({TB:t})}},{key:"SB",get:function(){return this.xB.SB},set:function(t){this.kc({SB:t})}},{key:"EB",get:function(){return this.xB.EB},set:function(t){this.kc({EB:t})}},{key:"RB",get:function(){return this.xB.RB},set:function(t){this.kc({RB:t})}},{key:"IB",get:function(){return this.xB.IB},set:function(t){this.kc({IB:t})}},{key:"OB",get:function(){return this.xB.OB},set:function(t){this.kc({OB:t})}},{key:"PB",get:function(){return this.xB.PB}},{key:"CB",get:function(){return this.xB.CB},set:function(t){this.kc({CB:t})}},{key:"NB",get:function(){return this.xB.NB},set:function(t){this.kc({NB:t})}},{key:"AB",get:function(){return this.xB.AB},set:function(t){this.kc({AB:t})}},{key:"DB",get:function(){return this.xB.DB},set:function(t){this.kc({DB:t})}},{key:"jd",get:function(){return this.Wd||(this.Wd=LO(this)),this.Wd}}]),n}(pc);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();ol.ih,ol.eh,vm.Nw,ol.mh,ol.rh,ol.Jf,ol.fh,ol.ah,ol.Xf,ol.uh,ol._h,ol.Yf,vm.al,ol.sh,ky.Vl,kc.Ao,kc.xo,ol.zf,ol.qf,ol.ph;var VO,HO={MB:!1};ki(),Vt(),ki(),Vt(),(VO||(VO={})).TN="UB",ki(),Vt();var qO=function(t){function n(n){var e;return(e=t.call(this,ol.rh)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var zO,WO,jO,YO,GO,XO,$O,KO,JO,ZO,QO,tC,nC=function(t){function n(){return t.call(this,ol.Jf)}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),(zO||(zO={})).VB="HB",(jO=WO||(WO={}))[jO.qB=0]="qB",jO[jO.Eh=1]="Eh",jO[jO.zB=2]="zB",ki(),Vt(),(YO||(YO={})).WB="jB",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(XO=GO||(GO={}))[XO.YB=0]="YB",XO[XO.GB=1]="GB",XO[XO.XB=2]="XB",ki(),Vt(),ki(),Vt(),ki(),Vt(),(KO=$O||($O={}))[KO.$B=3]="$B",KO[KO.KB=4]="KB",KO[KO.JB=5]="JB",(ZO=JO||(JO={}))[ZO.ZB=64]="ZB",ZO[ZO.QB=103]="QB",ZO[ZO.tL=107]="tL",ki(),Vt(),ki(),Vt(),(tC=QO||(QO={}))[tC.nL=0]="nL",tC[tC.eL=1]="eL",tC[tC.QB=2]="QB",tC[tC.iL=5]="iL",tC[tC.rL=34]="rL",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();sr.ui;ki(),Vt(),ki(),Vt(),ki(),Vt();ki(),Vt();ol.ih,ol.eh,ol.fh,ol.ah,ol.Xf,ol.uh,vm.al,ky.Vl;ki(),Vt();var eC,iC;sr.Qe||sr.ti;(iC=eC||(eC={})).uL="closed",iC.Pv="open",iC.Xf="ended",ki(),Vt();ol._h,ol.uh,ol.fh,ol.ih,ol.eh;ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();vm.al,ol.ih,ol.eh,ol.fh,ol.ah,ol.Xf,ky.Vl;function rC(t,n){return t.py<=n&&t.by>n}function uC(t,n){return function(t,n){return $a(t.py,n.py,P_)}(t,n)||function(t,n){return $a(t.by,n.by,P_)}(t,n)}function oC(t,n){var e=function(t,n,e,i,r,u,o){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,a=o-1;s<=a;){var c=s+(a-s>>1),f=i(e(t[c]),n);if(f<0)s=c+1;else if(f>0)a=c-1;else{if(!(r&&c>u&&0===i(e(t[c-1]),n)))return c;a=c-1}}return~s}(t,n,br,uC,!0);if(e<0)return e;for(;e<t.length&&uC(n,t[e])===qa.ju;e++)if(t[e].Ny(n))return e;return-(e+1)}function sC(t){var n=t.Gd;if(!n)return-1;if(t instanceof x_)return n.oL(t);var e=n.$l;if(!e)return-1;var i=oC(e.kl,t);return i>=0?i:-1}ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii();var aC=function(){function t(t){this.Wd=void 0,this.sL=t}var n=t.prototype;return n.Yd=function(){return function(t){for(var n=[],e=0;e<t.Tl;e++)n[e]=t.Uo(e).jd;return n.item=function(n){var e=0|n,i=t.Uo(e);return i&&i.jd||void 0},v.defineProperty(n,"constructor",{value:N_}),n}(this)},n.Zg=function(t){for(var n=this.sL,e=n.length-1;e>=0;e-=1){var i=n[e];if(t.Ny(i))return!0}return!1},n.Uo=function(t){return this.sL[t]},Ri(t,[{key:"kl",get:function(){return this.sL}},{key:"Tl",get:function(){return this.sL.length}},{key:"jd",get:function(){if(this.Wd){var t=this.sL;this.Wd.length=t.length;for(var n=0;n<t.length;n++)this.Wd[n]=t[n].jd}else this.Wd=this.Yd();return this.Wd}}]),t}();ki(),Vt();var cC=function(t){function n(n,e){var i;return(i=t.call(this,Gg.al)||this).Gd=n,i.Xl=e,i}return Xi(n,t),n.prototype.Yd=function(){return new fC(this.Gd.jd,this.Xl)},n}(zg),fC=function(t){function n(n,e){var i;return(i=t.call(this,"readystatechange")||this).track=n,i.readyState=e,i}return Xi(n,t),n}(Wg);ki(),Vt();var hC=function(t){function n(n){var e;return(e=t.call(this,Gg.fl)||this).Gd=n,e}return Xi(n,t),n.prototype.Yd=function(){return new vC(this.Gd.jd)},n}(zg),vC=function(t){function n(n){var e;return(e=t.call(this,"typechange")||this).track=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var dC=function(t){function n(n){var e;return(e=t.call(this,Gg.Xd)||this)._y=n,e}return Xi(n,t),n.prototype.Yd=function(){return new lC(this._y.jd)},n}(zg),lC=function(t){function n(n){var e;return(e=t.call(this,"addcue")||this).cue=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var wC=function(t){function n(n){var e;return(e=t.call(this,Gg.Kd)||this)._y=n,e}return Xi(n,t),n.prototype.Yd=function(){return new gC(this._y.jd)},n}(zg),gC=function(t){function n(n){var e;return(e=t.call(this,"removecue")||this).cue=n,e}return Xi(n,t),n}(Wg),yC=function(t){function n(n,e,i,r,u,o,s,a){var c;return(c=t.call(this)||this).ny=h_(),c.aL=!1,c.SC=py.jl,c.cL=m_.NONE,c.fL=void 0,c.sL=[],c.hL=[],c.vL=0,c.dL=0,c.sc=e||"",c.lL=a||"",c.wL=n,c.Zs=r||"",c.aL=Boolean(u),c.gL=Boolean(s),c.nr=o||p_.DEFAULT,c.ey=i||"",c.yL=new aC(c.sL),c.mL=new aC(c.hL),c}Xi(n,t);var e=n.prototype;return e._L=function(t){return Ja(this.yL.kl,(function(n){return n.Pl===t}))},e.Yd=function(){return Ey(this)},e.AC=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}(t);n!==this.ql&&(this.SC=n,n===py.jl&&(this.hL.forEach((function(t){t.Dy=!1})),ec(this.hL),this.dL=0),this.lo(new Zg(this)))},e.uS=function(t){if(t&&!t.Gd){var n=oC(this.$l.kl,t);if(!(n>=0)){t.Gd=this;var e=-(n+1);this.sL.splice(e,0,t),this.pL(e),t.Ey=e,e<this.dL&&(this.dL=e),this.lo(new dC(t))}}},e.WT=function(t){if(t&&t.Gd===this){var n=this.oL(t);if(!(n<0)){t.Dy=!1;var e=this.hL,i=oC(e,t);i>=0&&tc(e,i),tc(this.sL,n),this.pL(n),t.Ey=-1,this.dL>n&&--this.dL,this.lo(new wC(t))}}},e.bL=function(t,n){var e=this.hL,i=this.sL,r=this.dL,u=!1;n&&(r=0);for(var o=e.length-1;o>=0;o--){rC(e[o],t)||(u=!0,tc(e,o))}for(;r<i.length&&i[r].py<=t;){var s=i[r];if(0===t)break;rC(s,t)&&!nc(e,s)&&(u=!0,e.push(s)),r++}u&&ja(e,uC),this.dL=r},e.oL=function(t){return(-1===t.Ey||t.Ey>=this.vL)&&this.kL(),t.Ey},e.kL=function(){for(var t=this.sL,n=this.vL;n<t.length;n++)t[n].Ey=n;this.vL=t.length},e.pL=function(t){t<this.vL&&(this.vL=t)},e.Yl=function(t){this.Gl||(this.ql=t)},e.kn=function(){this.po();for(var t=this.sL.slice(),n=0;n<t.length;n++){t[n].kn()}ec(this.sL),ec(this.hL)},Ri(n,[{key:"Kl",get:function(){return this.mL}},{key:"$l",get:function(){return this.yL}},{key:"sS",get:function(){return this.aL},set:function(t){this.aL=t}},{key:"Gl",get:function(){return this.gL}},{key:"jd",get:function(){return this.Wd||(this.Wd=this.Yd()),this.Wd}},{key:"Pl",get:function(){return this.sc}},{key:"xl",get:function(){return this.ny}},{key:"Hl",get:function(){return this.lL},set:function(t){this.lL=t}},{key:"Bl",get:function(){return this.wL}},{key:"Ll",get:function(){return this.ey},set:function(t){t!==this.ey&&(this.ey=t,this.lo(new a_(this)))}},{key:"Fl",get:function(){return this.Zs}},{key:"ql",get:function(){return this.SC},set:function(t){this.AC(t)}},{key:"Xl",get:function(){return this.cL},set:function(t){this.cL!==t&&(this.cL=t,this.lo(new cC(this,this.cL)))}},{key:"Jl",get:function(){return this.fL},set:function(t){this.fL=t}},{key:"xu",get:function(){return this.nr},set:function(t){this.nr!==t&&(this.nr=t,this.lo(new hC(this)))}}]),n}(pc);ki(),Vt(),ki(),Vt(),ki(),Vt();var mC=function(t){function n(n,e){var i;return(i=t.call(this,S_.wy,n)||this).zm=e,i}return Xi(n,t),n.prototype.Yd=function(){return new _C(this._y.jd)},n}(I_),_C=function(t){function n(n){return t.call(this,"enter",n)}return Xi(n,t),n}(O_);ki(),Vt();var pC=function(t){function n(n,e){var i;return(i=t.call(this,S_.yy,n)||this).zm=e,i}return Xi(n,t),n.prototype.Yd=function(){return new bC(this._y.jd)},n}(I_),bC=function(t){function n(n){return t.call(this,"exit",n)}return Xi(n,t),n}(O_);ki(),Vt();var kC=function(t){function n(n){var e;return(e=t.call(this,Gg.Zd)||this)._y=n,e}return Xi(n,t),n.prototype.Yd=function(){return new TC(this._y.jd)},n}(zg),TC=function(t){function n(n){var e;return(e=t.call(this,"entercue")||this).cue=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var SC=function(t){function n(n){var e;return(e=t.call(this,Gg.tl)||this)._y=n,e}return Xi(n,t),n.prototype.Yd=function(){return new EC(this._y.jd)},n}(zg),EC=function(t){function n(n){var e;return(e=t.call(this,"exitcue")||this).cue=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var RC,IC,OC,CC,NC=function(t){function n(n){var e;return(e=t.call(this,Gg.il)||this).Gd=n,e}return Xi(n,t),n.prototype.Yd=function(){return new DC(this.Gd.jd)},n}(zg),DC=function(t){function n(n){var e;return(e=t.call(this,"cuechange")||this).track=n,e}return Xi(n,t),n}(Wg);function AC(t,n,e){for(var i=t[n].py,r=n;r>=0&&t[r].py===i;r--)t[r].by=e}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(IC=RC||(RC={}))[IC.ISO_8859_1=0]="ISO_8859_1",IC[IC.UTF16_BOM=1]="UTF16_BOM",IC[IC.UTF16=2]="UTF16",IC[IC.UTF8=3]="UTF8",(CC=OC||(OC={}))[CC.V22=2]="V22",CC[CC.V23=3]="V23",CC[CC.V24=4]="V24",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();function PC(t,n){return Xa(t.zm,n.zm)||function(t,n){return t.Gd===n.Gd?Ga(sC(t),sC(n)):Tb(t.Gd,n.Gd)}(t._y,n._y)||function(t,n){return t===n?qa.ju:t===S_.wy?qa.Gu:qa.Yu}(t.type,n.type)}var xC=function(){function t(t,n){var e=this;this.sg=[],this.TL=0,this.SL=0,this.EL=[],this.RL=[],this.IL=!1,this.OL=!1,this.CL=void 0,this.NL=function(){e.TL=0,e.DL(),e.AL()},this.PL=function(){e.DL(),e.AL()},this.xL=function(){e.OL=!0,e.CL=e.eO.Dw,e.BL()},this.LL=function(){e.DL(),e.AL()},this.FL=function(){e.ML(),e.DL(),e.AL()},this.UL=function(t){nc(e.RL,t._y)||e.RL.push(t._y),e.VL()},this.HL=function(t){Qa(e.EL,t._y),Qa(e.RL,t._y),e.VL()},this.qL=n,this.eO=t,t.yo(ol.mh,this.PL),t.yo(ol.ih,this.PL),t.yo(vm.Nw,this.PL),t.yo(ol.eh,this.PL),t.yo(ol.fh,this.xL),t.yo(ol.ah,this.LL),this.VL()}var n=t.prototype;return n.Bc=function(){ec(this.EL);for(var t=0,n=this.sg.slice();t<n.length;t++){var e=n[t];this.pl(e)}this.BL(),this.TL=0,this.SL=0,this.IL=!1,this.OL=!1,this.CL=void 0},n._l=function(t){if(!nc(this.sg,t)){if(this.sg.push(t),t.yo(Gg.Xd,this.UL),t.yo(Gg.Kd,this.HL),t.yo(Gg.ol,this.FL),t.$l.Tl>0){for(var n=0,e=t.$l.kl;n<e.length;n++){var i=e[n];this.RL.push(i)}this.VL()}this.ML()}},n.pl=function(t){if(Qa(this.sg,t)){if(t.bo(Gg.Xd,this.UL),t.bo(Gg.Kd,this.HL),t.bo(Gg.ol,this.FL),t.$l.Tl>0){for(var n=0,e=t.$l.kl;n<e.length;n++){var i=e[n];Qa(this.EL,i),Qa(this.RL,i)}this.VL()}this.ML()}},n.ML=function(){this.IL=this.sg.some((function(t){return t.ql!==py.jl}))},n.AL=function(){this.eO.Mw||this.eO.Lw?this.BL():this.VL()},n.VL=function(){this.IL&&(this.TL||(this.TL=this.qL.H(this.NL)))},n.BL=function(){this.TL&&(this.qL.zL(this.TL),this.TL=0)},n.DL=function(){if(this.IL&&!this.eO.Mw){var t,n=this.sg,e=this.SL,i=null!=(t=this.CL)?t:this.eO.Dw,r=i-e<-.1,u=this.OL||r;u&&i>e&&i-e<.1&&(u=!1),this.OL=!1,this.CL=void 0;for(var o,s=[],a=0;a<n.length;a++){var c=n[a];if(c.ql!==py.jl){c.bL(i,u);for(var f=0,h=c.Kl.kl;f<h.length;f++){var v=h[f];s.push(v)}}}if(u)o=this.EL;else{o=[];for(var l=0;l<n.length;l++){var w=n[l];w.ql!==py.jl&&kb(w,e-vu,i,o)}}for(var g=o.length-1;g>=0;g--)nc(s,o[g])&&tc(o,g);var y=[];if(!u)for(var m=o.length-1;m>=0;m--){var _=o[m];_.py>e&&_.by<=i&&(y.push(_),tc(o,m))}for(var p=0,b=this.RL;p<b.length;p++){Qa(y,b[p])}ec(this.RL);for(var k=[],T=[],S=0;S<y.length;S++){var E=y[S];E.Dy||k.push(new mC(E,E.py)),k.push(new pC(E,d.max(E.py,E.by))),E.Dy=!1}for(var R=0;R<o.length;R++){var I=o[R];I.Dy&&(k.push(new pC(I,d.max(I.py,I.by))),I.Dy=!1)}for(var O=0;O<s.length;O++){var C=s[O];C.Dy||(k.push(new mC(C,C.py)),C.Dy=!0)}k.sort(PC);for(var N=0;N<k.length;N++){var D=k[N],A=D._y;A.lo(D);var P=A.Gd;P&&(D.type===S_.wy?P.lo(new kC(A)):P.lo(new SC(A)),nc(T,P)||T.push(P))}T.sort(Tb);for(var x=0;x<T.length;x++){var B=T[x];B.lo(new NC(B))}this.SL=i,this.EL=s}},n.kn=function(){this.Bc(),this.eO.bo(ol.mh,this.PL),this.eO.bo(ol.ih,this.PL),this.eO.bo(vm.Nw,this.PL),this.eO.bo(ol.eh,this.PL),this.eO.bo(ol.fh,this.xL),this.eO.bo(ol.ah,this.LL)},t}();ki(),Vt();var BC=function(){function t(){}var n=t.prototype;return n.H=function(t){return AI(t)},n.zL=function(t){PI(t)},t}(),LC=new BC,FC=function(t){function n(n,e){return void 0===e&&(e=LC),t.call(this,n,e)}return Xi(n,t),n}(xC);ki(),Vt(),ki(),Vt(),Ii();var MC=function(t){function n(n,e,i){return t.call(this,n,1/0,e,!1,i)}return Xi(n,t),n.prototype.Ny=function(n){return this===n||oy(this,n)&&t.prototype.Ny.call(this,n)&&(e=n,this.ky===e.ky);var e},Ri(n,[{key:"jd",get:function(){return this.Wd||(this.Wd=C_(this)),this.Wd}}]),n}(x_);ki(),Vt(),ki(),Vt();var UC=function(t){function n(n,e,i){return void 0===i&&(i=p_.DEFAULT),t.call(this,db.Tp,"",e||"","",!1,i,!1,n)}return Xi(n,t),n}(yC),VC=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).xu=p_.ID3,i}Xi(n,t);var e=n.prototype;return e.uS=function(n){!function(t,n){if(0!==n.length){var e=n.length-1;if(n[e].py<t.py)AC(n,e,t.py);else{var i=n[0];if(i.py>t.py)t.by=i.py;else{var r=oC(n,t);if(!(r>=0)){var u=-(r+1),o=u-1;if(o>=0&&n[o].py<t.py&&AC(n,o,t.py),u<n.length){var s=n[u];t.by=s.py}}}}}}(n,this.sL),t.prototype.uS.call(this,n)},e.Yd=function(){return Ey(this)},n}(UC);ki(),Vt();var HC=function(t){function n(n,e){var i;(i=t.call(this)||this).tS=n,i.WL=e,i.jL=new va;var r=lu(i);return i.TR=ta((function(t){var n;return ea(this,(function(e){switch(e.label){case 0:return(n=t.Gd).xu?[3,2]:[4,n.Eo(Gg.fl)];case 1:e.sent(),e.label=2;case 2:if(n.xu!==p_.ID3)return[2];e.label=3;case 3:return 0!==n.$l.Tl?[3,5]:[4,n.Eo(Gg.Xd)];case 4:return e.sent(),[3,3];case 5:return r.YL(n),[2]}}))})),i.SR=function(t){var n=t.Gd;if(n.xu===p_.ID3&&i.jL.has(n.xl)){var e=i.jL.get(n.xl);i.pl(e),i.tS.oS(e),n.bo(Gg.Xd,i.GL)}},i.GL=function(t){qC(t._y)&&i.XL(t._y)},i.$L(),i}Xi(n,t);var e=n.prototype;return e.$L=function(){this.WL.yo(xg.Vd,this.TR),this.WL.yo(xg.qd,this.SR)},e.KL=function(){this.WL.bo(xg.Vd,this.TR),this.WL.bo(xg.qd,this.SR)},e.YL=function(t){var n=t.$l.kl[0];if(qC(n)){var e=function(t){var n=t.match(zC);if(!n)return;return{Gd:n[1],Fl:n[2]}}(n.ky.description),i=e.Gd,r=e.Fl;if(!this.JL(i,r)){var u=this.tS.iS(db.bp,t.Pl,i,r,!1,p_.TTML);this._l(u),this.jL.set(t.xl,u);for(var o=0,s=t.$l.kl;o<s.length;o++){var a=s[o];qC(a)&&this.XL(a)}t.yo(Gg.Xd,this.GL)}}},e.JL=function(t,n){return this.yb.kl.some((function(e){return e.Ll===t&&e.Fl===n}))},e.XL=function(t){if(t.Gd)for(var n=this.jL.get(t.Gd.xl),e=ib(t.ky.text,0,{__:0,p_:1/0,b_:t.py}),i=0;i<e.length;i++){var r=e[i];n.uS(r)}},e.Bc=function(){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:for(e=0,i=n.WL.kl;e<i.length;e++)i[e].bo(Gg.Xd,n.GL);for(r=0,u=n.yb.kl;r<u.length;r++)o=u[r],n.tS.oS(o);return n.jL.clear(),[4,t.prototype.Bc.call(n)];case 1:return s.sent(),[2]}}))}))()},e.kn=function(){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return n.KL(),[4,t.prototype.kn.call(n)];case 1:return e.sent(),[2]}}))}))()},n}(Ob);function qC(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.ky)&&zC.test(n.description);var n}var zC=/^Track:(.+),Lang:(.+)$/;ki(),Vt(),Ii(),ki(),Vt(),Ii();var WC=function(t){function n(n){var e;return(e=t.call(this,ol.qf)||this).errorObject=n,e}return Xi(n,t),Ri(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Sc);ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var jC=function(t){function n(){return t.call(this,ol.zf)}return Xi(n,t),n}(Sc);ki(),Vt();var YC=function(t){function n(n){var e;return(e=t.call(this,"bh")||this).ZL=n,e}return Xi(n,t),n}(Sc),GC=new jd,XC=function(t){function n(n){var e;return(e=t.call(this,"yc")||this).session=n,e}return Xi(n,t),n}(Sc),$C=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).QL=n,r.tF=e,r.nF=i,r.eF=!1,r.iF=!1,r.vf=new rc,r.dc=function(t){if(!r.vf.fo.Xu)switch(t.Co){case"license-request":case"license-renewal":r.zS(t.Oo,t.No).catch((function(t){return r.$c(t)}));break;default:r.$c(new t_(Ad.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Co))}},r.rF=function(t){r.QL.Rc.Vo((function(t,n){switch(t){case"usable":Wi.nu((function(){r.iF=!0,r.lo(new jC)}),100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":r.lo(new YC(n))}}))},r.uF=function(t){r.$c(new t_(Ad.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.yo("Oo",r.dc),n.yo("Io",r.rF),n.yo("Do",r.uF),n.Sc.then((function(){return r.oF()})),r}Xi(n,t);var e=n.prototype;return e.mc=function(){var t=this;return this.eF=!0,GC.gf((function(n){return t.sF(n)}),this.vf.fo)},e.sF=function(t){var n=this;return ta((function(){var e,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),sc(t),[4,n.tF.LS(t)];case 1:return o.sent(),[4,n.tF.FS(n.nF.Lu,n.nF.Lo,t)];case 2:return e=o.sent(),[4,n.QL.mc(n.nF.Lu,n.nF.Lo,e)];case 3:return o.sent(),[3,5];case 4:throw ac(i=o.sent()),r=i instanceof Lf?i.rs:void 0,u=new t_(Ad.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",i,void 0,void 0,void 0,void 0,r),n.$c(u),u;case 5:return[2]}}))}))()},e.zS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return qc(t,Pf())}(t)?[4,e.tF.JS(new y(t),e.vf.fo)]:[3,2];case 1:return i=c.sent(),[3,4];case 2:return[4,e.tF.ZS(new y(t),n,e.vf.fo)];case 3:i=c.sent(),c.label=4;case 4:return[3,6];case 5:if(oc(r=c.sent()))return[2];throw r;case 6:if(e.vf.fo.Xu)return[2];u=e.aF,o=new Af,e.aF=o,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,e.QL.kc(i)];case 8:return c.sent(),[4,yc(100)];case 9:return c.sent(),[3,14];case 10:throw s=c.sent(),a=s instanceof Lf?s.rs:void 0,new t_(Ad.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.Zo];case 12:c.sent(),c.label=13;case 13:return o.Qo(),e.aF===o&&(e.aF=void 0),[7];case 14:return[2]}}))}))()},e.$c=function(t){var n=t instanceof t_?t:new t_(Ad.CONTENT_PROTECTION_ERROR,t.message,t);this.lo(new WC(n)),this.yc()},e.oF=function(){this.QL.bo("Oo",this.dc),this.QL.bo("Io",this.rF),this.QL.bo("Do",this.uF),this.iF=!1,this.vf.so(),this.lo(new XC(this))},e.yc=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:t.po(),e.label=1;case 1:return void 0===(n=t.aF)?[3,3]:[4,n.Zo];case 2:e.sent(),e.label=3;case 3:if(t.aF!==n)return[3,1];e.label=4;case 4:return t.oF(),[4,t.QL.yc().catch(pr)];case 5:return e.sent(),[2]}}))}))()},n}(pc);ki(),Vt();var KC=[ol.zf,ol.qf,ol.ph],JC=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).cF=[],r.fF=void 0,r.hF=[],r.vF=function(t){t.session.bo(KC,r.do),t.session.bo("yc",r.vF),Qa(r.cF,t.session)},r.cc=n,r.Oc=e,r.dF=i,r}Xi(n,t);var e=n.prototype;return e.KS=function(){return this.dF.KS()},e.lF=function(t){return this.fF||(this.fF=this.wF(t)),this.fF},e.wF=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return sc(t),[4,n.dF.JS(new y(Pf()),t)];case 1:if(e=i.sent(),sc(t),!n.Oc)throw new f("Invalid MediaKeys when setting ServerCertificate");return[4,n.Oc.Ac(e.buffer)];case 2:return i.sent(),[2]}}))}))()},e.gF=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:if(!n.Oc)throw new f("Invalid MediaKeys when creating KeySession");r.label=1;case 1:return r.trys.push([1,,3,4]),n.hF.push(t),[4,n.Oc.Dc("temporary")];case 2:return e=r.sent(),i=new $C(e,n.dF,t),n.cF.push(i),i.yo(KC,n.do),i.yo("yc",n.vF),[2,i];case 3:return Qa(n.hF,t),[7];case 4:return[2]}}))}))()},e.yF=function(t){if(t.mF)return!1;for(var n=0,e=this.cF;n<e.length;n++){if(ZC(e[n].nF,t))return!0}for(var i=0,r=this.hF;i<r.length;i++){if(ZC(r[i],t))return!0}return!1},e.kn=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return t.Oc=void 0,t.po(),n=t.cF.slice(),ec(t.cF),[4,Y.all(n.map((function(t){return t.yc()})))];case 1:return e.sent(),t.dF.Qu(),[2]}}))}))()},Ri(n,[{key:"Cc",get:function(){return this.cc}}]),n}(pc);function ZC(t,n){return!t.mF&&t.Lu===n.Lu&&qc(t.Lo,n.Lo)}var QC=function(t){function n(n){var e;(e=t.call(this)||this).vf=new rc,e._F=new jd,e.nf=void 0,e.dF=void 0,e.AR=void 0,e.cc=void 0;var i=lu(e);return e.pF=ta((function(t){var n;return ea(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.bF(t.Lu,t.Lo,i.vf.fo)];case 1:return e.sent(),[3,3];case 2:return oc(n=e.sent())||i.$c(n),[3,3];case 3:return[2]}}))})),e.eI=n,e.eI.yo(kc.Ao,e.pF),e}Xi(n,t);var e=n.prototype;return e._c=function(t,n){this.AR=t,this.kF(n)},e.kF=function(t){this.nf=t,this.TF(this.vf.fo).catch(cc)},e.TF=function(t){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return Wi.gu.Pr?[4,n.SF(t)]:[3,2];case 1:if(e.sent())return[2];e.label=2;case 2:return n.nf&&n.nf.EF?[4,n.RF(t)]:[3,4];case 3:return[2,e.sent()];case 4:return[2]}}))}))()},e.SF=function(t){var n=this;return ta((function(){var e,i,r,u,o,s,a,c,f,h,v;return ea(this,(function(d){switch(d.label){case 0:if(!(null==(e=n.nf)?void 0:e.hI))return[2,!1];r=!1,o=0,s=null!=(u=null==(i=n.nf)?void 0:i.hI)?u:[],d.label=1;case 1:if(!(o<s.length))return[3,9];a=s[o],f=0,h=null!=(c=a.pR)?c:[],d.label=2;case 2:if(!(f<h.length))return[3,7];v=h[f],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.bF(a.Cc.Lu,v,t)];case 4:return d.sent(),r=!0,[3,6];case 5:return ac(d.sent()),[3,6];case 6:return f++,[3,2];case 7:if(r)return[2,!0];d.label=8;case 8:return o++,[3,1];case 9:return[2,!1]}}))}))()},e.bF=function(t,n,e){var i=this;return ta((function(){var r,u,o,s,a,c,f,h,v,d;return ea(this,(function(l){switch(l.label){case 0:if(sc(e),!n.byteLength)return[2];if(!i.nf||!i.nf.hI.length)throw new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==wa&&t!==ya&&t!==ga)return[2];r=jk(t,n),u=i.nf.hI,s=0,l.label=1;case 1:if(!(s<u.length))return[3,11];if(a=u[s],sc(e),!(c=r[a.Cc.Fu])||a.Cc.Lu!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,i.IF(a,e)];case 3:return(f=l.sent()).KS()?[4,f.lF()]:[3,5];case 4:l.sent(),l.label=5;case 5:return h=i.eI.Lg,v={Lu:a.Cc.Lu,Lo:c,mF:h},i.OF(f,v)?[4,f.gF(v)]:[3,8];case 6:return[4,l.sent().mc()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return ac(d=l.sent()),o=d,[3,10];case 10:return s++,[3,1];case 11:return[4,Wi.uu()];case 12:throw l.sent()?new t_(Ad.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o):new t_(Ad.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o)}}))}))()},e.RF=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:if(!(i=null==(e=n.nf)?void 0:e.hI))return[2];r=0,s.label=1;case 1:if(!(r<i.length))return[3,8];u=i[r],sc(t),s.label=2;case 2:return s.trys.push([2,6,,7]),[4,n.IF(u,t)];case 3:return(o=s.sent()).KS()?[4,o.lF()]:[3,5];case 4:s.sent(),s.label=5;case 5:return[2];case 6:return ac(s.sent()),[3,7];case 7:return r++,[3,1];case 8:return[2]}}))}))()},e.OF=function(t,n){return Wi.gu.Ar||this.eI.CF.MB||!t.yF(n)},e.IF=function(t,n){var e=this;return this._F.gf((function(n){return e.NF(t,n)}),n)},e.NF=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:if(sc(n),!e.nf||!e.dF||!e.AR)throw new f("Not initialized");if(e.cc){if(e.cc.Cc!==t.Cc)throw new f("Internal key system error");return[2,e.cc]}return i=e.dF,u=na({},t,{SI:t.SI.map((function(n){return na({},n,{persistentState:null!=(r=n.persistentState)?r:i.pE(t.Cc),Vc:n.Vc||i.Vc(t.Cc)})}))}),[4,e.AR.DF(u.Cc,u.SI)];case 1:return o=c.sent(),s=i._R(u),(a=new JC(u.Cc,o,s)).yo([ol.zf,ol.qf,ol.ph],e.do),e.cc=a,[2,a]}}))}))()},e.$c=function(t){var n=t instanceof t_?t:new t_(Ad.CONTENT_PROTECTION_ERROR,t.message,t);this.lo(new WC(n))},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.AR=void 0,t.nf=void 0,t.vf.so(),t.vf=new rc,[4,t.AF()];case 1:return n.sent(),[2]}}))}))()},e.AF=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return[4,t._F.so()];case 1:return e.sent(),(n=t.cc)?(n.bo(ol.ph,t.do),t.cc=void 0,[4,n.kn()]):[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))()},e.Qu=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.po(),t.eI.bo(kc.Ao,t.pF),[4,t.Bc()];case 1:return n.sent(),[4,t._F.kn()];case 2:return n.sent(),[2]}}))}))()},Ri(n,[{key:"PF",get:function(){var t;return null==(t=this.cc)?void 0:t.Cc}},{key:"sI",get:function(){return this.dF},set:function(t){this.dF=t}}]),n}(pc);sr.Qe||sr.ti,sr.mi,sr.ui,sr.ui&&sr.Ve;ki(),Vt(),Ii();var tN,nN,eN,iN;new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Wd=void 0,n}return Xi(n,t),Ri(n,[{key:"jd",get:function(){return this.Wd||(this.Wd=LO(this)),this.Wd}},{key:"TB",get:function(){}},{key:"SB",get:function(){}},{key:"EB",get:function(){}},{key:"RB",get:function(){}},{key:"IB",get:function(){}},{key:"OB",get:function(){}},{key:"PB",get:function(){}},{key:"CB",get:function(){}},{key:"NB",get:function(){}},{key:"DB",get:function(){}},{key:"AB",get:function(){}}]),n}(pc));ki(),Vt(),ki(),Vt(),Ti(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(nN=tN||(tN={})).xF='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',nN.BF='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',nN.LF='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',nN.FF='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',(iN=eN||(eN={})).BLACK="#000000",iN.WHITE="#FFFFFF",iN.GREEN="#00ff00",iN.BLUE="#0000ff",iN.CYAN="#00ffff",iN.RED="#ff0000",iN.YELLOW="#ffff00",iN.MAGENTA="#ff00ff",iN.TRANSPARENT="transparent";var rN,uN,oN,sN;(function(t){var n=ua();for(var e in t)ar.call(t,e)&&n.set(e,t[e])})({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),eN.WHITE,eN.TRANSPARENT,eN.TRANSPARENT;ki(),Vt(),ki(),Vt(),Ti(),(uN=rN||(rN={})).MF="Data",uN.UF="Tag",uN.VF="StartTag",uN.HF="StartTagClass",uN.qF="StartTagAnnotation",uN.zF="CharRefInAnnotation",uN.WF="EndTag",uN.jF="TimestampTag",(sN=oN||(oN={})).YF="string",sN.GF="starttag",sN.XF="endtag",sN.KF="timestamp",ki(),Vt(),ki(),Vt();var aN,cN,fN,hN;eN.WHITE,eN.TRANSPARENT;(cN=aN||(aN={}))[cN.POS_X=0]="POS_X",cN[cN.NEG_X=1]="NEG_X",cN[cN.POS_Y=2]="POS_Y",cN[cN.NEG_Y=3]="NEG_Y",ki(),Vt(),ki(),Vt(),ki(),Vt(),(hN=fN||(fN={})).FONT_REGULAR="regular",hN.FONT_UNDERLINE="underline",hN.FONT_ITALICS="italics",hN.FONT_UNDERLINE_ITALICS="underline-italics";var vN,dN,lN,wN;eN.WHITE,tN.LF,eN.BLACK,eN.WHITE,eN.WHITE,eN.GREEN,eN.GREEN,eN.BLUE,eN.BLUE,eN.CYAN,eN.CYAN,eN.RED,eN.RED,eN.YELLOW,eN.YELLOW,eN.MAGENTA,eN.MAGENTA,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE,eN.WHITE;ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(dN=vN||(vN={})).JF="HELLO",dN.ZF="HI_THERE",dN.QF="INITIALIZE",dN.tM="APPEND_INIT",dN.nM="APPEND_DATA",dN.eM="ACK",dN.iM="REMOVE",dN.rM="DESTROY_SESSION",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(wN=lN||(lN={})).gv="audio",wN.yv="video",wN.Tp="metadata",ki(),Vt();var gN=W_.Am,yN=new W_(-1/0),mN=W_.Qm,_N=new(function(t){function n(n,e){return t.call(this,n,e)}Xi(n,t);var e=n.prototype;return e.Jy=function(t,n){return t.im(n)?qa.Gu:t.Ny(n)?qa.ju:qa.Yu},e.Jg=function(t,n){return t.Jg(n)},e.sm=function(t,n){return t.sm(n)},e.nm=function(t,n){return t.nm(n)},e.pO=function(){return gN},e.bO=function(){return mN},e.EO=function(){return yN},e.mO=function(t,e){return new n(t,e)},e.gO=function(t){return t.Jm},n.WO=function(t){for(var e=[],i=0;i<t.length;i++)e.push(new W_(t.start(i)),new W_(t.end(i)));return new n(e)},n.uM=function(t){for(var e=[],i=[],r=0;r<t.Tl;r++)e.push(new W_(t.cO(r))),e.push(new W_(t.hO(r))),i.push(t.fO(r)),i.push(t.vO(r));return new n(e,i)},n.YO=function(t){return new n([t,t],[!0,!0])},n.GO=function(){return _N},n}(QS))([]);r_.gv,r_.yv;function pN(t,n){if(n.Tr){var e=t.muted;t.muted=!0,t.muted=!1,t.muted=e}else if(t.paused){var i=t.play();mr(i)&&lc(i),t.pause()}}ki(),Vt(),ki(),Vt();var bN,kN,TN,SN,EN=function(){function t(t){this.nS=t}var n=t.prototype;return n.Zh=function(t){return this.nS.Zh(t)},n.Ev=function(t){this.nS.Ev(t)},n.kn=function(){this.nS.kn()},t}(),RN=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).rC=e,i}return Xi(n,t),n.prototype.Zh=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:return e=new Yl(t),(i=n.rC.pP.lR(e))?(i.bP(Wi.Kr()/1e3),[4,n.nS.Zh(t)]):[2,n.nS.Zh(e)];case 1:return r=s.sent(),i.kP(Wi.Kr()/1e3),u=r.xh().pipeThrough(new Ft(new IN(i))),o={Qi:u,Zh:r.Zh},[2,new jl(o,r)]}}))}))()},n}(EN),IN=function(){function t(t){this.oM=t}var n=t.prototype;return n.start=function(t){this.pB=t},n.transform=function(t){this.oM.TP(Wi.Kr()/1e3,t),this.pB.enqueue(t)},n.flush=function(){this.oM.SP(Wi.Kr()/1e3)},t}(),ON=function(t){function n(n,e){var i;(i=t.call(this)||this).sM=!1,i.rg=!1,i.aM=!1,i.cM=function(t){if(!i.aM){i.aM=!0;var n=i.fM,e=i_(t);i.$x.Cl=new oE(i.Bg,e,t),lc(n.kn())}},i.hM=function(t){i.lo(t.jd)},i.vM=function(t){t.type!==ol.nh&&t.type!==ol.th&&i.lo(t)};var r=cy(e.uid);g(r)?i.ny=v_++:i.ny=r,i.Nc=e;var u=Wi.Ud,o=new PO;i.dM=new bI("5.4.2",u,o),i.rC=new hO;var s=new RN(u,i.rC);i.Ud=new QI(s,e.allowMixedContent),i.cB=new ZR(e.isEmbeddable,"5.4.2",WR()),i.lM=new AO(u,i.cB,i.dM,o,e,WR()),i.lM.vB().catch(i.cM),i.wM=new VI(n),i.wM.yo("rA",i.hM),i.uC=new UO,i.Vx=new gO,i.jx=new _O;var a=new uE(n,e,i.Ud,i.rC,i.wM,i.uC);i.rC.FP(a);var c=a;return c=new mO(c,i.gM),c=new pO(c,i.Yx),i.fM=c,i.$x=new Jm(i.fM),i.$x._o(i.vM),i.yM=new bO(lu(i)),i.mM=new iO(i.$x,i.Ud,i.rC),i._M=new SI(lu(i)),i.pM=new zI(i.$x,e.allowNativeFullscreen),i.bM=new RE(i.pM),i.wM.Pc(),i.oC=new wi(i.wM,i.uC,1,[r_.yv]),i.kM=new gi(i.oC),i.TM=new SO,i}Xi(n,t);var e=n.prototype;return e.lx=function(t){this.$x.Bw=t,t||this.Lw||this.En()},e.Dx=function(t){this.$x.Hw=t},e.SM=function(){Bm(this,IE,this)},e.gn=function(){this.$x.gn()},e.yn=function(){this.$x.yn()},e.yg=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){switch(r.label){case 0:return t?(e.lM.nD(t).catch(e.cM),i=function(t){t.sources;var n=t.sources.filter((function(t){return hr(t.integration)}));return t.sources=n,t}(t),[4,e.$x.yg(i,n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},e.En=function(){if(!this.rg){this.$x.En(),this.kM.En();for(var t=this.Bg.getElementsByTagName("video"),n=0;n<t.length;n++){var e=t[n];"Advertisement"===e.title&&pN(e,Wi.gu)}this.rg=!0}},e.$O=function(){return this.bM.CC()===pE.FULLSCREEN},e.Tg=function(){this.$x.Tg()},e.Sg=function(){this.$x.Sg()},e.Eg=function(){return this.$x.Eg()},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.$x.wg()];case 1:return n.sent(),[4,t.$x.Bc()];case 2:return n.sent(),[2]}}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.po(),t.TM.kn(),t.Ud.kn(),t.mM.kn(),t.pM.kn(),t.bM.kn(),t.wM.kn(),t.dM.kn(),t.kM.kn(),t.oC.kn(),[4,t.$x.kn()];case 1:return n.sent(),[2]}}))}))()},Ri(n,[{key:"EM",get:function(){return this.rC}},{key:"cg",get:function(){return this.sM},set:function(t){this.sM=t,this.$x.cg=t}},{key:"RM",get:function(){return this.kM}},{key:"hg",get:function(){return this.$x.hg}},{key:"IM",get:function(){return this.TM}},{key:"OM",get:function(){return this.wM}},{key:"lg",get:function(){return this.$x.lg}},{key:"Fg",get:function(){return this.yM}},{key:"CM",get:function(){return this.mM}},{key:"dg",get:function(){return this.$x.dg}},{key:"NM",get:function(){return this.uC}},{key:"vg",get:function(){return this.$x.vg}},{key:"Pg",get:function(){return this.$x.Pg}},{key:"gM",get:function(){return this.Vx}},{key:"Yx",get:function(){return this.jx}},{key:"Dw",get:function(){return this.$x.Dw},set:function(t){this.$x.Dw=t}},{key:"xg",get:function(){return this.$x.xg},set:function(t){this.$x.xg=t}},{key:"Dg",get:function(){return this.$x.Dg}},{key:"Aw",get:function(){return this.$x.Aw}},{key:"Bg",get:function(){return this.$x.Bg}},{key:"Pw",get:function(){return this.$x.Pw}},{key:"Do",get:function(){return this.$x.Do}},{key:"xw",get:function(){return this.$x.xw}},{key:"Bw",get:function(){return this.$x.Bw},set:function(t){var n=Boolean(t);this.lx(n)}},{key:"Lw",get:function(){return this.$x.Lw}},{key:"Fw",get:function(){return this.$x.Fw},set:function(t){this.$x.Fw=t}},{key:"jg",get:function(){return this.$x.jg}},{key:"Yg",get:function(){return this.$x.Yg},set:function(t){this.$x.Yg=XS(t)}},{key:"Xl",get:function(){return this.$x.Xl}},{key:"Gg",get:function(){return this.$x.Gg}},{key:"Mw",get:function(){return this.$x.Mw}},{key:"xl",get:function(){return this.ny}},{key:"Uw",get:function(){return this.$x.Uw}},{key:"Vw",get:function(){return this.$x.Vw}},{key:"Hw",get:function(){return this.$x.Hw},set:function(t){var n=uu(Number(t),0,1)||0;this.Dx(n)}},{key:"Xg",get:function(){return this.$x.Xg}}]),n}(Ny);ki(),Vt(),(kN=bN||(bN={}))[kN.DM=0]="DM",kN[kN.AM=1]="AM",(SN=TN||(TN={}))[SN.PM=0]="PM";var CN={};function NN(t,n){var e=t;if(CN[n])for(var i=0,r=CN[n];i<r.length;i++){e=(0,r[i])(e)}return e}var DN=[];function AN(t){DN.push(t)}ki(),Vt();var PN=t.CustomEvent;var xN=function(){try{var t=new PN("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var e=i.createEvent("CustomEvent");return e.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),e};ki(),Vt(),ki(),Vt(),Ii();var BN=function(){function t(t,n){var e=this;this.xM=!1,this.BM=function(t){e.LM.$D(t.error,e.Dw)},this.FM=function(){e.LM.YD(e.MM),e.eO.removeEventListener("playing",e.FM),e.xM=!1},this.UM=function(){e.xM||(e.eO.addEventListener("playing",e.FM),e.xM=!0)},this.LM=n,this.eO=t,this.eO.addEventListener("error",this.BM),this.eO.addEventListener("sourcechange",this.UM),this.UM()}return t.prototype.Bc=function(){},Ri(t,[{key:"Dw",get:function(){var t=this.eO.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"MM",get:function(){return this.eO.src||""}}]),t}();AN((function(t){new BN(t.jd,t.dM)})),ki(),Vt();var LN,FN,MN="theoplayer-stored-volume",UN="theoplayer-stored-mutedstate";LN=function(t){return function(t){function n(n,e){var i;if(i=t.call(this,n,e)||this,e.persistVolume){var r=RO.sB(MN);(void 0===r||g(r))&&(r=1);var u=RO.aB(UN)||!1;i.Hw=r,i.Bw=u}return i}Xi(n,t);var e=n.prototype;return e.lx=function(n){this.Nc.persistVolume&&RO.Lf(UN,""+Boolean(n)),t.prototype.lx.call(this,n)},e.Dx=function(n){this.Nc.persistVolume&&RO.Lf(MN,""+Number(n)),t.prototype.Dx.call(this,n)},n}(t)},FN=bN.AM,(CN[FN]||(CN[FN]=[])).push(LN),ki(),Vt(),Ii();var VN=new(function(){function t(){this.VM=[],this.Wd=void 0}var n=t.prototype;return n.ml=function(t){return this.VM[t]},n.HM=function(t){this.VM.push(t),this.jd.push(t.jd)},n.bc=function(t){var n=this.VM.indexOf(t);n<0||(tc(this.VM,n),this.Wd&&tc(this.Wd,n))},n.qM=function(t){for(var n=0,e=this.VM;n<e.length;n++){var i=e[n];if(i.xl===t)return i}},Ri(t,[{key:"Tl",get:function(){return this.VM.length}},{key:"jd",get:function(){return this.Wd||(this.Wd=function(t){for(var n=[],e=0;e<t.Tl;e++)n[e]=t.ml(e).jd;return n.getPlayerByUID=function(n){var e=t.qM(n);return e&&e.jd},n}(this)),this.Wd}}]),t}());ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var HN=function(t){function n(n){var e;return(e=t.call(this,ol.yh)||this).source=n,e}return Xi(n,t),n}(Sc);ki(),Vt(),Ii();var qN=function(t){function n(){var n;return(n=t.call(this)||this).ZO=0,n.tC=!0,n.eC=!1,n.nC=1,n}Xi(n,t);var e=n.prototype;return e.gn=function(){this.tC&&(this.tC=!1,this.lo(new lm(this.Dw)),this.lo(new Xb(this.Dw)))},e.yn=function(){this.tC||(this.tC=!0,this.lo(new _m(this.Dw,this.xg)),this.lo(new hm(this.Dw)))},e.Bc=function(){this.ZO=0,this.eC=!1,this.nC=1,this.yn(),this.lo(new fm(this.ZO))},e.kn=function(){this.po()},e.Sg=function(){},e.Tg=function(){},Ri(n,[{key:"xg",get:function(){},set:function(t){}},{key:"Dw",get:function(){return this.ZO},set:function(t){this.eC&&this.ZO===t||(this.ZO=t,this.eC=!0,this.lo(new km(this.Dw)))}},{key:"Lw",get:function(){return this.tC}},{key:"Fw",get:function(){return this.nC},set:function(t){this.nC!==t&&(this.nC=t,this.lo(new mm(this.Dw,this.Fw)))}},{key:"Xl",get:function(){return Yy.pw}},{key:"Mw",get:function(){return this.eC}}]),n}(Cy);ki(),Vt();var zN=function(t){function n(){return t.call(this,ol.jf)}return Xi(n,t),n}(Sc);ki(),Vt(),Ii(),Ti();var WN,jN={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},YN={visibility:"hidden"},GN={visibility:"visible"},XN=function(){function t(t){var n,e=this;this.zM=!1,this.WM=function(t){var n;e.zM=!1,e.jM=null==(n=t.source)?void 0:n.poster,e.kc()},this.kS=function(){e.zM=!0,e.Sg()},this.eO=t,this.iO(),this.XI=((n=mi&&mi.document&&mi.document.createElement("div")).className="theoplayer-poster",Ds(jN,n),n),t.Bg.appendChild(this.XI)}var n=t.prototype;return n.kc=function(){var t=this.eO.Lw,n=this.zM;this.tv?this.XI.style.backgroundImage='url("'+(this.tv.replace(/[\\"]/g,(function(t){return"\\"+t}))+'")'):this.XI.style.backgroundImage="",t&&this.tv&&!n?this.Tg():this.Sg()},n.Tg=function(){Ds(YN,this.eO.Bg),Ds(GN,this.XI)},n.Sg=function(){Ds(YN,this.XI),Ds(GN,this.eO.Bg)},n.iO=function(){this.eO.yo("sourcechange",this.WM),this.eO.yo("play",this.kS)},n.kn=function(){this.eO.bo("sourcechange",this.WM),this.eO.bo("play",this.kS),Ns(this.XI)},Ri(t,[{key:"tv",get:function(){return void 0!==this.jM?this.jM:void 0!==this.YM?this.YM:void 0}},{key:"GM",set:function(t){this.YM=t,this.kc()}}]),t}();function $N(t){return function(n){function e(e,i){var r;return(r=n.call(this,e)||this).QI=void 0,r.PR=void 0,r.aC=void 0,r.XM=function(t){t.type!==ol.uh&&r.$M.push(t)},r.KM=new t(e,i),r.JM=new qN,r.eO=r.KM,r.ZM=new XN(lu(r)),r._F=new jd,r.QM=!1,r.$M=[],r.tO=!0,r.iO(),r}Xi(e,n);var i=e.prototype;return i.gf=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){return[2,e._F.gf(t,n).catch(cc)]}))}))()},i.tU=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:sc(n),e.KM._o(e.XM),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,e.KM.yg(t,n)];case 2:return i.sent(),[3,4];case 3:return e.KM.So(e.XM),[7];case 4:return[2]}}))}))()},i.nU=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:return(n=t.gg())&&!lR(n)&&t.cg&&t.Lw?(e=n.mutedAutoplay||t.Nc.mutedAutoplay,[4,t.RM.Sn(t.Bw)]):[2];case 1:switch(i.sent()){case"all":t.eU();break;case"muted":(t.Bw||e===Cm.ALL)&&(t.Bw=!0,t.gn())}return[2]}}))}))()},i.yg=function(t){var n=this.QI;n&&!lR(n)&&this.lo(new fm(0,0)),this.Bc(),this.QI=t;var e=this;lc(this.gf(ta((function(n){var i;return ea(this,(function(r){switch(r.label){case 0:sc(n),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,e.tU(t,n)];case 2:return r.sent(),[3,5];case 3:return i=r.sent(),e.QI=void 0,e.UR(function(t,n){return t instanceof Md?t:t instanceof f?new Md(n,t.message,t):new Md(n,String(t))}(i,Ad.SOURCE_NOT_SUPPORTED)),[2];case 4:return e.iU(e.KM),[7];case 5:return e.lo(new HN(e.gg())),[4,e.nU()];case 6:return r.sent(),[2]}}))}))))},i.tx=function(t){this.eO.Dw=t},i.ox=function(){var t;return null!=(t=this.aC)?t:this.KM.Do},i.sx=function(){var t;return null!=(t=this.PR)?t:this.KM.xw},i.UR=function(t){void 0===this.sx()&&(this.PR=t,this.aC=i_(t),this.lo(new Om(t)))},i.gn=function(){this.eO.gn()},i.eU=function(){this.Bw||this.En(),this.gn()},i.En=function(){this.KM.En()},i.yn=function(){this.eO.yn()},i.wg=function(){this.yg(void 0)},i.Tg=function(){this.tO=!0,this.eO.Tg()},i.Sg=function(){this.tO=!1,this.eO.Sg()},i.SM=function(){this.KM.SM()},i.Dx=function(t){this.KM.Dx(t)},i.lx=function(t){this.KM.lx(t)},i.rU=function(t){this.uU=t,t.HM(this)},i.$O=function(){return this.KM.$O()},i.gg=function(){return this.QI},i.Eg=function(){return this.KM.Eg()},i.QP=function(){return this.KM.Dw},i.nx=function(){return this.KM.Aw},i.$P=function(){return this.KM.Pg},i._x=function(){return this.KM.jg},i.Sx=function(){return this.KM.Gg},i.Bc=function(){this.QI=void 0,this.PR=void 0,this.aC=void 0,ec(this.$M),this.JM.Bc(),this.iU(this.JM),this._F.so();var t=this;lc(this._F.gf(ta((function(n){return ea(this,(function(e){switch(e.label){case 0:return sc(n),[4,t.KM.Bc()];case 1:return e.sent(),[2]}}))}))))},i.kn=function(){this.lo(new zN),this.ZM.kn(),this.rO(),this.Bc();var t=this;lc(this.gf(ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.KM.kn()];case 1:return n.sent(),t.uU&&(t.uU.bc(t),t.uU=void 0),t._F.kn(),[2]}}))})))),this.po()},i.iU=function(t){if(this.eO!==t){var n=this.eO.Lw,e=this.eO.Dw,i=this.eO.Fw,r=this.eO.Mw;this.rO(),t===this.KM?((r||t.Dw!==e)&&(t.Dw=e),t.Fw!==i&&(t.Fw=i),n?t.yn():t.gn()):this.Nc.retainPlaybackRateOnSourceChange?t.Fw=i:1!==i&&this.lo(new mm(this.QP(),1)),this.eO=t,this.iO();for(var u=0,o=this.$M;u<o.length;u++){var s=o[u];this.lo(s)}ec(this.$M),this.tO?t.Tg():t.Sg()}},i.iO=function(){this.eO._o(this.do)},i.rO=function(){this.eO.So(this.do)},i.Yd=function(){return t=this,i=function(n){e=n;var i=IR(n,t.Nc);t.yg(i)},r={get abr(){return t.EM.jd},get audioTracks(){return t.hg.jd},get autoplay(){return t.cg},set autoplay(n){t.cg=Boolean(n)},get buffered(){return t.$P()},get canvas(){return t._M.jd},get clip(){return t.gM.jd},get currentProgramDateTime(){var n;return null!=(n=t.xg)?n:null},set currentProgramDateTime(n){t.xg=null!=n?n:void 0},get currentTime(){return t.QP()},set currentTime(n){t.tx(Number(n))},get duration(){return t.nx()},get element(){return t.Bg},get ended(){return t.Pw},get error(){return t.ox()},get errorObject(){return t.sx()},get loop(){return t.Yx.Yx},set loop(n){t.Yx.Yx=Boolean(n)},get metrics(){return t.Fg.jd},get muted(){return t.Bw},set muted(n){t.lx(n)},get network(){return t.CM.jd},get paused(){return t.Lw},get playbackRate(){return t.Fw},set playbackRate(n){var e=Number(n);if(e<0)throw new RangeError("playbackRate must be a positive number");t.Fw=e},get played(){return t._x()},get poster(){return t.oU},set poster(n){t.oU=hy(n)},get preload(){return t.Yg},set preload(n){t.Yg=n},get presentation(){return t.bM.jd},get readyState(){return t.Xl},get seekable(){return t.Sx()},get seeking(){return t.Mw},get source(){return e},set source(t){i(t)},get src(){return wR(t.gg())},set src(t){i({sources:t})},get textTracks(){return t.dg.jd},get textTrackStyle(){return t.NM.jd},get uid(){return t.xl},get videoHeight(){return t.Uw},get videoTracks(){return t.vg.jd},get videoWidth(){return t.Vw},get volume(){return t.Hw},set volume(n){t.Dx(Number(n))},get latency(){return t.Xg.jd},destroy:function(){t.kn(),t=null,e=void 0},play:function(){t.eU()},pause:function(){t.yn()},stop:function(){e=void 0,t.wg()},prepareWithUserAction:function(){t.En()},addEventListener:function(t,e){n.yo(t,e)},removeEventListener:function(t,e){n.bo(t,e)},setSource:function(t){i(t)}},(n=new TE(r,!0)).wC(t),n.yo("destroy",(function(){n.kn()})),r;var t,n,e,i,r},Ri(e,[{key:"dM",get:function(){return this.KM.dM}},{key:"_M",get:function(){return this.KM._M}},{key:"Nc",get:function(){return this.KM.Nc}},{key:"fM",get:function(){return this.KM.fM}},{key:"Ud",get:function(){return this.KM.Ud}},{key:"pI",get:function(){return this.KM.pM}},{key:"bM",get:function(){return this.KM.bM}},{key:"wM",get:function(){return this.KM.wM}},{key:"$x",get:function(){return this.KM.$x}},{key:"EM",get:function(){return this.KM.EM}},{key:"cg",get:function(){return this.KM.cg},set:function(t){this.KM.cg=t,this.nU()}},{key:"RM",get:function(){return this.KM.RM}},{key:"hg",get:function(){return this.KM.hg}},{key:"IM",get:function(){return this.KM.IM}},{key:"OM",get:function(){return this.KM.wM}},{key:"jd",get:function(){return this.Wd||(this.Wd=this.Yd()),this.Wd}},{key:"lg",get:function(){return this.KM.lg}},{key:"Fg",get:function(){return this.KM.Fg}},{key:"CM",get:function(){return this.KM.CM}},{key:"dg",get:function(){return this.KM.dg}},{key:"NM",get:function(){return this.KM.NM}},{key:"vg",get:function(){return this.KM.vg}},{key:"gM",get:function(){return this.KM.gM}},{key:"Yx",get:function(){return this.KM.Yx}},{key:"xg",get:function(){return this.eO.xg},set:function(t){this.eO.xg=t}},{key:"Dg",get:function(){return this.KM.Dg}},{key:"Bg",get:function(){return this.KM.Bg}},{key:"Pw",get:function(){return this.KM.Pw}},{key:"Bw",get:function(){return this.KM.Bw},set:function(t){this.KM.Bw=t}},{key:"Lw",get:function(){return this.eO.Lw}},{key:"oU",get:function(){return this.ZM.tv||""},set:function(t){this.ZM.GM=t}},{key:"Fw",get:function(){return this.KM.Fw},set:function(t){this.eO.Fw=t}},{key:"Yg",get:function(){return this.KM.Yg},set:function(t){this.KM.Yg=XS(t)}},{key:"Xl",get:function(){return this.eO.Xl}},{key:"Mw",get:function(){return this.eO.Mw}},{key:"xl",get:function(){return this.KM.xl}},{key:"Uw",get:function(){return this.KM.Uw}},{key:"Vw",get:function(){return this.KM.Vw}},{key:"Hw",get:function(){return this.KM.Hw},set:function(t){this.KM.Hw=t}},{key:"Xg",get:function(){return this.KM.Xg}}]),e}(Ny)}function KN(t,n){var e=Pm(n),i=new(WN||(WN=NN(WN=$N(ON),bN.DM),WN=NN(WN,bN.AM)),WN)(t,e),r=i.jd;return i.SM(),i.rU(VN),v.defineProperty(r,"constructor",{value:KN}),r=ny(r),function(t){for(var n=0;n<DN.length;n++)(0,DN[n])(t)}(i),r}dc((function(){t.dispatchEvent&&t.dispatchEvent(xN("theoplayerready"))})),ki(),Vt();var JN={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Uc(t)},n.decode=function(t){return Fc(t)},t}())};ki(),Vt();var ZN=JSON.parse("[]"),QN="5.4.2",tD="2023.2.5",nD=VN.jd,eD=Ek.lE.registerContentProtectionIntegration.bind(Ek.lE);ki(),Vt(),Ti(),ki(),Vt();var iD=function(){};ki(),Vt();var rD=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}();ki(),Vt(),ki(),Vt();var uD=O(Mi());function oD(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],e=0;e<t.length;e++)n[e]={start:t.start(e),end:t.end(e)};return n}(n):n}function sD(t){return JSON.stringify(t,uD.getSerialize(oD))}ki(),Vt(),ki(),Vt(),Ii();var aD,cD,fD=O(qi()),hD=function(){function t(){}return t.prototype.Ii=function(t){var n=function(t){r[r.length-1].qi(t)},e=new fD.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new mD,r=[i];return e.on("text",(function(t){r.length>1&&n(new gD(t))})),e.on("cdata",(function(t){n(new yD(t))})),e.on("opentag",(function(t){for(var e=t.local,i=t.uri,u=t.prefix,o=new lD({Di:e,Pi:""===i?void 0:i,sU:""===u?void 0:u}),s=t.attributes,a=0,c=v.keys(s);a<c.length;a++){var f=s[c[a]],h=f.prefix,d=f.local,l=f.uri,w=f.value,g=new vD({Di:d,Bi:w,Pi:""===l?void 0:l,sU:""===h?void 0:h});o.aU(g)}n(o),r.push(o)})),e.on("closetag",(function(){r.pop()})),e.on("error",(function(t){throw new yu(t)})),e.write(t).close(),i},t}(),vD=function(){function t(t){this.cU=t.Di,this.g=t.Bi,this.fU=t.Pi,this.hU=t.sU}var n=t.prototype;return n.Ci=function(t){return this===t||!!pD(this,t)&&(this.cU===t.cU&&this.fU===t.fU&&this.hU===t.hU&&this.g===t.g)},n.Ni=function(){return new t({Di:this.Di,Bi:this.Bi,Pi:this.Pi,sU:this.xi})},Ri(t,[{key:"bi",get:function(){return fu.Ti}},{key:"Di",get:function(){return this.cU}},{key:"Ai",get:function(){return void 0===this.hU?this.cU:this.hU+":"+this.cU}},{key:"Pi",get:function(){return this.fU}},{key:"xi",get:function(){return this.hU}},{key:"Bi",get:function(){return this.g}}]),t}(),dD=function(){function t(){this.Li=[]}var n=t.prototype;return n.Mi=function(t){return this.Li.filter((function(n){return _D(n)&&n.Vi===t}))},n.Hi=function(t,n){return this.Li.filter((function(e){return _D(e)&&e.Di===n&&e.Pi===t}))},n.qi=function(t){this.Li.push(t)},Ri(t,[{key:"Ui",get:function(){return this.Li}},{key:"Wi",get:function(){return this.Li.filter(_D)}}]),t}(),lD=function(t){function n(n){var e;return(e=t.call(this)||this).vU=[],e.cU=n.Di,e.fU=n.Pi,e.hU=n.sU,e}Xi(n,t);var e=n.prototype;return e.dU=function(t){for(var n=0,e=this.Ui;n<e.length;n++){var i=e[n];_D(i)?i.dU(t):t.push(i.Qi)}},e.Yi=function(t,n){for(var e=0,i=this.vU;e<i.length;e++){var r=i[e];if(r.Di===n&&r.Pi===t)return r.Bi}},e.ji=function(t){for(var n=0,e=this.vU;n<e.length;n++){var i=e[n];if(i.Ai===t)return i.Bi}},e.aU=function(t){this.vU.push(t)},e.Gi=function(t){for(var n=0;n<this.vU.length;n++)if(this.vU[n].Ai===t)return void this.vU.splice(n,1)},e.Xi=function(t,n){for(var e=0;e<this.vU.length;e++)if(this.vU[e].Di===n&&this.vU[e].Pi===t)return void this.vU.splice(e,1)},e.$i=function(t,n){this.Gi(t),this.aU(new vD({Di:t,Bi:n}))},e.Ki=function(t,n,e){this.Gi(n);var i=n.split(":");this.aU(new vD({Di:i[i.length-1],Bi:e,Pi:t,sU:i.length>1?i[0]:void 0}))},e.Ni=function(t){var e=new n({Di:this.Di,Pi:this.Pi,sU:this.xi});return this.Ji.forEach((function(t){return e.aU(t.Ni())})),t&&this.Ui.forEach((function(n){return e.qi(n.Ni(t))})),e},e.Ci=function(t){return this===t||!!pD(this,t)&&(this.cU===t.cU&&this.hU===t.hU&&this.fU===t.fU&&(bD(this.Ji,t.Ji)&&bD(this.Ui,t.Ui)))},Ri(n,[{key:"bi",get:function(){return fu.ki}},{key:"Ji",get:function(){return this.vU}},{key:"Di",get:function(){return this.cU}},{key:"Pi",get:function(){return this.fU}},{key:"xi",get:function(){return this.hU}},{key:"Vi",get:function(){return void 0===this.hU?this.cU:this.hU+":"+this.cU}},{key:"Zi",get:function(){var t=[];return this.dU(t),t.join("")}}]),n}(dD),wD=function(){function t(t){this.B=t}return Ri(t,[{key:"Qi",get:function(){return this.B}}]),t}(),gD=function(t){function n(n){return t.call(this,n)}Xi(n,t);var e=n.prototype;return e.Ni=function(){return new n(this.Qi)},e.Ci=function(t){return this===t||!!pD(this,t)&&this.Qi===t.Qi},Ri(n,[{key:"bi",get:function(){return fu.Si}}]),n}(wD),yD=function(t){function n(n){return t.call(this,n)}Xi(n,t);var e=n.prototype;return e.Ni=function(){return new n(this.Qi)},e.Ci=function(t){return this===t||!!pD(this,t)&&this.Qi===t.Qi},Ri(n,[{key:"bi",get:function(){return fu.Ei}}]),n}(wD),mD=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.Ni=function(t){var e=new n;return t&&this.Ui.forEach((function(n){return e.qi(n.Ni(t))})),e},e.Ci=function(t){return this===t||!!pD(this,t)&&bD(this.Ui,t.Ui)},Ri(n,[{key:"bi",get:function(){return fu.Ri}},{key:"tr",get:function(){return this.Wi[0]}}]),n}(dD);function _D(t){return du(t)}function pD(t,n){return t.bi===n.bi}function bD(t,n){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!t[e].Ci(n[e]))return!1;return!0}function kD(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:na({},t,{adBreak:na({},t.adBreak,{ads:t.adBreak.ads.map((function(t){t.adBreak;return mk(t,["adBreak"])}))})})}function TD(t){return void 0===t.ads?t:na({},t,{ads:t.ads.map((function(t){t.adBreak;return mk(t,["adBreak"])}))})}function SD(t){return"string"==typeof t.date?new Date(t.date):t.date}function ED(t){var n;return t.cue.track?(n=ID(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=ID(t.cue,""),n}function RD(t){var n=[];return function t(e){if(Array.isArray(e))return e.map(t);if("object"==typeof e&&null!==e&&v.keys(e).length){if(n.includes(e))return"[Circular ~]";n.push(e);var i=v.entries(e);return v.fromEntries(i.map((function(e){var i=ia(e,2),r=i[0],u=i[1],o=t(u);return"object"==typeof u&&null!==u&&"[Circular ~]"!==o&&n.pop(u),[r,o]})))}return e}(t)}function ID(t,n){var e={};switch(e.content=t.content,e.endTime=t.endTime,e.startTime=t.startTime,e.id=t.id,e.uid=t.uid,n){case"webvtt":e.align=t.align,e.line=t.line,e.lineAlign=t.lineAlign,e.position=t.position,e.positionAlign=t.positionAlign,e.region=t.region,e.size=t.size,e.snapToLines=t.snapToLines,e.text=t.text,e.vertical=t.vertical;break;case"ttml":e.content=CD(t.content).innerHTML;for(var i=t.content,r={};i.firstChild&&i.firstChild.outerHTML;){(new hD).Ii(i.firstChild.outerHTML).tr.Ji.forEach((function(t){r[t.Di]=t.Bi})),i=i.firstChild}e.ttmlAttributes=r;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if(DD(s)){var a=OD(s);u[o]={type:"daterange-ca-type_arraybuffer",value:a}}else AD(s)?u[o]={type:"daterange-ca-type_number",value:s}:u[o]={type:"daterange-ca-type_string",value:String(s)}}e.attributedClass=String(t.class),e.startDate=t.startDate,e.endDate=t.endDate,e.duration=t.duration,e.plannedDuration=t.plannedDuration,e.endOnNext=t.endOnNext,e.scte35Cmd=OD(t.scte35Cmd),e.scte35Out=OD(t.scte35Out),e.scte35In=OD(t.scte35In),e.customAttributes=u}return e}function OD(t){if(void 0!==t)return Uc(t)}function CD(t){var n=t.children;if(0!==n.length)for(var e=0;e<n.length;e++){var i=n.item(e);return"image"===i.nodeName||"smpte:image"===i.nodeName?i:CD(i)}}function ND(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var e=[];if(t.cues)for(var i=0;i<t.cues.length;i++){var r=t.cues[i];e.push(ID(r,t.type))}n.cues=e;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(ID(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function DD(t){return"object"==typeof t&&null!==t}function AD(t){return"number"==typeof t}(cD=aD||(aD={})).YF="daterange-ca-type_string",cD.lU="daterange-ca-type_number",cD.wU="daterange-ca-type_arraybuffer";var PD={cue:function(t){var n={};switch(n.date=SD(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=ED(t)}return n},textTrack:function(t){var n={};switch(n.date=SD(t),n.type=t.type,t.type){case"addcue":var e=t.cue;FD().register(e);var i=LD()[MD()].eventListeners;t.cue.addEventListener("enter",(function(t){i.InternalCueHelperEvent(t)})),t.cue.addEventListener("exit",(function(t){i.InternalCueHelperEvent(t)})),t.cue.addEventListener("update",(function(t){i.InternalCueHelperEvent(t)}));case"removecue":case"entercue":case"exitcue":n.cue=ED(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var o=t.track.activeCues[u];r.push(ID(o,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,e={track:ND(t.track),date:SD(t),type:t.type},i=null==(n=t.track)?void 0:n.cues,r=FD();if(i)switch(t.type){case"addtrack":i.forEach(r.register);break;case"removetrack":i.forEach((function(t){return r.remove(t.uid)}))}return e},default:function(t){var n={};switch(n.date=SD(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case ol._h:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=na({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=ND(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=TD(t.ad);break;case"adloaded":case"adimpression":n.ad=kD(t.ad);break;case"adskip":n.ad=kD(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.gU&&(n.gU=t.gU),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=kD(t.ad)}return RD(n)},minimizeCueHelper:function(t){var n={};return n.date=SD(t),n.type=t.type,n.cue=ED(t),n.track={uid:t.cue.track.uid},n},adReplacer:kD,adBreakReplacer:TD,removeCircularReferences:RD},xD=function(){this.stringify=sD,this.minimize=PD};function BD(){return mi.self}function LD(){return BD().THEOplayerBridge}function FD(){return BD().THEOCueMirrorMap}function MD(){return BD().THEOplayerGlobalID}function UD(){var t=BD();if(t.THEOplayerBridge){var n=new iD;t.THEOplayerBridge=iy(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new iD;t.THEOplayerUtils||(t.THEOplayerUtils=new xD),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new rD)}UD(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ii();var VD=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Ii=function(t){var n,e=new DOMParser;try{n=e.parseFromString(t,"text/xml")}catch(t){throw new yu(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new yu;return new HD(n)},n}(mu),HD=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Ni=function(t){return new n(this.Fi.cloneNode(t))},Ri(n,[{key:"Ui",get:function(){return void 0===this.Li&&(this.Li=WD(this.Fi.childNodes)),this.Li}},{key:"tr",get:function(){return new qD(this.Fi.documentElement)}}]),n}(Eu),qD=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Ni=function(t){var e=new n(this.Fi.cloneNode(t));return e.Ji.length<1&&this.Ji.length>0&&this.Ji.forEach((function(t){e.$i(t.Ai,t.Bi)})),e},Ri(n,[{key:"Ui",get:function(){return void 0===this.Li&&(this.Li=WD(this.Fi.childNodes)),this.Li}}]),n}(bu);function zD(t){switch(t.nodeType){case fu.ki:return new qD(t)}return Iu(t)}function WD(t){for(var n=[],e=0;e<t.length;e++){var i=zD(t.item(e));i&&n.push(i)}return n}$i(new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).yU=new VD,n}return Xi(n,t),n.prototype.Ii=function(t){return this.yU.Ii(t)},n}(Fg))),ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var jD=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).type=n,i.detail=e,i}return Xi(n,t),n}(Sc),YD=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.dispatchEvent=function(t,n){this.lo(new jD(t,n))},e.addEventListener=function(t,n){this.yo(t,n)},e.removeEventListener=function(t,n){this.bo(t,n)},n}(Ny);ki(),Vt(),Ii();var GD=function(t){function n(n,e){var i;return(i=t.call(this)||this).mU=function(t){i.pU._U("THEOplayerABRSetTargetBuffer",t.RP),i.lo(t)},i.bU=function(t){i.pU._U("THEOplayerABRSetStrategy",t.EP),i.lo(t)},i.pU=n,i.kU=e,i.kU.yo("CP",i.mU),i.kU.yo("NP",i.bU),i}return Xi(n,t),n.prototype.UP=function(t){return this.kU.UP(t)},Ri(n,[{key:"HP",get:function(){switch(this.EP.type){case nO.PERFORMANCE:return 1;case nO.QUALITY:return 0;case nO.BANDWIDTH:var t;return(null==(t=this.EP.metadata)?void 0:t.bitrate)&&!g(this.EP.metadata.bitrate)?this.EP.metadata.bitrate:0;default:return 0}}},{key:"jd",get:function(){return this.kU.jd}},{key:"EP",get:function(){return this.kU.EP},set:function(t){this.kU.EP=t}},{key:"RP",get:function(){return this.kU.RP},set:function(t){this.kU.RP=t}},{key:"VP",get:function(){return this.kU.VP}},{key:"IP",get:function(){return this.kU.IP},set:function(t){this.kU.IP=t}},{key:"OP",get:function(){return this.kU.OP}},{key:"pP",get:function(){return this.kU.pP}}]),n}(pc);ki(),Vt(),Ii(),ki(),Vt(),Ii();var XD,$D,KD=function(){function t(t,n,e){this.Oc=void 0,this.nf=t,this.qu=e,this._f=n}var n=t.prototype;return n.oS=function(t){throw new f("Not implemented yet.")},n.DF=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){switch(r.label){case 0:return[4,e.qu.zu(t.Bu,n)];case 1:return[4,r.sent().Mc()];case 2:return i=r.sent(),[4,e.TU(i)];case 3:return r.sent(),[2,i]}}))}))()},n.SU=function(t){return!1},n.kF=function(t){return Y.resolve(void 0)},n.Qu=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.TU(void 0)];case 1:return n.sent(),[2]}}))}))()},n.TU=function(t){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,n.EU(t)];case 1:return e.sent(),[2]}}))}))()},n.EU=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return(e=n.Oc)?[4,e.xc(n._f)]:[3,2];case 1:i.sent(),n.Oc=void 0,i.label=2;case 2:return t?[4,t.Pc(n._f)]:[3,4];case 3:i.sent(),n.Oc=t,i.label=4;case 4:return[2]}}))}))()},n.iS=function(t,n,e){throw new f("Not implemented yet.")},Ri(t,[{key:"Nc",get:function(){return this.nf}},{key:"Yg",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Gg",get:function(){return new tE([0,1/0])}},{key:"dg",get:function(){throw new f("Not implemented yet.")}},{key:"RU",get:function(){throw new f("Not implemented yet")}},{key:"vg",get:function(){throw new f("Not implemented yet.")}},{key:"IU",get:function(){throw new f("Not implemented yet")}},{key:"OU",get:function(){throw new f("Not implemented yet")}}]),t}();ki(),Vt(),($D=XD||(XD={})).CU="webkitneedkey",$D.NU="webkitkeymessage",$D.DU="webkitkeyerror",$D.AU="webkitkeyflowdone";var JD=function(t){function n(n,e){var i;return(i=t.call(this,"webkitneedkey")||this).initData=n,i.sessionId=e,i}return Xi(n,t),n}(Sc),ZD=function(t){function n(n,e){var i;return(i=t.call(this,"webkitkeymessage")||this).message=n,i.destinationURL=e,i}return Xi(n,t),n}(Sc),QD=function(t){function n(){return t.call(this,"webkitkeyerror")}return Xi(n,t),n}(Sc),tA=function(t){function n(){return t.call(this,"webkitkeyflowdone")}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt(),Ii(),ki(),Vt(),Ii();var nA=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this)||this).zc=n,o.cc=e,o.PU=i,o.pf=r,o.if=u,o.Gc=new Af,o.rf=void 0,o.Zc=new Ac,o.sf=new Af,o.xU=function(t){o.rf?(o.rf.ts(void 0),o.rf=void 0):o.Jc("internal-error"),o.lo(new Cc)},o.BU=function(t){o.lo(new Oc(lu(o),"license-request",Cf(t.message).buffer,t.destinationURL||void 0))},o.LU=function(t){o.rf&&(o.rf.Qo(void 0),o.rf=void 0)},o}Xi(n,t);var e=n.prototype;return e.mc=function(t,n,e){var i=this;return ta((function(){var t;return ea(this,(function(r){switch(r.label){case 0:if(!(t=e&&e.fairplay&&e.fairplay.af))throw new h("Expected FairPlay contentId to be defined but was "+t+".");return[4,i.FU(If(n),t)];case 1:return r.sent(),i.Jc("usable"),i.sf.Qo(),i.sf=new Af,[2]}}))}))()},e._c=function(t){return ta((function(){return ea(this,(function(t){return[2,!0]}))}))()},e.kc=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){if(0===(e=If(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.rf=new Af,n.PU.kc(n.pf,e),[2,n.rf.Zo]}))}))()},e.yc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.sf];case 1:return n.sent(),t.PU.bo(XD.NU,t.BU),t.PU.bo(XD.DU,t.xU),t.PU.bo(XD.AU,t.LU),t.sf.so(),t.Gc.Qo(void 0),[2,t.Gc.Zo]}}))}))()},e.bc=function(){return ta((function(){return ea(this,(function(t){return[2]}))}))()},e.FU=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){return i=Fd(t,n,e.if),e.PU.yo(XD.NU,e.BU),e.PU.yo(XD.DU,e.xU),e.PU.yo(XD.AU,e.LU),e.PU.gF(e.pf,i),[2]}))}))()},e.Jc=function(t){this.Zc.qo(),this.Zc.Ho(Dc,t),this.lo(new Ic(this))},Ri(n,[{key:"Ic",get:function(){return this.pf}},{key:"Ec",get:function(){return NaN}},{key:"Sc",get:function(){return this.Gc.Zo}},{key:"Rc",get:function(){return this.Zc}}]),n}(pc),eA=function(){function t(t,n,e){this.MU=void 0,this.pf=void 0,this.if=void 0,this.PU=t,this.cc=n,this.nf=e;var i=pd(e)||"video/mp4";this.zc=yd(i)}var n=t.prototype;return n.Dc=function(t){var n=this;return ta((function(){var t;return ea(this,(function(e){if(!n.if)throw new Md(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return t=new nA(n.zc,n.cc,n.PU,n.pf,n.if),n.MU=t,[2,t]}))}))()},n.Ac=function(t){return this.if=If(t),Y.resolve(!0)},n.Pc=function(t){var n=this;return ta((function(){return ea(this,(function(e){return t.webkitSetMediaKeys(n),[2]}))}))()},n.xc=function(t){return ta((function(){return ea(this,(function(n){return t.webkitSetMediaKeys(null),[2]}))}))()},n.createSession=function(){throw new f("Whoops.")},Ri(t,[{key:"Cc",get:function(){return this.cc}},{key:"Nc",get:function(){return this.nf}},{key:"sessionId",set:function(t){this.pf=t}}]),t}(),iA=function(){function t(t,n,e){this.UU=t,this.cc=n,this.nf=e}var n=t.prototype;return n.Uc=function(){return this.nf},n.Mc=function(){var t=this;return ta((function(){return ea(this,(function(n){return[2,new eA(t.UU,t.cc,t.nf)]}))}))()},Ri(t,[{key:"Cc",get:function(){return this.cc}}]),t}(),rA=function(){function t(t){this.UU=t}return t.prototype.zu=function(t,n){var e=this;return ta((function(){var i,r,u;return ea(this,(function(o){for(i=0;i<n.length;i++)if(r=n[i],u=md(uA,Rc,t,r))return[2,new iA(e.UU,t,u)];throw new h("Unsupported key system configuration for "+t)}))}))()},t}();function uA(t,n){return t===Ia}ki(),Vt();var oA=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.OF=function(t,n){return!0},n}(QC),sA=function(t){function n(n,e,i){var r;return void 0===i&&(i=new rA(e)),(r=t.call(this)||this).AR=void 0,r.VU=new jd,r.HU=!1,r.ef=null,r.qU={Mg:0,Ug:0,Vg:0,Hg:0,qg:0,zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.zU=function(t){"boolean"==typeof t.detail.casting&&(r.HU=t.detail.casting,r.lo(new R_(r.HU)))},r.WU=function(t){r.pf=t.sessionId,r.ef&&(r.ef.sessionId=r.pf);var n=t.initData;if(n){var e=function(t){try{var n=Sf(t),e=new Df;return yf(mf(ef(n,e,sf(n,e,!0)),!0))}catch(t){return}}(n);if(!e)return;r.lo(new Nc(ya,e))}else r.lo(new Nc(ya,new ArrayBuffer(0)))},r.jU=n,r.UU=e,r.UU.yo(XD.CU,r.WU),r.qu=i,r.YU=new oA(lu(r)),r.GU(),r}Xi(n,t);var e=n.prototype;return e.XU=function(t){for(var n=0;n<t.length;n++){var e=t[n];if(e.xu===Lb.aS)return e}},e.Qu=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.Bc()];case 1:return n.sent(),t.po(),t.$U(),t.UU.bo(XD.CU,t.WU),[4,t.YU.Qu()];case 2:return n.sent(),[2]}}))}))()},e.Sg=function(){throw new f("Not implemented yet")},e.iS=function(t,n,e,i,r,u,o,s){throw new f("Not implemented yet")},e.gI=function(){return!1},e.mI=function(t,n,e,i,r){throw new f("Not implemented yet")},e.oS=function(t){throw new f("Not implemented yet")},e.bI=function(){throw new f("Not implemented yet")},e._c=function(t){var n=this;return ta((function(){return ea(this,(function(e){return[2,n.VU.gf(ta((function(e){var i;return ea(this,(function(r){if(t.xu===Lb.aS)return sc(e),i=new KD(t,n,n.qu),n.AR=i,n.YU._c(i,t),[2,i];throw new f("Could not create non-static media source")}))})))]}))}))()},e.yn=function(){throw new f("Not implemented yet")},e.gn=function(){throw new f("Not implemented yet")},e.Bc=function(){this.VU.so();var t=this;return this.VU.gf(ta((function(){return ea(this,(function(n){switch(n.label){case 0:return void 0===t.AR?[3,2]:[4,t.AR.Qu()];case 1:n.sent(),t.AR=void 0,n.label=2;case 2:return[4,t.YU.Bc()];case 3:return n.sent(),[2]}}))})))},e.Yo=function(t,n){throw new f("Not implemented yet")},e.II=function(t){throw new f("Not implemented yet")},e.Tg=function(){throw new f("Not implemented yet")},e.OI=function(){return this.qU},e.GU=function(){this.jU.addEventListener("airPlayIsCasting",this.zU)},e.$U=function(){this.jU.removeEventListener("airPlayIsCasting",this.zU)},e.webkitSetMediaKeys=function(t){this.ef=t||null,this.ef&&(this.ef.sessionId=this.pf)},e.KU=function(){},e.JU=function(){throw new f("Not implemented yet")},e.ZU=function(){throw new f("Not implemented yet")},Ri(n,[{key:"xg",get:function(){throw new f("Not implemented yet")}},{key:"Pg",get:function(){throw new f("Not implemented yet")}},{key:"Dw",get:function(){throw new f("Not implemented yet")}},{key:"OM",get:function(){throw new f("Not implemented yet")}},{key:"Aw",get:function(){throw new f("Not implemented yet")}},{key:"Pw",get:function(){throw new f("Not implemented yet")}},{key:"Do",get:function(){throw new f("Not implemented yet")}},{key:"Pb",get:function(){throw new f("Not implemented yet")}},{key:"Lg",get:function(){return this.HU}},{key:"Bw",get:function(){throw new f("Not implemented yet")}},{key:"Lw",get:function(){throw new f("Not implemented yet")}},{key:"Fw",get:function(){throw new f("Not implemented yet")}},{key:"jg",get:function(){throw new f("Not implemented yet")}},{key:"Xl",get:function(){throw new f("Not implemented yet")}},{key:"Gg",get:function(){throw new f("Not implemented yet")}},{key:"Mw",get:function(){throw new f("Not implemented yet")}},{key:"QU",get:function(){throw new f("Not implemented yet")}},{key:"Hw",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"Hy",get:function(){throw new f("Not implemented yet")}},{key:"pI",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.ef}},{key:"CF",get:function(){return HO}},{key:"dg",get:function(){throw new f("Not implemented yet")}},{key:"NM",get:function(){throw new f("Not implemented yet")}},{key:"CI",get:function(){throw new f("Not implemented yet")}},{key:"tV",get:function(){return!0}},{key:"sI",get:function(){return this.YU.sI},set:function(t){this.YU.sI=t}},{key:"nV",get:function(){},set:function(t){}},{key:"PF",get:function(){return this.YU.PF}}]),n}(Cy);ki(),Vt();var aA=function(t){function n(n){var e;return(e=t.call(this,ol.kh)||this).qU=n,e}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),Ii(),ki(),Vt();var cA=function(t){function n(n,e){var i,r=fA(e,n.Aw,n.CI,n.eV);return(i=t.call(this,e,r,void 0,!1,n.Pl)||this).iV=n.rV,i.uV=n.CI,i.oV=n.eV,i.Js=n.Aw,i.sV=n.aV,i.cV=Boolean(n.fV),i.hV=n.vV||{},i.dV=n.lV,i.wV=n.gV,i.yV=n.mV,i._V(),i.pV(),i}Xi(n,t);var e=n.prototype;return e.kc=function(t){var n=!1;void 0===this.iV&&void 0!==t.rV&&(n=!0,this.iV=t.rV),void 0===this.oV&&void 0!==t.eV&&(n=!0,this.oV=t.eV),void 0===this.Js&&void 0!==t.Aw&&(n=!0,this.Js=t.Aw),void 0===this.sV&&void 0!==t.aV&&(n=!0,this.sV=t.aV),!this.cV&&t.fV&&(n=!0,this.cV=t.fV),n=this.updateCustomAttributes(t,n),void 0===this.dV&&void 0!==t.lV&&(n=!0,this.dV=t.lV),void 0===this.wV&&void 0!==t.gV&&(n=!0,this.wV=t.gV),void 0===this.yV&&void 0!==t.mV&&(n=!0,this.yV=t.mV),this._V(),this.pV(),this.bV(),n&&this.lo(new D_(this))},e.updateCustomAttributes=function(t,n){var e=n;if(t.vV)for(var i=0,r=v.keys(t.vV);i<r.length;i++){var u=r[i];void 0===this.hV[u]&&(e=!0,this.hV[u]=t.vV[u])}return e},e._V=function(){this.Js&&!this.oV&&(this.oV=new Date(this.uV.getTime()+1e3*this.Js))},e.pV=function(){this.oV&&!this.Js&&(this.Js=cu(this.oV.getTime()-this.uV.getTime()))},e.bV=function(){this.Iy===1/0&&(this.oV||this.Js)&&(this.Iy=fA(this.Ry,this.Js,this.uV,this.oV))},Ri(n,[{key:"jd",get:function(){var t;return this.Wd||(this.Wd=iy(C_(t=this),{get content(){return t.ky},get class(){return t.rV},get startDate(){return t.CI},get endDate(){return t.eV},get duration(){return t.Aw},get plannedDuration(){return t.aV},get endOnNext(){return t.fV},get scte35Cmd(){return t.lV},get scte35Out(){return t.gV},get scte35In(){return t.mV},get customAttributes(){return t.vV}})),this.Wd}},{key:"rV",get:function(){return this.iV}},{key:"CI",get:function(){return this.uV}},{key:"eV",get:function(){return this.oV}},{key:"Aw",get:function(){return this.Js}},{key:"aV",get:function(){return this.sV}},{key:"fV",get:function(){return this.cV}},{key:"lV",get:function(){return this.dV}},{key:"gV",get:function(){return this.wV}},{key:"mV",get:function(){return this.yV}},{key:"vV",get:function(){return this.hV}}]),n}(x_);function fA(t,n,e,i){return fr(n)?t+n:i?t+(cu(i.getTime())-cu(e.getTime())):1/0}var hA,vA=function(t){function n(){return t.call(this,void 0,void 0,p_.DATE_RANGE)}Xi(n,t);var e=n.prototype;return e.kc=function(t,n){!function(t,n,e){for(var i=function(e){var i=r[e],u=Ja(n,(function(t){return t.Pl===i.Pl}));u?i.kc(u):t.WT(i)},r=t.$l.kl,u=r.length-1;u>=0;u--)i(u);for(var o=0;o<n.length;o++){var s=n[o],a=s.CI;if(void 0!==a&&!t._L(s.Pl)){var c=e(a);t.uS(new cA(s,c))}}}(this,function(t){for(var n=ua(),e=[],i=0;i<t.length;i++){var r=t[i];if(n.has(r.Pl)){var u=n.get(r.Pl),o=na({},u,sy(r),{vV:na({},u.vV,r.vV)});n.set(r.Pl,o)}else n.set(r.Pl,r),e.push(r.Pl)}return e.map((function(t){return n.get(t)}))}(t),n)},e.uS=function(n){var e,i,r;e=this.$l.kl,i=n,(r=Za(e,(function(t){return t.rV===i.rV})))&&r.fV&&r.kc({Pl:r.Pl,eV:i.CI}),t.prototype.uS.call(this,n)},n}(UC);function dA(t){switch(t.type){case"daterange-ca-type_string":return t.value;case"daterange-ca-type_number":return cy(t.value);case"daterange-ca-type_arraybuffer":return Fc(t.value);default:return}}function lA(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}ki(),Vt(),function(t){t.YF="daterange-ca-type_string",t.lU="daterange-ca-type_number",t.wU="daterange-ca-type_arraybuffer"}(hA||(hA={})),ki(),Vt(),ki(),Vt(),Ii();var wA=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,r,e,i)||this).GE=n,o.kV=u,o}return Xi(n,t),Ri(n,[{key:"name",get:function(){return this.GE}},{key:"timestamp",get:function(){return this.kV}}]),n}(Md);ki(),Vt();var gA=function(t){function n(n,e,i,r,u,o,s,a){var c;return(c=t.call(this,n,e,i,r,a)||this).url=u,c.status=o,c.errorComment=s,c}return Xi(n,t),n}(wA);ki(),Vt(),Ii();var yA=function(){function t(t,n){this.sg=new wb,this.TV=new xC(t,n)}var n=t.prototype;return n.iS=function(t,n,e,i,r,u,o){var s=new yC(t,n,e,i,r,u,o);return this.sg._l(s),this.TV._l(s),s},n.oS=function(t){this.sg.pl(t),this.TV.pl(t),t.kn()},n.Bc=function(){for(var t=0,n=this.sg.kl.slice();t<n.length;t++){n[t].kn()}this.sg.Bc(),this.TV.Bc()},n.kn=function(){this.Bc(),this.sg.kn(),this.TV.kn()},Ri(t,[{key:"dg",get:function(){return this.sg}}]),t}(),mA=function(t){function n(n,e,i,r,u){var o;(o=t.call(this)||this).ZO=0,o.SV=!1,o.PR=void 0,o.xR=void 0,o.tC=!0,o.nC=1,o.EV=tE.GO(),o.RV=tE.GO(),o.QO=!1,o.IV=tE.GO(),o.cL=Yy.pw,o.vS=Yy.pw,o.qU={Mg:0,Ug:0,Vg:0,Hg:0,qg:0,zg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.AR=void 0,o.LR=new DS,o.FR=new FS;var s=lu(o);o.setCurrentTime=ta((function(t){return ea(this,(function(n){switch(n.label){case 0:return s.Gg.length?[3,2]:(s.ZO=t,[4,s.jU.Eo("seekablechange")]);case 1:n.sent(),n.label=2;case 2:return s.ZO=s.updateCurrentTime(t),s.pU._U("THEOplayerSetCurrentTime",s.ZO),s.eC=!0,s.lo(new km(s.ZO)),[2]}}))})),o.OV=function(t){if(t.detail){for(var n=t.detail.buffered,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.EV=new tE(e),o.lo(new qO(o.Dw))}},o.CV=function(t){o.cL=t.detail.readyState,o.lo(new Em(+t.detail.currentTime,o.Xl)),o.NV()},o.DV=function(t){o.cL=t.detail.readyState,o.lo(new Rm(+t.detail.currentTime,o.Xl)),o.NV()},o.AV=function(t){if(t.detail){var n=+t.detail.duration;o.Js=n,o.lo(new ym(o.Aw))}},o.PV=function(t){t.detail&&(o.SV=!0,o.lo(new pm(+t.detail.currentTime)))},o.MR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,e=JSON.parse(t.detail.errorObject);lA(n=e)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.xR=new gA(e.name,e.message,void 0,e.code,e.url,e.status,e.errorComment,e.timestamp),o.PR=i_(o.xR),o.lo(new Om(o.xR))):lA(e)&&(o.xR=new wA(e.name,e.message,void 0,e.code,e.timestamp),o.PR=i_(o.xR),o.lo(new Om(o.xR)))}},o.xV=function(t){o.lo(new nC)},o.BV=function(t){o.cL=t.detail.readyState,o.lo(new bm(+t.detail.currentTime,o.Xl)),o.NV()};var a=lu(o);o.LV=ta((function(t){return ea(this,(function(n){switch(n.label){case 0:return a.Gg.length?[3,2]:[4,a.jU.Eo("seekablechange")];case 1:n.sent(),n.label=2;case 2:return a.cL=t.detail.readyState,a.lo(new gm(+t.detail.currentTime,a.Xl)),a.NV(),[2]}}))})),o.FV=function(t){t.detail&&o.tC&&(o.tC=!1,o.lo(new lm(+t.detail.currentTime)))},o.MV=function(t){t.detail&&(o.tC||(o.tC=!0,o.lo(new hm(+t.detail.currentTime))))},o.UV=function(t){if(t.detail){for(var n=t.detail.played,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.IV=new tE(e)}},o.VV=function(t){t.detail&&o.lo(new $b(+t.detail.currentTime))},o.HV=function(t){t.detail&&(o.nC=t.detail.playbackRate,o.lo(new mm(+t.detail.currentTime,o.nC)))},o.qV=function(t){if(t.detail){for(var n=t.detail.seekable,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.RV=new tE(e)}},o.zV=function(t){t.detail&&(o.ZO=+t.detail.currentTime,o.eC=!1,o.lo(new _m(o.ZO,o.WV)),o.lo(new Tm(o.ZO)))},o.jV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.Js&&(o.SV=!1),o.eC=!0,o.lo(new km(n))}},o.YV=function(t){t.detail&&(t.detail.currentDate&&(o.WV=new Date(1e3*t.detail.currentDate)),o.ZO=+t.detail.currentTime,o.lo(new _m(o.ZO,o.WV)))},o.GV=function(t){o.XV=t.detail.height,o.$V=t.detail.width},o.KV=function(t){t.detail&&o.lo(new Xb(+t.detail.currentTime))},o.JV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.hg._l(new w_(n))},o.ZV=function(t){for(var n,e,i=t.detail.lang,r=t.detail.label,u=0;u<o.ug.Tl;u++){var s=o.hg.ml(u);s.Fl==i&&s.Ll==r?e=o.ug.ml(u):1==s.Al&&(n=o.ug.ml(u))}e&&n&&(e.Al=!0,n.Al=!1)},o.QV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.vg._l(new y_(n))},o.tH=function(t){var n,e=t.detail.kind,i=t.detail.type;e===db.Tp&&i===p_.ID3?(n=new VC("",t.detail.label)).ql=py.Wl:e===db.Tp&&i===p_.DATE_RANGE?(n=new vA,o.nH=n):n=new yC(e,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,i),o.eH._l(n),o.TV._l(n)},o.iH=function(t){for(var n=0,e=t.detail;n<e.length;n++){var i=e[n],r=i.Id3FrameId,u=void 0;if("PRIV"===r)u={id:r,ownerIdentifier:i.Id3_PRIV_ownerIdentifier,data:i.Id3_PRIV_data};else if("TXXX"===r||"TXX"===r){u={id:r,text:i.Id3FrameText,description:i.Id3FrameDescription}}else{u={id:r,text:i.Id3FrameText}}var s=new MC(cy(i.startTime),u,i.uid),a=o.rH();a&&a.uS(s)}},o.uH=function(t){for(var n=0,e=t.detail;n<e.length;n++){var i,r=e[n],u=new B_(cy(r.startTime),cy(r.endTime),r.content,!1),s=null!=(i=o.oH(db.bp))?i:o.oH(db.VT);s&&(s.xu=p_.WEBVTT,s.uS(u))}},o.sH=function(t){t.type===ol.qf&&(o.PR=i_(t.errorObject)),o.do(t)},o.aH=function(t){t.detail&&(o.qU.Ug=t.detail.corruptedVideoFrames,o.qU.Mg=t.detail.droppedVideoFrames,o.lo(new aA(o.Fg)))},o.cH=function(t){var n=function(t){var n=t.detail,e=[];return n.forEach((function(t){var n={Pl:t.id};if(void 0!==t.startDate&&(n.CI=new Date(t.startDate)),void 0!==t.endDate&&(n.eV=new Date(t.endDate)),void 0!==t.customAttributes){var i={};for(var r in t.customAttributes){var u=dA(t.customAttributes[r]);void 0!==u&&(i[r]=u)}n.vV=i}void 0!==t.scte35Cmd&&(n.lV=Fc(t.scte35Cmd)),void 0!==t.scte35In&&(n.mV=Fc(t.scte35In)),void 0!==t.scte35Out&&(n.gV=Fc(t.scte35Out)),void 0!==t.startTime&&(n.py=t.startTime),n.rV=t.class,n.Aw=cy(t.duration),n.aV=cy(t.plannedDuration),e.push(n)})),e}(t);n.forEach((function(t){var e=null!=t.py?t.py:(new Date).getTime(),i=new cA(t,e);o.nH.uS(i),o.nH.kc(n,e)}))};var c=r.uid;o.pU=o.getSdkBridge(c),o.jU=new YD,LD()[c].sdkEventBus=o.jU,o.ug=new o_,o.og=new o_;var f=o.fH(i);return o.tS=new yA(lu(o),new BC),o.TV=new FC(lu(o)),o.fI=new Nb(o.tS,f),o.eH=new wb,o.hH=new HC(o.tS,o.eH),o.sg=new xS([o.eH,o.fI.yb,o.hH.yb]),o.UU=o.getFairPlayControllerBridge(o.pU),o.eI=new sA(o.jU,o.UU),o.oI=new AS(f),o.eI.sI=o.oI,o.observeMediaElement(),o.cI(),o.rC=new GD(o.pU,u),o.rC.yo("CP",(function(){o.pU._U("THEOplayerSetPreferredForwardBufferDuration",o.rC.RP)})),o}Xi(n,t);var e=n.prototype;return e.Rg=function(){return iE},e.Tg=function(){this.pU._U("THEOplayerShow",{})},e.Sg=function(){this.pU._U("THEOplayerHide",{})},e.vH=function(){var t=this;this.pU._U("THEOplayerSetInitialPreferredPeakBitRate",this.rC.HP);var n=function(){t.pU._U("THEOplayerSetInitialPreferredPeakBitRate",0),t.bo("playing",n)};this.yo("playing",n)},e.yg=function(t,n){var e=this;return ta((function(){var i,r,u;return ea(this,(function(o){switch(o.label){case 0:return e.dH=t,i=na({},n,{sources:{src:t.src,type:Vy.dw,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),e.pU._U("THEOplayerSourceChange",i),r={xu:Lb.aS,Jl:t.src,Bh:t.type,hI:e.vI(t),dI:t.crossOrigin,lI:n.metadata&&n.metadata.title},e.oI.mR(t.contentProtection),[4,e.eI._c(r)];case 1:return e.AR=o.sent(),n.textTracks&&(u=n.textTracks.filter((function(t){return t.format!==p_.WEBVTT}))).length>0&&e.wI(u),Bb(e.dg),e.vH(),[2]}}))}))()},e.vI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Cc:Na,SI:[{initDataTypes:[Na.Lu],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.gn=function(){this.tC=!1,this.lo(new lm(this.Dw)),this.pU._U("THEOplayerPlay",{})},e.yn=function(){this.tC=!0,this.lo(new hm(this.Dw)),this.pU._U("THEOplayerPause",{})},e.Eg=function(){},e.Bc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.ZO=0,t.SV=!1,t.PR=void 0,t.xR=void 0,t.tC=!0,t.nC=1,t.Js=void 0,t.RV=tE.GO(),t.EV=tE.GO(),t.XV=void 0,t.$V=void 0,t.cL=Yy.pw,t.vS=Yy.pw,t.ug.Bc(),t.og.Bc(),t.eH.Bc(),t.sg.Bc(),[4,t.hH.Bc()];case 1:return n.sent(),[4,t.fI.Bc()];case 2:return n.sent(),t.tS.Bc(),t.TV.Bc(),t.dH=void 0,[4,t.eI.Bc()];case 3:return n.sent(),[2]}}))}))()},e._g=function(){this.pU._U("THEOplayerShowAirPlayPicker",{})},e.pg=function(){this.pU._U("THEOplayerStopAirPlayPicker",{})},e.updateMetrics=function(t){this.Fg.Ug=t.Ug,this.Fg.Mg=t.Mg},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.Bc()];case 1:return n.sent(),t.po(),t.unobserveMediaElement(),t.TI(),t.eI.sI=void 0,[4,t.eI.Qu()];case 2:return n.sent(),t.ug.kn(),t.og.kn(),t.eH.kn(),t.sg.kn(),[4,t.hH.kn()];case 3:return n.sent(),[4,t.fI.kn()];case 4:return n.sent(),t.tS.kn(),t.TV.kn(),[2]}}))}))()},e.wI=function(t){for(var n=0;n<t.length;n++){var e=t[n];this.fI.eS(e)}},e.NV=function(){var t=this.vS,n=this.cL;t!==n&&(this.vS=n,this.lo(new Im(this.Dw,n)))},e.observeMediaElement=function(){this.eI.yo(ol.Mf,this.do),this.eI.yo([ol.zf,ol.qf],this.sH),this.jU.addEventListener("play",this.FV),this.jU.addEventListener("pause",this.MV),this.jU.addEventListener("seeking",this.jV),this.jU.addEventListener("seeked",this.zV),this.jU.addEventListener("ratechange",this.HV),this.jU.addEventListener("durationchange",this.AV),this.jU.addEventListener("timeupdate",this.YV),this.jU.addEventListener("waiting",this.KV),this.jU.addEventListener("playing",this.VV),this.jU.addEventListener("ended",this.PV),this.jU.addEventListener("loadedmetadata",this.LV),this.jU.addEventListener("loadeddata",this.BV),this.jU.addEventListener("loadstart",this.xV),this.jU.addEventListener("canplay",this.CV),this.jU.addEventListener("canplaythrough",this.DV),this.jU.addEventListener("error",this.MR),this.jU.addEventListener("seekablechange",this.qV),this.jU.addEventListener("videosizechange",this.GV),this.jU.addEventListener("bufferedchange",this.OV),this.jU.addEventListener("playedchange",this.UV),this.jU.addEventListener("metricschange",this.aH),this.jU.addEventListener("addDateRangeCues",this.cH)},e.unobserveMediaElement=function(){this.eI.bo(ol.Mf,this.do),this.eI.bo([ol.zf,ol.qf],this.sH),this.jU.removeEventListener("play",this.FV),this.jU.removeEventListener("pause",this.MV),this.jU.removeEventListener("seeking",this.jV),this.jU.removeEventListener("seeked",this.zV),this.jU.removeEventListener("ratechange",this.HV),this.jU.removeEventListener("durationchange",this.AV),this.jU.removeEventListener("timeupdate",this.YV),this.jU.removeEventListener("waiting",this.KV),this.jU.removeEventListener("playing",this.VV),this.jU.removeEventListener("ended",this.PV),this.jU.removeEventListener("loadedmetadata",this.LV),this.jU.removeEventListener("loadeddata",this.BV),this.jU.removeEventListener("loadstart",this.xV),this.jU.removeEventListener("canplay",this.CV),this.jU.removeEventListener("canplaythrough",this.DV),this.jU.removeEventListener("error",this.MR),this.jU.removeEventListener("seekablechange",this.qV),this.jU.removeEventListener("videosizechange",this.GV),this.jU.removeEventListener("bufferedchange",this.OV),this.jU.removeEventListener("playedchange",this.UV),this.jU.removeEventListener("metricschange",this.aH),this.jU.removeEventListener("addDateRangeCues",this.cH)},e.updateCurrentTime=function(t){var n=this.Gg.start(0),e=this.Gg.end(0);return d.min(d.max(t,n),e)},e.rH=function(){for(var t=0,n=this.sg.kl;t<n.length;t++){var e=n[t];if(e.Bl===db.Tp&&e.xu===p_.ID3)return e}},e.oH=function(t){for(var n=0,e=this.sg.kl;n<e.length;n++){var i=e[n],r=i.ql===py.zl,u=i.Bl===t;if(r&&u)return i}},e.cI=function(){this.jU.addEventListener("addaudiotrack",this.JV),this.jU.addEventListener("enableaudiotrack",this.ZV),this.jU.addEventListener("addvideotrack",this.QV),this.jU.addEventListener("addtexttrack",this.tH),this.jU.addEventListener("addtexttrackid3cues",this.iH),this.jU.addEventListener("addtexttrackcues",this.uH)},e.TI=function(){this.jU.removeEventListener("addaudiotrack",this.JV),this.jU.removeEventListener("enableaudiotrack",this.ZV),this.jU.removeEventListener("addvideotrack",this.QV),this.jU.removeEventListener("addtexttrack",this.tH),this.jU.removeEventListener("addtexttrackid3cues",this.iH),this.jU.removeEventListener("addtexttrackcues",this.uH)},e.Ag=function(){},Ri(n,[{key:"hg",get:function(){return this.ug}},{key:"Pg",get:function(){return this.EV.RI()}},{key:"xg",get:function(){return this.WV?this.WV:null},set:function(t){this.pU._U("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.WV=t}},{key:"Dw",get:function(){return this.ZO},set:function(t){this.setCurrentTime(t)}},{key:"Aw",get:function(){return this.Js}},{key:"Pw",get:function(){return this.SV}},{key:"Do",get:function(){return this.PR}},{key:"xw",get:function(){return this.xR}},{key:"lg",get:function(){}},{key:"Lg",get:function(){return this.eI.Lg}},{key:"Fg",get:function(){return this.qU}},{key:"Bw",get:function(){return this.QO},set:function(t){this.QO!==t&&(this.pU._U("THEOplayerSetMuted",t),this.QO=t,this.lo(new Sm(this.Dw,t?0:1)))}},{key:"Lw",get:function(){return this.tC}},{key:"Fw",get:function(){return this.nC},set:function(t){this.pU._U("THEOplayerSetPlaybackRate",t),this.nC=t}},{key:"jg",get:function(){return this.IV.RI()}},{key:"Yg",get:function(){return jS.$I},set:function(t){}},{key:"Xl",get:function(){return this.cL}},{key:"Gg",get:function(){return this.RV.RI()}},{key:"Mw",get:function(){return this.eC}},{key:"CI",get:function(){}},{key:"dg",get:function(){return this.sg}},{key:"Uw",get:function(){return this.XV}},{key:"Vw",get:function(){return this.$V}},{key:"Hw",get:function(){return 1},set:function(t){}},{key:"Xg",get:function(){return this.FR}},{key:"vg",get:function(){return this.og}},{key:"NI",get:function(){return this.LR}},{key:"$g",get:function(){return!1},set:function(t){}},{key:"Wg",get:function(){return!0}}]),n}(Cy),_A=function(){function t(){this.DI=IS.hR}var n=t.prototype;return n.AI=function(n,e){if(n.isAdvertisement)return!1;if(e.vr&&!e.vr.nativeVR&&(e.vr.panoramaMode===GE.PM360||e.vr.panoramaMode===GE.PM180))return!1;if((i=n.type)&&xa(i.toLowerCase(),Vy.hw))return!1;var i,r=n.contentProtection;if(r&&!Pk(r)){if(!Lk(r))return!1;if(!t.lH(r))return!1}return!0},n.xI=function(){return!1},t.lH=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}();ki(),Vt();var pA=function(){function n(t){this.playerID=t}return n.prototype._U=function(n,e){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var i={body:e,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(i)}},n}();ki(),Vt();var bA=function(t){function n(n){var e;return(e=t.call(this)||this).wH=function(t){var n=Fc(t.detail.initData),i=t.detail.sessionId;e.lo(new JD(n,i))},e.gH=function(t){var n=new y(Wc(t.detail.message)),i=t.detail.destinationURL;e.lo(new ZD(n,i))},e.yH=function(t){e.lo(new QD)},e.forwardKeyFlowDone=function(t){e.lo(new tA)},e.pU=n,e.jU=new YD,LD().fairplayController={sdkEventBus:e.jU},e.mH(),e}Xi(n,t);var e=n.prototype;return e.mH=function(){this.jU.addEventListener(XD.CU,this.wH),this.jU.addEventListener(XD.NU,this.gH),this.jU.addEventListener(XD.DU,this.yH),this.jU.addEventListener(XD.AU,this.forwardKeyFlowDone)},e.gF=function(t,n){var e={playerId:MD(),data:jc(n.buffer),sessionId:t};this.pU._U("THEOplayerCreateKeySession",e)},e.kc=function(t,n){var e={playerId:MD(),data:jc(n.buffer),sessionId:t};this.pU._U("THEOplayerUpdateKey",e)},n}(Cy);ki(),Vt();var kA,TA,SA,EA=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Zh=function(n){if(Rf(n.Lh)){var e=If(n.Lh);n.Lh=gf(e)}return t.prototype.Zh.call(this,n)},n}(EN),RA=function(t){function n(n,e,i,r,u){return t.call(this,n,e,i,r,u)}Xi(n,t);var e=n.prototype;return e.mg=function(){return!1},e.getSdkBridge=function(t){return new pA(t)},e.getFairPlayControllerBridge=function(t){return new bA(t)},e.fH=function(t){return new EA(t)},n}(mA);kA=new(function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.sE=function(t,n,e,i,r,u){return new RA(t,n,e,i,r)},n}(_A)),WS._i.VI(kA),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(SA=TA||(TA={})).Vd="addtrack",SA.qd="removetrack",SA.ol="change",SA.vl="update";var IA=function(t,n,e){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=e,this.type=TA.ol};ki(),Vt();var OA=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=TA.Vd};ki(),Vt();var CA=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=TA.qd};ki(),Vt();var NA=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=TA.vl},DA=function(){function t(t,n,e){var i=this;this._H=function(t){var n=new IA(i.type,t.track,i.mediaTracks);i.messageDispatcher.pH(n)},this.bH=function(t){var n=new OA(i.type,t.track);i.messageDispatcher.pH(n),t.track.addEventListener("update",i.kH)},this.TH=function(t){var n=new CA(i.type,t.track);i.messageDispatcher.pH(n)},this.kH=function(t){var n=new NA(i.type,t.track);i.messageDispatcher.pH(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=e,this.mH()}return t.prototype.mH=function(){this.mediaTracks.addEventListener("change",this._H),this.mediaTracks.addEventListener("addtrack",this.bH),this.mediaTracks.addEventListener("removetrack",this.TH)},t}();ki(),Vt();var AA=function(){function t(t){this.SH=new pA(t)}return t.prototype.pH=function(t){this.SH._U(t.type,sD(t))},t}();AN((function(t){if(t.jd.audioTracks){var n=new AA(t.xl);new DA("audio",t.jd.audioTracks,n)}if(t.jd.videoTracks){var e=new AA(t.xl);new DA("video",t.jd.videoTracks,e)}})),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var PA=function(){function t(){this.EH=e.webkit}return t.prototype._U=function(t,n){this.EH.messageHandlers[t]&&this.EH.messageHandlers[t].postMessage(n)},t}();ki(),Vt(),ki(),Vt(),ki(),Vt();var xA,BA,LA="nativePromiseCallback",FA=function(t){function n(n){var e;return(e=t.call(this,LA)||this).detail=n,e}return Xi(n,t),n}(Sc);(BA=xA||(xA={})).RESOLVE="NATIVE_PROMISE_RESOLVE",BA.REJECT="NATIVE_PROMISE_REJECT";var MA=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.dispatchEvent=function(t,n){this.lo(new FA(n))},e.addEventListener=function(t,n){this.yo(t,n)},e.removeEventListener=function(t,n){this.bo(t,n)},n}(YD),UA=O(Mi()),VA=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var e=t.promisesMap[n.detail.promiseId];if(!e)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case xA.RESOLVE:e.Qo(n.detail.data);break;case xA.REJECT:e.ts(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new MA;LD().nativePromise={sdkEventBus:n},n.addEventListener(LA,this.handleNativePromiseEvent)}return t.prototype.RH=function(n){var e;t.messageIdTracker+=1;var i=t.messageIdTracker.toString(),r=na({},n,{promiseId:i}),u=new Af;return this.promisesMap[i]=u,null==(e=this.SH)||e._U(n.type,(0,UA.default)(r)),u.Zo},t}();VA.messageIdTracker=-1;var HA=function(t){function n(){var n;return(n=t.call(this)||this).SH=new PA,n}return Xi(n,t),n}(VA);ki(),Vt();var qA,zA,WA=function(t){function n(n){var e;return(e=t.call(this)||this).SH=new pA(n),e}return Xi(n,t),n}(VA);ki(),Vt(),ki(),Vt(),(zA=qA||(qA={})).Vd="TextTrackListAddTrack",zA.qd="TextTrackListRemoveTrack",zA.ol="TextTrackListChange";var jA=function(t){this.textTrack=t,this.type=qA.Vd};ki(),Vt();var YA=function(t){this.textTrack=t,this.type=qA.qd};ki(),Vt();var GA,XA,$A=function(t){this.textTrack=t,this.type=qA.ol};ki(),Vt(),ki(),Vt(),ki(),Vt(),(XA=GA||(GA={})).Xd="TextTrackAddCue",XA.Kd="TextTrackRemoveCue",XA.Zd="TextTrackEnterCue",XA.tl="TextTrackExitCue",XA.il="TextTrackCueChange";var KA=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=GA.Xd};ki(),Vt();var JA=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=GA.Kd};ki(),Vt();var ZA=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=GA.Zd};ki(),Vt();var QA=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=GA.tl};ki(),Vt();var tP,nP,eP=function(t){this.textTrackUid=t,this.type=GA.il};ki(),Vt(),ki(),Vt(),ki(),Vt(),(nP=tP||(tP={})).wy="TextTrackCueEnter",nP.yy="TextTrackCueExit",nP.vl="TextTrackCueUpdate";var iP=function(t){this.textTrackCue=t,this.type=tP.wy};ki(),Vt();var rP=function(t){this.textTrackCue=t,this.type=tP.yy};ki(),Vt();var uP=function(t){this.textTrackCue=t,this.type=tP.vl},oP=function(){function t(t){var n=this;this.IH=function(t){var e=sP(t.cue),i=new iP(e);n.messageDispatcher.RH(i).then()},this.OH=function(t){var e=sP(t.cue),i=new rP(e);n.messageDispatcher.RH(i).then()},this.CH=function(t){var e=sP(t.cue),i=new uP(e);n.messageDispatcher.RH(i).then()},this.messageDispatcher=t}var n=t.prototype;return n.mH=function(t){t.addEventListener("enter",this.IH),t.addEventListener("exit",this.OH),t.addEventListener("update",this.CH)},n.To=function(t){t.removeEventListener("enter",this.IH),t.removeEventListener("exit",this.OH),t.removeEventListener("update",this.CH)},t}();function sP(t){var n=ID(t,t.track.type);return delete n.track,n}var aP=function(){function t(t,n){var e=this;this.NH=function(t){var n,i=sP(t.cue),r=new KA(i,t.cue.track.uid);e.messageDispatcher.RH(r).then(),null==(n=e.textTrackCueBridge)||n.mH(t.cue)},this.DH=function(t){var n,i=sP(t.cue),r=new JA(i,t.cue.track.uid);e.messageDispatcher.RH(r).then(),null==(n=e.textTrackCueBridge)||n.To(t.cue)},this.IH=function(t){var n=sP(t.cue),i=new ZA(n,t.cue.track.uid);e.messageDispatcher.RH(i).then()},this.OH=function(t){var n=sP(t.cue),i=new QA(n,t.cue.track.uid);e.messageDispatcher.RH(i).then()},this.AH=function(t){var n=new eP(t.track.uid);e.messageDispatcher.RH(n).then()},this.messageDispatcher=t;var i=this.initMessageDispatcher(n);i&&(this.textTrackCueBridge=new oP(i))}var n=t.prototype;return n.mH=function(t){t.addEventListener("addcue",this.NH),t.addEventListener("removecue",this.DH),t.addEventListener("entercue",this.IH),t.addEventListener("exitcue",this.OH),t.addEventListener("cuechange",this.AH)},n.To=function(t){t.removeEventListener("addcue",this.NH),t.removeEventListener("removecue",this.DH),t.removeEventListener("entercue",this.IH),t.removeEventListener("exitcue",this.OH),t.removeEventListener("cuechange",this.AH)},n.initMessageDispatcher=function(t){return sr.wi?new HA:sr.gi&&void 0!==t?new WA(t):void 0},t}(),cP=function(){function t(t,n,e){var i=this;this.bH=function(t){var n,e=new jA(t.track);i.messageDispatcher.RH(e).then(),null==(n=i.textTrackBridge)||n.mH(t.track)},this.TH=function(t){var n,e=new YA(t.track);i.messageDispatcher.RH(e).then(),null==(n=i.textTrackBridge)||n.To(t.track)},this.PH=function(t){var n=new $A(t.track);i.messageDispatcher.RH(n).then()},this.xH=function(t){var n=t.detail.uid,e=t.detail.mode;i.textTracks.filter((function(t){return t.uid===n}))[0].mode=e},this.textTracks=t,this.messageDispatcher=n;var r=this.BH(e);r&&(this.textTrackBridge=new aP(r,e)),this.mH(),this.sdkEventBus=new YD,LD().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.xH)}var n=t.prototype;return n.mH=function(){this.textTracks.addEventListener("addtrack",this.bH),this.textTracks.addEventListener("removetrack",this.TH),this.textTracks.addEventListener("change",this.PH)},n.BH=function(t){return sr.wi?new HA:sr.gi&&void 0!==t?new WA(t):void 0},t}();AN((function(t){if(t.jd.textTracks){var n=new WA(t.xl);new cP(t.jd.textTracks,n,t.xl)}})),ki(),Vt(),Ii(),ki(),Vt(),ki(),Vt();var fP,hP,vP,dP=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case"registerContentProtectionIntegration":var e={integrationId:n.integrationId,keySystem:n.keySystem};this.lo(new lP(e));break;default:0}},n}(YD),lP=function(t){function n(n){var e;return(e=t.call(this,"registerContentProtectionIntegration")||this).detail=n,e}return Xi(n,t),n}(Sc);(fP||(fP={})).LH="registerContentProtectionIntegration",ki(),Vt(),ki(),Vt(),(vP=hP||(hP={})).FH="certifiateRequest",vP.MH="certifiateResponse",vP.UH="licenseRequest",vP.VH="licenseResponse",vP.HH="extractFairplayContentId",vP.qH="buildContentProtection",vP.zH="registerContentProtectionCallback";var wP,gP,yP=function(t,n){this.value=t,this.integrationId=n,this.type=hP.zH};ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(gP=wP||(wP={})).GALLERY="gallery",gP.OVERLAY="overlay",gP.SPOTLIGHT="spotlight",ki(),Vt();var mP=function(t,n){this.value=t,this.integrationId=n,this.type=hP.qH};ki(),Vt();var _P=function(t,n){this.value=t,this.integrationId=n,this.type=hP.FH};ki(),Vt();var pP=function(t,n){this.value=t,this.integrationId=n,this.type=hP.MH};ki(),Vt();var bP=function(t,n){this.value=t,this.integrationId=n,this.type=hP.HH};ki(),Vt();var kP=function(t,n){this.value=t,this.integrationId=n,this.type=hP.UH};ki(),Vt();var TP=function(t,n){this.value=t,this.integrationId=n,this.type=hP.VH},SP=function(){function t(t,n){this.WH=t,this.aE=n}var n=t.prototype;return n.onCertificateRequest=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:e=n.toCertificateRequestDTO(t),i=new _P(e,n.aE),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.WH.RH(i)];case 2:if(r=s.sent()){if(u=JSON.parse(r),n.jH(u))return[2,na({},u)];if(n.YH(u))return[2,new y(u)]}throw new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 3:throw o=s.sent(),new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,o);case 4:return[2]}}))}))()},n.onCertificateResponse=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:return e=n.toCertificateRequestDTO(t.request),i={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new pP(i,n.aE),[4,n.WH.RH(r)];case 1:if(u=s.sent())return o=JSON.parse(u),[2,new y(o)];throw new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse")}}))}))()},n.onLicenseRequest=function(t){var n=this;return ta((function(){var e,i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:e=n.toCertificateRequestDTO(t),i={url:e.url,method:e.method,headers:e.headers,body:e.body?Array.from(e.body):null,useCredentials:e.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new kP(i,n.aE),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.WH.RH(r)];case 2:if(u=a.sent()){if(o=JSON.parse(u),n.jH(o))return[2,{url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl}];if(n.YH(o))return[2,new y(o)]}throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 3:throw s=a.sent(),new t_(Ad.CONTENT_PROTECTION_CERTIFICATE_ERROR,s);case 4:return[2]}}))}))()},n.onLicenseResponse=function(t){var n=this;return ta((function(){var e,i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return e=n.toCertificateRequestDTO(t.request),i=na({},e,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new TP(r,n.aE),[4,n.WH.RH(u)];case 1:if(o=a.sent())return s=JSON.parse(o),[2,new y(s)];throw new t_(Ad.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse")}}))}))()},n.extractFairplayContentId=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return e=new bP(t,n.aE),[4,n.WH.RH(e)];case 1:return(i=r.sent())?[2,i]:[2,Y.reject(new t_(Ad.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId"))]}}))}))()},n.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},n.jH=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},n.YH=function(t){return!!new y(t)},t}(),EP=function(){function t(t){this.WH=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new SP(this.WH,t.integration),e=new mP({drmConfiguration:t},t.integration);return this.WH.RH(e),n},t}(),RP=function(t){function n(n){var e;return(e=t.call(this)||this).WH=new WA(n),e}return Xi(n,t),Ri(n,[{key:"messageDispatcher",get:function(){return this.WH}}]),n}((function(){var t=this;this.GH=function(n){var e=new EP(t.messageDispatcher),i=n.detail,r=i.integrationId,u=i.keySystem,o={state:Ek.lE.fE(r,u,e)};t.messageDispatcher.RH(new yP(o,r))},this.jU=new dP,LD().contentProtectionIntegration={sdkEventBus:this.jU},this.jU.addEventListener(fP.LH,this.GH)}));return AN((function(t){new RP(t.jd.uid)})),n.exports}));