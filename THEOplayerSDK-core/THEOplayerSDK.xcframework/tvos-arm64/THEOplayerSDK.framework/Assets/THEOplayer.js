/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 5.11.0 (5.11.0)
 Created: 2023-09-11T13:46:55.918Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,(function(t){"use strict";var n={exports:{}},e=(n.exports,t.window),i=t.document,r=t.location,u=t.navigator,o=t.setTimeout,s=t.clearTimeout,a=t.setInterval,c=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),_=v.create,p=v.defineProperty,b=v.getOwnPropertyDescriptor,k=v.getOwnPropertyNames,T=v.getPrototypeOf,S=v.prototype.hasOwnProperty,E=function(t,n){return function(){return t&&(n=(0,t[k(t)[0]])(t=0)),n}},I=function(t,n){return function(){return n||(0,t[k(t)[0]])((n={exports:{}}).exports,n),n.exports}},R=function(t,n,e,i){if(n&&"object"==typeof n||"function"==typeof n)for(var r,u=k(n),o=0,s=u.length;o<s;o++)r=u[o],S.call(t,r)||r===e||p(t,r,{get:function(t){return n[t]}.bind(null,r),enumerable:!(i=b(n,r))||i.enumerable});return t},N=function(t,n,e){return e=null!=t?_(T(t)):{},R(!n&&t&&t.__esModule?e:p(e,"default",{value:t,enumerable:!0}),t)};function O(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var C,A,D,P,x,B,L,M,F,U,V,H,q,z,W,j,G,Y,X,$=E({"../../../web/node_modules/@swc/helpers/esm/_type_of.js":function(){ki(),Vt()}});function K(t){var n=this.constructor;return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){return n.reject(e)}))}))}function J(t){return new this((function(n,e){if(!t||void 0===t.length)return e(new h((void 0===t?"undefined":O(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var r=i.length;function u(t,e){if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,(function(n){u(t,n)}),(function(e){i[t]={status:"rejected",reason:e},0==--r&&n(i)}))}i[t]={status:"fulfilled",value:e},0==--r&&n(i)}for(var o=0;o<i.length;o++)u(o,i[o])}))}function Z(t){return Boolean(t&&void 0!==t.length)}function Q(){}function tt(t){if(!(this instanceof tt))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],ot(t,this)}function nt(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,tt.I((function(){var e=1===t.o?n.onFulfilled:n.onRejected;if(null!==e){var i;try{i=e(t.g)}catch(t){return void it(n.promise,t)}et(n.promise,i)}else(1===t.o?et:it)(n.promise,t.g)}))):t.p.push(n)}function et(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof tt)return t.o=3,t.g=n,void rt(t);if("function"==typeof e)return void ot((i=e,r=n,function(){i.apply(r,arguments)}),t)}t.o=1,t.g=n,rt(t)}catch(n){it(t,n)}var i,r}function it(t,n){t.o=2,t.g=n,rt(t)}function rt(t){2===t.o&&0===t.p.length&&tt.I((function(){t.l||tt.R(t.g)}));for(var n=0,e=t.p.length;n<e;n++)nt(t,t.p[n]);t.p=null}function ut(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function ot(t,n){var e=!1;try{t((function(t){e||(e=!0,et(n,t))}),(function(t){e||(e=!0,it(n,t))}))}catch(t){if(e)return;e=!0,it(n,t)}}function st(t){return new H(V,{reason:t,promise:A.reject(t).catch((function(){})),cancelable:!0})}function at(t){var n=new q(V,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function ct(t){var n=i.createEvent("CustomEvent");return n.initCustomEvent(V,!1,!0,{reason:t}),n}var ft,ht,vt,dt,lt,wt,gt,yt,mt,_t,pt,bt,kt,Tt,St,Et,It,Rt,Nt,Ot,Ct,At,Dt,Pt,xt,Bt,Lt,Mt,Ft,Ut=E({"../../../web/node_modules/@opentelly/promise-polyfill/dist/index.js":function(){var n,e,i,r,s;ki(),Vt(),$(),C=o,tt.prototype.catch=function(t){return this.then(null,t)},tt.prototype.then=function(t,n){var e=new this.constructor(Q);return nt(this,new ut(t,n,e)),e},tt.prototype.finally=K,tt.all=function(t){return new tt((function(n,e){if(!Z(t))return e(new h("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var r=i.length;function u(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(n){u(t,n)}),e)}i[t]=o,0==--r&&n(i)}catch(t){e(t)}}for(var o=0;o<i.length;o++)u(o,i[o])}))},tt.allSettled=J,tt.resolve=function(t){return t&&"object"==typeof t&&t.constructor===tt?t:new tt((function(n){n(t)}))},tt.reject=function(t){return new tt((function(n,e){e(t)}))},tt.race=function(t){return new tt((function(n,e){if(!Z(t))return e(new h("Promise.race accepts an array"));for(var i=0,r=t.length;i<r;i++)tt.resolve(t[i]).then(n,e)}))},tt.I="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){C(t,0)},tt.R=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},A=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),D=u?u.userAgent:"",P=D.match(/Firefox\/([0-9]+)/i),x=null!=P,B=P?Number(P[1]):0,L=D.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),M=null!=L,F=L?Number(L[3]):0,(n=function(t){this.C=0,this.P=0,this.B=[],this.M=t}).prototype.N=function(t){var n=this.length();this.F(n+1);var e=this.P+n&this.M-1;this.B[e]=t,this.C=n+1},n.prototype.push=function(t){var n=this.length()+1;if(this.M<n)this.N(t);else{var e=this.P+n-1,i=this.M-1;this.B[e&i]=t,this.C=n}},n.prototype.shift=function(){var t=this.P,n=this.B[t];return this.B[t]=void 0,this.P=t+1&this.M-1,this.C--,n},n.prototype.length=function(){return this.C},n.prototype.F=function(t){this.M<t&&this.U(this.M<<1)},n.prototype.U=function(t){var n=this.M;this.M=t;var e=this.P+this.C&n-1;!function(t,n,e,i){for(var r=0;r<i;++r)t[r+e]=t[r+n],t[r+n]=void 0}(this.B,0,n,e)},U=n,V="unhandledrejection",H=t.PromiseRejectionEvent,q=t.CustomEvent,z=function(t){return(z=function(){try{var t=A.resolve(),n="error",e=new H(V,{reason:n,promise:t});return V===e.type&&n===e.reason}catch(t){}return!1}()?st:function(){try{var t="error",n=new q(V,{detail:{reason:t}});return V===n.type&&t===n.detail.reason}catch(t){}return!1}()?at:ct)(t)},j=x&&B<60||M&&F<15,A&&!j?(G=A,function(){}):(G=tt,Y=null!==(W=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var e=A;if(e&&"function"==typeof e.resolve){var i=e.resolve();return function(t){return i.then(t)}}}())&&void 0!==W?W:tt.I,e=Y,i=new U(16),r=!1,(X={H:function(t){i.push(t),r||(r=!0,e(s))},V:s=function(){for(;i.length()>0;)i.shift()();r=!1}}).V,tt.I=X.H,tt.R=function(n){try{var e=z(n);if(!t.dispatchEvent(e)||e.defaultPrevented)return}catch(t){}o((function(){throw new f("Unhandled promise rejection: ".concat(n))}),0)})}}),Vt=E({"../../../web/src/util/polyfill/Promise.ts":function(){Ut()}});function Ht(){}function qt(t){return"object"==typeof t&&null!==t||"function"==typeof t}function zt(t){return t.slice()}function Wt(t){return!1!==function(t){if("number"!=typeof t)return!1;if(ht(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function jt(t,n,e){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,e)}function Gt(t,n,e,i){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new h(r+" is not a method");switch(e){case 0:return function(){return Xt(r,t,i)};case 1:return function(n){var e=[n].concat(i);return Xt(r,t,e)}}}return function(){return Zt(void 0)}}function Yt(t,n,e){var i=t[n];if(void 0!==i)return jt(i,t,e)}function Xt(t,n,e){try{return Zt(jt(t,n,e))}catch(t){return Qt(t)}}function $t(t){if(t=Number(t),ht(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Kt(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new h("size property of a queuing strategy must be a function");return function(n){return t(n)}}function Jt(t){return new dt(t)}function Zt(t){return wt(t)}function Qt(t){return gt(t)}function tn(t,n,e){return lt.call(t,n,e)}function nn(t,n,e){tn(tn(t,n,e),void 0,vt)}function en(t,n){nn(t,n)}function rn(t,n){nn(t,void 0,n)}function un(t,n,e){return tn(t,n,e)}function on(t){tn(t,void 0,vt)}function sn(t,n,e){var i=null;!0===e&&(i=v.prototype);var r=v.create(i);return r.value=t,r.done=n,r}function an(t,n){t.W=!0,t.j=n,n.G=t,"readable"===n.o?vn(t):"closed"===n.o?function(t){vn(t),wn(t)}(t):dn(t,n.Y)}function cn(t,n){return ti(t.j,n)}function fn(t){"readable"===t.j.o?ln(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){dn(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.j.G=void 0,t.j=void 0}function hn(t){return new h("Cannot "+t+" a stream using a released reader")}function vn(t){t.X=Jt((function(n,e){t.K=n,t.J=e}))}function dn(t,n){vn(t),ln(t,n)}function ln(t,n){on(t.X),t.J(n),t.K=void 0,t.J=void 0}function wn(t){t.K(void 0),t.K=void 0,t.J=void 0}function gn(t,n){void 0===n&&(n=!1);var e=new pt(t);return e.W=n,e}function yn(t){return Jt((function(n,e){var i={Z:n,nt:e};t.G.et.push(i)}))}function mn(t,n,e){var i=t.G;i.et.shift().Z(sn(n,e,i.W))}function _n(t){return t.G.et.length}function pn(t){var n=t.G;return void 0!==n&&!!bn(n)}function bn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"et")}function kn(t){var n=t.j;return n.it=!0,"closed"===n.o?Zt(sn(void 0,!0,t.W)):"errored"===n.o?Qt(n.Y):n.rt[_t]()}function Tn(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}function Sn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"ut")}function En(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function In(t){var n=t.ot.shift();return t.st-=n.size,t.st<0&&(t.st=0),n.value}function Rn(t,n,e){if(!Wt(e=Number(e)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.ot.push({value:n,size:e}),t.st+=e}function Nn(t){t.ot=new yt,t.st=0}function On(t){return new Rt(t)}function Cn(t){t.o="writable",t.Y=void 0,t.ct=void 0,t.ft=void 0,t.ht=new yt,t.vt=void 0,t.dt=void 0,t.wt=void 0,t.yt=void 0,t._t=!1}function An(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"ft")}function Dn(t){return void 0!==t.ct}function Pn(t,n){var e=t.o;if("closed"===e||"errored"===e)return Zt(void 0);if(void 0!==t.yt)return t.yt.bt;var i=!1;"erroring"===e&&(i=!0,n=void 0);var r=Jt((function(e,r){t.yt={bt:void 0,Z:e,nt:r,kt:n,Tt:i}}));return t.yt.bt=r,!1===i&&Ln(t,n),r}function xn(t){var n=t.o;if("closed"===n||"errored"===n)return Qt(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var e,i=Jt((function(n,e){var i={Z:n,nt:e};t.dt=i})),r=t.ct;return void 0!==r&&!0===t._t&&"writable"===n&&he(r),Rn(e=t.ft,"close",0),Kn(e),i}function Bn(t,n){"writable"!==t.o?Mn(t):Ln(t,n)}function Ln(t,n){var e=t.ft;t.o="erroring",t.Y=n;var i=t.ct;void 0!==i&&Wn(i,n),!1===function(t){if(void 0===t.vt&&void 0===t.wt)return!1;return!0}(t)&&!0===e.St&&Mn(t)}function Mn(t){t.o="errored",t.ft[Et]();var n=t.Y;if(t.ht.forEach((function(t){t.nt(n)})),t.ht=new yt,void 0!==t.yt){var e=t.yt;if(t.yt=void 0,!0===e.Tt)return e.nt(n),void Un(t);nn(t.ft[St](e.kt),(function(){e.Z(),Un(t)}),(function(n){e.nt(n),Un(t)}))}else Un(t)}function Fn(t){return void 0!==t.dt||void 0!==t.wt}function Un(t){void 0!==t.dt&&(t.dt.nt(t.Y),t.dt=void 0);var n=t.ct;void 0!==n&&ue(n,t.Y)}function Vn(t,n){var e=t.ct;void 0!==e&&n!==t._t&&(!0===n?function(t){se(t)}(e):he(e)),t._t=n}function Hn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Et")}function qn(t){return xn(t.Et)}function zn(t,n){"pending"===t.It?ue(t,n):function(t,n){re(t,n)}(t,n)}function Wn(t,n){"pending"===t.Rt?fe(t,n):function(t,n){ae(t,n)}(t,n)}function jn(t){var n=t.Et,e=new h("Writer was released and can no longer be used to monitor the stream's closedness");Wn(t,e),zn(t,e),n.ct=void 0,t.Et=void 0}function Gn(t,n){var e=t.Et,i=e.ft,r=function(t,n){try{return t.Nt(n)}catch(n){return Jn(t,n),1}}(i,n);if(e!==t.Et)return Qt(ee("write to"));var u=e.o;if("errored"===u)return Qt(e.Y);if(!0===Fn(e)||"closed"===u)return Qt(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Qt(e.Y);var o=function(t){return Jt((function(n,e){var i={Z:n,nt:e};t.ht.push(i)}))}(e);return function(t,n,e){var i={chunk:n};try{Rn(t,i,e)}catch(n){return void Jn(t,n)}var r=t.Ot;if(!1===Fn(r)&&"writable"===r.o){Vn(r,Zn(t))}Kn(t)}(i,n,r),o}function Yn(t,n,e,i,r,u,o,s){n.Ot=t,t.ft=n,n.ot=void 0,n.st=void 0,Nn(n),n.St=!1,n.Nt=s,n.Ct=o,n.At=i,n.Dt=r,n.Pt=u;var a=Zn(n);Vn(t,a),nn(Zt(e()),(function(){n.St=!0,Kn(n)}),(function(e){n.St=!0,Bn(t,e)}))}function Xn(t){t.At=void 0,t.Dt=void 0,t.Pt=void 0,t.Nt=void 0}function $n(t){return t.Ct-t.st}function Kn(t){var n=t.Ot;if(!1!==t.St&&void 0===n.vt)if("erroring"!==n.o){if(0!==t.ot.length){var e=t.ot.peek().value;"close"===e?function(t){var n=t.Ot;(function(t){t.wt=t.dt,t.dt=void 0})(n),In(t);var e=t.Dt();Xn(t),nn(e,(function(){!function(t){t.wt.Z(void 0),t.wt=void 0,"erroring"===t.o&&(t.Y=void 0,void 0!==t.yt&&(t.yt.Z(),t.yt=void 0)),t.o="closed";var n=t.ct;void 0!==n&&oe(n)}(n)}),(function(t){!function(t,n){t.wt.nt(n),t.wt=void 0,void 0!==t.yt&&(t.yt.nt(n),t.yt=void 0),Bn(t,n)}(n,t)}))}(t):function(t,n){var e=t.Ot;(function(t){t.vt=t.ht.shift()})(e),nn(t.At(n),(function(){!function(t){t.vt.Z(void 0),t.vt=void 0}(e);var n=e.o;if(In(t),!1===Fn(e)&&"writable"===n){var i=Zn(t);Vn(e,i)}Kn(t)}),(function(n){"writable"===e.o&&Xn(t),function(t,n){t.vt.nt(n),t.vt=void 0,Bn(t,n)}(e,n)}))}(t,e.chunk)}}else Mn(n)}function Jn(t,n){"writable"===t.Ot.o&&Qn(t,n)}function Zn(t){return $n(t)<=0}function Qn(t,n){var e=t.Ot;Xn(t),Ln(e,n)}function te(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ne(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function ee(t){return new h("Cannot "+t+" a stream using a released writer")}function ie(t){t.X=Jt((function(n,e){t.K=n,t.J=e,t.It="pending"}))}function re(t,n){ie(t),ue(t,n)}function ue(t,n){on(t.X),t.J(n),t.K=void 0,t.J=void 0,t.It="rejected"}function oe(t){t.K(void 0),t.K=void 0,t.J=void 0,t.It="resolved"}function se(t){t.xt=Jt((function(n,e){t.Bt=n,t.Lt=e})),t.Rt="pending"}function ae(t,n){se(t),fe(t,n)}function ce(t){se(t),he(t)}function fe(t,n){on(t.xt),t.Lt(n),t.Bt=void 0,t.Lt=void 0,t.Rt="rejected"}function he(t){t.Bt(void 0),t.Bt=void 0,t.Lt=void 0,t.Rt="fulfilled"}function ve(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}function de(t,n,e,i,r,u){var o=gn(t),s=On(n);t.it=!0;var a=!1,c=Zt(void 0);return Jt((function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var e=new Ct("Aborted","AbortError"),u=[];!1===i&&u.push((function(){return"writable"===n.o?Pn(n,e):Zt(void 0)})),!1===r&&u.push((function(){return"readable"===t.o?ti(t,e):Zt(void 0)})),p((function(){return G.all(u.map((function(t){return t()})))}),!0,e)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(_(t,o.X,(function(t){!1===i?p((function(){return Pn(n,t)}),!0,t):b(!0,t)})),_(n,s.X,(function(n){!1===r?p((function(){return ti(t,n)}),!0,n):b(!0,n)})),l=t,w=o.X,g=function(){!1===e?p((function(){return function(t){var n=t.Et,e=n.o;return!0===Fn(n)||"closed"===e?Zt(void 0):"errored"===e?Qt(n.Y):qn(t)}(s)})):b()},"closed"===l.o?g():en(w,g),!0===Fn(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");!1===r?p((function(){return ti(t,y)}),!0,y):b(!0,y)}function m(){var t=c;return tn(c,(function(){return t!==c?m():void 0}))}function _(t,n,e){"errored"===t.o?e(t.Y):rn(n,e)}function p(t,e,i){function r(){nn(t(),(function(){return k(e,i)}),(function(t){return k(!0,t)}))}!0!==a&&(a=!0,"writable"===n.o&&!1===Fn(n)?en(m(),r):r())}function b(t,e){!0!==a&&(a=!0,"writable"===n.o&&!1===Fn(n)?en(m(),(function(){return k(t,e)})):k(t,e))}function k(t,n){jn(s),fn(o),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}on(Jt((function(t,n){!function e(i){i?t():tn(!0===a?Zt(!0):tn(s.xt,(function(){return tn(kn(o),(function(t){return!0===t.done||(c=tn(Gn(s,t.value),void 0,Ht),!1)}))})),e,n)}(!1)})))}))}function le(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Mt")}function we(t){!1!==ge(t)&&(!0!==t.Ft?(t.Ft=!0,nn(t.Ut(),(function(){t.Ft=!1,!0===t.Vt&&(t.Vt=!1,we(t))}),(function(n){pe(t,n)}))):t.Vt=!0)}function ge(t){var n=t.Mt;return!1!==ke(t)&&(!1!==t.St&&(!0===Qe(n)&&_n(n)>0||be(t)>0))}function ye(t){t.Ut=void 0,t.Ht=void 0,t.Nt=void 0}function me(t){var n=t.Mt;t.qt=!0,0===t.ot.length&&(ye(t),ni(n))}function _e(t,n){var e=t.Mt;if(!0===Qe(e)&&_n(e)>0)mn(e,n,!1);else{var i=void 0;try{i=t.Nt(n)}catch(n){throw pe(t,n),n}try{Rn(t,n,i)}catch(n){throw pe(t,n),n}}we(t)}function pe(t,n){var e=t.Mt;"readable"===e.o&&(Nn(t),ye(t),ei(e,n))}function be(t){var n=t.Mt.o;return"errored"===n?null:"closed"===n?0:t.Ct-t.st}function ke(t){var n=t.Mt.o;return!1===t.qt&&"readable"===n}function Te(t,n,e,i,r,u,o){n.Mt=t,n.ot=void 0,n.st=void 0,Nn(n),n.St=!1,n.qt=!1,n.Vt=!1,n.Ft=!1,n.Nt=o,n.Ct=u,n.Ut=i,n.Ht=r,t.rt=n,nn(Zt(e()),(function(){n.St=!0,we(n)}),(function(t){pe(n,t)}))}function Se(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Ee(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"zt")}function Ie(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Wt")}function Re(t){!1!==function(t){var n=t.zt;if("readable"!==n.o)return!1;if(!0===t.qt)return!1;if(!1===t.St)return!1;if(!0===pn(n)&&_n(n)>0)return!0;if(!0===Ge(n)&&je(n)>0)return!0;if(Ve(t)>0)return!0;return!1}(t)&&(!0!==t.Ft?(t.Ft=!0,nn(t.Ut(),(function(){t.Ft=!1,!0===t.Vt&&(t.Vt=!1,Re(t))}),(function(n){Ue(t,n)}))):t.Vt=!0)}function Ne(t,n){var e=!1;"closed"===t.o&&(e=!0);var i=Oe(n);"default"===n.readerType?mn(t,i,e):function(t,n,e){var i=t.G;i.jt.shift().Z(sn(n,e,i.W))}(t,i,e)}function Oe(t){var n=t.bytesFilled,e=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/e)}function Ce(t,n,e,i){t.ot.push({buffer:n,byteOffset:e,byteLength:i}),t.st+=i}function Ae(t,n){var e=n.elementSize,i=n.bytesFilled-n.bytesFilled%e,r=d.min(t.st,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,o=u-u%e,s=r,a=!1;o>i&&(s=o-n.bytesFilled,a=!0);for(var c,f,h,v,l,w=t.ot;s>0;){var g=w.peek(),m=d.min(s,g.byteLength),_=n.byteOffset+n.bytesFilled;c=n.buffer,f=_,h=g.buffer,v=g.byteOffset,l=m,new y(c).set(new y(h,v,l),f),g.byteLength===m?w.shift():(g.byteOffset+=m,g.byteLength-=m),t.st-=m,De(t,m,n),s-=m}return a}function De(t,n,e){xe(t),e.bytesFilled+=n}function Pe(t){0===t.st&&!0===t.qt?(Fe(t),ni(t.zt)):Re(t)}function xe(t){void 0!==t.Gt&&(t.Gt.Wt=void 0,t.Gt.Yt=void 0,t.Gt=void 0)}function Be(t){for(;t.Xt.length>0;){if(0===t.st)return;var n=t.Xt.peek();!0===Ae(t,n)&&(Me(t),Ne(t.zt,n))}}function Le(t,n){var e=t.Xt.peek();if("closed"===t.zt.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var e=t.zt;if(!0===Ge(e))for(;je(e)>0;)Ne(e,Me(t))}(t,e)}else!function(t,n,e){if(e.bytesFilled+n>e.byteLength)throw new RangeError("bytesWritten out of range");if(De(t,n,e),!(e.bytesFilled<e.elementSize)){Me(t);var i=e.bytesFilled%e.elementSize;if(i>0){var r=e.byteOffset+e.bytesFilled,u=e.buffer.slice(r-i,r);Ce(t,u,0,u.byteLength)}e.buffer=e.buffer,e.bytesFilled-=i,Ne(t.zt,e),Be(t)}}(t,n,e);Re(t)}function Me(t){var n=t.Xt.shift();return xe(t),n}function Fe(t){t.Ut=void 0,t.Ht=void 0}function Ue(t,n){var e=t.zt;"readable"===e.o&&(!function(t){xe(t),t.Xt=new yt}(t),Nn(t),Fe(t),ei(e,n))}function Ve(t){var n=t.zt.o;return"errored"===n?null:"closed"===n?0:t.Ct-t.st}function He(t,n,e){var i=v.create(xt.prototype);var r=Gt(n,"pull",0,[i]),u=Gt(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===Dt(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,e,i,r,u,o){n.zt=t,n.Vt=!1,n.Ft=!1,n.Gt=void 0,n.ot=n.st=void 0,Nn(n),n.qt=!1,n.St=!1,n.Ct=$t(u),n.Ut=i,n.Ht=r,n.$t=o,n.Xt=new yt,t.rt=n,nn(Zt(e()),(function(){n.St=!0,Re(n)}),(function(t){Ue(n,t)}))}(t,i,(function(){return Yt(n,"start",[i])}),r,u,e,o)}function qe(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function ze(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function We(t){return Jt((function(n,e){var i={Z:n,nt:e};t.G.jt.push(i)}))}function je(t){return t.G.jt.length}function Ge(t){var n=t.G;return void 0!==n&&!!Ye(n)}function Ye(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"jt")}function Xe(t,n){var e=t.j;return e.it=!0,"errored"===e.o?Qt(e.Y):function(t,n){var e=t.zt,i=1;n.constructor!==DataView&&(i=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:i,ctor:r,readerType:"byob"};if(t.Xt.length>0)return t.Xt.push(u),We(e);if("closed"===e.o)return Zt(sn(new r(u.buffer,u.byteOffset,0),!0,e.G.W));if(t.st>0){if(!0===Ae(t,u)){var o=Oe(u);return Pe(t),Zt(sn(o,!1,e.G.W))}if(!0===t.qt){var s=new h("Insufficient bytes to fill elements in the given buffer");return Ue(t,s),Qt(s)}}t.Xt.push(u);var a=We(e);return Re(t),a}(e.rt,n)}function $e(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Ke(t,n,e,i,r){void 0===i&&(i=1),void 0===r&&(r=function(){return 1});var u=v.create(Lt.prototype);return Je(u),Te(u,v.create(At.prototype),t,n,e,i,r),u}function Je(t){t.o="readable",t.G=void 0,t.Y=void 0,t.it=!1}function Ze(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"rt")}function Qe(t){return void 0!==t.G}function ti(t,n){return t.it=!0,"closed"===t.o?Zt(void 0):"errored"===t.o?Qt(t.Y):(ni(t),un(t.rt[mt](n),Ht))}function ni(t){t.o="closed";var n=t.G;void 0!==n&&(bn(n)&&(n.et.forEach((function(t){t.Z(sn(void 0,!0,n.W))})),n.et=new yt),wn(n))}function ei(t,n){t.o="errored",t.Y=n;var e=t.G;void 0!==e&&(bn(e)?(e.et.forEach((function(t){t.nt(n)})),e.et=new yt):(e.jt.forEach((function(t){t.nt(n)})),e.jt=new yt),ln(e,n))}function ii(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function ri(t,n,e,i,r,u){function o(){return n}t.Kt=function(t,n,e,i,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var o=v.create(It.prototype);return Cn(o),Yn(o,v.create(Nt.prototype),t,n,e,i,r,u),o}(o,(function(n){return function(t,n){var e=t.Jt;if(!0===t._t){return un(t.Zt,(function(){var i=t.Kt;if("erroring"===i.o)throw i.Y;return vi(e,n)}))}return vi(e,n)}(t,n)}),(function(){return function(t){var n=t.Qt,e=t.Jt,i=e.tn();return fi(e),un(i,(function(){if("errored"===n.o)throw n.Y;var t=n.rt;!0===ke(t)&&me(t)}),(function(e){throw oi(t,e),n.Y}))}(t)}),(function(n){return function(t,n){return oi(t,n),Zt(void 0)}(t,n)}),e,i),t.Qt=Ke(o,(function(){return function(t){return ai(t,!1),t.Zt}(t)}),(function(n){return si(t,n),Zt(void 0)}),r,u),t._t=void 0,t.Zt=void 0,t.nn=void 0,ai(t,!0),t.Jt=void 0}function ui(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Jt")}function oi(t,n){pe(t.Qt.rt,n),si(t,n)}function si(t,n){fi(t.Jt),Jn(t.Kt.ft,n),!0===t._t&&ai(t,!1)}function ai(t,n){void 0!==t.Zt&&t.nn(),t.Zt=Jt((function(n){t.nn=n})),t._t=n}function ci(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"en")}function fi(t){t.rn=void 0,t.tn=void 0}function hi(t,n){var e=t.en,i=e.Qt.rt;if(!1===ke(i))throw new h("Readable side is not in a state that permits enqueue");try{_e(i,n)}catch(t){throw si(e,t),e.Qt.Y}(function(t){return!0!==ge(t)})(i)!==e._t&&ai(e,!0)}function vi(t,n){return un(t.rn(n),void 0,(function(n){throw oi(t.en,n),n}))}function di(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function li(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}var wi,gi,yi,mi,_i,pi,bi=E({"../../../core/node_modules/web-streams-polyfill/dist/ponyfill.mjs":function(){var t;ki(),Vt(),ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"},ht=Number.isNaN||function(t){return t!=t},vt=Ht,dt=G,lt=G.prototype.then,wt=G.resolve.bind(dt),gt=G.reject.bind(dt),16384,yt=function(){function t(){this.un=0,this.sn=0,this.P={an:[],cn:void 0},this.fn=this.P,this.un=0,this.sn=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.sn},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.fn,e=n;16383===n.an.length&&(e={an:[],cn:void 0}),n.an.push(t),e!==n&&(this.fn=e,n.cn=e),++this.sn},t.prototype.shift=function(){var t=this.P,n=t,e=this.un,i=e+1,r=t.an,u=r[e];return 16384===i&&(n=t.cn,i=0),--this.sn,this.un=i,t!==n&&(this.P=n),r[e]=void 0,u},t.prototype.forEach=function(t){for(var n=this.un,e=this.P,i=e.an;!(n===i.length&&void 0===e.cn||n===i.length&&(n=0,0===(i=(e=e.cn).an).length));)t(i[n]),++n},t.prototype.peek=function(){var t=this.P,n=this.un;return t.an[n]},t}(),mt=ft("[[CancelSteps]]"),_t=ft("[[PullSteps]]"),pt=function(){function t(t){if(!1===Ze(t))throw new h("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Qe(t))throw new h("This stream has already been locked for exclusive reading by another reader");an(this,t),this.et=new yt}return v.defineProperty(t.prototype,"closed",{get:function(){return bn(this)?this.X:Qt(Tn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return bn(this)?void 0===this.j?Qt(hn("cancel")):cn(this,t):Qt(Tn("cancel"))},t.prototype.read=function(){return bn(this)?void 0===this.j?Qt(hn("read from")):kn(this):Qt(Tn("read"))},t.prototype.releaseLock=function(){if(!bn(this))throw Tn("releaseLock");if(void 0!==this.j){if(this.et.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");fn(this)}},t}(),"symbol"==typeof ft.asyncIterator&&((bt={})[ft.asyncIterator]=function(){return this},kt=bt,v.defineProperty(kt,ft.asyncIterator,{enumerable:!1})),Tt={next:function(){if(!1===Sn(this))return Qt(En("next"));var t=this.ut;return void 0===t.j?Qt(hn("iterate")):un(kn(t),(function(n){var e=n.done;return e&&fn(t),sn(n.value,e,!0)}))},return:function(t){if(!1===Sn(this))return Qt(En("next"));var n=this.ut;if(void 0===n.j)return Qt(hn("finish iterating"));if(n.et.length>0)return Qt(new h("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.hn){var e=cn(n,t);return fn(n),un(e,(function(){return sn(t,!0,!0)}))}return fn(n),Zt(sn(t,!0,!0))}},void 0!==kt&&v.setPrototypeOf(Tt,kt),v.defineProperty(Tt,"next",{enumerable:!1}),v.defineProperty(Tt,"return",{enumerable:!1}),St=ft("[[AbortSteps]]"),Et=ft("[[ErrorSteps]]"),It=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Cn(this);var e=n.size,i=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Kt(e);void 0===i&&(i=1),function(t,n,e,i){var r=v.create(Nt.prototype),u=Gt(n,"write",1,[r]),o=Gt(n,"close",0,[]),s=Gt(n,"abort",1,[]);Yn(t,r,(function(){return Yt(n,"start",[r])}),u,o,s,e,i)}(this,t,i=$t(i),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===An(this))throw te("locked");return Dn(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===An(this)?Qt(te("abort")):!0===Dn(this)?Qt(new h("Cannot abort a stream that already has a writer")):Pn(this,t)},t.prototype.close=function(){return!1===An(this)?Qt(te("close")):!0===Dn(this)?Qt(new h("Cannot close a stream that already has a writer")):!0===Fn(this)?Qt(new h("Cannot close an already-closing stream")):xn(this)},t.prototype.getWriter=function(){if(!1===An(this))throw te("getWriter");return On(this)},t}(),Rt=function(){function t(t){if(!1===An(t))throw new h("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Dn(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Et=t,t.ct=this;var n,e=t.o;if("writable"===e)!1===Fn(t)&&!0===t._t?se(this):ce(this),ie(this);else if("erroring"===e)ae(this,t.Y),ie(this);else if("closed"===e)ce(this),ie(n=this),oe(n);else{var i=t.Y;ae(this,i),re(this,i)}}return v.defineProperty(t.prototype,"closed",{get:function(){return!1===Hn(this)?Qt(ne("closed")):this.X},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Hn(this))throw ne("desiredSize");if(void 0===this.Et)throw ee("desiredSize");return t=this.Et,"errored"===(n=t.o)||"erroring"===n?null:"closed"===n?0:$n(t.ft);var t,n},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return!1===Hn(this)?Qt(ne("ready")):this.xt},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Hn(this)?Qt(ne("abort")):void 0===this.Et?Qt(ee("abort")):function(t,n){return Pn(t.Et,n)}(this,t)},t.prototype.close=function(){if(!1===Hn(this))return Qt(ne("close"));var t=this.Et;return void 0===t?Qt(ee("close")):!0===Fn(t)?Qt(new h("Cannot close an already-closing stream")):qn(this)},t.prototype.releaseLock=function(){if(!1===Hn(this))throw ne("releaseLock");void 0!==this.Et&&jn(this)},t.prototype.write=function(t){return!1===Hn(this)?Qt(ne("write")):void 0===this.Et?Qt(ee("write to")):Gn(this,t)},t}(),Nt=function(){function t(){throw new h("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1==(!!qt(n=this)&&!!v.prototype.hasOwnProperty.call(n,"Ot")))throw new h("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var n;"writable"===this.Ot.o&&Qn(this,t)},t.prototype[St]=function(t){var n=this.Pt(t);return Xn(this),n},t.prototype[Et]=function(){Nn(this)},t}(),Ot="undefined"!=typeof DOMException?DOMException:void 0,Ct=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Ot)?Ot:((t=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t),At=function(){function t(){throw new h}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===le(this))throw Se("desiredSize");return be(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===le(this))throw Se("close");if(!1===ke(this))throw new h("The stream is not in a state that permits close");me(this)},t.prototype.enqueue=function(t){if(!1===le(this))throw Se("enqueue");if(!1===ke(this))throw new h("The stream is not in a state that permits enqueue");return _e(this,t)},t.prototype.error=function(t){if(!1===le(this))throw Se("error");pe(this,t)},t.prototype[mt]=function(t){Nn(this);var n=this.Ht(t);return ye(this),n},t.prototype[_t]=function(){var t=this.Mt;if(this.ot.length>0){var n=In(this);return!0===this.qt&&0===this.ot.length?(ye(this),ni(t)):we(this),Zt(sn(n,!1,t.G.W))}var e=yn(t);return we(this),e},t}(),Dt=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&d.floor(t)===t},Pt=function(){function t(){throw new h("ReadableStreamBYOBRequest cannot be used directly")}return v.defineProperty(t.prototype,"view",{get:function(){if(!1===Ie(this))throw qe("view");return this.Yt},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Ie(this))throw qe("respond");if(void 0===this.Wt)throw new h("This BYOB request has been invalidated");this.Yt.buffer,function(t,n){if(!1===Wt(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Le(t,n)}(this.Wt,t)},t.prototype.respondWithNewView=function(t){if(!1===Ie(this))throw qe("respond");if(void 0===this.Wt)throw new h("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");t.buffer,function(t,n){var e=t.Xt.peek();if(e.byteOffset+e.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(e.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");e.buffer=n.buffer,Le(t,n.byteLength)}(this.Wt,t)},t}(),xt=function(){function t(){throw new h("ReadableByteStreamController constructor cannot be used directly")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ee(this))throw ze("byobRequest");if(void 0===this.Gt&&this.Xt.length>0){var t=this.Xt.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),e=v.create(Pt.prototype);!function(t,n,e){t.Wt=n,t.Yt=e}(e,this,n),this.Gt=e}return this.Gt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ee(this))throw ze("desiredSize");return Ve(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ee(this))throw ze("close");if(!0===this.qt)throw new h("The stream has already been closed; do not close it again!");var t=this.zt.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.zt;if(t.st>0)t.qt=!0;else{if(t.Xt.length>0&&t.Xt.peek().bytesFilled>0){var e=new h("Insufficient bytes to fill elements in the given buffer");throw Ue(t,e),e}Fe(t),ni(n)}}(this)},t.prototype.enqueue=function(t){if(!1===Ee(this))throw ze("enqueue");if(!0===this.qt)throw new h("stream is closed or draining");var n=this.zt.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new h("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var e=t.zt,i=n.buffer,r=n.byteOffset,u=n.byteLength,o=i;!0===pn(e)?0===_n(e)?Ce(t,o,r,u):mn(e,new y(o,r,u),!1):!0===Ge(e)?(Ce(t,o,r,u),Be(t)):Ce(t,o,r,u),Re(t)}(this,t)},t.prototype.error=function(t){if(!1===Ee(this))throw ze("error");Ue(this,t)},t.prototype[mt]=function(t){this.Xt.length>0&&(this.Xt.peek().bytesFilled=0);Nn(this);var n=this.Ht(t);return Fe(this),n},t.prototype[_t]=function(){var t=this.zt;if(this.st>0){var n=this.ot.shift();this.st-=n.byteLength,Pe(this);var e=void 0;try{e=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Qt(t)}return Zt(sn(e,!1,t.G.W))}var i=this.$t;if(void 0!==i){var r=void 0;try{r=new ArrayBuffer(i)}catch(t){return Qt(t)}var u={buffer:r,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Xt.push(u)}var o=yn(t);return Re(this),o},t}(),Bt=function(){function t(t){if(!Ze(t))throw new h("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ee(t.rt))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Qe(t))throw new h("This stream has already been locked for exclusive reading by another reader");an(this,t),this.jt=new yt}return v.defineProperty(t.prototype,"closed",{get:function(){return Ye(this)?this.X:Qt($e("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ye(this)?void 0===this.j?Qt(hn("cancel")):cn(this,t):Qt($e("cancel"))},t.prototype.read=function(t){return Ye(this)?void 0===this.j?Qt(hn("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Qt(new h("view must have non-zero byteLength")):Xe(this,t)):Qt(new h("view must be an array buffer view")):Qt($e("read"))},t.prototype.releaseLock=function(){if(!Ye(this))throw $e("releaseLock");if(void 0!==this.j){if(this.jt.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");fn(this)}},t}(),Lt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Je(this);var e=n.size,i=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==e)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===i&&(i=0),He(this,t,i=$t(i))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var u=Kt(e);void 0===i&&(i=1),function(t,n,e,i){var r=v.create(At.prototype),u=Gt(n,"pull",0,[r]),o=Gt(n,"cancel",1,[]);Te(t,r,(function(){return Yt(n,"start",[r])}),u,o,e,i)}(this,t,i=$t(i),u)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ze(this))throw ii("locked");return Qe(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Ze(this)?Qt(ii("cancel")):!0===Qe(this)?Qt(new h("Cannot cancel a stream that already has a reader")):ti(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Ze(this))throw ii("getReader");if(void 0===n)return gn(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var e=new Bt(t);return e.W=n,e}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var e=t.writable,i=t.readable,r=void 0===n?{}:n,u=r.preventClose,o=r.preventAbort,s=r.preventCancel,a=r.signal;if(!1===Ze(this))throw ii("pipeThrough");if(!1===An(e))throw new h("writable argument to pipeThrough must be a WritableStream");if(!1===Ze(i))throw new h("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==a&&!ve(a))throw new h("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Qe(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Dn(e))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return on(de(this,e,u,o,s,a)),i},t.prototype.pipeTo=function(t,n){var e=void 0===n?{}:n,i=e.preventClose,r=e.preventAbort,u=e.preventCancel,o=e.signal;return!1===Ze(this)?Qt(ii("pipeTo")):!1===An(t)?Qt(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(i=Boolean(i),r=Boolean(r),u=Boolean(u),void 0===o||ve(o)?!0===Qe(this)?Qt(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Dn(t)?Qt(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):de(this,t,i,r,u,o):Qt(new h("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Ze(this))throw ii("tee");var t=function(t,n){var e,i,r,u,o,s=gn(t),a=!1,c=!1,f=!1,h=Jt((function(t){o=t}));function v(){return!0===a||(a=!0,on(un(kn(s),(function(t){if(a=!1,!0===t.done)return!1===c&&me(r.rt),void(!1===f&&me(u.rt));var n=t.value,e=n,i=n;!1===c&&_e(r.rt,e),!1===f&&_e(u.rt,i)})))),Zt(void 0)}function d(){}return r=Ke(d,v,(function(n){if(c=!0,e=n,!0===f){var r=zt([e,i]),u=ti(t,r);o(u)}return h})),u=Ke(d,v,(function(n){if(f=!0,i=n,!0===c){var r=zt([e,i]),u=ti(t,r);o(u)}return h})),rn(s.X,(function(t){pe(r.rt,t),pe(u.rt,t)})),[r,u]}(this);return zt(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,e=void 0!==n&&n;if(!1===Ze(this))throw ii("getIterator");return function(t,n){void 0===n&&(n=!1);var e=gn(t),i=v.create(Tt);return i.ut=e,i.hn=Boolean(n),i}(this,e)},t}(),"symbol"==typeof ft.asyncIterator&&v.defineProperty(Lt.prototype,ft.asyncIterator,{value:Lt.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0}),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Mt=function(){function t(t,n,e){void 0===t&&(t={}),void 0===n&&(n={}),void 0===e&&(e={});var i=n.size,r=n.highWaterMark,u=e.size,o=e.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=Kt(i);if(void 0===r&&(r=1),r=$t(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=Kt(u);void 0===o&&(o=0),o=$t(o),ri(this,Jt((function(t){a=t})),r,s,o,c),function(t,n){var e=v.create(Ft.prototype),i=function(t){try{return hi(e,t),Zt(void 0)}catch(t){return Qt(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new h("transform is not a method");i=function(t){return Xt(r,n,[t,e])}}var u=Gt(n,"flush",0,[e]);!function(t,n,e,i){n.en=t,t.Jt=n,n.rn=e,n.tn=i}(t,e,i,u)}(this,t);var f=Yt(t,"start",[this.Jt]);a(f)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!1===ui(this))throw li("readable");return this.Qt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!1===ui(this))throw li("writable");return this.Kt},enumerable:!0,configurable:!0}),t}(),Ft=function(){function t(){throw new h("TransformStreamDefaultController instances cannot be created directly")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ci(this))throw di("desiredSize");return be(this.en.Qt.rt)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ci(this))throw di("enqueue");hi(this,t)},t.prototype.error=function(t){if(!1===ci(this))throw di("error");var n;n=t,oi(this.en,n)},t.prototype.terminate=function(){if(!1===ci(this))throw di("terminate");var t,n;t=this.en,!0===ke(n=t.Qt.rt)&&me(n),si(t,new h("TransformStream terminated"))},t}()}}),ki=E({"../../../core/src/util/polyfill/ReadableStream.ts":function(){bi()}});var Ti=E({"../../../web/src/dom/DOMEnvironment.ts":function(){ki(),Vt()}}),Si=I({"src/tvOS/DOMEnvironment.ts":function(n){ki(),Vt(),Ti();var e,i={vn:function(){function t(){this.dn=[]}var n=t.prototype;return n.ln=function(){},n.wn=function(t){return{gn:function(){return G.resolve()},yn:function(){}}},n.mn=function(t){throw new f("Not implemented")},n._n=function(t){return G.resolve()},n.pn=function(t){return G.resolve()},n.bn=function(t){},n.kn=function(){},t}(),Tn:function(){function t(){}var n=t.prototype;return n.Sn=function(){return G.resolve("all")},n.En=function(){},n.kn=function(){},t}(),In:{Rn:function(t){getActiveDocument().addEventListener("unload",t)},Nn:function(t){getActiveDocument().removeEventListener("unload",t)}},On:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:n,parent:n,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};Element.prototype.style={},wi=(e=i).vn,gi=e.Tn,yi=e.In,mi=e.On,_i=mi&&mi.location,pi=mi&&mi.navigator}});function Ei(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function Ii(t,n,e){return n&&Ei(t.prototype,n),e&&Ei(t,e),t}var Ri=E({"../../../web/node_modules/@swc/helpers/esm/_create_class.js":function(){ki(),Vt()}});function Ni(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var Oi=E({"../../../web/node_modules/@swc/helpers/esm/_array_like_to_array.js":function(){ki(),Vt()}});var Ci=E({"../../../web/node_modules/@swc/helpers/esm/_array_without_holes.js":function(){ki(),Vt(),Oi()}});var Ai=E({"../../../web/node_modules/@swc/helpers/esm/_iterable_to_array.js":function(){ki(),Vt()}});var Di=E({"../../../web/node_modules/@swc/helpers/esm/_non_iterable_spread.js":function(){ki(),Vt()}});function Pi(t,n){if(t){if("string"==typeof t)return Ni(t,n);var e=v.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Ni(t,n):void 0}}var xi=E({"../../../web/node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js":function(){ki(),Vt(),Oi()}});function Bi(t){return function(t){if(Array.isArray(t))return Ni(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Pi(t)||function(){throw new h("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Li,Mi=E({"../../../web/node_modules/@swc/helpers/esm/_to_consumable_array.js":function(){ki(),Vt(),Ci(),Ai(),Di(),xi()}}),Fi=I({"../../node_modules/json-stringify-safe/stringify.js":function(t,n){function e(t,n){var e=[],i=[];return null==n&&(n=function(t,n){return e[0]===n?"[Circular ~]":"[Circular ~."+i.slice(0,e.indexOf(n)).join(".")+"]"}),function(r,u){if(e.length>0){var o=e.indexOf(this);~o?e.splice(o+1):e.push(this),~o?i.splice(o,1/0,r):i.push(r),~e.indexOf(u)&&(u=n.call(this,r,u))}else e.push(u);return null==t?u:t.call(this,r,u)}}ki(),Vt(),(n.exports=function(t,n,i,r){return JSON.stringify(t,e(n,r),i)}).getSerialize=e}}),Ui=I({"../../../core/node_modules/xmlchars/xml/1.0/ed5.js":function(t){ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),Vi=I({"../../../core/node_modules/xmlchars/xml/1.1/ed2.js":function(t){ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),Hi=I({"../../../core/node_modules/xmlchars/xmlns/1.0/ed3.js":function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),qi=I({"../../../core/node_modules/saxes/saxes.js":function(t){ki(),Vt(),Ri(),Mi(),v.defineProperty(t,"__esModule",{value:!0}),t.SaxesParser=t.EVENTS=void 0;var n=Ui(),e=Vi(),i=Hi(),r=n.isS,u=n.isChar,o=n.isNameStartChar,s=n.isNameChar,a=n.S_LIST,c=n.NAME_RE,h=e.isChar,d=i.isNCNameStartChar,w=i.isNCNameChar,g=i.NC_NAME_RE,y="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",_={__proto__:null,xml:y,xmlns:m},p={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b=-1,k=-2,T=13,S=33,E=10,I=60,R=61,N=62,O=63,C=93,A=function(t){return 34===t||39===t},D=[34,39],P=Bi(D).concat([91,N]),x=Bi(D).concat([I,C]),B=[R,O].concat(Bi(a)),L=Bi(a).concat([N,38,I]);function M(t,n,e){switch(n){case"xml":e!==y&&t.fail("xml prefix must be bound to "+y+".");break;case"xmlns":e!==m&&t.fail("xmlns prefix must be bound to "+m+".")}switch(e){case m:t.fail(""===n?"the default namespace may not be set to "+e+".":'may not assign a prefix (even "xmlns") to the URI '+m+".");break;case y:switch(n){case"xml":break;case"":t.fail("the default namespace may not be set to "+e+".");break;default:t.fail("may not assign the xml namespace to another prefix.")}}}var F=function(t){return g.test(t)},U=function(t){return c.test(t)};t.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var V={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"},H=function(){function t(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;var n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=d,this.nameCheck=w,this.isName=F,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},_);var e=this.opt.additionalNamespaces;null!=e&&(!function(t,n){for(var e=0,i=v.keys(n);e<i.length;e++){var r=i[e];M(t,r,n[r])}}(this,e),v.assign(this.ns,e))}else this.nameStartCheck=o,this.nameCheck=s,this.isName=U,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}var n=t.prototype;return n._init=function(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];var n=this.fragmentOpt;this.state=n?T:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;var e=this.opt.defaultXMLVersion;if(void 0===e){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");e="1.0"}this.setXMLVersion(e),this.positionAtNewLine=0,this.doctype=!1,this.Cn=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(p),null===(t=this.readyHandler)||void 0===t||t.call(this)},n.on=function(t,n){this[V[t]]=n},n.off=function(t){this[V[t]]=void 0},n.makeError=function(t){var n,e=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(e.length>0&&(e+=":"),e+=this.line+":"+this.column),e.length>0&&(e+=": "),new f(e+t)},n.fail=function(t){var n=this.makeError(t),e=this.errorHandler;if(void 0===e)throw n;return e(n),this},n.write=function(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");var n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=""+this.carriedFromPrevious+t,this.carriedFromPrevious=void 0);var e=t.length,i=t.charCodeAt(e-1);!n&&(13===i||i>=55296&&i<=56319)&&(this.carriedFromPrevious=t[e-1],e--,t=t.slice(0,e));var r=this.stateTable;for(this.chunk=t,this.i=0;this.i<e;)r[this.state].call(this);return this.chunkPosition+=e,n?this.end():this},n.close=function(){return this.write(null)},n.getCode10=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return b;var e=t.charCodeAt(n);if(this.column++,e<55296){if(e>=32||9===e)return e;switch(e){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:return t.charCodeAt(n+1)===E&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),e}}if(e>56319)return e>=57344&&e<=65533||this.fail("disallowed character."),e;var i=65536+1024*(e-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i},n.getCode11=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return b;var e=t.charCodeAt(n);if(this.column++,e<55296){if(e>31&&e<127||e>159&&8232!==e||9===e)return e;switch(e){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:var i=t.charCodeAt(n+1);i!==E&&133!==i||(this.i=n+2);case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),e}}if(e>56319)return e>=57344&&e<=65533||this.fail("disallowed character."),e;var r=65536+1024*(e-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r},n.getCodeNorm=function(){var t=this.getCode();return t===k?E:t},n.unget=function(){this.i=this.prevI,this.column--},n.captureTo=function(t){for(var n=this.i,e=this.chunk;;){var i=this.getCode(),r=i===k,u=r?E:i;if(u===b||t.includes(u))return this.text+=e.slice(n,this.prevI),u;r&&(this.text+=e.slice(n,this.prevI)+"\n",n=this.i)}},n.captureToChar=function(t){for(var n=this.i,e=this.chunk;;){var i=this.getCode();switch(i){case k:this.text+=e.slice(n,this.prevI)+"\n",n=this.i,i=E;break;case b:return this.text+=e.slice(n),!1}if(i===t)return this.text+=e.slice(n,this.prevI),!0}},n.captureNameChars=function(){for(var t=this.chunk,n=this.i;;){var e=this.getCode();if(e===b)return this.name+=t.slice(n),b;if(!s(e))return this.name+=t.slice(n,this.prevI),e===k?E:e}},n.skipSpaces=function(){for(;;){var t=this.getCodeNorm();if(t===b||!r(t))return t}},n.setXMLVersion=function(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)},n.sBegin=function(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1},n.sBeginWhitespace=function(){var t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case I:if(this.state=15,0!==this.text.length)throw new f("no-empty text at start");break;case b:break;default:this.unget(),this.state=T,this.xmlDeclPossible=!1}},n.sDoctype=function(){var t,n=this.captureTo(P);switch(n){case N:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=T,this.doctype=!0;break;case b:break;default:this.text+=String.fromCodePoint(n),91===n?this.state=4:A(n)&&(this.state=3,this.q=n)}},n.sDoctypeQuote=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)},n.sDTD=function(){var t=this.captureTo(x);t!==b&&(this.text+=String.fromCodePoint(t),t===C?this.state=2:t===I?this.state=6:A(t)&&(this.state=5,this.q=t))},n.sDTDQuoted=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)},n.sDTDOpenWaka=function(){var t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case O:this.state=11;break;default:this.state=4}},n.sDTDOpenWakaBang=function(){var t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?8:4,this.openWakaBang="")},n.sDTDComment=function(){this.captureToChar(45)&&(this.text+="-",this.state=9)},n.sDTDCommentEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8},n.sDTDCommentEnded=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===N?this.state=4:(this.fail("malformed comment."),this.state=8)},n.sDTDPI=function(){this.captureToChar(O)&&(this.text+="?",this.state=12)},n.sDTDPIEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===N&&(this.state=4)},n.sText=function(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()},n.sEntity=function(){var t=this.i,n=this.chunk;t:for(;;)switch(this.getCode()){case k:this.entity+=n.slice(t,this.prevI)+"\n",t=this.i;break;case 59:var e=this.entityReturnState,i=this.entity+n.slice(t,this.prevI);this.state=e;var r=void 0;""===i?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(i),this.entity=""),e===T&&void 0===this.textHandler||(this.text+=r);break t;case b:this.entity+=n.slice(t);break t}},n.sOpenWaka=function(){var t=this.getCode();if(o(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case O:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=T,this.xmlDeclPossible=!1}},n.sOpenWakaBang=function(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}},n.sComment=function(){this.captureToChar(45)&&(this.state=18)},n.sCommentEnding=function(){var t,n=this.getCodeNorm();45===n?(this.state=19,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(n),this.state=17)},n.sCommentEnded=function(){var t=this.getCodeNorm();t!==N?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(t),this.state=17):this.state=T},n.sCData=function(){this.captureToChar(C)&&(this.state=21)},n.sCDataEnding=function(){var t=this.getCodeNorm();t===C?this.state=22:(this.text+="]"+String.fromCodePoint(t),this.state=20)},n.sCDataEnding2=function(){var t,n=this.getCodeNorm();switch(n){case N:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=T;break;case C:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(n),this.state=20}},n.sPIFirstChar=function(){var t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):t===O||r(t)?(this.fail("processing instruction without a target."),this.state=t===O?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)},n.sPIRest=function(){for(var t=this.chunk,n=this.i;;){var e=this.getCodeNorm();if(e===b)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);var i=e===O;i||r(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=i?S:27):this.state=i?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}},n.sPIBody=function(){if(0===this.text.length){var t=this.getCodeNorm();t===O?this.state=26:r(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(O)&&(this.state=26)},n.sPIEnding=function(){var t,n=this.getCodeNorm();if(n===N){var e=this.piTarget;"xml"===e.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:e,body:this.text}),this.piTarget=this.text="",this.state=T}else n===O?this.text+="?":(this.text+="?"+String.fromCodePoint(n),this.state=25);this.xmlDeclPossible=!1},n.sXMLDeclNameStart=function(){var t=this.skipSpaces();t!==O?t!==b&&(this.state=28,this.name=String.fromCodePoint(t)):this.state=S},n.sXMLDeclName=function(){var t=this.captureTo(B);if(t===O)return this.state=S,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(r(t)||t===R){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail("expected the name "+this.xmlDeclExpects[0]+".");break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=t===R?30:29}},n.sXMLDeclEq=function(){var t=this.getCodeNorm();if(t===O)return this.state=S,void this.fail("XML declaration is incomplete.");r(t)||(t!==R&&this.fail("value required."),this.state=30)},n.sXMLDeclValueStart=function(){var t=this.getCodeNorm();if(t===O)return this.state=S,void this.fail("XML declaration is incomplete.");r(t)||(A(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)},n.sXMLDeclValue=function(){var t=this.captureTo([this.q,O]);if(t===O)return this.state=S,this.text="",void this.fail("XML declaration is incomplete.");if(t!==b){var n=this.text;switch(this.text="",this.name){case"version":this.xmlDeclExpects=["encoding","standalone"];var e=n;this.xmlDecl.version=e,/^1\.[0-9]+$/.test(e)?this.opt.forceXMLVersion||this.setXMLVersion(e):this.fail("version number must match /^1\\.[0-9]+$/.");break;case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=32}},n.sXMLDeclSeparator=function(){var t=this.getCodeNorm();t!==O?(r(t)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=S},n.sXMLDeclEnding=function(){var t;this.getCodeNorm()===N?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=T):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1},n.sOpenTag=function(){var t,n=this.captureNameChars();if(n!==b){var e=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case N:this.openTag();break;case 47:this.state=35;break;default:r(n)||this.fail("disallowed character in tag name."),this.state=36}}},n.sOpenTagSlash=function(){this.getCode()===N?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)},n.sAttrib=function(){var t=this.skipSpaces();t!==b&&(o(t)?(this.unget(),this.state=37):t===N?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))},n.sAttribName=function(){var t=this.captureNameChars();t===R?this.state=39:r(t)?this.state=38:t===N?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==b&&this.fail("disallowed character in attribute name.")},n.sAttribNameSawWhite=function(){var t=this.skipSpaces();switch(t){case b:return;case R:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",t===N?this.openTag():o(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}},n.sAttribValue=function(){var t=this.getCodeNorm();A(t)?(this.q=t,this.state=40):r(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())},n.sAttribValueQuoted=function(){for(var t=this.q,n=this.chunk,e=this.i;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(e,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=n.slice(e,this.prevI),this.state=14,void(this.entityReturnState=40);case E:case k:case 9:this.text+=n.slice(e,this.prevI)+" ",e=this.i;break;case I:return this.text+=n.slice(e,this.prevI),void this.fail("disallowed character.");case b:return void(this.text+=n.slice(e))}},n.sAttribValueClosed=function(){var t=this.getCodeNorm();r(t)?this.state=36:t===N?this.openTag():47===t?this.state=35:o(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")},n.sAttribValueUnquoted=function(){var t=this.captureTo(L);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case I:this.fail("disallowed character.");break;case b:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===N?this.openTag():this.state=36}},n.sCloseTag=function(){var t=this.captureNameChars();t===N?this.closeTag():r(t)?this.state=44:t!==b&&this.fail("disallowed character in closing tag.")},n.sCloseTagSawWhite=function(){switch(this.skipSpaces()){case N:this.closeTag();break;case b:break;default:this.fail("disallowed character in closing tag.")}},n.handleTextInRoot=function(){var t=this.i,n=this.forbiddenState,e=this.chunk,i=this.textHandler;t:for(;;)switch(this.getCode()){case I:if(this.state=15,void 0!==i){var r=this.text,u=e.slice(t,this.prevI);0!==r.length?(i(r+u),this.text=""):0!==u.length&&i(u)}n=0;break t;case 38:this.state=14,this.entityReturnState=T,void 0!==i&&(this.text+=e.slice(t,this.prevI)),n=0;break t;case C:switch(n){case 0:n=1;break;case 1:n=2;break;case 2:break;default:throw new f("impossible state")}break;case N:2===n&&this.fail('the string "]]>" is disallowed in char data.'),n=0;break;case k:void 0!==i&&(this.text+=e.slice(t,this.prevI)+"\n"),t=this.i,n=0;break;case b:void 0!==i&&(this.text+=e.slice(t));break t;default:n=0}this.forbiddenState=n},n.handleTextOutsideRoot=function(){var t=this.i,n=this.chunk,e=this.textHandler,i=!1;t:for(;;){var u=this.getCode();switch(u){case I:if(this.state=15,void 0!==e){var o=this.text,s=n.slice(t,this.prevI);0!==o.length?(e(o+s),this.text=""):0!==s.length&&e(s)}break t;case 38:this.state=14,this.entityReturnState=T,void 0!==e&&(this.text+=n.slice(t,this.prevI)),i=!0;break t;case k:void 0!==e&&(this.text+=n.slice(t,this.prevI)+"\n"),t=this.i;break;case b:void 0!==e&&(this.text+=n.slice(t));break t;default:r(u)||(i=!0)}}i&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))},n.pushAttribNS=function(t,n){var e,i=this.qname(t),r=i.prefix,u=i.local,o={name:t,prefix:r,local:u,value:n};if(this.attribList.push(o),null===(e=this.attributeHandler)||void 0===e||e.call(this,o),"xmlns"===r){var s=n.trim();"1.0"===this.currentXMLVersion&&""===s&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[u]=s,M(this,u,s)}else if("xmlns"===t){var a=n.trim();this.topNS[""]=a,M(this,"",a)}},n.pushAttribPlain=function(t,n){var e,i={name:t,value:n};this.attribList.push(i),null===(e=this.attributeHandler)||void 0===e||e.call(this,i)},n.end=function(){var t,n;this.sawRoot||this.fail("document must contain a root element.");for(var e=this.tags;e.length>0;){var i=e.pop();this.fail("unclosed tag: "+i.name)}0!==this.state&&this.state!==T&&this.fail("unexpected end.");var r=this.text;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Cn=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this},n.resolve=function(t){var n,e,i=this.topNS[t];if(void 0!==i)return i;for(var r=this.tags,u=r.length-1;u>=0;u--)if(void 0!==(i=r[u].ns[t]))return i;return void 0!==(i=this.ns[t])?i:null===(e=(n=this.opt).resolvePrefix)||void 0===e?void 0:e.call(n,t)},n.qname=function(t){var n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};var e=t.slice(n+1),i=t.slice(0,n);return(""===i||""===e||e.includes(":"))&&this.fail("malformed name: "+t+"."),{prefix:i,local:e}},n.processAttribsNS=function(){var t,n=this.attribList,e=this.tag,i=this.qname(e.name),r=i.prefix,u=i.local;e.prefix=r,e.local=u;var o=e.uri=null!==(t=this.resolve(r))&&void 0!==t?t:"";if(""!==r&&("xmlns"===r&&this.fail('tags may not have "xmlns" as prefix.'),""===o&&(this.fail("unbound namespace prefix: "+JSON.stringify(r)+"."),e.uri=r)),0!==n.length){for(var s=e.attributes,a=new Set,c=0;c<n.length;c++){var f=n[c],h=f.name,v=f.prefix,d=f.local,l=void 0,w=void 0;""===v?(l="xmlns"===h?m:"",w=h):(void 0===(l=this.resolve(v))&&(this.fail("unbound namespace prefix: "+JSON.stringify(v)+"."),l=v),w="{"+l+"}"+d),a.has(w)&&this.fail("duplicate attribute: "+w+"."),a.add(w),f.uri=l,s[h]=f}this.attribList=[]}},n.processAttribsPlain=function(){for(var t=this.attribList,n=this.tag.attributes,e=0;e<t.length;e++){var i=t[e],r=i.name,u=i.value;void 0!==n[r]&&this.fail("duplicate attribute: "+r+"."),n[r]=u}this.attribList=[]},n.openTag=function(){var t;this.processAttribs();var n=this.tags,e=this.tag;e.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),n.push(e),this.state=T,this.name=""},n.openSelfClosingTag=function(){var t,n,e;this.processAttribs();var i=this.tags,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(e=i[i.length-1])&&void 0!==e?e:null)&&(this.closedRoot=!0),this.state=T,this.name=""},n.closeTag=function(){var t=this.tags,n=this.name;if(this.state=T,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");for(var e=this.closeTagHandler,i=t.length;i-- >0;){var r=this.tag=t.pop();if(this.topNS=r.ns,null==e||e(r),r.name===n)break;this.fail("unexpected close tag.")}0===i?this.closedRoot=!0:i<0&&(this.fail("unmatched closing tag: "+n+"."),this.text+="</"+n+">")},n.parseEntity=function(t){if("#"!==t[0]){var n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),"&"+t+";")}var e=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?e=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(e=l(t.slice(1),10)),this.isChar(e)?String.fromCodePoint(e):(this.fail("malformed character entity."),"&"+t+";")},Ii(t,[{key:"closed",get:function(){return this.Cn}},{key:"position",get:function(){return this.chunkPosition+this.i}},{key:"columnIndex",get:function(){return this.position-this.positionAtNewLine}}]),t}();t.SaxesParser=H}}),zi={};!function(t,n){for(var e in n)p(t,e,{get:n[e],enumerable:!0})}(zi,{ChromelessPlayer:function(){return jC},ErrorCategory:function(){return pd},ErrorCode:function(){return md},createGlobals:function(){return xA},features:function(){return YC},getCueMirrorMap:function(){return DA},getGlobalId:function(){return PA},getSdkEventBridge:function(){return AA},playerSuiteVersion:function(){return $C},players:function(){return KC},registerContentProtectionIntegration:function(){return JC},utils:function(){return GC},version:function(){return XC}}),n.exports=(Li=zi,R(p({},"__esModule",{value:!0}),Li)),ki(),Vt(),ki(),Vt();var Wi,ji,Gi;N(Si());function Yi(t,n){return(Yi=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function Xi(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Yi(t,n)}function $i(t){Wi=t}ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri(),Mi(),ki(),Vt(),Mi(),ki(),Vt(),Ri(),ki(),Vt(),(Gi=ji||(ji={})).An="web",Gi.Dn="android",Gi.Pn="android-tv",Gi.xn="ios",Gi.Bn="tvos",Gi.Ln="chromecast";var Ki=u?u.userAgent:"",Ji=Ki.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Zi=Ki.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Qi=Ki.match(/Android ([0-9\.]+)/i),tr=Ki.match(/Windows NT ([0-9\.]+)/i),nr=Ki.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),er=Ki.match(/Firefox\/([0-9\.]+)/i),ir=Ki.match(/OPR\/(\d+\.\d+)/i),rr=Ki.match(/Tizen ([0-9\.]+)/i),ur=Ki.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),or=function(){function n(){this.Mn=Boolean("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.Fn=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Ki)||/(macintosh|mac(?=_powerpc)\s)/i.test(Ki),this.Un=/Windows NT/i.test(Ki),this.Vn=tr?w(tr[1]):0,this.Hn=/Android/i.test(Ki),this.qn=Qi?w(Qi[1]):0,this.zn=/windows phone (8|8\.1)/i.test(Ki),this.Wn=/iPhone/i.test(Ki),this.jn=/iPad/i.test(Ki),this.Gn=this.Fn&&this.Mn&&!this.jn,this.Yn=/iPod/i.test(Ki),this.Xn=/Mobile Safari/i.test(Ki),this.$n=/EOS\d*STB/i.test(Ki),this.Kn=/APP\d*STB/i.test(Ki),this.Jn=(this.Wn||this.jn||this.Gn||this.Yn)&&!this.zn,this.Zn=ur?w(ur[2]):0,this.Qn=this.zn||this.Jn||this.Hn||this.Xn,this.te=/CriOS/i.test(Ki),this.ee=Boolean(t.chrome&&/google/i.test(u.vendor))||this.te,this.ie=this.ee&&/Edg\//i.test(u.userAgent),this.re=Zi?l(Zi[1],10):0,this.ue=Boolean(t.chrome||/Chrome/i.test(Ki)||/CriOS/i.test(Ki)),this.oe=Ji?l(Ji[1],10):0,this.se=/SMART-TV.*Tizen/i.test(Ki),this.ae=rr?w(rr[1]):0,this.ce=/webos|web0s/i.test(Ki),this.fe=/VIZIO/i.test(Ki),this.he=/Edge\/\d+/i.test(Ki),this.ve=/Trident/i.test(Ki),this.de=this.ve&&!t.ActiveXObject&&"ActiveXObject"in t,this.we=/Vivaldi/i.test(Ki),this.ye=/Firefox/i.test(Ki)&&!/Seamonkey/i.test(Ki),this.me=er?w(er[1]):0,this._e=/Safari/i.test(Ki)&&!/Chrome/i.test(Ki)&&!this.zn&&!this.se,this.pe=nr?w(nr[2]):0,this.be=Boolean(ir),this.ke=ir?w(ir[1]):0,this.Te=/CrKey/.test(Ki),this.Se=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(Ki),this.Ee="tvos"===ji.Pn,this.Ie="tvos"===ji.Dn,this.Re=this.Ie||this.Ee,this.Ne="tvos"===ji.xn,this.Oe="tvos"===ji.Bn,this.Ce="tvos"===ji.Ln}return Ii(n,[{key:"Ae",get:function(){return this.Mn}},{key:"De",get:function(){return this.Fn}},{key:"Pe",get:function(){return this.Un}},{key:"xe",get:function(){return this.Vn}},{key:"Be",get:function(){return this.Hn}},{key:"Le",get:function(){return this.qn}},{key:"Me",get:function(){return this.zn}},{key:"Fe",get:function(){return this.Wn}},{key:"Ue",get:function(){return this.jn}},{key:"Ve",get:function(){return this.Gn}},{key:"He",get:function(){return this.Yn}},{key:"qe",get:function(){return this.Jn}},{key:"ze",get:function(){return this.Zn}},{key:"We",get:function(){return this.$n||this.Kn}},{key:"je",get:function(){return this.Xn}},{key:"Ge",get:function(){return this.Qn}},{key:"Ye",get:function(){return this.te}},{key:"Xe",get:function(){return this.ee}},{key:"$e",get:function(){return this.oe}},{key:"Ke",get:function(){return this.ie}},{key:"Je",get:function(){return this.re}},{key:"Ze",get:function(){return this.se}},{key:"Qe",get:function(){return this.ae}},{key:"ti",get:function(){return this.ce}},{key:"ni",get:function(){return this.fe}},{key:"ei",get:function(){return this.he}},{key:"ii",get:function(){return this.ve}},{key:"ri",get:function(){return this.de}},{key:"ui",get:function(){return this.we}},{key:"oi",get:function(){return this.ye}},{key:"si",get:function(){return this.me}},{key:"ai",get:function(){return this._e}},{key:"ci",get:function(){return this.pe}},{key:"fi",get:function(){return this.be}},{key:"hi",get:function(){return this.ke}},{key:"vi",get:function(){return this.Te}},{key:"di",get:function(){return this.Se}},{key:"li",get:function(){return!(!this.ti&&!this.Ze)&&this.$e<=56}},{key:"wi",get:function(){return this.Ee}},{key:"gi",get:function(){return this.Ie}},{key:"yi",get:function(){return this.Re}},{key:"mi",get:function(){return this.Ne}},{key:"_i",get:function(){return this.Oe}},{key:"pi",get:function(){return this.Ce}},{key:"bi",get:function(){return this.ue}}]),n}();or.ki=new or;var sr=or.ki;ki(),Vt();var ar={}.hasOwnProperty,cr={}.toString;function fr(t){return null!=t}function hr(t){return void 0===t}var vr=Array.isArray||function(t){return"[object Array]"===cr.call(t)};function dr(t){return lr(t)&&ar.call(t,"length")&&_r(t.length)}function lr(t){return"object"==typeof t&&null!==t}function wr(t){return lr(t)&&t.constructor&&t.constructor===v}function gr(t){return"string"==typeof t}function yr(t){return"boolean"==typeof t}function mr(t){return Boolean(t)&&"function"==typeof t.then}function _r(t){return"number"==typeof t}ki(),Vt();var pr=function(){},br=function(t){return t};function kr(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}var Tr=!(sr.ii&&!sr.ri),Sr=t.console;function Er(t){if(lr(t))try{return JSON.stringify(t)}catch(t){}return t}function Ir(t){return t.map(Er).join(" ")}function Rr(t){var n=Sr&&Sr[t];return n?n.bind&&Tr?n.bind(Sr):function(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];Sr[t](Ir(e))}:void 0}var Nr,Or=Rr("log")||pr,Cr=Rr("warn")||Or.bind(void 0,"WARNING:"),Ar=Rr("error")||Or.bind(void 0,"ERROR:"),Dr=(Nr=Sr&&Sr.assert)?Nr.bind&&Tr?Nr.bind(Sr):function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];Sr.assert(t,Ir(e))}:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];t||Ar.apply(void 0,["Assertion failed:"].concat(Bi(e)))};ki(),Vt(),ki(),Vt(),ki(),Vt();var Pr=null;try{Pr=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function xr(t,n,e){this.low=0|t,this.high=0|n,this.unsigned=!!e}function Br(t){return!0===(t&&t.Ti)}function Lr(t){var n=d.clz32(t&-t);return t?31-n:n}xr.prototype.Ti,v.defineProperty(xr.prototype,"Ti",{value:!0}),xr.isLong=Br;var Mr={},Fr={};function Ur(t,n){var e,i,r;return n?(r=0<=(t>>>=0)&&t<256)&&(i=Fr[t])?i:(e=Hr(t,0,!0),r&&(Fr[t]=e),e):(r=-128<=(t|=0)&&t<128)&&(i=Mr[t])?i:(e=Hr(t,t<0?-1:0,!1),r&&(Mr[t]=e),e)}function Vr(t,n){if(g(t))return n?Kr:$r;if(n){if(t<0)return Kr;if(t>=Gr)return nu}else{if(t<=-Yr)return eu;if(t+1>=Yr)return tu}return t<0?Vr(-t,n).neg():Hr(t%jr|0,t/jr|0,n)}function Hr(t,n,e){return new xr(t,n,e)}xr.fromInt=Ur,xr.fromNumber=Vr,xr.fromBits=Hr;var qr=d.pow;function zr(t,n,e){if(0===t.length)throw f("empty string");if("number"==typeof n?(e=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Kr:$r;if((e=e||10)<2||36<e)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw f("interior hyphen");if(0===i)return zr(t.substring(1),n,e).neg();for(var r=Vr(qr(e,8)),u=$r,o=0;o<t.length;o+=8){var s=d.min(8,t.length-o),a=l(t.substring(o,o+s),e);if(s<8){var c=Vr(qr(e,s));u=u.mul(c).add(Vr(a))}else u=(u=u.mul(r)).add(Vr(a))}return u.unsigned=n,u}function Wr(t,n){return"number"==typeof t?Vr(t,n):"string"==typeof t?zr(t,n):Hr(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}xr.fromString=zr,xr.fromValue=Wr;var jr=4294967296,Gr=jr*jr,Yr=Gr/2,Xr=Ur(1<<24),$r=Ur(0);xr.ZERO=$r;var Kr=Ur(0,!0);xr.UZERO=Kr;var Jr=Ur(1);xr.ONE=Jr;var Zr=Ur(1,!0);xr.UONE=Zr;var Qr=Ur(-1);xr.NEG_ONE=Qr;var tu=Hr(-1,2147483647,!1);xr.MAX_VALUE=tu;var nu=Hr(-1,-1,!0);xr.MAX_UNSIGNED_VALUE=nu;var eu=Hr(0,-2147483648,!1);xr.MIN_VALUE=eu;var iu=xr.prototype;iu.toInt=function(){return this.unsigned?this.low>>>0:this.low},iu.toNumber=function(){return this.unsigned?(this.high>>>0)*jr+(this.low>>>0):this.high*jr+(this.low>>>0)},iu.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(eu)){var n=Vr(t),e=this.div(n),i=e.mul(n).sub(this);return e.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=Vr(qr(t,6),this.unsigned),u=this,o="";;){var s=u.div(r),a=(u.sub(s.mul(r)).toInt()>>>0).toString(t);if((u=s).isZero())return a+o;for(;a.length<6;)a="0"+a;o=""+a+o}},iu.getHighBits=function(){return this.high},iu.getHighBitsUnsigned=function(){return this.high>>>0},iu.getLowBits=function(){return this.low},iu.getLowBitsUnsigned=function(){return this.low>>>0},iu.getNumBitsAbs=function(){if(this.isNegative())return this.eq(eu)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},iu.isZero=function(){return 0===this.high&&0===this.low},iu.eqz=iu.isZero,iu.isNegative=function(){return!this.unsigned&&this.high<0},iu.isPositive=function(){return this.unsigned||this.high>=0},iu.isOdd=function(){return 1==(1&this.low)},iu.isEven=function(){return 0==(1&this.low)},iu.equals=function(t){return Br(t)||(t=Wr(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},iu.eq=iu.equals,iu.notEquals=function(t){return!this.eq(t)},iu.neq=iu.notEquals,iu.ne=iu.notEquals,iu.lessThan=function(t){return this.comp(t)<0},iu.lt=iu.lessThan,iu.lessThanOrEqual=function(t){return this.comp(t)<=0},iu.lte=iu.lessThanOrEqual,iu.le=iu.lessThanOrEqual,iu.greaterThan=function(t){return this.comp(t)>0},iu.gt=iu.greaterThan,iu.greaterThanOrEqual=function(t){return this.comp(t)>=0},iu.gte=iu.greaterThanOrEqual,iu.ge=iu.greaterThanOrEqual,iu.compare=function(t){if(Br(t)||(t=Wr(t)),this.eq(t))return 0;var n=this.isNegative(),e=t.isNegative();return n&&!e?-1:!n&&e?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},iu.comp=iu.compare,iu.negate=function(){return!this.unsigned&&this.eq(eu)?eu:this.not().add(Jr)},iu.neg=iu.negate,iu.add=function(t){Br(t)||(t=Wr(t));var n=this.high>>>16,e=65535&this.high,i=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,a=0,c=0,f=0,h=0;return f+=(h+=r+(65535&t.low))>>>16,c+=(f+=i+s)>>>16,a+=(c+=e+o)>>>16,a+=n+u,Hr((f&=65535)<<16|(h&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},iu.subtract=function(t){return Br(t)||(t=Wr(t)),this.add(t.neg())},iu.sub=iu.subtract,iu.multiply=function(t){if(this.isZero())return this;if(Br(t)||(t=Wr(t)),Pr)return Hr(Pr.mul(this.low,this.high,t.low,t.high),Pr.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Kr:$r;if(this.eq(eu))return t.isOdd()?eu:$r;if(t.eq(eu))return this.isOdd()?eu:$r;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Xr)&&t.lt(Xr))return Vr(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,e=65535&this.high,i=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,a=65535&t.low,c=0,f=0,h=0,v=0;return h+=(v+=r*a)>>>16,f+=(h+=i*a)>>>16,h&=65535,f+=(h+=r*s)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=i*s)>>>16,f&=65535,c+=(f+=r*o)>>>16,c+=n*a+e*s+i*o+r*u,Hr((h&=65535)<<16|(v&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},iu.mul=iu.multiply,iu.divide=function(t){if(Br(t)||(t=Wr(t)),t.isZero())throw f("division by zero");var n,e,i;if(Pr)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Hr((this.unsigned?Pr.div_u:Pr.div_s)(this.low,this.high,t.low,t.high),Pr.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Kr:$r;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Kr;if(t.gt(this.shru(1)))return Zr;i=Kr}else{if(this.eq(eu))return t.eq(Jr)||t.eq(Qr)?eu:t.eq(eu)?Jr:(n=this.shr(1).div(t).shl(1)).eq($r)?t.isNegative()?Jr:Qr:(e=this.sub(t.mul(n)),i=n.add(e.div(t)));if(t.eq(eu))return this.unsigned?Kr:$r;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=$r}for(e=this;e.gte(t);){n=d.max(1,d.floor(e.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:qr(2,r-48),o=Vr(n),s=o.mul(t);s.isNegative()||s.gt(e);)s=(o=Vr(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=Jr),i=i.add(o),e=e.sub(s)}return i},iu.div=iu.divide,iu.modulo=function(t){return Br(t)||(t=Wr(t)),Pr?Hr((this.unsigned?Pr.rem_u:Pr.rem_s)(this.low,this.high,t.low,t.high),Pr.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},iu.mod=iu.modulo,iu.rem=iu.modulo,iu.not=function(){return Hr(~this.low,~this.high,this.unsigned)},iu.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},iu.clz=iu.countLeadingZeros,iu.countTrailingZeros=function(){return this.low?Lr(this.low):Lr(this.high)+32},iu.ctz=iu.countTrailingZeros,iu.and=function(t){return Br(t)||(t=Wr(t)),Hr(this.low&t.low,this.high&t.high,this.unsigned)},iu.or=function(t){return Br(t)||(t=Wr(t)),Hr(this.low|t.low,this.high|t.high,this.unsigned)},iu.xor=function(t){return Br(t)||(t=Wr(t)),Hr(this.low^t.low,this.high^t.high,this.unsigned)},iu.shiftLeft=function(t){return Br(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Hr(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Hr(0,this.low<<t-32,this.unsigned)},iu.shl=iu.shiftLeft,iu.shiftRight=function(t){return Br(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Hr(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Hr(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},iu.shr=iu.shiftRight,iu.shiftRightUnsigned=function(t){return Br(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Hr(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Hr(32===t?this.high:this.high>>>t-32,0,this.unsigned)},iu.shru=iu.shiftRightUnsigned,iu.shr_u=iu.shiftRightUnsigned,iu.rotateLeft=function(t){var n;return Br(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Hr(this.high,this.low,this.unsigned):t<32?(n=32-t,Hr(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),Hr(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},iu.rotl=iu.rotateLeft,iu.rotateRight=function(t){var n;return Br(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Hr(this.high,this.low,this.unsigned):t<32?(n=32-t,Hr(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),Hr(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},iu.rotr=iu.rotateRight,iu.toSigned=function(){return this.unsigned?Hr(this.low,this.high,!1):this},iu.toUnsigned=function(){return this.unsigned?this:Hr(this.low,this.high,!0)},iu.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},iu.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},iu.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},xr.fromBytes=function(t,n,e){return e?xr.fromBytesLE(t,n):xr.fromBytesBE(t,n)},xr.fromBytesLE=function(t,n){return new xr(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},xr.fromBytesBE=function(t,n){return new xr(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var ru=xr;ki(),Vt();var uu=d.pow(2,-52);function ou(t,n,e){return d.min(d.max(t,n),e)}function su(t,n,e){return t===n||d.abs(t-n)<=e}function au(t,n){for(var e=t,i=n;0!==i;){var r=e%i;e=i,i=r}return e<0?-e:e}function cu(){return Date.now()||(new Date).getTime()}function fu(t){return t/1e3}var hu=1/6;ru.fromNumber(9007199254740991);function vu(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function du(t,n){var e=function(t,n){var e=t.length;if(e<=1)return t;for(var i=new Array(e),r=1;r<e;r*=2){lu(t,n,r,i);var u=t;t=i,i=u}return t}(t,n);return e!==t&&lu(e,null,t.length,t),t}function lu(t,n,e,i){var r,u,o,s,a,c=t.length,f=0,h=2*e;for(r=0;r<c;r+=h)for(o=(u=r+e)+e,u>c&&(u=c),o>c&&(o=c),s=r,a=u;;)if(s<u&&a<o)n(t[s],t[a])<=0?i[f++]=t[s++]:i[f++]=t[a++];else if(s<u)i[f++]=t[s++];else{if(!(a<o))break;i[f++]=t[a++]}}ki(),Vt();var wu=/[a-zA-Z]/,gu=/[0-9]/,yu=/[0-9a-fA-F]/,mu=/^0x/i,_u=/^[0-9]+$/,pu=/^[0-9a-fA-F]+$/,bu=/^[0-7]+$/,ku=v.prototype.toString,Tu=Array.isArray||function(t){return"[object Array]"===ku.call(t)},Su="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Eu(t){return Tu(t)?t:Array.from(t)}function Iu(t){return t>=65&&t<=90}function Ru(t){return Iu(t)||function(t){return t>=97&&t<=122}(t)}function Nu(t){return t>=48&&t<=57}function Ou(t){return Nu(t)||Ru(t)}function Cu(t){return Nu(t)||t>=65&&t<=70||t>=97&&t<=102}function Au(t){return Iu(t)?t+32:t}function Du(t){return Nu(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Pu(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var xu=d.min,Bu=String.fromCharCode;function Lu(t){for(var n=t.length,e=[],i=0;i<n;i+=16384){var r=xu(i+16384,n);e.push(Bu.apply(null,t.slice(i,r)))}return e.join("")}var Mu=2147483647,Fu=/[^\0-\x7E]/,Uu=/[\x2E\u3002\uFF0E\uFF61]/g,Vu={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Hu=d.floor,qu=String.fromCharCode;function zu(t){throw new RangeError(Vu[t])}function Wu(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}var ju,Gu,Yu,Xu=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},$u=function(t,n,e){var i=0;for(t=e?Hu(t/700):t>>1,t+=Hu(t/n);t>455;i+=36)t=Hu(t/35);return Hu(i+36*t/(t+38))},Ku=function(t){return function(t,n){var e=t.split("@"),i="";e.length>1&&(i=e[0]+"@",t=e[1]);var r=function(t,n){for(var e=[],i=t.length;i--;)e[i]=n(t[i]);return e}((t=t.replace(Uu,".")).split("."),n).join(".");return i+r}(t,(function(t){return Fu.test(t)?"xn--"+function(t){for(var n=[],e=(t=Wu(t)).length,i=128,r=0,u=72,o=0,s=t;o<s.length;o++){var a=s[o];a<128&&n.push(qu(a))}var c=n.length,f=c;for(c&&n.push("-");f<e;){for(var h=Mu,v=0,d=t;v<d.length;v++){var l=d[v];l>=i&&l<h&&(h=l)}var w=f+1;h-i>Hu((Mu-r)/w)&&zu("overflow"),r+=(h-i)*w,i=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<i&&++r>Mu&&zu("overflow"),m==i){for(var _=r,p=36;;p+=36){var b=p<=u?1:p>=u+26?26:p-u;if(_<b)break;var k=_-b,T=36-b;n.push(qu(Xu(b+k%T,0))),_=Hu(k/T)}n.push(qu(Xu(_,0))),u=$u(r,w,f==c),r=0,++f}}++r,++i}return n.join("")}(t):t}))};function Ju(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return Lu(n)}function Zu(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Qu(t,n){return t>>n&63|128}function to(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Zu(t),n.push(t>>12&15|224),n.push(Qu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Qu(t,12)),n.push(Qu(t,6))),n.push(63&t|128)):n.push(t)}function no(t){for(var n=[],e=0;e<t.length;e++){to(t[e],n)}return n}function eo(){if(Yu>=Gu)throw new f("Invalid byte index");var t=255&ju[Yu];if(Yu++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function io(){var t,n;if(Yu>Gu)throw new f("Invalid byte index");if(Yu===Gu)return!1;if(t=255&ju[Yu],Yu++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|eo())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|eo()<<6|eo())>=2048)return Zu(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|eo()<<12|eo()<<6|eo())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function ro(t){return[37,Pu(t>>4),Pu(15&t)]}function uo(t){return function(t){return t>=0&&t<=31}(t)||t>126}function oo(t){return uo(t)||32===t||34===t||60===t||62===t||96===t}function so(t){return oo(t)||35===t||63===t||123===t||125===t}function ao(t){return so(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function co(t){return t<33||t>126||34===t||35===t||60===t||62===t}function fo(t){return co(t)||39===t}function ho(t,n){if(!n(t))return[t];for(var e=no([t]),i=[],r=0;r<e.length;r++){var u=e[r];i.push.apply(i,ro(u))}return i}function vo(t,n){for(var e=[],i=0,r=Wu(t);i<r.length;i++){var u=r[i];e.push.apply(e,ho(u,n))}return Ju(e)}function lo(t){return function(t){for(var n=[],e=t.length,i=0;i<e;i++){var r=t[i];if(37===r&&i+2<e&&Cu(t[i+1])&&Cu(t[i+2])){var u=Du(t[i+1])<<4|Du(t[i+2]);n.push(u),i+=2}else n.push(r)}return n}(no(t))}function wo(t){return Ju(function(t){ju=t.slice(),Gu=ju.length,Yu=0;for(var n,e=[];!1!==(n=io());)e.push(n);return e}(lo(Wu(t))))}function go(t){var n,e,i,r,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new h;c+=2,a=s+=1}for(;c<u;){if(8===s)throw new h("Too many groups");if(":"!==t[c]){for(var f=0,v=0;v<4&&c<u&&yu.test(t[c]);)f=f<<4|l(t[c],16),c+=1,v+=1;if("."===t[c]){if(0===v)throw new h;if(c-=v,s>6)throw new h;for(var d=0;c<u;){var w=null;if(d>0){if(!("."===t[c]&&d<4))throw new h;c+=1}if(!gu.test(t[c]))throw new h;for(;c<u&&gu.test(t[c]);){var g=l(t[c],10);if(null===w)w=g;else{if(0===w)throw new h;if((w=10*w+g)>255)throw new h}c+=1}o[s]=o[s]<<8|w,2!==(d+=1)&&4!==d||(s+=1)}if(4!==d)throw new h;break}if(":"===t[c]){if((c+=1)===u)throw new h}else if(c<u)throw new h;o[s]=f,s+=1}else{if(null!==a)throw new h("Too many :: groups");c+=1,a=s+=1}}if(null!==a){var y=s-a;for(s=7;0!==s&&y>0;)i=a+y-1,r=void 0,r=(n=o)[e=s],n[e]=n[i],n[i]=r,s-=1,y-=1}else if(8!==s)throw new h;return o}function yo(t){var n=10,e=_u;return mu.test(t)?(t=t.slice(2),n=16,e=pu):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,e=bu),""===t?0:e.test(t)?l(t,n):void 0}var mo={Si:4},_o=/[\0\t\n\r #%/:?@\[\\\]]/,po=/[\0\t\n\r #/:?@\[\\\]]/;function bo(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{Si:2,Ei:go(t.slice(1,-1))}}if(!n)return function(t){if(po.test(t))throw new h("Invalid code point in opaque host");var n=vo(t,uo);return""===n?mo:{Si:3,B:n}}(t);var e=function(t){return function(t){return Ku(t.toLowerCase())}(t)}(wo(t));if(_o.test(e))throw new h("Invalid code point in host");var i=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var e=[],i=0;i<n.length;i++){var r=n[i];if(""===r)return;var u=yo(r);if(void 0===u)return;e.push(u)}for(var o=0;o<e.length-1;o++)if(e[o]>255)throw new h;if(e[e.length-1]>=d.pow(256,5-e.length))throw new h;for(var s=e.pop(),a=0;a<e.length;a++)s+=e[a]*d.pow(256,3-a);return s}}(e);return void 0!==i?{Si:1,Ei:i}:""===e?mo:{Si:0,Ii:e}}function ko(t){switch(t.Si){case 0:return t.Ii;case 1:return function(t){for(var n=[],e=t,i=1;i<=4;i++)n.push(""+(255&e)),4!==i&&n.push("."),e>>>=8;return n.reverse().join("")}(t.Ei);case 2:return"["+function(t){for(var n="",e=function(t){for(var n=0,e=0,i=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(i=u),r++):(r>e&&(n=i,e=r),r=0);return r>e&&(n=i,e=r),e>1?n:null}(t),i=!1,r=0;r<8;r++){if(i){if(0===t[r])continue;i=!1}e!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",i=!0)}return n}(t.Ei)+"]";case 3:return t.B;case 4:return""}}var To=/\+/g;function So(t){for(var n=t.split("&"),e=[],i=0;i<n.length;i++){var r=n[i];if(""!==r){var u=r.indexOf("="),o=void 0,s=void 0;-1!==u?(o=r.slice(0,u),s=r.slice(u+1)):(o=r,s=""),o=o.replace(To," "),s=s.replace(To," ");var a=wo(o),c=wo(s);e.push([a,c])}}return e}function Eo(t){for(var n="",e=0;e<t.length;e++){var i=t[e];e>0&&(n+="&"),n+=Io(no(Wu(i[0])))+"="+Io(no(Wu(i[1])))}return n}function Io(t){for(var n,e=[],i=0;i<t.length;i++){var r=t[i];32===r?e.push(43):42===(n=r)||45===n||46===n||95===n||Ou(n)?e.push(r):e.push.apply(e,ro(r))}return Lu(e)}var Ro=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function No(t){var n=""+t,e=Ro.exec(n);return e?function(t,n){for(var e=t.length,i=[],r=n;r<e;r++){var u=t.charCodeAt(r);if(Co(u))if(Ao(u)||r===e-1)i.push(Oo);else{var o=t.charCodeAt(r+1);Ao(o)?(i.push(u,o),r++):i.push(Oo)}else i.push(u)}return t.slice(0,n)+Lu(i)}(n,e.index):n}var Oo=65533,Co=function(t){return 55296==(63488&t)},Ao=function(t){return 0!=(1024&t)};function Do(t,n){var e=t[0],i=n[0];return e===i?0:e<i?-1:1}function Po(t){t.Ri.length=0}function xo(t,n){!function(t,n){for(var e=0;e<n.length;e++)t[e]=n[e];t.length=n.length}(t.Ri,So(n))}function Bo(t){if(t.Ni){var n=Eo(t.Ri);""===n&&(n=null),t.Ni.Ni.Oi=n}}var Lo=function(){function t(t){if(void 0===t&&(t=void 0),this.Ni=null,null==t)this.Ri=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Lo&&Tu(u.Ri)&&(!Su||u[Symbol.iterator]===Mo))this.Ri=t.Ri.slice();else if(function(t){return null!=t&&(!!Tu(t)||!!Su&&"function"==typeof t[Symbol.iterator])}(t)){this.Ri=[];for(var n=0,e=Eu(t);n<e.length;n++){var i=Eu(e[n]);if(2!==i.length)throw new h("Invalid name-value pair");this.Ri.push([No(i[0]),No(i[1])])}}else for(var r in this.Ri=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.Ri.push([No(r),No(t[r])]);else(t=No(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Ri=So(t);var u}var n=t.prototype;return n.append=function(t,n){t=No(t),n=No(n),this.Ri.push([t,n]),Bo(this)},n.delete=function(t){t=No(t);for(var n=this.Ri,e=0;e<n.length;){n[e][0]===t?n.splice(e,1):e++}Bo(this)},n.get=function(t){t=No(t);for(var n=this.Ri,e=0;e<n.length;e++){var i=n[e];if(i[0]===t)return i[1]}return null},n.getAll=function(t){t=No(t);for(var n=this.Ri,e=[],i=0;i<n.length;i++){var r=n[i];r[0]===t&&e.push(r[1])}return e},n.has=function(t){t=No(t);for(var n=this.Ri,e=0;e<n.length;e++){if(n[e][0]===t)return!0}return!1},n.set=function(t,n){t=No(t),n=No(n);for(var e=this.Ri,i=!1,r=0;r<e.length;){var u=e[r];u[0]===t?i?e.splice(r,1):(u[1]=n,i=!0,r++):r++}i||e.push([t,n]),Bo(this)},n.sort=function(){du(this.Ri,Do),Bo(this)},n.toString=function(){return Eo(this.Ri)},n.entries=function(){return new Ho(this.Ri,Fo)},n.keys=function(){return new Ho(this.Ri,Uo)},n.values=function(){return new Ho(this.Ri,Vo)},n.forEach=function(t){var n=this;this.Ri.forEach((function(e){return t(e[1],e[0],n)}))},t}(),Mo=Lo.prototype.entries;Su&&(Lo.prototype[Symbol.iterator]=Mo);var Fo=function(t){return[t[0],t[1]]},Uo=function(t){return t[0]},Vo=function(t){return t[1]},Ho=function(){function t(t,n){this.Ci=0,this.Ri=t,this.Ai=n}return t.prototype.next=function(){return this.Ci<this.Ri.length?{done:!1,value:this.Ai(this.Ri[this.Ci++])}:{done:!0,value:void 0}},t}(),qo="null";var zo=v.create(null);zo.ftp=21,zo.file=0,zo.gopher=70,zo.http=80,zo.https=443,zo.ws=80,zo.wss=443;var Wo=/^(?:\.|%2e)$/i,jo=/^(?:\.|%2e){2}$/i;function Go(t){return Wo.test(t)}function Yo(t){return jo.test(t)}function Xo(t){return void 0!==zo[t]}function $o(t){return Xo(t.Di)}function Ko(t){return""!==t.Pi||""!==t.xi}function Jo(t){var n=t.length;if(!(n>=2))return!1;if(!Qo(t.slice(0,2)))return!1;if(2!==n){var e=t[2];if(47!==e&&92!==e&&63!==e&&35!==e)return!1}return!0}function Zo(t){return 2===t.length&&wu.test(t[0])&&(":"===t[1]||"|"===t[1])}function Qo(t){return 2===t.length&&Zo(Lu(t))}function ts(t){return Zo(t)&&":"===t[1]}function ns(t){var n=t.Bi;0!==n.length&&("file"===t.Di&&1===n.length&&ts(n[0])||n.pop())}function es(t){return null===t.Li||mo===t.Li||t.Mi||"file"===t.Di}var is=-1,rs=/\t|\n|\r/g,us=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function os(t,n,e,i){void 0===e&&(e=null),void 0===i&&(i=null),e||(e=new as,t=t.replace(us,""));var r=null!==i?i:0;n=n||null;for(var u=[],o=!1,s=!1,a=!1,c=Wu(t=t.replace(rs,"")),f=c.length,v=0;v<=f;){var d=v<f?c[v]:is;switch(r){case 0:if(!Ru(d)){if(null===i){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(Au(d)),r=1;break;case 1:if(Ou(d)||43===d||45===d||46===d)u.push(Au(d));else{if(58!==d){if(null===i){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=Ju(u);if(null!==i){if(Xo(e.Di)&&!Xo(w))return;if(!Xo(e.Di)&&Xo(w))return;if((Ko(e)||null!==e.Fi)&&"file"===w)return;if("file"===e.Di&&(e.Li===mo||null===e.Li))return}if(e.Di=w,null!==i)return void($o(e)&&e.Fi===zo[e.Di]&&(e.Fi=null));u.length=0,"file"===e.Di?r=13:$o(e)&&n&&n.Di===e.Di?r=3:$o(e)?r=7:47===c[v+1]?(r=4,v+=1):(e.Mi=!0,e.Bi.push(""),r=18)}break;case 2:if(!n||n.Mi&&35!==d)throw new h("Invalid scheme");n.Mi&&35===d?(e.Di=n.Di,e.Bi=n.Bi.slice(),e.Oi=n.Oi,e.Ui="",e.Mi=!0,r=20):"file"!==n.Di?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===c[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:e.Di=n.Di,is===d?(e.Pi=n.Pi,e.xi=n.xi,e.Li=n.Li,e.Fi=n.Fi,e.Bi=n.Bi.slice(),e.Oi=n.Oi):47===d?r=6:63===d?(e.Pi=n.Pi,e.xi=n.xi,e.Li=n.Li,e.Fi=n.Fi,e.Bi=n.Bi.slice(),e.Oi="",r=19):35===d?(e.Pi=n.Pi,e.xi=n.xi,e.Li=n.Li,e.Fi=n.Fi,e.Bi=n.Bi.slice(),e.Oi=n.Oi,e.Ui="",r=20):92===d&&$o(e)?r=6:(e.Pi=n.Pi,e.xi=n.xi,e.Li=n.Li,e.Fi=n.Fi,e.Bi=n.Bi.slice(),e.Bi.pop(),r=17,v-=1);break;case 6:!$o(e)||47!==d&&92!==d?47===d?r=9:(e.Pi=n.Pi,e.xi=n.xi,e.Li=n.Li,e.Fi=n.Fi,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==c[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){o&&u.unshift(37,52,48),o=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||a){var m=Ju(ho(y,ao));a?e.xi+=m:e.Pi+=m}else a=!0}u.length=0}else if(is===d||47===d||63===d||35===d||$o(e)&&92===d){if(o&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==i&&"file"===e.Di)v-=1,r=15;else if(58!==d||s)if(is===d||47===d||63===d||35===d||$o(e)&&92===d){if(v-=1,$o(e)&&0===u.length)throw new h("Invalid host");if(null!==i&&0===u.length&&(Ko(e)||null!==e.Fi))return;var _=bo(Ju(u),$o(e));if(e.Li=_,u.length=0,r=16,null!==i)return}else 91===d?s=!0:93===d&&(s=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=bo(Ju(u),$o(e));if(e.Li=p,u.length=0,r=12,11===i)return}break;case 12:if(Nu(d))u.push(d);else{if(!(is===d||47===d||63===d||35===d||$o(e)&&92===d||null!==i))throw new h("Invalid port");if(0!==u.length){var b=l(Ju(u),10);if(b>65535)throw new h("Invalid port");e.Fi=b===zo[e.Di]?null:b,u.length=0}if(null!==i)return;r=16,v-=1}break;case 13:e.Di="file",47===d||92===d?r=14:n&&"file"===n.Di?is===d?(e.Li=n.Li,e.Bi=n.Bi.slice(),e.Oi=n.Oi):63===d?(e.Li=n.Li,e.Bi=n.Bi.slice(),e.Oi="",r=19):35===d?(e.Li=n.Li,e.Bi=n.Bi.slice(),e.Oi=n.Oi,e.Ui="",r=20):(Jo(c.slice(v))||(e.Li=n.Li,e.Bi=n.Bi.slice(),ns(e)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.Di&&!Jo(c.slice(v))&&(ts(n.Bi[0])?e.Bi.push(n.Bi[0]):e.Li=n.Li),r=17,v-=1);break;case 15:if(is===d||47===d||92===d||63===d||35===d)if(v-=1,null===i&&Qo(u))r=17;else if(0===u.length){if(e.Li=mo,null!==i)return;r=16}else{var k=bo(Ju(u),$o(e));if(0===k.Si&&"localhost"===k.Ii&&(k=mo),e.Li=k,null!==i)return;u.length=0,r=16}else u.push(d);break;case 16:$o(e)?(r=17,47!==d&&92!==d&&(v-=1)):null===i&&63===d?(e.Oi="",r=19):null===i&&35===d?(e.Ui="",r=20):is!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(is===d||47===d||$o(e)&&92===d||null===i&&(63===d||35===d)){var T=Ju(u);if(Yo(T)?(ns(e),47===d||$o(e)&&92===d||e.Bi.push("")):!Go(T)||47===d||$o(e)&&92===d?Go(T)||("file"===e.Di&&0===e.Bi.length&&Qo(u)&&(mo!==e.Li&&null!==e.Li&&(e.Li=mo),u[1]=58,T=Ju(u)),e.Bi.push(T)):e.Bi.push(""),u.length=0,"file"===e.Di&&(is===d||63===d||35===d))for(;e.Bi.length>1&&""===e.Bi[0];)e.Bi.shift();63===d?(e.Oi="",r=19):35===d&&(e.Ui="",r=20)}else u.push.apply(u,ho(d,so));break;case 18:63===d?(e.Oi="",r=19):35===d?(e.Ui="",r=20):is!==d&&(e.Bi[0]+=Ju(ho(d,uo)));break;case 19:null===i&&35===d?(e.Ui="",r=20):is!==d&&(e.Oi+=Ju(ho(d,$o(e)?fo:co)));break;case 20:is===d||0===d||(e.Ui+=Ju(ho(d,oo)))}v++}return e}function ss(t,n,e,i){try{os(t,n,e,i)}catch(t){}}var as=function(){this.Di="",this.Pi="",this.xi="",this.Li=null,this.Fi=null,this.Bi=[],this.Oi=null,this.Ui=null,this.Mi=!1};function cs(t){switch(t.Di){case"blob":var n;try{n=os(t.Bi[0],null)}catch(t){return qo}return cs(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return e=t.Di,i=t.Li,r=t.Fi,e+"://"+ko(i)+(null===r?"":":"+r);case"file":default:return qo}var e,i,r}var fs,hs=function(){function t(t,n){var e,i,r=null;if(null!=n)if(null!=(e=n)&&e instanceof hs&&"object"==typeof e.Ni)r=n.Ni;else try{r=os(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{i=os(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var u=i.Oi;this.Ni=i,this.Oi=function(t){var n=new Lo;return null!==t&&xo(n,t),n}(u),this.Oi.Ni=this}var n,e,i,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(e=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var e=t.Di+":";if(null!==t.Li?(e+="//",Ko(t)&&(e+=t.Pi,""!==t.xi&&(e+=":"+t.xi),e+="@"),e+=ko(t.Li),null!==t.Fi&&(e+=":"+t.Fi)):null===t.Li&&"file"===t.Di&&(e+="//"),t.Mi)e+=t.Bi[0];else for(var i=0,r=t.Bi;i<r.length;i++)e+="/"+r[i];return null!==t.Oi&&(e+="?"+t.Oi),n||null===t.Ui||(e+="#"+t.Ui),e}(this.Ni)},set:function(t){var n;try{n=os(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.Ni=n,Po(this.Oi);var e=this.Ni.Oi;null!==e&&xo(this.Oi,e)}},{key:"origin",get:function(){return cs(this.Ni)}},{key:"protocol",get:function(){return this.Ni.Di+":"},set:function(t){ss(t+":",null,this.Ni,0)}},{key:"username",get:function(){return this.Ni.Pi},set:function(t){es(this.Ni)||(this.Ni.Pi=vo(t,ao))}},{key:"password",get:function(){return this.Ni.xi},set:function(t){es(this.Ni)||(this.Ni.xi=vo(t,ao))}},{key:"host",get:function(){var t=this.Ni,n=t.Li;if(null===n)return"";var e=t.Fi,i=ko(n);return null!==e&&(i+=":"+e),i},set:function(t){this.Ni.Mi||ss(t,null,this.Ni,10)}},{key:"hostname",get:function(){var t=this.Ni.Li;return null===t?"":ko(t)},set:function(t){this.Ni.Mi||ss(t,null,this.Ni,11)}},{key:"port",get:function(){var t=this.Ni.Fi;return null===t?"":""+t},set:function(t){es(this.Ni)||(""===t?this.Ni.Fi=null:ss(t,null,this.Ni,12))}},{key:"pathname",get:function(){var t=this.Ni.Bi;return this.Ni.Mi?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ni.Mi||(this.Ni.Bi.length=0,ss(t,null,this.Ni,16))}},{key:"search",get:function(){var t=this.Ni.Oi;return null===t||""===t?"":"?"+t},set:function(t){t=No(t);var n=this.Ni;if(""===t)return n.Oi=null,void Po(this.Oi);"?"===t[0]&&(t=t.slice(1)),n.Oi="",ss(t,null,n,19),xo(this.Oi,t)}},{key:"searchParams",get:function(){return this.Oi}},{key:"hash",get:function(){var t=this.Ni.Ui;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ni.Ui="",ss(t,null,this.Ni,20)):this.Ni.Ui=null}}])&&vu(n.prototype,e),i&&vu(n,i),t}();function vs(t){return t.document&&t.document.baseURI||t.location.href||""}function ds(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ls(t,n){var e=n.style;if(e)for(var i in t)e[i]=t[i]}function ws(){return void 0!==i?i.createElement("video"):void 0}function gs(){return fs||(fs=ws()),fs}ki(),Vt(),Ti(),Ti(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var ys=!!("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),ms=gs(),_s=!(!ms||!ms.webkitShowPlaybackTargetPicker),ps=function(){function t(){this.Vi=void 0,this.Hi=!1,this.Ae=ys,this.Ge=!1,this.qi=!0}var n=t.prototype;return n.zi=function(){return 0},n.Wi=function(t,n){return!0},n.ji=function(t){return t>=2*hu},Ii(t,[{key:"Gi",get:function(){return void 0===this.Vi&&(this.Vi=this.zi()),this.Vi}},{key:"Yi",get:function(){return!sr.di}},{key:"Xi",get:function(){if(e.screen)return{width:e.screen.width,height:e.screen.height}}},{key:"$i",get:function(){return e.devicePixelRatio||1}},{key:"Ki",get:function(){return _s}},{key:"Ji",get:function(){return!1}},{key:"Zi",get:function(){return!0}},{key:"Qi",get:function(){return sr.ai||sr.qe}},{key:"tr",get:function(){return!0}},{key:"nr",get:function(){return!0}},{key:"er",get:function(){return!1}},{key:"ir",get:function(){}},{key:"rr",get:function(){return!0}},{key:"ur",get:function(){return!1}},{key:"sr",get:function(){return!1}},{key:"ar",get:function(){return sr.ni}}]),t}();ki(),Vt();var bs=function(){var t=ws();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(sr.Ve)return!1;var t=ws();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var ks=function(t){function n(n){var e;return(e=t.call(this)||this).cr=n,e.cr&&(e.Hi=e.cr.Hi,e.Ae=e.cr.Ae,e.qi=bs&&e.cr.qi),e}Xi(n,t);var e=n.prototype;return e.zi=function(){return this.cr?this.cr.Gi:t.prototype.zi.call(this)},e.Wi=function(n,e){return this.cr?this.cr.Wi(n,e):t.prototype.Wi.call(this,n,e)},e.ji=function(n){return this.cr?this.cr.ji(n):t.prototype.ji.call(this,n)},Ii(n,[{key:"ir",get:function(){var t;return null==(t=this.cr)?void 0:t.ir}},{key:"rr",get:function(){var t,n;return null==(n=null==(t=this.cr)?void 0:t.rr)||n}}]),n}(ps),Ts=function(t){function n(n){var e;return(e=t.call(this,n)||this).Hi=!0,e.Ge=!0,e}return Xi(n,t),Ii(n,[{key:"er",get:function(){return sr.qe}}]),n}(ks);Ti();var Ss=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.zi=function(){return mi.MediaSource?t.prototype.zi.call(this):1},Ii(n,[{key:"er",get:function(){return!0}}]),n}(Ts);ki(),Vt(),Ri();var Es=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Wi=function(n,e){return t.prototype.Wi.call(this,n,e)},Ii(n,[{key:"Ji",get:function(){return sr.Qe<3}},{key:"Zi",get:function(){return sr.Qe>=3}},{key:"Xi",get:function(){var t=this;return e.tizen&&!this.hr&&e.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var e=n.resolutionWidth,i=n.resolutionHeight;1===e&&1===i||(t.hr={width:e,height:i})})),this.hr}},{key:"ur",get:function(){return sr.Qe<3}},{key:"sr",get:function(){return!0}}]),n}(ks);ki(),Vt();var Is=function(t){function n(){return t.call(this)}return Xi(n,t),n}(ps);ki(),Vt(),Ri();var Rs=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Wi=function(t,n){if(t&&t.dr&&n&&n.dr){var e=Ns(t.dr,"mp4a.40.2")&&Ns(n.dr,"mp4a.40.5"),i=Ns(t.dr,"mp4a.40.5")&&Ns(n.dr,"mp4a.40.2"),r=Ns(t.dr,"mp4a.40.2")&&Ns(n.dr,"mp4a.40.34"),u=Ns(t.dr,"mp4a.40.34")&&Ns(n.dr,"mp4a.40.2"),o=Ns(t.dr,"mp4a.40.5")&&Ns(n.dr,"mp4a.40.34"),s=Ns(t.dr,"mp4a.40.34")&&Ns(n.dr,"mp4a.40.5");return!(e||i||r||u||o||s)}return!0},Ii(n,[{key:"ir",get:function(){if(sr.De)return 4096}}]),n}(Is);function Ns(t,n){return t.indexOf(n)>-1}ki(),Vt();var Os=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.ji=function(t){return t>=2},n}(Is);ki(),Vt();var Cs=function(t){function n(){var n;return(n=t.call(this)||this).Hi=sr.ci>=11,n.qi=sr.ai&&!(sr.qe&&sr.ci<10),n}return Xi(n,t),n}(Is);ki(),Vt(),Ri();var As=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),Ii(n,[{key:"Xi",get:function(){var t=this;return e.webOS&&!this.hr&&e.webOS.deviceInfo((function(n){t.hr={width:n.screenWidth,height:n.screenHeight}})),this.hr}},{key:"tr",get:function(){return!1}},{key:"sr",get:function(){return!0}}]),n}(ks);ki(),Vt(),Ri();var Ds=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),Ii(n,[{key:"rr",get:function(){return!sr.Pe||(sr.Ke?92!==sr.Je:sr.$e>=100)}}]),n}(Is);ki(),Vt(),Ri();var Ps=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),Ii(n,[{key:"er",get:function(){return!0}}]),n}(ks),xs=function(){function n(){var n;this.wr=new Bs,this.gr=(n=sr.oi?new Rs:sr.ei||sr.ii?new Os:sr.ai?new Cs:sr.Xe?new Ds:new Is,sr.qe?new Ss(n):sr.Ge?new Ts(n):sr.Ze?new Es(n):sr.ti?new As(n):sr.De?new Ps(n):new ks(n)),this.yr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.mr=function(){return t.performance.now()}:this.mr=cu}var e=n.prototype;return e._r=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Or.apply(void 0,Bi(n))},e.pr=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Cr.apply(void 0,Bi(n))},e.br=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Ar.apply(void 0,Bi(n))},e.kr=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];Dr.apply(void 0,[t].concat(Bi(e)))},e.Tr=function(t,n){return o(t,n)},e.Sr=function(t,n){return a(t,n)},e.Er=function(t){s(t)},e.Ir=function(t){c(t)},e.Rr=function(){return this.Nr.Rr()},e.Or=function(){return this.Nr.Or()},e.Cr=function(){return this.Nr.Cr()},e.Ar=function(){return this.Nr.Ar()},e.Dr=function(){return this.Nr.Dr()},e.Pr=function(t,n){return this.Nr.Pr(t,n)},e.Br=function(t){return this.Nr.Br(t)},e.Lr=function(t,n){var e;return void 0===n&&(n=vs(mi)),e="object"!=typeof n||n instanceof hs?n:n.href,new hs(t,e)},e.Mr=function(n,e){if(void 0===e&&(e=vs(mi)),this.yr){var i=gr(e)?e:e.toString();return new t.URL(n,i).href}return this.Lr(n,e).href},Ii(n,[{key:"Fr",get:function(){return this.wr}},{key:"Ur",get:function(){return this.gr}},{key:"Vr",get:function(){return{Hr:u&&u.userAgent.match(/Android /i)?"Android":"other",qr:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"zr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Wr",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),Bs=function(){function t(){}return Ii(t,[{key:"jr",get:function(){return u.oscpu}},{key:"Ur",get:function(){return u.platform}},{key:"Gr",get:function(){return u.vendor}},{key:"Yr",get:function(){return u.vendorSub}}]),t}();function Ls(t,n,e,i,r,u,o){try{var s=t[u](o),a=s.value}catch(t){return void e(t)}s.done?n(a):G.resolve(a).then(i,r)}function Ms(t){return function(){var n=this,e=arguments;return new G((function(i,r){var u=t.apply(n,e);function o(t){Ls(u,i,r,o,s,"next",t)}function s(t){Ls(u,i,r,o,s,"throw",t)}o(void 0)}))}}function Fs(){return(Fs=v.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)v.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}function Us(t,n){var e,i,r,u,o=function(t){return function(n){return s([t,n])}},s=function(u){if(e)throw new h("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=2&u[0]?i.return:u[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,u[1])).done)return r;switch(i=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){a.label=u[1];break}if(6===u[0]&&a.label<r[1]){a.label=r[1],r=u;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(u);break}r[2]&&a.ops.pop(),a.trys.pop();continue}u=n.call(t,a)}catch(t){u=[6,t],i=0}finally{e=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}},a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function Vs(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,r,u=[],o=!0,s=!1;try{for(e=e.call(t);!(o=(i=e.next()).done)&&(u.push(i.value),!n||u.length!==n);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==e.return||e.return()}finally{if(s)throw r}}return u}}(t,n)||Pi(t,n)||function(){throw new h("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hs(){var t=v.create(null);return t.__=void 0,delete t.__,t}function qs(){return new js}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),xi();var zs,Ws="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,js=Ws||(zs=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=v.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Hs(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Hs(),this.size=0},n.keys=function(){return new zs(this.data,(function(t,n){return n}))},n.values=function(){return new zs(this.data,(function(t,n){return t[n]}))},n.entries=function(){return new zs(this.data,(function(t,n){return[n,t[n]]}))},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Gs,Ys,Xs,$s=Ws||(Gs=function(){function t(t,n){this.$r=t,this.Kr=n}return t.prototype.next=function(){var t=this.$r.next();return t.done?t:{value:this.Kr(t.value),done:!1}},t}(),function(){function t(){this.Jr=qs()}var n=t.prototype;return n.get=function(t){return this.Jr.get(""+t)},n.set=function(t,n){return this.Jr.set(""+t,n),this},n.has=function(t){return this.Jr.has(""+t)},n.delete=function(t){return this.Jr.delete(""+t)},n.clear=function(){this.Jr.clear()},n.keys=function(){return new Gs(this.Jr.keys(),(function(t){return Number(t)}))},n.values=function(){return this.Jr.values()},n.entries=function(){return new Gs(this.Jr.entries(),(function(t){var n=Vs(t,2),e=n[0],i=n[1];return[Number(e),i]}))},n.forEach=function(t){this.Jr.forEach((function(n,e){t(n,Number(e))}))},Ii(t,[{key:"size",get:function(){return this.Jr.size}}]),t}());Ti(),ki(),Vt(),ki(),Vt(),(Xs=Ys||(Ys={})).Zr="9a04f079-9840-4286-ab92-e65be0885f95",Xs.Qr="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Xs.tu="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Xs.nu="94ce86fb-07ff-4f43-adb8-93d2fa968ca2";var Ks,Js,Zs="cenc",Qs="sinf",ta="skd",na="9a04f079-9840-4286-ab92-e65be0885f95",ea="urn:uuid:"+na,ia="com.microsoft.playready",ra="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ua="urn:uuid:"+ra,oa="com.widevine.alpha",sa="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",aa="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",ca="urn:uuid:"+aa,fa="com.apple.fps.1_0";ki(),Vt(),(Js=Ks||(Ks={})).Zr="playready",Js.Qr="widevine",Js.nu="fairplay",Js.tu="clearkey",Js.eu="aes128";var ha={iu:Ks.Zr,ru:ia,uu:"cenc",ou:na,su:ea,au:"PlayReady"},va={iu:Ks.Qr,ru:oa,uu:"cenc",ou:ra,su:ua,au:"Widevine"},da={iu:Ks.nu,ru:fa,uu:"skd",ou:aa,su:ca,au:"FairPlay"},la=(Ks.nu,{iu:Ks.tu,ru:"org.w3.clearkey",uu:"cenc",ou:sa,su:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",au:"ClearKey"});function wa(t,n,e){return t.split(n).join(e)}function ga(t,n){return null!=t&&-1!==t.indexOf(n)}function ya(t,n){return null!=t&&t.substr(0,n.length)===n}function ma(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function _a(t,n){return t.toUpperCase()===n.toUpperCase()}function pa(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return ka(n)}ki(),Vt(),Mi();var ba=16384;function ka(t){var n,e=t.length;if(e<=ba)return(n=String).fromCharCode.apply(n,Bi(t));for(var i=[],r=0;r<e;r+=ba){var u;i.push((u=String).fromCharCode.apply(u,Bi(t.slice(r,r+ba))))}return i.join("")}var Ta=sr.Xe&&sr.$e>=42||sr.oi&&sr.si>=38||sr.ei||sr.ri||sr.fi&&sr.hi>=29;function Sa(t,n){return ga(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Fs({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Fs({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Ea,Ia,Ra=function(){function t(t){this.cu=qs(),this.fu=void 0,this.hu=t}var n=t.prototype;return n.Dr=function(){return this.Br(va)},n.Or=function(){return this.Br(la)},n.Ar=function(){return this.Br(ha)},n.Cr=function(){return this.Br(da)},n.Br=function(t){var n=t.su,e=this.cu.get(n);if(e)return e;var i=this.Pr(t,'video/mp4; codecs="avc1.42000a"');return this.cu.set(n,i),i},n.Pr=function(t,n){var e=this;return Ms((function(){return Us(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,e.hu.vu(t.ru,[Sa(n,!0)])];case 1:return i.sent(),[2,!0];case 2:i.sent(),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,e.hu.vu(t.ru,[Sa(n,!1)])];case 4:return i.sent(),[2,!0];case 5:return i.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.Rr=function(){return this.fu||(this.fu=this.du()),this.fu},n.du=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return"https:"===_i.protocol?[2,!1]:Ta?[4,t.Or()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function Na(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oa(t,n){var e=function(t,n){var e=t,i=e.length;if(i<=1)return e;for(var r=new Array(i),u=1;u<i;u*=2){Ca(e,n,u,r);var o=e;e=r,r=o}return e}(t,n);return e!==t&&Ca(e,void 0,t.length,t),t}function Ca(t,n,e,i){var r,u,o,s,a,c=t.length,f=0,h=2*e;for(u=0;u<c;u+=h)for(r=(o=u+e)+e,o>c&&(o=c),r>c&&(r=c),s=u,a=o;;)if(s<o&&a<r)n&&n(t[s],t[a])<=0?i[f++]=t[s++]:i[f++]=t[a++];else if(s<o)i[f++]=t[s++];else{if(!(a<r))break;i[f++]=t[a++]}}ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(Ia=Ea||(Ea={}))[Ia.lu=0]="lu",Ia[Ia.wu=1]="wu",Ia[Ia.gu=-1]="gu";var Aa=function(t,n){return(0|t)-(0|n)},Da=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1};function Pa(t,n,e){return su(t,n,e)?0:Da(t,n)}var xa=function(t,n){return function(t,n){if(t===n)return!0;var e=d.abs(t-n);return e<uu||e<d.max(d.abs(t),d.abs(n))*uu}(t,n)?0:Da(t,n)};function Ba(t,n,e){var i=function(t,n,e){for(var i=0;i<t.length;i+=1){var r=t[i];if(n.call(e,r,i,t))return i}return-1}(t,n,e);return-1===i?void 0:t[i]}function La(t,n,e){var i=function(t,n,e){for(var i=t.length-1;i>=0;i-=1){var r=t[i];if(n.call(e,r,i,t))return i}return-1}(t,n,e);return-1===i?void 0:t[i]}function Ma(t,n){var e=t.indexOf(n);return-1!==e&&(Fa(t,e),!0)}function Fa(t,n){t.splice(n,1)}function Ua(t,n){return-1!==t.indexOf(n)}function Va(t){t.length=0}ki(),Vt(),Ri(),ki(),Vt(),Ri();var Ha=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];f.apply(this,n)};(Ha.prototype=v.create(f.prototype)).constructor=Ha;var qa=function(t){function n(n,e){var i;return(i=t.call(this)||this).message=n||"Unknown error",i.cause=e,f.captureStackTrace&&f.captureStackTrace(Na(i),i.constructor),i}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Ha);ki(),Vt(),Ri();var za=function(){function t(){this.yu=!1,this.mu=!1,this._u=[],this.pu=[]}var n=t.prototype;return n.bu=function(){if(!this.yu&&!this.mu){this.yu=!0;for(var t=0,n=this._u.slice();t<n.length;t++){(0,n[t])()}this.ku()}},n.ku=function(){if(!this.mu){this.mu=!0;for(var t=0,n=this.pu.slice();t<n.length;t++){(0,n[t])()}Va(this._u),Va(this.pu)}},n.Tu=function(t){this.mu||this._u.push(t)},n.Su=function(t){this.mu||Ma(this._u,t)},n.Eu=function(t){this.mu||this.pu.push(t)},n.Iu=function(t){this.mu||Ma(this.pu,t)},t}(),Wa=function(){function t(){this.Ru=new za}var n=t.prototype;return n.Nu=function(){this.Ru.bu()},n.ku=function(){this.Ru.ku()},n.Ou=function(t){var n=this.Ru;if(!n.yu)if(t.yu)n.bu();else if(!n.mu&&!t.mu){var e=function(){i(),n.bu()},i=function(){t.Su(e),t.Iu(i),n.Su(e),n.Iu(i)};t.Tu(e),t.Eu(i),n.Tu(e),n.Eu(i)}},n.Cu=function(){var n=new t,e=new t,i=n.Au,r=e.Au,u=this.Ru,o=function(){i.yu&&r.mu||r.yu&&i.mu?u.bu():i.mu&&r.mu&&u.ku()};i.Tu(o),r.Tu(o),i.Eu(o),r.Eu(o),n.Ou(u),e.Ou(u);return u.Eu((function(){i.Su(o),r.Su(o),i.Iu(o),r.Iu(o)})),[n,e]},Ii(t,[{key:"Au",get:function(){return this.Ru}}]),t}(),ja=function(t){function n(n,e){return t.call(this,n||"Aborted",e)}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"AbortError"}}]),n}(qa);function Ga(t){return t instanceof f&&"AbortError"===t.name}function Ya(t){if(t&&t.yu)throw new ja}function Xa(t){if(Ga(t))throw t}function $a(t){if(!Ga(t))throw t}function Ka(t,n){return n?new G((function(e,i){if(n.yu)return t.catch(pr),i(new ja);var r=function(){n.Su(r),i(new ja)};n.Tu(r),t.then((function(t){n.Su(r),e(t)}),(function(t){n.Su(r),i(t)}))})):t}function Ja(t,n){return t.then((function(t){return n.ku(),t}),(function(t){throw n.ku(),t}))}ki(),Vt();var Za=G.resolve();function Qa(t){Za.then(t)}function tc(t){t.then(pr,pr)}function nc(t){return ec.apply(this,arguments)}function ec(){return(ec=Ms((function(t){var n;return Us(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,G.all(t)];case 1:return[2,e.sent()];case 2:return n=e.sent(),[4,G.all(t.map((function(t){return t.catch(pr)})))];case 3:throw e.sent(),n;case 4:return[2]}}))}))).apply(this,arguments)}function ic(t,n){return new G((function(e,i){if(void 0!==n&&n.yu)i(new ja);else{var r=Wi.Tr((function(){void 0!==n&&n.Su(u),e()}),t),u=function(){Wi.Er(r),i(new ja)};void 0!==n&&n.Tu(u)}}))}function rc(t){return t&&"function"!=typeof t?t.slice():t}function uc(t,n,e){if(e)if("function"==typeof e)e.call(t,n);else for(var i=0;i<e.length;i++){e[i].call(t,n)}}var oc=function(){function t(t){var n=this;this.Du=Hs(),this.Pu=void 0,this.xu=function(t){n.Bu(t)},this.Lu=t||this}var n=t.prototype;return n.Mu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Fu(t,n);else for(var e=0;e<t.length;e++){var i=t[e];this.Fu(i,n)}},n.Fu=function(t,n){var e=this.Du[t];e?"function"==typeof e?this.Du[t]=[e,n]:e.push(n):this.Du[t]=n},n.Uu=function(t){if("function"==typeof t){var n=this.Pu;n?"function"==typeof n?this.Pu=[n,t]:n.push(t):this.Pu=t}},n.Vu=function(){this.Du=Hs(),this.Pu=void 0},n.Bu=function(t){var n=rc(this.Du[t.type]),e=rc(this.Pu);uc(this.Lu,t,n),uc(this.Lu,t,e)},n.Hu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.qu(t,n);else for(var e=0;e<t.length;e++){var i=t[e];this.qu(i,n)}},n.qu=function(t,n){var e=this.Du[t];e&&("function"==typeof e?e===n&&(this.Du[t]=void 0):Ma(e,n))},n.zu=function(t){if("string"==typeof t)this.Du[t]=void 0;else for(var n=0;n<t.length;n++){var e=t[n];this.Du[e]=void 0}},n.Wu=function(t){var n=this.Pu;n&&("function"==typeof n?n===t&&(this.Pu=void 0):Ma(n,t))},n.ju=function(t,n){var e=this;return new G((function(i,r){if(n&&n.yu)return r(new ja);var u=function(t){s(),i(t)},o=function(){s(),r(new ja)},s=function(){e.Hu(t,u),n&&n.Su(o)};e.Mu(t,u),n&&n.Tu(o)}))},t}(),sc=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Bu=function(n){var e=this;Qa((function(){t.prototype.Bu.call(e,n)}))},n}(oc);ki(),Vt(),ki(),Vt();var ac,cc,fc=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},hc=["cenc"],vc=["cbcs","cbcs-1-9"],dc=function(t){function n(n){var e;return(e=t.call(this,"Yu")||this).Gu=n,e}return Xi(n,t),n}(fc),lc=function(t){function n(n,e,i,r){var u;return(u=t.call(this,"Xu")||this).Gu=n,u.$u=e,u.Xu=i,u.Ku=r,u}return Xi(n,t),n}(fc),wc=function(t){function n(){return t.call(this,"Ju")}return Xi(n,t),n}(fc);(cc=ac||(ac={})).Zu="Qu",cc.eo="io";var gc=function(t){function n(n,e){var i;return(i=t.call(this,"Qu")||this).uu=n,i.ro=e,i}return Xi(n,t),n}(fc);ki(),Vt(),Ri();var yc=new y([0]).buffer,mc=function(){function t(){this.uo=[]}var n=t.prototype;return n.oo=function(t){for(var n=0,e=this.uo;n<e.length;n++){if(e[n][0]===t)return!0}return!1},n.so=function(t){for(var n=0,e=this.uo;n<e.length;n++){var i=e[n];if(i[0]===t)return i[1]}},n.ao=function(t,n){this.uo.forEach((function(n){return t(n[1],n[0])}),n)},n.co=function(t,n){this.uo.push([t,n])},n.fo=function(){Va(this.uo)},Ii(t,[{key:"ho",get:function(){return this.uo.length}}]),t}();ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var _c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),pc=/[\t\n\f\r ]/g;function bc(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:kc()}function kc(){throw new f("Invalid base64 input")}function Tc(t){var n=t;pc.test(n)&&(n=n.replace(pc,""));var e=n.length;e%4==0&&e>=1&&"="===n[e-1]&&(e>=2&&"="===n[e-2]?e-=2:e-=1,n=n.substr(0,e));var i=e%4;if(1===i)return kc();for(var r,u=0===i?0:4-i,o=new y(function(t,n){return 3*(t+n)/4-n}(e,u)),s=u>0?e-4:e,a=0,c=0;a<s;a+=4)r=bc(n.charCodeAt(a))<<18|bc(n.charCodeAt(a+1))<<12|bc(n.charCodeAt(a+2))<<6|bc(n.charCodeAt(a+3)),o[c++]=r>>16&255,o[c++]=r>>8&255,o[c++]=255&r;return 2===u?(r=bc(n.charCodeAt(a))<<2|bc(n.charCodeAt(a+1))>>4,o[c++]=255&r):1===u&&(r=bc(n.charCodeAt(a))<<10|bc(n.charCodeAt(a+1))<<4|bc(n.charCodeAt(a+2))>>2,o[c++]=r>>8&255,o[c++]=255&r),o}function Sc(t,n,e){for(var i,r,u,o=[],s=n;s<e;s+=3)o.push((i=t[s],r=t[s+1],u=t[s+2],_c[i>>2]+_c[(3&i)<<4|r>>4]+_c[(15&r)<<2|u>>6]+_c[63&u]));return o.join("")}function Ec(t){for(var n=t.length,e=n%3,i=[],r=n-e,u=0;u<r;u+=16383)i.push(Sc(t,u,d.min(r,u+16383)));if(1===e){var o=t[n-1];i.push(_c[o>>2]+_c[(3&o)<<4]+"==")}else if(2===e){var s=t[n-2],a=t[n-1];i.push(_c[s>>2]+_c[(3&s)<<4|a>>4]+_c[(15&a)<<2]+"=")}return i.join("")}var Ic=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Rc=ArrayBuffer.isView||function(t){return t&&Ua(Ic,cr.call(t))};function Nc(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var e=0;e<t.length;e+=1)if(t[e]!==n[e])return!1;return!0}(new y(t),new y(n))}function Oc(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return function(t,n){for(var e=new y(n),i=0,r=0;r<t.length;r++){var u=t[r];e.set(u,i),i+=u.byteLength}return e}(t,n)}function Cc(t){return Tc(t).buffer}function Ac(t){return Ec(new y(t))}function Dc(t){return Ec(ef(t))}ki(),Vt(),Ri();var Pc=function(){function t(t){void 0===t&&(t=0),this.vo=t}var n=t.prototype;return n.do=function(t){this.vo+=t},n.lo=function(t){this.vo=t},n.wo=function(){return new t(this.yo)},Ii(t,[{key:"yo",get:function(){return this.vo}}]),t}();function xc(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Bc(t,n){return t>>n&63|128}function Lc(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(xc(t),n.push(t>>12&15|224),n.push(Bc(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Bc(t,12)),n.push(Bc(t,6))),n.push(63&t|128)):n.push(t)}function Mc(t,n){if(n.yo>=t.length)throw new f("Invalid byte index");var e=255&t[n.yo];if(n.do(1),128==(192&e))return 63&e;throw new f("Invalid continuation byte")}function Fc(t,n){var e=n.yo;if(e>t.length)throw new f("Invalid byte index");if(e===t.length)return!1;var i=255&t[e];if(n.do(1),0==(128&i))return i;if(192==(224&i)){var r=(31&i)<<6|Mc(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&i)){var u=(15&i)<<12|Mc(t,n)<<6|Mc(t,n);if(u>=2048)return xc(u),u;throw new f("Invalid continuation byte")}if(240==(248&i)){var o=(7&i)<<18|Mc(t,n)<<12|Mc(t,n)<<6|Mc(t,n);if(o>=65536&&o<=1114111)return o}throw new f("Invalid UTF-8 detected")}ki(),Vt(),ki(),Vt();var Uc=function(){function t(t){this.mo=t}return t.prototype._o=function(t){return function(t,n){return(t&n)===n}(this.mo,t)},t}();function Vc(t,n){var e=t.getUint8(n.yo);return n.do(1),e}function Hc(t,n,e){t.setUint8(n.yo,e),n.do(1)}function qc(t,n,e){var i=cf(hf(t),n.yo,n.yo+e);return n.do(i.byteLength),i}function zc(t,n,e){return n.yo+e<=t.byteLength}function Wc(t,n,e){void 0===e&&(e=!1);var i=t.getUint16(n.yo,e);return n.do(2),i}function jc(t,n,e,i){void 0===i&&(i=!1),t.setUint16(n.yo,e,i),n.do(2)}function Gc(t,n,e){void 0===e&&(e=!1);var i=t.getUint32(n.yo,e);return n.do(4),i}function Yc(t,n,e,i){void 0===i&&(i=!1),t.setUint32(n.yo,e,i),n.do(4)}function Xc(t,n,e){void 0===e&&(e=!1);var i=Gc(t,n,e),r=Gc(t,n,e),u=e?r:i,o=e?i:r;return ru.fromBits(o,u,!0)}function $c(t,n){return function(t,n){return Zc(t,n,!0)}(t,n)}function Kc(t,n,e){return ka(gf(qc(t,n,e)))}function Jc(t,n){var e,i=Vc(t,n);return 0==(128&i)?e=i:192==(224&i)?e=64*(31&i)+(63&Vc(t,n)):224==(240&i)?e=4096*(15&i)+64*(63&Vc(t,n))+(63&Vc(t,n)):240==(248&i)&&(e=262144*(7&i)+4096*(63&Vc(t,n))+64*(63&Vc(t,n))+(63&Vc(t,n))),e}function Zc(t,n,e){for(var i=[];n.yo<t.byteLength;){var r=Vc(t,n);if(e&&!r)break;i.push(r)}return ka(i)}function Qc(t,n,e,i){for(var r=[];n.yo+2<=t.byteLength;){var u=Wc(t,n,e);if(i&&!u)break;r.push(u)}return ka(r)}function tf(t,n,e,i){void 0===i&&(i=!1);for(var r=e.length,u=0;u<r;u+=1){jc(t,n,e.charCodeAt(u),i)}}function nf(t){return Zc(ff(t),new yf,!1)}function ef(t){var n=new y(t.length);return function(t,n,e){for(var i=e.length,r=0;r<i;r+=1)Hc(t,n,e.charCodeAt(r))}(ff(n),new yf,t),n}function rf(t,n){return void 0===n&&(n=!1),Qc(ff(t),new yf,n,!1)}function uf(t,n){void 0===n&&(n=!1);var e=new y(2*t.length);return tf(ff(e),new yf,t,n),e}function of(t,n){return function(t,n,e){var i=[];(function(t,n){return n.yo+3<=t.byteLength&&239===t.getUint8(n.yo)&&187===t.getUint8(n.yo+1)&&191===t.getUint8(n.yo+2)})(t,n)&&n.do(3);for(;n.yo<t.byteLength;){var r=Jc(t,n);if(void 0===r)break;if(e&&0===r)break;i.push(r)}return pa(i)}(t,n,!0)}function sf(t){return pa(function(t,n){var e,i=[],r=new yf;if(!n){if(!1===(e=Fc(t,r)))return i;65279===e||i.push(e)}for(;!1!==(e=Fc(t,r));)i.push(e);return i}(hf(t)))}function af(t){return new y(function(t){for(var n=[],e=0;e<t.length;e++)Lc(t[e],n);return n}(function(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}(t)))}function cf(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),new y(t.buffer,t.byteOffset+n,e-n)}function ff(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function hf(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function vf(t){return t instanceof ArrayBuffer||Rc(t)}function df(t){return t instanceof ArrayBuffer?new y(t):hf(t)}function lf(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),t.slice?t.slice(n,e):wf(cf(t,n,e))}function wf(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function gf(t){return[].slice.call(t)}var yf=function(){function t(t){void 0===t&&(t=0),this.vo=t}var n=t.prototype;return n.do=function(t){this.vo+=t},n.lo=function(t){this.vo=t},n.wo=function(){return new t(this.yo)},n.po=function(){return new Pc(this.yo<<3)},Ii(t,[{key:"yo",get:function(){return this.vo}}]),t}();ki(),Vt();var mf=function(){function t(){var t=this;this.bo=new G((function(n,e){t.Z=n,t.nt=e}))}var n=t.prototype;return n.ko=function(t){this.Z&&(this.Z(t),this.ku())},n.To=function(t){this.nt&&(this.nt(t),this.ku())},n.Nu=function(){this.bo.catch(pr),this.To(new ja)},n.Ou=function(t){var n=this;t.then((function(t){return n.ko(t)}),(function(t){return n.To(t)}))},n.ku=function(){this.Z=void 0,this.nt=void 0},t}();function _f(){return new y([8,4]).buffer}function pf(t,n){return t===ia?function(t){if(t.byteLength<2*bf.length)return t;if(rf(new DataView(t,0,2*bf.length),!0)===bf)return t;return n=t,e='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',uf('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Ac(n)+e,!0).buffer;var n,e}(n):n}ki(),Vt();var bf="<PlayReady";ki(),Vt(),ki(),Vt();var kf=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,r)||this).So=e,u.Eo=i,u}return Xi(n,t),n}(qa);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Tf=function(t,n){return(Tf=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)v.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)};function Sf(t,n){var e=function(){this.constructor=t};if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");Tf(t,n),t.prototype=null===n?v.create(n):(e.prototype=n.prototype,new e)}function Ef(t,n,e){return t.indexOf?t.indexOf(n,e):Array.prototype.indexOf.call(t,n,e)}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var If;(If=function(t,n){this.Io=t,this.Ro=n}).prototype.get=function(t){var n=this.Io.get(t);if(0===this.Ro||void 0===n)return n;var e=this.Io.get(t+1)||0,i=n&(1<<8-this.Ro)-1,r=e>>8-this.Ro;return(i<<this.Ro)+r},If.prototype.getBit=function(t){if(!(t<0)){var n=this.Io.get(d.floor((t+this.Ro)/8));if(void 0!==n)return(n&1<<7-this.Ro-t%8)>0?1:0}},v.defineProperty(If.prototype,"bitLength",{get:function(){return this.Io.bitLength-this.Ro},enumerable:!1,configurable:!0}),v.defineProperty(If.prototype,"length",{get:function(){return this.Io.length},enumerable:!1,configurable:!0});ki(),Vt(),ki(),Vt();d.pow(2,-52);function Rf(t,n,e){return d.min(d.max(t,n),e)}function Nf(t,n){return t>>8-n}function Of(t,n){return t&(1<<n)-1}var Cf,Af=(Cf=function(t){this.No=t,this.Oo=0,this.Co=0},v.defineProperty(Cf.prototype,"totalBitsRead",{get:function(){return 8*this.Oo+this.Co},enumerable:!1,configurable:!0}),v.defineProperty(Cf.prototype,"done",{get:function(){return this.Oo===this.No.length&&0===this.Co},enumerable:!1,configurable:!0}),v.defineProperty(Cf.prototype,"location",{get:function(){return{byte:this.Oo,bit:this.Co}},enumerable:!1,configurable:!0}),Cf.prototype.copy=function(){var t=new Cf(this.No);return t.seek(this.Oo,this.Co),t},Cf.prototype.canReadBits=function(t){return 8*this.Oo+t+this.Co<=8*this.No.length},Cf.prototype.canReadBytes=function(t){return 0===this.Co?this.Oo+t<=this.No.length:this.Oo+t<this.No.length},Cf.prototype.incBit=function(){this.Co++,this.Co>7&&(this.Oo++,this.Co=0)},Cf.prototype.seek=function(t,n){this.Oo=t,this.Co=n},Cf.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.No.get(this.Oo)>>7-this.Co&1},Cf.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},Cf.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.Co)return this.No.get(this.Oo++);var t=Of(this.No.get(this.Oo),8-this.Co),n=Nf(this.No.get(this.Oo+1),this.Co);return this.Oo++,t<<this.Co|n},Cf.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],e=0;e<t;e++)n.push(this.readBit());return n},Cf.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.Co&&t%8==0)for(var e=t-8;e>=0;e-=8)n|=this.readByte()<<e;else for(e=t-1;e>=0;e--)n|=this.readBit()<<e;return n},Cf.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0==(n&1<<t-1)?n:n-d.pow(2,t)},Cf.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},Cf.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},Cf.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.Co+t;this.Oo+=n>>3,this.Co=7&n},Cf.prototype.readBool=function(){return this.readBit()>0},Cf.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],e=0;e<t;e++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},Cf);ki(),Vt(),ki(),Vt(),ki(),Vt();var Df,Pf=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},xf=((Df=function(){this.Ao=[],this.Do=[],this.C=0}).from=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=new Df,i=0,r=t;i<r.length;i++){var u=r[i];e.pushRange(u)}return e},Df.prototype.pushRange=function(t,n,e){if(void 0===n&&(n=0),void 0===e&&(e=t.length),e<0)throw new f("The buffer length must be positive.");if(0!==e){if(0===this.Do.length)this.Do.push(0);else{var i=this.Do[this.Do.length-1]+this.Ao[this.Ao.length-1].length;this.Do.push(i)}this.Ao.push(t.subarray(n,n+e)),this.C+=e}},Df.prototype.concat=function(t){var n=new Df;return n.pushRange(this.join()),n.pushRange(t.join()),n},Df.prototype.copy=function(t,n,e,i){if(void 0===n&&(n=0),void 0===e&&(e=0),void 0===i&&(i=this.length),n<0||e<0||i<0)throw new RangeError;return this.slice(e,i).copyInternal(t,n)},Df.prototype.copyInternal=function(t,n){for(var e=0,i=n,r=0,u=this.Ao;r<u.length;r++){var o=u[r];t.set(o,i),e+=o.length,i+=o.length}return e},Df.prototype.clear=function(){this.Ao=[],this.Do=[],this.C=0},Df.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),e=t-this.Do[n];return this.Ao[n][e]}},v.defineProperty(Df.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),Df.prototype.indexOf=function(t){if(this.Ao.length<1)return-1;if(this.Ao.length>1){var n=this.join();this.clear(),this.pushRange(n)}var e=this.Ao[0];return"number"==typeof t?Ef(e,t):"undefined"!=typeof Buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var e=n[0],i=n.length,r=t.length-i,u=0;u<=r&&!((u=Ef(t,e,u))<0||u>r);u++){for(var o=u+1,s=u+i,a=1;o<s&&t[o]===n[a];o++,a++);if(o===s)return u}return-1}(e,t)},Df.prototype.findContainingBufferIndex=function(t){return function(t,n,e){if(0!==t.length){var i=0,r=t.length-1;if(1!==e(t[i],n)){if(1===e(n,t[r]))return r;for(;i!==r;){var u=d.ceil((i+r)/2);e(t[u],n)<=0?i=u:r=u-1}return i}}}(this.Do,t,Pf)},Df.prototype.join=function(){if(1===this.Ao.length)return this.Ao[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(Df.prototype,"length",{get:function(){return this.C},enumerable:!1,configurable:!0}),v.defineProperty(Df.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),Df.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var e=0,i=0;i<n;i++)e+=this.get(t+i)*d.pow(2,8*(n-i-1));return e},Df.prototype.slice=function(t,n){void 0===n&&(n=this.length);var e=Rf(t,0,this.length),i=Rf(n,0,this.length);if(e>i)return new Df;if(e===i)return new Df;for(var r=new Df,u=this.findContainingBufferIndex(e),o=this.Ao[u],s=e,a=s-this.Do[u];s+o.length-a<i;)r.pushRange(o,a,o.length-a),u+=1,a=(s+=o.length-a)-this.Do[u],o=this.Ao[u];var c=i-s;return r.pushRange(o,a,c),r},Df.prototype.trim=function(){if(0===this.length)return new Df;for(var t=this.length-1,n=this.Ao.length-1,e=this.Ao[n],i=e.length-1;t>=0&&n>=0&&0===e[i];){if(0===i){if(0===n)return new Df;n-=1,i=(e=this.Ao[n]).length-1}else i-=1;t-=1}return this.slice(0,t+1)},Df),Bf=function(){function t(n){this.Po=n||t.BUFFER_CHUNK_SIZE,this.Cn=!1,this.xo=new xf,this.No=new y(this.Po),this.Bo=0,this.Lo=0,this.Co=7}return t.prototype.closeByte=function(){this.No[this.Bo++]=this.Lo,this.Bo>=this.Po&&this.closeBuffer(),this.Lo=0,this.Co=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Bo&&(this.xo.pushRange(this.No,0,this.Bo),t&&(this.No=new y(this.Po)),this.Bo=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Co},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Cn)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Cn=!0,this.xo},t.prototype.writeBit=function(t){if(this.Cn)throw new f("Cannot write to a closed BitWriter.");this.Lo|=t<<this.Co,0===this.Co?this.closeByte():this.Co--},t.prototype.writeByte=function(t){if(this.Cn)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Lo=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Co;this.Lo|=Nf(t,n+1),this.closeByte(),this.Lo=Of(t,8-n)<<n+1,this.Co=n},t.prototype.writeBits=function(t){for(var n=0,e=t;n<e.length;n++){var i=e[n];this.writeBit(i)}},t.prototype.writeBytes=function(t){if(this.Cn)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Bo+t.length<=this.Po?(this.No.set(t,this.Bo),this.Bo+=t.length,this.Bo===this.Po&&this.closeBuffer()):(this.closeBuffer(),this.xo.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Co;this.Lo|=Nf(t[0],n+1),this.closeByte();for(var e=1;e<t.length;e++){var i=Of(t[e-1],8-n),r=Nf(t[e],n+1);this.Lo=i<<n+1|r,this.closeByte()}this.Lo=Of(t[t.length-1],8-n)<<n+1,this.Co=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var e=n-8;e>=0;e-=8)this.writeByte(t>>e&255);else for(e=n-1;e>=0;e--)this.writeBool((t&1<<e)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,e=0;e<n-1;e++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}(t),e=0;e<n.length;e++)this.writeByte(n[e])},t.BUFFER_CHUNK_SIZE=1024,t}();ki(),Vt();var Lf,Mf,Ff=((Lf=function(t){this.rb=new xf,this.ct=t}).prototype.closeWriter=function(){void 0!==this.ct&&(this.rb=this.rb.concat(this.ct.close()),this.ct=void 0)},v.defineProperty(Lf.prototype,"writer",{get:function(){return void 0===this.ct&&(this.ct=new Bf),this.ct},enumerable:!1,configurable:!0}),Lf.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},Lf.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},Lf),Uf=((Mf=function(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}).prototype.serializeCommonBoxHeader=function(t){var n=this.getSize(),e=n>=Mf.LARGE_SIZE/8,i=16===this.boxType.length;t.writeUInt(e?1:n,32),t.writeString(i?"uuid":this.boxType),e&&(t.writeUInt(d.floor(n/Mf.LARGE_SIZE),32),t.writeUInt(n%Mf.LARGE_SIZE,32)),i&&t.writeString(this.boxType)},Mf.prototype.getSize=function(){var t=8+(this.boxType.length>4?16:0),n=this.getBoxContentSize()+t;return n>=Mf.LARGE_SIZE/8&&(n+=8),n},Mf.prototype.serialize=function(){var t=new Ff;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},Mf.LARGE_SIZE=d.pow(2,32),Mf);function Vf(t,n){return t instanceof ru?64===n:t<d.pow(2,n)}function Hf(t,n){return d.round(t*d.pow(2,n))}function qf(t,n){for(var e=0;e<n.length;e++)t.writeByte(n[e])}function zf(t,n){return t/d.pow(2,n)}ki(),Vt();var Wf,jf,Gf=(Sf(jf=function(t,n,e){var i=Wf.call(this,t)||this;if(i.version=n,!Vf(n,8))throw new f("the provided version cannot fit in 8 bits.");return i.flags=e,i},Wf=Uf),v.defineProperty(jf.prototype,"flags",{get:function(){return this.Mo},set:function(t){this.Mo=t},enumerable:!1,configurable:!0}),jf.prototype.getBoxContentSize=function(){return 4},jf.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},jf.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},jf);ki(),Vt(),ki(),Vt();var Yf=function(t){var n=function(n,e){var i=t.call(this,n)||this;return i.data=e,i};return Sf(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(xf.from(this.data))},n}(Uf);ki(),Vt(),ki(),Vt();var Xf,$f=((Xf=function(t){void 0===t&&(t=0),this.offset=t}).prototype.shift=function(t){this.offset+=t},Xf.prototype.seek=function(t){this.offset=t},Xf.prototype.clone=function(){return new Xf(this.offset)},Xf);ki(),Vt();var Kf=16384;function Jf(t){var n=t.length;if(n<=Kf)return String.fromCharCode.apply(String,t);for(var e=[],i=0;i<n;i+=Kf)e.push(String.fromCharCode.apply(String,t.slice(i,i+Kf)));return e.join("")}var Zf,Qf=((Zf=function(t){this.raw=t}).prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},Zf);function th(t,n){var e=t.getUint8(n.offset);return n.shift(1),e}function nh(t,n,e){var i=ah(ch(t),n.offset,n.offset+e);return n.shift(i.byteLength),i}function eh(t,n,e){return n.offset+e<=t.byteLength}function ih(t,n,e){void 0===e&&(e=!1);var i=t.getUint32(n.offset,e);return n.shift(4),i}function rh(t,n,e){void 0===e&&(e=!1);var i=ih(t,n,e),r=ih(t,n,e),u=e?r:i,o=e?i:r;return ru.fromBits(o,u,!0)}function uh(t,n,e){var i,r=nh(t,n,e);return Jf((i=r,[].slice.call(i)))}function oh(t,n){var e,i=th(t,n);return 0==(128&i)?e=i:192==(224&i)?e=64*(31&i)+(63&th(t,n)):224==(240&i)?e=4096*(15&i)+64*(63&th(t,n))+(63&th(t,n)):240==(248&i)&&(e=262144*(7&i)+4096*(63&th(t,n))+64*(63&th(t,n))+(63&th(t,n))),e}function sh(t,n){return function(t,n,e){var i=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=oh(t,n);if(void 0===r)break;if(e&&0===r)break;i.push(r)}return function(t){for(var n=[],e=0,i=t;e<i.length;e++){var r=i[e];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Jf(n)}(i)}(t,n,!0)}function ah(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),new y(t.buffer,t.byteOffset+n,e-n)}function ch(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var fh,hh=((fh=function(t){void 0===t&&(t=0),this.offset=t}).prototype.shift=function(t){this.offset+=t},fh.prototype.seek=function(t){this.offset=t},fh.prototype.clone=function(){return new fh(this.offset)},fh.prototype.toBit=function(){return new $f(this.offset<<3)},fh);ki(),Vt();var vh,dh=((vh=function(t,n){this.data=t,this.cursor=n}).prototype.nextUint8=function(){return th(this.data,this.cursor)},vh.prototype.nextUint16=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getUint16(n.offset,e);return n.shift(2),i}(this.data,this.cursor)},vh.prototype.nextInt16=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt16(n.offset,e);return n.shift(2),i}(this.data,this.cursor)},vh.prototype.nextUint32=function(){return ih(this.data,this.cursor)},vh.prototype.nextInt32=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt32(n.offset,e);return n.shift(4),i}(this.data,this.cursor)},vh.prototype.nextInt64=function(){return function(t,n,e){void 0===e&&(e=!1);var i=ih(t,n,e),r=ih(t,n,e),u=e?r:i,o=e?i:r;return ru.fromBits(o,u,!1)}(this.data,this.cursor)},vh.prototype.nextUint64=function(){return rh(this.data,this.cursor)},vh.prototype.nextUint8Array=function(t){return nh(this.data,this.cursor,t)},vh.prototype.nextUint32Array=function(t){return function(t,n,e){for(var i=[],r=0;r<e;r++)i.push(ih(t,n));return i}(this.data,this.cursor,t)},vh.prototype.nextChars=function(t){return uh(this.data,this.cursor,t)},vh.prototype.nextUTF8String=function(){return sh(this.data,this.cursor)},vh.prototype.skip=function(t){this.cursor.shift(t)},vh.prototype.clone=function(){return new vh(this.data,this.cursor.clone())},vh);function lh(t,n){return t.type===n}function wh(t){var n=function(t,n){var e=[];for(;n.offset<t.byteLength;){var i=gh(t,n);if(!i.complete)return{complete:!1,boxes:e};e.push(i.box)}return{complete:!0,boxes:e}}(t.data,t.cursor);if(!n.complete)throw new f("Data incomplete");return n.boxes}function gh(t,n){var e=n.offset,i=function(t,n){var e=n.offset;if(!eh(t,n,8)){return{complete:!1,neededOffset:u=n.offset+8}}var i=ih(t,n),r=uh(t,n,4);if(1===i){if(!eh(t,n,8)){var u=n.offset+8;return n.seek(e),{complete:!1,neededOffset:u}}i=rh(t,n).toNumber()}if("uuid"===r){if(!eh(t,n,16)){u=n.offset+16;return n.seek(e),{complete:!1,neededOffset:u}}r=uh(t,n,16)}var o=n.offset;return{complete:!0,header:{type:r,size:i,headerSize:o-e}}}(t,n);if(!i.complete)return i;var r=i.header,u=r.size;0===u&&(u=t.byteLength-e);var o=e+u;if(o>t.byteLength){var s=o;return n.seek(e),{complete:!1,neededOffset:s}}var a,c,f,h={type:r.type,offset:e,data:new dh((a=t,c=e,f=o,void 0===c&&(c=0),void 0===f&&(f=a.byteLength),new DataView(a.buffer,a.byteOffset+c,f-c)),new hh(r.headerSize))};return n.seek(o),{complete:!0,box:h}}function yh(t){return{version:t>>24,flags:new Qf(16777215&t)}}function mh(t,n){var e,i,r,u;return 1===n?(e=t.nextUint64(),i=t.nextUint64(),r=t.nextUint32(),u=t.nextUint64()):(e=t.nextUint32(),i=t.nextUint32(),r=t.nextUint32(),u=t.nextUint32()),{creation:e,modification:i,scale:r,duration:u}}function _h(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function ph(t){var n=t.nextUint32Array(9);return{a:zf(n[0],16),b:zf(n[1],16),u:zf(n[2],30),c:zf(n[3],16),d:zf(n[4],16),v:zf(n[5],30),x:zf(n[6],16),y:zf(n[7],16),w:zf(n[8],30)}}function bh(t){return new Yf(t.type,ah(ch(t.data.data),t.data.cursor.offset))}var kh=function(t){var n=function(n,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",i,r)||this;return u.name=e,u.handlerType=n,u};return Sf(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.Fo},set:function(t){this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(e=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==e?e:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Gf);function Th(t){var n=t.data,e=yh(n.nextUint32()),i=e.version,r=e.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var o=n.nextUTF8String();return new kh(u,o,i,r.raw)}!function(t){var n=function(){return t.call(this,"mdir")||this};Sf(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(kh);ki(),Vt(),ki(),Vt(),ki(),Vt();var Sh,Eh=((Sh=function(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}).prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(Sh.prototype,"tag",{get:function(){return this.Uo},set:function(t){if(!Vf(t,8))throw new f("Provided tag does not fit in 8 bits.");this.Uo=t},enumerable:!1,configurable:!0}),Sh.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},Sh.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,e=this.encodeSize(this.getDescriptorSize());n<e.length;n++){var i=e[n];t.writer.writeByte(i)}this.serializeDescriptorContent(t)},Sh);ki(),Vt();!function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s={});var a=t.call(this,4,s.fixed28BitMode)||this;return a.upStream=i,a.decoderSpecificInfo=o,a.objectTypeIndication=n,a.streamType=e,a.bufferSizeDb=r,a.maxBitrate=u.max,a.avgBitrate=u.avg,a};Sf(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Vo},set:function(t){if(!Vf(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.Vo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.Ho},set:function(t){if(!Vf(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.Ho=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.qo},set:function(t){if(!Vf(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.qo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.zo},set:function(t){if(!Vf(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Wo},set:function(t){if(!Vf(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,e=this.decoderSpecificInfo;n<e.length;n++){e[n].serialize(t)}}}(Eh);ki(),Vt();!function(t){var n=function(n,e){void 0===e&&(e={});var i=t.call(this,5,e.fixed28BitMode)||this;return i.data=n,i};Sf(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(xf.from(this.data))}}(Eh);ki(),Vt(),ki(),Vt();var Ih=function(t){var n=function(n){void 0===n&&(n=!1);var e=t.call(this,6,n)||this;return e.predefined=2,e};return Sf(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Eh);!function(t){var n=function(n,e,i,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=i,u.esId=n,u.streamPriority=e,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Ih(r.fixed28BitMode),u};Sf(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.jo},set:function(t){if(!Vf(t,16))throw new f("Provided esId does not fit in 16 bits.");this.jo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Go},set:function(t){if(!Vf(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.Go=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Yo},set:function(t){if(t&&!Vf(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.Yo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Xo},set:function(t){if(t&&!Vf(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Eh);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Rh=function(t){var n=function(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n};return Sf(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),e=0,i=this.boxes;e<i.length;e++){var r=i[e];n=n.concat(r.serialize())}return n},n}(Uf),Nh=function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};return Sf(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Rh),Oh=function(t){var n=function(n,e){var i=t.call(this,n)||this;return i.dataReferenceIndex=e,i};return Sf(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.$o},set:function(t){if(!Vf(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.$o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Nh),Ch=function(t){var n=function(n,e,i,r){var u,o,s=this;return(s=t.call(this,n,e)||this).extra=r,s.channelCount=null!==(u=i.channelCount)&&void 0!==u?u:2,s.sampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:16,s.sampleRate=i.sampleRate,s};return Sf(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.Ko},set:function(t){if(!Vf(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.Ko=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Jo},set:function(t){if(!Vf(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.Jo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Zo},set:function(t){if(!Vf(Hf(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.Zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(e=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(Hf(this.sampleRate,16),32),this.extra&&qf(n.writer,this.extra)},n}(Oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stco",0,0)||this;return e.entries=n,e};Sf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Qo},set:function(t){if(!Vf(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Vf(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}}(Gf);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"clap")||this;return e.cleanApertureWidthN=n.cleanApertureWidthN,e.cleanApertureWidthD=n.cleanApertureWidthD,e.cleanApertureHeightN=n.cleanApertureHeightN,e.cleanApertureHeightD=n.cleanApertureHeightD,e.horizOffN=n.horizOffN,e.horizOffD=n.horizOffD,e.vertOffN=n.vertOffN,e.vertOffD=n.vertOffD,e};Sf(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.ts},set:function(t){if(!Vf(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.es},set:function(t){if(!Vf(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.rs},set:function(t){if(!Vf(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.us},set:function(t){if(!Vf(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.os},set:function(t){if(!Vf(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.ss},set:function(t){if(!Vf(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.cs},set:function(t){if(!Vf(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.fs},set:function(t){if(!Vf(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Uf);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"ctts",n,0)||this;return i.entries=e,i};Sf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Qo},set:function(t){if(!Vf(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Vf(t.sampleCount,32)||!Vf(t.sampleOffset,32)})))throw new f("Not all entries can be represented in 64 bits.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(Gf);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"url ",0,void 0===n?1:0)||this;return e.location=n,e};Sf(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.hs},set:function(t){this.flags=void 0===t?1:0,this.hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Gf);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"urn ",0,i)||this;return r.name=n,r.location=e,r};Sf(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.hs},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Gf);ki(),Vt();!function(t){var n=function(){return t.call(this,"dinf")||this};Sf(n,t)}(Nh);ki(),Vt(),ki(),Vt();var Ah=function(t){var n=function(n,e,i){var r=t.call(this,n)||this;if(r.version=e,!Vf(e,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=i,r};return Sf(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Mo},set:function(t){this.Mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Rh);!function(t){var n=function(){return t.call(this,"dref",0,0)||this};Sf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Ah);ki(),Vt(),ki(),Vt();var Dh=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"elst",e,i)||this;return r.entries=n,r};return Sf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Qo},set:function(t){for(var n=0,e=t;n<e.length;n++){var i=e[n];if(!Vf(i.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Vf(i.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Vf(i.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(i.mediaRateFraction&&!Vf(i.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Gf),Ph=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Sf(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,e=0,i=this.entries;e<i.length;e++){var r=i[e];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Dh),xh=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Sf(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,e=0,i=this.entries;e<i.length;e++){var r=i[e];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Dh);function Bh(t){for(var n=t.data,e=yh(n.nextUint32()),i=e.version,r=e.flags,u=n.nextUint32(),o=[],s=0;s<u;s++){var a=void 0,c=void 0;0===i?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var f=n.nextInt16(),h=n.nextInt16();o.push({segmentDuration:a,mediaTime:c,mediaRateFraction:h,mediaRateInteger:f})}return 0===i?new Ph(o,r.raw):new xh(o,r.raw)}var Lh=function(t){var n=function(){return t.call(this,"edts")||this};return Sf(n,t),n}(Nh);function Mh(t){for(var n=new Lh,e=0,i=wh(t.data);e<i.length;e++){var r=i[e];lh(r,"elst")?n.boxes.push(Bh(r)):n.boxes.push(bh(r))}return n}ki(),Vt(),ki(),Vt();var Fh=function(t){var n=function(n,e,i,r){var u=t.call(this,n)||this;return u.majorBrand=e,u.minorVersion=i,u.compatibleBrands=r,u};return Sf(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.vs},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.ds},set:function(t){if(!Vf(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.ls},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.ls=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,e=this.compatibleBrands;n<e.length;n++){var i=e[n];t.writer.writeString(i)}},n}(Uf);!function(t){var n=function(n,e,i){return t.call(this,"ftyp",n,e,i)||this};Sf(n,t)}(Fh);ki(),Vt();!function(t){var n=function(n,e){void 0===e&&(e="free");var i=t.call(this,e)||this;return i.data=n,i};Sf(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(xf.from(this.data))}}(Uf);ki(),Vt(),ki(),Vt();var Uh=function(t){var n=function(n,e,i,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",i,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=e,u};return Sf(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.gs},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ys},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this._s},set:function(t){if(!Vf(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.ps},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.bs},set:function(t){if(!zh(t))throw new f("Expected an ISO-639-2/T language code");this.bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var e=0,i=this.language;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Gf),Vh=function(t){var n=function(n,e,i){return void 0===i&&(i=0),t.call(this,n,e,0,i)||this};return Sf(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Uh),Hh=function(t){var n=function(n,e,i){return void 0===i&&(i=0),t.call(this,n,e,1,i)||this};return Sf(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Uh);function qh(t){var n=t.data,e=yh(n.nextUint32()),i=e.version,r=e.flags,u=mh(n,i),o=new Af(xf.from(n.nextUint8Array(2)));o.skipBits(1);for(var s=[],a=0;a<3;a++)s.push(o.readUInt(5));var c=s.map((function(t){return String.fromCharCode(t+96)})).join("");return zh(c)||(c="und"),n.skip(2),0===i?new Vh(u,c,r.raw):new Hh(u,c,r.raw)}function zh(t){return/^[a-z]{3}$/.test(t)}var Wh=function(t){var n=function(){return t.call(this,"mdia")||this};return Sf(n,t),n}(Nh);function jh(t){for(var n=new Wh,e=0,i=wh(t.data);e<i.length;e++){var r=i[e];lh(r,"mdhd")?n.boxes.push(qh(r)):lh(r,"hdlr")?n.boxes.push(Th(r)):n.boxes.push(bh(r))}return n}ki(),Vt();!function(t){var n=function(){var n=t.call(this,"mdat")||this;return n.data=new xf,n};Sf(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(Uf);ki(),Vt();!function(t){var n=function(){return t.call(this,"minf")||this};Sf(n,t)}(Nh);ki(),Vt();var Gh,Yh;!function(t){var n=function(n){var e=t.call(this,"meta",0,0)||this;return e.handler=n,e};Sf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Ah);ki(),Vt(),ki(),Vt(),(Yh=Gh||(Gh={})).VIDEO="vide",Yh.AUXILIARY_VIDEO="auxv",Yh.AUDIO="soun",Yh.METADATA="meta",Yh.HINT="hint",Yh.TEXT="text",Yh.SUBTITLE="subt",Yh.FONT="fdsm",ki(),Vt();var Xh,$h,Kh,Jh,Zh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Qh(t,n){n.writer.writeUInt(Hf(t.a,16),32),n.writer.writeUInt(Hf(t.b,16),32),n.writer.writeUInt(Hf(0,30),32),n.writer.writeUInt(Hf(t.c,16),32),n.writer.writeUInt(Hf(t.d,16),32),n.writer.writeUInt(Hf(0,30),32),n.writer.writeUInt(Hf(t.x,16),32),n.writer.writeUInt(Hf(t.y,16),32),n.writer.writeUInt(Hf(1,30),32)}function tv(t,n){var e,i,r,u;n.writer.writeUInt(null!==(e=t.isLeading)&&void 0!==e?e:Xh.UNKNOWN,2),n.writer.writeUInt(null!==(i=t.sampleDependsOn)&&void 0!==i?i:Kh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Kh.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Kh.UNKNOWN,2)}function nv(t,n){var e,i,r;n.writer.writeUInt(0,4),tv(t,n),n.writer.writeUInt(null!==(e=t.samplePaddingValue)&&void 0!==e?e:0,3),n.writer.writeBool(null!==(i=t.sampleIsNonSyncSample)&&void 0!==i&&i),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}ki(),Vt(),($h=Xh||(Xh={}))[$h.UNKNOWN=0]="UNKNOWN",$h[$h.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",$h[$h.NO=2]="NO",$h[$h.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY",(Jh=Kh||(Kh={}))[Jh.UNKNOWN=0]="UNKNOWN",Jh[Jh.YES=1]="YES",Jh[Jh.NO=2]="NO",Jh[Jh.RESERVED=3]="RESERVED",ki(),Vt(),ki(),Vt();var ev=function(){};ki(),Vt(),ki(),Vt(),ki(),Vt();var iv=function(t){var n=function(n,e,i){var r=t.call(this,"pssh",n,0)||this;return r.systemId=e,r.data=i,r};return Sf(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.ks},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.B},set:function(t){if(!Vf(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.B=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(xf.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(xf.from(this.data))},n}(Gf),rv=function(t){var n=function(n,e){return t.call(this,0,n,e)||this};return Sf(n,t),n}(iv),uv=function(t){var n=function(n,e,i){var r=t.call(this,1,n,e)||this;return r.kIds=i,r};return Sf(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.Ts},set:function(t){if(!Vf(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new f("Not all provided key ids are 16 bytes long.");this.Ts=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,e=this.kIds;n<e.length;n++){var i=e[n];t.concat(xf.from(i))}},n}(iv);function ov(t){var n=t.data.nextUint8();t.data.skip(3);var e=t.data.nextUint8Array(16),i=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)i.push(t.data.nextUint8Array(16));var o=t.data.nextUint32(),s=t.data.nextUint8Array(o);return 1===n?new uv(e,s,i):new rv(e,s)}ki(),Vt(),ki(),Vt();var sv=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"mehd",e,i)||this;return r.fragmentDuration=n,r};return Sf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ss},set:function(t){if(!Vf(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ss=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Gf),av=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Sf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(sv),cv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Sf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(sv);function fv(t){var n=t.data,e=yh(n.nextUint32()),i=e.version,r=e.flags;return 0===i?new av(n.nextUint32(),r.raw):new cv(n.nextUint64(),r.raw)}ki(),Vt();var hv=function(t){var n=function(n,e,i,r){void 0===e&&(e={}),void 0===i&&(i=0),void 0===r&&(r=0);var u,o,s,a=this;return(a=t.call(this,"trex",i,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==e?void 0:e.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(o=e.sampleDuration)&&void 0!==o?o:0,a.defaultSampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:0,a.defaultSampleFlags=e.sampleFlags,a};return Sf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Es},set:function(t){if(!Vf(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Is},set:function(t){if(!Vf(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Rs},set:function(t){if(!Vf(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.Rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ns},set:function(t){if(!Vf(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Os},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Vf(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Vf(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Os=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var e;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),nv(null!==(e=this.defaultSampleFlags)&&void 0!==e?e:{},n)},n}(Gf);function vv(t){var n=t.data,e=yh(n.nextUint32()),i=e.version,r=e.flags,u=n.nextUint32(),o=n.nextUint32(),s=n.nextUint32(),a=n.nextUint32(),c=_h(new Af(xf.from(n.nextUint8Array(4))));return new hv(u,{sampleDescriptionIndex:o,sampleDuration:s,sampleSize:a,sampleFlags:c},i,r.raw)}var dv=function(t){var n=function(){return t.call(this,"mvex")||this};return Sf(n,t),n}(Nh);function lv(t){for(var n=new dv,e=0,i=wh(t.data);e<i.length;e++){var r=i[e];lh(r,"mehd")?n.boxes.push(fv(r)):lh(r,"trex")?n.boxes.push(vv(r)):n.boxes.push(bh(r))}return n}ki(),Vt();var wv=function(t){function n(e,i,r,u,o){void 0===o&&(o=0);var s,a,c,f=this;return(f=t.call(this,"mvhd",u,o)||this).creationTime=e.creation,f.modificationTime=e.modification,f.timescale=e.scale,f.duration=e.duration,f.rate=null!==(s=r.rate)&&void 0!==s?s:n.DEFAULT_RATE,f.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,f.matrix=null!==(c=r.matrix)&&void 0!==c?c:Zh,f.Cs=i,f}return Sf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.gs},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ys},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this._s},set:function(t){if(!Vf(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.ps},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.As},set:function(t){if(!Vf(Hf(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Ds},set:function(t){if(!Vf(Hf(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Ps},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Cs},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!Vf(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(Hf(this.rate,16),32),n.writer.writeUInt(Hf(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Qh(this.matrix,n);for(var e=0;e<6;e++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Gf),gv=function(t){var n=function(n,e,i,r){return void 0===i&&(i={}),void 0===r&&(r=0),t.call(this,n,e,i,0,r)||this};return Sf(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(wv),yv=function(t){var n=function(n,e,i,r){return void 0===i&&(i={}),void 0===r&&(r=0),t.call(this,n,e,i,1,r)||this};return Sf(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(wv);function mv(t){var n=t.data,e=yh(n.nextUint32()),i=e.version,r=e.flags,u=mh(n,i),o=zf(n.nextUint32(),16),s=zf(n.nextUint16(),8);n.skip(2),n.skip(8);var a=ph(n);n.skip(24);var c=n.nextUint32();return 0===i?new gv(u,c,{rate:o,volume:s,matrix:a},r.raw):new yv(u,c,{rate:o,volume:s,matrix:a},r.raw)}ki(),Vt(),ki(),Vt();var _v=function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s={});var a,c,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,e,i,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(e=null==t?void 0:t.trackInMovie)||void 0===e||e,trackInPreview:null===(i=null==t?void 0:t.trackInPreview)||void 0===i||i,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(s))||this).creationTime=e.creation,h.modificationTime=e.modification,h.trackId=i,h.duration=e.duration,h.volume=r,h.width=u,h.height=o,h.layer=null!==(a=s.layer)&&void 0!==a?a:0,h.alternateGroup=null!==(c=s.alternateGroup)&&void 0!==c?c:0,h.matrix=null!==(f=s.matrix)&&void 0!==f?f:Zh,h};return Sf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.gs},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ys},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Es},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!Vf(t,32))throw new f("trackId cannot exceed 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.ps},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Ds},set:function(t){if(!Vf(Hf(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.xs},set:function(t){if(!Vf(Hf(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Bs},set:function(t){if(!Vf(Hf(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.Ls},set:function(t){if(!Vf(t,16))throw new f("Provided layer does not fit in 16 bits.");this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Ms},set:function(t){if(!Vf(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Ps},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Ps=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(Hf(this.volume,8),16),n.writer.writeUInt(0,16),Qh(this.matrix,n),n.writer.writeUInt(Hf(this.width,16),32),n.writer.writeUInt(Hf(this.height,16),32)},n}(Gf),pv=function(t){var n=function(n,e,i,r,u,o){return t.call(this,0,n,e,i,r,u,o)||this};return Sf(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(_v),bv=function(t){var n=function(n,e,i,r,u,o){return t.call(this,1,n,e,i,r,u,o)||this};return Sf(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(_v);function kv(t){var n,e,i,r,u=t.data,o=yh(u.nextUint32()),s=o.version,a=o.flags,c=a.isSet(8),f=a.isSet(4),h=a.isSet(2),v=a.isSet(1);0===s?(n=u.nextUint32(),e=u.nextUint32(),i=u.nextUint32(),u.skip(4),r=u.nextUint32()):(n=u.nextUint64(),e=u.nextUint64(),i=u.nextUint32(),u.skip(4),r=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),w=zf(u.nextInt16(),8);u.skip(2);var g=ph(u),y=zf(u.nextUint32(),16),m=zf(u.nextUint32(),16);return 0===s?new pv({creation:n,modification:e,duration:r},i,w,y,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:f,trackInMovie:h}):new bv({creation:n,modification:e,duration:r},i,w,y,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:f,trackInMovie:h})}var Tv=function(t){var n=function(){return t.call(this,"trak")||this};return Sf(n,t),n}(Nh);function Sv(t){for(var n=new Tv,e=0,i=wh(t.data);e<i.length;e++){var r=i[e];lh(r,"tkhd")?n.boxes.push(kv(r)):lh(r,"mdia")?n.boxes.push(jh(r)):lh(r,"edts")?n.boxes.push(Mh(r)):n.boxes.push(bh(r))}return n}var Ev=function(t){var n=function(){return t.call(this,"moov")||this};return Sf(n,t),n}(Nh);ki(),Vt(),ki(),Vt(),ki(),Vt();var Iv=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"tfdt",e,i)||this;return r.baseMediaDecodeTime=n,r};return Sf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Fs},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Gf),Rv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Sf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Iv),Nv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Sf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Iv);function Ov(t){var n=t.data,e=yh(n.nextUint32()),i=e.version,r=e.flags;return 0===i?new Rv(n.nextUint32(),r.raw):new Nv(n.nextUint64(),r.raw)}ki(),Vt();var Cv=function(t){var n=function(n,e){void 0===e&&(e=0);var i=t.call(this,"tfhd",e,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return i.trackId=n.trackId,i.baseDataOffset=n.baseDataOffset,i.sampleDescriptionIndex=n.sampleDescriptionIndex,i.defaultSampleDuration=n.defaultSampleDuration,i.defaultSampleSize=n.defaultSampleSize,i.defaultSampleFlags=n.defaultSampleFlags,i};return Sf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Es},set:function(t){if(!Vf(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Us},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!Vf(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Vs},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!Vf(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Rs},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!Vf(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.Rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ns},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!Vf(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Os},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!Vf(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Vf(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Os=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&nv(this.defaultSampleFlags,n)},n}(Gf);function Av(t){var n=t.data,e=n.nextUint8(),i=new Af(xf.from(n.nextUint8Array(3)));i.skipBits(6);var r=Boolean(i.readBit()),u=Boolean(i.readBit());i.skipBits(10);var o=Boolean(i.readBit()),s=Boolean(i.readBit()),a=Boolean(i.readBit());i.skipBits(1);var c=Boolean(i.readBit()),f=Boolean(i.readBit()),h=n.nextUint32(),v=f?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=a?n.nextUint32():void 0,w=s?n.nextUint32():void 0,g=o?_h(new Af(xf.from(n.nextUint8Array(4)))):void 0;return new Cv({trackId:h,defaultBaseIsMoof:r,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:w,defaultSampleFlags:g},e)}ki(),Vt();var Dv=function(t){var n=function(n,e,i){var r=t.call(this,"trun",n,function(t){var n,e,i,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(e=t.sampleSizePresent)&&void 0!==e&&e,sampleFlagsPresent:null!==(i=t.sampleFlagsPresent)&&void 0!==i&&i,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(e))||this;return r.dataOffset=e.dataOffset,r.samples=i,r.firstSampleFlags=e.firstSampleFlags,r};return Sf(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Hs},set:function(t){if(t&&!Vf(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.Hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.qs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Vf(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Vf(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.zs},set:function(t){var n,e;if(!Vf(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var i=0,r=t;i<r.length;i++){var u=r[i];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!Vf(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!Vf(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!Vf(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(e=u.flags)||void 0===e?void 0:e.sampleDegradationPriority)&&!Vf(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!Vf(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.zs=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&nv(this.firstSampleFlags,n);for(var e=0,i=this.samples;e<i.length;e++){var r=i[e];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&nv(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(Gf);function Pv(t){var n=t.data,e=n.nextUint8(),i=new Af(xf.from(n.nextUint8Array(3)));i.skipBits(12);var r=Boolean(i.readBit()),u=Boolean(i.readBit()),o=Boolean(i.readBit()),s=Boolean(i.readBit());i.skipBits(5);var a=Boolean(i.readBit());i.skipBits(1);var c=Boolean(i.readBit()),f=n.nextUint32(),h={sampleDurationPresent:s,sampleSizePresent:o,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:r};c&&(h.dataOffset=n.nextInt32()),a&&(h.firstSampleFlags=_h(new Af(xf.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<f;d++){var l={};s&&(l.duration=n.nextUint32()),o&&(l.size=n.nextUint32()),u&&(l.flags=_h(new Af(xf.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===e?n.nextUint32():n.nextInt32()),v.push(l)}return new Dv(e,h,v)}var xv=function(t){var n=function(){return t.call(this,"traf")||this};return Sf(n,t),n}(Nh);function Bv(t){for(var n=new xv,e=0,i=wh(t.data);e<i.length;e++){var r=i[e];lh(r,"tfhd")?n.boxes.push(Av(r)):lh(r,"tfdt")?n.boxes.push(Ov(r)):lh(r,"trun")?n.boxes.push(Pv(r)):n.boxes.push(bh(r))}return n}var Lv=function(t){var n=function(){return t.call(this,"moof")||this};return Sf(n,t),n}(Nh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"mfhd",0,0)||this;return e.sequenceNumber=n,e};Sf(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Ws},set:function(t){if(!Vf(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Gf);ki(),Vt();var Mv=function(t){var n=function(n){var e=t.call(this,"frma")||this;return e.codingName=n,e};return Sf(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.js},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.js=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Uf);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"pasp")||this;return i.hSpacing=n,i.vSpacing=e,i};Sf(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Gs},set:function(t){if(!Vf(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Ys},set:function(t){if(!Vf(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.Ys=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Uf);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,n)||this;return r.sample=e,r.sinf=i,r};Sf(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Nh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"sinf")||this;return r.schm=e,r.schi=i,r.frma=new Mv(n),r};Sf(n,t),n.prototype.getBoxContentSize=function(){var t,n,e,i;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(i=null===(e=this.schi)||void 0===e?void 0:e.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Uf);ki(),Vt();var Fv=function(t){var n=function(n,e,i){var r=t.call(this,"saio",n,void 0===i?0:1)||this;return r.entries=e,r.explicitAuxInfoType=i,r};return Sf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Qo},set:function(t){var n=this;if(!Vf(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!Vf(t,n.bitSize)})))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Qo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Xs},set:function(t){if(void 0===t)this.flags=0;else{if(!Vf(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!Vf(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Gf);(function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Sf(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,e=this.entries;n<e.length;n++){var i=e[n];t.writer.writeUInt(i,32)}}})(Fv),function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Sf(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,e=this.entries;n<e.length;n++){var i=e[n];t.writer.writeUInt(i.getHighBitsUnsigned(),32),t.writer.writeUInt(i.getLowBitsUnsigned(),32)}}}(Fv);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"saiz",0,void 0===i?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=e,r.explicitAuxInfoType=i,r};Sf(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.$s},set:function(t){if(!Vf(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Ks},set:function(t){if(!Vf(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!Vf(t,8)})))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Xs},set:function(t){if(void 0===t)this.flags=0;else{if(!Vf(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!Vf(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var e=0,i=this.sampleInfoSizes;e<i.length;e++){var r=i[e];n.writer.writeByte(r)}}}(Gf);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"sdtp",0,0)||this;return e.samples=n,e};Sf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var e=0,i=this.samples;e<i.length;e++){tv(i[e],n)}}}(Gf);ki(),Vt();!function(t){var n=function(n){return t.call(this,"stsd",n,0)||this};Sf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Ah);ki(),Vt();var Uv=function(t){var n=function(n,e,i){var r=t.call(this,"sgpd",n,0)||this;return r.entries=i,r.groupingType=e,r};return Sf(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.Js},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.Js=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Gf);(function(t){var n=function(n,e){return t.call(this,0,n,e)||this};Sf(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(Uv),function(t){var n=function(n,e,i){var r=t.call(this,1,n,i)||this;return r.defaultLength=e,r};Sf(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Zs},set:function(t){if(!Vf(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Uv),function(t){var n=function(n,e,i,r){void 0===r&&(r=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,e,i)||this).defaultSampleDescriptionIndex=r,u};Sf(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Is},set:function(t){if(!Vf(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Is=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Uv);ki(),Vt();(function(t){var n=function(n){void 0===n&&(n=[]);var e=t.call(this,"stsz",0,0)||this;return e.sampleSizes=n,e};Sf(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Qs},set:function(t){if(!Vf(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!Vf(t,32)})))throw new f("Not all sampleSizes can be represented in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var e=0,i=this.sampleSizes;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}})(Gf),function(t){var n=function(n,e){void 0===n&&(n=0),void 0===e&&(e=0);var i=t.call(this,"stsz",0,0)||this;return i.defaultSampleSize=n,i.samples=e,i};Sf(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ns},set:function(t){if(!Vf(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.zs},set:function(t){if(!Vf(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Gf);ki(),Vt();!function(t){var n=function(){return t.call(this,"stbl")||this};Sf(n,t)}(Nh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stsc",0,0)||this;return e.entries=n,e};Sf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Qo},set:function(t){if(!Vf(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Vf(t.firstChunk,32)||!Vf(t.sampleDescriptionIndex,32)||!Vf(t.samplesPerChunk,32)})))throw new f("Not all entries can be represented in 96 bits.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(Gf);ki(),Vt();!function(t){var n=function(){return t.call(this,"schi")||this};Sf(n,t)}(Nh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"schm",0,void 0===i?0:1)||this;return r.schemeType=n,r.schemeVersion=e,r.schemeUri=i,r};Sf(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.ta},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.ta=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.na},set:function(t){if(!Vf(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.na=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.ea},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Gf);ki(),Vt();var Vv=function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s=0);var a=t.call(this,"sidx",n,s)||this;return a.referenceId=e,a.timescale=i,a.earliestPresentationTime=r,a.firstOffset=u,a.references=o,a};return Sf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.ia},set:function(t){if(!Vf(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.ia=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this._s},set:function(t){if(!Vf(t,32))throw new f("Provided timescale does not fit in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.ra},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.ra=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ua},set:function(t){if(!Vf(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this.oa},set:function(t){if(!Vf(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,e=t;n<e.length;n++){var i=e[n];if(!Vf(i.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!Vf(i.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!Vf(i.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!Vf(i.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.oa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var e=0,i=this.references;e<i.length;e++){var r=i[e];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(Gf),Hv=function(t){var n=function(n,e,i,r,u,o){return void 0===o&&(o=0),t.call(this,0,n,e,i,r,u,o)||this};return Sf(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(Vv),qv=function(t){var n=function(n,e,i,r,u,o){return void 0===o&&(o=0),t.call(this,1,n,e,i,r,u,o)||this};return Sf(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(Vv);ki(),Vt();!function(t){var n=function(n,e,i){return t.call(this,"styp",n,e,i)||this};Sf(n,t)}(Fh);ki(),Vt();!function(t){var n=function(n){void 0===n&&(n=0);var e=t.call(this,"smhd",0,0)||this;return e.balance=n,e};Sf(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.sa},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!Vf(Hf(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(Hf(this.balance,8),16),n.writer.writeUInt(0,16)}}(Gf);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stss",0,0)||this;return e.entries=n,e};Sf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Qo},set:function(t){if(!Vf(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Vf(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}}(Gf);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stts",0,0)||this;return e.entries=n,e};Sf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Qo},set:function(t){if(!Vf(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Vf(t.sampleCount,32)||!Vf(t.sampleDelta,32)})))throw new f("Not all entries can be represented in 64 bits.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(Gf);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"trep",0,0)||this;return e.trackId=n,e};Sf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Es},set:function(t){if(!Vf(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Ah);ki(),Vt();!function(t){var n=function(){return t.call(this,"udta")||this};Sf(n,t)}(Nh);ki(),Vt();var zv={red:0,green:0,blue:0};!function(t){var n=function(n,e){void 0===n&&(n=0),void 0===e&&(e=zv);var i=t.call(this,"vmhd",0,1)||this;return i.graphicsMode=n,i.opColor=e,i};Sf(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.aa},set:function(t){if(!Vf(t.red,16)||!Vf(t.green,16)||!Vf(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.aa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Gf);ki(),Vt();var Wv=function(t){var n=function(n,e,i,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var o,s,a,c,f,h=this;return(h=t.call(this,n,e)||this).width=i.width,h.height=i.height,h.horizontalResolution=null!==(o=i.horizontal)&&void 0!==o?o:72,h.verticalResolution=null!==(s=i.vertical)&&void 0!==s?s:72,h.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",h.frameCount=null!==(c=r.frameCount)&&void 0!==c?c:1,h.depth=null!==(f=r.depth)&&void 0!==f?f:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h};return Sf(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.xs},set:function(t){if(!Vf(t,16))throw new f("Provided width does not fit in 16 bits.");this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Bs},set:function(t){if(!Vf(t,16))throw new f("Provided height does not fit in 16 bits.");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.ca},set:function(t){if(!Vf(Hf(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.ca=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.fa},set:function(t){if(!Vf(Hf(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.fa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.ha},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.ha=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.va},set:function(t){if(!Vf(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.va=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.da},set:function(t){if(!Vf(t,16))throw new f("Provided depth does not fit in 16 bits.");this.da=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,e,i,r,u,o;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(e=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==e?e:0)+(null!==(r=null===(i=this.pasp)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)+(null!==(o=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==o?o:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(Hf(this.horizontalResolution,16),32),n.writer.writeUInt(Hf(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var e=0;e<31-this.compressorName.length;e++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&qf(n.writer,this.extra)},n}(Oh);ki(),Vt(),ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"esds",0,0)||this;return e.esDescriptor=n,e};Sf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(xf.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Gf);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"mp4a",n,i)||this;return r.esd=e,r};Sf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Ch);ki(),Vt();!function(t){var n=function(n,e,i,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,e,r)||this;return u.esDescriptor=i,u};Sf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Wv);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"mp4s",n)||this;return i.esDescriptor=e,i};Sf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Oh);ki(),Vt(),ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"avcC")||this;return e.decoderConfig=n,e};Sf(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Uf);ki(),Vt();var jv;jv=function(t,n,e,i,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=e,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=i,this.ppsSets=r},v.defineProperty(jv.prototype,"version",{get:function(){return this.la},set:function(t){if(!Vf(t,8))throw new f("Provided version does not fit in 8 bits.");this.la=t},enumerable:!1,configurable:!0}),v.defineProperty(jv.prototype,"profileIndication",{get:function(){return this.wa},set:function(t){if(!Vf(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.wa=t},enumerable:!1,configurable:!0}),v.defineProperty(jv.prototype,"profileCompatibility",{get:function(){return this.ga},set:function(t){if(!Vf(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.ga=t},enumerable:!1,configurable:!0}),v.defineProperty(jv.prototype,"levelIndication",{get:function(){return this.ya},set:function(t){if(!Vf(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.ya=t},enumerable:!1,configurable:!0}),v.defineProperty(jv.prototype,"spsSets",{get:function(){return this.ma},set:function(t){if(!Vf(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.ma=t},enumerable:!1,configurable:!0}),v.defineProperty(jv.prototype,"ppsSets",{get:function(){return this._a},set:function(t){if(!Vf(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this._a=t},enumerable:!1,configurable:!0}),jv.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},jv.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,e=this.spsSets;n<e.length;n++){var i=e[n];t.writer.writeUInt(i.length,16),t.concat(xf.from(i))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var o=u[r];t.writer.writeUInt(o.length,16),t.concat(xf.from(o))}};ki(),Vt();!function(t){var n=function(n,e,i,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var o=t.call(this,"avc1",n,e,r)||this;return o.configurationBox=i,o.bitrateBox=u,o};Sf(n,t),n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(e=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Wv);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=e,r.avg=i,r};Sf(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.qo},set:function(t){if(!Vf(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.pa},set:function(t){if(!Vf(t,32))throw new f("Provided max does not fit in 32 bits.");this.pa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.ba},set:function(t){if(!Vf(t,32))throw new f("Provided avg does not fit in 32 bits.");this.ba=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Uf);ki(),Vt(),ki(),Vt(),ki(),Vt();var Gv=function(t){var n=function(n,e){var i,r,u,o,s=this;if(s=t.call(this,"tenc",n,0)||this,e.perSampleIvSize>0&&(null!==(r=null===(i=e.constantIv)||void 0===i?void 0:i.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return s.kId=e.kId,s.isProtected=null!==(u=e.isProtected)&&void 0!==u?u:1,e.perSampleIvSize>0?s.perSampleIvSize=e.perSampleIvSize:s.constantIv=null!==(o=e.constantIv)&&void 0!==o?o:new y(0),s};return Sf(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.ka},set:function(t){if(!Vf(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.ka=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Ta},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Ta=t,this.Sa=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.Ea},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.Ea=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.Sa},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.Sa=t,this.Ta=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),qf(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),qf(t.writer,this.constantIv))},n}(Gf),Yv=(function(t){var n=function(n){return t.call(this,0,n)||this};Sf(n,t)}(Gv),function(t){var n=function(n){var e=t.call(this,1,n)||this;return e.cryptByteBlocks=n.cryptByteBlock,e.skipByteBlocks=n.skipByteBlock,e};return Sf(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Ia},set:function(t){if(!Vf(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.Ia=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Ra},set:function(t){if(!Vf(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.Ra=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Gv));!function(t){var n=function(n){var e=t.call(this)||this;return e.tencBox=new Yv(n),e};Sf(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(ev);function Xv(t){return void 0!==t.iv}function $v(t){return void 0!==t.subsamples}ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return e.samples=n,e};Sf(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.zs},set:function(t){var n;if(!Vf(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var e=0,i=t;e<i.length;e++){var r=i[e];if(Xv(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=$v(r)),!0===n&&!$v(r)||!1===n&&$v(r))throw new f("Mix of samples with and without subsamples detected.");if($v(r)){if(!Vf(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];if(!Vf(s.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!Vf(s.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,e=0,i=this.samples;e<i.length;e++){var r=i[e];Xv(r)&&(n+=r.iv.length),$v(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var e=0,i=this.samples;e<i.length;e++){var r=i[e];if(Xv(r)&&qf(n.writer,r.iv),$v(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];n.writer.writeUInt(s.clearData,16),n.writer.writeUInt(s.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Gf);ki(),Vt(),ki(),Vt();!function(t){var n=function(n,e,i,r,u){var o=t.call(this,"emsg",0,0)||this;return o.schemeIdUri=n,o.value=e,o.data=u,o.id=i,o.timescale=r.timescale,o.presentationTimeDelta=r.presentationTimeDelta,o.eventDuration=r.eventDuration,o};Sf(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this._s},set:function(t){if(!Vf(t,32))throw new f("The provided timescale does not fit in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Na},set:function(t){if(!Vf(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.Na=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Oa},set:function(t){if(!Vf(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.Oa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.Ca},set:function(t){if(!Vf(t,32))throw new f("The provided id does not fit in 32 bits.");this.Ca=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(xf.from(this.data))}}(Gf);ki(),Vt(),ki(),Vt(),ki(),Vt();var Kv;(Kv=function(){this.boxes=[]}).prototype.serialize=function(){for(var t=new Ff,n=0,e=this.boxes;n<e.length;n++){var i=e[n];t.concat(i.serialize())}return t.toRangedBuffer()};function Jv(t,n){return function(e){var i,r=function(t,n){for(var e=t.data,i=t.cursor;i.offset<e.byteLength;){var r=gh(e,i);if(!r.complete)return;if(lh(r.box,n))return r.box}}(new dh((i=e,new DataView(i.buffer,i.byteOffset,i.byteLength)),new hh),t);if(!r)throw new f("".concat(t," box not found"));return n(r)}}Jv("moov",(function(t){for(var n=new Ev,e=0,i=wh(t.data);e<i.length;e++){var r=i[e];lh(r,"mvhd")?n.boxes.push(mv(r)):lh(r,"trak")?n.boxes.push(Sv(r)):lh(r,"mvex")?n.boxes.push(lv(r)):lh(r,"pssh")?n.boxes.push(ov(r)):n.boxes.push(bh(r))}return n})),Jv("sidx",(function(t){var n,e,i=t.data,r=yh(i.nextUint32()),u=r.version,o=r.flags,s=i.nextUint32(),a=i.nextUint32();0===u?(n=i.nextUint32(),e=i.nextUint32()):(n=i.nextUint64(),e=i.nextUint64()),i.skip(2);for(var c=i.nextUint16(),f=[],h=0;h<c;h++){var v=new Af(xf.from(i.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),w=v.readUInt(32),g=Boolean(v.readBit()),y=v.readUInt(3),m=v.readUInt(28);f.push({referenceType:d,referencedSize:l,subsegmentDuration:w,startsWithSap:g,sapType:y,sapDeltaTime:m})}return 0===u?new Hv(s,a,n,e,f,o.raw):new qv(s,a,n,e,f,o.raw)})),Jv("moof",(function(t){for(var n=new Lv,e=0,i=wh(t.data);e<i.length;e++){var r=i[e];lh(r,"traf")?n.boxes.push(Bv(r)):lh(r,"pssh")?n.boxes.push(ov(r)):n.boxes.push(bh(r))}return n}));var Zv=Jv("pssh",ov),Qv=function(t){function n(n,e){var i;(i=t.call(this)||this).Aa=n,i.Da=e,i.Pa=!1,i.xa=function(){i.Ba()},i.La=function(t){i.Bu(new lc(Na(i),t.messageType,pf(i.Da,t.message)))},i.Ma=function(){i.Pa=!0,i.Fa.ho>0&&(i.Fa.fo(),i.Bu(new dc(Na(i)))),i.Aa.removeEventListener("keystatuseschange",i.xa),i.Aa.removeEventListener("message",i.La)},i.Aa.addEventListener("keystatuseschange",i.xa),i.Aa.addEventListener("message",i.La),i.Fa=new mc;var r=[];return i.Aa.closed&&r.push(G.resolve(i.Aa.closed)),i.Ua=new mf,r.push(i.Ua.bo),i.X=G.race(r).then(i.Ma,i.Ma),i.Ba(),i}Xi(n,t);var e=n.prototype;return e.Va=function(){if(this.Pa)return this.X;var t=[];return t.push(G.resolve(this.Aa.close())),t.push(ic(1e3)),this.Ua.Ou(G.race(t).catch(td)),this.Pa=!0,this.X},e.Ha=function(t,n,e){if(sr.We){var i=Zv(df(n));if(1===i.version)n=new rv(i.systemId,i.data).serialize().join()}return G.resolve(this.Aa.generateRequest(t,n)).catch(td)},e.qa=function(t){return G.resolve(this.Aa.load(t)).catch(td)},e.za=function(){return G.resolve(this.Aa.remove()).catch(td)},e.Wa=function(t){return G.resolve(this.Aa.update(t)).catch(td)},e.Ba=function(){var t=this;this.Fa.fo(),this.Aa.keyStatuses.forEach((function(n,e){t.ja(e,n)})),this.Bu(new dc(this))},e.ja=function(t,n){if("string"==typeof t){var e=t;t=n,n=e}var i=df(t);if(this.Da===ia&&16===i.byteLength){var r=ff(i),u=r.getUint32(0,!0),o=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,o,!1),r.setUint16(6,s,!1)}this.Da===ia&&"status-pending"===n&&(n="usable"),this.Fa.co(i,n)},Ii(n,[{key:"Ga",get:function(){return this.X}},{key:"Ya",get:function(){return this.Aa.expiration}},{key:"Xa",get:function(){return this.Fa}},{key:"$a",get:function(){return this.Aa.sessionId}}]),n}(oc);function td(t){var n;if(t.message){var e=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);e&&(n=0|l(e[1],16))}throw new kf(t.message,void 0,n,t)}var nd=function(){function t(t,n,e){this.Ka=t,this.Ja=n,this.Za=e}var n=t.prototype;return n.Qa=function(t){var n=this;return Ms((function(){return Us(this,(function(e){return[2,new Qv(n.Ka.createSession(t),n.Ja)]}))}))()},n.tc=function(t){return G.resolve(this.Ka.setServerCertificate(t))},n.nc=function(t){return G.resolve(t.setMediaKeys(this.Ka))},n.ec=function(t){return G.resolve(t.setMediaKeys(null))},n.ic=function(){return G.resolve()},t}(),ed=function(){function t(t,n,e){this.rc=t,this.Da=n,this.uc=e}var n=t.prototype;return n.oc=function(){var t=this;return Ms((function(){var n;return Us(this,(function(e){switch(e.label){case 0:return[4,t.rc.createMediaKeys()];case 1:return n=e.sent(),[2,new nd(n,t.Da,t.uc)]}}))}))()},n.sc=function(){return this.uc},Ii(t,[{key:"Ja",get:function(){return this.rc.keySystem}}]),t}();function id(t){var n=t.trim(),e=n.indexOf(";");return e<0?n:n.substr(0,e).trim()}function rd(t,n,e,i){var r=!1;if(!(i.persistentState&&"optional"!==i.persistentState||i.distinctiveIdentifier&&"optional"!==i.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label,ac:i.ac},o=!1;if(i.audioCapabilities){var s=i.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));s.length&&(u.audioCapabilities=s.filter((function(i){return ud(t,n,e,i)})),o=!0,u.audioCapabilities.length&&(r=!0))}if(i.videoCapabilities){var a=i.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(i){return ud(t,n,e,i)})),o=!0,u.videoCapabilities.length&&(r=!0))}return o||(r=t(e,"video/mp4")),r?u:void 0}}function ud(t,n,e,i){return!!i.contentType&&(!(i.encryptionScheme&&!Ua(n,i.encryptionScheme))&&(!i.robustness&&t(e,id(i.contentType))))}function od(t){if(t.videoCapabilities)for(var n=0,e=t.videoCapabilities;n<e.length;n++){var i=e[n];if(i.contentType)return i.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var o=u[r];if(o.contentType)return o.contentType}}function sd(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i.encryptionScheme&&n.push({contentType:i.contentType,robustness:i.robustness})}return t.concat(n)}function ad(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(cd))||!(!t.videoCapabilities||!t.videoCapabilities.some(cd))}function cd(t){return!t.robustness}function fd(t,n){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.robustness?e.push(r):e.push(Fs({},r,{robustness:n}))}return e}ki(),Vt(),ki(),Vt();var hd=function(){function t(){}return t.prototype.vu=function(t,n){return Ms((function(){var e,i,r,o,s,a,c;return Us(this,(function(f){switch(f.label){case 0:for(n=n.filter((function(t){return!t.ac})),e=0;e<n.length;e++)(i=n[e]).audioCapabilities&&(i.audioCapabilities=sd(i.audioCapabilities)),i.videoCapabilities&&(i.videoCapabilities=sd(i.videoCapabilities));if(t!==oa||!n.some(ad))return[3,4];r=n.map((function(t){return function(t,n){return Fs({},t,{videoCapabilities:t.videoCapabilities?fd(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?fd(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,u.requestMediaKeySystemAccess(t,r)];case 2:return o=f.sent(),s=o.getConfiguration(),[2,new ed(o,t,s)];case 3:return f.sent(),[3,4];case 4:return[4,u.requestMediaKeySystemAccess(t,n)];case 5:return a=f.sent(),c=a.getConfiguration(),[2,new ed(a,t,c)]}}))}))()},t.cc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}();ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),Ri();var vd=function(t){function n(n,e){var i;return(i=t.call(this)||this).fc=n,i.hc=e,i.Pa=!1,i.vc=void 0,i.dc=void 0,i.lc=void 0,i.Ma=function(){i.Pa=!0,i.wc.ko(void 0),i.lc&&(i.lc.removeEventListener("mskeyclose",i.Ma),i.lc.removeEventListener("mskeymessage",i.gc),i.lc.removeEventListener("mskeyerror",i.yc),i.lc.removeEventListener("mskeyadded",i.mc))},i.gc=function(t){i.dc&&(i.dc.ko(void 0),i.dc=void 0),i.Bu(new lc(Na(i),"license-request",wf(t.message).buffer,t.destinationURL||void 0))},i.yc=function(){var t=i.lc&&i.lc.error;if(t){var n=new kf("Unknown CDM error",t.code,t.systemCode);if(i.dc)i.dc.To(n),i.dc=void 0;else if(i.vc)i.vc.To(n),i.vc=void 0;else switch(n.So){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:i._c("output-not-allowed");break;default:i._c("internal-error")}}},i.mc=function(){i.dc&&(i._c("usable"),i.dc.ko(void 0),i.dc=void 0),i.vc&&(i._c("usable"),i.vc.ko(void 0),i.vc=void 0)},i.wc=new mf,i.bc=new mc,i}Xi(n,t);var e=n.prototype;return e.Ha=function(t,n,e){var i=this;return Ms((function(){return Us(this,(function(t){switch(t.label){case 0:return i.kc(),i.dc=new mf,i.Qa(df(n),e),[4,i.dc.bo];case 1:return t.sent(),[2]}}))}))()},e.Qa=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var e,i=n&&n.playready&&n.playready.Tc;return(e=n?this.fc.createSession(this.hc,t,i):this.fc.createSession(this.hc,t)).addEventListener("mskeyclose",this.Ma),e.addEventListener("mskeymessage",this.gc),e.addEventListener("mskeyerror",this.yc),e.addEventListener("mskeyadded",this.mc),this.lc=e,this._c("status-pending"),e},e.qa=function(t){var n=this;return Ms((function(){return Us(this,(function(t){return n.kc(),[2,!0]}))}))()},e.Wa=function(t){var n=this;return Ms((function(){var e;return Us(this,(function(i){switch(i.label){case 0:if(n.vc=new mf,n.kc(),!n.lc)return[2,G.resolve()];if(0===(e=df(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.lc.update(e),[4,n.vc.bo];case 1:return i.sent(),[2]}}))}))()},e.Va=function(){return!this.Pa&&this.lc&&(this.Pa=!0,this.lc.close()),this.wc.bo},e.za=function(){var t=this;return Ms((function(){return Us(this,(function(n){return t.kc(),[2]}))}))()},e.kc=function(){if(this.Pa)throw new h("Already closing or closed.")},e._c=function(t){this.bc.fo(),this.bc.co(yc,t),this.Bu(new dc(this))},Ii(n,[{key:"$a",get:function(){return this.lc&&this.lc.sessionId||""}},{key:"Ya",get:function(){return NaN}},{key:"Ga",get:function(){return this.wc.bo}},{key:"Xa",get:function(){return this.bc}}]),n}(oc),dd=function(){function t(t,n,e){this.fc=t,this.Ja=n,this.Za=e;var i=od(e)||"video/mp4";this.hc=id(i)}var n=t.prototype;return n.Qa=function(t){var n=this;return Ms((function(){return Us(this,(function(t){return[2,new vd(n.fc,n.hc)]}))}))()},n.tc=function(t){return G.resolve(!1)},n.nc=function(t){var n=this,e=function(){t.msSetMediaKeys(n.fc),t.removeEventListener("loadedmetadata",e)};return t.readyState>=1?t.msSetMediaKeys(this.fc):t.addEventListener("loadedmetadata",e),G.resolve()},n.ec=function(t){return G.resolve()},n.ic=function(){return G.resolve()},t}();Ti();var ld=function(){function t(t,n){this.Da=t,this.Sc=n}var n=t.prototype;return n.sc=function(){return this.Sc},n.oc=function(){var t=new mi.MSMediaKeys(this.Da);return G.resolve(new dd(t,this.Da,this.Sc))},Ii(t,[{key:"Ja",get:function(){return this.Da}}]),t}();Ti();var wd=function(){function t(){}return t.prototype.vu=function(t,n){try{return G.resolve(function(t,n){if(!gd())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=rd(yd,hc,t,i);if(r)return new ld(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.cc=function(){return gd()},t}();function gd(){return void 0!==mi.MSMediaKeys&&"function"==typeof mi.MSMediaKeys.isTypeSupported}function yd(t,n){return mi.MSMediaKeys.isTypeSupported(t,n)}ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),Ri();var md,_d,pd,bd,kd=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).Ec=n,r.hc=e,r.Ic=i,r.wc=new mf,r.Rc=void 0,r.bc=new mc,r.Nc=void 0,r.Oc=new mf,r.yc=function(){var t=r.Nc&&r.Nc.error;if(t){var n=new kf("Unknown CDM error",t.code,t.systemCode);r.Rc?(r.Rc.To(n),r.Rc=void 0):n.So===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r._c("output-not-allowed"):r._c("internal-error"),r.Bu(new wc)}},r.gc=function(t){r.Bu(new lc(Na(r),"license-request",wf(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.mc=function(){r.Rc&&(r.Rc.ko(void 0),r.Rc=void 0),r._c("usable")},r}Xi(n,t);var e=n.prototype;return e.Ha=function(t,n,e){var i=e&&e.fairplay&&e.fairplay.Cc;if(!i)throw new h("Expected FairPlay contentId to be defined but was "+i+".");var r=Td(df(n),i,this.Ic);return this.Nc=this.Ec.createSession(this.hc,r),this.Nc.addEventListener("webkitkeymessage",this.gc,!1),this.Nc.addEventListener("webkitkeyadded",this.mc,!1),this.Nc.addEventListener("webkitkeyerror",this.yc,!1),this._c("status-pending"),this.Oc.ko(this.Nc),this.Oc=new mf,G.resolve()},e.qa=function(t){return G.resolve(!0)},e.Wa=function(t){var n=this;return Ms((function(){var e,i;return Us(this,(function(r){switch(r.label){case 0:if(0===(e=df(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.Rc=new mf,(i=n.Nc)?[3,2]:[4,n.Oc.bo];case 1:i=r.sent(),r.label=2;case 2:return i.update(e),[4,n.Rc.bo];case 3:return r.sent(),[2]}}))}))()},e.Va=function(){var t,n=this.Nc;return n&&(n.removeEventListener("webkitkeymessage",this.gc,!1),n.removeEventListener("webkitkeyadded",this.mc,!1),n.removeEventListener("webkitkeyerror",this.yc,!1),n.close()),this.Oc.Nu(),null==(t=this.Rc)||t.Nu(),this.wc.ko(void 0),this.wc.bo},e.za=function(){return G.resolve(void 0)},e._c=function(t){this.bc.fo(),this.bc.co(yc,t),this.Bu(new dc(this))},Ii(n,[{key:"$a",get:function(){return this.Nc?this.Nc.sessionId:""}},{key:"Ya",get:function(){return NaN}},{key:"Ga",get:function(){return this.wc.bo}},{key:"Xa",get:function(){return this.bc}}]),n}(oc);function Td(t,n,e){var i=sf(t),r=2*i.length,u=2*n.length,o=new ArrayBuffer(4+r+4+u+4+e.byteLength),s=new DataView(o),a=new yf;return Yc(s,a,r,!0),tf(s,a,i,!0),Yc(s,a,u,!0),tf(s,a,n,!0),Yc(s,a,e.byteLength,!0),function(t,n,e){hf(t).set(hf(e),n.yo),n.do(e.byteLength)}(s,a,e),new y(o)}ki(),Vt(),Ri(),ki(),Vt(),(_d=md||(md={}))[_d.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",_d[_d.LICENSE_ERROR=2e3]="LICENSE_ERROR",_d[_d.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",_d[_d.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",_d[_d.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",_d[_d.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",_d[_d.SOURCE_INVALID=3e3]="SOURCE_INVALID",_d[_d.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",_d[_d.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",_d[_d.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",_d[_d.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",_d[_d.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",_d[_d.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",_d[_d.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",_d[_d.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",_d[_d.MEDIA_ABORTED=5004]="MEDIA_ABORTED",_d[_d.NETWORK_ERROR=6e3]="NETWORK_ERROR",_d[_d.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",_d[_d.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",_d[_d.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",_d[_d.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",_d[_d.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",_d[_d.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",_d[_d.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",_d[_d.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",_d[_d.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",_d[_d.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",_d[_d.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",_d[_d.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",_d[_d.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",_d[_d.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",_d[_d.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",_d[_d.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",_d[_d.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",_d[_d.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",_d[_d.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",_d[_d.AD_ERROR=1e4]="AD_ERROR",_d[_d.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",_d[_d.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",_d[_d.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",_d[_d.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",(bd=pd||(pd={}))[bd.CONFIGURATION=1]="CONFIGURATION",bd[bd.LICENSE=2]="LICENSE",bd[bd.SOURCE=3]="SOURCE",bd[bd.MANIFEST=4]="MANIFEST",bd[bd.MEDIA=5]="MEDIA",bd[bd.NETWORK=6]="NETWORK",bd[bd.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",bd[bd.SUBTITLE=8]="SUBTITLE",bd[bd.VR=9]="VR",bd[bd.AD=10]="AD",bd[bd.FULLSCREEN=11]="FULLSCREEN",bd[bd.CACHE=12]="CACHE",(pd||(pd={})).fromCode=function(t){var n=d.floor(t/1e3);if(n in pd)return n;throw new h("Invalid error code: "+t)};var Sd=function(t){function n(n,e,i){var r;return(r=t.call(this,e,i)||this).code=n,r}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return pd.fromCode(this.code)}}]),n}(qa);var Ed=function(){function t(t,n,e){this.Ec=t,this.Ja=n,this.Za=e,this.Ic=void 0;var i=od(e)||"video/mp4";this.hc=id(i)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.Ec},n.Qa=function(t){var n=this;return Ms((function(){return Us(this,(function(t){if(!n.Ic)throw new Sd(md.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new kd(n.Ec,n.hc,n.Ic)]}))}))()},n.tc=function(t){return this.Ic=df(t),G.resolve(!0)},n.nc=function(t){return t.webkitSetMediaKeys(this.Ec),G.resolve()},n.ec=function(t){return t.webkitSetMediaKeys(null),G.resolve()},n.ic=function(){return G.resolve()},t}();Ti();var Id=function(){function t(t,n){this.Da=t,this.Sc=n}var n=t.prototype;return n.sc=function(){return this.Sc},n.oc=function(){var t=new mi.WebKitMediaKeys(this.Da);return G.resolve(new Ed(t,this.Da,this.Sc))},Ii(t,[{key:"Ja",get:function(){return this.Da}}]),t}();Ti();var Rd=function(){function t(){}return t.prototype.vu=function(t,n){try{return G.resolve(function(t,n){if(t!==fa)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Nd())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=rd(Od,vc,t,i);if(r)return new Id(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.cc=function(){return Nd()},t}();function Nd(){return void 0!==mi.WebKitMediaKeys&&"function"==typeof mi.WebKitMediaKeys.isTypeSupported}function Od(t,n){return mi.WebKitMediaKeys.isTypeSupported(t,n)}ki(),Vt();var Cd=function(){function t(t){this.Ac=t}return t.prototype.vu=function(t,n){var e=this;return Ms((function(){var i,r,u;return Us(this,(function(o){switch(o.label){case 0:i=0,r=e.Ac,o.label=1;case 1:if(!(i<r.length))return[3,6];u=r[i],o.label=2;case 2:return o.trys.push([2,4,,5]),[4,u.vu(t,n)];case 3:return[2,o.sent()];case 4:return o.sent(),[3,5];case 5:return i++,[3,1];case 6:throw new h("Unsupported key system configuration for "+t)}}))}))()},t}();ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt();var Ad=function(){function t(t){var n=this;this.Dc=[],this.Pc=void 0,this.xc=new Wa,this.Bc=function(){return 0===n.Dc.length?n.Lc?Dd(n.Lc,n.xc.Au).then(n.Mc,n.Mc):n.Mc():n.Dc.shift()().then(n.Bc)},this.Mc=function(){if(0!==n.Dc.length)return n.Bc();n.Pc=void 0},this.Lc=t}var n=t.prototype;return n.Fc=function(t,n){var e=this;return new G((function(i){var r=new Wa;r.Ou(e.xc.Au),n&&r.Ou(n);var u=function(){r.ku()};e.Dc.push((function(){var n=Dd(t,r.Au);return i(n),n.then(u,u)})),e.Pc||(e.Pc=e.Bc())}))},n.Nu=function(){return this.Uc(!0)},n.kn=function(){return this.Lc=void 0,this.Uc(!1)},n.Uc=function(t){var n=this.Pc;return this.xc.Nu(),t&&(this.xc=new Wa),G.resolve(n)},t}();function Dd(t,n){return new G((function(e){return e(t(n))}))}var Pd,xd=new Ad,Bd=function(t){function n(n){var e;return(e=t.call(this)||this).Da=n,e.dc=void 0,e.Rc=void 0,e.Cn=!1,e.Vc=void 0,e.Hc=void 0,e.wc=new mf,e.qc="",e.zc=new mf,e.Wc=new mc,e}Xi(n,t);var e=n.prototype;return e.jc=function(){this.Rc&&(this._c("usable"),this.Rc.ko(void 0),this.Rc=void 0)},e.Gc=function(t){var n=new kf("Unknown CDM error",t.errorCode,t.systemCode);this.Rc?(this.Rc.To(n),this.Rc=void 0):this.dc?(this.dc.To(n),this.dc=void 0):n.So===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this._c("output-restricted"):1===n.Eo?this._c("expired"):this._c("internal-error")},e.Yc=function(t){0!==t.message.byteLength&&(this.dc&&(this.dc.ko(void 0),this.dc=void 0),this.Bu(new lc(this,"license-request",pf(this.Da,wf(t.message).buffer),t.defaultURL||void 0)))},e.Xc=function(t){this.Hc||(this.Hc=t,this.zc.ko(t))},e.Va=function(){var t=this;return Ms((function(){return Us(this,(function(n){return t.throwIfClosed(),t.Rc&&(t.Rc.To(void 0),t.Rc=void 0),t.Cn=!0,t.wc.ko(void 0),[2]}))}))()},e.Ha=function(t,n){var e=this;return Ms((function(){var t;return Us(this,(function(i){switch(i.label){case 0:return e.throwIfClosed(),e.dc=new mf,e.Vc=df(n),(t=e.Hc)?[3,2]:[4,e.zc.bo];case 1:t=i.sent(),i.label=2;case 2:return t.webkitGenerateKeyRequest(e.Da,e.Vc),[4,e.dc.bo];case 3:return i.sent(),[2]}}))}))()},e.qa=function(t){var n=this;return Ms((function(){return Us(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},e.za=function(){var t=this;return Ms((function(){return Us(this,(function(n){return t.throwIfClosed(),[2]}))}))()},e.Wa=function(t){var n=this;return Ms((function(){return Us(this,(function(e){switch(e.label){case 0:return n.throwIfClosed(),n.Rc=new mf,sr.ti||sr.Ze?[2,xd.Fc(Ms((function(){return Us(this,(function(e){switch(e.label){case 0:return[4,n.doUpdate(t)];case 1:return e.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return e.sent(),[2]}}))}))()},e.doUpdate=function(t){var n=this;return Ms((function(){var e;return Us(this,(function(i){switch(i.label){case 0:return void 0===n.Rc?[2]:(e=n.Hc)?[3,2]:[4,n.zc.bo];case 1:e=i.sent(),i.label=2;case 2:return e.webkitAddKey(n.Da,df(t),n.Vc,n.$a),[4,n.Rc.bo];case 3:return i.sent(),[2]}}))}))()},e.throwIfClosed=function(){if(this.Cn)throw new h("Already closing or closed.")},e._c=function(t){this.Wc.fo(),this.Wc.co(yc,t),this.Bu(new dc(this))},e.$c=function(){var t=this;return Ms((function(){var n,e;return Us(this,(function(i){switch(i.label){case 0:return(e=t.Hc)?[3,2]:[4,t.zc.bo];case 1:e=i.sent(),i.label=2;case 2:if(!(n=e).webkitCancelKeyRequest)return[3,7];i.label=3;case 3:return i.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.Da,t.qc),[3,7];case 4:return i.sent(),[3,7];case 5:return[4,ic(500)];case 6:return i.sent(),[7];case 7:return[2]}}))}))()},Ii(n,[{key:"Xa",get:function(){return this.Wc}},{key:"$a",get:function(){return this.qc},set:function(t){this.qc=t}},{key:"Ga",get:function(){return this.wc.bo}},{key:"Ya",get:function(){return NaN}}]),n}(oc),Ld=function(){function t(t,n){var e=this;this.Ja=t,this.Za=n,this.Hc=void 0,this.Kc=qs(),this.Jc=[],this.mc=function(t){var n=e.Zc(t.sessionId);n&&n.jc()},this.Qc=function(t){var n=e.Zc(t.sessionId);n&&n.Gc(t)},this.tf=function(t){var n=e.Zc(t.sessionId);n&&n.Yc(t)}}var n=t.prototype;return n.nc=function(t){return this.Hc=t,this.Hc.addEventListener("webkitkeyadded",this.mc),this.Hc.addEventListener("webkitkeyerror",this.Qc),this.Hc.addEventListener("webkitkeymessage",this.tf),this.Kc.forEach((function(n,e){return n.Xc(t)})),this.Jc.forEach((function(n){return n.Xc(t)})),G.resolve()},n.ec=function(t){return t.removeEventListener("webkitkeyadded",this.mc),t.removeEventListener("webkitkeyerror",this.Qc),t.removeEventListener("webkitkeymessage",this.tf),this.Hc=void 0,G.resolve()},n.ic=function(){var t=this;return Ms((function(){var n,e;return Us(this,(function(i){switch(i.label){case 0:n=t.Kc.entries(),e=n.next(),i.label=1;case 1:return e.done?[3,3]:[4,e.value[1].$c()];case 2:return i.sent(),e=n.next(),[3,1];case 3:return t.Kc.clear(),[2]}}))}))()},n.Qa=function(t,n,e){var i=this;return Ms((function(){var t;return Us(this,(function(n){return t=new Bd(i.Ja),i.Hc&&t.Xc(i.Hc),i.Jc.push(t),[2,t]}))}))()},n.tc=function(t){return G.resolve(!1)},n.Zc=function(t){if(t){var n=this.Kc.get(t);return n||((n=this.Jc.shift())?(n.$a=t,this.Kc.set(t,n),n):void 0)}},t}(),Md=function(){function t(t,n){this.Ja=t,this.nf=n}var n=t.prototype;return n.oc=function(){return G.resolve(new Ld(this.Ja,this.nf))},n.sc=function(){return this.nf},t}(),Fd=function(){function t(){}return t.prototype.vu=function(t,n){try{return G.resolve(function(t,n){if(!Fd.cc())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=rd(Ud,hc,t,i);if(r)return new Md(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.cc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Ud(t,n){var e=gs();return!(!e||!e.canPlayType||""===e.canPlayType(n,t))}function Vd(){return Pd||(Pd=function(){var t=[];Rd.cc()&&t.push(new Rd);hd.cc()&&t.push(new hd);wd.cc()&&t.push(new wd);Fd.cc()&&t.push(new Fd);return new Cd(t)}()),Pd}ki(),Vt(),ki(),Vt();var Hd=function(){function t(){this.ef=qs()}var n=t.prototype;return n.fo=function(t){this.ef.delete(t)},n.if=function(){this.ef.clear()},n.so=function(t){return this.ef.get(t)},n.rf=function(t,n){this.ef.set(t,n)},t}(),qd=function(){function t(){}return t.uf=function(){return t.ki||(t.ki=zd.cc()?new zd:new Hd),t.ki},t.fo=function(n){t.uf().fo(n)},t.if=function(){t.uf().if()},t.so=function(n){return t.uf().so(n)},t.rf=function(n,e){t.uf().rf(n,e)},t}();qd.ki=void 0;var zd=function(n){function e(){return n.apply(this,arguments)}Xi(e,n);var i=e.prototype;return i.fo=function(n){t.sessionStorage.removeItem(n)},i.if=function(){t.sessionStorage.clear()},i.so=function(n){return t.sessionStorage[n]},i.rf=function(n,e){t.sessionStorage[n]=e},e.cc=function(){var n="foobar";try{return t.sessionStorage.setItem(n,n),t.sessionStorage.removeItem(n),!0}catch(t){return!1}},e}(qd);ki(),Vt(),ki(),Vt();var Wd=function(){var n,e=t.Blob;if(e)try{return new e,n=e,function(t,e){return new n(t,e)}}catch(t){}var i,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return i=r,function(t,n){var e=new i;if(t)for(var r=0;r<t.length;r++){var u=t[r];e.append(u)}return e.getBlob(n&&n.type||"")}}();function jd(t,n,e){var r=Wd([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),o=function(t,n){var e=t,i=e.indexOf("?");if(i>=0&&(e=e.substr(0,i)),e=e.substr(e.lastIndexOf("/")+1),n){var r=e.indexOf(".");r<0&&(r=e.length),e=e.substr(0,r)+n+e.substr(r)}return e}(t,e),s=i.createElement("a");s.href=u,s.download=o,i.body.appendChild(s),s.click(),i.body.removeChild(s),URL.revokeObjectURL(u)}ki(),Vt();var Gd,Yd,Xd,$d,Kd="default",Jd="unknown";ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),(Yd=Gd||(Gd={})).sf="af",Yd.cf="ff",Yd.hf="contentprotectionerror",Yd.vf="contentprotectionsuccess",Yd.df="currentsourcechange",Yd.lf="destroy",Yd.wf="durationchange",Yd.gf="emptied",Yd.Zu="encrypted",Yd.yf="ended",Yd.mf="_f",Yd.pf="bf",Yd.kf="Tf",Yd.Sf="loadstart",Yd.Ef="manifestupdate",Yd.If="nosupportedrepresentationfound",Yd.Rf="offline",Yd.Nf="online",Yd.Of="pause",Yd.Cf="play",Yd.Af="progress",Yd.Df="ratechange",Yd.Pf="representationchange",Yd.xf="resize",Yd.Bf="seeked",Yd.Lf="seeking",Yd.Mf="segmentnotfound",Yd.Ff="Uf",Yd.Vf="Hf",Yd.qf="sourcechange",Yd.zf="timeupdate",Yd.Wf="volumechange",Yd.jf="Gf",Yd.Yf="metricschange",ki(),Vt(),ki(),Vt(),($d=Xd||(Xd={})).Xf="arraybuffer",$d.$f="json",$d.Kf="stream",$d.Jf="text",ki(),Vt();var Zd=function(){function t(n){var e=this;this.Jr={},n instanceof t?n.asList().forEach((function(t){var n=Vs(t,2),i=n[0],r=n[1];e.append(i,r)})):Array.isArray(n)?n.forEach((function(t){e.append(t[0],t[1])})):n&&v.getOwnPropertyNames(n).forEach((function(t){e.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var e=t,i=n;e=Qd(e),i=tl(i);var r=e.toLowerCase();if(this.Jr.hasOwnProperty(r)){var u=this.Jr[r],o=u[1];u[1]=o?o+", "+i:i}else this.Jr[r]=[e,i]},n.delete=function(t){var n=Qd(t).toLowerCase();delete this.Jr[n]},n.get=function(t){var n=Qd(t).toLowerCase();return this.Jr.hasOwnProperty(n)?this.Jr[n][1]:null},n.has=function(t){var n=Qd(t).toLowerCase();return this.Jr.hasOwnProperty(n)},n.set=function(t,n){var e=t,i=(e=Qd(e)).toLowerCase();this.Jr[i]=[e,tl(n)]},n.forEach=function(t,n){for(var e in this.Jr)this.Jr.hasOwnProperty(e)&&t.call(n,this.Jr[e][1],e,this)},n.asList=function(){var t=[];for(var n in this.Jr)if(this.Jr.hasOwnProperty(n)){var e=Vs(this.Jr[n],2),i=e[0],r=e[1];t.push([i,r])}return t},n.Zf=function(){var t={};return this.forEach((function(n,e){t[e]=n})),t},n.Qf=function(t){var n=this;t.forEach((function(t,e){n.append(e,t)}))},n.th=function(t){var n=this;t.forEach((function(t,e){n.set(e,t)}))},t}();function Qd(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function tl(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),bi(),ki(),Vt(),Ri();var nl,el,il=function(t){function n(n){var e;return(e=t.call(this,""+n.join("\n"),n[0])||this).causes=n,e}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(qa);function rl(t){return n=[t],new Lt({start:function(t){for(var e=0;e<n.length;e++){var i=n[e];t.enqueue(i)}t.close()}});var n}function ul(t){return rl(new y(t))}function ol(t,n){return function(t,n){var e=n,i=t.getReader(),r=new mf,u=function(){o();var t=new ja;i.cancel(t).catch(pr),r.To(t)},o=function(){e&&(e.Su(u),e=void 0)};e&&(e.yu?u():e.Tu(u));var s=[],a=function(t){return t.done?(o(),G.resolve(s)):(s.push(t.value),G.resolve(i.read()).then(a))};return G.resolve(i.read()).then(a).then((function(t){o(),r.ko(t)}),(function(t){o(),r.To(t)})),r.bo}(t,n).then((function(t){return Oc(t).buffer}))}function sl(t,n){var e=n,i=new Mt,r=i.readable,u=i.writable,o=u.getWriter(),s=function(){e&&e.Nu()};return o.closed.then(s,s),t.then((function(t){return e=void 0,o.releaseLock(),t.pipeTo(u).catch(pr)}),(function(t){return e=void 0,o.releaseLock(),u.abort(t).catch(pr)})),r}function al(t){return sf(new y(t))}function cl(t){return af(t).buffer}ki(),Vt(),(el=nl||(nl={}))[el.Kf=0]="Kf",el[el.nh=1]="nh";var fl="text/plain;charset=UTF-8",hl=function(){function t(){}var n=t.prototype;return n.eh=function(t){return this.ih(t).then(JSON.parse)},n.rh=function(t,n){switch(t){case Xd.Xf:return this.uh(n);case Xd.$f:return this.eh(n);case Xd.Kf:return this.oh();case Xd.Jf:return this.ih(n);default:throw new h}},t}();function vl(t,n,e){if(t instanceof hl)return t;if(t instanceof Lt)return function(t,n){return new ll({iu:0,oh:t,sh:dl(n)})}(t,e);var i=dl(e),r=G.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{iu:Xd.Jf,ah:t,sh:n||fl};if(t instanceof ArrayBuffer||Rc(t))return{iu:Xd.Xf,ah:bl(t),sh:n};if(wr(t)||vr(t))return{iu:Xd.$f,ah:t,sh:n};throw new h("Unsupported BodyInit type")}return{iu:Xd.Jf,ah:null,sh:n}}(t,i)}));return new ll({iu:1,bo:r,fh:n})}function dl(t){return(t.get("content-type")||"").toLowerCase()}var ll=function(t){function n(n){var e;return(e=t.call(this)||this).hh=!1,e.dh=new mf,e.dh.bo.catch(pr),e.lh(n),e}Xi(n,t);var e=n.prototype;return e.wh=function(){return this.dh.bo},e.ih=function(t){return this.gh(wl,t)},e.eh=function(t){return this.gh(yl,t)},e.uh=function(t){return this.gh(_l,t)},e.oh=function(){return this.yh(0===(t=this.mh).iu?t.oh:sl(t.bo.then(pl).then(ul),t.fh));var t},e.gh=function(t,n){if(this.hh)return G.reject(new h("Already used"));this.hh=!0;var e=t(this.mh,n);return this.dh.Ou(e.then(pr)),e},e.yh=function(t){if(this.hh)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.hh=!0;var n=new Mt,e=G.resolve(t.pipeTo(n.writable));return this.dh.Ou(e),n.readable},e.lh=function(t){this.mh=t,1===t.iu&&t.bo.catch(pr)},e._h=function(){if(this.hh)throw new h("Already used");var t=function(t){if(0===t.iu){var n=Vs(t.oh.tee(),2),e=n[0],i=n[1];return[{iu:t.iu,oh:e,sh:t.sh},{iu:t.iu,oh:i,sh:t.sh}]}var r=Vs(t.fh.Cu(),2),u=r[0],o=r[1];return[{iu:t.iu,bo:t.bo,fh:u},{iu:t.iu,bo:t.bo,fh:o}]}(this.mh),e=t[0],i=t[1];return this.lh(e),new n(i)},Ii(n,[{key:"ph",get:function(){return this.hh}}]),n}(hl);function wl(t,n){return 0===t.iu?ol(t.oh,n).then(al):(n&&t.fh.Ou(n),Ja(t.bo.then(gl),t.fh))}function gl(t){switch(t.iu){case Xd.Jf:return G.resolve(t.ah||"");case Xd.Xf:return G.resolve(t.ah).then(al);case Xd.$f:return G.resolve(t.ah).then(JSON.stringify)}}function yl(t,n){return 0===t.iu?wl(t,n).then(JSON.parse):(n&&t.fh.Ou(n),Ja(t.bo.then(ml),t.fh))}function ml(t){return t.iu===Xd.$f?G.resolve(t.ah):gl(t).then(JSON.parse)}function _l(t,n){return 0===t.iu?ol(t.oh,n):(n&&t.fh.Ou(n),Ja(t.bo.then(pl),t.fh))}function pl(t){switch(t.iu){case Xd.Xf:return G.resolve(t.ah);case Xd.Jf:case Xd.$f:return gl(t).then(cl)}}function bl(t){return t instanceof ArrayBuffer?t:wf(hf(t)).buffer}function kl(t){return t.bh>=200&&t.bh<=299||304===t.bh}var Tl,Sl,El,Il,Rl,Nl,Ol,Cl,Al=function(t){function n(n,e){var i,r,u,o,s,a;e?(r=e.kh,u=e.Th,o=e.bh,s=e.Sh,a=e.Eh):(r=[],u=Xd.Jf,o=200,s="OK",a=!1);var c=n.Ih,f=new Zd(n.kh||r),h=n.Th||u,v=n.Rh||(e&&e.Ih===c?e.Rh:c.Nh),d=e?e.Oh:null,l=vl(void 0!==n.Ch?n.Ch:d,n.fh||new Wa,f);return(i=t.call(this,l)||this).kh=f,i.Ih=c,i.Rh=v,i.Th=h,i.bh=void 0!==n.bh?n.bh:o,i.Sh=void 0!==n.Sh?String(n.Sh):s,i.Eh=n.Eh||a,i}Xi(n,t);var e=n.prototype;return e.Ch=function(t){return this.rh(this.Th,t)},e.wo=function(){return new n({Ch:this._h(),Ih:this.Ih},this)},n}(function(t){function n(n){var e;return(e=t.call(this)||this).Oh=n,e}Xi(n,t);var e=n.prototype;return e.wh=function(){return this.Oh.wh()},e.ih=function(t){return this.Oh.ih(t)},e.eh=function(t){return this.Oh.eh(t)},e.uh=function(t){return this.Oh.uh(t)},e.oh=function(){return this.Oh.oh()},e._h=function(){return this.Oh._h()},Ii(n,[{key:"ph",get:function(){return this.Oh.ph}}]),n}(hl));ki(),Vt(),(Sl=Tl||(Tl={})).DELETE="DELETE",Sl.GET="GET",Sl.HEAD="HEAD",Sl.OPTIONS="OPTIONS",Sl.POST="POST",Sl.PUT="PUT",(Il=El||(El={})).Ah="",Il.Dh="manifest",Il.Ph="segment",Il.xh="preload-hint",Il.Bh="content-protection",(Nl=Rl||(Rl={})).Ah="",Nl.Lh="initialization-segment",Nl.Mh="fairplay-license",Nl.Fh="fairplay-certificate",Nl.Uh="widevine-license",Nl.Vh="widevine-certificate",Nl.Hh="playready-license",Nl.qh="clearkey-license",Nl.zh="aes128-key",(Cl=Ol||(Ol={})).Ah="",Cl.Wh="audio",Cl.jh="video",Cl.Jf="text",Cl.Gh="image";var Dl=function(t,n){var e,i,r,u,o,s,a,c,f,h,v,d,l=t.Nh;n?(e=n.ah,i=n.kh,r=n.Yh,u=n.Th,o=n.Xh,s=n.$h,a=n.Au,c=n.iu,f=n.Kh,h=n.Jh,v=n.Zh,d=n.Qh):(e=null,i={},r="GET",u=Xd.Jf,o=0,s=0,c="",f="",h="",v=!1),this.Nh=l,this.ah=t.ah||e,this.kh=new Zd(t.kh||i),this.Yh=t.Yh||r,this.Th=t.Th||u,this.Xh=void 0!==t.Xh?Number(t.Xh)||0:o,this.$h=void 0!==t.$h?Number(t.$h)||0:s,this.Au=t.Au||a||(new Wa).Au,this.iu=t.iu||c,this.Kh=t.Kh||f,this.Jh=t.Jh||h,this.Zh=void 0!==t.Zh?Boolean(t.Zh):v,this.Qh=t.Qh||d},Pl=function(){function t(){}var n=t.prototype;return n.Ih=function(t){var n=function(t){return new Al({Ch:null,kh:{},Ih:t,Rh:t.Nh,Th:t.Th,bh:0,Sh:Gd.Rf})}(new Dl(t));return G.resolve(n)},n.tv=function(t){},n.kn=function(){},t}();var xl=function(){function t(t,n){void 0===n&&(n=!0),this.nv=t,this.ev=n}var n=t.prototype;return n.Ih=function(t){var n=this.rv(t);return this.nv.Ih(n)},n.tv=function(t){return this.nv.tv(this.uv(t))},n.rv=function(n){var e=new Dl(n);if(!this.ev){var i=t.ov(e.Nh);e=new Dl({Nh:i},e)}return e},n.uv=function(n){var e=n.Nh;return this.ev||(e=t.ov(e)),{Nh:e,ah:n.ah}},n.kn=function(){this.nv.kn()},t.ov=function(t){return Wi.zr&&ya(t,"http://")?t.replace(":","s:"):t},Ii(t,null,[{key:"sv",get:function(){return t.av||(t.av=new t(new Pl)),t.av}}]),t}();function Bl(t,n){for(var e=0,i=v.keys(n);e<i.length;e++){var r=i[e];t.searchParams.set(r,n[r])}}function Ll(t,n){var e=Wi.Mr(t);return n&&!ma(e,"/")&&(e+="/"),e}xl.av=void 0,ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt();var Ml,Fl,Ul=/cache:(.+)?(?=&|$)/;function Vl(t){if(!ya(t,"http://webcache.googleusercontent.com/search?q=cache:"))return"";var n=Wi.Lr(t).search.match(Ul);return n&&n.length>1?n[1]:""}ki(),Vt(),Ri(),ki(),Vt(),Ri(),(Fl=Ml||(Ml={})).cv="HttpOpenError",Fl.fv="HttpResponseError",Fl.hv="HttpTimeoutError";var Hl=function(t){function n(n,e,i){var r;return(r=t.call(this,e,i)||this).vv=n,r}return Xi(n,t),Ii(n,[{key:"Ih",get:function(){return this.vv}}]),n}(qa);var ql=function(t){function n(n,e){return t.call(this,n,"Error while opening "+n.Nh+". Invalid URL.",e)}return Xi(n,t),Ii(n,[{key:"name",get:function(){return Ml.cv}}]),n}(Hl);ki(),Vt(),Ri();var zl=function(t){function n(n,e,i){var r;return(r=t.call(this,n.Ih,null!=i?i:function(t){return"Error while loading "+t.Ih.Nh+", status code "+t.bh}(n),e)||this).dv=n,r}return Xi(n,t),Ii(n,[{key:"name",get:function(){return Ml.fv}},{key:"lv",get:function(){return this.dv}}]),n}(Hl);ki(),Vt(),Ri();var Wl=function(t){function n(n,e){return t.call(this,n,function(t){return"Request for "+t.Nh+" timed out after "+t.Xh+" seconds."}(n),e)}return Xi(n,t),Ii(n,[{key:"name",get:function(){return Ml.hv}}]),n}(Hl);ki(),Vt();var jl=function(t,n){return(jl=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function Gl(t,n){function e(){this.constructor=t}jl(t,n),t.prototype=null===n?v.create(n):(e.prototype=n.prototype,new e)}var Yl="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var Xl=function(){var t=Yl.Blob;if(t)try{return new t,function(t,n){return new Yl.Blob(t,n)}}catch(t){}var n,e=Yl.BlobBuilder||Yl.WebKitBlobBuilder||Yl.MozBlobBuilder||Yl.MSBlobBuilder;return e?(n=e,function(t,e){var i=new n;if(t)for(var r=0,u=t;r<u.length;r++){var o=u[r];i.append(o)}return i.getBlob(e&&e.type||"")}):null}(),$l="function"==typeof Lt?Lt:void 0;function Kl(t){return t&&"function"==typeof t.getReader}function Jl(t){if("function"!=typeof t)return!1;try{var n=!1,e=new t({start:function(){n=!0}});return!!n&&Kl(e)}catch(t){return!1}}var Zl=function(){function t(t,n){this.G=t,this.wv=n}return t.prototype.pull=function(t){var n=this;return this.G.read().then((function(e){n.wv&&n.wv(e),e.done?t.close():t.enqueue(e.value)}))},t.prototype.cancel=function(t){return this.G.cancel(t)},t}();function Ql(t,n){return n.constructor===t?n:new t(new Zl(n.getReader()),{highWaterMark:0})}var tw=function(){function t(t,n){this.gv=t,this.yv=n}return t.prototype.pull=function(t){return this.gv().then((function(n){t.enqueue(new y(n)),t.close()}))},t.prototype.cancel=function(t){this.yv&&this.yv(t)},t}();function nw(t,n,e){return new t(new tw(n,e),{highWaterMark:0})}var ew={searchParams:"URLSearchParams"in Yl,iterable:"Symbol"in Yl&&"iterator"in Symbol,blob:"FileReader"in Yl&&!!Xl,formData:"FormData"in Yl,arrayBuffer:"ArrayBuffer"in Yl,stream:Jl($l),streamRequest:"Request"in Yl&&"body"in Yl.Request.prototype,streamResponse:"Response"in Yl&&"body"in Yl.Response.prototype,abort:"AbortController"in Yl&&"Request"in Yl&&"signal"in Yl.Request.prototype,encoding:"TextEncoder"in Yl&&"TextDecoder"in Yl,url:"URL"in Yl&&function(t){try{return new Yl.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Yl&&/Firefox\//.test(Yl.navigator.userAgent)};function iw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function rw(t){return"string"!=typeof t&&(t=String(t)),t}function uw(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return ew.iterable&&(n[Symbol.iterator]=function(){return n}),n}var ow=function(){function t(t){var n=this;this.Jr={};var e,i=function(t,e){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(e,t)};(e=t)&&"function"==typeof e.forEach?t.forEach(i):!function(t){return ew.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach((function(e){n.append(e,t[e])})):Array.from(t).forEach(i)}return t.prototype.append=function(t,n){t=iw(t),n=rw(n);var e=t.toLowerCase();if(this.Jr.hasOwnProperty(e)){var i=this.Jr[e],r=i[1];i[1]=r?r+", "+n:n}else this.Jr[e]=[t,n]},t.prototype.delete=function(t){var n=iw(t).toLowerCase();delete this.Jr[n]},t.prototype.get=function(t){var n=iw(t).toLowerCase();return this.Jr.hasOwnProperty(n)?this.Jr[n][1]:null},t.prototype.has=function(t){var n=iw(t).toLowerCase();return this.Jr.hasOwnProperty(n)},t.prototype.set=function(t,n){var e=(t=iw(t)).toLowerCase();this.Jr[e]=[t,rw(n)]},t.prototype.forEach=function(t,n){for(var e in this.Jr)this.Jr.hasOwnProperty(e)&&t.call(n,this.Jr[e][1],e,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(n,e){t.push(e)})),uw(t)},t.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),uw(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(n,e){t.push([e,n])})),uw(t)},t.prototype.asList=function(){var t=[];for(var n in this.Jr)if(this.Jr.hasOwnProperty(n)){var e=this.Jr[n],i=e[0],r=e[1];t.push([i,r])}return t},t}();function sw(){}ew.iterable&&(ow.prototype[Symbol.iterator]=ow.prototype.entries);var aw,cw,fw,hw=d.min,vw=String.fromCharCode;function dw(t){for(var n=[],e=0,i=t;e<i.length;e++){var r=i[e];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,e=[],i=0;i<n;i+=16384){var r=hw(i+16384,n);e.push(vw.apply(null,t.slice(i,r)))}return e.join("")}(n)}function lw(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ww(t,n){return t>>n&63|128}function gw(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(lw(t),n.push(t>>12&15|224),n.push(ww(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ww(t,12)),n.push(ww(t,6))),n.push(63&t|128)):n.push(t)}function yw(){if(fw>=cw)throw new f("Invalid byte index");var t=255&aw[fw];if(fw++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function mw(){var t,n;if(fw>cw)throw new f("Invalid byte index");if(fw===cw)return!1;if(t=255&aw[fw],fw++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|yw())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|yw()<<6|yw())>=2048)return lw(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|yw()<<12|yw()<<6|yw())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var _w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function pw(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function bw(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function kw(t){return t&&DataView.prototype.isPrototypeOf(t)}var Tw,Sw,Ew=ArrayBuffer.isView||function(t){return t&&(_w.indexOf(v.prototype.toString.call(t))>-1||kw(t))};function Iw(t){if(t.bodyUsed)return G.reject(new h("Already used"));t.bodyUsed=!0}function Rw(t){return new G((function(n,e){t.onload=function(){n(t.result)},t.onerror=function(){e(t.error)}}))}function Nw(t){return ew.encoding?new Yl.TextDecoder("utf-8").decode(new y(t)):dw(function(t){cw=(aw=t).length,fw=0;for(var n,e=[];!1!==(n=mw());)e.push(n);return e}(new y(t)))}function Ow(t){return ew.encoding?(new Yl.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],e=0,i=t;e<i.length;e++)gw(i[e],n);return n}(function(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}(t))).buffer}function Cw(t){var n=t.getReader(),e=[],i=function(t){var r=t.done,u=t.value;return r?G.resolve(e):(e.push(u),n.read().then(i))};return n.read().then(i)}function Aw(t){return Cw(t).then((function(t){return function(t){for(var n=0,e=0,i=t;e<i.length;e++)n+=(a=i[e]).byteLength;for(var r=new y(n),u=0,o=0,s=t;o<s.length;o++){var a=s[o];r.set(a,u),u+=a.byteLength}return r}(t).buffer}))}function Dw(t){return t.slice?t.slice(0):Pw(new y(t))}function Pw(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function xw(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var e=t.split("="),i=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");n.append(decodeURIComponent(i),decodeURIComponent(r))}})),n}function Bw(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.mv===Tw._v){if(!n.pv.tee)throw new f("could not clone ReadableStream body");var e=n.pv.tee(),i=e[0],r=e[1];return n.body=i,n.pv=i,n.bv=i,r}return n.mv===Tw.Xf?Dw(n.pv):n.mv===Tw.nh?n.pv.then(Bw):n.bv}(Sw=Tw||(Tw={}))[Sw.Jf=0]="Jf",Sw[Sw.kv=1]="kv",Sw[Sw.Tv=2]="Tv",Sw[Sw.Xf=3]="Xf",Sw[Sw._v=4]="_v",Sw[Sw.nh=5]="nh";var Lw=function(){function t(n,e){this.bodyUsed=!1;var i,r,u,o=this;if(this.bv=n||null,n)if("string"==typeof n)this.mv=Tw.Jf,this.pv=n;else if((u=n)&&"function"==typeof u.then)this.mv=Tw.nh,this.pv=G.resolve(n).then((function(n){return new t(n,e)})),this.pv.catch(sw);else if(ew.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.mv=Tw.kv,this.pv=n;else if(ew.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.mv=Tw.Tv,this.pv=n;else if(ew.searchParams&&pw(n))this.mv=Tw.Jf,this.pv=n.toString();else if(ew.arrayBuffer&&(bw(n)||Ew(n)))kw(n)&&(this.bv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.mv=Tw.Xf,this.pv=bw(i=n)?Dw(i):Pw(i);else{if(!ew.stream||!Kl(n))throw new f("unsupported BodyInit type");n=Ql($l,n),this.mv=Tw._v,this.pv=n,this.bv=n}else this.mv=Tw.Jf,this.pv="";this.Sv="",e.has("content-type")?this.Sv=(e.get("content-type")||"").toLowerCase():("string"==typeof n?this.Sv="text/plain;charset=UTF-8":o.mv===Tw.kv&&o.pv.type?this.Sv=o.pv.type:ew.searchParams&&pw(n)&&(this.Sv="application/x-www-form-urlencoded;charset=UTF-8"),this.Sv&&e.set("content-type",this.Sv)),ew.stream&&(null==n?this.body=null:o.mv===Tw._v?this.body=o.pv:this.body=nw($l,(function(){return o.arrayBuffer()}),(function(){o.bodyUsed=!0})))}return t.prototype.text=function(){var t,n,e,i=this,r=Iw(i);return r||(i.mv===Tw.kv?(t=i.pv,n=new FileReader,e=Rw(n),n.readAsText(t),e):i.mv===Tw.Xf?G.resolve(i.pv).then(Nw):i.mv===Tw._v?Aw(i.pv).then(Nw):i.mv===Tw.nh?i.pv.then((function(t){return t.text()})):i.mv===Tw.Tv?G.reject(new f("could not read FormData body as text")):G.resolve(i.pv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();ew.blob&&(Lw.prototype.blob=function(){var t,n,e=this,i=Iw(e);return i||(e.mv===Tw.kv?G.resolve(e.pv):e.mv===Tw.Xf?G.resolve(Xl([e.pv],{type:e.Sv})):e.mv===Tw._v?(t=e.pv,n=e.Sv,Cw(t).then((function(t){return Xl(t,{type:n||""})}))):e.mv===Tw.nh?e.pv.then((function(t){return t.blob()})):e.mv===Tw.Tv?G.reject(new f("could not read FormData body as Blob")):G.resolve(Xl([e.pv],{type:e.Sv})))}),ew.arrayBuffer&&(Lw.prototype.arrayBuffer=function(){var t,n,e,i=this;return i.mv===Tw.Xf?Iw(i)||G.resolve(i.pv):i.mv===Tw.kv?Iw(i)||(t=i.pv,n=new FileReader,e=Rw(n),n.readAsArrayBuffer(t),e):i.mv===Tw._v?Aw(i.pv):i.mv===Tw.nh?Iw(i)||i.pv.then((function(t){return t.arrayBuffer()})):i.mv===Tw.Tv?G.reject(new f("could not read FormData body as ArrayBuffer")):G.resolve(i.pv).then(Ow)}),ew.formData&&(Lw.prototype.formData=function(){var t=this;return t.mv===Tw.Tv?Iw(t)||G.resolve(t.pv):t.text().then(xw)});var Mw=[301,302,303,307,308],Fw=function(t){function n(n,e){var i=this,r=new ow((e=e||{}).headers);return(i=t.call(this,n||null,r)||this).type="default",i.status=void 0===e.status?200:e.status,i.ok=i.status>=200&&i.status<300,i.statusText=void 0!==e.statusText?String(e.statusText):"",i.headers=r,i.url=e.url||"",i}return Gl(n,t),n.prototype.clone=function(){return new n(Bw(this),{status:this.status,statusText:this.statusText,headers:new ow(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,e){if(-1===Mw.indexOf(e))throw new RangeError("Invalid status code");return new n(null,{status:e,headers:{location:t}})},n}(Lw);var Uw,Vw,Hw=(function(t,n){function e(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function u(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}function s(t){return(s=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function a(t,n){return(a=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,e){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var i=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(i){var r=v.getOwnPropertyDescriptor(i,n);return r.get?r.get.call(e):r.value}})(t,n,e||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){e(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var e=this.listeners[t],i=0,r=e.length;i<r;i++)if(e[i]===n)return void e.splice(i,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var e=function(e){o((function(){return e.call(n,t)}))},i=this.listeners[t.type],r=0,u=i.length;r<u;r++)e(i[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,i,r;return e(this,n),i=this,(t=!(r=s(n).call(this))||"object"!=typeof r&&"function"!=typeof r?c(i):r).listeners||d.call(c(t)),v.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(n,t),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(d),w=function(){function t(){e(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==i?i.createEvent?(t=i.createEvent("Event")).initEvent("abort",!1,!1):(t=i.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w}(Uw={exports:{}},Uw.exports),Uw.exports);(Vw=Hw)&&Vw.__esModule&&v.prototype.hasOwnProperty.call(Vw,"default")&&Vw.default;Hw.AbortSignal;var qw=Hw.AbortController,zw=Yl.DOMException;try{new zw}catch(t){(zw=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),zw.prototype.constructor=zw}var Ww=qw;function jw(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var e=function(){n.removeEventListener("abort",e),t.signal.removeEventListener("abort",e),t.abort()};n.addEventListener("abort",e),t.signal.addEventListener("abort",e)}}function Gw(t,n,e){return new G((function(i,r){if(n.signal.aborted)return t.catch(sw),r(Yw());var u=function(){n.signal.removeEventListener("abort",u),r(Yw())};n.signal.addEventListener("abort",u),t.then((function(t){n.signal.removeEventListener("abort",u),i(t),e&&n.abort()}),(function(t){n.signal.removeEventListener("abort",u),r(t),e&&n.abort()}))}))}function Yw(){return new zw("Aborted","AbortError")}var Xw,$w,Kw="moz-chunked-arraybuffer";function Jw(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}($w=Xw||(Xw={}))[$w.UNSENT=0]="UNSENT",$w[$w.OPENED=1]="OPENED",$w[$w.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",$w[$w.LOADING=3]="LOADING",$w[$w.DONE=4]="DONE";var Zw=function(){function t(t,n){var e=this;this.Ev=!1,this.vv=t,this.Iv=n,this.Rv=new m,this.Nv=new G((function(t,n){e.Ov=t,e.Cv=n}))}return t.prototype.send=function(){var t=this;return this.Av().then((function(n){return t.Dv(n,t.Iv),t.Nv}))},t.prototype.Av=function(){var t=this.vv;return t.mv===Tw._v?t.arrayBuffer():G.resolve(t.bv)},t.prototype.Pv=function(t){this.vv.onprogress&&this.vv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.xv=function(t){this.Cv(t)},t.prototype.Bv=function(){this.xv(new h("Network request failed"))},t.prototype.Lv=function(){this.xv(new h("Network request failed"))},t.prototype.Mv=function(){this.xv(Yw())},t.prototype.Dv=function(t,n){var e=this,i=this.vv,r=this.Rv,u=function(){return e.Fv()};if(i.signal.aborted)return this.Mv();r.onreadystatechange=function(){if(r.readyState>=Xw.HEADERS_RECEIVED&&!e.Ev){var t=function(t){var n=new ow;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),i=e.shift().trim();if(i){var r=e.join(":").trim();n.append(i,r)}})),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};e.Ev=!0,e.Uv(n)}},r.onprogress=function(t){return e.Pv(t)},r.onload=function(){return e.Vv()},r.onerror=function(){return e.Bv()},r.ontimeout=function(){return e.Lv()},r.onabort=function(){return e.Mv()},r.open(i.method,i.url,!0),r.withCredentials="include"===i.credentials,"responseType"in r&&n&&(r.responseType=n),i.headers.forEach((function(t,n){r.setRequestHeader(n,t)})),i.signal.addEventListener("abort",u),r.onloadend=function(){i.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.Fv=function(){this.Mv(),this.Rv.abort()},t}(),Qw=function(t){function n(n,e){var i=t.call(this,n,e)||this;return i.Hv=void 0,i.qv=void 0,i}return Gl(n,t),n.prototype.Uv=function(t){var n=this;this.Hv=new G((function(t,e){n.qv=t,n.zv=e})),this.Ov(new Fw(this.Hv,t))},n.prototype.Vv=function(){var t=this.Rv.response;if(null==t){var n=this.Iv;""===n||"text"===n?t=this.Rv.responseText:"document"===n?t=this.Rv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Xl([]))}this.qv(t)},n.prototype.xv=function(n){t.prototype.xv.call(this,n),this.zv&&this.zv(n)},n}(Zw),tg=function(t){function n(n){var e=t.call(this,n,Kw)||this;return e.Wv=void 0,e.jv=void 0,e.Gv=!1,e}return Gl(n,t),n.prototype.Uv=function(t){var n=this;this.Wv=new $l({start:function(t){n.jv=t},cancel:function(){n.Gv=!0,n.Fv()}}),this.Ov(new Fw(this.Wv,t))},n.prototype.Pv=function(n){this.Gv||this.jv.enqueue(new y(this.Rv.response)),t.prototype.Pv.call(this,n)},n.prototype.Vv=function(){this.jv.close()},n.prototype.xv=function(n){t.prototype.xv.call(this,n),this.jv&&!this.Gv&&(this.Gv=!0,this.jv.error(n))},n}(Zw),ng=function(){var t=ew.firefox&&Jw(Kw);return ng=function(){return t},t},eg=function(){var t;return t=ew.arrayBuffer&&Jw("arraybuffer")?"arraybuffer":ew.blob&&Jw("blob")?"blob":"",eg=function(){return t},t};function ig(t){return(ew.stream&&ng()?new tg(t):new Qw(t,eg())).send()}var rg=Yl.fetch,ug=Yl.Request,og=(Yl.Response,Yl.AbortController);var sg=["http:","https:"];var ag=function(){try{if(ew.streamRequest){var t=new ug("about:blank",{body:"",method:"POST"}).body;if(t&&Jl(t.constructor))return t.constructor}}catch(t){}}();function cg(t,n,e){var i;if(ew.stream){var r=void 0;if(ew.streamResponse){var u=t.body;r=u&&Ql($l,u)}else r=nw($l,(function(){return Gw(t.arrayBuffer(),n,!0)}),(function(){n.abort()}));r&&e&&(r=function(t,n,e){var i=0;return function(t,n,e){return new t(new Zl(n.getReader(),e),{highWaterMark:0})}($l,t,(function(t){var r=t.done,u=t.value;r?e=void 0===e?i:e:i+=u.byteLength,n(i,e)}))}(r,e,fg(t.headers))),i=r}else{var o=Gw(t.arrayBuffer(),n,!0);e&&(o=function(t,n,e){return G.resolve().then((function(){return n(0,e),t})).then((function(t){var i=t.byteLength;return n(i,e=void 0===e?i:e),t}))}(o,e,fg(t.headers))),i=o}return new Fw(i,t)}function fg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function hg(t){var n=new Ww;return t.signal&&jw(n,t.signal),function(t,n){var e,i,r=t;if(e=r.mv===Tw._v?ew.streamRequest&&ag?G.resolve(Ql(ag,r.pv)):Gw(t.arrayBuffer(),n,!1):Gw(G.resolve(t.bv),n,!1),ew.abort){var u=new og;jw(u,n.signal),i=u.signal}return e.then((function(n){return new ug(t.url,{body:n||void 0,credentials:t.credentials,headers:(e=t.headers,(e instanceof ow?e:new ow(e)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:i});var e}))}(t,n).then((function(e){return rg(e).then((function(e){return cg(e,n,t.onprogress)}))}))}var vg=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var dg=function(t){function n(e,i){var r,u,o,s,a,c,f,v,d,l=this,w=(i=i||{}).body||null;if(e instanceof n){if(e.bodyUsed)throw new h("Already used");r=e.url,u=e.credentials,i.headers||(o=new ow(e.headers)),s=e.method,a=e.mode,c=e.referrer,f=e.referrerPolicy,v=e.signal,d=e.onprogress,w||null==e.bv||(w=e.bv,e.bodyUsed=!0)}else r=String(e),u="same-origin",s="GET",a="cors",c="about:client",f="",v=null,d=null;if(!i.headers&&o||(o=new ow(i.headers)),i&&(c="about:client",f=""),(l=t.call(this,w,o)||this).url=r,l.headers=o,l.credentials=i.credentials||u,l.method=function(t){var n=t.toUpperCase();return vg.indexOf(n)>-1?n:t}(i.method||s),l.mode=i.mode||a,l.signal=i.signal||v||(new Ww).signal,l.referrer=void 0!==i.referrer?i.referrer:c,l.referrerPolicy=void 0!==i.referrerPolicy?i.referrerPolicy:f,l.onprogress=i.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return Gl(n,t),n.prototype.clone=function(){return new n(this,{body:Bw(this)})},n}(Lw),lg="function"==typeof rg&&ew.stream&&ew.streamResponse&&ew.url;function wg(t,n){return new G((function(e){var i=new dg(t,n);e((lg&&function(t){try{return sg.indexOf(new Yl.URL(t,Yl.location.href).protocol)>=0}catch(t){return!1}}(i.url)?hg:ig)(i))}))}wg.polyfill=!0;var gg=function(){function t(t){this.xc=new Wa,this.dv=void 0,this.Yv=!1,this.vv=t,this.xc.Ou(t.Au),this.lv=this.Xv()}var n=t.prototype;return n.Xv=function(){var t=this;return Ms((function(){var n,e,i,r,u,s,a,c,f;return Us(this,(function(h){switch(h.label){case 0:(n=t.vv).Xh&&o((function(){t.Yv=!0,t.xc.Nu()}),n.Xh);try{e=wg(n.Nh,{method:n.Yh,headers:n.kh.Zf(),body:n.ah,credentials:n.Zh?"include":"same-origin",signal:_g(t.xc.Au),onprogress:n.Qh})}catch(t){throw new ql(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e];case 2:return i=h.sent(),[3,4];case 3:throw r=h.sent(),Ga(u=t.$v(r))&&t.xc.Nu(),u;case 4:if(s=i.url||n.Nh,a=0===i.status&&"file:"===(v=s,Wi.Lr(v).protocol)?200:i.status,c=new yg(t,i,t.xc),f=new Al({Ch:c,Ih:n,Th:n.Th,kh:new Zd(i.headers.asList()),bh:a,Sh:i.statusText,Rh:s}),t.dv=f,kl(f))return[2,f];throw new zl(f)}var v}))}))()},n.$v=function(t){return Ga(t)?this.Yv?new Wl(this.vv):new ja(t.message,t):this.dv?new zl(this.dv,t):new ql(this.vv,t)},t}(),yg=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).dh=new mf,r.Kv=n,r.Jv=e,r.xc=i,r.dh.bo.catch(pr),r}Xi(n,t);var e=n.prototype;return e.wh=function(){return this.dh.bo},e.ih=function(t){return this.gh(this.Jv.text(),t)},e.uh=function(t){return this.gh(this.Jv.arrayBuffer(),t)},e.oh=function(){var t=this.Jv.body;return t?this.yh(t):sl(this.uh().then(ul),this.xc)},e._h=function(){var t=this.Jv.clone(),e=Vs(this.xc.Cu(),2),i=e[0],r=e[1];return this.xc=i,new n(this.Kv,t,r)},e.gh=function(t,n){var e=this;n&&this.xc.Ou(n);var i=G.resolve(t).catch((function(t){throw e.Kv.$v(t)}));return i=Ja(i,this.xc),this.dh.Ou(i.then(pr)),i},e.yh=function(t){var n=this,e=new Mt,i=G.resolve(t.pipeTo(e.writable,{preventAbort:!0})).catch((function(t){var i=n.Kv.$v(t);throw e.writable.abort(i).catch(pr),i}));return i=Ja(i,this.xc),this.dh.Ou(i.then(pr)),e.readable},Ii(n,[{key:"ph",get:function(){return this.Jv.bodyUsed}}]),n}(hl),mg="abort";function _g(t){var n=new Ww;if(t.yu)n.abort();else if(!t.mu){var e=function(){i(),n.abort()},i=function(){n.signal.removeEventListener(mg,e),t.Su(e),t.Iu(i)};n.signal.addEventListener(mg,e),t.Tu(e),t.Eu(i)}return n.signal}Ti(),ki(),Vt();var pg,bg,kg=function(){function t(){}var n=t.prototype;return n.Ih=function(t){return new gg(t).lv},n.tv=function(t){if(pi&&pi.sendBeacon)pi.sendBeacon(t.Nh,Wd([t.ah],{type:t.sh}));else{var n=t.sh?{"Content-type":t.sh}:void 0;tc(this.Ih(new Dl({Yh:Tl.POST,Nh:t.Nh,ah:t.ah,kh:n})))}},n.kn=function(){},t}();function Tg(t){return 1===t.Zv}ki(),Vt(),Ri(),ki(),Vt(),(bg=pg||(pg={}))[bg.Qv=1]="Qv",bg[bg.td=2]="td",bg[bg.Jf=3]="Jf",bg[bg.nd=4]="nd",bg[bg.ed=9]="ed",ki(),Vt();var Sg=function(t){function n(n){return t.call(this,"Invalid XML",n)}return Xi(n,t),n}(qa),Eg=function(){function t(){}return t.prototype.rd=function(t){var n,e=new DOMParser;try{n=e.parseFromString(t,"text/xml")}catch(t){throw new Sg(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Sg;return new Dg(n)},t}(),Ig=function(){function t(t){this.ud=t}var n=t.prototype;return n.od=function(t){return this.ud.isEqualNode(t.ud)},n.sd=function(n){return new t(this.ud.cloneNode(n))},Ii(t,[{key:"Zv",get:function(){return pg.td}},{key:"fd",get:function(){var t;return null!=(t=this.ud.localName)?t:Bg(this.ud.nodeName)}},{key:"hd",get:function(){return this.ud.nodeName}},{key:"vd",get:function(){var t;return null!=(t=this.ud.namespaceURI)?t:void 0}},{key:"dd",get:function(){var t;return null!=(t=this.ud.prefix)?t:void 0}},{key:"ld",get:function(){return this.ud.nodeValue}}]),t}(),Rg=function(){function t(t){this.wd=void 0,this.gd=t}var n=t.prototype;return n.yd=function(t){return this.md.filter((function(n){return Pg(n)&&n._d===t}))},n.pd=function(t,n){return this.md.filter((function(e){return Pg(e)&&e.fd===n&&e.vd===t}))},n.bd=function(t){this.gd.appendChild(t.kd),this.wd&&this.wd.push(t)},n.od=function(t){return this.gd.isEqualNode(t.kd)},Ii(t,[{key:"md",get:function(){return void 0===this.wd&&(this.wd=function(t){for(var n=[],e=0;e<t.length;e++){var i=xg(t.item(e));i&&n.push(i)}return n}(this.gd.childNodes)),this.wd}},{key:"Td",get:function(){return this.md.filter(Pg)}},{key:"kd",get:function(){return this.gd}}]),t}(),Ng=function(t){function n(n){return t.call(this,n)}Xi(n,t);var e=n.prototype;return e.Sd=function(t){if(this.gd.hasAttribute(t))return this.gd.getAttribute(t)},e.Ed=function(t,n){if(this.gd.hasAttributeNS(t,n))return this.gd.getAttributeNS(t,n)},e.Id=function(t){this.gd.removeAttribute(t)},e.Rd=function(t,n){this.gd.removeAttributeNS(t,n)},e.Nd=function(t,n){this.gd.setAttribute(t,n)},e.Od=function(t,n,e){this.gd.setAttributeNS(t,n,e)},e.sd=function(t){return new n(this.gd.cloneNode(t))},Ii(n,[{key:"Zv",get:function(){return pg.Qv}},{key:"fd",get:function(){var t;return null!=(t=this.gd.localName)?t:Bg(this.gd.nodeName)}},{key:"vd",get:function(){var t;return null!=(t=this.gd.namespaceURI)?t:void 0}},{key:"dd",get:function(){var t;return null!=(t=this.gd.prefix)?t:void 0}},{key:"_d",get:function(){return this.gd.nodeName}},{key:"Cd",get:function(){return function(t){for(var n=[],e=0;e<t.length;e++)n.push(new Ig(t.item(e)));return n}(this.gd.attributes)}},{key:"Ad",get:function(){return this.gd.textContent}}]),n}(Rg),Og=function(){function t(t){this.gd=t}return t.prototype.od=function(t){return this.Ch===t.Ch},Ii(t,[{key:"Ch",get:function(){return this.gd.nodeValue}},{key:"kd",get:function(){return this.gd}}]),t}(),Cg=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n.prototype.sd=function(t){return new n(this.gd.cloneNode(t))},Ii(n,[{key:"Zv",get:function(){return pg.Jf}}]),n}(Og),Ag=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n.prototype.sd=function(t){return new n(this.gd.cloneNode(t))},Ii(n,[{key:"Zv",get:function(){return pg.nd}}]),n}(Og),Dg=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n.prototype.sd=function(t){return new n(this.gd.cloneNode(t))},Ii(n,[{key:"Zv",get:function(){return pg.ed}},{key:"Dd",get:function(){return new Ng(this.gd.documentElement)}}]),n}(Rg);function Pg(t){return Tg(t)}function xg(t){switch(t.nodeType){case pg.Qv:return new Ng(t);case pg.Jf:return new Cg(t);case pg.nd:return new Ag(t)}}function Bg(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var Lg,Mg,Fg=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Pd=void 0,n.xd=Ug(),n.Bd=Vg(),n.Ld=Hg(),n.Md=void 0,n.Fd=new Eg,n}return Xi(n,t),n.prototype.rd=function(t){return this.Fd.rd(t)},Ii(n,[{key:"Nr",get:function(){return this.Pd||(this.Pd=new Ra(Vd())),this.Pd}},{key:"Ud",get:function(){return this.xd}},{key:"Vd",get:function(){return this.Bd}},{key:"Hd",get:function(){return this.Ld}},{key:"qd",get:function(){return!1}},{key:"zd",get:function(){return qd.uf()}},{key:"Wd",get:function(){return{jd:jd}}},{key:"Gd",get:function(){return u.connection&&u.connection.effectiveType||Kd}},{key:"Yd",get:function(){return u.connection&&u.connection.type||Jd}},{key:"Xd",get:function(){return this.Md||(this.Md=new xl(new kg)),this.Md}}]),n}(xs);function Ug(){if(sr.We)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}function Vg(){return sr.li||sr.We}function Hg(){return(sr.li||sr.We)&&!(sr.Ze&&sr.Qe<3)}$i(new Fg),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),Mi(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),(Mg=Lg||(Lg={})).$d="Kd",Mg.Jd="Zd",ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri();var qg=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).Qd=void 0,i}return Xi(n,t),Ii(n,[{key:"tl",get:function(){return this.Qd||(this.Qd=this.nl()),this.Qd}}]),n}(fc);function zg(t){return Boolean(t&&t.tl)}var Wg=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n}(qg),jg=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n}(fc),Gg=function(t){function n(n){var e;return(e=t.call(this,Lg.$d)||this).il=n,e}return Xi(n,t),n.prototype.nl=function(){return new Yg(this.il.tl)},n}(Wg),Yg=function(t){function n(n){var e;return(e=t.call(this,"addtrack")||this).track=n,e}return Xi(n,t),n}(jg);ki(),Vt();var Xg,$g,Kg=function(t){function n(n){var e;return(e=t.call(this,Lg.Jd)||this).il=n,e}return Xi(n,t),n.prototype.nl=function(){return new Jg(this.il.tl)},n}(Wg),Jg=function(t){function n(n){var e;return(e=t.call(this,"removetrack")||this).track=n,e}return Xi(n,t),n}(jg);ki(),Vt(),($g=Xg||(Xg={})).ul="ol",$g.sl="al",$g.cl="fl",$g.hl="vl",$g.dl="ll",$g.wl="gl",$g.yl="ml",$g._l="pl",$g.bl="Wa",$g.kl="Tl",$g.Sl="El",$g.QUALITY_UNAVAILABLE="qualityunavailable",$g.NO_QUALITY="noquality";var Zg=function(t){function n(){var n;return(n=t.call(this)||this).Il=[],n.Qd=void 0,n}Xi(n,t);var e=n.prototype;return e.Rl=function(t){return this.Il[t]},e.Nl=function(t){return!(!t||Ua(this.Il,t))&&(this.Il.push(t),this.Qd&&this.Qd.push(t.tl),t.Mu(Xg.wl,this.xu),this.Bu(new Gg(t)),!0)},e.Ol=function(t){if(!t)return!1;var n=this.Il.indexOf(t);return!(n<0)&&(Fa(this.Il,n),this.Qd&&Fa(this.Qd,n),t.Hu(Xg.wl,this.xu),this.Bu(new Kg(t)),!0)},e.Cl=function(t){return Ua(this.Il,t)},e.ic=function(){for(var t=this.Il,n=t.length-1;n>=0;n-=1)this.Ol(t[n])},e.kn=function(){this.ic(),this.Vu()},Ii(n,[{key:"Al",get:function(){return this.Il}},{key:"tl",get:function(){return this.Qd||(this.Qd=this.nl()),this.Qd}},{key:"Dl",get:function(){return this.Il.length}}]),n}(oc);ki(),Vt();var Qg=function(t){function n(n){var e;return(e=t.call(this,Xg.wl)||this).il=n,e}return Xi(n,t),n.prototype.nl=function(){return new ty(this.il.tl)},n}(Wg),ty=function(t){function n(n){var e;return(e=t.call(this,"change")||this).track=n,e}return Xi(n,t),n}(jg),ny=function(t){function n(){var n;return(n=t.call(this)||this).Pl=void 0,n.xl=function(t){var e=t.il;n.Nl(e)},n.Bl=function(t){var e=t.il;n.Ol(e)},n}Xi(n,t);var e=n.prototype;return e.Ll=function(t){t.Mu(Lg.$d,this.xl),t.Mu(Lg.Jd,this.Bl)},e.Ml=function(t){t.Hu(Lg.$d,this.xl),t.Hu(Lg.Jd,this.Bl)},e.kn=function(){this.Pl&&this.Pl.kn(),t.prototype.kn.call(this)},Ii(n,[{key:"Fl",get:function(){return this.Pl},set:function(t){var n=this.Pl;if(t!==n){if(n){this.Ml(n);for(var e=0,i=n.Al;e<i.length;e++){var r=i[e];t&&t.Cl(r)||this.Ol(r)}}if(this.Pl=t,t){for(var u=[],o=0,s=t.Al;o<s.length;o++){var a=s[o];this.Nl(a),this.Ul(a)&&u.push(a)}this.Ll(t);for(var c=0;c<u.length;c++){var f=u[c];f.Bu(new Qg(f))}}}}}]),n}(Zg);ki(),Vt(),ki(),Vt(),ki(),Vt();var ey=v.freeze||br;function iy(t,n,e){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:e})}function ry(t,n){for(var e=0,i=v.getOwnPropertyNames(n);e<i.length;e++){var r=i[e];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function uy(t){if(wr(t)){var n={};for(var e in t)ar.call(t,e)&&(n[e]=uy(t[e]));return n}if(vr(t)){for(var i=new Array(t.length),r=0;r<i.length;r++)r in t&&(i[r]=uy(t[r]));return i}return t}function oy(t,n){return t===n||!(!t||!n)&&(!(!lr(t)||!lr(n))&&(dr(t)?!!dr(n)&&function(t,n){var e=t.length,i=n.length;if(e!==i)return!1;for(var r=0;r<e;r+=1)if(!oy(t[r],n[r]))return!1;return!0}(t,n):!dr(n)&&function(t,n){var e=v.keys(t),i=v.keys(n);if(!e||!i||e.length!==i.length)return!1;for(var r=0;r<e.length;r++){var u=e[r];if(!ar.call(n,u)||!oy(t[u],n[u]))return!1}return!0}(t,n)))}function sy(t,n){return t.constructor===n.constructor}function ay(t){for(var n={},e=0,i=v.keys(t);e<i.length;e++){var r=i[e],u=t[r];null!=u&&(n[r]=u)}return n}function cy(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function fy(t){return fr(t)?cy(t):void 0}function hy(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function vy(t){var n=hy(t);if(g(n))throw new f("Expected a valid number.");return n}function dy(t){return"string"==typeof t?t:""}function ly(t,n){if(!dr(t))return[];for(var e=0|t.length,i=new Array(e),r=0;r<e;r++)i[r]=n(t[r]);return i}function wy(t,n){return dr(t)?ly(t,n):n(t)}ki(),Vt();var gy,yy,my=[Lg.$d,Lg.Jd,Xg.wl];function _y(t){var n,e=t.Al.map((function(t){return t.tl}));return e.item=function(n){var e=0|n,i=t.Rl(e);return i&&i.tl||void 0},e.addEventListener=function(t,e){n.Mu(t,e)},e.removeEventListener=function(t,e){n.Hu(t,e)},n=new sc(e),t.Mu(my,(function(t){return n.Bu(t.tl)})),e}function py(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function by(){}function ky(t){var n,e=[Xg.bl,Xg.wl,Xg.kl,Xg.Sl,Xg.QUALITY_UNAVAILABLE],i={get activeQuality(){return t.Vl&&t.Vl.tl},get enabled(){return t.Hl},set enabled(n){t.Hl=cy(n)},get id(){return t.ql},get uid(){return t.zl},get kind(){return t.Wl},get label(){return t.jl},set label(n){t.jl=dy(n)},get accessibility(){var n,e;return null!=(e=null==(n=t.Gl)?void 0:n.map(py))?e:[]},get language(){return t.Yl},get qualities(){return t.Xl.tl},set targetQuality(n){var e;(e=n?function(t,n){for(var e=[],i=0,r=t.Xl.Al;i<r.length;i++)for(var u=r[i],o=0;o<n.length;o++){var s=n[o];u.tl===s&&e.push(u)}return e}(t,vr(n)?n:[n]):[]).length>0?t.$l=e:t.$l=void 0},get targetQuality(){if(t.$l)return 1===t.$l.length?t.$l[0].tl:t.$l.map((function(t){return t.tl}))},addEventListener:function(t,e){var i=wy(t,dy);n.Mu(i,e)},removeEventListener:function(t,e){var i=wy(t,dy);n.Hu(i,e)}};return n=new sc(i),t.Mu(e,(function(t){return n.Bu(t.tl)})),v.defineProperty(i,"constructor",{value:by}),i}function Ty(){}function Sy(t){var n=_y(t);return v.defineProperty(n,"constructor",{value:Ty}),n}ki(),Vt(),(yy=gy||(gy={}))[yy.Kl=0]="Kl",yy[yy.Jl=1]="Jl",yy[yy.Zl=2]="Zl",yy[yy.Ql=3]="Ql",yy[yy.tw=4]="tw",yy[yy.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",yy[yy.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",yy[yy.nw=7]="nw";var Ey,Iy,Ry,Ny=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.nl=function(){return Sy(this)},e.Ul=function(t){return t.Hl},n}(ny);function Oy(){}function Cy(t){var n,e=[Xg.wl,Xg.bl,Xg.ul,Xg.sl,Xg.cl,Xg.hl,Xg.dl,Xg.yl,Xg._l],i=[Ry.ew],r={get kind(){return t.Wl},get label(){return t.jl},set label(n){t.jl=dy(n)},get language(){return t.Yl},get id(){return t.ql},get uid(){return t.zl},get inBandMetadataTrackDispatchType(){return t.iw},get mode(){return t.rw},set mode(n){n!==Ey.uw&&n!==Ey.ow&&n!==Ey.sw||t.aw(n)},get forced(){return Boolean(t.cw)},get accessibility(){var n,e;return null!=(e=null==(n=t.Gl)?void 0:n.map(py))?e:[]},get type(){return t.iu},get readyState(){return t.fw},get cues(){return t.rw===Ey.sw?null:t.hw.tl},get activeCues(){return t.rw===Ey.sw?null:t.dw.tl},get src(){return t.lw||""},addEventListener:function(t,e){var i=wy(t,dy);n.Mu(i,e)},removeEventListener:function(t,e){var i=wy(t,dy);n.Hu(i,e)}};return n=new sc(t),t.Mu(e,(function(t){return n.Bu(t.tl)})),t.Mu(i,(function(t){return n.Bu(t)})),v.defineProperty(r,"constructor",{value:Oy}),r}function Ay(){}function Dy(t){var n=_y(t);return v.defineProperty(n,"constructor",{value:Ay}),n}ki(),Vt(),ki(),Vt(),ki(),Vt(),(Iy=Ey||(Ey={})).sw="disabled",Iy.ow="hidden",Iy.uw="showing",ki(),Vt(),(Ry||(Ry={})).ew="error";var Py=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.nl=function(){return Dy(this)},e.Ul=function(t){return t.rw===Ey.uw},n}(ny);ki(),Vt();var xy=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.Uu=function(n){t.prototype.Uu.call(this,n)},e.Wu=function(n){t.prototype.Wu.call(this,n)},n}(oc),By=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n}(xy);ki(),Vt();var Ly=function(t){function n(){return t.call(this,Gd.mf)}return Xi(n,t),n}(fc);ki(),Vt();var My=function(t){function n(n){var e;return(e=t.call(this,Gd.df)||this).currentSource=n,e}return Xi(n,t),n}(fc);function Fy(t,n,e){return n in t?v.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Uy="theoplayer-stored-network-info",Vy=function(){function t(){}return t.ww=function(n,e){var i=t.gw(n,e);return i?t.yw(i):0},t.mw=function(){return Wi.Gd||Kd},t._w=function(){return Wi.Yd||Jd},t.gw=function(n,e){var i,r=null==(i=Wi.zd)?void 0:i.so(e),u=r&&JSON.parse(r);if(u&&u[n])return t.pw(u,n,e)},t.yw=function(t){var n=t.availableBandwidth;return n||0},t.pw=function(n,e,i){if(!t.bw(n,e))return n[e];t.kw(n,e,i)},t.kw=function(t,n,e){var i;delete t[n],null==(i=Wi.zd)||i.rf(e,JSON.stringify(t))},t.bw=function(t,n){var e=t[n].storedTimestamp;if(!e)return!1;var i=new Date(e),r=(new Date).getTime();return i.setMonth(i.getMonth()+1)<=r},t.Tw=function(t,n,e,i){return Fs({},t,Fy({},n,{availableBandwidth:e,storedTimestamp:i}))},t.Sw=function(n){var e=t.mw();t.Ew(e,Uy,n,cu())},t.Ew=function(n,e,i,r){var u,o,s=null==(u=Wi.zd)?void 0:u.so(e),a=s?JSON.parse(s):void 0,c=t.Tw(a,n,i,r);null==(o=Wi.zd)||o.rf(e,JSON.stringify(c))},t.Iw=function(){var n=t.mw();return t.ww(n,Uy)},t}();ki(),Vt(),ki(),Vt();var Hy,qy,zy,Wy,jy,Gy,Yy,Xy,$y,Ky,Jy,Zy,Qy,tm,nm="1ADD53F3";function em(t){return{chromecast:function(t){return{appID:t&&t.appID?dy(t.appID):nm}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return"auto";case"manual":return"manual";case"disabled":return"disabled";default:return"manual"}}(t?t.strategy:void 0)}}function im(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}function rm(t){var n,e=jy.Rw;return(n=t)&&ga(n,"mpd")&&(e=jy.Nw),function(t){return!!t&&ga(t,"m3u8")}(t)&&(e=jy.Ow),e}function um(t){return lr(t)&&lr(t.ssai)&&"google-dai"===t.ssai.integration}function om(t){return lr(t)&&gr(t.integration)&&"verizon-media"===t.integration}function sm(t){return lr(t)&&gr(t.integration)&&"mediatailor"===t.integration}function am(t){if(gr(t))return!t;if(om(t))return!t.id;if(um(t)){var n=t.ssai,e="live"===n.availabilityType&&n.assetKey,i="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(e&&i)}return!t.src}function cm(t){return Boolean(lr(t)&&gr(t.src))}function fm(t){return t.type===jy.Cw||t.type===jy.Aw}function hm(t){return gr(t)||cm(t)||um(t)||om(t)}function vm(t){if(t){if(hm(t))return am(t);for(var n=0;n<t.length;n++){if(!am(t[n]))return!1}return!0}return!0}function dm(){return{crossOrigin:zy.Dw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[]}}function lm(){return Fs({},dm(),{src:void 0,type:jy.Rw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function wm(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Yy.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return $y.NONE;case"midroll-and-postroll":default:return $y.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=cy(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Yy.INSECURE;case"disabled":return Yy.DISABLED;case"enabled":default:return Yy.ENABLED}}(t.vpaidMode)),vr(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(gr)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:cy(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1};var n}(t.googleIma))),n}function gm(t){if(!dr(t))return[];for(var n=[],e=0;e<t.length;e++){var i=t[e];wr(i)&&n.push(i)}return n}function ym(t){return gr(t.src)}(qy=Hy||(Hy={})).AUTO="auto",qy.MANUAL="manual",qy.DISABLED="disabled",ki(),Vt(),ki(),Vt(),(Wy=zy||(zy={})).Dw="",Wy.Pw="anonymous",Wy.xw="use-credentials",(Gy=jy||(jy={})).Nw="application/dash+xml",Gy.Ow="application/vnd.apple.mpegurl",Gy.Bw="application/x-mpegurl",Gy.Rw="video/mp4",Gy.Cw="application/vnd.theoplayer.hesp+json",Gy.Aw="application/vnd.theo.hesp+json",ki(),Vt(),ki(),Vt(),(Xy=Yy||(Yy={})).ENABLED="enabled",Xy.INSECURE="insecure",Xy.DISABLED="disabled",ki(),Vt(),ki(),Vt(),(Ky=$y||($y={})).NONE="none",Ky.MIDROLL_AND_POSTROLL="midroll-and-postroll",ki(),Vt(),(Zy=Jy||(Jy={})).DEFAULT="",Zy.SRT="srt",Zy.TTML="ttml",Zy.WEBVTT="webvtt",Zy.EMSG="emsg",Zy.EVENT_STREAM="eventstream",Zy.ID3="id3",Zy.CEA608="cea608",Zy.DATE_RANGE="daterange",ki(),Vt(),ki(),Vt(),(tm=Qy||(Qy={}))[tm.Lw=0]="Lw",tm[tm.Mw=1]="Mw",tm[tm.Fw=2]="Fw",tm[tm.Uw=3]="Uw",tm[tm.Vw=4]="Vw";var mm=function(t){function n(n,e){var i;return void 0===e&&(e=Qy.Lw),(i=t.call(this,Gd.gf)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(fc);ki(),Vt();var _m=function(t){function n(n){var e;return(e=t.call(this,Gd.Of)||this).currentTime=n,e}return Xi(n,t),n}(fc);ki(),Vt();var pm,bm,km=function(t){function n(n){var e;return(e=t.call(this,Gd.Cf)||this).currentTime=n,e}return Xi(n,t),n}(fc);ki(),Vt(),ki(),Vt(),(bm=pm||(pm={})).Hw="canplay",bm.qw="canplaythrough",bm.zw="loadeddata",bm.Ww="loadedmetadata",bm.yl="readystatechange",bm.jw="waiting",bm.Gw="playing";var Tm=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"],Sm=function(t){function n(n,e){var i;return void 0===e&&(e=Qy.Mw),(i=t.call(this,pm.Ww)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(fc);ki(),Vt();var Em=function(t){function n(n){var e;return(e=t.call(this,Gd.wf)||this).duration=n,e}return Xi(n,t),n}(fc);ki(),Vt();var Im=function(t){function n(n,e){var i;return(i=t.call(this,Gd.Df)||this).currentTime=n,i.playbackRate=e,i}return Xi(n,t),n}(fc);ki(),Vt();var Rm=function(t){function n(n,e){var i;return(i=t.call(this,Gd.zf)||this).currentTime=n,i.currentProgramDateTime=e,i}return Xi(n,t),n}(fc);ki(),Vt();var Nm=function(t){function n(n){var e;return(e=t.call(this,Gd.yf)||this).currentTime=n,e}return Xi(n,t),n}(fc);ki(),Vt();var Om=function(t){function n(n,e){var i;return void 0===e&&(e=Qy.Fw),(i=t.call(this,pm.zw)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(fc);ki(),Vt();var Cm=function(t){function n(n){var e;return(e=t.call(this,Gd.Lf)||this).currentTime=n,e}return Xi(n,t),n}(fc);ki(),Vt();var Am=function(t){function n(n){var e;return(e=t.call(this,Gd.Bf)||this).currentTime=n,e}return Xi(n,t),n}(fc);ki(),Vt();var Dm=function(t){function n(n,e){var i;return(i=t.call(this,Gd.Wf)||this).currentTime=n,i.volume=e,i}return Xi(n,t),n}(fc);ki(),Vt();var Pm=function(t){function n(n,e){var i;return void 0===e&&(e=Qy.Uw),(i=t.call(this,pm.Hw)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(fc);ki(),Vt();var xm=function(t){function n(n,e){var i;return void 0===e&&(e=Qy.Vw),(i=t.call(this,pm.qw)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(fc);ki(),Vt();var Bm=function(t){function n(n,e){var i;return(i=t.call(this,pm.yl)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(fc);ki(),Vt(),Ri();var Lm=function(t){function n(n){var e;return(e=t.call(this,Ry.ew)||this).errorObject=n,e}return Xi(n,t),n.prototype.nl=function(){return this},Ii(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(qg);ki(),Vt();var Mm,Fm,Um,Vm,Hm={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function qm(t){if(fr(t))return zm(ly(null==t?void 0:t.preferredAudioCodecs,dy),ly(null==t?void 0:t.preferredVideoCodecs,dy),fy(null==t?void 0:t.restrictToPlayerSize))}function zm(t,n,e){if(0!==t.length||0!==n.length||void 0!==e)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:e}}function Wm(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function jm(t){switch(t){case"all":case"content":return t;default:return"none"}}function Gm(t){var n,e,i,r,u,o=uy(t||{});return o.libraryLocation&&(o.libraryLocation=Ll(o.libraryLocation,!0)),o.isEmbeddable=Boolean(o.isEmbeddable),o.cast=em(o.cast),o.ads=wm(o.ads),o.analytics=gm(o.analytics),o.mutedAutoplay=jm(o.mutedAutoplay),o.allowNativeFullscreen=Boolean(o.allowNativeFullscreen),o.allowMixedContent=Boolean(o.allowMixedContent),o.persistVolume=Boolean(o.persistVolume),o.liveOffset=(n=o.liveOffset,Number(n)||void 0),o.hlsDateRange=(e=o.hlsDateRange,Boolean(e)),o.retainPlaybackRateOnSourceChange=Boolean(o.retainPlaybackRateOnSourceChange),o.license=gr(i=o.license)?i:void 0,o.licenseUrl=function(t){if(!t)return;try{return Ll(t)}catch(t){return void Wi.pr("Invalid 'licenseUrl', falling back to default URL")}}(o.licenseUrl),o.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(o.vr),o.abr=qm(o.abr),o.retryConfiguration=(r=o.retryConfiguration,u=Fs({},Hm),void 0!==r&&(void 0!==r.maxRetries&&(u.maxRetries=Number(r.maxRetries)),void 0!==r.minimumBackoff&&(u.minimumBackoff=Number(r.minimumBackoff)),void 0!==r.maximumBackoff&&(u.maximumBackoff=Number(r.maximumBackoff))),u),o.hideDeprecationWarnings=Boolean(o.hideDeprecationWarnings),o}function Ym(t){return{Yw:t.Yw,Xw:t.Xw,$w:t.$w,Ju:t.Ju,Kw:t.Kw,Jw:t.Jw,Zw:t.Zw,Qw:t.Qw,fw:t.fw,tg:t.tg,ng:t.ng,eg:t.eg,ig:t.ig}}function Xm(t,n,e){if(n!==e){var i=n.Yw,r=n.Xw,u=n.Jw,o=n.Zw,s=n.Qw,a=n.fw,c=n.tg,f=(n.eg,n.ng,n.ig),h=e.Yw,v=e.Xw,d=e.$w,l=e.Kw,w=e.Jw,y=e.Zw,m=e.Qw,_=e.fw,p=e.tg,b=(e.eg,e.ng,e.ig);a!==Qy.Lw&&t.Bu(new mm(h,_)),y&&!o?t.Bu(new _m(h)):!y&&o&&t.Bu(new km(h)),_>=Qy.Mw&&t.Bu(new Sm(h,_)),v===r||g(v)&&g(r)||t.Bu(new Em(v)),m!==s&&t.Bu(new Im(h,m)),h!==i&&t.Bu(new Rm(h,void 0)),d&&t.Bu(new Nm(h)),_>=Qy.Fw&&t.Bu(new Om(h,_)),p&&!c?t.Bu(new Cm(h)):!p&&c&&t.Bu(new Am(h)),b===f&&w===u||t.Bu(new Dm(h,b)),_>=Qy.Uw&&t.Bu(new Pm(h,_)),_>=Qy.Vw&&t.Bu(new xm(h,_)),_!==a&&t.Bu(new Bm(h,_)),l&&t.Bu(new Lm(l))}}ki(),Vt(),ki(),Vt(),(Fm=Mm||(Mm={})).Wh="audio",Fm.jh="video",Fm.Jf="text",Fm.Gh="image",Fm.Ah="unknown",(Vm=Um||(Um={})).NONE="none",Vm.ALL="all",Vm.CONTENT="content",ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt();var $m=.25,Km={rg:.2,ug:.45,og:.7,sg:3,ag:r_,cg:u_},Jm={rg:.4,ug:.65,og:1,sg:3,ag:r_,cg:u_},Zm={rg:.4,ug:.7,og:.9,sg:3,ag:r_,cg:u_},Qm={rg:.4,ug:.65,og:1,sg:3,ag:r_,cg:u_},t_={rg:.5,ug:1.125,og:1.75,sg:2.55,ag:r_,cg:u_};function n_(){var t;return t=Wi.Ur.Qi?Qm:Wi.Ur.er?Jm:Wi.Ur.nr?"Android"===Wi.Vr.Hr?Zm:Km:t_,Wi.Vr.qr?function(t){if(Wi.Vr.qr){var n=d.max(.65,t.rg),e=d.max(n+$m,t.ug),i=d.max(e+$m,t.og);return{rg:n,ug:e,og:i,sg:d.max(i+$m,t.sg),ag:r_,cg:u_}}return t}(t):t}ki(),Vt(),ki(),Vt();var e_,i_,r_=.92,u_=1.08;function o_(t){return{goLive:function(){return t.fg()},get isLive(){return t.hg},get currentServerLiveTime(){return t.vg},get currentLatency(){return t.dg},get latencies(){return t.lg},get latency(){return t.wg},set latency(n){if(!function(t){if(!lr(t))return!1;var n=t,e=fr(n.target)&&"number"==typeof n.target&&fr(n.windowEnd)&&"number"==typeof n.windowEnd&&fr(n.windowStart)&&"number"==typeof n.windowStart&&fr(n.maxOffset)&&"number"==typeof n.maxOffset,i=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return e&&i}(n))throw new f("Invalid latency configuration");t.wg=n},get manifest(){return t.gg},addEventListener:function(n,e){t.Mu(a_(n),e)},removeEventListener:function(n,e){t.Hu(a_(n),e)}}}(i_=e_||(e_={}))[i_.sw=0]="sw",i_[i_.yg=1]="yg",i_[i_.mg=2]="mg";var s_=["golive","latencyrecoveryseek"];function a_(t){var n=wy(t,dy);return(gr(n)?[n]:n).filter((function(t){return Ua(s_,t)}))}var c_=function(t){function n(){var n,e;return(n=t.call(this)||this).Pl=void 0,n.Qd=void 0,n._g={windowStart:(e=n_()).rg,windowEnd:e.og,target:e.ug,maxOffset:e.sg},n.Pl=void 0,n}Xi(n,t);var e=n.prototype;return e.Ll=function(t){t.Mu(s_,this.xu)},e.Ml=function(t){t.Hu(s_,this.xu)},e.fg=function(){var t;null==(t=this.Pl)||t.fg()},e.kn=function(){this.Vu(),this.Pl&&this.Ml(this.Pl),this.Pl=void 0},Ii(n,[{key:"Fl",get:function(){return this.Pl},set:function(t){var n=this.Pl;t!==n&&(n&&this.Ml(n),t&&this.Ll(t),this.Pl=t,this.Pl&&(this.Pl.wg=this._g))}},{key:"tl",get:function(){return this.Qd||(this.Qd=o_(this)),this.Qd}},{key:"vg",get:function(){var t;return null==(t=this.Pl)?void 0:t.vg}},{key:"dg",get:function(){var t;return null==(t=this.Pl)?void 0:t.dg}},{key:"lg",get:function(){var t;return null==(t=this.Pl)?void 0:t.lg}},{key:"hg",get:function(){return!!this.Pl&&this.Pl.hg}},{key:"wg",get:function(){return this.Pl?this.Pl.wg:this._g},set:function(t){this.Pl&&(this.Pl.wg=t),this._g=t}},{key:"gg",get:function(){var t;return null==(t=this.Pl)?void 0:t.gg}}]),n}(oc),f_=function(t){function n(n){var e;return(e=t.call(this)||this).pg=[],e.bg=!1,e.kg=new Ny,e.Tg=new Ny,e.Sg=new Py,e.Eg=new c_,e.Ig=!1,e.Rg(n),n.Uu(e.xu),e.Pl=n,e.kg.Fl=n.Ng,e.Tg.Fl=n.Og,e.Sg.Fl=n.Cg,e.Eg.Fl=n.Ag,e}Xi(n,t);var e=n.prototype;return e.gn=function(){this.Pl.gn()},e.yn=function(){this.Pl.yn()},e.Dg=function(){var t=this;return Ms((function(){return Us(this,(function(n){return[2,nc(t.pg.map((function(t){return t.Dg()}))).then(pr)]}))}))()},e.Pg=function(){return this.Pl.Pg()},e.xg=function(t,n){var e=this;return Ms((function(){return Us(this,(function(i){switch(i.label){case 0:return Ya(n),[4,e.Pl.xg(t,n)];case 1:return i.sent(),[2]}}))}))()},e.Bg=function(){return this.Fl.Bg()},e.Lg=function(){this.Fl.Lg()},e.Mg=function(){this.Fl.Mg()},e.En=function(){if(!this.bg){for(var t=0,n=this.pg;t<n.length;t++){n[t].En()}this.bg=!0}},e.Fg=function(t){this.Pl.Fg(t)},e.Ug=function(){this.Pl.Ug()},e.Vg=function(){this.Pl.Vg()},e.Hg=function(){this.Pl.Hg()},e.qg=function(){return this.Pl.qg()},e.zg=function(){return this.Pl.zg()},e.Wg=function(){for(var t=[],n=0,e=this.pg;n<e.length;n++){var i,r=e[n];(i=t).push.apply(i,Bi(r.Wg()))}return t},e.jg=function(t){for(var n=!1,e=0,i=this.pg;e<i.length;e++){n=i[e].jg(t)||n}return n},e.Bu=function(n){this.jg(n)||t.prototype.Bu.call(this,n)},e.Rg=function(t){this.pg.push(t)},e.Gg=function(t){Ma(this.pg,t)},e.Yg=function(t){if(t!==this.Pl){var n=this.Pl;n.Ug(),n.Wu(this.xu);var e=Ym(this),i=this.Xg,r=this.zg();this.Pl=t,this.kg.Fl=t.Ng,this.Tg.Fl=t.Og,this.Sg.Fl=t.Cg,this.Eg.Fl=t.Ag,Xm(this,e,this);var u=this.Xg;u!==i&&this.Bu(new My(u)),this.zg()!==r&&this.Bu(new Ly),t.Uu(this.xu),t.Fg(n)}},e.$g=function(){},e.Kg=function(){this.Pl.Kg()},e.kn=function(){var t=this;return Ms((function(){var n,e;return Us(this,(function(i){switch(i.label){case 0:t.Vu(),t.Pl.Ug(),n=0,e=t.pg,i.label=1;case 1:return n<e.length?[4,e[n].kn()]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return t.kg.kn(),t.Tg.kn(),t.Sg.kn(),t.Eg.kn(),[2]}}))}))()},e.ic=function(){var t=this;return Ms((function(){return Us(this,(function(n){return[2,nc(t.pg.map((function(t){return t.ic()}))).then(pr)]}))}))()},Ii(n,[{key:"Ng",get:function(){return this.kg}},{key:"Cg",get:function(){return this.Sg}},{key:"Og",get:function(){return this.Tg}},{key:"Jg",get:function(){return this.Pl.Jg}},{key:"Zg",get:function(){return this.Pl.Zg},set:function(t){this.Pl.Zg=t}},{key:"Xg",get:function(){return this.Pl.Xg}},{key:"Yw",get:function(){return this.Pl.Yw},set:function(t){this.Pl.Yw=t}},{key:"Xw",get:function(){return this.Pl.Xw}},{key:"Qg",get:function(){return this.Pl.Qg}},{key:"$w",get:function(){return this.Pl.$w}},{key:"Ju",get:function(){return this.Pl.Ju}},{key:"Kw",get:function(){return this.Pl.Kw}},{key:"Ag",get:function(){return this.Eg}},{key:"ty",get:function(){return this.Pl.ty}},{key:"ny",get:function(){return function(t){for(var n=0,e=0,i=0,r=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var a=t[s];n+=a.ey,e+=a.iy,i+=a.uy,r+=a.oy,u+=a.sy,o.amountOfBufferedAudioSegments+=a.hy.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=a.hy.amountOfBufferedVideoSegments}return{ey:n,iy:e,uy:i,oy:r,sy:u,hy:o}}(this.pg.map((function(t){return t.ny})))}},{key:"Jw",get:function(){return this.Pl.Jw},set:function(t){this.Pl.Jw=t}},{key:"vy",get:function(){return this.Pl.vy}},{key:"Zw",get:function(){return this.Pl.Zw}},{key:"Qw",get:function(){return this.Pl.Qw},set:function(t){this.Pl.Qw=t}},{key:"ly",get:function(){return this.Pl.ly}},{key:"wy",get:function(){return this.Pl.wy},set:function(t){this.Pl.wy=t}},{key:"fw",get:function(){return this.Pl.fw}},{key:"gy",get:function(){return this.Pl.gy}},{key:"tg",get:function(){return this.Pl.tg}},{key:"ng",get:function(){return this.Pl.ng}},{key:"eg",get:function(){return this.Pl.eg}},{key:"ig",get:function(){return this.Pl.ig},set:function(t){this.Pl.ig=t}},{key:"yy",get:function(){return this.Pl.yy}},{key:"my",get:function(){return!1},set:function(t){}},{key:"Fl",get:function(){return this.Pl},set:function(t){this.Yg(t)}}]),n}(By);ki(),Vt(),Ri(),ki(),Vt(),Ri();var h_,v_,d_=function(t){function n(n,e,i,r,u,o,s,a){var c;return(c=t.call(this,n,e,i)||this).url=r,c.status=u,c.statusText=o,c.response=s,c.systemCode=a,c}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Sd);(v_=h_||(h_={}))[v_.ABORTED=1]="ABORTED",v_[v_.NETWORK=2]="NETWORK",v_[v_.DECODE=3]="DECODE",v_[v_.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",v_[v_.ENCRYPTED=5]="ENCRYPTED",v_[v_.LICENSE_INVALID=6]="LICENSE_INVALID",v_[v_.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR";var l_=function(t){function n(n,e,i,r){var u;return(u=t.call(this,e)||this).code=n,u.message=null!=e?e:"Unknown error",u.cause=i,u.systemCode=r,f.captureStackTrace&&f.captureStackTrace(Na(u),u.constructor),u}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Ha);function w_(t){iy(t,"MEDIA_ERR_ABORTED",1),iy(t,"MEDIA_ERR_NETWORK",2),iy(t,"MEDIA_ERR_DECODE",3),iy(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),iy(t,"MEDIA_ERR_ENCRYPTED",5)}function g_(t){var n,e;return function(t){return t.category===pd.CONTENT_PROTECTION}(t)?new l_(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new l_(function(t){if(t===md.MEDIA_ABORTED)return 1;if(t===md.MANIFEST_LOAD_ERROR||t===md.MEDIA_LOAD_ERROR||t===md.SUBTITLE_LOAD_ERROR)return 2;if(t===md.MEDIA_DECODE_ERROR)return 3;if(t===md.MEDIA_NOT_SUPPORTED)return 4;var n=pd.fromCode(t);if(n===pd.NETWORK)return 2;if(n===pd.SOURCE)return 4;if(n===pd.LICENSE)return 6;if(n===pd.CONTENT_PROTECTION)return 5;if(n===pd.AD)return 7;return 3}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}w_(l_),w_(l_.prototype),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt();var y_=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.Nl=function(n){return t.prototype.Nl.call(this,n)},e.nl=function(){return Sy(this)},n}(Zg);ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt();var m_=function(){function t(){this._y=[],this.Qd=void 0}var n=t.prototype;return n.py=function(t){this._y.push(t),this.Qd&&this.Qd.push(t.tl)},n.za=function(t){Ma(this._y,t),this.Qd&&Ma(this.Qd,t.tl)},n.Rl=function(t){return this._y[t]},n.by=function(t){return vr(t)?function(t,n){for(var e=0;e<n.length;e++)if(!Ua(t,n[e]))return!1;return!0}(this._y,t):Ua(this._y,t)},n.ic=function(){Va(this._y),this.Qd&&Va(this.Qd)},Ii(t,[{key:"Al",get:function(){return this._y}},{key:"Dl",get:function(){return this._y.length}},{key:"tl",get:function(){var t,n;return this.Qd||(this.Qd=((n=(t=this).Al.map((function(t){return t.tl}))).item=function(n){var e=0|n,i=t.Rl(e);return i&&i.tl||void 0},n)),this.Qd}}]),t}();ki(),Vt();var __=function(t){function n(n){var e;return(e=t.call(this,Xg.bl)||this).il=n,e}return Xi(n,t),n.prototype.nl=function(){return new p_(this.il.tl)},n}(Wg),p_=function(t){function n(n){var e;return(e=t.call(this,"update")||this).track=n,e}return Xi(n,t),n}(jg);ki(),Vt();var b_=0;function k_(){return b_++}var T_=0;var S_=0;var E_=0;var I_=function(t){function n(n){var e;return(e=t.call(this)||this).iu=Mm.Wh,e.ky=!1,e.Qd=void 0,e.Ty=n,e.Sy=k_(),e.Ca=E_+++"",e.Ey=n.label,e._y=new m_,e.Iy(),e}Xi(n,t);var e=n.prototype;return e.Ry=function(t){this.Hl=t},e.Iy=function(){this.Hl=this.Ny},Ii(n,[{key:"Vl",get:function(){}},{key:"Hl",get:function(){return this.ky},set:function(t){this.ky!==t&&(this.ky=t,this.Ny=t,this.Bu(new Qg(this)))}},{key:"Ny",get:function(){return this.Ty.enabled},set:function(t){this.Ty.enabled=t}},{key:"tl",get:function(){return this.Qd||(this.Qd=ky(this)),this.Qd}},{key:"ql",get:function(){return this.Ca}},{key:"zl",get:function(){return this.Sy}},{key:"Wl",get:function(){return this.Ty.kind}},{key:"jl",get:function(){return this.Ey},set:function(t){t!==this.Ey&&(this.Ey=t,this.Bu(new __(this)))}},{key:"Yl",get:function(){return this.Ty.language}},{key:"rw",get:function(){return this.Hl?"enabled":"disabled"}},{key:"Oy",get:function(){return this.Ty}},{key:"Xl",get:function(){return this._y}},{key:"$l",get:function(){},set:function(t){}}]),n}(oc);ki(),Vt(),Ri();var R_=0;var N_=function(t){function n(n){var e;return(e=t.call(this)||this).iu=Mm.jh,e.ky=!1,e.Qd=void 0,e.Ty=n,e.Sy=k_(),e.Ca=R_+++"",e._y=new m_,e.Ey=n.label,e.Iy(),e}Xi(n,t);var e=n.prototype;return e.Iy=function(){this.Hl=this.Ny},e.Ry=function(t){this.Hl=t},Ii(n,[{key:"Vl",get:function(){}},{key:"Hl",get:function(){return this.ky},set:function(t){this.ky!==t&&(this.ky=t,this.Ny=t,this.Bu(new Qg(this)))}},{key:"Ny",get:function(){return!!this.Ty.selected},set:function(t){this.Ty.selected=t}},{key:"tl",get:function(){return this.Qd||(this.Qd=ky(this)),this.Qd}},{key:"ql",get:function(){return this.Ca}},{key:"zl",get:function(){return this.Sy}},{key:"Wl",get:function(){return"main"}},{key:"jl",get:function(){return this.Ey},set:function(t){t!==this.Ey&&(this.Ey=t,this.Bu(new __(this)))}},{key:"Yl",get:function(){return this.Ty.language}},{key:"rw",get:function(){return this.Hl?"enabled":"disabled"}},{key:"Oy",get:function(){return this.Ty}},{key:"Xl",get:function(){return this._y}},{key:"$l",get:function(){},set:function(t){}}]),n}(oc);ki(),Vt();var O_,C_,A_,D_,P_,x_,B_=function(t){function n(n){var e;return(e=t.call(this,Gd.sf)||this).ty=n,e}return Xi(n,t),n}(fc);ki(),Vt(),ki(),Vt(),(C_=O_||(O_={}))[C_.NONE=0]="NONE",C_[C_.LOADING=1]="LOADING",C_[C_.LOADED=2]="LOADED",C_[C_.ERROR=3]="ERROR",ki(),Vt(),ki(),Vt(),(D_=A_||(A_={})).Cy="cue",D_.Ay="region",D_.Dy="stylesheet",ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(x_=P_||(P_={})).Py="xy",x_.By="Ly",x_.bl="Wa";var L_=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).My=e,i}return Xi(n,t),n}(Wg),M_=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).cue=e,i}return Xi(n,t),n}(jg);function F_(t){var n,e=[P_.Py,P_.By,P_.bl],i={get track(){return t.il.tl},get id(){return t.ql},get uid(){return t.zl},get startTime(){return t.Fy},get endTime(){return t.Uy},get content(){return t.Vy},addEventListener:function(t,e){var i=wy(t,dy);n.Mu(i,e)},removeEventListener:function(t,e){var i=wy(t,dy);n.Hu(i,e)}};return n=new sc(i),t.Mu(e,(function(t){return n.Bu(t.tl)})),i}function U_(){}ki(),Vt(),Ri(),ki(),Vt();var V_=function(t){function n(n){return t.call(this,P_.bl,n)}return Xi(n,t),n.prototype.nl=function(){return new H_(this.My.tl)},n}(L_),H_=function(t){function n(n){return t.call(this,"update",n)}return Xi(n,t),n}(M_),q_=.02;var z_=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this)||this).Qd=void 0,o.Hy=void 0,o.qy=!1,o.zy=-1,o.Sy=S_++,o.Wy=n,o.jy=e,o.Gy=i,o.Yy=Boolean(r),o.Ca=null!=u?u:"",o}Xi(n,t);var e=n.prototype;return e.nl=function(){return F_(this)},e.Xy=function(t){return this===t||sy(this,t)&&(e=t,su((n=this).Fy,e.Fy,q_)&&su(n.Uy,e.Uy,q_)&&n.ql===e.ql);var n,e},e.kn=function(){this.Vu()},Ii(n,[{key:"Fy",get:function(){return this.Wy},set:function(t){this.Wy!==t&&(this.Wy=t,this.Bu(new V_(this)))}},{key:"Uy",get:function(){return this.jy},set:function(t){this.jy!==t&&(this.jy=t,this.Bu(new V_(this)))}},{key:"ql",get:function(){return this.Ca}},{key:"zl",get:function(){return this.Sy}},{key:"tl",get:function(){return this.Qd||(this.Qd=this.nl()),this.Qd}},{key:"$y",get:function(){return this.qy},set:function(t){this.qy=t}},{key:"il",get:function(){return this.Hy},set:function(t){this.Hy=t}},{key:"Vy",get:function(){return this.Gy},set:function(t){this.Gy!==t&&(this.Gy=t,this.Bu(new V_(this)))}},{key:"Ky",get:function(){return this.Yy},set:function(t){this.Yy=t}}]),n}(oc);var W_=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,i,r,u)||this).Jy="auto",o.Zy="start",o.Qy="auto",o.tm="auto",o.nm=void 0,o.im=!0,o.ho=100,o.rm="center",o.um="",o}return Xi(n,t),n.prototype.Xy=function(n){return this===n||sy(this,n)&&t.prototype.Xy.call(this,n)&&(i=n,(e=this).Vy===i.Vy&&e.Jy===i.Jy&&e.Zy===i.Zy&&e.Qy===i.Qy&&e.tm===i.tm&&e.nm===i.nm&&e.im===i.im&&e.ho===i.ho&&e.rm===i.rm&&e.um===i.um);var e,i},Ii(n,[{key:"tl",get:function(){var t;return this.Qd||(this.Qd=ry(F_(t=this),{get align(){return t.rm},get line(){return t.Jy},get lineAlign(){return t.Zy},get position(){return t.Qy},get positionAlign(){return t.tm},get region(){return t.nm?t.nm.tl:null},get size(){return t.ho},get snapToLines(){return t.im},get text(){return t.Vy},get vertical(){return t.um}})),this.Qd}},{key:"iu",get:function(){return A_.Cy}}]),n}(z_);ki(),Vt(),Ri(),ki(),Vt();var j_=function(){function t(t,n,e,i,r,u,o,s){this.ql=t,this.om=n,this.sm=e,this.am=i,this.fm=r,this.hm=u,this.vm=o,this.dm=s}return Ii(t,[{key:"tl",get:function(){var t;return this.Qd||(this.Qd=(t=this,{get id(){return t.ql},get identifier(){return t.ql},get lines(){return t.sm},get regionAnchorX(){return t.am},get regionAnchorY(){return t.fm},get scrollValue(){return t.dm},get viewportAnchorX(){return t.hm},get viewportAnchorY(){return t.vm},get width(){return t.om}})),this.Qd}},{key:"iu",get:function(){return A_.Ay}}]),t}();ki(),Vt(),ki(),Vt();var G_=1e6,Y_=function(){function t(){}var n=t.prototype;return n.lm=function(t){return this.wm()*t},n.gm=function(t){return this.ym(t)>0},n._m=function(t){return this.ym(t)>=0},n.pm=function(t,n){return this.km(t).bm(n)},n.Xy=function(t){return 0===this.ym(t)},n.Tm=function(t){return this.ym(t)<0},n.bm=function(t){return this.ym(t)<=0},n.Sm=function(){return this.Em()?this.Im():this},n.Rm=function(t){return this.py(t.Im())},n.km=function(t){return this.Rm(t).Sm()},t}();function X_(t,n){return t.Nm()?n.Nm()?Ea.lu:Ea.wu:n.Nm()?Ea.gu:t.Om()?n.Om()&&t.Em()===n.Em()?Ea.lu:t.Em()?Ea.gu:Ea.wu:n.Em()?Ea.wu:Ea.gu}ki(),Vt(),ki(),Vt();var $_=0x10000000000000000,K_=$_*$_,J_=K_/2,Z_=function(){function t(t,n){this.Cm=t,this.Am=n}var n=t.prototype;return n.Dm=function(){return this.Am.unsigned},n.Pm=function(){return this.Cm.isZero()&&this.Am.isZero()},n.Em=function(){return this.Am.isNegative()},n.xm=function(){return this.Dm()?t.Bm(this.Cm,this.Am,!1):this},n.Lm=function(){return this.Dm()?this:t.Bm(this.Cm,this.Am,!0)},n.Mm=function(){return this.Cm},n.wm=function(){return this.Em()?-this.Im().wm():this.Am.toNumber()*$_+this.Cm.toUnsigned().toNumber()},n.Fm=function(){return this.Cm.toInt()},n.Xy=function(t){return(this.Dm()===t.Dm()||this.Am.getHighBits()>>>31!=1||t.Am.getHighBits()>>>31!=1)&&(this.Am.toUnsigned().eq(t.Am.toUnsigned())&&this.Cm.toUnsigned().eq(t.Cm.toUnsigned()))},n.ym=function(t){if(this.Xy(t))return Ea.lu;var n=this.Em(),e=t.Em();if(n&&!e)return Ea.gu;if(!n&&e)return Ea.wu;if(!this.Dm())return this.Rm(t).Em()?Ea.gu:Ea.wu;var i=this.Lm(),r=t.Lm(),u=r.Am.comp(i.Am);return u>0||0===u&&r.Cm.gt(i.Cm)?Ea.gu:Ea.wu},n.Tm=function(t){return this.ym(t)<0},n.bm=function(t){return this.ym(t)<=0},n.Um=function(t){return this.ym(t)>0},n.Vm=function(t){return this.ym(t)>=0},n.Hm=function(){return new t(this.Cm.not(),this.Am.not())},n.qm=function(n){return new t(this.Cm.and(n.Cm),this.Am.and(n.Am))},n.zm=function(n){return new t(this.Cm.or(n.Cm),this.Am.or(n.Am))},n.Wm=function(n){var e=127&n;return 0===e?this:e<64?t.Bm(this.Cm.shl(e),this.Am.shl(e).or(this.Cm.shru(64-e)),this.Dm()):t.Bm(ru.ZERO,this.Cm.shl(e-64),this.Dm())},n.jm=function(n){var e=127&n;return 0===e?this:e<64?t.Bm(this.Cm.shru(e).or(this.Am.shl(64-e)),this.Am.shr(e),this.Dm()):t.Bm(this.Am.shr(e-64),this.Am.isNegative()?ru.NEG_ONE:ru.ZERO,this.Dm())},n.Gm=function(n){var e=127&n;return 0===e?this:e<64?t.Bm(this.Cm.shru(e).or(this.Am.shl(64-e)),this.Am.shru(e),this.Dm()):64===e?t.Bm(this.Am,ru.ZERO,this.Dm()):t.Bm(this.Am.shru(e-64),ru.ZERO,this.Dm())},n.py=function(n){var e=this.Am.high>>>16,i=65535&this.Am.high,r=this.Am.low>>>16,u=65535&this.Am.low,o=this.Cm.high>>>16,s=65535&this.Cm.high,a=this.Cm.low>>>16,c=65535&this.Cm.low,f=n.Am.high>>>16,h=65535&n.Am.high,v=n.Am.low>>>16,d=65535&n.Am.low,l=n.Cm.high>>>16,w=65535&n.Cm.high,g=n.Cm.low>>>16,y=0,m=0,_=0,p=0,b=0,k=0,T=0,S=0;T+=(S+=c+(65535&n.Cm.low))>>>16,S&=65535,k+=(T+=a+g)>>>16,T&=65535,b+=(k+=s+w)>>>16,k&=65535,p+=(b+=o+l)>>>16,b&=65535,_+=(p+=u+d)>>>16,p&=65535,m+=(_+=r+v)>>>16,_&=65535,y+=(m+=i+h)>>>16,m&=65535,y+=e+f,y&=65535;var E=this.Dm(),I=ru.fromBits(_<<16|p,y<<16|m,E),R=ru.fromBits(T<<16|S,b<<16|k,E);return t.Bm(R,I,E)},n.Rm=function(t){return this.py(t.Im())},n.Im=function(){return this.Hm().py(t.Ym)},n.Xm=function(n){if(this.Pm()||n.Pm())return this.Dm()?t.$m:t.Km;if(this.Em())return n.Em()?this.Im().Xm(n.Im()):this.Im().Xm(n).Im();if(n.Em())return this.Xm(n.Im()).Im();if(this.Am.isZero()&&0===this.Cm.high&&n.Am.isZero()&&0===n.Cm.high)return t.Jm(this.Cm.multiply(n.Cm));var e=ru.fromBits(4294967295,0,!0),i=this.Cm.and(e),r=this.Cm.shru(32),u=this.Am.and(e),o=this.Am.shru(32),s=n.Cm.and(e),a=n.Cm.shru(32),c=n.Am.and(e),f=n.Am.shru(32),h=ru.UZERO,v=ru.UZERO,d=ru.UZERO,l=ru.UZERO;h=h.add(i.mul(s)),v=v.add(h.shru(32)),h=h.and(e),v=v.add(r.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(e)).add(i.mul(a)),d=d.add(v.shru(32)),v=v.and(e),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(e)).add(r.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(e)).add(i.mul(c)),l=l.add(d.shru(32)),d=d.and(e),l=l.add(o.mul(s)).add(u.mul(a)).add(r.mul(c)).add(i.mul(f)).and(e);var w=ru.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=ru.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Bm(w,g,this.Dm())},n.Zm=function(n){var e,i,r=n;if(r.Pm())throw new RangeError("division by zero");if(this.Pm())return this.Dm()?[t.$m,t.$m]:[t.Km,t.Km];if(this.Dm()){if(r.Dm()||(r=r.Lm()),r.Um(this))return[t.$m,this];if(r.Um(this.Gm(1)))return[i=t.Qm,e=this.Rm(r)];i=t.$m}else{if(this.Xy(t.t_)){if(r.Xy(t.Ym)||r.Xy(t.n_))return[t.t_,t.Km];if(r.Xy(t.t_))return[t.Ym,t.Km];var u=this.jm(1).e_(r).Wm(1);return u.Xy(t.Km)?i=r.Em()?t.Ym:t.n_:(e=this.Rm(r.Xm(u)),i=u.py(e.e_(r))),[i,e=this.Rm(r.Xm(i))]}if(r.Xy(t.t_))return this.Dm()?[t.$m,this]:[t.Km,this];var o,s;if(this.Em())return r.Em()?this.Im().Zm(r.Im()):(i=(o=Vs(this.Im().Zm(r),2))[0],e=o[1],[i.Im(),e.Im()]);if(r.Em())return i=(s=Vs(this.Zm(r.Im()),2))[0],e=s[1],[i.Im(),e.Im()];i=t.Km}for(e=this;e.Vm(r);){for(var a=d.max(1,d.floor(e.wm()/r.wm())),c=d.ceil(d.log(a)/d.LN2),f=c<=48?1:d.pow(2,c-48),h=t.i_(a),v=h.Xm(r);v.Em()||v.Um(e);)a-=f,v=(h=t.i_(a,this.Dm())).Xm(r);h.Pm()&&(h=t.Ym),i=i.py(h),e=e.Rm(v)}return[i,e]},n.e_=function(t){return this.Zm(t)[0]},n.r_=function(t){return this.Zm(t)[1]},n.toString=function(n){var e=n||10;if(e<2||e>36)throw new RangeError("radix");if(this.Pm())return"0";if(this.Em()){if(this.Xy(t.t_)){var i=t.i_(e),r=this.e_(i),u=r.Xm(i).Rm(this);return r.toString(e)+u.Fm().toString(e)}return"-"+this.Im().toString(e)}for(var o=t.i_(d.pow(e,6),this.Dm()),s=this,a="";;){var c=s.e_(o),f=(s.Rm(c.Xm(o)).Fm()>>>0).toString(e);if((s=c).Pm())return f+a;for(;f.length<6;)f="0"+f;a=String(f)+a}},t.Bm=function(n,e,i){return i?new t(n.toUnsigned(),e.toUnsigned()):new t(n.toSigned(),e.toSigned())},t.Jm=function(n){return n.unsigned?new t(n,ru.UZERO):new t(n,n.isNegative()?ru.NEG_ONE:ru.ZERO)},t.i_=function(n,e){if(g(n))return e?t.$m:t.Km;if(e){if(n<0)return t.$m;if(n>=K_)return t.u_}else{if(n<=-J_)return t.t_;if(n+1>=J_)return t.o_}return n<0?t.i_(-n,e).Im():t.Bm(ru.fromNumber(n%$_),ru.fromNumber(n/$_),e)},t}();Z_.Km=Z_.Jm(ru.ZERO),Z_.$m=Z_.Jm(ru.UZERO),Z_.Ym=Z_.Jm(ru.ONE),Z_.Qm=Z_.Jm(ru.UONE),Z_.n_=Z_.Jm(ru.NEG_ONE),Z_.o_=Z_.Bm(ru.NEG_ONE,ru.MAX_VALUE,!1),Z_.u_=Z_.Bm(ru.MAX_UNSIGNED_VALUE,ru.MAX_UNSIGNED_VALUE,!0),Z_.t_=Z_.Bm(ru.ZERO,ru.MIN_VALUE,!1),ki(),Vt(),Ri();var Q_=function(){function t(t,n){void 0===n&&(n=1),this.s_=t,this.a_=n}var n=t.prototype;return n.py=function(n){return this.a_>=n.a_?new t(this.s_+n.c_(this.a_).s_,this.a_):new t(this.c_(n.a_).s_+n.s_,n.a_)},n.gm=function(t){return t.Tm(this)},n._m=function(t){return t.bm(this)},n.km=function(n){return this.a_>=n.a_?new t(d.abs(this.s_-n.c_(this.a_).s_),this.a_):n.km(this)},n.pm=function(t,n){return this.km(t).bm(n)},n.ym=function(t){return e=t,(n=this).a_>=e.a_?xa(n.s_,e.c_(n.a_).s_):xa(n.c_(e.a_).s_,e.s_);var n,e},n.Xy=function(t){return 0===this.ym(t)},n.Tm=function(t){return this.ym(t)<0},n.bm=function(t){return this.ym(t)<=0},n.c_=function(n){return new t(this.s_*(n/this.a_),n)},n.Rm=function(n){return this.a_>=n.a_?new t(this.s_-n.c_(this.a_).s_,this.a_):new t(this.c_(n.a_).s_-n.s_,n.a_)},n.f_=function(n){return new t(this.s_*n,this.a_)},t.h_=function(n){return new t(d.ceil(n.s_),n.a_)},t.v_=function(n){return new t(d.floor(n.s_),n.a_)},t.d_=function(t,n){return t._m(n)?t:n},t.l_=function(t,n){return t.bm(n)?t:n},Ii(t,[{key:"Om",get:function(){return!isFinite(this.s_)}},{key:"w_",get:function(){return this.s_/this.a_}}]),t}();Q_.g_=new Q_(1/6,1),Q_.Km=new Q_(0),Q_.y_=new Q_(1/0),Q_.m_=1e6;var tp=function(t){function n(n,e){var i;return(i=t.call(this)||this).ld=n.toSigned(),i.a_=e>>>0,i}Xi(n,t);var e=n.prototype;return e.Em=function(){return this.ld.isNegative()},e.Pm=function(){return 0!==this.a_&&this.ld.isZero()},e.Om=function(){return 0===this.a_&&!this.ld.isZero()},e.Nm=function(){return 0===this.a_&&this.ld.isZero()},e.wm=function(){if(0===this.a_)return this.ld.isZero()?NaN:this.ld.isNegative()?-1/0:1/0;var t=this.ld.divide(this.a_),n=this.ld.subtract(t.multiply(this.a_));return t.toNumber()+n.toNumber()/this.a_},e.Mm=function(){if(0===this.a_)throw new f("Failed to convert timestamp");return this.ld},e.__=function(){return new Date(0===this.a_?NaN:this.c_(1e3).ld.toNumber())},e.p_=function(){return new Q_(0===this.a_?this.wm():this.ld.toNumber(),this.a_)},e.c_=function(t,e){void 0===e&&(e=np.b_);var i=this.a_;if(i===t)return this;if(0===i)return this;var r=au(i,t);return new n(function(t,n,e){var i=Vs(t.Zm(n),2),r=i[0],u=i[1];if(u.Pm())return r;if(e===np.b_)return u.Em()?r.Rm(Z_.Ym):r;if(e===np.k_)return u.Em()?r:r.py(Z_.Ym);var o=u.Xm(Z_.i_(2));return o.Em()?o.Im().Tm(n)?r:r.Rm(Z_.Ym):o.Tm(n)?r:r.py(Z_.Ym)}(Z_.Jm(this.ld).Xm(Z_.i_(t/r)),Z_.i_(i/r),e).Mm(),t)},e.ym=function(t){if(this===t)return Ea.lu;if(0===this.a_||0===t.a_)return X_(this,t);if(this.Pm())return t.Pm()?Ea.lu:t.Em()?Ea.wu:Ea.gu;if(t.Pm())return this.Em()?Ea.gu:Ea.wu;var n=d.min(this.a_,t.a_),e=this.c_(n,np.T_).ld,i=t.c_(n,np.T_).ld;return e.compare(i)},e.Im=function(){return 0===this.a_?function(t){0;return t.Nm()?t:t.Em()?tp.S_:tp.E_}(this):new n(this.ld.negate(),this.a_)},e.py=function(t){if(0===this.a_||0===t.a_)return function(t,n){0;if(t.Nm()||n.Nm())return tp.I_;if(t.Om()&&n.Om())return t.Em()===n.Em()?t:tp.I_;return t.Om()?t:n}(this,t);if(this.Pm())return t;if(t.Pm())return this;var e=d.max(this.a_,t.a_),i=this.c_(e,np.T_),r=t.c_(e,np.T_);return new n(i.ld.add(r.ld),e)},e.Xm=function(t){if(this.Nm()||g(t))return n.I_;if(this.Om()||!isFinite(t)){if(this.Pm()||0===t)return n.I_;var e=this.Em()?n.E_:n.S_;return t<0?e.Im():e}return this.Pm()?this:new n(0===t?ru.ZERO:this.ld.multiply(t),this.a_)},e.e_=function(t){if(this.Nm()||g(t))return n.I_;if(this.Om())return isFinite(t)?0===t?1/t<0?this.Im():this:t<0?this.Im():this:n.I_;if(!isFinite(t))return new n(ru.ZERO,this.a_);if(this.Pm())return 0===t?n.I_:new n(ru.ZERO,this.a_);if(0===t){var e=this.Em()?n.E_:n.S_;return 1/t<0?e.Im():e}return new n(this.ld.divide(t),this.a_)},e.R_=function(){return[this.ld.low,this.ld.high,this.a_]},n.N_=function(t,e){return void 0===e&&(e=G_),n.i_(t*e,e)},n.i_=function(t,e){return g(t)?n.I_:t===1/0?n.S_:t===-1/0?n.E_:new n(ru.fromNumber(t),e)},n.Jm=function(t,e){return new n(t,e)},n.O_=function(t){return n.N_(t.w_,G_)},n.C_=function(t){return new n(ru.fromNumber(t.getTime()),1e3)},n.d_=function(t,n){return t._m(n)?t:n},n.l_=function(t,n){return t.bm(n)?t:n},n.A_=function(t,e,i){return n.d_(e,n.l_(i,t))},n}(Y_);tp.Km=new tp(ru.ZERO,G_),tp.I_=new tp(ru.ZERO,0),tp.S_=new tp(ru.ONE,0),tp.E_=new tp(ru.NEG_ONE,0),ki(),Vt(),Ri(),$();var np,ep,ip=function(t){function n(n,e){var i;return(i=t.call(this)||this).ld=BigInt.asIntN(64,n),i.a_=e>>>0,i}Xi(n,t);var e=n.prototype;return e.Em=function(){return this.ld<BigInt(0)},e.Pm=function(){return 0!==this.a_&&this.ld===BigInt(0)},e.Om=function(){return 0===this.a_&&this.ld!==BigInt(0)},e.Nm=function(){return 0===this.a_&&this.ld===BigInt(0)},e.wm=function(){if(0===this.a_)return this.ld===BigInt(0)?NaN:this.ld<BigInt(0)?-1/0:1/0;var t=this.ld/BigInt(this.a_),n=this.ld-t*BigInt(this.a_);return Number(t)+Number(n)/this.a_},e.Mm=function(){if(0===this.a_)throw new f("Failed to convert timestamp");return this.D_()},e.D_=function(){var t=this.ld&BigInt(4294967295),n=this.ld>>BigInt(32)&BigInt(4294967295);return ru.fromBits(Number(t),Number(n))},e.__=function(){return new Date(0===this.a_?NaN:Number(this.c_(1e3).ld))},e.p_=function(){return new Q_(0===this.a_?this.wm():Number(this.ld),this.a_)},e.c_=function(t,e){void 0===e&&(e=np.b_);var i=this.a_;if(i===t)return this;if(0===i)return this;var r=au(i,t);return new n(function(t,n,e){var i=t/n,r=t-i*n;if(r===BigInt(0))return i;if(e===np.b_)return r<BigInt(0)?i-BigInt(1):i;if(e===np.k_)return r<BigInt(0)?i:i+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?i:i-BigInt(1):u<n?i:i+BigInt(1)}(this.ld*BigInt(t/r),BigInt(i/r),e),t)},e.ym=function(t){if(this===t)return Ea.lu;if(0===this.a_||0===t.a_)return X_(this,t);if(this.Pm())return t.Pm()?Ea.lu:t.Em()?Ea.wu:Ea.gu;if(t.Pm())return this.Em()?Ea.gu:Ea.wu;var n=d.min(this.a_,t.a_),e=this.c_(n,np.T_).ld,i=t.c_(n,np.T_).ld;return e>i?Ea.wu:e<i?Ea.gu:Ea.lu},e.Im=function(){return 0===this.a_?function(t){0;return t.Nm()?t:t.Em()?ip.S_:ip.E_}(this):new n(-this.ld,this.a_)},e.py=function(t){if(0===this.a_||0===t.a_)return function(t,n){0;if(t.Nm()||n.Nm())return ip.I_;if(t.Om()&&n.Om())return t.Em()===n.Em()?t:ip.I_;return t.Om()?t:n}(this,t);if(this.Pm())return t;if(t.Pm())return this;var e=d.max(this.a_,t.a_),i=this.c_(e,np.T_),r=t.c_(e,np.T_);return new n(i.ld+r.ld,e)},e.Xm=function(t){if(this.Nm()||g(t))return n.I_;if(this.Om()||!isFinite(t)){if(this.Pm()||0===t)return n.I_;var e=this.Em()?n.E_:n.S_;return t<0?e.Im():e}return this.Pm()?this:new n(0===t?BigInt(0):this.ld*BigInt(t),this.a_)},e.e_=function(t){if(this.Nm()||g(t))return n.I_;if(this.Om())return isFinite(t)?0===t?1/t<0?this.Im():this:t<0?this.Im():this:n.I_;if(!isFinite(t))return new n(BigInt(0),this.a_);if(this.Pm())return 0===t?n.I_:new n(BigInt(0),this.a_);if(0===t){var e=this.Em()?n.E_:n.S_;return 1/t<0?e.Im():e}return new n(this.ld/BigInt(t),this.a_)},e.R_=function(){var t=this.D_();return[t.low,t.high,this.a_]},n.N_=function(t,e){return void 0===e&&(e=G_),n.i_(t*e,e)},n.i_=function(t,e){return g(t)?n.I_:t===1/0?n.S_:t===-1/0?n.E_:new n(BigInt(d.floor(t)),e)},n.Jm=function(t,e){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),e)},n.O_=function(t){return n.N_(t.w_,G_)},n.C_=function(t){return n.i_(t.getTime(),1e3)},n.d_=function(t,n){return t._m(n)?t:n},n.l_=function(t,n){return t.bm(n)?t:n},n.A_=function(t,e,i){return n.d_(e,n.l_(i,t))},Ii(n,null,[{key:"Km",get:function(){return n.P_||(n.P_=new n(BigInt(0),G_)),n.P_}},{key:"I_",get:function(){return n.x_||(n.x_=new n(BigInt(0),0)),n.x_}},{key:"S_",get:function(){return n.B_||(n.B_=new n(BigInt(1),0)),n.B_}},{key:"E_",get:function(){return n.L_||(n.L_=new n(BigInt(-1),0)),n.L_}}]),n}(Y_);ip.P_=void 0,ip.x_=void 0,ip.B_=void 0,ip.L_=void 0,(ep=np||(np={}))[ep.b_=0]="b_",ep[ep.k_=1]="k_",ep[ep.T_=2]="T_";var rp=function(){try{return"function"==typeof BigInt&&"bigint"===O(BigInt(0))}catch(t){return!1}}()?ip:tp;ki(),Vt();var up=d.pow(2,33),op=kr((function(){return rp.i_(up,9e4)}));kr((function(){return op().e_(2)}));ki(),Vt();var sp,ap,cp,fp,hp,vp,dp,lp,wp,gp={M_:0,F_:1/0,U_:0},yp=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],mp=[" ","\t","\n","\f","\r"],_p=/^\d*$/,pp=/.*[0-9]+.*/,bp=/^[\d.-]+$/,kp=/(^\.|\.$)/,Tp=/(\D\.|\.\D)/;function Sp(t){var n=wa(t,"\0"," "),e=wa(n,"\r\n","\n");return wa(e,"\r","\n")}function Ep(t,n,e){for(var i=e.yo;e.yo<t.length&&n(t.charAt(e.yo));)e.do(1);return t.substring(i,e.yo)}function Ip(t,n,e,i,r,u){for(var o,s=0,a=n.yo,c="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(o=Ep(t,(function(t){return"\n"!==t}),n),s++,n.yo>=t.length?f=!0:n.do(1),ga(o,"--\x3e")){if(i||1!==s&&(2!==s||h)){n.lo(a);break}h=!0,a=n.yo,v=new W_(0,0,"",!1,c);try{Cp(o,r.V_,v,u),c=""}catch(t){Wi.pr(t),v=null}}else{if(""===o)break;i&&ya(o,"X-TIMESTAMP-MAP")&&(r.H_=Rp(o)),i||2!==s||e||(_a("STYLE",c.replace(/ /g,""))?(d={iu:A_.Dy},c=""):_a("REGION",c.replace(/ /g,""))&&(l=new j_("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,a=n.yo}if(v)return v.Vy=c,v;if(d);else if(l)return function(t,n){for(var e=t.split(/\s/),i=":",r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&ga(u,i)&&u.charAt(0)!==i&&u.charAt(u.length-1)!==i){var o=u.indexOf(i),s=u.substring(0,o),a=u.substring(o+1,u.length);switch(s.toUpperCase()){case"ID":jp(a,n);break;case"WIDTH":Xp(a,n);break;case"LINES":Yp(a,n);break;case"REGIONANCHOR":var c=Wp(a);c&&(n.am=c[0],n.fm=c[1]);break;case"VIEWPORTANCHOR":var f=Wp(a);f&&(n.hm=f[0],n.vm=f[1]);break;case"SCROLL":Gp(a,n)}}}}(c,l),l;return null}function Rp(t){var n,e,i=t.split("=")[1].trim().split(","),r=Np(i[0].trim(),"MPEGTS")?i[0]:i[1],u=Np(i[0].trim(),"LOCAL")?i[0]:i[1];return{q_:(e=Number(r.split(/:(.*)/)[1].trim())||0,rp.i_(e,9e4)),z_:rp.N_(null!=(n=Pp(u.split(/:(.*)/)[1].trim(),new yf))?n:0)}}function Np(t,n){return ya(t,n)}function Op(t,n){t&&function(t){return"cue"===t.iu}(t)?n.hw.push(t):t&&function(t){return"region"===t.iu}(t)?n.V_.push(t):t&&function(t){return"stylesheet"===t.iu}(t)&&n.W_.push(t)}function Cp(t,n,e,i){var r=new yf;if(Bp(t,r),e.Fy=Ap(Pp(t,r),i),Bp(t,r),"--\x3e"!==t.substring(r.yo,r.yo+3))throw f("Something went wrong with parsing a WebVTT Cue");r.do(3),Bp(t,r),e.Uy=Ap(Pp(t,r),i),function(t,n,e){for(var i=t.split(/\s/),r=":",u=0;u<i.length;u++){var o=i[u];if(0!==o.length&&ga(o,r)&&o.charAt(0)!==r&&o.charAt(o.length-1)!==r){var s=o.indexOf(r),a=o.substring(0,s),c=o.substring(s+1,o.length);switch(a.toUpperCase()){case"REGION":Vp(c,n,e);break;case"VERTICAL":qp(c,n);break;case"D":zp(c,n);break;case"LINE":case"L":Fp(c,n);break;case"POSITION":case"T":Up(c,n);break;case"SIZE":case"S":Hp(c,n);break;case"ALIGN":case"A":Mp(c,n)}}}}(t.substring(r.yo,t.length),e,n)}function Ap(t,n){return t+n.M_}function Dp(t){return/^[0-9]$/.test(t)}function Pp(t,n){var e,i,r,u=wa(t,",","."),o=!1;if(n.yo>=u.length||!Dp(u.charAt(n.yo)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var s=Ep(u,Dp,n),a=l(s,10);if((s.length>2||a>59)&&(o=!0),n.yo>=u.length||":"!==u.charAt(n.yo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.do(1);var c=Ep(u,Dp,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(c,10);if(o||n.yo<u.length&&":"===u.charAt(n.yo)){if(n.yo>=u.length||":"!==u.charAt(n.yo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.do(1);var v=Ep(u,Dp,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");e=a,i=h,r=l(v,10)}else e=0,i=a,r=h;if(n.yo>=u.length||"."!==u.charAt(n.yo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.do(1);var d=Ep(u,Dp,n),w=l(d,10);if(h>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*e*60+60*i+r+w/1e3}function xp(t){if(t.length<6)return!1;for(var n=0;n<yp.length;n++){if(ya(t,yp[n]))return!0}return!1}function Bp(t,n){for(;n.yo<t.length&&(e=t.charAt(n.yo),Ua(mp,e));)n.do(1);var e}function Lp(t){var n=t.lastIndexOf("%");if(n>-1){var e=w(t.substring(0,n));if(!g(e)&&e>=0&&e<=100)return e}return null}function Mp(t,n){var e=t.toLowerCase();switch(e){case"start":case"center":case"end":case"left":case"right":n.rm=e;break;case"middle":n.rm="center"}}function Fp(t,n){var e,i,r=t.indexOf(",");if(r>=0?(e=t.substring(0,r),i=t.substring(r+1,t.length)):(e=t,i=""),pp.test(e)){var u,o;if(ma(e,"%")){var s=Lp(e);if(null===s)return;u=s,o=!1}else{if(!bp.test(e)||e.lastIndexOf("-")>0)return;var a=e.indexOf(".");if(a>=0&&(a!==e.lastIndexOf(".")||!Tp.test(e)||kp.test(e)))return;if(u=w(e),g(u))return;o=!0}switch(n.Jy=u,n.im=o,i=i.toLowerCase()){case"start":case"center":case"end":n.Zy=i;break;case"middle":n.Zy="center"}}}function Up(t,n){var e,i,r=t.indexOf(",");r>=0?(e=t.substring(0,r),i=t.substring(r+1,t.length)):(e=t,i="");var u=Lp(e);if(null!==u)switch(n.Qy=u,i=i.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.tm=i;break;case"start":n.tm="line-left";break;case"middle":n.tm="center";break;case"end":n.tm="line-right"}}function Vp(t,n,e){var i=La(e,(function(n){return n.ql===t}));void 0!==i&&(n.nm=i)}function Hp(t,n){var e=Lp(t);null!==e&&(n.ho=e)}function qp(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.um="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.um="lr";break;default:n.um=""}}function zp(t,n){"VERTICAL"===t.toUpperCase()?n.um="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.um="lr")}function Wp(t){if(t.indexOf(",")>=0){var n=Lp(t.substring(0,t.indexOf(","))),e=Lp(t.substring(t.indexOf(",")+1,t.length));return[ou(n||0,0,100),ou(e||100,0,100)]}return null}function jp(t,n){n.ql=t}function Gp(t,n){"up"===t.toLowerCase()&&(n.dm="up")}function Yp(t,n){_p.test(t)&&(n.sm=l(t))}function Xp(t,n){var e=Lp(t);null!==e&&(n.om=e)}ki(),Vt(),ki(),Vt(),ki(),Vt(),(ap=sp||(sp={})).j_="moov",ap.G_="mvhd",ap.Y_="trak",ap.X_="tkhd",ap.K_="mdia",ap.J_="mdhd",ap.Z_="hdlr",ap.Q_="minf",ap.tp="stbl",ap.np="stsd",ap.ep="stsc",ap.ip="mvex",ap.rp="trex",ap.op="avc1",ap.sp="avcC",ap.ap="hev1",ap.cp="hvc1",ap.fp="hvcC",ap.hp="vp09",ap.vp="vpcC",ap.dp="av01",ap.lp="av1C",ap.wp="colr",ap.gp="pasp",ap.yp="mp4a",ap.mp="esds",ap._p="wvtt",ap.pp="vttC",ap.bp="vlab",ap.kp="enca",ap.Tp="encv",ap.Sp="moof",ap.Ep="mfhd",ap.Ip="traf",ap.Rp="tfhd",ap.Np="trun",ap.Op="tfdt",ap.Cp="senc",ap.Ap="mdat",ap.Dp="pssh",ap.Pp="emsg",ap.xp="sidx",ap.Bp="styp",ap.Lp="ftyp",ap.Mp="sinf",ap.Fp="frma",function(t){t.jh="vide",t.Wh="soun",t.Up="subt",t.Vp="hint",t.Hp="meta",t.qp="auxv"}(cp||(cp={})),(hp=fp||(fp={})).ON_SCREEN_COLOURS="nclx",hp.RESTRICTED_ICC_PROFILE="rICC",hp.UNRESTRICED_ICC_PROFILE="prof",(dp=vp||(vp={}))[dp.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",dp[dp.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",dp[dp.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",dp[dp.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",dp[dp.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",dp[dp.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",dp[dp.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",(wp=lp||(lp={}))[wp.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",wp[wp.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",wp[wp.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",wp[wp.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",wp[wp.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",wp[wp.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",ki(),Vt();var $p=function(){function t(t,n){this.Ch=t,this.zp=n}var n=t.prototype;return n.Wp=function(){return Vc(this.Ch,this.zp)},n.jp=function(){return Wc(this.Ch,this.zp)},n.Gp=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt16(n.yo,e);return n.do(2),i}(this.Ch,this.zp)},n.Yp=function(){return Gc(this.Ch,this.zp)},n.Xp=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt32(n.yo,e);return n.do(4),i}(this.Ch,this.zp)},n.$p=function(){return Xc(this.Ch,this.zp)},n.Kp=function(t){return qc(this.Ch,this.zp,t)},n.Jp=function(t){return function(t,n,e){for(var i=[],r=0;r<e;r++)i.push(Gc(t,n));return i}(this.Ch,this.zp,t)},n.Zp=function(t){return Kc(this.Ch,this.zp,t)},n.Qp=function(){return of(this.Ch,this.zp)},n.tb=function(t){this.zp.do(t)},n.wo=function(){return new t(this.Ch,this.zp.wo())},t}();ki(),Vt(),Ri(),ki(),Vt();var Kp=function(t){function n(n,e){var i;return(i=t.call(this)||this).nb=n,i.eb=e,i}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(qa),Jp=function(){function t(){}return t.ib=function(n){var e=n.Ch,i=n.zp,r=t.ub(e,i,!1);if(!r.ob)throw new Kp(i.yo,r.Td);return r.Td},t.ub=function(n,e,i){for(var r=[];e.yo<n.byteLength;){var u=t.sb(n,e,i);if(!u.ob)return{ob:!1,Td:r};r.push(u.ab)}return{ob:!0,Td:r}},t.cb=function(n,e){var i=t.sb(n,e,!1);if(!i.ob)throw new Kp(e.yo);return i.ab},t.fb=function(n,e){for(var i=n.Ch,r=n.zp;r.yo<i.byteLength;){var u=t.sb(i,r,!1);if(!u.ob)return;if(u.ab.iu===e)return u.ab}},t.sb=function(n,e,i){var r=e.yo,u=t.hb(n,e);if(!u.ob)return u;var o=u.vb,s=o.ho;if(0===s){if(i)return e.lo(r),{ob:!1,lb:1/0};s=n.byteLength-r}var a=r+s;if(a>n.byteLength){var c=a;return e.lo(r),{ob:!1,lb:c}}var f,h,v,d={iu:o.iu,yo:r,Ch:new $p((f=n,h=r,v=a,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new yf(o.wb))};return e.lo(a),{ob:!0,ab:d}},t.hb=function(t,n){var e=n.yo;if(!zc(t,n,8))return{ob:!1,lb:n.yo+8};var i=Gc(t,n),r=Kc(t,n,4);if(1===i){if(!zc(t,n,8)){var u=n.yo+8;return n.lo(e),{ob:!1,lb:u}}i=Xc(t,n).toNumber()}if("uuid"===r){if(!zc(t,n,16)){var o=n.yo+16;return n.lo(e),{ob:!1,lb:o}}r=Kc(t,n,16)}return{ob:!0,vb:{iu:r,ho:i,wb:n.yo-e}}},t.gb=function(t,n,e){var i=t.Ch,r=t.zp,u=cf(hf(i),r.yo,i.byteLength);return e&&(u=wf(u)),r.do(u.byteLength),{iu:n,Ch:u}},t.yb=function(n,e,i){var r=nb(n.Yp());return{iu:e,mb:r.version,_b:r.flags,Ch:t.gb(n,e,i).Ch}},t}();function Zp(t,n){var e=Qp(t,n);if(!e)throw new f("Missing "+n+" atom");return e}function Qp(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.iu===n)return i.Ch}}function tb(t,n){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.iu===n&&e.push(r.Ch)}return e}function nb(t){return{version:t>>24,flags:new Uc(16777215&t)}}var eb=function(){function t(){}return t.pb=function(n){for(var e=[],i=Jp.ib(new $p(n,new yf)),r=0;r<i.length;r++){var u=i[r],o=t.bb(u);o&&e.push(o)}return e},t.kb=function(t){return Jp.ub(t,new yf,!1).Td.some(this.Tb)},t.Sb=function(n){return tb(Jp.ib(new $p(n,new yf)),sp.Dp).map(t.Eb)},t.Ib=function(n){return tb(Jp.ib(n.Ch),sp.Dp).map(t.Eb)},t.Tb=function(t){return t.iu===sp.Lp||t.iu===sp.Bp||t.iu===sp.j_||t.iu===sp.Sp||t.iu===sp.Ap||t.iu===sp.xp||t.iu===sp.Pp},t.bb=function(n){switch(n.iu){case sp.j_:return t.Rb(n.Ch);case sp.Sp:return t.Nb(n.Ch,n.yo);case sp.Ap:return t.Ob(n.Ch);case sp.xp:return t.Cb(n.Ch);case sp.Pp:return t.Ab(n.Ch)}},t.Rb=function(n){var e=Jp.ib(n),i=Zp(e,sp.G_),r=tb(e,sp.Y_),u=Qp(e,sp.ip),o=t.Db(i),s=r.map(t.Pb),a=u?t.xb(u):void 0;return{iu:sp.j_,vb:o,Bb:s,Lb:a}},t.Db=function(t){var n=nb(t.Yp()),e=n.version,i=n.flags,r=1===e?t.$p():t.Yp(),u=1===e?t.$p():t.Yp(),o=t.Yp(),s=1===e?t.$p():t.Yp(),a=t.Yp(),c=t.jp()>>8;t.tb(2),t.tb(8);var f=t.Jp(9);t.tb(24);var h=t.Yp();return{iu:sp.G_,mb:e,_b:i,Mb:r,Fb:u,a_:o,Xw:s,Ub:a,ig:c,Vb:f,Hb:h}},t.Pb=function(n){var e=Jp.ib(n),i=Zp(e,sp.X_),r=Zp(e,sp.K_),u=t.qb(i),o=t.zb(r);return{iu:sp.Y_,vb:u,Wb:o}},t.qb=function(t){var n=nb(t.Yp()),e=n.version,i=n.flags,r=1===e?t.$p():t.Yp(),u=1===e?t.$p():t.Yp(),o=t.Yp();t.tb(4);var s=1===e?t.$p():t.Yp();t.tb(8);var a=t.Gp(),c=t.Gp(),f=t.Gp()/d.pow(2,8);t.tb(2);var h=t.Jp(9),v=t.Yp()/d.pow(2,16),l=t.Yp()/d.pow(2,16);return{iu:sp.X_,jb:i._o(1),Gb:i._o(2),Yb:i._o(4),Mb:r,Fb:u,Xb:o,Xw:s,$b:a,Kb:c,ig:f,Vb:h,om:v,Jb:l}},t.zb=function(n){var e=Jp.ib(n),i=Zp(e,sp.J_),r=Zp(e,sp.Z_),u=Zp(e,sp.Q_),o=t.Zb(i),s=t.Qb(r),a=t.tk(u);return{iu:sp.K_,vb:o,nk:s,ek:a}},t.Zb=function(t){var n=nb(t.Yp()),e=n.version,i=n.flags,r=1===e?t.$p():t.Yp(),u=1===e?t.$p():t.Yp(),o=t.Yp(),s=1===e?t.$p():t.Yp();t.jp();return t.tb(2),{iu:sp.J_,mb:e,_b:i,Mb:r,Fb:u,a_:o,Xw:s}},t.Qb=function(t){var n=nb(t.Yp()),e=n.version,i=n.flags;t.tb(4);var r=t.Zp(4);t.tb(12);var u=t.Qp();return{iu:sp.Z_,mb:e,_b:i,ik:r,hd:u}},t.tk=function(n){var e=Zp(Jp.ib(n),sp.tp),i=t.rk(e);return{iu:sp.Q_,uk:i}},t.rk=function(n){var e=Zp(Jp.ib(n),sp.np),i=t.sk(e);return{iu:sp.tp,ak:i}},t.sk=function(n){for(var e=nb(n.Yp()),i=e.version,r=e.flags,u=(n.Yp(),[]),o=Jp.ib(n),s=0;s<o.length;s++){var a=o[s],c=t.ck(a.Ch,a.iu);c&&u.push(c)}return{iu:sp.np,mb:i,_b:r,fk:u}},t.ck=function(n,e){var i=t.hk(n,e);return i||((i=t.vk(n,e))||(e===sp._p?t.dk(n):void 0))},t.hk=function(n,e){return e===sp.yp?t.lk(n):e===sp.kp?t.wk(n):void 0},t.vk=function(n,e){return e===sp.op?t.gk(n):e===sp.ap||e===sp.cp?t.yk(n,e):e===sp.hp?t.mk(n,e):e===sp.dp?t._k(n,e):e===sp.Tp?t.pk(n):void 0},t.bk=function(t,n){return t.tb(6),{iu:n,kk:t.jp()}},t.Tk=function(n,e){var i=t.bk(n,e);n.tb(8);var r=n.jp(),u=n.jp();return n.tb(2),n.tb(2),Fs({},i,{Sk:r,Ek:u,Ik:n.Yp()>>>16})},t.Rk=function(n,e){var i=t.bk(n,e);n.tb(2),n.tb(2),n.tb(12);var r=n.jp(),u=n.jp(),o=n.Yp(),s=n.Yp();n.tb(4);var a=n.jp();n.tb(32);var c=n.jp();return n.tb(2),Fs({},i,{om:r,Jb:u,Nk:o,Ok:s,Ck:a,Ak:c})},t.lk=function(n){var e=t.Tk(n,sp.yp),i=Zp(Jp.ib(n),sp.mp);return Fs({},e,{Dk:t.Pk(i)})},t.dk=function(n){var e=t.bk(n,sp._p),i=Jp.ib(n),r=Zp(i,sp.pp),u=t.xk(r),o=Qp(i,sp.bp);return Fs({},e,{Bk:u,Lk:o?t.Mk(o):o})},t.xk=function(t){return{iu:sp.pp,Za:t.Qp()}},t.Mk=function(t){return{iu:sp.bp,jl:t.Qp()}},t.Pk=function(t){return Jp.yb(t,sp.mp,!0)},t.gk=function(n){var e=t.Rk(n,sp.op),i=Jp.ib(n),r=Zp(i,sp.sp),u=Qp(i,sp.gp);return Fs({},e,{Fk:t.Uk(r),Vk:u?t.Hk(u):void 0})},t.yk=function(n,e){var i=t.Rk(n,e),r=Zp(Jp.ib(n),sp.fp);return Fs({},i,{qk:t.zk(r)})},t.mk=function(n,e){var i=t.Rk(n,e),r=Zp(Jp.ib(n),sp.vp);return Fs({},i,{Wk:t.jk(r)})},t._k=function(n,e){var i=t.Rk(n,e),r=Jp.ib(n),u=Zp(r,sp.lp),o=t.Gk(u),s=Qp(r,sp.wp);return Fs({},i,{Yk:o,Xk:s?t.$k(s):void 0})},t.pk=function(n){var e=n.wo(),i=t.Rk(n,sp.Tp),r=Zp(Jp.ib(n),sp.Mp),u=t.Kk(r);return Fs({},i,{Jk:t.vk(e,u.Qk.Zk),tT:u})},t.wk=function(n){var e=n.wo(),i=t.Tk(n,sp.kp),r=Zp(Jp.ib(n),sp.Mp),u=t.Kk(r);return Fs({},i,{Jk:t.hk(e,u.Qk.Zk),tT:u})},t.Kk=function(n){var e=Zp(Jp.ib(n),sp.Fp),i=t.nT(e);return{iu:sp.Mp,Qk:i}},t.nT=function(t){var n=t.Zp(4);return{iu:sp.Fp,Zk:n}},t.Uk=function(t){return Jp.gb(t,sp.sp,!0)},t.zk=function(t){return Jp.gb(t,sp.fp,!0)},t.jk=function(t){return Jp.gb(t,sp.vp,!0)},t.Gk=function(t){return Jp.gb(t,sp.lp,!0)},t.$k=function(t){var n=t.Zp(4);switch(n){case"nclx":return{eT:fp.ON_SCREEN_COLOURS,iT:t.jp(),rT:t.jp(),uT:t.jp(),oT:0!=(128&t.Wp())};case"rICC":return{eT:fp.RESTRICTED_ICC_PROFILE};case"prof":return{eT:fp.UNRESTRICED_ICC_PROFILE};default:throw f("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.Hk=function(t){var n=t.Yp(),e=t.Yp();return{iu:sp.gp,sT:n,aT:e}},t.xb=function(n){var e=tb(Jp.ib(n),sp.rp).map(t.cT);return{iu:sp.ip,Bb:e}},t.cT=function(t){var n=nb(t.Yp()),e=n.version,i=n.flags,r=t.Yp(),u=t.Yp(),o=t.Yp(),s=t.Yp(),a=t.Yp();return{iu:sp.rp,mb:e,_b:i,Xb:r,fT:u,hT:o,vT:s,dT:a}},t.Nb=function(n,e){var i=Jp.ib(n),r=Zp(i,sp.Ep),u=tb(i,sp.Ip),o=t.lT(r),s=u.map(t.wT);return{iu:sp.Sp,gT:e,vb:o,Bb:s}},t.lT=function(t){var n=nb(t.Yp()),e=n.version,i=n.flags,r=t.Yp();return{iu:sp.Ep,mb:e,_b:i,yT:r}},t.wT=function(n){var e=Jp.ib(n),i=Zp(e,sp.Rp),r=tb(e,sp.Np),u=Qp(e,sp.Op),o=t.mT(i),s=r.map((function(n){return t._T(n,o)})),a=u?t.pT(u):void 0;return{iu:sp.Ip,vb:o,bT:s,kT:a}},t.mT=function(t){var n=nb(t.Yp()),e=n.version,i=n.flags,r=t.Yp(),u=i._o(vp.BASE_DATA_OFFSET_PRESENT)?t.$p():void 0,o=i._o(vp.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Yp():void 0,s=i._o(vp.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Yp():void 0,a=i._o(vp.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Yp():void 0,c=i._o(vp.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Yp():void 0;return{iu:sp.Rp,mb:e,_b:i,Xb:r,TT:u,ST:o,hT:s,vT:a,dT:c}},t._T=function(n,e){for(var i=nb(n.Yp()),r=i.version,u=i.flags,o=n.Yp(),s=u._o(lp.DATA_OFFSET_PRESENT)?n.Xp():void 0,a=u._o(lp.FIRST_SAMPLE_FLAGS_PRESENT)?n.Yp():void 0,c=[],f=0;f<o;f++){var h=t.ET(n,u,r,e);0===f&&void 0!==a&&(h._b=a),c.push(h)}return{iu:sp.Np,mb:r,_b:u,IT:o,gT:s,RT:a,NT:c}},t.ET=function(t,n,e,i){return{Xw:n._o(lp.SAMPLE_DURATION_PRESENT)?t.Yp():i.hT,ho:n._o(lp.SAMPLE_SIZE_PRESENT)?t.Yp():i.vT,_b:n._o(lp.SAMPLE_FLAGS_PRESENT)?t.Yp():i.dT,OT:n._o(lp.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===e?t.Yp():t.Xp():void 0}},t.Ab=function(t){var n=t.Ch,e=t.zp,i=nb(Gc(n,e)),r=i.version,u=i.flags;if(1===r){var o=Gc(n,e),s=Xc(n,e),a=Gc(n,e),c=Gc(n,e),f=$c(n,e),h=$c(n,e),v=lf(hf(n),e.yo,n.byteLength);return e.do(v.byteLength),{iu:sp.Pp,mb:r,_b:u,CT:f,ld:h,a_:o,AT:s,DT:a,ql:c,PT:v}}var d=$c(n,e),l=$c(n,e),w=Gc(n,e),g=Gc(n,e),y=Gc(n,e),m=Gc(n,e),_=lf(hf(n),e.yo,n.byteLength);return e.do(_.byteLength),{iu:sp.Pp,_b:u,mb:r,CT:d,ld:l,a_:w,xT:g,DT:y,ql:m,PT:_}},t.Ob=function(t){return Jp.gb(t,sp.Ap,!1)},t.Eb=function(n){var e=n.Ch,i=n.zp,r=wf(hf(e)).buffer,u=nb(Gc(e,i)),o=u.version,s=u.flags,a=t.BT(e,i),c=[];if(o>0)for(var f=Gc(e,i),h=0;h<f;h++){var v=qc(e,i,16);c.push(v)}var d=Gc(e,i),l=new y(r,i.yo,d);return i.do(e.byteLength),{iu:sp.Dp,mb:o,_b:s,LT:a,MT:c,FT:d,Ch:l,UT:r}},t.BT=function(t,n){for(var e="",i=0;i<4;i++){var r=Vc(t,n).toString(16);e+=1===r.length?"0"+r:r}e+="-";for(var u=0;u<2;u++){var o=Vc(t,n).toString(16);e+=1===o.length?"0"+o:o}e+="-";for(var s=0;s<2;s++){var a=Vc(t,n).toString(16);e+=1===a.length?"0"+a:a}e+="-";for(var c=0;c<2;c++){var f=Vc(t,n).toString(16);e+=1===f.length?"0"+f:f}e+="-";for(var h=0;h<6;h++){var v=Vc(t,n).toString(16);e+=1===v.length?"0"+v:v}return e.toLowerCase()},t.Cb=function(t){var n,e,i=t.Ch,r=t.zp,u=nb(Gc(i,r)),o=u.version,s=u.flags,a=Gc(i,r),c=Gc(i,r);0===o?(n=ru.fromBits(Gc(i,r),0,!0),e=ru.fromBits(Gc(i,r),0,!0)):(n=Xc(i,r),e=Xc(i,r)),r.do(2);for(var f=Wc(i,r),h=[],v=0;v<f;v+=1){var d=Gc(i,r),l=d>>31&1,w=2147483647&d,g=Gc(i,r),y=Gc(i,r),m=y>>31&1,_=y>>28&7,p=268435455&y;h.push({VT:l,HT:w,Xw:g,qT:m,zT:_,WT:p})}return{iu:sp.xp,mb:o,_b:s,jT:a,a_:c,GT:n,YT:e,XT:f,$T:h}},t.pT=function(t){var n,e=t.Ch,i=t.zp,r=nb(Gc(e,i)),u=r.version,o=r.flags;return n=0===u?ru.fromBits(Gc(e,i),0,!0):Xc(e,i),{iu:sp.Op,mb:u,_b:o,kT:n}},t}();function ib(t){return t&&"kd"in t?t.kd:t}ki(),Vt(),Ri(),ki(),Vt();var rb=function(t){function n(n,e,i,r,u,o,s){var a;return(a=t.call(this,n,e,i,r)||this).KT=u,a.JT=o,a.ZT=s||void 0,a}return Xi(n,t),n.prototype.Xy=function(n){return this===n||!!sy(this,n)&&(!!t.prototype.Xy.call(this,n)&&(!!oy(this.QT,n.QT)&&(!!oy(this.V_,n.V_)&&(this.tS&&n.tS?!!this.tS.od(n.tS)&&(this.Vy&&n.Vy?this.Vy.od(n.Vy):this.Vy===n.Vy):this.tS===n.tS))))},Ii(n,[{key:"QT",get:function(){return this.KT}},{key:"V_",get:function(){return this.JT}},{key:"tS",get:function(){return this.ZT}},{key:"tl",get:function(){var t;return this.Qd||(this.Qd=ry(F_(t=this),{get styles(){return t.QT},get regions(){return t.V_},get metadata(){return ib(t.tS)},get content(){return ib(t.Vy)}})),this.Qd}}]),n}(z_);ki(),Vt(),Ri();var ub=function(){function t(t,n,e){this.nS=t,this.eS=n,Tg(e)?this.Yt=function(t,n,e){for(var i=0,r=["begin","end","dur"];i<r.length;i++){var u=r[i];e.Id(u)}return e}(0,0,e):this.Yt=e}return Ii(t,[{key:"iS",get:function(){return this.Yt.sd(!0)}},{key:"Fy",get:function(){return this.nS}},{key:"Uy",get:function(){return this.eS}}]),t}();ki(),Vt(),Mi();var ob="http://www.w3.org/XML/1998/namespace";function sb(t,n){return function(t,n){var e=t.Td.slice(),i=[];for(;e.length>0;){var r,u=e.shift();if(n(u))i.push(u);else(r=e).push.apply(r,Bi(u.Td))}return i}(t,(function(t){return t._d===n}))}function ab(t){for(var n={},e=0,i=t.Cd;e<i.length;e++){var r=i[e];n[r.fd]=r.ld}return n}var cb=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,fb=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,hb="http://www.w3.org/ns/ttml";function vb(t,n,e){return void 0===e&&(e=gp),function(t,n,e){var i,r=[];try{i=Wi.rd(t)}catch(t){return r}var u=i.Dd;if("tt"!==u.fd)return r;var o=u&&u.pd(hb,"head")[0],s=u&&u.pd(hb,"body")[0];if(!s||!o)return r;for(var a=function(t){for(var n={},e=t.pd(hb,"styling")[0],i=e&&e.pd(hb,"style")||[],r=0;r<i.length;r++){var u=i[r];n[u.Ed(ob,"id")]=ab(u)}return n}(o),c=function(t,n){var e=uy(t),i=gb(n.Sd("tts:extent"));if(!i)return e;for(var r=0,u=v.keys(e);r<u.length;r++){var o=u[r],s=gb(e[o].extent);if(s){var a=lb(s[0],i[0]),c=lb(s[1],i[1]);e[o].extent=a+" "+c}var f=gb(e[o].origin);if(f){var h=lb(f[0],i[0]),d=lb(f[1],i[1]);e[o].origin=h+" "+d}}return e}(function(t){for(var n={},e=t.pd(hb,"layout")[0],i=e&&e.pd(hb,"region")||[],r=0;r<i.length;r++){var u=i[r],o=u.Ed(ob,"id");if(o){n[o]=ab(u);var s=_b(u);for(var a in s)ar.call(s,a)&&(n[o][a]=s[a])}}return n}(o),u),f=o.pd(hb,"metadata")[0],h=yb(s,e.M_,e.F_,e.U_),d=0;d<h.length;d++){var l=h[d],w=db(c,l);r.push(new rb(l.Fy,l.Uy,l.iS,!1,a,w,f))}return r}(t,0,e)}function db(t,n){for(var e=pb(n.iS),i={},r=0;r<e.length;r++){var u=e[r];i[u]=t[u]}return i}function lb(t,n){var e=wb(t),i=wb(n);if(e&&i&&e===i){var r=Number(t.slice(0,-e.length)),u=Number(n.slice(0,-i.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function wb(t){return ma(t,"px")?"px":ma(t,"em")?"em":ma(t,"c")?"c":ma(t,"%")?"%":void 0}function gb(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function yb(t,n,e,i){var r,u=function(n){var e=function(t,n,e){for(var i=[],r=0;r<e.length;r++){var u=e[r].Fy,o=e[r].Uy;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&i.push(e[r])}return i}(l[n],l[n+1],a);if(e.length<=0&&function(t){if(Tg(t)){var n=t.fd.toUpperCase(),e=Boolean(t.Sd("smpte:backgroundImage"));return"BR"===n||e}return t.Zv===pg.Jf}(t)){var i=t.sd(!1);c.push(new ub(l[n],l[n+1],i))}else if(e.length>0){var r=t.sd(!1);e.forEach((function(t){return r.bd(t.iS)})),c.push(new ub(l[n],l[n+1],r))}},o=n,s=e,a=[],c=[];if(Tg(t)){var f,h;o=null!=(f=mb(t.Sd("begin"),i))?f:o,r=mb(t.Sd("dur"),0),s=null!=(h=mb(t.Sd("end"),i))?h:void 0!==r?o+r:s;for(var v=t.md,d=0;d<v.length;d++)("body"===t.fd||"div"===t.fd)&&v[d].Zv>1||(a=a.concat(yb(v[d],o,s,i)))}for(var l=function(t,n,e){var i=[];i.push(t,n);for(var r=0;r<e.length;r++){var u=e[r];i.push(u.Fy,u.Uy)}i.sort(Da);for(var o=i.length,s=0;s<o-1;s++)i[s+1]===i[s]&&(Fa(i,s+1),s--,o=i.length);return i}(o,s,a),w=0;w<l.length-1;w++)u(w);return c}function mb(t,n){if(t){if(cb.test(t)){var e=cb.exec(t);if(!e)return;var i=Number(e[1])||0,r=Number(e[2])||0,u=Number(e[3])||0,o=e[6];return 3600*i+60*r+u+(o?Number(o)*d.pow(.1,o.length):0)+n}if(fb.test(t)){var s=fb.exec(t);if(!s)return;var a,c=Number(s[1]);switch(s[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a+n}}}function _b(t){for(var n={},e=t.yd("style")||[],i=0;i<e.length;i++){var r=ab(e[i]);for(var u in r)ar.call(r,u)&&(n[u]=r[u])}return n}function pb(t){var n,e=[];if(Tg(t)){(n=t.Sd("region"))&&e.push(n);for(var i=t.md,r=0;r<i.length;r++)e=e.concat(pb(i[r]))}return e}function bb(t){var n=function(t){try{return Wi.rd(t).Dd}catch(t){}}(t);return"tt"===(null==n?void 0:n.fd)}ki(),Vt(),ki(),Vt();var kb,Tb,Sb=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.Nl=function(n){return t.prototype.Nl.call(this,n)},e.Ol=function(n){var e=t.prototype.Ol.call(this,n);return e&&(n.rw=Ey.sw),e},e.nl=function(){return Dy(this)},n}(Zg);ki(),Vt(),ki(),Vt(),(Tb=kb||(kb={})).Up="subtitles",Tb.rS="captions",Tb.uS="descriptions",Tb.oS="chapters",Tb.Hp="metadata",Tb.sS="thumbnails";var Eb=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function Ib(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ua(Eb,t)}(n)?n:n?"metadata":"subtitles"}ki(),Vt();var Rb,Nb,Ob=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,u)||this).url=i,o.status=r,o}return Xi(n,t),n}(Sd);function Cb(t,n){return t===kb.sS||t===kb.Hp&&n===kb.sS}function Ab(t,n,e,i){for(var r=0,u=t.hw.Al;r<u.length;r++){var o=u[r];if(o.Fy>e)break;n<=o.Uy&&i.push(o)}}function Db(t,n){return Aa(t.zl,n.zl)}function Pb(t,n){var e=n,i=0;if(function(t){return t instanceof Hl}(t)&&t.name===Ml.cv)e=t.Ih.Nh;else if(function(t){return t instanceof zl}(t)){var r=t.lv;if(e=r.Rh,0===(i=r.bh))return new Ob(md.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,i,t)}return new Ob(md.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,i,t)}function xb(t,n,e,i){var r=function(t){switch(t){case Jy.WEBVTT:return"WebVTT";case Jy.SRT:return"SRT";case Jy.TTML:return"TTML";default:return""}}(t);return new Ob(md.SUBTITLE_PARSE_ERROR,"Could not parse the "+(r?r+" ":"")+"subtitle file.",n,e,i)}function Bb(t){return xp(Sp(t))?Jy.WEBVTT:bb(t)?Jy.TTML:Jy.SRT}function Lb(t,n){for(var e=[],i=0,r=t.hw.Al;i<r.length;i++){var u=r[i];if(u.Uy<=n)e.push(u);else if(u.Fy>=n)break}for(var o=0;o<e.length;o++){var s=e[o];t.aS(s)}}ki(),Vt(),(Nb=Rb||(Rb={})).cS="vtt",Nb._p="wvtt",Nb.fS="stpp";var Mb=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Bb=new Sb,n.hS=function(t){var e=t.il;n.vS(e)},n}Xi(n,t);var e=n.prototype;return e.Nl=function(t){t.Mu(Xg.wl,this.hS),this.Bb.Nl(t),this.vS(t)},e.Ol=function(t){t.Hu(Xg.wl,this.hS),t.rw=Ey.sw,this.Bb.Ol(t)},e.dS=function(t){},e.lS=function(t){},e.vS=function(t){t.rw!==Ey.sw?this.dS(t):this.lS(t)},e.wS=function(){for(var t=0,n=this.Bb.Al;t<n.length;t++){var e=n[t];e.Hu(Xg.wl,this.hS),e.kn()}},e.gS=function(t){if(t>0)for(var n=0,e=this.Bb.Al;n<e.length;n++){Lb(e[n],t)}},e.ic=function(){return this.wS(),this.Bb.ic(),G.resolve()},e.kn=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return t.Vu(),[4,t.ic()];case 1:return n.sent(),t.Bb.kn(),[2]}}))}))()},n}(oc);ki(),Vt(),Ri();var Fb=function(t){function n(n){var e;return(e=t.call(this,Ry.ew)||this).errorObject=n,e}return Xi(n,t),n.prototype.nl=function(){return this},Ii(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(qg),Ub=function(t){function n(n,e){var i;return(i=t.call(this)||this).yS=new Wa,i.mS=n,i._S=e,i}Xi(n,t);var e=n.prototype;return e.pS=function(t){if(t.src){var n=t.kind||kb.Up,e=this.mS.bS(n,t.id,t.label,t.srclang,t.default);return e.lw=Ll(t.src),this.Nl(e),e}},e.kS=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s,a,c,f,h,v;return Us(this,(function(d){switch(d.label){case 0:t.fw=O_.LOADING,i=new Dl({Nh:t.lw,Th:Xd.Jf,Yh:Tl.GET,Au:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,e._S.Ih(i)];case 2:return o=d.sent(),u=o.bh,[4,o.ih()];case 3:return r=d.sent(),[3,5];case 4:return Xa(s=d.sent()),t.fw=O_.ERROR,t.Bu(new Fb(Pb(s,t.lw))),[2];case 5:try{for(a=Bb(r),t.iu=a,c=[],a===Jy.WEBVTT||a===Jy.SRT?(f=function(t,n){void 0===n&&(n=gp);var e={hw:[],V_:[],W_:[]},i=Sp(t),r=new yf;if(xp(i),Ep(i,(function(t){return"\n"!==t}),r),r.yo>=i.length)return e;for(r.do(1),"\n"!==i.charAt(r.yo)?Op(Ip(i,r,!1,!0,e,n),e):r.do(1),Ep(i,(function(t){return"\n"===t}),r);r.yo<i.length;)Op(Ip(i,r,!1,!1,e,n),e),Ep(i,(function(t){return"\n"===t}),r);return e}(r),c=f.hw):a===Jy.TTML&&(c=vb(r)),h=0;h<c.length;h++)v=c[h],t.TS(v)}catch(n){return Xa(n),t.fw=O_.ERROR,t.Bu(new Fb(xb(t.iu,t.lw,u,n))),[2]}return t.fw=O_.LOADED,[2]}}))}))()},e.dS=function(t){Ua(this.Bb.Al,t)&&t.fw===O_.NONE&&this.kS(t,this.yS.Au).catch($a)},e.qa=function(){},e.ic=function(){var n=this;return Ms((function(){var e,i,r;return Us(this,(function(u){switch(u.label){case 0:for(n.yS.Nu(),n.yS=new Wa,e=0,i=n.Bb.Al;e<i.length;e++)r=i[e],n.mS.SS(r);return[4,t.prototype.ic.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(Mb);function Vb(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.Wl===n&&i.ES)return i}}function Hb(t,n){qb(Vb(t.Al,n))}function qb(t){void 0!==t&&(t.rw=Ey.uw)}function zb(t,n){qb(Vb(t.Al,n)||function(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.Wl===n)return i}}(t.Al,n))}function Wb(t){for(var n=0;n<Eb.length;n++){var e=Eb[n];e===kb.oS?zb(t,e):Hb(t,e)}}ki(),Vt(),ki(),Vt();var jb,Gb,Yb=function(t){function n(){return t.call(this,Gd.xf)}return Xi(n,t),n}(fc);Ti(),ki(),Vt(),ki(),Vt(),(Gb=jb||(jb={}))[Gb.IS=0]="IS",Gb[Gb.RS=1]="RS",ki(),Vt(),Ri(),ki(),Vt();var Xb=function(t){function n(n){var e;return(e=t.call(this,pm.jw)||this).currentTime=n,e}return Xi(n,t),n}(fc);ki(),Vt();var $b=function(t){function n(n){var e;return(e=t.call(this,pm.Gw)||this).currentTime=n,e}return Xi(n,t),n}(fc),Kb=(pm.yl,pm.Gw,Gd.Cf,Gd.Of,function(t){function n(n,e){var i;return void 0===e&&(e=!1),(i=t.call(this)||this).NS=n,i.OS=e,i.CS=Qy.Lw,i.AS=!0,i.DS=!1,i.PS=!1,i.xS=function(t){var n=i.NS.fw;n!==i.CS&&i.Bu(new Bm(t.currentTime,n)),n===Qy.Lw&&(i.DS=!1,i.PS=!1),i.BS(n),i.LS(n),i.MS(n),i.maybeDispatchCanPlayThroughEvent(n),i.FS(n),i.US(n),i.CS=n},i.VS=function(){i.US(i.CS),i.FS(i.CS),i.AS=i.NS.Zw},i.HS=function(){i.AS=i.NS.Zw},i.qS=function(t){i.Bu(new $b(t.currentTime))},i.NS.Mu(pm.yl,i.xS),i.NS.Mu(Gd.Cf,i.VS),i.NS.Mu(Gd.Of,i.HS),i.OS&&i.NS.Mu(pm.Gw,i.qS),i}Xi(n,t);var e=n.prototype;return e.BS=function(t){!this.PS&&t>=Qy.Mw&&(this.PS=!0,this.Bu(new Sm(this.NS.Yw,t)))},e.LS=function(t){!this.DS&&t>=Qy.Fw&&(this.DS=!0,this.Bu(new Om(this.NS.Yw,t)))},e.FS=function(t){this.OS||(t>=Qy.Uw&&this.CS<Qy.Uw&&!this.NS.Zw||this.zS&&t>=Qy.Uw)&&this.Bu(new $b(this.NS.Yw))},e.US=function(t){!this.WS(t)||this.NS.$w||this.NS.Ju||this.Bu(new Xb(this.NS.Yw))},e.MS=function(t){this.CS<=Qy.Fw&&t>=Qy.Uw&&this.Bu(new Pm(this.NS.Yw,t))},e.maybeDispatchCanPlayThroughEvent=function(t){t===Qy.Vw&&this.Bu(new xm(this.NS.Yw,t))},e.WS=function(t){var n=!this.NS.Zw&&t<=Qy.Fw,e=!this.AS&&this.CS<=Qy.Fw;return n&&!e},e.ic=function(){this.CS=Qy.Lw,this.AS=!0,this.DS=!1,this.PS=!1},e.kn=function(){this.Vu(),this.OS&&this.NS.Hu(pm.Gw,this.qS),this.NS.Hu(Gd.Cf,this.VS),this.NS.Hu(Gd.Of,this.HS),this.NS.Hu(pm.yl,this.xS)},Ii(n,[{key:"zS",get:function(){return!this.NS.Zw&&this.AS}}]),n}(oc));ki(),Vt(),ki(),Vt();var Jb="titanium",Zb="conax",Qb="ezdrm",tk="irdeto",nk="vudrm",ek="verimatrix",ik="keyos",rk="drmtoday",uk="expressplay",ok="azure",sk="xstream",ak="vimond",ck="axinom",fk="uplynk",hk="comcast",vk="custom";ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri();var dk=function(){function t(t,n,e,i,r){this.jS=void 0,this.Ja=t,this.GS=n,this.YS=e,this._S=i,this.XS=r,this.$S=this.KS(n)}var n=t.prototype;return n.JS=function(){return this.jS},n.ZS=function(t){this.jS=t},n.QS=function(){return this.$S.licenseAcquisitionURL||this.JS()},n.tE=function(t){return G.resolve()},n.nE=function(t,n){return G.resolve(void 0)},n.eE=function(t,n,e,i){var r=this;return Ms((function(){var u,o;return Us(this,(function(s){switch(s.label){case 0:if(""===(u=r.iE(t,n,e,i)).Nh)throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");s.label=1;case 1:return s.trys.push([1,4,,6]),[4,r.Xd.Ih(u)];case 2:return[4,s.sent().rh(n)];case 3:return[2,s.sent()];case 4:return Xa(o=s.sent()),[4,r.rE(o,u.Nh,i)];case 5:return s.sent(),[2];case 6:return[2]}}))}))()},n.iE=function(t,n,e,i){var r=this.uE().Zf(),u=this.Zh,o={Nh:this.oE(),Th:n,kh:r,ah:t,Zh:u,Yh:Tl.POST,Xh:0,Au:i,iu:El.Bh,Kh:e};return new Dl(o)},n.sE=function(t,n){return G.resolve(t)},n.aE=function(t,n,e,i){return G.resolve(t)},n.uE=function(){return new Zd(this.$S.headers||{})},n.rE=function(t,n,e){return Ms((function(){return Us(this,(function(n){throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.oE=function(t,n){var e=n,i=this.$S.queryParameters;if(!e){var r=this.QS();if(!r)return"";e=r}if(i||t){var u=Wi.Lr(e);t&&Bl(u,t),i&&Bl(u,i),e=u.href}return e},n.cE=function(t,n){return lk(t)},n.fE=function(t){return new y(t)},n.hE=function(t,n,e){var i=this;return Ms((function(){var r,u;return Us(this,(function(o){switch(o.label){case 0:return[4,i.cE(t,e)];case 1:return r=o.sent(),[4,i.eE(r,i.XS,n,e)];case 2:return u=o.sent(),[2,i.fE(u)]}}))}))()},n.kn=function(){},Ii(t,[{key:"Xd",get:function(){return this._S}},{key:"vE",get:function(){return!1}},{key:"dE",get:function(){var t=this.$S.certificate;if(t)return gr(t)?Tc(t):df(t)}},{key:"lE",get:function(){return!1}},{key:"Zh",get:function(){return Boolean(this.$S.useCredentials)}}]),t}();function lk(t){return G.resolve(wf(t).buffer)}var wk,gk,yk=function(t){function n(n,e,i,r){return t.call(this,va,n,e,i,r)}Xi(n,t);var e=n.prototype;return e.KS=function(t){return t.widevine||{}},e.wE=function(t,n){var e=this;return Ms((function(){return Us(this,(function(i){return e.dE?[2,e.dE]:[2,e.gE(new y(t),n)]}))}))()},e.gE=function(n,e){return t.prototype.hE.call(this,n,Rl.Uh,e)},n}(dk);function mk(t,n){if(null==t)return{};var e,i,r={},u=v.keys(t);for(i=0;i<u.length;i++)e=u[i],n.indexOf(e)>=0||(r[e]=t[e]);return r}function _k(t){return fr(t.token&&t.deviceId)}function pk(t){var n,e=null==(n=t.fairplay)?void 0:n.headers;return void 0!==e&&fr(e.PreAuthorization)}function bk(t){var n=t;return _k(n)&&""!==n.token&&""!==n.deviceId&&!pk(n)}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(gk=wk||(wk={})).yE=!1,gk.mE=!1,gk._E=!1,gk.pE=!1,gk.LOG_ADS_DETAILS=!1,gk.LOG_CHROMECAST_DETAILS=!1,gk.LOG_CUSTOM_DRM=!1,gk.LOG_BUFFERING_VIDEO_MAIN=!1,gk.LOG_BUFFERING_VIDEO_SELECTION=!1,gk.LOG_BUFFERING_AUDIO_MAIN=!1,gk.LOG_BUFFERING_AUDIO_SELECTION=!1,gk.bE=!1,gk.kE=!1,gk.LOG_LCEVC_DETAILS=!1,ki(),Vt(),Ri();var kk,Tk,Sk=function(){function t(t,n,e){this.TE=t,this.Da=n,this.SE=e}return t.prototype.EE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var e=t.onCertificateResponse;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var i=t.onLicenseRequest;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.SE.build(t))},Ii(t,[{key:"IE",get:function(){return this.TE}},{key:"Ja",get:function(){return this.Da}}]),t}();ki(),Vt(),(Tk=kk||(kk={})).FAILED="FAILED",Tk.OVERRIDDEN="OVERRIDDEN",Tk.SUCCEEDED="SUCCEEDED";var Ek=function(){function t(){this.RE=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,e){switch(this.NE(t,n,e)){case kk.FAILED:throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case kk.OVERRIDDEN:var i=Wk(n);Wi.pr("Warning: Overwriting an earlier registered integration for "+t+" and "+i+".");break;case kk.SUCCEEDED:Wk(n);0}},n.NE=function(t,n,e){var i=Wk(n);if(!i)return kk.FAILED;for(var r=kk.SUCCEEDED,u=0,o=this.RE.slice();u<o.length;u++){var s=o[u];s.IE===t&&s.Ja===i&&(r=kk.OVERRIDDEN,Ma(this.RE,s))}return this.RE.push(new Sk(t,i,e)),r},n.OE=function(t,n){return void 0!==this.CE(t,n)},n.AE=function(t,n,e){var i=this.CE(t,n);if(!i)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return i.EE(e)},n.CE=function(t,n){for(var e=0,i=this.RE;e<i.length;e++){var r=i[e];if(r.IE===t&&(!n||r.Ja===n))return r}},t}();Ek.DE=new Ek;var Ik={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Rk(t){if(!t)return!0;var n=t.licenseAcquisitionURL,e=t.certificateURL,i=t.keys,r=t.headers,u=t.useCredentials,o=t.queryParameters;return!(n||e||i||r||u||o)}function Nk(t){return t&&void 0!==t.licenseAcquisitionURL}var Ok,Ck,Ak=Nk,Dk=Nk;function Pk(t){if(!t)return!0;if(Mk(t))return!1;var n=t.fairplay,e=t.playready,i=t.widevine,r=t.clearkey,u=t.aes128;return Rk(n)&&Rk(e)&&Rk(i)&&Rk(r)&&Rk(u)}function xk(t){var n=bk(t),e=function(t){var n,e=t;return pk(e)&&""!==(null==(n=e.fairplay)?void 0:n.headers.PreAuthorization)&&!_k(e)}(t);return(!n||!e)&&(n||e)}function Bk(t){return t.integration===tk}function Lk(t){var n=t;if(!n)return!1;if(Pk(n))return!1;var e=n.fairplay,i=n.playready,r=n.widevine,u=n.clearkey;if(Mk(t))return!0;if(e&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(e))return!1;if(i&&!Ak(i))return!1;if(r&&!Dk(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Ek.DE.OE(n.integration))return!0;switch(n.integration){case Jb:if(!function(t){return t.integration===Jb&&(Fk(t)||Uk(t))}(t))return!1;break;case nk:if(!Vk(t))return!1;break;case ek:if(!function(t){return t.integration===ek}(t))return!1;break;case tk:if(!Bk(t))return!1;break;case Zb:if(!xk(t))return!1;break;case Qb:if(!function(t){return t.integration===Qb}(t))return!1;break;case ik:if(!Mk(t))return!1;break;case rk:if(!function(t){var n=t;return n.integration===rk&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case uk:if(!function(t){return t.integration===uk}(t))return!1;break;case sk:if(!Hk(t))return!1;break;case ak:if(!function(t){return t.integration===ak}(t))return!1;break;case ck:if(!qk(t))return!1;break;case ok:if(!function(t){var n=t;return n.integration===ok&&void 0!==n.token}(t))return!1;break;case fk:if(!function(t){return t.integration===fk}(t))return!1;break;case hk:if(!function(t){var n=t;return n&&fr(n.releasePid)&&fr(n.accountId)&&fr(n.token)}(t))return!1;break;case vk:return!0;default:return!1}}return!0}function Mk(t){return t.integration===ik}function Fk(t){return void 0!==t.authToken}function Uk(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Vk(t){var n=t;return n.integration===nk&&void 0!==n.token}function Hk(t){var n=t;return n&&n.integration===sk&&gr(n.ticketAcquisitionURL)&&gr(n.streamId)}function qk(t){var n=t;return n.integration===ck&&void 0!==n.token}function zk(t,n){var e,i,r,u=n[t],o=null!=(e=null==u?void 0:u.licenseAcquisitionURL)?e:Ik[t],s=null!=(i=null==u?void 0:u.customdata)?i:n.customdata,a=s?{customData:s}:{},c=Fs({},null!=(r=null==u?void 0:u.headers)?r:{},a),f=null!=u?u:{};f.customdata;return Fs({},mk(f,["customdata"]),{licenseAcquisitionURL:o,headers:c})}function Wk(t){switch(t.toLowerCase()){case"widevine":case ua:return ua;case"playready":case ea:return ea;case"fairplay":case ca:return ca}}function jk(t,n){switch(t){case Zs:return function(t){for(var n={},e=eb.Sb(new DataView(t)),i=0;i<e.length;i++){var r=e[i];n[r.LT]=r.UT}return n}(n);case Qs:case ta:return function(t){return Fy({},aa,t)}(n);default:throw new Sd(md.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}(Ck=Ok||(Ok={})).Qr="Widevine",Ck.Zr="PlayreadyV2",Ck.PE="PlayreadyV2",Ck.xE="PlayreadyV3",Ck.nu="Fairplay";var Gk={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Yk(t,n){var e,i,r,u,o=Gk[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=Wi.Fr)?void 0:e.Ur,OSVersion:null==(i=Wi.Fr)?void 0:i.jr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(r=Wi.Fr)?void 0:r.Gr,DeviceModel:null==(u=Wi.Fr)?void 0:u.Yr}}}function Xk(t,n){if(!t.accountName)throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function $k(t,n,e){var i;if(Fk(t))i={AuthToken:t.authToken,Payload:n};else{if(!Uk(t))throw Xk(t,e);i={LatensRegistration:Yk(t,e),Payload:n}}return Dc(JSON.stringify(i))}function Kk(t,n,e){return Jk.apply(this,arguments)}function Jk(){return(Jk=Ms((function(t,n,e){var i,r,u,o;return Us(this,(function(s){switch(s.label){case 0:if(!(i=t.lv))throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);r=i,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.eh(e)];case 2:return u=s.sent(),o=Zk(u),[3,4];case 3:return s.sent(),o="",[3,4];case 4:throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,r.Ih.Nh,r.bh,r.Sh,o)}}))}))).apply(this,arguments)}function Zk(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}ki(),Vt();var Qk=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,Xd.$f)||this).BE=void 0,r}Xi(n,t);var e=n.prototype;return e.rE=function(t,n,e){return Kk(t,n,e)},e.tE=function(t){return this.BE?Ka(this.BE.bo,t):(this.BE=new mf,G.resolve())},e.cE=function(t,n){var e=this;return Ms((function(){var n,i;return Us(this,(function(r){if(!(n=e.GS))throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return i=Ec(t),[2,$k(n,i,Ok.Qr)]}))}))()},e.fE=function(t){if(!t.license)throw new d_(md.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Tc(t.license)},e.LE=function(t){return G.resolve(new y(t))},e.wE=function(t,n){var e=this;return Ms((function(){var i,r;return Us(this,(function(u){switch(u.label){case 0:return e.ME(),[4,e.cE(t,n)];case 1:return i=u.sent(),[4,e.eE(i,Xd.Xf,Rl.Vh,n)];case 2:return r=u.sent(),[4,e.LE(r)];case 3:return[2,u.sent()]}}))}))()},e.gE=function(n,e){var i=this;return Ms((function(){var r;return Us(this,(function(u){switch(u.label){case 0:return[4,t.prototype.gE.call(i,n,e)];case 1:return r=u.sent(),i.ME(),[2,r]}}))}))()},e.ME=function(){this.BE||(this.BE=new mf),this.BE.ko()},e.kn=function(){this.BE&&this.BE.Nu(),t.prototype.kn.call(this)},n.FE=function(){return Wi.Ur.tr?"required":"optional"},n}(yk);ki(),Vt(),Ri();var tT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,Xd.Xf)||this).ZS("https://widevine-proxy.drm.technology/proxy"),r}return Xi(n,t),n.prototype.cE=function(t,n){var e=this;return Ms((function(){var n,i,r,u;return Us(this,(function(o){switch(o.label){case 0:return[4,lk(t)];case 1:if(n=o.sent(),i=e.YS,r=gf(new y(n)),!(u=e.UE))throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:r,kid:i})]}}))}))()},Ii(n,[{key:"UE",get:function(){if(Vk(this.GS))return this.GS.token}}]),n}(yk);function nT(t,n){var e=n||{};return t.ticket&&t.sessionId&&(e=Fs({},e,{SessionId:t.sessionId,Ticket:t.ticket})),Fs({},e,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}ki(),Vt(),ki(),Vt();var eT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,Xd.Xf)||this).ZS("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return Xi(n,t),n.prototype.oE=function(n,e){var i=n;return Bk(this.GS)&&(i=nT(this.GS,i)),t.prototype.oE.call(this,i,e)},n}(yk);ki(),Vt(),ki(),Vt();var iT="Conax-Custom-Data";function rT(t,n,e){var i=t&&xk(t)&&t;if(i&&!e.has(iT)){var r=bk(i)?i.token:void 0,u=bk(i)?i.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});e.set(iT,o)}return e}var uT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,Xd.Xf)||this).ZS("https://connect.conax.com:8094/license"),r}return Xi(n,t),n.prototype.uE=function(){var n=t.prototype.uE.call(this);return rT(this.GS,"Widevine",n)},n}(yk);function oT(t){var n=nf(new y(t));return Tc(JSON.parse(n).license)}function sT(t){return"string"==typeof t.token?t.token:Dc(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function aT(t,n,e){var i;return i=e.token?"x-dt-auth-token":"dt-custom-data",t.set(i,n),t}ki(),Vt(),Ri(),ki(),Vt();var cT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,Xd.Xf)||this).ZS("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}Xi(n,t);var e=n.prototype;return e.fE=function(t){return oT(t)},e.uE=function(){return aT(t.prototype.uE.call(this),this.UE,this.GS)},Ii(n,[{key:"UE",get:function(){return sT(this.GS)}}]),n}(yk);ki(),Vt();var fT=function(t){function n(n,e,i){return t.call(this,n,e,i,Xd.Xf)}return Xi(n,t),n.prototype.uE=function(){var n=t.prototype.uE.call(this),e=this.GS.token;return n.set("Authorization","Bearer "+e),n},n}(yk);function hT(t,n,e,i){return vT.apply(this,arguments)}function vT(){return(vT=Ms((function(t,n,e,i){var r,u,o,s,a,c;return Us(this,(function(f){switch(f.label){case 0:if(!Hk(t))throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(r=new Zd).append("Cache-Control","no-cache"),r.append("Content-Type","application/json"),(u=t.sessionId)&&r.append("XSSESSION",u),o=t.streamId,s=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:s,streamId:o},c={Nh:t.ticketAcquisitionURL,Th:Xd.$f,kh:r,Yh:Tl.POST,ah:JSON.stringify(a),Au:i},[4,e.Ih(c)];case 1:return[4,f.sent().eh()];case 2:return[2,f.sent()]}}))}))).apply(this,arguments)}ki(),Vt(),ki(),Vt();var dT=function(t){function n(n,e,i){return t.call(this,n,e,i,Xd.$f)}Xi(n,t);var e=n.prototype;return e.uE=function(){var n=t.prototype.uE.call(this);return n.set("Content-Type","application/json"),n},e.cE=function(n,e){var i=this;return Ms((function(){var r,u,o;return Us(this,(function(s){switch(s.label){case 0:return r=Ac(n.buffer),[4,hT(i.GS,"widevine_modular",i.Xd,e)];case 1:return u=s.sent(),i.ZS(u.licenseServerUrl),o=ef(JSON.stringify({payload:r,ticket:u.ticket})),[2,t.prototype.cE.call(i,o,e)]}}))}))()},e.fE=function(t){return Tc(t.license)},n}(yk);ki(),Vt();var lT=function(t){function n(n,e,i){return t.call(this,n,e,i,Xd.Xf)}return Xi(n,t),n.prototype.uE=function(){if(!qk(this.GS))throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.uE.call(this);return n.set("X-AxDRM-Message",this.GS.token),n},n}(yk);function wT(t){for(var n=new y(2*t.length),e=0;e<t.length;e+=1)n[2*e]=t.charCodeAt(e),n[2*e+1]=0;return n}ki(),Vt();var gT=function(t){function n(n,e,i){var r;return(r=t.call(this,ha,n,e,i,Xd.Xf)||this).VE=void 0,r}Xi(n,t);var e=n.prototype;return e.KS=function(t){return t.playready||{}},e.uE=function(){var n=new Zd(this.VE);return n.th(t.prototype.uE.call(this)),n},e.HE=function(t){return t.length>=1&&t[0].md.length>0},e.nE=function(n){var e=this.GS.playready.customData;if(e){var i=wT(e),r=wT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ec(i)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return G.resolve({playready:{Tc:r}})}return t.prototype.nE.call(this,n)},e.cE=function(t,n){var e=this;return Ms((function(){var n;return Us(this,(function(i){switch(i.label){case 0:return[4,lk(t)];case 1:return n=i.sent(),[2,e.qE(n)]}}))}))()},e.qE=function(t){var n=this;return Ms((function(){var e,i,r,u,o,s,a,c,f,h,v,d,l,w,g,y;return Us(this,(function(m){var _,p,b;r=null,u=new DataView(t),_=u,p=new yf,void 0===(b=!0)&&(b=!1),o=Qc(_,p,b,!0);try{s=Wi.rd(o)}catch(t){return[2,r]}for(a=null==(e=s.yd("PlayReadyKeyMessage")[0])?void 0:e.yd("LicenseAcquisition")[0],f=null!=(c=null==a?void 0:a.yd("Challenge"))?c:[],n.HE(f)&&(r=Cc(f[0].Ad)),h=new Zd,d=null!=(v=null==(i=null==a?void 0:a.yd("HttpHeaders")[0])?void 0:i.yd("HttpHeader"))?v:[],l=0;l<d.length;l++)w=d[l],g=w.yd("name")[0].Ad,y=w.yd("value")[0].Ad,h.append(g,y);return n.VE=h,[2,r]}))}))()},e.wE=function(t,n){return G.resolve(t)},e.gE=function(n,e){return t.prototype.hE.call(this,n,Rl.Hh,e)},n}(dk);ki(),Vt(),ki(),Vt(),Ri();var yT=function(){function t(n){this.zE=n,this.la=t.WE(n)}return t.prototype.jE=function(){var t={};if(this.la===Ok.xE){var n={LatensRegistration:Yk(this.zE,Ok.xE)};t["X-TITANIUM-DRM-CDATA"]=Dc(JSON.stringify(n))}return t},t.WE=function(t){return"3"===t.version?Ok.xE:Ok.PE},Ii(t,[{key:"GE",get:function(){return this.la}},{key:"ac",get:function(){return this.la===Ok.PE}}]),t}();var mT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).YE=new yT(r.GS),r}Xi(n,t);var e=n.prototype;return e.nE=function(t){var n=this.GS;if(!this.GS)throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Uk(n)){var e={};return e.playready={Tc:_T(n,this.YE.GE)},G.resolve(e)}return G.reject(Xk(n,Ok.Zr))},e.uE=function(){var n=new Zd(this.YE.jE());return n.th(t.prototype.uE.call(this)),n},e.rE=function(t,n,e){return Ms((function(){var i,r,u,o,s,a,c,f;return Us(this,(function(h){switch(h.label){case 0:if(!(i=t.lv))throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i.uh(e)];case 2:return o=h.sent(),s=nf(new y(o)),(a=Wi.rd(s))&&(c=sb(a,"CustomData")).length>0&&(r=JSON.parse(c[0].Ad),u=null==(f=r.DrmErr)?void 0:f.desc),[3,4];case 3:return h.sent(),[3,4];case 4:throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,i.bh,i.Sh,u)}}))}))()},e.HE=function(t){if(1!==t.length)throw new d_(md.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(gT);function _T(t,n){var e=Yk(t,n),i=e.DeviceInfo.FormatVersion,r=Dc('<LatensRegistration formatversion="'+i+'"><AccountName>'+e.AccountName+"</AccountName><CustomerName>"+e.CustomerName+"</CustomerName><PortalID>"+e.PortalId+'</PortalID><DeviceInfo formatversion="'+i+'"><DeviceType>'+e.DeviceInfo.DeviceType+"</DeviceType><OSType>"+e.DeviceInfo.OSType+"</OSType><OSVersion>"+e.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+e.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+e.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+e.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+e.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+e.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=uf(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return uf('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ec(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}ki(),Vt(),Ri();var pT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).ZS("https://playready-license.drm.technology/rightsmanager.asmx"),r}Xi(n,t);var e=n.prototype;return e.HE=function(t){if(1!==t.length)throw new d_(md.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.oE=function(n,e){var i=Fs({},n||{},{token:this.UE});return t.prototype.oE.call(this,i,e)},Ii(n,[{key:"UE",get:function(){if(Vk(this.GS))return this.GS.token}}]),n}(gT);ki(),Vt();var bT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).ZS("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return Xi(n,t),n.prototype.oE=function(n,e){var i=n;return Bk(this.GS)&&(i=nT(this.GS,i)),t.prototype.oE.call(this,i,e)},n}(gT);ki(),Vt();var kT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).ZS("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return Xi(n,t),n.prototype.uE=function(){var n=t.prototype.uE.call(this);return rT(this.GS,"PlayReady",n)},n}(gT);ki(),Vt(),Ri();var TT,ST,ET=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).ZS("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}Xi(n,t);var e=n.prototype;return e.fE=function(n){return 1===(ya(nf(new y(n)),"<?xml")?0:1)?oT(n):t.prototype.fE.call(this,new y(n))},e.uE=function(){return aT(t.prototype.uE.call(this),this.UE,this.GS)},Ii(n,[{key:"UE",get:function(){return sT(this.GS)}}]),n}(gT);(ST=TT||(TT={}))[ST.XE=0]="XE",ST[ST.eh=1]="eh",ki(),Vt();var IT=function(t){function n(n,e,i){return t.call(this,n,e,i)}Xi(n,t);var e=n.prototype;return e.uE=function(){var n=t.prototype.uE.call(this);return this.$E&&n.set("Ticket",this.$E),n.set("Content-Type","text/xml"),n},e.cE=function(n,e){var i=this;return Ms((function(){var r;return Us(this,(function(u){switch(u.label){case 0:return[4,hT(i.GS,"playready",i.Xd,e)];case 1:return r=u.sent(),i.ZS(r.licenseServerUrl),i.$E=r.ticket,[2,t.prototype.cE.call(i,n,e)]}}))}))()},n}(gT);ki(),Vt();var RT,NT,OT=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.uE=function(){if(!qk(this.GS))throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.uE.call(this);return n.set("X-AxDRM-Message",this.GS.token),n},n}(gT);ki(),Vt(),Ri(),ki(),Vt(),(NT=RT||(RT={})).$f="application/json",NT.KE="application/x-www-form-urlencoded",NT.JE="application/octet-stream",NT.Jf="text/plain;charset=UTF-8";var CT=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n.Ja,e,i,r,u)||this).ZE="",o.QE=void 0,o.tI=n.nI,o}Xi(n,t);var e=n.prototype;return e.eI=function(){return this.$S.certificateURL||this.QE},e.iI=function(t){this.QE=t},e.cE=function(t){return G.resolve(this.rI(t,this.ZE))},e.rI=function(t,n){return"spc="+encodeURIComponent(Ec(t))+"&assetId="+encodeURIComponent(n)},e.KS=function(t){return t.fairplay||{}},e.uI=function(t){var n=t.indexOf("?");if(n>=0)return G.resolve(t.substr(n+1));var e=t.split("skd://").pop();if(e){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e))return G.resolve(e)}var i=t.split("/");return G.resolve(i[i.length-1])},e.nE=function(t){var n=this;return Ms((function(){var e,i,r,u;return Us(this,(function(o){switch(o.label){case 0:return i=null!=(e=n.tI)?e:sf(new y(t)),[4,n.uI(i)];case 1:return r=o.sent(),n.ZE=r,(u={}).fairplay={Cc:r},[2,u]}}))}))()},e.uE=function(){var n=t.prototype.uE.call(this);return n.set("Content-Type",this.oI),n},e.wE=function(t,n){var e=this;return Ms((function(){return Us(this,(function(t){switch(t.label){case 0:return e.dE?[2,e.dE]:[4,e.sI(n)];case 1:return[2,t.sent()]}}))}))()},e.gE=function(n,e){return t.prototype.hE.call(this,n,Rl.Mh,e)},e.aI=function(t){var n=this.eI(),e=this.uE(),i={Nh:n,Th:Xd.Xf,kh:e,Yh:Tl.GET,Zh:!1,ah:null,Xh:0,Au:t,iu:El.Bh,Kh:Rl.Fh};return new Dl(i)},e.sI=function(t){var n=this;return Ms((function(){var e,i;return Us(this,(function(r){switch(r.label){case 0:return e=n.aI(t),[4,n.Xd.Ih(e)];case 1:return[4,r.sent().uh()];case 2:return i=r.sent(),[2,new y(i)]}}))}))()},e.fE=function(t){var n;if("string"==typeof t){var e=t.trim();"<ckc>"===e.substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6)),n=Tc(e)}else n=new y(t);return n},e.oE=function(n,e){var i=t.prototype.oE.call(this,n,e);return ya(i,"skd:")&&(i=i.substr("skd:".length)),i},Ii(n,[{key:"lE",get:function(){return!0}},{key:"oI",get:function(){return RT.KE}}]),n}(dk);ki(),Vt(),Ri();var AT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,Xd.Xf)}Xi(n,t);var e=n.prototype;return e.uI=function(n){var e=n.split("://",1);return"skd"!==e[0].slice(-3).toLowerCase()?G.resolve(""):(e=n.split(";",2)).length>1?G.resolve(e[1]):G.resolve(t.prototype.uI.call(this,n))},e.cE=function(t){return Ms((function(){return Us(this,(function(n){return[2,t]}))}))()},e.fE=function(t){return new y(t)},e.oE=function(n,e){var i=n||{};return i.p1=cu(),t.prototype.oE.call(this,i,e)},Ii(n,[{key:"oI",get:function(){return RT.JE}}]),n}(CT);ki(),Vt(),Ri();var DT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,Xd.Xf)||this).ZS("https://fairplay-license.drm.technology/license"),u.iI("https://fairplay-license.drm.technology/certificate"),u}Xi(n,t);var e=n.prototype;return e.rI=function(t,n){var e={token:this.UE,contentId:n,payload:Ec(t)};return JSON.stringify(e)},e.fE=function(t){return new y(t)},e.uE=function(){var n=t.prototype.uE.call(this);return n.set("x-vudrm-token",this.UE),n},Ii(n,[{key:"oI",get:function(){return RT.$f}},{key:"UE",get:function(){if(!Vk(this.GS))throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.GS.token}}]),n}(CT);ki(),Vt();var PT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",xT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",BT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,Xd.Xf)}return Xi(n,t),n.prototype.fE=function(n){var e=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new d_(md.CONTENT_PROTECTION_LICENSE_INVALID,PT)}if(!n)throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,xT);return n}(nf(new DataView(n)));return t.prototype.fE.call(this,e)},n}(CT);ki(),Vt(),Ri();var LT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,Xd.$f)}Xi(n,t);var e=n.prototype;return e.cE=function(t){var n=this;return Ms((function(){var e,i;return Us(this,(function(r){if(!(e=n.GS))throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return i=Ec(t),[2,$k(e,i,Ok.nu)]}))}))()},e.fE=function(t){try{var n;if(gr(t)){var e=t.trim();n=JSON.parse(e)}else n=t;if(n.license){var i=Cc(n.license);return new y(i)}throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new d_(md.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.rE=function(t,n,e){return Kk(t,n,e)},Ii(n,[{key:"oI",get:function(){return RT.$f}}]),n}(CT);ki(),Vt(),Ri();var MT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,Xd.Xf)||this).ZS("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.iI("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}Xi(n,t);var e=n.prototype;return e.eI=function(){var n=t.prototype.eI.call(this);if(!n)return n;var e=Wi.Lr(n),i=this.GS;return Bk(i)&&Bl(e,{accountId:i.accountId,applicationId:i.applicationId||""}),e.href},e.uI=function(n){return Bk(this.GS)?G.resolve(this.GS.contentId):t.prototype.uI.call(this,n)},e.cE=function(t){return Ms((function(){return Us(this,(function(n){return[2,t]}))}))()},e.fE=function(t){return new y(t)},e.oE=function(n,e){var i=n;return Bk(this.GS)&&(i=function(t,n){return Fs({},nT(t,n),{KeyId:t.keyId})}(this.GS,i)),t.prototype.oE.call(this,i,e)},Ii(n,[{key:"oI",get:function(){return RT.JE}}]),n}(CT);ki(),Vt();var FT=function(t){function n(n,e,i,r){var u;if(u=t.call(this,n,e,i,r,Xd.Jf)||this,!xk(e))throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.ZS("https://connect.conax.com:8097/license"),u}Xi(n,t);var e=n.prototype;return e.uE=function(){var n=t.prototype.uE.call(this);return rT(this.GS,"FairPlay",n)},e.sI=function(t){var n=this;return Ms((function(){var e,i,r;return Us(this,(function(u){switch(u.label){case 0:return e=n.eI(),i={Nh:e,Th:Xd.Xf,kh:{},Yh:Tl.GET,Zh:!1,ah:null,Xh:0,Au:t,iu:El.Bh,Kh:Rl.Fh},[4,n.Xd.Ih(i)];case 1:return[4,u.sent().uh()];case 2:return r=u.sent(),[2,new y(r)]}}))}))()},e.cE=function(t){return Ms((function(){return Us(this,(function(n){return[2,t]}))}))()},e.uI=function(t){var n,e=t.indexOf("?");return 0===t.indexOf("skd://")?(n=e>=0?t.substring("skd://".length,e):t.substring("skd://".length),G.resolve(nf(Tc(n)))):G.resolve("unknown")},e.fE=function(t){try{var n=JSON.parse(t);return new y(Cc(n.CkcMessage))}catch(t){throw new f("CFLRW-66")}},n}(CT);ki(),Vt();var UT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,Xd.Jf)||this).ZS(Ik[Ks.nu]),u}Xi(n,t);var e=n.prototype;return e.uI=function(t){return ya(t,"skd://")?G.resolve(t.substring("skd://".length,40)):G.reject(new d_(md.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.rI=function(t,n){return"spc="+Ec(t)+"&assetId="+n},n}(CT);ki(),Vt(),Ri();var VT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,Xd.Jf)||this).ZS("https://lic.drmtoday.com/license-server-fairplay/"),u}Xi(n,t);var e=n.prototype;return e.rI=function(t,n){var e="spc="+encodeURIComponent(Ec(t))+"&"+encodeURI(n);return"persistent"===this.$S.licenseType?e+"&offline=true":e},e.uE=function(){return aT(t.prototype.uE.call(this),this.UE,this.GS)},Ii(n,[{key:"UE",get:function(){return sT(this.GS)}}]),n}(CT);ki(),Vt(),Ri();var HT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,Xd.Xf)}Xi(n,t);var e=n.prototype;return e.uI=function(t){var n=t;return ya(n,"skd:")&&(n="http:"+n.substring(4)),ya(n,"http:")||ya(n,"https:")?G.resolve(Wi.Lr(n).hostname):G.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},e.cE=function(t){return Ms((function(){return Us(this,(function(n){return[2,t]}))}))()},e.fE=function(t){return new y(t)},Ii(n,[{key:"oI",get:function(){return RT.JE}}]),n}(CT);ki(),Vt();var qT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,Xd.Jf)}return Xi(n,t),n.prototype.uE=function(){var n=t.prototype.uE.call(this),e=this.GS.token;return n.set("Authorization","Bearer "+e),n},n}(CT);ki(),Vt(),Ri();var zT=function(t){function n(n,e,i,r){var u=t.call(this,n,e,i,r,Xd.$f);if(!Hk(e))throw new f("Invalid Xstream DRM configuration");return u}Xi(n,t);var e=n.prototype;return e.sI=function(t){var n=this;return Ms((function(){var e,i,r,u;return Us(this,(function(o){switch(o.label){case 0:return e=n.eI(),i=n.uE(),r={Nh:e,Th:Xd.$f,kh:i,Yh:Tl.POST,Au:t,iu:El.Bh,Kh:Rl.Fh},[4,n.Xd.Ih(r)];case 1:return[4,o.sent().eh()];case 2:return u=o.sent(),[2,new y(Tc(u.certificate))]}}))}))()},e.gE=function(t,n,e){void 0===e&&(e=Xd.Jf);var i=this;return Ms((function(){var e,r,u,o;return Us(this,(function(s){switch(s.label){case 0:return e=Ec(t),[4,hT(i.GS,"fairplay",i.Xd,n)];case 1:return r=s.sent(),u=ef(JSON.stringify({spc:e,ticket:r.ticket})),o={Nh:i.QS(),Th:Xd.$f,kh:i.uE(),Yh:Tl.POST,ah:u,Xh:0,Au:n,iu:El.Bh,Kh:Rl.Mh},[4,i.Xd.Ih(o)];case 2:return[4,s.sent().eh()];case 3:return[2,Tc(s.sent().licence)]}}))}))()},Ii(n,[{key:"oI",get:function(){return RT.$f}}]),n}(CT);ki(),Vt();var WT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,Xd.Jf)}Xi(n,t);var e=n.prototype;return e.rI=function(t,n){return Ec(t)},e.fE=function(n){if(0===n.length)throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.fE.call(this,n)},e.uE=function(){var n=t.prototype.uE.call(this);return n.set("Content-Type","text/plain"),n},n}(CT);ki(),Vt(),Ri();var jT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,Xd.Xf)}Xi(n,t);var e=n.prototype;return e.rI=function(t,n){return t},e.fE=function(t){return new y(t)},e.uE=function(){if(!qk(this.GS))throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.uE.call(this);return n.set("X-AxDRM-Message",this.GS.token),n},Ii(n,[{key:"oI",get:function(){return RT.$f}}]),n}(CT);ki(),Vt(),Ri();var GT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,Xd.$f)||this).cI=void 0,u}Xi(n,t);var e=n.prototype;return e.rI=function(t,n){var e={spc:Ec(t)};return JSON.stringify(e)},e.uI=function(t){var n=Wi.Lr(t);return this.cI=t,n.searchParams.has("b")?G.resolve(n.searchParams.get("b")):G.reject(new d_(md.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.oE=function(n,e){var i=this.QS();return!i&&this.cI&&(i=this.cI),i&&(i=i.replace("skd://","https://")),t.prototype.oE.call(this,n,e||i)},e.fE=function(t){try{var n;if((n=gr(t)?JSON.parse(t.trim()):t).ckc)return Tc(n.ckc)}catch(t){throw new d_(md.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Ii(n,[{key:"oI",get:function(){return RT.Jf}}]),n}(CT);ki(),Vt(),ki(),Vt(),ki(),Vt();var YT=function(){function t(t,n){this.fI=t,this.hI=n}var n=t.prototype;return n.vI=function(t){return this.fI(t)},n.dI=function(t,n){throw new h(n+" must be "+this.hI+". (Received: "+t+")")},t}(),XT=(new YT((function(t){return!0}),"any"),new YT(_r,"a number")),$T=new YT(gr,"a string"),KT=new YT(yr,"a boolean");new YT((function(t){return"[object Date]"===cr.call(t)}),"a date"),new YT(hr,"undefined"),new YT(lr,"an object"),new YT((function(t){return null===t}),"null"),new YT((function(t){return null==t}),"null or undefined");var JT,ZT=(JT={responseCode:XT,isException:KT,description:$T,title:$T,correlationId:$T},{vI:function(t){if(!lr(t))return!1;for(var n=0,e=v.keys(JT);n<e.length;n++){var i=e[n];if(!JT[i].vI(t[i]))return!1}return!0},dI:function(t,n){if(!lr(t))throw new h(n+" must be an object.");for(var e=0,i=v.keys(JT);e<i.length;e++){var r=i[e],u=JT[r];if(!u.vI(t[r]))return u.dI(t[r],n+"."+String(r))}throw new h}});function QT(t,n,e,i,r){return tS.apply(this,arguments)}function tS(){return(tS=Ms((function(t,n,e,i,r){return Us(this,(function(u){switch(u.label){case 0:return[4,eS(nS(t,n,e,r),i)];case 1:return[2,u.sent()]}}))}))).apply(this,arguments)}function nS(t,n,e,i){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=Wi.Lr(t);return Bl(e,n),e.toString()}(e,r)),o=new Zd({});o.append("Content-Type","application/json");var s=Ec(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{Nh:u,Th:Xd.Jf,kh:o,Yh:Tl.POST,ah:JSON.stringify(a),Au:i,iu:El.Bh,Kh:Rl.Mh}}function eS(t,n){return iS.apply(this,arguments)}function iS(){return(iS=Ms((function(t,n){var e;return Us(this,(function(i){switch(i.label){case 0:return[4,n.Ih(t)];case 1:return[4,i.sent().eh()];case 2:if(e=i.sent(),ZT.vI(e))throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,e.description,void 0,t.Nh,e.responseCode);return[2,Tc(e.getFairplayLicenseResponse.ckcResponse)]}}))}))).apply(this,arguments)}var rS=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,Xd.Xf)||this).lI=e,u}Xi(n,t);var e=n.prototype;return e.uI=function(n){var e=n.replace("FairPlay",this.lI.releasePid);return t.prototype.uI.call(this,e)},e.gE=function(t,n){var e=this;return Ms((function(){return Us(this,(function(i){switch(i.label){case 0:return[4,QT(t,e.lI,e.QS(),e.Xd,n)];case 1:return[2,i.sent()]}}))}))()},n}(CT);ki(),Vt();var uS=function(t){function n(n,e,i){return t.call(this,la,n,e,i,Xd.Xf)}Xi(n,t);var e=n.prototype;return e.KS=function(t){return t.clearkey||{}},e.eE=function(n,e,i,r){var u=this;return Ms((function(){var e,o;return Us(this,(function(s){if(e=u.$S,u.QS())return[2,t.prototype.eE.call(u,n,u.XS,i,r)];if(e.keys&&e.keys.length)return o={keys:e.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,ef(JSON.stringify(o)).buffer];throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},e.wE=function(t,n){return G.resolve(new y(0))},e.gE=function(n,e){return t.prototype.hE.call(this,n,Rl.qh,e)},n}(dk);ki(),Vt();var oS=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n}(yk);ki(),Vt(),ki(),Vt();var sS={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function aS(t,n,e){return cS.apply(this,arguments)}function cS(){return(cS=Ms((function(t,n,e){var i,r,u;return Us(this,(function(o){switch(o.label){case 0:return i=TS(n),(r=t.onCertificateRequest)&&"function"==typeof r?[4,Ka(G.resolve(r.call(t,i)),e)]:[2,G.resolve(n)];case 1:return vf(u=o.sent())?[2,df(u)]:[2,kS(Fs({},sS,u))]}}))}))).apply(this,arguments)}function fS(t,n,e,i,r){return hS.apply(this,arguments)}function hS(){return(hS=Ms((function(t,n,e,i,r){var u,o;return Us(this,(function(s){switch(s.label){case 0:return u=t.onCertificateResponse,o=bS(n,e,i),u&&"function"==typeof u?[4,Ka(G.resolve(u.call(t,o)),r)]:[2,G.resolve(n)];case 1:return[2,df(s.sent())]}}))}))).apply(this,arguments)}function vS(t,n,e,i){return dS.apply(this,arguments)}function dS(){return(dS=Ms((function(t,n,e,i){var r;return Us(this,(function(u){switch(u.label){case 0:return[4,gS(t,n,e,i)];case 1:return(r=u.sent())instanceof ArrayBuffer?[2,r]:[2,kS(r)]}}))}))).apply(this,arguments)}function lS(t,n,e,i,r,u){return wS.apply(this,arguments)}function wS(){return(wS=Ms((function(t,n,e,i,r,u){var o;return Us(this,(function(s){switch(s.label){case 0:return o=pS(e,r),[4,mS(t,new y(n),o,i,u)];case 1:return[2,df(s.sent())]}}))}))).apply(this,arguments)}function gS(t,n,e,i){return yS.apply(this,arguments)}function yS(){return(yS=Ms((function(t,n,e,i){var r,u,o;return Us(this,(function(s){switch(s.label){case 0:return r=null==t?void 0:t.onLicenseRequest,u=pS(n,e),r&&"function"==typeof r?[4,Ka(G.resolve(r.call(t,u)),i)]:[2,G.resolve(u)];case 1:return vf(o=s.sent())?[2,df(o).buffer]:[2,Fs({fairplaySkdUrl:void 0},sS,o)]}}))}))).apply(this,arguments)}function mS(t,n,e,i,r){return _S.apply(this,arguments)}function _S(){return(_S=Ms((function(t,n,e,i,r){var u,o;return Us(this,(function(s){switch(s.label){case 0:return u=null==t?void 0:t.onLicenseResponse,o=bS(n,e,i),u&&"function"==typeof u?[4,Ka(G.resolve(u.call(t,o)),r)]:[2,G.resolve(n)];case 1:return[2,df(s.sent())]}}))}))).apply(this,arguments)}function pS(t,n){return Fs({},TS(t),{fairplaySkdUrl:n})}function bS(t,n,e){return{url:e.Rh,status:e.bh,statusText:e.Sh,headers:e.kh.Zf(),body:t,request:n}}function kS(t){return new Dl({Nh:t.url,Yh:t.method,kh:t.headers,ah:t.body,Zh:t.useCredentials})}function TS(t){var n;return{url:t.Nh,body:null!=(n=SS(t.ah))?n:null,headers:t.kh.Zf(),method:t.Yh,useCredentials:t.Zh}}function SS(t){if(t)return"string"==typeof t?af(t):t instanceof ArrayBuffer?new y(t):Rc(t)?hf(t):void 0}var ES=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i)||this).wI=r,u}Xi(n,t);var e=n.prototype;return e.wE=function(t,n){return G.resolve(t)},e.gE=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s,a;return Us(this,(function(c){switch(c.label){case 0:return[4,e.qE(wf(t).buffer)];case 1:return i=c.sent(),r=e.iE(i,Xd.Xf,Rl.Hh,n),[4,vS(e.wI,r,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new y(u)];if(""===u.Nh)throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,e.Xd.Ih(u)];case 4:return[4,(o=c.sent()).uh(n)];case 5:return s=c.sent(),[4,lS(e.wI,s,r,o,void 0,n)];case 6:return[2,c.sent()];case 7:throw Xa(a=c.sent()),new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(gT);ki(),Vt();var IS=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,Xd.Xf)||this).wI=r,u}Xi(n,t);var e=n.prototype;return e.wE=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s,a;return Us(this,(function(c){switch(c.label){case 0:return e.dE?[2,e.dE]:(i=e.iE(t,Xd.Xf,Rl.Vh,n),[4,aS(e.wI,i,n)]);case 1:if((r=c.sent())instanceof y)return[2,r];if(""===r.Nh)throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,e.Xd.Ih(r)];case 3:return[4,(u=c.sent()).uh(n)];case 4:return o=c.sent(),[3,6];case 5:throw Xa(s=c.sent()),new d_(md.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",s);case 6:return a=pS(i,void 0),[4,fS(e.wI,new y(o),a,u,n)];case 7:return[2,c.sent()]}}))}))()},e.gE=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s;return Us(this,(function(a){switch(a.label){case 0:return i=e.iE(t,Xd.Xf,Rl.Uh,n),[4,vS(e.wI,i,void 0,n)];case 1:if((r=a.sent())instanceof ArrayBuffer)return[2,new y(r)];if(""===r.Nh)throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Xd.Ih(r)];case 3:return[4,(u=a.sent()).uh(n)];case 4:return o=a.sent(),[4,lS(e.wI,o,i,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw Xa(s=a.sent()),new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",s);case 7:return[2]}}))}))()},n}(oS);ki(),Vt();var RS,NS,OS=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,i,r,Xd.Xf)||this).wI=u,o}Xi(n,t);var e=n.prototype;return e.wE=function(t,n){var e=this;return Ms((function(){var t,i,r,u,o,s;return Us(this,(function(a){switch(a.label){case 0:return e.dE?[2,e.dE]:(t=e.aI(n),[4,aS(e.wI,t,n)]);case 1:if(i=a.sent(),Rc(i))return[2,i];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Xd.Ih(i)];case 3:return[4,(r=a.sent()).uh()];case 4:return u=a.sent(),o=pS(t,void 0),[4,fS(e.wI,new y(u),o,r,n)];case 5:return[2,a.sent()];case 6:throw Xa(s=a.sent()),new d_(md.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",s);case 7:return[2]}}))}))()},e.gE=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s;return Us(this,(function(a){switch(a.label){case 0:return i=e.iE(t,Xd.Xf,Rl.Mh,n),[4,vS(e.wI,i,e.gI,n)];case 1:if((r=a.sent())instanceof ArrayBuffer)return[2,new y(r)];if(""===r.Nh)throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Xd.Ih(r)];case 3:return[4,(u=a.sent()).uh(n)];case 4:return o=a.sent(),[4,lS(e.wI,o,i,u,e.gI,n)];case 5:return[2,a.sent()];case 6:throw Xa(s=a.sent()),new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",s);case 7:return[2]}}))}))()},e.uI=function(n){var e;return this.gI=n,(null==(e=this.wI)?void 0:e.extractFairplayContentId)?G.resolve(this.wI.extractFairplayContentId(n)):t.prototype.uI.call(this,n)},n}(CT),CS=function(){function t(){}var n=t.prototype;return n.yI=function(t,n,e,i){switch(t.Ja.iu){case Ks.Qr:return this.mI(n,e,i);case Ks.Zr:return this._I(n,e,i);case Ks.nu:return this.pI(t,n,e,i);case Ks.tu:default:return this.bI(n,e,i)}},n.mI=function(t,n,e){var i=function(t){return t.integration===vk&&gr(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(i&&Ek.DE.OE(i,ua)){var r=Ek.DE.AE(i,ua,t);return new IS(t,n,e,r)}switch(i){case Jb:return new Qk(t,n,e);case nk:return new tT(t,n,e);case tk:return new eT(t,n,e);case Zb:return new uT(t,n,e);case rk:return new cT(t,n,e);case ok:return new fT(t,n,e);case sk:return new dT(t,n,e);case ck:return new lT(t,n,e);case ik:default:return new oS(t,n,e,Xd.Xf)}},n._I=function(t,n,e){var i=t.integration;if(i&&Ek.DE.OE(i,ea)){var r=Ek.DE.AE(i,ea,t);return new ES(t,n,e,r)}switch(i){case Jb:return new mT(t,n,e);case nk:return new pT(t,n,e);case tk:return new bT(t,n,e);case Zb:return new kT(t,n,e);case rk:return new ET(t,n,e);case sk:return new IT(t,n,e);case ck:return new OT(t,n,e);case ik:default:return new gT(t,n,e)}},n.pI=function(t,n,e,i){var r=n.integration;if(r&&Ek.DE.OE(r,ca)){var u=Ek.DE.AE(r,ca,n);return new OS(t,n,e,i,u)}switch(r){case Qb:return new AT(t,n,e,i);case nk:return new DT(t,n,e,i);case ek:return new BT(t,n,e,i);case Jb:return new LT(t,n,e,i);case tk:return new MT(t,n,e,i);case Zb:return new FT(t,n,e,i);case ik:return new UT(t,n,e,i);case rk:return new VT(t,n,e,i);case uk:return new HT(t,n,e,i);case ok:return new qT(t,n,e,i);case sk:return new zT(t,n,e,i);case ak:return new WT(t,n,e,i);case ck:return new jT(t,n,e,i);case fk:return new GT(t,n,e,i);case hk:return new rS(t,n,e,i);default:return new CT(t,n,e,i,Xd.Jf)}},n.bI=function(t,n,e){return new uS(t,n,e)},n.kI=function(t){return t.iu===Ks.Zr||t.iu===Ks.Qr||t.iu===Ks.nu||t.iu===Ks.tu},n.ac=function(t,n){var e;if(t.iu!==Ks.Zr)return!1;if(fr(null==(e=n.playready)?void 0:e.customData))return!0;var i=n.integration;return(!i||!Ek.DE.OE(i,ca))&&(i===Jb&&new yT(n).ac)},n.FE=function(t,n){if(t.iu===Ks.Qr){var e=n.integration;if(!e||!Ek.DE.OE(e,ca))return e===Jb?Qk.FE():void 0}},t}();ki(),Vt(),ki(),Vt(),(NS=RS||(RS={}))[NS.TI=0]="TI",NS[NS.SI=1]="SI",NS[NS.EI=2]="EI",NS[NS.II=3]="II",NS[NS.RI=4]="RI",NS[NS.Ow=5]="Ow",NS[NS.NI=6]="NI",NS[NS.OI=7]="OI",NS[NS.Aw=8]="Aw",NS[NS.CI=9]="CI",NS[NS.AI=10]="AI",ki(),Vt(),Ri();var AS=function(){function t(){}return t.prototype.DI=function(t){},Ii(t,[{key:"xI",get:function(){return 0}},{key:"BI",get:function(){return 0}}]),t}();ki(),Vt();var DS=function(){function t(t,n){void 0===n&&(n=new CS),this.zE=void 0,this._S=t,this.LI=n}var n=t.prototype;return n.MI=function(t){this.zE=t},n.FE=function(t){var n=this.zE;if(void 0!==n)return this.LI.FE(t,n)},n.ac=function(t){var n=this.zE;return void 0!==n&&this.LI.ac(t,n)},n.FI=function(t){var n={Ja:t.Ja,UI:t.UI||[],VI:t.VI,nI:t.nI},e=this.LI.yI(n,this.zE||{},t.YS,this._S);return n.VI&&e.ZS(n.VI),new PS(e)},t}(),PS=function(){function t(t){this.HI=t}var n=t.prototype;return n.tE=function(t){return this.HI.tE(t)},n.nE=function(t,n,e){return this.HI.nE(n,e)},n.lE=function(){return this.HI.lE||void 0!==this.HI.dE},n.wE=function(t,n){return this.HI.wE(t,n)},n.gE=function(t,n,e){return n&&this.HI.ZS(n),this.HI.gE(t,e)},n.ku=function(){this.HI.kn()},t}();ki(),Vt();var xS=function(t){function n(n){var e;(e=t.call(this)||this).qI=[],e.zI=function(t){e.Nl(t.il)},e.WI=function(t){var n=t.il;e.jI(n)||e.Ol(n)};for(var i=0;i<n.length;i++){var r=n[i];e.GI(r)}return e}Xi(n,t);var e=n.prototype;return e.GI=function(t){this.qI.push(t);for(var n=0,e=t.Al;n<e.length;n++){var i=e[n];this.Nl(i)}this.YI(t)},e.XI=function(t){Ma(this.qI,t),this.$I(t);for(var n=0,e=t.Al;n<e.length;n++){var i=e[n];this.jI(i)||this.Ol(i)}},e.jI=function(t){for(var n=0,e=this.qI;n<e.length;n++){if(e[n].Cl(t))return!0}return!1},e.YI=function(t){t.Mu(Lg.$d,this.zI),t.Mu(Lg.Jd,this.WI)},e.$I=function(t){t.Hu(Lg.$d,this.zI),t.Hu(Lg.Jd,this.WI)},e.kn=function(){for(;this.qI.length>0;)this.XI(this.qI[0]);t.prototype.kn.call(this)},e.nl=function(){return Dy(this)},n}(Zg);function BS(t){return{get enabled(){return t.Hl},set enabled(n){t.Hl=cy(n)},get currentLatency(){return t.dg},get streamConfiguration(){if(void 0!==t.KI)return function(t){return{get minimumOffset(){return t.rg},get maximumOffset(){return t.og},get targetOffset(){return t.ug},get forceSeekOffset(){return t.sg},get minimumPlaybackRate(){return t.ag},get maximumPlaybackRate(){return t.cg}}}(t.KI)},get configuration(){return function(t){return{get minimumOffset(){return t.rg},set minimumOffset(n){t.rg=hy(n)},get maximumOffset(){return t.og},set maximumOffset(n){t.og=hy(n)},get targetOffset(){return t.ug},set targetOffset(n){t.ug=hy(n)},get forceSeekOffset(){return t.sg},set forceSeekOffset(n){t.sg=hy(n)},get minimumPlaybackRate(){return t.ag},set minimumPlaybackRate(n){t.ag=hy(n)},get maximumPlaybackRate(){return t.cg},set maximumPlaybackRate(n){t.cg=hy(n)},update:function(n){t.Wa(function(t){var n={};void 0!==t.minimumOffset&&(n.rg=hy(t.minimumOffset));void 0!==t.maximumOffset&&(n.og=hy(t.maximumOffset));void 0!==t.targetOffset&&(n.ug=hy(t.targetOffset));void 0!==t.forceSeekOffset&&(n.sg=hy(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.ag=hy(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.cg=hy(t.maximumPlaybackRate));return n}(n))}}}(t.Za)}}}ki(),Vt(),Ri(),ki(),Vt();var LS,MS=function(){function t(){this.JI={sg:0,og:0,cg:0,rg:0,ag:0,ug:0,Wa:pr}}return Ii(t,[{key:"tl",get:function(){return null!=this.Qd||(this.Qd=BS(this)),this.Qd}},{key:"Hl",get:function(){return!1},set:function(t){}},{key:"dg",get:function(){}},{key:"KI",get:function(){}},{key:"Za",get:function(){return this.JI}}]),t}();function FS(){return LS||(LS=mi&&mi.document&&mi.document.createElement("video")),LS}var US=!(!mi||!mi.TextTrack),VS=function(t){function n(n,e,i,r,u,o,s){var a;return void 0===o&&(o=new CS),void 0===s&&(s=Vd()),(a=t.call(this)||this).ZI=void 0,a.QI=void 0,a.tR=void 0,a.nR=new AS,a.eR=new MS,a.iR=function(t){var n=t.Ju,e=n.code,i=new Sd(function(t){switch(t){case 1:return md.MEDIA_ABORTED;case 2:return md.NETWORK_ERROR;case 3:return md.MEDIA_DECODE_ERROR;case 4:return md.SOURCE_NOT_SUPPORTED;case 5:return md.CONTENT_PROTECTION_ERROR;case 6:return md.LICENSE_ERROR;case 7:return md.AD_ERROR}}(e),"Something went wrong during native playback.",n),r=new l_(e,i.message,n.message);a.rR(i,r)},a.uR=function(){a.Bu(new Rm(a.Yw,a.Zg))},a.oR=function(t){a.Zw||(a.sR=void 0),a.Bu(t)},a.aR=function(t){a.sR=void 0},a.cR=function(){a.Bu(new B_(a.ty))},a.fR=function(){a.eg>0&&a.ng>0&&a.Bu(new Yb)},a.hR=function(t){a.kg.Nl(new I_(t.track))},a.vR=function(t){var n=qS(a.kg,t.track);n&&a.kg.Ol(n)},a.dR=function(){a.lR(a.kg)},a.wR=function(t){a.Tg.Nl(new N_(t.track))},a.gR=function(t){var n=qS(a.Tg,t.track);n&&a.Tg.Ol(n)},a.yR=function(){a.lR(a.Tg)},a.mR=function(t){a.Bu(t),a.rR(t.errorObject,g_(t.errorObject))},a._R=e,a._S=i,a.hu=s,a.pR=a._R.wn(Mm.jh),a.bR=a.pR.kR.preload,a.TR=new Kb(a.pR,!0),a.TR.Mu(Tm,a.xu),a.SR=new DS(i,o),a.pR.ER=a.SR,a.IR(),a.kg=new y_,a.Tg=new y_,a.RR(),a.NR=new Ub(a.pR,a._S),a.Sg=new xS([a.pR.Cg]),a.Vg(),a}Xi(n,t);var e=n.prototype;return e.Hg=function(){this.pR.Hg()},e.Vg=function(){this.pR.Vg()},e.xg=function(t,n,e){var i=this;return Ms((function(){var r;return Us(this,(function(u){switch(u.label){case 0:return Ya(e),r={iu:jb.IS,lw:t.src,sh:t.type,OR:i.CR(t),wy:i.bR,AR:t.crossOrigin,DR:n.metadata&&n.metadata.title},i.SR.MI(t.contentProtection),[4,i.pR.qa(r)];case 1:return i.ZI=u.sent(),Ya(e),n.textTracks&&i.PR(n.textTracks),Wb(i.Cg),[2]}}))}))()},e.PR=function(t){for(var n=0;n<t.length;n++){var e=t[n];if(this.pR.xR()&&sr.qe&&US&&!Cb(e.kind,e.label)&&this.LR(e)){var i,r=null!=(i=e.kind)?i:kb.Up;this.pR.MR(e.src,r,e.label,e.srclang,e.default)}else{if(void 0===e.src)continue;this.NR.pS(e)}}},e.LR=function(t){return!t.format||"webvtt"===t.format},e.gn=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.pR.gn()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.FR?[3,5]:[4,t.pR.ju(Gd.Af)];case 4:return n.sent(),[3,3];case 5:return[2]}}))}))()},e.yn=function(){this.pR.yn()},e.Bg=function(){return void 0!==this.pR.kR.webkitShowPlaybackTargetPicker},e.Lg=function(){this.pR.kR.webkitShowPlaybackTargetPicker&&this.pR.kR.webkitShowPlaybackTargetPicker()},e.Mg=function(){this.pR.kR.webkitShowPlaybackTargetPicker&&this.pR.kR.webkitShowPlaybackTargetPicker()},e.qg=function(){return this.pR.kR},e.zg=function(){return this.pR.UR},e.ic=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return t.QI=void 0,t.tR=void 0,t.ZI=void 0,[4,t.NR.ic()];case 1:return n.sent(),t.pR.HR(),[4,t.pR.ic()];case 2:return n.sent(),t.TR.ic(),t.wy=t.bR,t.Ng.ic(),t.Og.ic(),t.sR=void 0,[2]}}))}))()},e.kn=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return[4,t.ic()];case 1:return n.sent(),t.Vu(),t.qR(),t.zR(),t.TR.kn(),t.pR.ER=void 0,[4,t._R.pn(t.pR)];case 2:return n.sent(),t.kg.kn(),t.Tg.kn(),t.Sg.kn(),[4,t.NR.kn()];case 3:return n.sent(),[2]}}))}))()},e.IR=function(){this.pR.Mu(Gd.Cf,this.xu),this.pR.Mu(Gd.Of,this.xu),this.pR.Mu(Gd.zf,this.uR),this.pR.Mu(Gd.Af,this.xu),this.pR.Mu(Gd.Sf,this.xu),this.pR.Mu(Gd.Lf,this.xu),this.pR.Mu(Gd.Bf,this.oR),this.pR.Mu(Gd.yf,this.xu),this.pR.Mu(Gd.Df,this.xu),this.pR.Mu(Gd.Wf,this.xu),this.pR.Mu(Gd.wf,this.xu),this.pR.Mu(Gd.xf,this.fR),this.pR.Mu(pm.Gw,this.aR),this.pR.Mu(Ry.ew,this.iR),this.pR.Mu(Gd.vf,this.xu),this.pR.Mu(Gd.hf,this.mR),this.pR.kR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.cR)},e.qR=function(){this.pR.Hu(Gd.Cf,this.xu),this.pR.Hu(Gd.Of,this.xu),this.pR.Hu(Gd.zf,this.uR),this.pR.Hu(Gd.Af,this.xu),this.pR.Hu(Gd.Sf,this.xu),this.pR.Hu(Gd.Lf,this.xu),this.pR.Hu(Gd.Bf,this.oR),this.pR.Hu(Gd.yf,this.xu),this.pR.Hu(Gd.Df,this.xu),this.pR.Hu(Gd.Wf,this.xu),this.pR.Hu(Gd.wf,this.xu),this.pR.Hu(Gd.xf,this.fR),this.pR.Hu(pm.Gw,this.aR),this.pR.Hu(Ry.ew,this.iR),this.pR.Hu(Gd.vf,this.xu),this.pR.Hu(Gd.hf,this.mR),this.pR.kR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.cR)},e.CR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Ja:da,WR:[{initDataTypes:[da.uu],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.RR=function(){var t=this.pR.kR.audioTracks,n=this.pR.kR.videoTracks;t&&(t.addEventListener("addtrack",this.hR),t.addEventListener("removetrack",this.vR),t.addEventListener("change",this.dR)),n&&(n.addEventListener("addtrack",this.wR),n.addEventListener("removetrack",this.gR),n.addEventListener("change",this.yR))},e.zR=function(){var t=this.pR.kR.audioTracks,n=this.pR.kR.videoTracks;t&&(t.removeEventListener("addtrack",this.hR),t.removeEventListener("removetrack",this.vR),t.removeEventListener("change",this.dR)),n&&(n.removeEventListener("addtrack",this.wR),n.removeEventListener("removetrack",this.gR),n.removeEventListener("change",this.yR))},e.lR=function(t){for(var n=0;n<t.Dl;n++){t.Rl(n).Iy()}},e.$g=function(){this.pR.$g()},e.Kg=function(){},e.rR=function(t,n){this.QI||(this.QI=n,this.tR=t,this.Bu(new Lm(t)))},Ii(n,[{key:"FR",get:function(){var t=this.pR.Jg,n=this.Yw;return t.jR(n,.01)}},{key:"Ng",get:function(){return this.kg}},{key:"Jg",get:function(){return this.pR.Jg.GR()}},{key:"Zg",get:function(){return this.pR.Zg},set:function(t){t&&this.pR.YR(t)}},{key:"Yw",get:function(){return void 0!==this.sR?this.sR:this.pR.Yw},set:function(t){this.ty&&(this.sR=t),this.pR.lo(t)}},{key:"Xw",get:function(){return this.pR.Xw}},{key:"$w",get:function(){return this.pR.$w}},{key:"Ju",get:function(){return this.QI}},{key:"Kw",get:function(){return this.tR}},{key:"Ag",get:function(){}},{key:"ty",get:function(){return this.pR.ty}},{key:"ny",get:function(){return Fs({},{ey:0,iy:0,uy:0,oy:0,sy:0,hy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.pR.XR())}},{key:"Jw",get:function(){return this.pR.Jw},set:function(t){this.pR.Jw=t}},{key:"vy",get:function(){return!0}},{key:"Zw",get:function(){return this.pR.Zw}},{key:"Qw",get:function(){return this.pR.Qw},set:function(t){this.pR.Qw=t}},{key:"ly",get:function(){return this.pR.kR.played}},{key:"wy",get:function(){return this.bR},set:function(t){this.bR=t,this.ZI&&(this.ZI.wy=t)}},{key:"fw",get:function(){return this.pR.fw}},{key:"gy",get:function(){return this.pR.gy.GR()}},{key:"tg",get:function(){return this.pR.tg}},{key:"$R",get:function(){return this.pR.$R}},{key:"Cg",get:function(){return this.Sg}},{key:"Og",get:function(){return this.Tg}},{key:"ng",get:function(){return this.pR.ng}},{key:"eg",get:function(){return this.pR.eg}},{key:"ig",get:function(){return this.pR.ig},set:function(t){this.pR.ig=t}},{key:"yy",get:function(){return this.eR}},{key:"my",get:function(){return this.pR.my},set:function(t){this.pR.my=t}},{key:"KR",get:function(){return this.nR}}]),n}(xy);var HS=function(){function t(){this.JR=RS.AI}var n=t.prototype;return n.EE=function(t,n,e,i,r,u){return new VS(t,n,e,i,r)},n.ZR=function(t,n){return function(t){return!t.type||!(!FS().canPlayType||!FS().canPlayType(t.type))}(t)},n.QR=function(){return!1},t}();function qS(t,n){for(var e=0,i=t.Al;e<i.length;e++){var r=i[e];if(r.Oy===n)return r}}var zS=function(){function t(){this.tN=new HS,this.nN=[]}var n=t.prototype;return n.eN=function(t){this.nN.push(t)},n.EE=function(t,n,e,i,r,u){for(var o=this.tN.EE(t,n,e,i,r,u),s=0,a=this.nN;s<a.length;s++){o=(0,a[s])(o,e,i)}return o},n.ZR=function(t,n){return this.tN.ZR(t,n)},n.QR=function(){return!1},t.iN=function(){return this.ki},Ii(t,[{key:"JR",get:function(){return this.tN.JR}}]),t}();function WS(t,n){return Aa(t.JR,n.JR)}zS.ki=new zS,ki(),Vt(),ki(),Vt();var jS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rN=zS.iN(),n}Xi(n,t);var e=n.prototype;return e.uN=function(t){this.rN=t},e.oN=function(){return this.rN},e.sN=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s,a;return Us(this,(function(c){switch(c.label){case 0:i=0,c.label=1;case 1:return i<t.length?(r=t[i],[4,e.aN(r,n)]):[3,4];case 2:if(u=c.sent())return[2,{cN:r,fN:u}];c.label=3;case 3:return i++,[3,1];case 4:for(o=e.rN,s=0;s<t.length;s++)if(a=t[s],o.ZR(a,n))return[2,{cN:a,fN:o}];return[2,{cN:t[0],fN:o}]}}))}))()},n}(function(){function t(){this.hN=[]}var n=t.prototype;return n.vN=function(t){this.hN.push(t),this.hN.sort(WS)},n.aN=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s;return Us(this,(function(a){switch(a.label){case 0:i=0,r=e.hN,a.label=1;case 1:return i<r.length?(u=r[i],mr(o=u.ZR(t,n))?[4,o]:[3,3]):[3,6];case 2:return s=a.sent(),[3,4];case 3:s=Boolean(o),a.label=4;case 4:if(s)return[2,u];a.label=5;case 5:return i++,[3,1];case 6:return[2,void 0]}}))}))()},t}());jS.ki=new jS,Ti(),ki(),Vt(),Ti();var GS,YS,XS=function(){function t(t){var n,e;this.dN=mi&&mi.document&&mi.document.createElement("div"),n=this.dN,(e=n.style).position="absolute",e.left="0",e.right="0",e.top="0",e.bottom="0",e.width="100%",e.height="100%",t.appendChild(this.dN)}return t.prototype.kn=function(){ds(this.dN)},t}();function $S(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";case"none":default:return"none"}}ki(),Vt(),Ri(),ki(),Vt(),(YS=GS||(GS={})).AI="",YS.lN="none",YS.Hp="metadata",YS.wN="auto";var KS=[Ry.ew,Gd.gf,Gd.Zu,Gd.Yf,Gd.sf,Gd.mf,Gd.Rf,Gd.Nf,Gd.Ff,Gd.Vf,pm.Hw,pm.qw,pm.zw,pm.Ww,pm.yl,pm.jw,pm.Gw,Gd.hf,Gd.vf,Gd.wf,Gd.yf,Gd.Sf,Gd.Ef,Gd.Cf,Gd.Af,Gd.Of,Gd.Df,Gd.xf,Gd.Lf,Gd.Bf,Gd.zf,Gd.Wf,Gd.Pf,Gd.If,Gd.Mf],JS=function(t){function n(n,e){var i;return(i=t.call(this)||this).gN=void 0,i.yN=void 0,i.bR=GS.lN,i.mN=void 0,i._N=!0,i.kg=new Ny,i.Tg=new Ny,i.Sg=new Py,i.Eg=new c_,i.pN=n,i.bN=e,i.bN.wy=i.wy,i.kN(),i}Xi(n,t);var e=n.prototype;return e.yn=function(){this.bN.yn()},e.gn=function(){var t=this.bN.gn();mr(t)&&tc(t)},e.Dg=function(){return this.xg(void 0)},e.En=function(){},e.jg=function(t){return!1},e.kN=function(){this.kg.Fl=this.bN.Ng,this.Tg.Fl=this.bN.Og,this.Sg.Fl=this.bN.Cg,this.Eg.Fl=this.bN.Ag,this.bN.Mu(KS,this.xu)},e.TN=function(){this.bN.Hu(KS,this.xu),this.kg.Fl=void 0,this.Tg.Fl=void 0,this.Sg.Fl=void 0,this.Eg.Fl=void 0},e.Pg=function(){return this.mN},e.xg=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s,a;return Us(this,(function(c){switch(c.label){case 0:return Ya(n),e.mN=t,t?vm(i=t.sources.filter(ym))?[2]:[4,e.pN.sN(i,t)]:[2];case 1:return r=c.sent(),Ya(n),u=r.cN,o=r.fN,s=e.zg(),a=Ym(e),e.gN!==o||e.Ju?(e.TN(),[4,e.bN.kn()]):[3,3];case 2:c.sent(),Ya(n),e.gN=o,e.bN=e.SN(o),function(t,n){t.Jw!==n.Jw&&(t.Jw=n.Jw);t.ig!==n.ig&&(t.ig=n.ig);t.Qw!==n.Qw&&(t.Qw=n.Qw)}(e.bN,a),Xm(e,a,e),e.kN(),c.label=3;case 3:return e.bN.wy=e.wy,e._N?e.bN.Vg():e.bN.Hg(),[4,e.bN.xg(u,t,n)];case 4:return c.sent(),Ya(n),e.EN(u),e.zg()!==s&&e.Bu(new Ly),[2]}}))}))()},e.EN=function(t){this.yN!==t&&(this.yN=t,this.Bu(new My(t)))},e.Bg=function(){return this.bN.Bg()},e.Lg=function(){this.bN.Lg()},e.Mg=function(){this.bN.Mg()},e.zg=function(){return this.bN.zg()},e.$g=function(){this.bN.$g()},e.Kg=function(){this.bN.Kg()},e.ic=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return t.mN=void 0,t.EN(void 0),[4,t.bN.ic()];case 1:return n.sent(),[2]}}))}))()},e.kn=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return t.Vu(),[4,t.ic()];case 1:return n.sent(),[4,t.bN.kn()];case 2:return n.sent(),t.kg.kn(),t.Tg.kn(),t.Sg.kn(),t.Eg.kn(),[2]}}))}))()},e.Vg=function(){this._N=!0,this.bN.Vg()},e.Hg=function(){this._N=!1,this.bN.Hg()},Ii(n,[{key:"Ng",get:function(){return this.kg}},{key:"Jg",get:function(){return this.bN.Jg}},{key:"Ju",get:function(){return this.bN.Ju}},{key:"Kw",get:function(){return this.bN.Kw}},{key:"Zg",get:function(){return this.bN.Zg},set:function(t){this.bN.Zg=t}},{key:"Xg",get:function(){return this.yN}},{key:"Yw",get:function(){return this.bN.Yw},set:function(t){this.bN.Yw=t}},{key:"Xw",get:function(){return this.bN.Xw}},{key:"$w",get:function(){return this.bN.$w}},{key:"Ag",get:function(){return this.Eg}},{key:"ty",get:function(){return this.bN.ty}},{key:"ny",get:function(){return this.bN.ny}},{key:"Jw",get:function(){return this.bN.Jw},set:function(t){this.bN.Jw=t}},{key:"vy",get:function(){return this.bN.vy}},{key:"Zw",get:function(){return this.bN.Zw}},{key:"Qw",get:function(){return this.bN.Qw},set:function(t){this.bN.Qw=t}},{key:"ly",get:function(){return this.bN.ly}},{key:"wy",get:function(){return this.bR},set:function(t){this.bR=t,this.bN&&(this.bN.wy=this.bR)}},{key:"fw",get:function(){return this.bN.fw}},{key:"gy",get:function(){return this.bN.gy}},{key:"tg",get:function(){return this.bN.tg}},{key:"Cg",get:function(){return this.Sg}},{key:"ng",get:function(){return this.bN.ng}},{key:"Og",get:function(){return this.Tg}},{key:"eg",get:function(){return this.bN.eg}},{key:"ig",get:function(){return this.bN.ig},set:function(t){this.bN.ig=t}},{key:"yy",get:function(){return this.bN.yy}},{key:"KR",get:function(){return this.bN.KR}}]),n}(oc);function ZS(t,n,e){return e?t<=n:t<n}ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),Ri();var QS,tE,nE=function(){function t(t,n){this.Dl=t.length>>1,this.IN=t,this.RN=n||function(t){for(var n=new Array(2*t),e=0,i=0;e<t;e+=1,i+=2)n[i]=!0,n[i+1]=!1;return n}(this.Dl)}var n=t.prototype;return n.NN=function(t){return this.IN[2*t]},n.ON=function(t){return this.IN[2*t+1]},n.CN=function(t){return this.RN[2*t]},n.AN=function(t){return this.RN[2*t+1]},n.GR=function(){var t=this;return{get length(){return t.Dl},start:function(n){var e=0|n;return t.DN(e),t.NN(e)},end:function(n){var e=0|n;return t.DN(e),t.ON(e)}}},n.PN=function(){for(var n=new Array(2*this.Dl),e=new Array(2*this.Dl),i=0;i<this.Dl;i++)n[2*i]=this.NN(i),n[2*i+1]=this.ON(i),e[2*i]=!0,e[2*i+1]=!0;return new t(n,e)},n.DN=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.Dl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.Dl+")")},n.xN=function(t){if(0===this.Dl)return 0;if(this.jR(t))return t;if(t<=this.NN(0))return this.NN(0);if(t>=this.ON(this.Dl-1))return this.ON(this.Dl-1);for(var n,e=1/0,i=0;i<this.Dl;i++){var r=this.NN(i),u=d.abs(r-t);u<e&&(n=r,e=u);var o=this.ON(i),s=d.abs(o-t);s<e&&(n=o,e=s)}return n},n.BN=function(n){for(var e=0,i=0,r=[],u=[];e<this.Dl&&i<n.Dl;){var o=this.NN(e),s=this.ON(e),a=this.CN(e),c=this.AN(e),f=n.NN(i),h=n.ON(i),v=n.CN(i),l=n.AN(i),w=d.max(o,f),g=d.min(s,h),y=void 0;y=o===f?a&&v:w===o?a:v;var m=void 0;m=s===h?c&&l:g===s?c:l,(w<g||y&&m&&w===g)&&(r.push(w,g),u.push(y,m)),s===h?(e+=1,i+=1):s<h?e+=1:i+=1}return new t(r,u)},n.LN=function(){var n=this.MN(),e=n.Dl;if(0===e)return new t([-1/0,1/0],[!1,!1]);var i=[],r=[],u=n.NN(0);u!==-1/0&&(i.push(-1/0,u),r.push(!1,!n.CN(0)));for(var o=0;o<e-1;o++)i.push(n.ON(o),n.NN(o+1)),r.push(!n.AN(o),!n.CN(o+1));var s=n.ON(e-1);return s!==1/0&&(i.push(s,1/0),r.push(!n.AN(e-1),!1)),new t(i,r)},n.FN=function(n){for(var e=0,i=0,r=this.Dl,u=n.Dl,o=new Array(2*(r+u)),s=new Array(2*(r+u)),a=0;e<r&&i<u;){var c=this.NN(e),f=this.ON(e),h=n.NN(i),v=n.ON(i);c<h||c===h&&f<v?(o[a]=c,o[a+1]=f,s[a]=this.CN(e),s[a+1]=this.AN(e),e++):(o[a]=h,o[a+1]=v,s[a]=n.CN(i),s[a+1]=n.AN(i),i++),a+=2}for(;e<r;)o[a]=this.NN(e),o[a+1]=this.ON(e),s[a]=this.CN(e),s[a+1]=this.AN(e),e++,a+=2;for(;i<u;)o[a]=n.NN(i),o[a+1]=n.ON(i),s[a]=n.CN(i),s[a+1]=n.AN(i),i++,a+=2;return new t(o,s)},n.UN=function(n){void 0===n&&(n=0);var e=this.Dl;if(e<2)return this;for(var i=[],r=[],u=this.NN(0),o=this.ON(0),s=this.CN(0),a=this.AN(0),c=1;c<e;c++){var f=this.NN(c),h=this.ON(c),v=this.CN(c),d=this.AN(c);u<f&&o>h||(u===f&&(s=v=s||v),o===h&&(a=d=a||d),ZS(f,o+n,a||v)?(o=h,a=d):(i.push(u,o),r.push(s,a),u=f,o=h,s=v,a=d))}return i.push(u,o),r.push(s,a),new t(i,r).MN()},n.MN=function(){for(var n=[],e=[],i=0;i<this.Dl;i++){var r=this.NN(i),u=this.ON(i),o=this.CN(i),s=this.AN(i);r===u?(o||s)&&(n.push(r,u),e.push(!0,!0)):(n.push(r,u),e.push(o,s))}return new t(n,e)},n.VN=function(t){return this.Dl?t.Dl?this.FN(t).UN():this:t},n.HN=function(t){var n=this.MN(),e=t.MN(),i=n.LN(),r=e.LN(),u=i.BN(e),o=r.BN(n);return u.VN(o)},n.do=function(n){if(0===n)return this;for(var e=[],i=[],r=0;r<this.Dl;r++){var u=this.NN(r)+n,o=this.ON(r)+n;e.push(u,o),i.push(this.CN(r),this.AN(r))}return new t(e,i)},n.qN=function(t){return 0===this.Dl||0===t.Dl?this:this.MN().BN(t.MN().LN())},n.jR=function(t,n){return this.zN(t,n)>=0},n.WN=function(t,n,e,i,r){return this.jN(t,n,e,i,r)>=0},n.GN=function(t,n,e,i,r){return this.YN(t,n,e,i,r)>=0},n.XN=function(t){if(t.Dl!==this.Dl)return!1;for(var n=0;n<this.Dl;n++)if(this.NN(n)!==t.NN(n)||this.ON(n)!==t.ON(n)||this.CN(n)!==t.CN(n)||this.AN(n)!==t.AN(n))return!1;return!0},n.$N=function(n){for(var e=[],i=[],r=0;r<this.Dl;r++){var u=this.NN(r),o=this.ON(r),s=this.CN(r),a=this.AN(r);n(u,o,s,a)&&(e.push(u,o),i.push(s,a))}return new t(e,i)},n.YN=function(t,n,e,i,r){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===r&&(r=0);for(var u=t-r,o=n+r,s=0;s<this.Dl;s+=1)if(ZS(this.NN(s),o,!i||this.CN(s))&&ZS(u,this.ON(s),!e||this.AN(s)))return s;return-1},n.jN=function(t,n,e,i,r){void 0===e&&(e=!0),void 0===i&&(i=!1),void 0===r&&(r=0);for(var u=t+r,o=n-r,s=0;s<this.Dl;s+=1)if(ZS(this.NN(s),u,!e||this.CN(s))&&ZS(o,this.ON(s),!i||this.AN(s)))return s;return-1},n.zN=function(t,n){return this.jN(t,t,!0,!0,n)},n.KN=function(t,n){void 0===n&&(n=0);for(var e=t+n,i=this.Dl-1;i>=0;i-=1)if(ZS(this.NN(i),e,this.CN(i)))return i;return-1},n.JN=function(t,n){void 0===n&&(n=0);for(var e=t-n,i=0;i<this.Dl;i+=1)if(ZS(e,this.ON(i),this.AN(i)))return i;return-1},n.ZN=function(t,n){void 0===n&&(n=0);for(var e=t+n,i=0;i<this.Dl;i+=1)if(this.NN(i)>e)return i;return-1},n.QN=function(n){return this.DN(n),new t([this.NN(n),this.ON(n)],[this.CN(n),this.AN(n)])},n.tO=function(t,n){var e=this.zN(t,n);return e<0?void 0:this.QN(e)},t.nO=function(n){for(var e=[],i=0;i<n.length;i++)e.push(n.start(i),n.end(i));return new t(e)},t.eO=function(n){return new t([n,n],[!0,!0])},t.iO=function(n,e){return n<=e?new t([n,e]):t.rO()},t.rO=function(){return eE},Ii(t,[{key:"uO",get:function(){return this.IN.slice()}},{key:"oO",get:function(){for(var t=0,n=0;n<this.Dl;n++){t+=this.ON(n)-this.NN(n)}return t}}]),t}(),eE=new nE([]);ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),(tE=QS||(QS={})).wl="fullscreenchange",tE.sO="fullscreensupportchange",tE.ew="fullscreenerror";var iE=function(t){function n(){return t.call(this,QS.ew)}return Xi(n,t),n}(fc),rE=new(function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.xy=function(){this.Bu(new iE)},e.Ly=function(){},e.kn=function(){this.Vu()},Ii(n,[{key:"aO",get:function(){return!1}},{key:"cO",get:function(){return!1}}]),n}(oc)),uE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this)._R=void 0,n.pR=void 0,n}Xi(n,t);var e=n.prototype;return e.qg=function(){var t;return null==(t=this.pR)?void 0:t.kR},e.kn=function(){var n=this;return Ms((function(){return Us(this,(function(e){switch(e.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return e.sent(),n.pR?[4,n._R.pn(n.pR)]:[3,3];case 2:e.sent(),n.pR=void 0,e.label=3;case 3:return[2]}}))}))()},Ii(n,[{key:"fO",set:function(t){this._R=t,this.pR=t.wn(Mm.jh)}}]),n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hO=0,n.vO=!1,n.dO=!0,n.lO=1,n.wO=!1,n.Ds=1,n.Ng=new y_,n.Jg=nE.rO().GR(),n.Xw=NaN,n.$w=!1,n.Ju=void 0,n.Kw=void 0,n.Ag=void 0,n.ty=!1,n.vy=!0,n.ly=nE.rO().GR(),n.wy=GS.lN,n.fw=Qy.Lw,n.gy=nE.rO().GR(),n.$R=void 0,n.Cg=new Sb,n.ng=0,n.Og=new y_,n.eg=0,n.yy=new MS,n.nR=new AS,n}Xi(n,t);var e=n.prototype;return e.Vg=function(){},e.Hg=function(){},e.gn=function(){this.dO&&(this.dO=!1,this.Bu(new km(this.Yw)),this.Bu(new Xb(this.Yw)))},e.yn=function(){this.dO||(this.dO=!0,this.Bu(new Rm(this.Yw,this.Zg)),this.Bu(new _m(this.Yw)))},e.xg=function(t,n){return G.resolve()},e.Bg=function(){return!1},e.Lg=function(){},e.Mg=function(){},e.zg=function(){return rE},e.$g=function(){},e.Kg=function(){},e.ic=function(){var t=this;return Ms((function(){return Us(this,(function(n){return t.hO=0,t.wO=!1,t.yn(),t.Bu(new mm(t.hO)),[2]}))}))()},e.kn=function(){var t=this;return Ms((function(){return Us(this,(function(n){return t.Vu(),t.Ng.kn(),t.Cg.kn(),t.Og.kn(),[2]}))}))()},Ii(n,[{key:"Zg",get:function(){},set:function(t){}},{key:"Yw",get:function(){return this.hO},set:function(t){this.hO!==t&&(this.hO=t,this.wO=!0,this.Bu(new Cm(this.Yw)))}},{key:"ny",get:function(){return{ey:0,iy:0,uy:0,oy:0,sy:0,hy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Jw",get:function(){return this.vO},set:function(t){this.vO!==t&&(this.vO=t,this.Bu(new Dm(this.Yw,this.ig)))}},{key:"Zw",get:function(){return this.dO}},{key:"Qw",get:function(){return this.lO},set:function(t){this.lO!==t&&(this.lO=t,this.Bu(new Im(this.Yw,this.Qw)))}},{key:"tg",get:function(){return this.wO}},{key:"ig",get:function(){return this.Ds},set:function(t){this.Ds!==t&&(this.Ds=t,this.Bu(new Dm(this.Yw,this.ig)))}},{key:"my",get:function(){return!1},set:function(t){}},{key:"KR",get:function(){return this.nR}}]),n}(oc)),oE=function(t){function n(n,e,i,r,u,o){var s,a=new uE;return(s=t.call(this,jS.ki,a)||this).gO=n,s.Sc=e,s._S=i,s.yO=r,s.mO=o,s._O=new wi(u,s.mO),s._O.bn(s.gO),a.fO=s._O,s.pO=new XS(s.gO),s}Xi(n,t);var e=n.prototype;return e.En=function(){t.prototype.En.call(this),this._O.ln()},e.Fg=function(t){var n,e,i,r;n=this,i=(e=t).ig,r=e.Jw,n.ig=i,n.Jw=r},e.Ug=function(){},e.SN=function(t){return t.EE(this.gO,this._O,this._S,this.Sc,this.yO,this.mO)},e.qg=function(){return this.bN.qg()},e.Wg=function(){return this._O.dn.map((function(t){return t.kR}))},e.Uu=function(n){t.prototype.Uu.call(this,n)},e.Wu=function(n){t.prototype.Wu.call(this,n)},e.kn=function(){var n=this;return Ms((function(){return Us(this,(function(e){switch(e.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return e.sent(),n._O.kn(),n.pO.kn(),[2]}}))}))()},Ii(n,[{key:"Qg",get:function(){return this.gO}},{key:"my",get:function(){return this.bN.my},set:function(t){this.bN.my=t}}]),n}(JS);ki(),Vt(),Ri(),ki(),Vt();var sE=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).eR=new MS,r.gO=n,r.bO=e,r.kO=new y_,r.TO=new Sb,r.SO=i,r}Xi(n,t);var e=n.prototype;return e.jg=function(t){return!0},e.Hg=function(){},e.gn=function(){throw this.Bu(new Lm(this.SO)),this.bO},e.yn=function(){},e.Pg=function(){},e.xg=function(t,n){var e=this;return Ms((function(){return Us(this,(function(t){throw Ya(n),e.Bu(new Lm(e.SO)),e.bO}))}))()},e.Vg=function(){},e.Dg=function(){return G.resolve()},e.qg=function(){},e.zg=function(){return rE},e.Wg=function(){return[]},e.En=function(){},e.Fg=function(t){},e.Ug=function(){},e.Bg=function(){return!1},e.Lg=function(){},e.Mg=function(){},e.$g=function(){},e.Kg=function(){},e.ic=function(){return G.resolve()},e.kn=function(){return this.Vu(),this.kO.kn(),this.TO.kn(),G.resolve()},Ii(n,[{key:"Ng",get:function(){return this.kO}},{key:"Jg",get:function(){return nE.rO().GR()}},{key:"Zg",get:function(){return new Date(NaN)},set:function(t){}},{key:"Xg",get:function(){}},{key:"Yw",get:function(){return 0},set:function(t){}},{key:"Xw",get:function(){return 0}},{key:"Qg",get:function(){return this.gO}},{key:"$w",get:function(){return!0}},{key:"Ju",get:function(){return this.bO}},{key:"Kw",get:function(){return this.SO}},{key:"Ag",get:function(){}},{key:"ny",get:function(){return{ey:0,iy:0,uy:0,oy:0,sy:0,hy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Jw",get:function(){return!1},set:function(t){}},{key:"vy",get:function(){return!0}},{key:"Zw",get:function(){return!0}},{key:"Qw",get:function(){return 0},set:function(t){}},{key:"ly",get:function(){return nE.rO().GR()}},{key:"wy",get:function(){return GS.lN},set:function(t){}},{key:"fw",get:function(){return Qy.Lw}},{key:"gy",get:function(){return nE.rO().GR()}},{key:"tg",get:function(){return!1}},{key:"Cg",get:function(){return this.TO}},{key:"ng",get:function(){return 0}},{key:"Og",get:function(){return this.kO}},{key:"eg",get:function(){return 0}},{key:"ig",get:function(){return 1},set:function(t){}},{key:"yy",get:function(){return this.eR}},{key:"my",get:function(){return!1},set:function(t){}},{key:"ty",get:function(){return!1}}]),n}(By);function aE(t){if(t&&lr(t))return Fs({},t,{integration:cE(t.integration),fairplay:wE(t.fairplay),widevine:fE(t.widevine),playready:hE(t.playready),clearkey:gE(t.clearkey),aes128:yE(t.aes128),integrationParameters:mE(t.integrationParameters),preferredKeySystems:_E(t.preferredKeySystems)})}function cE(t){if(gr(t))return t}function fE(t){if(t&&lr(t))return{persistentState:vE(t.persistentState),distinctiveIdentifier:vE(t.distinctiveIdentifier),audioRobustness:dE(t.audioRobustness),videoRobustness:dE(t.videoRobustness),licenseAcquisitionURL:gr(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:lE(t.licenseType),headers:t.headers,useCredentials:!!yr(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:gr(t.certificate)||vf(t.certificate)?t.certificate:void 0}}function hE(t){if(t){var n=fE(t);if(n)return Fs({},n,{customData:gr(t.customData)?t.customData:void 0})}}function vE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function dE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function lE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function wE(t){if(t){var n=fE(t);if(n)return Fs({},n,{certificateURL:gr(t.certificateURL)?t.certificateURL:void 0})}}function gE(t){if(t){var n=fE(t);if(n)return Fs({},n,{keys:vr(t.keys)?t.keys.map((function(t){return function(t){if(!t||!lr(t))return;var n=t.id,e=t.value;if(!gr(n)||!gr(e))return;return{id:n,value:e}}(t)})).filter(fr):void 0})}}function yE(t){if(lr(t))return{useCredentials:yr(t.useCredentials)?t.useCredentials:void 0}}function mE(t){if(lr(t))return t}function _E(t){return t&&vr(t)?t.map((function(t){return Wk(t)})).filter(fr):[ua,ea,ca]}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var pE=function(t){function n(n){var e;return(e=t.call(this,"presentationmodechange")||this).presentationMode=n,e}return Xi(n,t),n}(fc);ki(),Vt(),ki(),Vt();var bE,kE,TE=function(t){function n(n,e){var i;return void 0===e&&(e=!1),(i=t.call(this,n)||this).EO=[],i.IO=function(t){Qa((function(){i.xu(t)}))},i.RO=e?i.IO:i.xu,i}Xi(n,t);var e=n.prototype;return e.OO=function(t){t.Uu(this.RO),this.EO.push(t)},e.CO=function(t){t.Wu(this.RO),Ma(this.EO,t)},e.kn=function(){this.Vu();for(var t=0,n=this.EO;t<n.length;t++){n[t].Wu(this.RO)}Va(this.EO)},n}(xy),SE=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n}(TE);(kE=bE||(bE={})).INLINE="inline",kE.FULLSCREEN="fullscreen",kE.PICTURE_IN_PICTURE="picture-in-picture";var EE,IE,RE=function(t){function n(n){var e;return(e=t.call(this)||this).AO=!1,e.DO=!1,e.Qd=void 0,e.PO=function(){return e.xO()},e.BO=function(){return e.LO()},e.MO=n,e.FO=e.UO=e.VO=e.HO="inline",e.MO.Mu(QS.wl,e.PO),e.MO.Mu(QS.ew,e.BO),e.qO(),e}Xi(n,t);var e=n.prototype;return e.nl=function(){return t=this,e={get currentMode(){return t.zO()},requestMode:function(n){var e=OE(n);e&&t.WO(e)},supportsMode:function(n){var e=OE(n);return!!e&&t.jO(e)},addEventListener:function(t,e){n.Mu(t,e)},removeEventListener:function(t,e){n.Hu(t,e)}},(n=new TE(e,!0)).OO(t),e;var t,n,e},e.WO=function(t){this.GO(t,t)},e.GO=function(t,n){this.UO!==n&&(this.AO=!0,this.FO=t,this.YO(n,this.UO),"fullscreen"!==t&&(this.VO=t),this.AO=!1,this.qO())},e.zO=function(){return this.DO?"fullscreen":"inline"},e.jO=function(t){switch(t){case"fullscreen":return this.MO.cO;case"inline":return!0}return!1},e.qO=function(){if(!this.AO){var t=this.UO,n=this.zO();this.UO=n,"fullscreen"!==n&&(this.HO=n),t!==n&&this.Bu(new pE(n))}},e.YO=function(t,n){var e="fullscreen"===t;this.DO=e,e!==this.MO.aO&&(e?this.MO.xy():this.MO.Ly())},e.xO=function(){if(!this.AO){var t=this.MO.aO;this.DO=t,t?this.GO("fullscreen","fullscreen"):t||"fullscreen"!==this.FO?this.qO():this.GO(this.VO,this.HO)}},e.LO=function(){this.xO(),this.Bu(new Lm(new Sd(md.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.kn=function(){this.MO.kn(),this.Vu()},Ii(n,[{key:"tl",get:function(){return this.Qd||(this.Qd=this.nl()),this.Qd}}]),n}(xy),NE={Yw:0,Xw:NaN,$w:!1,Ju:void 0,Kw:void 0,Jw:!1,Zw:!0,Qw:1,fw:Qy.Lw,tg:!1,ng:0,eg:0,ig:1};function OE(t){switch(t){case bE.INLINE:case bE.FULLSCREEN:case bE.PICTURE_IN_PICTURE:return t;default:return}}ki(),Vt(),Ri(),(IE=EE||(EE={})).DEFAULT="",IE.THEO="theo",IE.GOOGLE_IMA="google-ima",IE.SPOTX="spotx",IE.FREEWHEEL="freewheel",IE.MEDIATAILOR="mediatailor";var CE,AE,DE,PE,xE,BE,LE,ME,FE,UE,VE,HE,qE,zE,WE,jE=function(){function t(){this.XO=[]}var n=t.prototype;return n.$O=function(t){var n=this.KO.filter((function(n){return n.JO(t)}));if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.ZO=function(t){this.XO.push(t)},Ii(t,[{key:"KO",get:function(){return this.XO}}]),t}();jE.ki=new jE,ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(AE=CE||(CE={})).Gw="PLAYING",AE.mg="PAUSED",AE.QO="SEEK",AE.tC="STALLED",AE.nC="FAILED",AE.eC="INITIAL_BUFFERING",AE.iC="NO_ACCESS",(PE=DE||(DE={})).rC="HTTP_REQUEST_STATUS_CODE_1XX",PE.uC="HTTP_REQUEST_STATUS_CODE_2XX",PE.oC="HTTP_REQUEST_STATUS_CODE_3XX",PE.sC="HTTP_REQUEST_STATUS_CODE_4XX",PE.aC="HTTP_REQUEST_STATUS_CODE_5XX",PE.cC="BUFFER_LENGTH",PE.fC="BYTES_RECEIVED",PE.hC="SEGMENT_READ_BITRATE",PE.vC="SEGMENT_PROFILE_BITRATE",PE.dC="VIDEO_PROFILE_BITRATE",PE.lC="NUMBER_OF_FRAMES_DROPPED",PE.wC="PLAYBACK_POSITION",PE.gC="NUMBER_OF_FRAMES_DECODED",PE.yC="PLAYBACK_DELTA_TO_ORIGIN",PE.mC="STREAM_DELTA_TO_ORIGIN",PE._C="ORIGIN_TIMESTAMP",(BE=xE||(xE={})).pC="MANIFEST_URI",BE.bC="ASSET_DURATION",BE.kC="NUMBER_OF_CONTENT_PROFILES",BE.TC="CDN",BE.SC="CONTENT_TITLE",BE.EC="SERVICE_NAME",BE.IC="CONTENT_TYPE",BE.RC="CONTENT_DESCRIPTION",(LE||(LE={})).NC="shutdown_normal_shutdown",(FE=ME||(ME={})).OC="session/",FE.CC="content/",FE.AC="internalError/",FE.DC="drmError/",FE.xC="caError/",FE.BC="networkError/",(VE=UE||(UE={})).LC="userAction",VE.MC="endOfStreamReached",ki(),Vt(),ki(),Vt(),(qE=HE||(HE={})).PAUSE="FC",qE.RESUME="UC",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(WE=zE||(zE={})).UNAVAILABLE="unavailable",WE.AVAILABLE="available",WE.CONNECTING="connecting",WE.CONNECTED="connected";var GE,YE,XE,$E,KE,JE,ZE,QE,tI,nI,eI,iI,rI="agama";function uI(t){switch(t){case"":return GE.NONE;case"horizontal":return GE.HORIZONTAL;case"vertical":return GE.VERTICAL;default:throw new h}}function oI(t,n){if(n)return XE.PM360;if(null==t)return XE.NONE;switch(t){case"":return XE.NONE;case"360":return XE.PM360;case"180":return XE.PM180;default:throw new h("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}function sI(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!gr(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:fy(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?hy(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:fy(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:fy(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:fy(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards)}}function aI(t){if(!t||!gr(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function cI(t){if(null!==t)return t}function fI(t){var n={};if(!lr(t))return n;var e=t;for(var i in e)if(v.prototype.hasOwnProperty.call(e,i)){var r=e[i];gr(r)&&(n[i]=r)}return n}function hI(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:cI(t.streamActivityMonitorID),adTagParameters:lr(t.adTagParameters)?t.adTagParameters:{},authToken:cI(t.authToken),omidAccessModeRules:t.omidAccessModeRules?fI(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var i=t.videoID,r=t.contentSourceID;return i?r?Fs({},e,{availabilityType:"vod",videoID:i,contentSourceID:r}):void Wi.pr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void Wi.pr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Fs({},e,{availabilityType:"live",assetKey:u}):void Wi.pr("A Live DAI configuration was provided without valid assetKey which is required.")}Wi.pr("A DAI configuration was provided without a valid availabilityType which is required.")}function vI(t){if(!Lk(t)||!t.integration)return t;switch(t.integration){case ik:return n=t,e=zk(Ks.Qr,n),i=zk(Ks.Zr,n),r=n[Ks.nu]&&zk(Ks.nu,n),Fs({integration:"keyos",widevine:e,playready:i},r?{fairplay:r}:{});default:return t}var n,e,i,r}ki(),Vt(),ki(),Vt(),(YE=GE||(GE={})).NONE="",YE.HORIZONTAL="horizontal",YE.VERTICAL="vertical",ki(),Vt(),($E=XE||(XE={})).NONE="",$E.PM360="360",$E.PM180="180",ki(),Vt(),ki(),Vt(),ki(),Vt(),(JE=KE||(KE={})).wN="auto",JE.VC="always",JE.HC="never",JE.CLEAR_ONLY="clear-only",JE.SAME_DRM_ONLY="same-drm-only",ki(),Vt(),(QE=ZE||(ZE={})).wN="auto",QE.qC="playlist",QE.zC="media",(nI=tI||(tI={})).VERIZON_MEDIA="verizon-media",nI.MEDIATAILOR="mediatailor",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(iI=eI||(eI={})).ASSET="asset",iI.CHANNEL="channel",iI.EVENT="event",ki(),Vt();var dI="https://content.uplynk.com";function lI(t){if(!t)return!0;var n,e,i=!(hm(n=t.sources)||dr(n)&&hm(n[0]))||vm(t.sources),r=!t.ads||(!(e=t.ads)||vr(e)&&0===e.length),u=""!==t.poster&&!t.poster;return i&&r&&u}function wI(t){if(t&&t.sources)return gI(t.sources)}function gI(t){return gr(t)?t:cm(t)?t.src:dr(t)&&t.length>0?gI(t[0]):void 0}function yI(t,n,e){return om(t)?function(t,n,e){var i=Fs({},dm(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:tI.VERIZON_MEDIA,id:"",prefix:dI,preplayParameters:{},playbackUrlParameters:{},assetType:eI.ASSET,contentProtected:!1,assetInfo:!0});i.id=function(t){if(gr(t))return t;if(dr(t)&&gr(t[0]))return t;if(lr(n=t)&&gr(n.userId)&&(dr(n.externalId)||gr(n.externalId)))return t;var n;return""}(t.id),t.preplayParameters&&(i.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(i.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(i.assetType=function(t){switch(t){case"channel":return eI.CHANNEL;case"event":return eI.EVENT;case"asset":default:return eI.ASSET}}(t.assetType));t.contentProtected&&(i.contentProtected=cy(t.contentProtected));t.assetInfo?i.assetInfo=cy(t.assetInfo):i.assetInfo="asset"===i.assetType;t.prefix&&(i.prefix=dy(t.prefix)||dI);return i.ping=function(t,n){var e=!1,i=!1,r=!1;n?(e=!!yr(n.adImpressions)&&n.adImpressions,i=!!yr(n.freeWheelVideoViews)&&n.freeWheelVideoViews,r=yr(n.linearAdData)?n.linearAdData:t!==eI.ASSET):t!==eI.ASSET&&(r=!0);return{adImpressions:e,freeWheelVideoViews:i,linearAdData:r}}(i.assetType,t.ping),i=pI(i=bI(i=_I(i,t),n,e),t,e)}(t,n,e):sm(t)?function(t,n,e){var i;return Fs({},mI(t,n,e),{integration:tI.MEDIATAILOR,adParams:null!=(i=t.adParams)?i:{}})}(t,n,e):mI(t,n,e)}function mI(t,n,e){var i=lm(),r=n&&(n.contentProtection||n.drm);if(gr(t)){if(i.src=t,i.type=rm(t),r){var u=aE(r);i.contentProtection=vI(u)}}else if(cm(t)||um(t)){i.src=t.src,i.type=t.type||rm(t.src),i.isAdvertisement=t.isAdvertisement;var o=fm(t)?t.hesp:void 0;void 0!==o&&(i.hesp=o),sm(t)&&(i.integration=t.integration);var s=aE(t.contentProtection||t.drm||r);i.contentProtection=vI(s),t.ssai&&(i.ssai=function(t){switch(t.integration){case"google-dai":return hI(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),i=_I(i,t)}return i=pI(i=bI(i,n,e),t,e)}function _I(t,n){var e,i,r;n.useCredentials?t.crossOrigin=zy.xw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case zy.Pw:case zy.xw:return t;default:return zy.Dw}}(n.crossOrigin)),gr(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=cy(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=cy(n.useNativePlayback)),n.dash&&(t.dash=sI(n.dash)),n.hls&&(t.hls={discontinuityAlignment:aI(null==(e=n.hls)?void 0:e.discontinuityAlignment),useLegacy:(i=null==e?void 0:e.useLegacy,fr(i)?Boolean(i):void 0)}),n.lcevc&&(t.lcevc=cy(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=(r=n.ignoreEmbeddedTextTrackTypes,vr(r)?r.filter(im):[]));var u=fy(n.experimentalRendering);void 0!==u&&(t.experimentalRendering=u);var o=fy(n.nativeUiRendering);return void 0!==o&&(t.nativeUiRendering=o),t}function pI(t,n,e){return t.abr=function(t,n){var e;if(fr(t)||fr(n))return zm(Wm(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),Wm(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(e=null==t?void 0:t.restrictToPlayerSize)?e:null==n?void 0:n.restrictToPlayerSize)}(gr(n)?void 0:qm(n.abr),null==e?void 0:e.abr),t}function bI(t,n,e){var i,r=n&&n.timeServer;return e&&e.liveOffset&&!fr(t.liveOffset)&&(t.liveOffset=e.liveOffset),e&&e.hlsDateRange&&!fr(t.hlsDateRange)&&(t.hlsDateRange=e.hlsDateRange),t.crossOrigin===zy.Dw&&(null==n||null==(i=n.vr)?void 0:i[360])&&(t.crossOrigin=zy.Pw),t.useCredentials=t.crossOrigin===zy.xw,gr(r)&&!t.timeServer&&(t.timeServer=r),t}function kI(t){var n={src:""};if(t&&t.src){if(n.src=dy(t.src),"default"in t&&(n.default=cy(t.default)),n.kind=Ib(t.kind),im(t.format)&&(n.format=t.format),"srclang"in t){var e=t.srclang;"string"==typeof e&&""!==e&&(n.srclang=e)}if("label"in t){var i=t.label;"string"==typeof i&&""!==i&&(n.label=i)}}return n}function TI(t,n){if(wr(t))try{return n.$O(t).WC(t)}catch(t){return}}function SI(t){return gr(t.sources)&&""!==t.sources||lr(t.sources)&&gr(t.sources.src)}function EI(t){return t.integration===EE.SPOTX&&!g(t.id)}function II(t){return"freewheel"===t.integration}function RI(t,n,e){if(void 0===e&&(e=jE.ki),lI(t))return{sources:[lm()]};var i=uy(t);if(i.sources=function(t,n,e){if(hm(t))return[yI(t,n,e)];if(dr(t)&&hm(t[0])){for(var i=[],r=0;r<t.length;r++){var u=t[r];i.push(yI(u,n,e))}return i}return[lm()]}(i.sources,i,n),"contentProtection"in i&&delete i.contentProtection,"drm"in i&&delete i.drm,"ads"in i){var r=function(t,n){if(!dr(t))return[];for(var e=[],i=0;i<t.length;i++){var r=t[i];(r=TI(r,n))&&(SI(r)||EI(r)||II(r))&&e.push(r)}return e}(i.ads,e);0===r.length?delete i.ads:i.ads=r}var u,o,s,a,c=!vm(i.sources),f=i.ads&&i.ads.length>0;if(c&&!f?delete i.ads:f&&!c&&(i.sources=[]),"textTracks"in i){var h=function(t){if(!dr(t))return[];for(var n=[],e=0;e<t.length;e++){var i=t[e];""!==(i=kI(i)).src&&n.push(i)}return n}(i.textTracks);0===h.length?delete i.textTracks:i.textTracks=h}if("poster"in i&&(i.poster=dy(i.poster)),"vr"in i&&(i.vr=(u=i.vr,(s=u||{}).stereoMode=function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(o=s.stereoMode)?o:"",{panoramaMode:oI(s.panoramaMode,Boolean(s[360])),stereoMode:s.stereoMode?uI(s.stereoMode):GE.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in i||(null==n?void 0:n.analytics)){var v=gm(i.analytics),d=n&&n.analytics||[];i.analytics=function(t,n){for(var e=function(e){var r=n[e];!t.some((function(t){return t.integration===r.integration}))&&r.integration!==rI&&i.push(r)},i=uy(t),r=0;r<n.length;r++)e(r);return i}(v,d)}return"mutedAutoplay"in i&&(i.mutedAutoplay=jm(i.mutedAutoplay)),"timeServer"in i&&delete i.timeServer,"playAdsAfterTime"in i&&(i.playAdsAfterTime=hy(i.playAdsAfterTime)),i.blockContentIfAdError=void 0!==(a=i.blockContentIfAdError)&&"boolean"==typeof a&&Boolean(a),i}Ti(),ki(),Vt(),ki(),Vt(),ki(),Vt();var NI,OI=((NI=function(t){this.GC=t}).prototype.jC=function(t){var n,e,i,r,u,o,s,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.GC.charAt(64);for(n=0;n<t.length;n+=4)e=(s=this.GC.indexOf(t.charAt(n))<<18|this.GC.indexOf(t.charAt(n+1))<<12|(u=this.GC.indexOf(t.charAt(n+2)))<<6|(o=this.GC.indexOf(t.charAt(n+3))))>>>16&255,i=s>>>8&255,r=255&s,a[n/4]=String.fromCharCode(e,i,r),64===o&&(a[n/4]=String.fromCharCode(e,i)),64===u&&(a[n/4]=String.fromCharCode(e));return a.join("")},NI.prototype.YC=function(t,n){var e,i,r,u,o,s,a,c=[],f="";if((s=t.length%3)>0)for(;s++<3;)f+=this.GC.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(e=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=e>>12&63,u=e>>6&63,o=63&e,c[s/3]=this.GC.charAt(i)+this.GC.charAt(r)+this.GC.charAt(u)+this.GC.charAt(o);return a=(a=c.join("")).slice(0,a.length-f.length),n||(a+=f),a},NI.z_=new NI(function(){var t,n,e,i,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],e=0;e<n.length;e+=1)i=n.charAt(e),-1===r.indexOf(i)&&r.push(i);return r.join("")}()),NI.XC=new NI(NI.z_.jC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),NI);function CI(t){return"string"==typeof t}function AI(t){return"number"==typeof t}ki(),Vt(),ki(),Vt(),ki(),Vt();var DI={}.toString;var PI,xI=Array.isArray||function(t){return"[object Array]"===DI.call(t)};function BI(t,n){return xI(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(PI||(PI={}));var LI,MI,FI=v.keys(PI).map((function(t){return PI[t]}));function UI(t){return-1!==FI.indexOf(t)}(MI=LI||(LI={})).HESP="hesp",MI.MULTIVIEW="multiview";var VI,HI=v.keys(LI).map((function(t){return LI[t]}));function qI(t){return-1!==HI.indexOf(t)}function zI(t){try{var n=OI.XC.jC(t),e=JSON.parse(n);if(!function(t,n){var e,i=function(t){return"object"==typeof t&&null!==t}(t),r=CI(t.key),u=CI(t.customer_id),o=AI(t.generation_date),s=AI(t.expiration_date),a=BI(t.domains_page,CI),c=BI(t.domains_source,CI),f=BI(t.sdks,n?UI:CI),h=(v=t.send_impression,"boolean"==typeof v);var v;t.features?e=BI(t.features,n?qI:CI):(e=!0,t.features=[]);if(!(i&&r&&u&&o&&s&&a&&c&&f&&h&&e))return!1;return!0}(e,!1))throw new f("The provided license could not be decoded correctly.");return e}catch(t){throw new f("The provided license could not be decoded correctly.")}}function WI(){return VI||(VI={Nh:_i.href,$C:mi.parent&&mi.parent!==e,KC:XI()}),VI}var jI,GI,YI=["http:","https:","ftp:","ws:","wss:"];function XI(){try{return mi.top.location.href}catch(t){return mi&&mi.document&&mi.document.referrer}}(GI=jI||(jI={}))[GI.JC=0]="JC",GI[GI.ZC=1]="ZC",GI[GI.QC=2]="QC";var $I,KI,JI=function(t,n,e,i,r,u,o,s,a){void 0===r&&(r=[]),void 0===u&&(u=""),void 0===o&&(o=Date.now()),void 0===s&&(s=[]),void 0===a&&(a=!0),this.tA=t,this.nA=n,this.eA=e,this.iA=i,this.rA=r,this.uA=u,this.oA=o,this.sA=s,this.aA=a};(KI=$I||($I={})).ZC="expired",KI.cA="invaliddomain",KI.fA="invalidsource",KI.hA="invalidfeature",KI.ew="error";var ZI=function(){function t(t,n,e){this.vA=t,this.dA=n,this.hs=e,this.lA=rR(this.hs)}var n=t.prototype;return n.wA=function(t,n){var e=[];hm(t.sources)?e=[t.sources]:dr(t.sources)&&(e=t.sources),this.gA(t,e,n),this.yA(e,n)},n.gA=function(t,n,e){var i=this;if(!lI(t)&&0!==e.eA.length&&!nR(e.eA)&&!n.every((function(t){return i.mA(t,e)}))){var r="invalidsource",u=sR._A(r);throw new Sd(QI(r),u)}},n.yA=function(t,n){for(var e=0;e<t.length;e++){var i=t[e];cm(i)&&fm(i)&&this.pA([LI.HESP],n)}},n.bA=function(n){return this.kA(n.sA)&&this.TA(n)?t.SA(n.iA)?0:1:2},n.pA=function(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(!Ua(n.rA,i)){var r="invalidfeature",u=sR.EA(r,i);throw new Sd(QI(r),u)}}},n.kA=function(t){var n=this;return 0===t.length||t.some((function(t){return n.IA(t)}))},n.IA=function(t){return"tvos"===function(t){switch(t){case PI.ANDROID:return ji.Dn;case PI.ANDROIDTV:case PI.FIRETV:return ji.Pn;case PI.IOS:return ji.xn;case PI.TVOS:return ji.Bn;case PI.CHROMECAST:case PI.CHROMECASTCAF:return ji.Ln;default:return ji.An}}(t)},n.TA=function(t){return!(this.lA&&0!==t.nA.length&&!nR(t.nA))||!!(this.lA&&this.RA(t.nA)&&this.NA(t.nA))},n.RA=function(t){return eR(this.hs.Nh,t)},n.NA=function(t){if(!this.hs.$C)return!0;if(this.vA)return!0;var n=this.OA();return!!n&&eR(n,t)},n.OA=function(){if(this.hs.$C){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.hs.KC?this.hs.KC:void 0}},n.mA=function(n,e){return!!t.CA(n,e.eA)},t.SA=function(t){var n=Number(new Date);return!!t&&n<=t},t.CA=function(t,n){return eR(this.AA(t),n)},t.AA=function(t){return gr(t)?t:cm(t)&&t.src||""},t}();function QI(t){switch(t){case"invaliddomain":return md.LICENSE_INVALID_DOMAIN;case"invalidsource":return md.LICENSE_INVALID_SOURCE;case"expired":return md.LICENSE_EXPIRED;case"invalidfeature":return md.LICENSE_INVALID_FEATURE;case"error":return md.LICENSE_ERROR}}function tR(t,n){var e=t,i=n;if(!e)return!1;if("*"===(i=i.trim()))return!0;if(i===(e=e.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+r+o+r+o+r+o+"\\)"),a=i.match(s),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var f=new RegExp("^"+a[1]+r+c(a[2])+r+c(a[3])+r+c(a[4])+"$");return null!==e.match(f)}return i="."+i,-1!==e.indexOf(i,e.length-i.length)}function nR(t){return t.some((function(t){return"*"===t}))}function eR(t,n){var e=Wi.Lr(t);if(!iR(e))return!0;for(var i=0;i<n.length;i++){var r=n[i];if(tR(e.hostname,r))return!0;if(tR(Vl(t),r))return!0}return!1}function iR(t){return-1!==YI.indexOf(t.protocol)}function rR(t){var n=Wi.Lr(t.Nh);return iR(n)&&!tR(n.hostname,"localhost")&&!function(t){return tR(t.hostname,"theoplayer.doubleclick.net")}(n)}var uR,oR,sR=function(){function t(){}return t.EA=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t._A=function(t){return"invaliddomain"===t?this.DA:"invalidsource"===t?this.PA:"expired"===t?this.xA:"invalidfeature"===t?this.BA:this.LA},t}();function aR(t){var n=[t.yT,t.MA,t.FA];switch(t.MA){case 1:n.push(t.lw);break;case 4:n.push(t.Yw),n.push(t.Ju);break;case 5:n.push(t.Ju)}return n}sR.LA="The license for this player is invalid.",sR.xA="The usage license for this video player has expired.",sR.DA="The current domain is incompatible with the license for this player.",sR.PA="The provided video source is incompatible with the license for this player.",sR.BA="The requested feature is not available with the license for this player.",ki(),Vt(),Ri(),ki(),Vt(),(oR=uR||(uR={}))[oR.UA=1]="UA",oR[oR.VA=4]="VA",oR[oR.HA=5]="HA",ki(),Vt();var cR,fR=new Array(256);for(cR=0;cR<256;cR+=1)fR[cR]=(cR<16?"0":"")+cR.toString(16);function hR(){var t=cu(),n=(4294967296*d.random()|0)+t&3029421624,e=(4294967296*d.random()|0)+t&3595553209,i=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return fR[255&n]+fR[n>>>8&255]+fR[n>>>16&255]+fR[n>>>24&255]+"-"+fR[255&e]+fR[e>>>8&255]+"-"+fR[e>>>16&15|64]+fR[e>>>24&255]+"-"+fR[63&i|128]+fR[i>>>8&255]+"-"+fR[i>>>16&255]+fR[i>>>24&255]+fR[255&r]+fR[r>>>8&255]+fR[r>>>16&255]+fR[r>>>24&255]}function vR(){return Wi.mr()}ki(),Vt(),ki(),Vt(),ki(),Vt();var dR,lR="theoplayer-session-id";function wR(){if(!dR){var t=qd.so(lR);t?dR=t:(dR=hR(),qd.rf(lR,dR))}return dR}ki(),Vt(),Ti(),ki(),Vt();var gR=/[^\x00-\x7E]/g;function yR(t){return"\\u"+function(t,n,e){void 0===e&&(e=" ");var i=e,r=(0|n)-t.length;return r<=0?t:(r>i.length&&(i+=function(t,n){var e=0|n;if(0===t.length||0===e)return"";for(var i=t,r="";1==(1&e)&&(r+=i),0!=(e>>>=1);)i+=i;return r}(i,r/i.length)),i.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var mR="https://license.theoplayer.com";function _R(t){var n,e,i,r,u,o=(n=function(t){return[t.qA,t.$a,t.tA,t.mb,t.zA,t.WA,t.jA.map(aR)]}(t),e=[],i=n,r=function(t,n){if(lr(n)){if(-1!==e.indexOf(n))return null;e.push(n)}return n},JSON.stringify(i,r,u).replace(gR,yR));return OI.XC.YC(o)}var pR=function(){function t(t,n,e,i,r,u){void 0===i&&(i=OI.z_),void 0===r&&(r=0),void 0===u&&(u=1);var o=this;this.la=t,this._S=n,this.GA=e,this.YA=i,this.XA=r,this.$A=u,this.KA=[],this.JA=null,this.ZA=0,this.QA="unknown",this.Ws=0,this.tD=function(){vR()-o.ZA>6e4&&o.V()},this.nD=function(){o.V(!0)},yi.Rn(this.nD),this.eD=a(this.tD,6e4)}var n=t.prototype;return n.iD=function(){return Boolean(this.zA)},n.rD=function(t){var n=this;return Ms((function(){var e;return Us(this,(function(i){switch(i.label){case 0:return[4,n.GA.uD()];case 1:return i.sent().aA?(e={MA:uR.UA,FA:cu(),lw:t},[4,n.oD(e)]):[2];case 2:return i.sent(),[2]}}))}))()},n.sD=function(t,n){var e=this;return Ms((function(){var i;return Us(this,(function(r){switch(r.label){case 0:return i={MA:uR.VA,FA:cu(),Yw:n,Ju:t},[4,e.oD(i)];case 1:return r.sent(),[2]}}))}))()},n.aD=function(t){var n=this;return Ms((function(){var e;return Us(this,(function(i){switch(i.label){case 0:return e={MA:uR.HA,FA:cu(),Ju:t},[4,n.oD(e)];case 1:return i.sent(),[2]}}))}))()},n.oD=function(t){var n=this;return Ms((function(){var e;return Us(this,(function(i){switch(i.label){case 0:return[4,n.GA.uD()];case 1:return e=i.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.YA.YC(e.tA)&&t.MA!==uR.HA?[2]:(t.MA===uR.UA?n.cD():n.iD()||n.cD(),t.yT=n.Ws++,n.KA.push(t),(r=t.MA)!==uR.UA&&r!==uR.HA?[3,3]:[4,n.V()]);case 2:return i.sent(),[3,5];case 3:return n.KA.length>n.XA?[4,n.fD()]:[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}var r}))}))()},n.V=function(t){void 0===t&&(t=!1);var n=this;return Ms((function(){return Us(this,(function(e){switch(e.label){case 0:return n.KA.length>0?[4,n.fD(t)]:[3,2];case 1:return e.sent(),[3,0];case 2:return[2]}}))}))()},n.hD=function(t){var n=this;return Ms((function(){var e;return Us(this,(function(i){switch(i.label){case 0:return[4,n.GA.uD()];case 1:return e=i.sent(),[2,{qA:cu(),$a:wR(),tA:n.YA.YC(e.tA)||"dev",mb:n.la,zA:n.JA,WA:n.QA,jA:t}]}}))}))()},n.fD=function(t){void 0===t&&(t=!1);var n=this;return Ms((function(){var e,i;return Us(this,(function(r){switch(r.label){case 0:return e=n.KA.splice(0,n.$A),[4,n.hD(e)];case 1:return i=r.sent(),t?n.tv(i):n.vD(i),n.ZA=vR(),[2]}}))}))()},n.vD=function(t){var n=this;return Ms((function(){var e,i;return Us(this,(function(r){switch(r.label){case 0:e=_R(t),i=new Dl({Nh:mR,ah:e,Zh:!1,Th:Xd.Jf,kh:{"Content-Type":RT.KE},Xh:4e3,Yh:Tl.POST}),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,n._S.Ih(i)];case 2:return[4,r.sent().uh()];case 3:return r.sent(),[3,5];case 4:return r.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+e,[3,5];case 5:return[2]}}))}))()},n.tv=function(t){var n=_R(t);this._S.tv({Nh:mR,ah:n,sh:RT.KE})},n.cD=function(){this.iD()&&this.V(),this.JA=hR(),this.Ws=0},n.kn=function(){yi.Nn(this.nD),c(this.eD),this.V()},Ii(t,[{key:"jA",get:function(){return this.KA}},{key:"zA",get:function(){return this.JA}}]),t}();ki(),Vt(),Ri(),Mi(),ki(),Vt(),Mi();var bR=sr.ii||sr.qe&&sr.ci<13;function kR(t,n,e){var i=t.getImageData(n,e,1,1).data;return 0===i[0]&&0===i[1]&&0===i[2]&&0===i[3]}var TR=function(){function t(t){this.Qd=void 0,this.dD=void 0,this.fN=t}var n=t.prototype;return n.lD=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];var r;if(!t||!t.drawImage)return!1;var u=this.fN.qg();return!!u&&((r=t).drawImage.apply(r,[u].concat(Bi(e))),!0)},n.wD=function(t,n,e,r,u,o){if(!t||!t.texImage2D)return!1;var s=this.fN,a=s.qg();if(!a)return!1;if(bR){this.dD||(this.dD=i.createElement("canvas"));var c=this.dD,h=c.getContext("2d"),v=s.eg,d=s.ng,l=c.width,w=c.height;h.clearRect(0,0,c.width,c.height),l===v&&w===d||(c.width=v,c.height=d),h.drawImage(a,0,0,v,d);var g=!1;v>0&&kR(h,v-1,0)&&(c.width=l,g=!0),d>0&&kR(h,0,d-1)&&(c.height=w,g=!0),g&&h.drawImage(a,0,0,v,d),a=c}try{t.texImage2D(n,e,r,u,o,a)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},Ii(t,[{key:"tl",get:function(){return this.Qd||(this.Qd=(t=this,{drawImage:function(n){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var u;return(u=t).lD.apply(u,[n].concat(Bi(i)))},texImage2D:function(n,e,i,r,u,o){return t.wD(n,e,i,r,u,o)}}));var t}}]),t}();ki(),Vt(),Ri(),ki(),Vt();var SR=function(t){function n(n,e){var i;return(i=t.call(this,"gD")||this).om=n,i.Jb=e,i}return Xi(n,t),n.prototype.nl=function(){return new ER(this.om,this.Jb)},n}(qg),ER=function(t){function n(n,e){var i;return(i=t.call(this,"dimensionchange")||this).width=n,i.height=e,i}return Xi(n,t),n}(fc);ki(),Vt(),Ri(),ki(),Vt();var IR=function(t,n){this.Qg=t,this.yD=n};Ti();var RR=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).mD=0,i._D=0,i.pD=function(t){if(t.length>0){var n=t[t.length-1].contentRect;i._D=n.width,i.mD=n.height,i.yD(i._D,i.mD)}},i.bD=new mi.ResizeObserver(i.pD),i.bD.observe(i.Qg),i}return Xi(n,t),n.prototype.kn=function(){this.bD.disconnect()},Ii(n,[{key:"kD",get:function(){return this.mD}},{key:"TD",get:function(){return this._D}}]),n}(IR);ki(),Vt(),Ri(),ki(),Vt();var NR=0;var OR,CR=s,AR=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,DR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;AR&&DR||(AR=function(t){var n=vR(),e=d.max(0,16-(n-NR)),i=o((function(){return t(n+e)}),e);return NR=n+e,i},DR=CR),AR=AR.bind(t),DR=DR.bind(t),ki(),Vt(),Ti();var PR=["Webkit","Moz","O","ms"],xR=(function(){var t=!1;try{if(void 0!==mi&&"function"==typeof mi.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});mi.addEventListener("testPassiveEventSupport",pr,n),mi.removeEventListener("testPassiveEventSupport",pr,n)}}catch(t){}}(),qs());function BR(t){return xR.has(t)||xR.set(t,function(t){var n=(OR||(OR=mi&&mi.document&&mi.document.createElement("span")),OR);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<PR.length;i++){var r=PR[i]+e;if(void 0!==n.style[r])return r}return t}(t)),xR.get(t)}function LR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function MR(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[BR("transition")]="0s"}var FR=function(t){function n(n,r,u){var s;(s=t.call(this,n,r)||this).SD=0,s._D=NaN,s.mD=NaN,s.ED=void 0,s.ic=function(){s.RD.style.width="100000px",s.RD.style.height="100000px",s.ND.scrollLeft=1e5,s.ND.scrollTop=1e5,s.OD.scrollLeft=1e5,s.OD.scrollTop=1e5,0===s.OD.scrollTop&&AR(s.ic)},s.CD=function(){var t=s.TD,n=s.kD;s.yD(t,n),s._D=t,s.mD=n,s.ic(),s.SD=0},s.DD=function(){if(!s.SD){var t=s.TD,n=s.kD;t===s._D&&n===s.mD||(s.SD=AR(s.CD))}},s.PD=function(){s.ED||(s.ED=o(s.xD,66))},s.xD=function(){s.ED=void 0,s.BD()},s.BD=function(){s.DD()};var a=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==a||(n.style.position="relative");var c,f=i.createElement("div");return s.LD=f,s.ND=i.createElement("div"),s.RD=i.createElement("div"),s.OD=i.createElement("div"),s.MD=i.createElement("div"),LR(s.ND),LR(s.OD),MR(s.RD),MR(c=s.MD),c.style.width="200%",c.style.height="200%",f.appendChild(s.ND),f.appendChild(s.OD),s.ND.appendChild(s.RD),s.OD.appendChild(s.MD),n.appendChild(f),s.ND.addEventListener("scroll",s.DD),s.OD.addEventListener("scroll",s.DD),e&&e.addEventListener("resize",s.PD),s.DD(),s}return Xi(n,t),n.prototype.kn=function(){DR(this.SD),this.SD=0,this.ND.removeEventListener("scroll",this.DD),this.OD.removeEventListener("scroll",this.DD),ds(this.LD),e&&e.removeEventListener("resize",this.PD)},Ii(n,[{key:"kD",get:function(){return this.Qg.getBoundingClientRect().height||this.mD||0}},{key:"TD",get:function(){return this.Qg.getBoundingClientRect().width||this._D||0}}]),n}(IR);Ti();var UR=function(t){function n(n){var e;return(e=t.call(this)||this).bD=void 0,e.pD=function(t,n){e.Bu(new SR(t,n))},e.Qg=n,e}Xi(n,t);var e=n.prototype;return e.nc=function(t){this.bD||("function"==typeof mi.ResizeObserver?this.bD=new RR(this.Qg,this.pD):this.bD=new FR(this.Qg,this.pD,t))},e.kn=function(){this.Vu(),this.bD&&(this.bD.kn(),this.bD=void 0)},Ii(n,[{key:"kD",get:function(){return this.bD?this.bD.kD:0}},{key:"TD",get:function(){return this.bD?this.bD.TD:0}}]),n}(oc);ki(),Vt(),Ri(),ki(),Vt();var VR=function(t){function n(){return t.call(this,QS.wl)}return Xi(n,t),n}(fc);ki(),Vt();!function(){if(i)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var e=t[n];if(e[1]in i)return{FD:e[0],UD:e[1],VD:e[2],HD:e[3],qD:e[4],zD:e[5]}}}();ki(),Vt();var HR=function(t){function n(){return t.call(this,QS.sO)}return Xi(n,t),n}(fc),qR=function(t){function n(n,e){var i;return(i=t.call(this)||this).WD=!1,i.jD=function(){return i.Wa()},i.PO=function(t){i.WD||i.Bu(t)},i.fN=n,i.GD=e,i.YD=rE,i.XD(),i.fN.Mu(Gd.mf,i.jD),i.Wa(),i}Xi(n,t);var e=n.prototype;return e.xy=function(){this.GD&&this.YD.xy()},e.Ly=function(){this.YD.Ly()},e.XD=function(){this.YD.Mu(QS.wl,this.PO),this.YD.Mu(QS.ew,this.xu)},e.$D=function(){this.YD.Hu(QS.wl,this.PO),this.YD.Hu(QS.ew,this.xu)},e.Wa=function(){var t=this.YD,n=this.fN.zg();if(t!==n){this.WD=!0;var e=this.aO,i=this.cO;e&&this.Ly(),this.$D(),this.YD=n,this.XD(),e&&!this.aO&&this.cO?this.xy():this.Ly(),this.WD=!1,i!==this.cO&&this.Bu(new HR),e!==this.aO&&this.Bu(new VR)}},e.kn=function(){this.Vu(),this.$D(),this.fN.Hu(Gd.mf,this.jD)},Ii(n,[{key:"cO",get:function(){return!!this.GD&&this.YD.cO}},{key:"aO",get:function(){return this.YD.aO}}]),n}(oc);function zR(t){var n;return{get url(){return t.Nh},get method(){return t.Yh},get headers(){return n||(n=t.kh.Zf()),n},get body(){return t.ah},get useCredentials(){return t.Zh},get type(){return t.iu},get subType(){return t.Kh},get mediaType(){return t.Jh},get responseType(){return t.Th}}}function WR(t){switch(t.toLowerCase()){case"arraybuffer":return Xd.Xf;case"json":return Xd.$f;case"stream":return Xd.Kf;case"text":default:return Xd.Jf}}function jR(t){switch(t.toUpperCase()){case"POST":return Tl.POST;case"PUT":return Tl.PUT;case"DELETE":return Tl.DELETE;case"HEAD":return Tl.HEAD;case"OPTIONS":return Tl.OPTIONS;case"GET":default:return Tl.GET}}function GR(t){switch(t.toLowerCase()){case"manifest":return El.Dh;case"segment":return El.Ph;case"preload-hint":return El.xh;case"content-protection":return El.Bh;default:return El.Ah}}function YR(t){switch(t.toLowerCase()){case"initialization-segment":return Rl.Lh;case"fairplay-license":return Rl.Mh;case"fairplay-certificate":return Rl.Fh;case"widevine-license":return Rl.Uh;case"widevine-certificate":return Rl.Vh;case"playready-license":return Rl.Hh;case"clearkey-license":return Rl.qh;case"aes128-key":return Rl.zh;default:return Rl.Ah}}function XR(t){switch(t.toLowerCase()){case"audio":return Ol.Wh;case"video":return Ol.jh;case"text":return Ol.Jf;case"image":return Ol.Gh;case"":default:return Ol.Ah}}ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),Ri();var $R=function(){function t(t,n){this.KD=t,this.JD=n,this.ZD=new mf,this.QD=[],this.Qd=void 0,this.tP=!1,this.dv=void 0,this.nP=0}var n=t.prototype;return n.ob=function(){this.tP=!0,this.ZD.ko(null)},n.eP=function(){this.ZD.To(new il(this.QD))},n.iP=function(t){if(!this.rP)throw new h("Cannot respond more than once");if(!lr(t))throw new h("Expected valid response");this.dv=this.uP(t),this.ob()},n.oP=function(){try{var t=this.JD(this.tl);t?this.sP(t):this.aP||this.cP||this.ob()}catch(t){this.QD.push(t),this.eP()}},n.sP=function(t){if(this.cP)throw new f("Request has been redirected or a response already exists");if(mr(t))this.fP(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new mf;try{var e=t((function(t){t?n.To(t):n.ko(void 0)}));mr(e)&&n.Ou(e)}catch(t){n.To(t)}this.fP(n.bo)}},n.fP=function(t){var n=this;return Ms((function(){var e;return Us(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n.nP++,[4,t];case 1:return i.sent(),n.nP--,n.aP||n.cP||(n.QD.length?n.eP():n.ob()),[3,3];case 2:return e=i.sent(),n.nP--,n.QD.push(e),n.aP||n.cP||n.eP(),[3,3];case 3:return[2]}}))}))()},Ii(t,[{key:"hP",get:function(){return this.ZD.bo}},{key:"tl",get:function(){return this.Qd||(this.Qd=this.vP()),this.Qd}},{key:"cP",get:function(){return this.tP}},{key:"rP",get:function(){return!this.tP}},{key:"aP",get:function(){return this.nP>0}},{key:"lv",get:function(){return this.dv}}]),t}(),KR=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e)||this).dP=i,r.oP(),r}Xi(n,t);var e=n.prototype;return e.vP=function(){return e=zR((t=this).Ih),{get closed(){return!t.rP},get request(){return e},get url(){return t.Nh},get status(){return t.bh},get statusText(){return t.Sh},get headers(){return n||(n=t.kh.Zf()),n},get body(){return t.ah},respondWith:function(n){return t.iP(n)},waitUntil:function(n){return t.sP(n)}};var t,n,e},e.uP=function(t){return n.lP(t,this.KD,this.dP)},n.lP=function(t,n,e){var i=void 0===t.body?e:t.body;return new Al({Ch:i,Ih:n.Ih,Th:n.Ih.Th,kh:t.headers,bh:t.status,Sh:t.statusText,Rh:t.url,Eh:!0},n)},Ii(n,[{key:"ah",get:function(){return this.dP}},{key:"kh",get:function(){return this.KD.kh}},{key:"Ih",get:function(){return this.KD.Ih}},{key:"lv",get:function(){return this.dv}},{key:"bh",get:function(){return this.KD.bh}},{key:"Sh",get:function(){return this.KD.Sh}},{key:"Nh",get:function(){return this.KD.Rh}}]),n}($R);ki(),Vt(),Ri();var JR=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e)||this).wP=void 0,r.gP=i,r.oP(),r}Xi(n,t);var e=n.prototype;return e.vP=function(){return t=this,{get url(){return t.Nh},get method(){return t.Yh},get headers(){return n||(n=t.kh.Zf()),n},get body(){return t.ah},get closed(){return!t.rP},get useCredentials(){return t.Zh},get type(){return t.iu},get subType(){return t.Kh},get mediaType(){return t.Jh},get responseType(){return t.Th},redirect:function(n){return t.yP(n)},respondWith:function(n){return t.iP(n)},waitUntil:function(n){return t.sP(n)}};var t,n},e.uP=function(t){var n=this.KD.ah,e=new Al({Ch:n,kh:{},Ih:this.KD,Rh:this.KD.Nh,Th:this.KD.Th,bh:200,Sh:"OK"});return KR.lP(t,e,n)},e.yP=function(t){if(!this.rP)throw new h("Cannot redirect, already redirected or has a response");var n;n=gr(t)?{url:t}:t,this.wP=function(t,n){return new Dl({Nh:void 0===t.url?n.Nh:t.url,Yh:void 0!==t.method?jR(t.method):void 0,kh:t.headers,ah:t.body,Zh:t.useCredentials,iu:void 0!==t.type?GR(t.type):void 0,Kh:void 0!==t.subType?YR(t.subType):void 0,Jh:void 0!==t.mediaType?XR(t.mediaType):void 0,Th:void 0!==t.responseType?WR(t.responseType):void 0},n)}(n,this.KD),this.ob()},Ii(n,[{key:"ah",get:function(){return this.KD.ah}},{key:"rP",get:function(){return this.gP&&!this.tP}},{key:"kh",get:function(){return this.KD.kh}},{key:"Yh",get:function(){return this.KD.Yh}},{key:"mP",get:function(){return this.wP}},{key:"lv",get:function(){return this.dv}},{key:"Th",get:function(){return this.KD.Th}},{key:"Xh",get:function(){return this.KD.Xh}},{key:"$h",get:function(){return this.KD.$h}},{key:"Au",get:function(){return this.KD.Au}},{key:"iu",get:function(){return this.KD.iu}},{key:"Kh",get:function(){return this.KD.Kh}},{key:"Jh",get:function(){return this.KD.Jh}},{key:"Nh",get:function(){return this.KD.Nh}},{key:"Zh",get:function(){return this.KD.Zh}},{key:"Qh",get:function(){return this.KD.Qh}}]),n}($R);var ZR=function(t){function n(n,e){var i;void 0===e&&(e=!0);var r=new QR(n);return(i=t.call(this,r,e)||this)._P=r,i}Xi(n,t);var e=n.prototype;return e.pP=function(t){this._P.pP(t)},e.bP=function(t){this._P.bP(t)},e.kP=function(t){this._P.kP(t)},e.TP=function(t){this._P.TP(t)},e.SP=function(t){this._P.SP(t)},n}(xl),QR=function(){function t(t){this.EP=[],this.IP=[],this.nv=t}var n=t.prototype;return n.Ih=function(t){var n=this;return Ms((function(){var e,i;return Us(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,n.RP(t,t.Au)];case 1:return e=r.sent(),[3,5];case 2:return(i=r.sent())instanceof Hl?[4,n.NP(i,t.Au)]:[3,4];case 3:return[2,r.sent()];case 4:throw i;case 5:return[4,n.OP(e,t.Au)];case 6:if(kl(e=r.sent()))return[2,e];throw new zl(e)}}))}))()},n.tv=function(t){return this.nv.tv(t)},n.RP=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s,a;return Us(this,(function(c){switch(c.label){case 0:Ya(n),i=t,u=0,o=e.EP.slice(),c.label=1;case 1:if(!(u<o.length))return[3,7];if(s=o[u],Ya(n),(a=new JR(i,s,!r)).cP)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.hP];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.mP&&!r?i=a.mP:a.lv&&!r&&(r=a.lv),c.label=6;case 6:return u++,[3,1];case 7:return r?[2,r]:[2,e.nv.Ih(i)]}}))}))()},n.NP=function(t,n){var e=this;return Ms((function(){var i,r;return Us(this,(function(u){switch(u.label){case 0:return i=t instanceof zl?t.lv:new Al({Ch:null,Ih:t.Ih,bh:0,Sh:""}),[4,e.OP(i,n)];case 1:if((r=u.sent())===i)throw t;if(kl(r))return[2,r];throw new zl(r)}}))}))()},n.OP=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s,a;return Us(this,(function(c){switch(c.label){case 0:i=t,r=0,u=e.IP.slice(),c.label=1;case 1:return r<u.length?(o=u[r],Ya(n),[4,G.resolve(i.wo().Ch(n))]):[3,8];case 2:if(s=c.sent(),(a=new KR(i,o,s)).cP)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.hP];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:i=a.lv||i,c.label=7;case 7:return r++,[3,1];case 8:return[2,i]}}))}))()},n.pP=function(t){this.EP.unshift(t)},n.bP=function(t){this.EP.push(t)},n.kP=function(t){Ma(this.EP,t)},n.TP=function(t){this.IP.unshift(t)},n.SP=function(t){Ma(this.IP,t)},n.kn=function(){this.nv.kn(),Va(this.EP),Va(this.IP)},t}();ki(),Vt(),Ri();var tN,nN,eN=function(t){function n(n,e,i){var r;return(r=t.call(this,e)||this).CP=n,r._S=e,r.yO=i,r.AP=function(t){r.Bu(t)},r.DP=function(t){r.Bu(t)},r.CP.Mu(Gd.Nf,r.AP),r.CP.Mu(Gd.Rf,r.DP),r}Xi(n,t);var e=n.prototype;return e.PP=function(t){this.yO.PP(t)},e.pP=function(t){this._S.pP(t)},e.kP=function(t){this._S.kP(t)},e.TP=function(t){this._S.TP(t)},e.SP=function(t){this._S.SP(t)},e.kn=function(){this.Vu(),this.CP.Hu(Gd.Nf,this.AP),this.CP.Hu(Gd.Rf,this.DP)},Ii(n,[{key:"tl",get:function(){var t;return this.Qd||(this.Qd=(t=this,{get online(){return t.vy},get estimator(){return n=t.xP,{get bandwidth(){return n.xI},get roundTripTime(){return n.BI}};var n},setEstimator:function(n){t.PP(function(t){if(t)return{get xI(){return vy(t.bandwidth)},get BI(){return vy(t.roundTripTime)},DI:function(n){return function(t){if(t)return{BP:function(n){t.markRequestStart(n)},LP:function(n){t.markResponseStart(n)},MP:function(n,e){t.markResponseData(n,e)},FP:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(zR(n)))}}}(n))},addRequestInterceptor:function(n){t.pP(n)},removeRequestInterceptor:function(n){t.kP(n)},addResponseInterceptor:function(n){t.TP(n)},removeResponseInterceptor:function(n){t.SP(n)},addEventListener:function(n,e){t.Mu(n,e)},removeEventListener:function(n,e){t.Hu(n,e)}})),this.Qd}},{key:"vy",get:function(){return this.CP.vy}},{key:"xP",get:function(){return this.yO.xP}}]),n}(oc);ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),(nN=tN||(tN={})).PERFORMANCE="performance",nN.QUALITY="quality",nN.BANDWIDTH="bandwidth",ki(),Vt();ki(),Vt();var iN={type:tN.BANDWIDTH};function rN(t){var n,e,i,r=uy(iN);return gr(t)?r.type=uN(t):lr(t)&&function(t){switch(t){case tN.PERFORMANCE:case tN.QUALITY:case tN.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=uN(t.type)),lr(t)&&lr(t.metadata)&&(r.metadata=(n=t.metadata,e={},i=hy(n.bitrate),g(i)||(e.bitrate=i),e)),r}function uN(t){switch(t){case"bandwidth":return tN.BANDWIDTH;case"performance":return tN.PERFORMANCE;case"quality":return tN.QUALITY}}function oN(t){return{get strategy(){return{metadata:(n=t.UP).metadata,type:n.type};var n},set strategy(n){t.UP=rN(n)},get targetBuffer(){return t.VP},set targetBuffer(n){var e=hy(n);g(e)||(t.VP=e)},get bufferLookbackWindow(){return t.HP},set bufferLookbackWindow(n){var e=hy(n);g(e)||(t.HP=e<=0?30:e)},get maxBufferLength(){return t.qP}}}ki(),Vt();var sN=function(t){function n(n){var e;return(e=t.call(this,"zP")||this).VP=n,e}return Xi(n,t),n}(fc);ki(),Vt();var aN=function(t){function n(n){var e;return(e=t.call(this,"WP")||this).UP=n,e}return Xi(n,t),n}(fc);ki(),Vt();var cN=function(t){function n(n){var e;return(e=t.call(this,"jP")||this).HP=n,e}return Xi(n,t),n}(fc),fN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Qd=oN(Na(n)),n.GP=iN,n.YP=20,n.XP=30,n.$P=1/0,n.KP=void 0,n}Xi(n,t);var e=n.prototype;return e.JP=function(t){this.ZP=t},e.PP=function(t){this.KP=t},e.QP=function(t){var n=d.min(t,.8*this.$P);if(n=d.max(10,n),this.$P===n)return!1;var e=this.tx;this.$P=n;var i=this.tx;return i!==e&&this.Bu(new sN(i)),!0},Ii(n,[{key:"nx",get:function(){switch(this.GP.type){case tN.PERFORMANCE:return 0;case tN.QUALITY:return 1/0;case tN.BANDWIDTH:return this.GP.metadata&&void 0!==this.GP.metadata.bitrate?this.GP.metadata.bitrate:8*Vy.Iw();default:return 8*Vy.Iw()}}},{key:"tl",get:function(){return this.Qd}},{key:"UP",get:function(){return this.GP},set:function(t){this.GP=t,this.Bu(new aN(t))}},{key:"VP",get:function(){return this.YP},set:function(t){this.YP=t,this.Bu(new sN(t))}},{key:"tx",get:function(){return d.min(this.YP,this.$P)}},{key:"HP",get:function(){return this.XP},set:function(t){this.XP=t,this.Bu(new cN(t))}},{key:"qP",get:function(){return this.$P}},{key:"xP",get:function(){var t;return null!=(t=this.KP)?t:this.ZP.KR}}]),n}(oc);Ti(),ki(),Vt(),Ri(),ki(),Vt();var hN=function(t){function n(){return t.call(this,"gl")}return Xi(n,t),n.prototype.nl=function(){return new vN},n}(qg),vN=function(t){function n(){return t.call(this,"change")}return Xi(n,t),n}(fc);ki(),Vt(),ki(),Vt();var dN=function(t){function n(n,e,i){var r;(r=t.call(this,i)||this).ix=function(t){zg(t)&&Qa((function(){r.Bu(t.tl)}))},r.ux=n,r.KA=e;for(var u=0,o=r.KA;u<o.length;u++){var s=o[u];r.ux.Mu(s,r.ix)}return r}return Xi(n,t),n.prototype.kn=function(){this.Vu();for(var t=0,n=this.KA;t<n.length;t++){var e=n[t];this.ux.Hu(e,this.ix)}},n}(oc),lN=function(t){function n(n,e){var i;return(i=t.call(this,e)||this).ix=function(t){zg(t)&&Qa((function(){i.Bu(t.tl)}))},i.ux=n,i.ux.Uu(i.ix),i}return Xi(n,t),n.prototype.kn=function(){this.Vu(),this.ux.Wu(this.ix)},n}(xy);var wN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Wy=0,n.jy=1/0,n}Xi(n,t);var e=n.prototype;return e.ic=function(){0===this.Wy&&this.jy===1/0||(this.Wy=0,this.jy=1/0,this.Bu(new hN))},e.ox=function(){return new nE([this.Fy,this.Uy],[!0,!0])},Ii(n,[{key:"Fy",get:function(){return this.Wy},set:function(t){if(this.Uy<=t)throw new f("Start time of a clip should be smaller than the end time.");this.Wy!==t&&(this.Wy=t,this.Bu(new hN))}},{key:"Uy",get:function(){return this.jy},set:function(t){if(t<=this.Fy)throw new f("End time of a clip should be larger than the start time.");this.jy!==t&&(this.jy=t,this.Bu(new hN))}},{key:"tl",get:function(){var t,n,e;return this.Qd||(this.Qd=(e={get startTime(){return t.Fy},set startTime(n){t.Fy=n},get endTime(){return t.Uy},set endTime(n){t.Uy=n},addEventListener:function(t,e){n.Mu(t,e)},removeEventListener:function(t,e){n.Hu(t,e)}},n=new lN(t=this,e),e)),this.Qd}}]),n}(xy);ki(),Vt(),Ri(),ki(),Vt(),Ri();var gN=function(t){function n(n){var e;return(e=t.call(this)||this).sx=n,e.hx=function(t){e.vx(t)||e.Bu(t)},e.sx.Uu(e.hx),e}Xi(n,t);var e=n.prototype;return e.lx=function(){return this.sx.Ng},e.Wg=function(){return this.sx.Wg()},e.wx=function(){return this.sx.Jg},e.gx=function(){return this.sx.Xg},e.yx=function(){return this.sx.Zg},e.mx=function(t){this.sx.Zg=t},e._x=function(){return this.sx.Yw},e.bx=function(t){this.sx.Yw=t},e.kx=function(){return this.sx.Xw},e.Tx=function(){return this.sx.Qg},e.Sx=function(){return this.sx.$w},e.Ex=function(){return this.sx.Ju},e.Ix=function(){return this.sx.Kw},e.Rx=function(){return this.sx.ty},e.Nx=function(){return this.sx.Jw},e.Ox=function(t){this.sx.Jw=t},e.Cx=function(){return this.sx.vy},e.Ax=function(){return this.sx.Zw},e.Dx=function(){return this.sx.Qw},e.Px=function(t){this.sx.Qw=t},e.xx=function(){return this.sx.ly},e.Bx=function(){return this.sx.wy},e.Lx=function(t){this.sx.wy=t},e.Mx=function(){return this.sx.fw},e.Fx=function(){return this.sx.gy},e.Ux=function(){return this.sx.tg},e.Pg=function(){return this.sx.Pg()},e.xg=function(t,n){var e=this;return Ms((function(){return Us(this,(function(i){switch(i.label){case 0:return Ya(n),[4,e.sx.xg(t,n)];case 1:return i.sent(),[2]}}))}))()},e.Vx=function(){return this.sx.Cg},e.Hx=function(){return this.sx.ng},e.qx=function(){return this.sx.Og},e.zx=function(){return this.sx.eg},e.Wx=function(){return this.sx.ig},e.jx=function(t){this.sx.ig=t},e.zg=function(){return this.sx.zg()},e.qg=function(){return this.sx.qg()},e.Fg=function(t){this.sx.Fg(t)},e.Ug=function(){this.sx.Ug()},e.Hg=function(){this.sx.Hg()},e.En=function(){this.sx.En()},e.yn=function(){this.sx.yn()},e.gn=function(){this.sx.gn()},e.Vg=function(){this.sx.Vg()},e.Dg=function(){return this.sx.Dg()},e.Bg=function(){return this.sx.Bg()},e.Lg=function(){this.sx.Lg()},e.Mg=function(){this.sx.Mg()},e.ic=function(){return this.sx.ic()},e.kn=function(){return this.sx.kn()},e.$g=function(){this.sx.$g()},e.Kg=function(){this.sx.Kg()},e.jg=function(t){return this.sx.jg(t)},e.vx=function(t){return!1},Ii(n,[{key:"Ng",get:function(){return this.lx()}},{key:"Jg",get:function(){return this.wx()}},{key:"Zg",get:function(){return this.yx()},set:function(t){this.mx(t)}},{key:"Xg",get:function(){return this.gx()}},{key:"Yw",get:function(){return this._x()},set:function(t){this.bx(t)}},{key:"Xw",get:function(){return this.kx()}},{key:"Qg",get:function(){return this.Tx()}},{key:"$w",get:function(){return this.Sx()}},{key:"Ju",get:function(){return this.Ex()}},{key:"Kw",get:function(){return this.Ix()}},{key:"Ag",get:function(){return this.sx.Ag}},{key:"ty",get:function(){return this.Rx()}},{key:"ny",get:function(){return this.sx.ny}},{key:"Jw",get:function(){return this.Nx()},set:function(t){this.Ox(t)}},{key:"vy",get:function(){return this.Cx()}},{key:"Zw",get:function(){return this.Ax()}},{key:"Qw",get:function(){return this.Dx()},set:function(t){this.Px(t)}},{key:"ly",get:function(){return this.xx()}},{key:"wy",get:function(){return this.Bx()},set:function(t){this.Lx(t)}},{key:"fw",get:function(){return this.Mx()}},{key:"gy",get:function(){return this.Fx()}},{key:"tg",get:function(){return this.Ux()}},{key:"Cg",get:function(){return this.Vx()}},{key:"ng",get:function(){return this.Hx()}},{key:"Og",get:function(){return this.qx()}},{key:"eg",get:function(){return this.zx()}},{key:"ig",get:function(){return this.Wx()},set:function(t){this.jx(t)}},{key:"yy",get:function(){return this.sx.yy}},{key:"my",get:function(){return this.sx.my},set:function(t){this.sx.my=t}}]),n}(By),yN=function(t){function n(e,i){var r;return(r=t.call(this,e)||this).Gx=!1,r.Yx=void 0,r.Xx=!1,r.$x=function(){r.Kx(),r.Jx()},r.uR=function(){r.Zx(),r.Jx(),r.Qx&&r.Yw>=r.tB.Uy-n.nB&&!r.$w&&(r.Yx=AR(r.uR))},r.eB=function(){r.Xx=!0},r.iB=function(){r.Xx&&(r.Xx=!1,r.Jx())},r.tB=i,r.tB.Mu("gl",r.$x),r.sx.Mu("timeupdate",r.uR),r}Xi(n,t);var e=n.prototype;return e.bx=function(n){var e=this.tB.ox().xN(n);t.prototype.bx.call(this,e),this.Jx()},e.Sx=function(){return t.prototype.Sx.call(this)||this.Gx},e.Fx=function(){return nE.nO(t.prototype.Fx.call(this)).BN(this.tB.ox()).GR()},e.gn=function(){this.Sx()?this.bx(this.rB.start(0)):this.Kx(),t.prototype.gn.call(this),this.Jx()},e.xg=function(n,e){var i=this;return Ms((function(){return Us(this,(function(r){switch(r.label){case 0:return Ya(e),i.Gx=!1,i.tB.ic(),[4,t.prototype.xg.call(i,n,e)];case 1:return r.sent(),[2]}}))}))()},e.kn=function(){return this.tB.Hu("gl",this.$x),this.sx.Hu("timeupdate",this.uR),this.Zx(),t.prototype.kn.call(this)},e.vx=function(n){switch(n.type){case"seeking":return this.Bu(n),this.eB(),!0;case"seeked":case"emptied":return this.Bu(n),this.iB(),!0;case"ended":if(this.Qx)return!0}return t.prototype.vx.call(this,n)},e.Zx=function(){this.Yx&&(DR(this.Yx),this.Yx=void 0)},e.Jx=function(){var t=this.Yw,e=this.Qx&&t>=this.tB.Uy-n.g_;this.Gx&&!e?(this.Gx=!1,this.Zw&&this.gn()):this.Gx||!e||this.tg||this.Xx||(this.Gx=!0,this.Bu(new Nm(t)),this.yn())},e.Kx=function(){if(this.Xw!==1/0){var t=this.rB,e=nE.nO(t).xN(this.Yw);su(this.Yw,e,n.g_)||this.bx(e)}},Ii(n,[{key:"rB",get:function(){return this.Fx().length?this.Fx():this.tB.ox().GR()}},{key:"Qx",get:function(){return this.tB.Uy<this.Xw}}]),n}(gN);yN.nB=1,yN.g_=.001,ki(),Vt(),Ri();var mN=function(){function t(){this.uB=!1}return Ii(t,[{key:"oB",get:function(){return this.uB},set:function(t){this.uB=t}}]),t}();ki(),Vt();var _N=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).sB=!1,i.aB=!1,i.uB=e,i}Xi(n,t);var e=n.prototype;return e.Sx=function(){return!this.uB.oB&&t.prototype.Sx.call(this)},e.yn=function(){this.aB=!0,t.prototype.yn.call(this)},e.gn=function(){this.aB=!1,t.prototype.gn.call(this)},e.vx=function(n){if(this.uB.oB)switch(n.type){case"ended":return this.Yw=0,this.aB||(this.tg?this.sB=!0:this.gn()),!0;case"seeked":this.sB&&(this.sB=!1,this.gn());break;case"pause":if(this.sB||t.prototype.Sx.call(this))return!0}return t.prototype.vx.call(this,n)},n}(gN);ki(),Vt(),Ri(),ki(),Vt();var pN=function(){function t(t){var n;this.bN=t,this.Qd=(n=this,{get currentBandwidthEstimate(){return n.oy},get corruptedVideoFrames(){return n.iy},get droppedVideoFrames(){return n.ey},get totalBytesLoaded(){return n.sy},get bufferedSegments(){return n.hy}})}return Ii(t,[{key:"tl",get:function(){return this.Qd}},{key:"iy",get:function(){return this.bN.cB.ny.iy}},{key:"oy",get:function(){return this.bN.cB.ny.oy}},{key:"ey",get:function(){return this.bN.cB.ny.ey}},{key:"fB",get:function(){throw new f("Not implemented")}},{key:"hB",get:function(){throw new f("Not implemented")}},{key:"sy",get:function(){return this.bN.cB.ny.sy}},{key:"uy",get:function(){return this.bN.cB.ny.uy}},{key:"hy",get:function(){return this.bN.cB.ny.hy}}]),t}();ki(),Vt(),Ri(),ki(),Vt();var bN=function(t){function n(){return t.call(this,"vB")}return Xi(n,t),n.prototype.nl=function(){return new kN},n}(qg),kN=function(t){function n(){return t.call(this,"castingchange")}return Xi(n,t),n}(fc);ki(),Vt();var TN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).dB=[],n.lB=!1,n.Qd=void 0,n.wB=function(){var t=n.lB,e=n.gB;t!==e&&(n.lB=e,n.Bu(new bN))},n}Xi(n,t);var e=n.prototype;return e.yB=function(t){this.dB.push(t),t.Mu("statechange",this.wB)},e.kn=function(){for(var t=0,n=this.dB;t<n.length;t++){n[t].Hu("statechange",this.wB)}Va(this.dB)},Ii(n,[{key:"gB",get:function(){return this.dB.some((function(t){return t.gB}))}},{key:"tl",get:function(){var t,n,e;return this.Qd||(this.Qd=(e={get casting(){return t.gB},addEventListener:function(t,e){n.Mu(t,e)},removeEventListener:function(t,e){n.Hu(t,e)}},n=new dN(t=this,["vB"],e),e)),this.Qd}}]),n}(oc);ki(),Vt(),ki(),Vt();var SN=function(){function t(){}return t.mB=function(t,n){return Ms((function(){var e;return Us(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e=new Dl({Nh:t,Th:Xd.Jf,Yh:Tl.GET}),[4,n.Ih(e)];case 1:return[4,i.sent().Ch()];case 2:return[2,i.sent().trim()];case 3:return Ga(i.sent()),[2,void 0];case 4:return[2]}}))}))()},t._B=function(t){try{var n=zI(t);return new JI(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new Sd(md.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.pB=function(t){void 0===t&&(t=OI.z_),Wi.pr("The baked-in license is used. Please update the configuration with your license.");var n=t.jC('.$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl""'),e=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.jC(n)})),i=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.jC(n)})),r=Number(new Date(Number(t.jC('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.jC(n)}));return new JI(n,e,i,r,u)},t.convertLicenseToDummyLicense=function(t){return new JI(t.tA,t.nA,t.eA,864e13,t.rA,t.uA,Date.now(),t.sA,t.aA)},t}();ki(),Vt();var EN=function(){function t(){}return t.uf=function(){return t.ki||(t.ki=IN.cc()?new IN:new Hd),t.ki},t.fo=function(n){t.uf().fo(n)},t.if=function(){t.uf().if()},t.so=function(n){return t.uf().so(n)},t.rf=function(n,e){t.uf().rf(n,e)},t.bB=function(n){var e=t.so(n);if(void 0!==e)return w(e)},t.kB=function(n){return"true"===t.so(n)},t}();EN.ki=void 0;var IN=function(n){function e(){return n.apply(this,arguments)}Xi(e,n);var i=e.prototype;return i.fo=function(n){t.localStorage.removeItem(n)},i.if=function(){t.localStorage.clear()},i.so=function(n){return t.localStorage[n]},i.rf=function(n,e){t.localStorage[n]=e},e.cc=function(){var n="foobar";try{return t.localStorage.setItem(n,n),t.localStorage.removeItem(n),!0}catch(t){}return!1},e}(EN),RN="https://validate.theoplayer.com/1/",NN=72e5,ON=d.floor(14399999*d.random()-NN),CN="THEOplayer.license",AN=function(){function t(t,n,e,i,r,u){this._S=t,this.TB=n,this.SB=e,this.GA=i,this.EB=r,this.hs=u,this.lA=rR(u)}var n=t.prototype;return n.IB=function(){var t=this;return Ms((function(){var n;return Us(this,(function(e){switch(e.label){case 0:return[4,t.RB(t.EB.license,t.EB.licenseUrl)];case 1:return n=e.sent(),t.GA.NB(n),[2]}}))}))()},n.RB=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s,a,c,f;return Us(this,(function(h){switch(h.label){case 0:return i=n,t?r=SN._B(t):i||(r=SN.pB()),i||(i=RN+r.tA),u=e.OB(),r?(o=e.TB.bA(r))!==jI.JC?[3,3]:e.CB(r.iA)&&e.CB(null==u?void 0:u.iA)?[4,e.AB(i)]:[3,2]:[3,3];case 1:if(s=h.sent())return[2,s];h.label=2;case 2:return[2,r];case 3:return u?e.TB.bA(u)!==jI.JC?[3,6]:e.CB(null==u?void 0:u.iA)?[4,e.AB(i)]:[3,5]:[3,7];case 4:if(a=h.sent())return[2,a];h.label=5;case 5:return[2,u];case 6:EN.fo(CN),h.label=7;case 7:return[4,SN.mB(i,e._S)];case 8:if(c=h.sent()){if(f=SN._B(c),e.TB.bA(f)===jI.JC)return EN.rf(CN,c),[2,f];EN.fo(CN)}else if(!e.lA&&r&&o===jI.ZC&&i===RN+r.tA)return[2,SN.convertLicenseToDummyLicense(r)];if(!r&&!f)throw new Sd(md.LICENSE_ERROR,"The given license is invalid!");return e.DB(null!=r?r:f,new Sd(md.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.wA=function(t){var n=this;return Ms((function(){var e,i,r,u,o,s,a;return Us(this,(function(c){switch(c.label){case 0:return[4,n.GA.uD()];case 1:return e=c.sent(),n.CB(e.iA)?(r=null!=(i=n.EB.licenseUrl)?i:RN+e.tA,[4,n.AB(r)]):[3,3];case 2:(u=c.sent())&&(n.GA.NB(u),e=u),c.label=3;case 3:try{if((o=n.TB.bA(e))===jI.QC)throw s=$I.cA,new Sd(QI(s),sR._A(s));if(o===jI.ZC)throw a=$I.ZC,new Sd(QI(a),sR._A(a));n.TB.wA(t,e)}catch(t){n.PB(t)}return[2]}}))}))()},n.pA=function(t){var n=this;return Ms((function(){var e;return Us(this,(function(i){switch(i.label){case 0:return[4,n.GA.uD()];case 1:e=i.sent();try{n.TB.pA(t,e)}catch(t){n.PB(t)}return[2]}}))}))()},n.AB=function(t){var n=this;return Ms((function(){var e,i;return Us(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,SN.mB(t,n._S)];case 1:return void 0===(e=r.sent())?[2,void 0]:(i=SN._B(e),n.TB.bA(i)===jI.JC?(EN.rf(CN,e),[2,i]):[2,void 0]);case 2:return r.sent(),[2,void 0];case 3:return[2]}}))}))()},n.CB=function(t){return!t||Number(new Date)+2592e5+ON>=t},n.OB=function(){var t=EN.so(CN);if(t)return SN._B(t)},n.DB=function(t,n){this.GA.NB(t),this.PB(n)},n.PB=function(t){throw Ar(t.message),this.SB.aD(t.message),t},t}();ki(),Vt(),Ri();var DN=function(){function t(){this.xB=new mf}var n=t.prototype;return n.NB=function(t){this.BB=t,this.xB.ko()},n.uD=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return t.BB?[2,G.resolve(t.BB)]:[4,t.xB.bo];case 1:return n.sent(),[2,t.BB]}}))}))()},Ii(t,[{key:"LB",get:function(){return this.BB}}]),t}();ki(),Vt(),Ri(),ki(),Vt();var PN=function(t){function n(){return t.call(this,"gl")}return Xi(n,t),n.prototype.nl=function(){return new xN},n}(qg),xN=function(t){function n(){return t.call(this,"change")}return Xi(n,t),n}(fc);function BN(t){var n,e={get fontFamily(){return t.MB},set fontFamily(n){t.MB=n},get fontColor(){return t.FB},set fontColor(n){t.FB=n},get fontSize(){return t.UB},set fontSize(n){t.UB=n},get backgroundColor(){return t.VB},set backgroundColor(n){t.VB=n},get windowColor(){return t.HB},set windowColor(n){t.HB=n},get edgeStyle(){return t.qB},set edgeStyle(n){t.qB=n},get marginTop(){return t.zB},set marginTop(n){t.zB=n},get marginBottom(){return t.WB},set marginBottom(n){t.WB=n},get marginLeft(){return t.jB},set marginLeft(n){t.jB=n},get marginRight(){return t.GB},set marginRight(n){t.GB=n},addEventListener:function(t,e){var i=wy(t,dy);n.Mu(i,e)},removeEventListener:function(t,e){var i=wy(t,dy);n.Hu(i,e)}};return n=new sc(e),t.Mu(["gl"],(function(t){return n.Bu(t.tl)})),e}ki(),Vt();var LN={MB:void 0,FB:void 0,UB:void 0,VB:void 0,HB:void 0,qB:void 0,YB:void 0,zB:void 0,WB:void 0,jB:void 0,GB:void 0},MN="THEOplayer.textTrackStyle.",FN=function(t){function n(){var e;return(e=t.call(this)||this).Qd=void 0,e.XB=n.$B(),e}return Xi(n,t),n.prototype.Wa=function(t){this.XB=Fs({},this.XB,t),n.KB(this.XB),this.Bu(new PN)},n.$B=function(){var t=Fs({},LN);return t.MB=EN.so(MN+"fontFamily")||t.MB,t.FB=EN.so(MN+"fontColor")||t.FB,t.UB=EN.so(MN+"fontSize")||t.UB,t.VB=EN.so(MN+"backgroundColor")||t.VB,t.HB=EN.so(MN+"windowColor")||t.HB,t.qB=EN.so(MN+"edgeStyle")||t.qB,t},n.KB=function(t){EN.rf(MN+"fontFamily",t.MB||""),EN.rf(MN+"fontColor",t.FB||""),EN.rf(MN+"fontSize",t.UB||""),EN.rf(MN+"backgroundColor",t.VB||""),EN.rf(MN+"windowColor",t.HB||""),EN.rf(MN+"edgeStyle",t.qB||"")},Ii(n,[{key:"JB",get:function(){return this.XB}},{key:"MB",get:function(){return this.XB.MB},set:function(t){this.Wa({MB:t})}},{key:"FB",get:function(){return this.XB.FB},set:function(t){this.Wa({FB:t})}},{key:"UB",get:function(){return this.XB.UB},set:function(t){this.Wa({UB:t})}},{key:"VB",get:function(){return this.XB.VB},set:function(t){this.Wa({VB:t})}},{key:"HB",get:function(){return this.XB.HB},set:function(t){this.Wa({HB:t})}},{key:"qB",get:function(){return this.XB.qB},set:function(t){this.Wa({qB:t})}},{key:"YB",get:function(){return this.XB.YB}},{key:"zB",get:function(){return this.XB.zB},set:function(t){this.Wa({zB:t})}},{key:"WB",get:function(){return this.XB.WB},set:function(t){this.Wa({WB:t})}},{key:"GB",get:function(){return this.XB.GB},set:function(t){this.Wa({GB:t})}},{key:"jB",get:function(){return this.XB.jB},set:function(t){this.Wa({jB:t})}},{key:"tl",get:function(){return this.Qd||(this.Qd=BN(this)),this.Qd}}]),n}(oc);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();Gd.Cf,Gd.Of,pm.Gw,Gd.zf,Gd.Af,Gd.Sf,Gd.Lf,Gd.Bf,Gd.yf,Gd.Df,Gd.Wf,Gd.wf,pm.yl,Gd.xf,Ry.ew,ac.Zu,ac.eo,Gd.vf,Gd.hf,Gd.jf,Gd.pf,Gd.kf;var UN,VN,HN,qN,zN={ZB:!1};ki(),Vt(),(UN||(UN={})).QB="tL",(HN=VN||(VN={}))[HN.nL=0]="nL",HN[HN.Kf=1]="Kf",HN[HN.eL=2]="eL",ki(),Vt(),ki(),Vt(),(qN||(qN={})).MC="iL",ki(),Vt();var WN=function(t){function n(n){var e;return(e=t.call(this,Gd.Af)||this).currentTime=n,e}return Xi(n,t),n}(fc);ki(),Vt();var jN,GN,YN,XN,$N,KN,JN,ZN,QN,tO,nO,eO=function(t){function n(){return t.call(this,Gd.Sf)}return Xi(n,t),n}(fc);ki(),Vt(),ki(),Vt(),(jN||(jN={})).rL="uL",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(YN=GN||(GN={}))[YN.oL=0]="oL",YN[YN.sL=1]="sL",YN[YN.aL=2]="aL",ki(),Vt(),ki(),Vt(),ki(),Vt(),($N=XN||(XN={}))[$N.cL=3]="cL",$N[$N.fL=4]="fL",$N[$N.hL=5]="hL",(JN=KN||(KN={}))[JN.vL=64]="vL",JN[JN.dL=103]="dL",JN[JN.lL=107]="lL",ki(),Vt(),ki(),Vt(),(QN=ZN||(ZN={}))[QN.wL=0]="wL",QN[QN.gL=1]="gL",QN[QN.dL=2]="dL",QN[QN.yL=5]="yL",QN[QN.mL=34]="mL",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(nO=tO||(tO={}))[nO._L=1]="_L",nO[nO.pL=2]="pL",nO[nO.bL=3]="bL",nO[nO.kL=4]="kL",nO[nO.TL=5]="TL",nO[nO.SL=6]="SL",nO[nO.EL=7]="EL",nO[nO.IL=8]="IL",nO[nO.RL=9]="RL",ki(),Vt();sr.ai;ki(),Vt(),ki(),Vt(),ki(),Vt();ki(),Vt();Gd.Cf,Gd.Of,Gd.Lf,Gd.Bf,Gd.pf,Gd.kf,Gd.yf,Gd.Df,pm.yl,Ry.ew;ki(),Vt();var iO,rO;sr.ei||sr.ii;(rO=iO||(iO={})).NL="closed",rO.cv="open",rO.yf="ended",ki(),Vt(),ki(),Vt();Gd.Wf,Gd.Df,Gd.Lf,Gd.pf,Gd.Cf,Gd.Of;ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();pm.yl,Gd.Cf,Gd.Of,Gd.Lf,Gd.Bf,Gd.pf,Gd.kf,Gd.yf,Ry.ew;function uO(t,n){return t.Fy<=n&&t.Uy>n}function oO(t,n){return function(t,n){return Pa(t.Fy,n.Fy,q_)}(t,n)||function(t,n){return Pa(t.Uy,n.Uy,q_)}(t,n)}function sO(t,n){var e=function(t,n,e,i,r,u,o){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,a=o-1;s<=a;){var c=s+(a-s>>1),f=i(e(t[c]),n);if(f<0)s=c+1;else if(f>0)a=c-1;else{if(!(r&&c>u&&0===i(e(t[c-1]),n)))return c;a=c-1}}return~s}(t,n,br,oO,!0);if(e<0)return e;for(;e<t.length&&oO(n,t[e])===Ea.lu;e++)if(t[e].Xy(n))return e;return-(e+1)}function aO(t){var n=t.il;if(!n)return-1;if(t instanceof z_)return n.OL(t);var e=n.hw;if(!e)return-1;var i=sO(e.Al,t);return i>=0?i:-1}ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri();var cO=function(){function t(t){this.Qd=void 0,this.CL=t}var n=t.prototype;return n.nl=function(){return function(t){for(var n=[],e=0;e<t.Dl;e++)n[e]=t.so(e).tl;return n.item=function(n){var e=0|n,i=t.so(e);return i&&i.tl||void 0},v.defineProperty(n,"constructor",{value:U_}),n}(this)},n.by=function(t){for(var n=this.CL,e=n.length-1;e>=0;e-=1){var i=n[e];if(t.Xy(i))return!0}return!1},n.so=function(t){return this.CL[t]},Ii(t,[{key:"Al",get:function(){return this.CL}},{key:"Dl",get:function(){return this.CL.length}},{key:"tl",get:function(){if(this.Qd){var t=this.CL;this.Qd.length=t.length;for(var n=0;n<t.length;n++)this.Qd[n]=t[n].tl}else this.Qd=this.nl();return this.Qd}}]),t}();ki(),Vt();var fO=function(t){function n(n,e){var i;return(i=t.call(this,Xg.yl)||this).il=n,i.fw=e,i}return Xi(n,t),n.prototype.nl=function(){return new hO(this.il.tl,this.fw)},n}(Wg),hO=function(t){function n(n,e){var i;return(i=t.call(this,"readystatechange")||this).track=n,i.readyState=e,i}return Xi(n,t),n}(jg);ki(),Vt();var vO=function(t){function n(n){var e;return(e=t.call(this,Xg._l)||this).il=n,e}return Xi(n,t),n.prototype.nl=function(){return new dO(this.il.tl)},n}(Wg),dO=function(t){function n(n){var e;return(e=t.call(this,"typechange")||this).track=n,e}return Xi(n,t),n}(jg);ki(),Vt();var lO=function(t){function n(n){var e;return(e=t.call(this,Xg.ul)||this).My=n,e}return Xi(n,t),n.prototype.nl=function(){return new wO(this.My.tl)},n}(Wg),wO=function(t){function n(n){var e;return(e=t.call(this,"addcue")||this).cue=n,e}return Xi(n,t),n}(jg);ki(),Vt();var gO=function(t){function n(n){var e;return(e=t.call(this,Xg.sl)||this).My=n,e}return Xi(n,t),n.prototype.nl=function(){return new yO(this.My.tl)},n}(Wg),yO=function(t){function n(n){var e;return(e=t.call(this,"removecue")||this).cue=n,e}return Xi(n,t),n}(jg),mO=function(t){function n(n,e,i,r,u,o,s,a,c){var f;return(f=t.call(this)||this).Sy=k_(),f.AL=!1,f.FO=Ey.sw,f.DL=O_.NONE,f.PL=void 0,f.CL=[],f.xL=[],f.BL=0,f.LL=0,f.Ca=e||"",f.ML=a||"",f.FL=n,f.bs=r||"",f.AL=Boolean(u),f.UL=Boolean(s),f.Si=o||Jy.DEFAULT,f.Ey=i||"",f.VL=c||[],f.HL=new cO(f.CL),f.qL=new cO(f.xL),f}Xi(n,t);var e=n.prototype;return e.zL=function(t){return Ba(this.HL.Al,(function(n){return n.ql===t}))},e.nl=function(){return Cy(this)},e.GO=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}(t);n!==this.rw&&(this.FO=n,n===Ey.sw&&(this.xL.forEach((function(t){t.$y=!1})),Va(this.xL),this.LL=0),this.Bu(new Qg(this)))},e.TS=function(t){if(t&&!t.il){var n=sO(this.hw.Al,t);if(!(n>=0)){t.il=this;var e=-(n+1);this.CL.splice(e,0,t),this.WL(e),t.zy=e,e<this.LL&&(this.LL=e),this.Bu(new lO(t))}}},e.aS=function(t){if(t&&t.il===this){var n=this.OL(t);if(!(n<0)){t.$y=!1;var e=this.xL,i=sO(e,t);i>=0&&Fa(e,i),Fa(this.CL,n),this.WL(n),t.zy=-1,this.LL>n&&--this.LL,this.Bu(new gO(t))}}},e.jL=function(t,n){var e=this.xL,i=this.CL,r=this.LL,u=!1;n&&(r=0);for(var o=e.length-1;o>=0;o--){uO(e[o],t)||(u=!0,Fa(e,o))}for(;r<i.length&&i[r].Fy<=t;){var s=i[r];if(0===t)break;uO(s,t)&&!Ua(e,s)&&(u=!0,e.push(s)),r++}u&&Oa(e,oO),this.LL=r},e.OL=function(t){return(-1===t.zy||t.zy>=this.BL)&&this.GL(),t.zy},e.GL=function(){for(var t=this.CL,n=this.BL;n<t.length;n++)t[n].zy=n;this.BL=t.length},e.WL=function(t){t<this.BL&&(this.BL=t)},e.aw=function(t){this.cw||(this.rw=t)},e.kn=function(){this.Vu();for(var t=this.CL.slice(),n=0;n<t.length;n++){t[n].kn()}Va(this.CL),Va(this.xL)},Ii(n,[{key:"dw",get:function(){return this.qL}},{key:"hw",get:function(){return this.HL}},{key:"ES",get:function(){return this.AL},set:function(t){this.AL=t}},{key:"cw",get:function(){return this.UL}},{key:"tl",get:function(){return this.Qd||(this.Qd=this.nl()),this.Qd}},{key:"ql",get:function(){return this.Ca}},{key:"zl",get:function(){return this.Sy}},{key:"iw",get:function(){return this.ML},set:function(t){this.ML=t}},{key:"Wl",get:function(){return this.FL}},{key:"jl",get:function(){return this.Ey},set:function(t){t!==this.Ey&&(this.Ey=t,this.Bu(new __(this)))}},{key:"Yl",get:function(){return this.bs}},{key:"Gl",get:function(){return this.VL}},{key:"rw",get:function(){return this.FO},set:function(t){this.GO(t)}},{key:"fw",get:function(){return this.DL},set:function(t){this.DL!==t&&(this.DL=t,this.Bu(new fO(this,this.DL)))}},{key:"lw",get:function(){return this.PL},set:function(t){this.PL=t}},{key:"iu",get:function(){return this.Si},set:function(t){this.Si!==t&&(this.Si=t,this.Bu(new vO(this)))}}]),n}(oc);ki(),Vt(),ki(),Vt(),ki(),Vt();var _O=function(t){function n(n,e){var i;return(i=t.call(this,P_.Py,n)||this).s_=e,i}return Xi(n,t),n.prototype.nl=function(){return new pO(this.My.tl)},n}(L_),pO=function(t){function n(n){return t.call(this,"enter",n)}return Xi(n,t),n}(M_);ki(),Vt();var bO=function(t){function n(n,e){var i;return(i=t.call(this,P_.By,n)||this).s_=e,i}return Xi(n,t),n.prototype.nl=function(){return new kO(this.My.tl)},n}(L_),kO=function(t){function n(n){return t.call(this,"exit",n)}return Xi(n,t),n}(M_);ki(),Vt();var TO=function(t){function n(n){var e;return(e=t.call(this,Xg.cl)||this).My=n,e}return Xi(n,t),n.prototype.nl=function(){return new SO(this.My.tl)},n}(Wg),SO=function(t){function n(n){var e;return(e=t.call(this,"entercue")||this).cue=n,e}return Xi(n,t),n}(jg);ki(),Vt();var EO=function(t){function n(n){var e;return(e=t.call(this,Xg.hl)||this).My=n,e}return Xi(n,t),n.prototype.nl=function(){return new IO(this.My.tl)},n}(Wg),IO=function(t){function n(n){var e;return(e=t.call(this,"exitcue")||this).cue=n,e}return Xi(n,t),n}(jg);ki(),Vt();var RO,NO,OO,CO,AO=function(t){function n(n){var e;return(e=t.call(this,Xg.dl)||this).il=n,e}return Xi(n,t),n.prototype.nl=function(){return new DO(this.il.tl)},n}(Wg),DO=function(t){function n(n){var e;return(e=t.call(this,"cuechange")||this).track=n,e}return Xi(n,t),n}(jg);function PO(t,n,e){for(var i=t[n].Fy,r=n;r>=0&&t[r].Fy===i;r--)t[r].Uy=e}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(NO=RO||(RO={}))[NO.ISO_8859_1=0]="ISO_8859_1",NO[NO.UTF16_BOM=1]="UTF16_BOM",NO[NO.UTF16=2]="UTF16",NO[NO.UTF8=3]="UTF8",(CO=OO||(OO={}))[CO.V22=2]="V22",CO[CO.V23=3]="V23",CO[CO.V24=4]="V24",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();function xO(t,n){return Da(t.s_,n.s_)||function(t,n){return t.il===n.il?Aa(aO(t),aO(n)):Db(t.il,n.il)}(t.My,n.My)||function(t,n){return t===n?Ea.lu:t===P_.Py?Ea.gu:Ea.wu}(t.type,n.type)}var BO=function(){function t(t,n){var e=this;this.Sg=[],this.YL=0,this.XL=0,this.$L=[],this.KL=[],this.JL=!1,this.ZL=!1,this.QL=void 0,this.tM=function(){e.YL=0,e.nM(),e.eM()},this.iM=function(){e.nM(),e.eM()},this.rM=function(){e.ZL=!0,e.QL=e.bN.Yw,e.uM()},this.oM=function(){e.nM(),e.eM()},this.sM=function(){e.aM(),e.nM(),e.eM()},this.cM=function(t){Ua(e.KL,t.My)||e.KL.push(t.My),e.fM()},this.hM=function(t){Ma(e.$L,t.My),Ma(e.KL,t.My),e.fM()},this.vM=n,this.bN=t,t.Mu(Gd.zf,this.iM),t.Mu(Gd.Cf,this.iM),t.Mu(pm.Gw,this.iM),t.Mu(Gd.Of,this.iM),t.Mu(Gd.Lf,this.rM),t.Mu(Gd.Bf,this.oM),this.fM()}var n=t.prototype;return n.ic=function(){Va(this.$L);for(var t=0,n=this.Sg.slice();t<n.length;t++){var e=n[t];this.Ol(e)}this.uM(),this.YL=0,this.XL=0,this.JL=!1,this.ZL=!1,this.QL=void 0},n.Nl=function(t){if(!Ua(this.Sg,t)){if(this.Sg.push(t),t.Mu(Xg.ul,this.cM),t.Mu(Xg.sl,this.hM),t.Mu(Xg.wl,this.sM),t.hw.Dl>0){for(var n=0,e=t.hw.Al;n<e.length;n++){var i=e[n];this.KL.push(i)}this.fM()}this.aM()}},n.Ol=function(t){if(Ma(this.Sg,t)){if(t.Hu(Xg.ul,this.cM),t.Hu(Xg.sl,this.hM),t.Hu(Xg.wl,this.sM),t.hw.Dl>0){for(var n=0,e=t.hw.Al;n<e.length;n++){var i=e[n];Ma(this.$L,i),Ma(this.KL,i)}this.fM()}this.aM()}},n.aM=function(){this.JL=this.Sg.some((function(t){return t.rw!==Ey.sw}))},n.eM=function(){this.bN.tg||this.bN.Zw?this.uM():this.fM()},n.fM=function(){this.JL&&(this.YL||(this.YL=this.vM.H(this.tM)))},n.uM=function(){this.YL&&(this.vM.dM(this.YL),this.YL=0)},n.nM=function(){if(this.JL&&!this.bN.tg){var t,n=this.Sg,e=this.XL,i=null!=(t=this.QL)?t:this.bN.Yw,r=i-e<-.1,u=this.ZL||r;u&&i>e&&i-e<.1&&(u=!1),this.ZL=!1,this.QL=void 0;for(var o,s=[],a=0;a<n.length;a++){var c=n[a];if(c.rw!==Ey.sw){c.jL(i,u);for(var f=0,h=c.dw.Al;f<h.length;f++){var v=h[f];s.push(v)}}}if(u)o=this.$L;else{o=[];for(var l=0;l<n.length;l++){var w=n[l];w.rw!==Ey.sw&&Ab(w,e-hu,i,o)}}for(var g=o.length-1;g>=0;g--)Ua(s,o[g])&&Fa(o,g);var y=[];if(!u)for(var m=o.length-1;m>=0;m--){var _=o[m];_.Fy>e&&_.Uy<=i&&(y.push(_),Fa(o,m))}for(var p=0,b=this.KL;p<b.length;p++){Ma(y,b[p])}Va(this.KL);for(var k=[],T=[],S=0;S<y.length;S++){var E=y[S];E.$y||k.push(new _O(E,E.Fy)),k.push(new bO(E,d.max(E.Fy,E.Uy))),E.$y=!1}for(var I=0;I<o.length;I++){var R=o[I];R.$y&&(k.push(new bO(R,d.max(R.Fy,R.Uy))),R.$y=!1)}for(var N=0;N<s.length;N++){var O=s[N];O.$y||(k.push(new _O(O,O.Fy)),O.$y=!0)}k.sort(xO);for(var C=0;C<k.length;C++){var A=k[C],D=A.My;D.Bu(A);var P=D.il;P&&(A.type===P_.Py?P.Bu(new TO(D)):P.Bu(new EO(D)),Ua(T,P)||T.push(P))}T.sort(Db);for(var x=0;x<T.length;x++){var B=T[x];B.Bu(new AO(B))}this.XL=i,this.$L=s}},n.kn=function(){this.ic(),this.bN.Hu(Gd.zf,this.iM),this.bN.Hu(Gd.Cf,this.iM),this.bN.Hu(pm.Gw,this.iM),this.bN.Hu(Gd.Of,this.iM),this.bN.Hu(Gd.Lf,this.rM),this.bN.Hu(Gd.Bf,this.oM)},t}();ki(),Vt();var LO=function(){function t(){}var n=t.prototype;return n.H=function(t){return AR(t)},n.dM=function(t){DR(t)},t}(),MO=new LO,FO=function(t){function n(n,e){return void 0===e&&(e=MO),t.call(this,n,e)}return Xi(n,t),n}(BO);ki(),Vt(),ki(),Vt(),Ri();var UO=function(t){function n(n,e,i){return t.call(this,n,1/0,e,!1,i)}return Xi(n,t),n.prototype.Xy=function(n){return this===n||sy(this,n)&&t.prototype.Xy.call(this,n)&&(e=n,this.Vy===e.Vy);var e},Ii(n,[{key:"tl",get:function(){return this.Qd||(this.Qd=F_(this)),this.Qd}}]),n}(z_);ki(),Vt(),ki(),Vt();var VO=function(t){function n(n,e,i){return void 0===i&&(i=Jy.DEFAULT),t.call(this,kb.Hp,"",e||"","",!1,i,!1,n)}return Xi(n,t),n}(mO),HO=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).iu=Jy.ID3,i}Xi(n,t);var e=n.prototype;return e.TS=function(n){!function(t,n){if(0!==n.length){var e=n.length-1;if(n[e].Fy<t.Fy)PO(n,e,t.Fy);else{var i=n[0];if(i.Fy>t.Fy)t.Uy=i.Fy;else{var r=sO(n,t);if(!(r>=0)){var u=-(r+1),o=u-1;if(o>=0&&n[o].Fy<t.Fy&&PO(n,o,t.Fy),u<n.length){var s=n[u];t.Uy=s.Fy}}}}}}(n,this.CL),t.prototype.TS.call(this,n)},e.nl=function(){return Cy(this)},n}(VO);ki(),Vt();var qO=function(t){function n(n,e){var i;(i=t.call(this)||this).mS=n,i.lM=e,i.wM=new $s;var r=Na(i);return i.zI=Ms((function(t){var n;return Us(this,(function(e){switch(e.label){case 0:return(n=t.il).iu?[3,2]:[4,n.ju(Xg._l)];case 1:e.sent(),e.label=2;case 2:if(n.iu!==Jy.ID3)return[2];e.label=3;case 3:return 0!==n.hw.Dl?[3,5]:[4,n.ju(Xg.ul)];case 4:return e.sent(),[3,3];case 5:return r.gM(n),[2]}}))})),i.WI=function(t){var n=t.il;if(n.iu===Jy.ID3&&i.wM.has(n.zl)){var e=i.wM.get(n.zl);i.Ol(e),i.mS.SS(e),n.Hu(Xg.ul,i.yM)}},i.yM=function(t){zO(t.My)&&i.mM(t.My)},i._M(),i}Xi(n,t);var e=n.prototype;return e._M=function(){this.lM.Mu(Lg.$d,this.zI),this.lM.Mu(Lg.Jd,this.WI)},e.pM=function(){this.lM.Hu(Lg.$d,this.zI),this.lM.Hu(Lg.Jd,this.WI)},e.gM=function(t){var n=t.hw.Al[0];if(zO(n)){var e=function(t){var n=t.match(WO);if(!n)return;return{il:n[1],Yl:n[2]}}(n.Vy.description),i=e.il,r=e.Yl;if(!this.bM(i,r)){var u=this.mS.bS(kb.Up,t.ql,i,r,!1,Jy.TTML);this.Nl(u),this.wM.set(t.zl,u);for(var o=0,s=t.hw.Al;o<s.length;o++){var a=s[o];zO(a)&&this.mM(a)}t.Mu(Xg.ul,this.yM)}}},e.bM=function(t,n){return this.Bb.Al.some((function(e){return e.jl===t&&e.Yl===n}))},e.mM=function(t){if(t.il)for(var n=this.wM.get(t.il.zl),e=vb(t.Vy.text,0,{M_:0,F_:1/0,U_:t.Fy}),i=0;i<e.length;i++){var r=e[i];n.TS(r)}},e.ic=function(){var n=this;return Ms((function(){var e,i,r,u,o;return Us(this,(function(s){switch(s.label){case 0:for(e=0,i=n.lM.Al;e<i.length;e++)i[e].Hu(Xg.ul,n.yM);for(r=0,u=n.Bb.Al;r<u.length;r++)o=u[r],n.mS.SS(o);return n.wM.clear(),[4,t.prototype.ic.call(n)];case 1:return s.sent(),[2]}}))}))()},e.kn=function(){var n=this;return Ms((function(){return Us(this,(function(e){switch(e.label){case 0:return n.pM(),[4,t.prototype.kn.call(n)];case 1:return e.sent(),[2]}}))}))()},n}(Mb);function zO(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Vy)&&WO.test(n.description);var n}var WO=/^Track:(.+),Lang:(.+)$/;ki(),Vt(),Ri(),ki(),Vt(),Ri();var jO=function(t){function n(n){var e;return(e=t.call(this,Gd.hf)||this).errorObject=n,e}return Xi(n,t),Ii(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(fc);ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var GO=function(t){function n(){return t.call(this,Gd.vf)}return Xi(n,t),n}(fc);ki(),Vt();var YO=function(t){function n(n){var e;return(e=t.call(this,"Gf")||this).kM=n,e}return Xi(n,t),n}(fc),XO=new Ad,$O=function(t){function n(n){var e;return(e=t.call(this,"Va")||this).session=n,e}return Xi(n,t),n}(fc),KO=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).TM=n,r.SM=e,r.EM=i,r.IM=!1,r.RM=!1,r.xc=new Wa,r.La=function(t){if(!r.xc.Au.yu)switch(t.$u){case"license-request":case"license-renewal":r.sE(t.Xu,t.Ku).catch((function(t){return r.yc(t)}));break;default:r.yc(new d_(md.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.$u))}},r.NM=function(t){r.TM.Xa.ao((function(t,n){switch(t){case"usable":Wi.Tr((function(){r.RM=!0,r.Bu(new GO)}),100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":r.Bu(new YO(n))}}))},r.OM=function(t){r.yc(new d_(md.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.Mu("Xu",r.La),n.Mu("Yu",r.NM),n.Mu("Ju",r.OM),n.Ga.then((function(){return r.CM()})),r}Xi(n,t);var e=n.prototype;return e.Ha=function(){var t=this;return this.IM=!0,XO.Fc((function(n){return t.AM(n)}),this.xc.Au)},e.AM=function(t){var n=this;return Ms((function(){var e,i,r,u;return Us(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),Ya(t),[4,n.SM.tE(t)];case 1:return o.sent(),[4,n.SM.nE(n.EM.uu,n.EM.ro,t)];case 2:return e=o.sent(),[4,n.TM.Ha(n.EM.uu,n.EM.ro,e)];case 3:return o.sent(),[3,5];case 4:throw Xa(i=o.sent()),r=i instanceof kf?i.Eo:void 0,u=new d_(md.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",i,void 0,void 0,void 0,void 0,r),n.yc(u),u;case 5:return[2]}}))}))()},e.sE=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s,a;return Us(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return Nc(t,_f())}(t)?[4,e.SM.wE(new y(t),e.xc.Au)]:[3,2];case 1:return i=c.sent(),[3,4];case 2:return[4,e.SM.gE(new y(t),n,e.xc.Au)];case 3:i=c.sent(),c.label=4;case 4:return[3,6];case 5:if(Ga(r=c.sent()))return[2];throw r;case 6:if(e.xc.Au.yu)return[2];u=e.DM,o=new mf,e.DM=o,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,e.TM.Wa(i)];case 8:return c.sent(),[4,ic(100)];case 9:return c.sent(),[3,14];case 10:throw s=c.sent(),a=s instanceof kf?s.Eo:void 0,new d_(md.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.bo];case 12:c.sent(),c.label=13;case 13:return o.ko(),e.DM===o&&(e.DM=void 0),[7];case 14:return[2]}}))}))()},e.yc=function(t){var n=t instanceof d_?t:new d_(md.CONTENT_PROTECTION_ERROR,t.message,t);this.Bu(new jO(n)),this.Va()},e.CM=function(){this.TM.Hu("Xu",this.La),this.TM.Hu("Yu",this.NM),this.TM.Hu("Ju",this.OM),this.RM=!1,this.xc.Nu(),this.Bu(new $O(this))},e.Va=function(){var t=this;return Ms((function(){var n;return Us(this,(function(e){switch(e.label){case 0:t.Vu(),e.label=1;case 1:return void 0===(n=t.DM)?[3,3]:[4,n.bo];case 2:e.sent(),e.label=3;case 3:if(t.DM!==n)return[3,1];e.label=4;case 4:return t.CM(),[4,t.TM.Va().catch(pr)];case 5:return e.sent(),[2]}}))}))()},n}(oc);ki(),Vt();var JO=[Gd.vf,Gd.hf,Gd.jf],ZO=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).PM=[],r.xM=void 0,r.BM=[],r.LM=function(t){t.session.Hu(JO,r.xu),t.session.Hu("Va",r.LM),Ma(r.PM,t.session)},r.Da=n,r.Ka=e,r.MM=i,r}Xi(n,t);var e=n.prototype;return e.lE=function(){return this.MM.lE()},e.FM=function(t){return this.xM||(this.xM=this.UM(t)),this.xM},e.UM=function(t){var n=this;return Ms((function(){var e;return Us(this,(function(i){switch(i.label){case 0:return Ya(t),[4,n.MM.wE(new y(_f()),t)];case 1:if(e=i.sent(),Ya(t),!n.Ka)throw new f("Invalid MediaKeys when setting ServerCertificate");return[4,n.Ka.tc(e.buffer)];case 2:return i.sent(),[2]}}))}))()},e.VM=function(t){var n=this;return Ms((function(){var e,i;return Us(this,(function(r){switch(r.label){case 0:if(!n.Ka)throw new f("Invalid MediaKeys when creating KeySession");r.label=1;case 1:return r.trys.push([1,,3,4]),n.BM.push(t),[4,n.Ka.Qa("temporary")];case 2:return e=r.sent(),i=new KO(e,n.MM,t),n.PM.push(i),i.Mu(JO,n.xu),i.Mu("Va",n.LM),[2,i];case 3:return Ma(n.BM,t),[7];case 4:return[2]}}))}))()},e.HM=function(t){if(t.qM)return!1;for(var n=0,e=this.PM;n<e.length;n++){if(QO(e[n].EM,t))return!0}for(var i=0,r=this.BM;i<r.length;i++){if(QO(r[i],t))return!0}return!1},e.kn=function(){var t=this;return Ms((function(){var n;return Us(this,(function(e){switch(e.label){case 0:return t.Ka=void 0,t.Vu(),n=t.PM.slice(),Va(t.PM),[4,G.all(n.map((function(t){return t.Va()})))];case 1:return e.sent(),t.MM.ku(),[2]}}))}))()},Ii(n,[{key:"Ja",get:function(){return this.Da}}]),n}(oc);function QO(t,n){return!t.qM&&t.uu===n.uu&&Nc(t.ro,n.ro)}var tC=function(t){function n(n){var e;(e=t.call(this)||this).xc=new Wa,e.zM=new Ad,e.Sc=void 0,e.MM=void 0,e.ZI=void 0,e.Da=void 0;var i=Na(e);return e.WM=Ms((function(t){var n;return Us(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.jM(t.uu,t.ro,i.xc.Au)];case 1:return e.sent(),[3,3];case 2:return Ga(n=e.sent())||i.yc(n),[3,3];case 3:return[2]}}))})),e.pR=n,e.pR.Mu(ac.Zu,e.WM),e}Xi(n,t);var e=n.prototype;return e.qa=function(t,n){this.ZI=t,this.GM(n)},e.GM=function(t){this.Sc=t,this.YM(this.xc.Au).catch($a)},e.YM=function(t){var n=this;return Ms((function(){return Us(this,(function(e){switch(e.label){case 0:return Wi.Ur.Zi?[4,n.XM(t)]:[3,2];case 1:if(e.sent())return[2];e.label=2;case 2:return n.Sc&&n.Sc.$M?[4,n.KM(t)]:[3,4];case 3:return[2,e.sent()];case 4:return[2]}}))}))()},e.XM=function(t){var n=this;return Ms((function(){var e,i,r,u,o,s,a,c,f,h,v;return Us(this,(function(d){switch(d.label){case 0:if(!(null==(e=n.Sc)?void 0:e.OR))return[2,!1];r=!1,o=0,s=null!=(u=null==(i=n.Sc)?void 0:i.OR)?u:[],d.label=1;case 1:if(!(o<s.length))return[3,9];a=s[o],f=0,h=null!=(c=a.UI)?c:[],d.label=2;case 2:if(!(f<h.length))return[3,7];v=h[f],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.jM(a.Ja.uu,v,t)];case 4:return d.sent(),r=!0,[3,6];case 5:return Xa(d.sent()),[3,6];case 6:return f++,[3,2];case 7:if(r)return[2,!0];d.label=8;case 8:return o++,[3,1];case 9:return[2,!1]}}))}))()},e.jM=function(t,n,e){var i=this;return Ms((function(){var r,u,o,s,a,c,f,h,v,d;return Us(this,(function(l){switch(l.label){case 0:if(Ya(e),!n.byteLength)return[2];if(!i.Sc||!i.Sc.OR.length)throw new d_(md.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==Zs&&t!==ta&&t!==Qs)return[2];r=jk(t,n),u=i.Sc.OR,s=0,l.label=1;case 1:if(!(s<u.length))return[3,11];if(a=u[s],Ya(e),!(c=r[a.Ja.ou])||a.Ja.uu!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,i.JM(a,e)];case 3:return(f=l.sent()).lE()?[4,f.FM()]:[3,5];case 4:l.sent(),l.label=5;case 5:return h=i.pR.ty,v={uu:a.Ja.uu,ro:c,qM:h},i.ZM(f,v)?[4,f.VM(v)]:[3,8];case 6:return[4,l.sent().Ha()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return Xa(d=l.sent()),o=d,[3,10];case 10:return s++,[3,1];case 11:return[4,Wi.Rr()];case 12:throw l.sent()?new d_(md.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o):new d_(md.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o)}}))}))()},e.KM=function(t){var n=this;return Ms((function(){var e,i,r,u,o;return Us(this,(function(s){switch(s.label){case 0:if(!(i=null==(e=n.Sc)?void 0:e.OR))return[2];r=0,s.label=1;case 1:if(!(r<i.length))return[3,8];u=i[r],Ya(t),s.label=2;case 2:return s.trys.push([2,6,,7]),[4,n.JM(u,t)];case 3:return(o=s.sent()).lE()?[4,o.FM()]:[3,5];case 4:s.sent(),s.label=5;case 5:return[2];case 6:return Xa(s.sent()),[3,7];case 7:return r++,[3,1];case 8:return[2]}}))}))()},e.ZM=function(t,n){return Wi.Ur.Ji||this.pR.QM.ZB||!t.HM(n)},e.JM=function(t,n){var e=this;return this.zM.Fc((function(n){return e.tF(t,n)}),n)},e.tF=function(t,n){var e=this;return Ms((function(){var i,r,u,o,s,a;return Us(this,(function(c){switch(c.label){case 0:if(Ya(n),!e.Sc||!e.MM||!e.ZI)throw new f("Not initialized");if(e.Da){if(e.Da.Ja!==t.Ja)throw new f("Internal key system error");return[2,e.Da]}return i=e.MM,u=Fs({},t,{WR:t.WR.map((function(n){return Fs({},n,{persistentState:null!=(r=n.persistentState)?r:i.FE(t.Ja),ac:n.ac||i.ac(t.Ja)})}))}),[4,e.ZI.nF(u.Ja,u.WR)];case 1:return o=c.sent(),s=i.FI(u),(a=new ZO(u.Ja,o,s)).Mu([Gd.vf,Gd.hf,Gd.jf],e.xu),e.Da=a,[2,a]}}))}))()},e.yc=function(t){var n=t instanceof d_?t:new d_(md.CONTENT_PROTECTION_ERROR,t.message,t);this.Bu(new jO(n))},e.ic=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return t.ZI=void 0,t.Sc=void 0,t.xc.Nu(),t.xc=new Wa,[4,t.eF()];case 1:return n.sent(),[2]}}))}))()},e.eF=function(){var t=this;return Ms((function(){var n;return Us(this,(function(e){switch(e.label){case 0:return[4,t.zM.Nu()];case 1:return e.sent(),(n=t.Da)?(n.Hu(Gd.jf,t.xu),t.Da=void 0,[4,n.kn()]):[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))()},e.ku=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return t.Vu(),t.pR.Hu(ac.Zu,t.WM),[4,t.ic()];case 1:return n.sent(),[4,t.zM.kn()];case 2:return n.sent(),[2]}}))}))()},Ii(n,[{key:"iF",get:function(){var t;return null==(t=this.Da)?void 0:t.Ja}},{key:"ER",get:function(){return this.MM},set:function(t){this.MM=t}}]),n}(oc);ki(),Vt(),ki(),Vt(),ki(),Vt();sr.ei||sr.ii,sr.bi,sr.ai,sr.ai&&sr.qe;ki(),Vt(),Ri();var nC,eC,iC,rC;new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Qd=void 0,n}return Xi(n,t),Ii(n,[{key:"tl",get:function(){return this.Qd||(this.Qd=BN(this)),this.Qd}},{key:"MB",get:function(){}},{key:"FB",get:function(){}},{key:"UB",get:function(){}},{key:"VB",get:function(){}},{key:"HB",get:function(){}},{key:"qB",get:function(){}},{key:"YB",get:function(){}},{key:"zB",get:function(){}},{key:"WB",get:function(){}},{key:"jB",get:function(){}},{key:"GB",get:function(){}}]),n}(oc));ki(),Vt(),ki(),Vt(),Ti(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(eC=nC||(nC={})).rF='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',eC.uF='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',eC.oF='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',eC.sF='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',(rC=iC||(iC={})).BLACK="#000000",rC.WHITE="#FFFFFF",rC.GREEN="#00ff00",rC.BLUE="#0000ff",rC.CYAN="#00ffff",rC.RED="#ff0000",rC.YELLOW="#ffff00",rC.MAGENTA="#ff00ff",rC.TRANSPARENT="transparent";var uC,oC,sC,aC;(function(t){var n=qs();for(var e in t)ar.call(t,e)&&n.set(e,t[e])})({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif"}),iC.WHITE,iC.TRANSPARENT,iC.TRANSPARENT;ki(),Vt(),ki(),Vt(),Ti(),(oC=uC||(uC={})).aF="Data",oC.cF="Tag",oC.fF="StartTag",oC.hF="StartTagClass",oC.vF="StartTagAnnotation",oC.dF="CharRefInAnnotation",oC.lF="EndTag",oC.wF="TimestampTag",(aC=sC||(sC={})).gF="string",aC.yF="starttag",aC.mF="endtag",aC._F="timestamp",ki(),Vt(),ki(),Vt();var cC,fC,hC,vC;iC.WHITE,iC.TRANSPARENT;(fC=cC||(cC={}))[fC.POS_X=0]="POS_X",fC[fC.NEG_X=1]="NEG_X",fC[fC.POS_Y=2]="POS_Y",fC[fC.NEG_Y=3]="NEG_Y",ki(),Vt(),ki(),Vt(),ki(),Vt(),(vC=hC||(hC={})).FONT_REGULAR="regular",vC.FONT_UNDERLINE="underline",vC.FONT_ITALICS="italics",vC.FONT_UNDERLINE_ITALICS="underline-italics";var dC,lC,wC,gC;iC.WHITE,nC.oF,iC.BLACK,iC.WHITE,iC.WHITE,iC.GREEN,iC.GREEN,iC.BLUE,iC.BLUE,iC.CYAN,iC.CYAN,iC.RED,iC.RED,iC.YELLOW,iC.YELLOW,iC.MAGENTA,iC.MAGENTA,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE,iC.WHITE;ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(lC=dC||(dC={})).pF="HELLO",lC.bF="HI_THERE",lC.kF="INITIALIZE",lC.TF="APPEND_INIT",lC.SF="APPEND_DATA",lC.EF="ACK",lC.IF="REMOVE",lC.RF="DESTROY_SESSION",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(gC=wC||(wC={})).Wh="audio",gC.jh="video",gC.Hp="metadata";Mm.Wh,Mm.jh;function yC(t,n){if(n.qi){var e=t.muted;t.muted=!0,t.muted=!1,t.muted=e}else if(t.paused){var i=t.play();mr(i)&&tc(i),t.pause()}}ki(),Vt(),ki(),Vt();var mC,_C,pC=function(){function t(t){this._S=t}var n=t.prototype;return n.Ih=function(t){return this._S.Ih(t)},n.tv=function(t){this._S.tv(t)},n.kn=function(){this._S.kn()},t}(),bC=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).yO=e,i}return Xi(n,t),n.prototype.Ih=function(t){var n=this;return Ms((function(){var e,i,r,u,o;return Us(this,(function(s){switch(s.label){case 0:return e=new Dl(t),(i=n.yO.xP.DI(e))?(i.BP(Wi.mr()/1e3),[4,n._S.Ih(t)]):[2,n._S.Ih(e)];case 1:return r=s.sent(),i.LP(Wi.mr()/1e3),u=r.oh().pipeThrough(new Mt(new kC(i))),o={Ch:u,Ih:r.Ih},[2,new Al(o,r)]}}))}))()},n}(pC),kC=function(){function t(t){this.NF=t}var n=t.prototype;return n.start=function(t){this.xB=t},n.transform=function(t){this.NF.MP(Wi.mr()/1e3,t),this.xB.enqueue(t)},n.flush=function(){this.NF.FP(Wi.mr()/1e3)},t}(),TC=function(t){function n(n,e){var i;(i=t.call(this)||this).OF=!1,i.bg=!1,i.CF=!1,i.AF=function(t){if(!i.CF){i.CF=!0;var n=i.DF,e=g_(t);i.cB.Fl=new sE(i.Qg,e,t),tc(n.kn())}},i.PF=function(t){i.Bu(t.tl)},i.xF=function(t){t.type!==Gd.Nf&&t.type!==Gd.Rf&&i.Bu(t)};var r=hy(e.uid);g(r)?i.Sy=T_++:i.Sy=r,i.Za=e;var u=Wi.Xd,o=new DN;i.BF=new pR("5.11.0",u,o),i.yO=new fN;var s=new bC(u,i.yO);i.Xd=new ZR(s,e.allowMixedContent),i.TB=new ZI(e.isEmbeddable,"5.11.0",WI()),i.LF=new AN(u,i.TB,i.BF,o,e,WI()),i.LF.IB().catch(i.AF),i.MF=new UR(n),i.MF.Mu("gD",i.PF),i.mO=new FN,i.tB=new wN,i.uB=new mN;var a=new oE(n,e,i.Xd,i.yO,i.MF,i.mO);i.yO.JP(a);var c=a;return c=new yN(c,i.FF),c=new _N(c,i.oB),i.DF=c,i.cB=new f_(i.DF),i.cB.Uu(i.xF),i.UF=new pN(Na(i)),i.VF=new eN(i.cB,i.Xd,i.yO),i.HF=new TR(Na(i)),i.qF=new qR(i.cB,e.allowNativeFullscreen),i.zF=new RE(i.qF),i.MF.nc(),i._O=new wi(i.MF,i.mO,1,[Mm.jh]),i.WF=new gi(i._O),i.jF=new TN,i}Xi(n,t);var e=n.prototype;return e.Ox=function(t){this.cB.Jw=t,t||this.Zw||this.En()},e.jx=function(t){this.cB.ig=t},e.GF=function(){Xm(this,NE,this)},e.gn=function(){this.cB.gn()},e.yn=function(){this.cB.yn()},e.xg=function(t,n){var e=this;return Ms((function(){var i;return Us(this,(function(r){switch(r.label){case 0:return t?(e.LF.wA(t).catch(e.AF),i=function(t){t.sources;var n=t.sources.filter((function(t){return hr(t.integration)}));return t.sources=n,t}(t),[4,e.cB.xg(i,n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},e.En=function(){if(!this.bg){this.cB.En(),this.WF.En();for(var t=this.Qg.getElementsByTagName("video"),n=0;n<t.length;n++){var e=t[n];"Advertisement"===e.title&&yC(e,Wi.Ur)}this.bg=!0}},e.aO=function(){return this.zF.zO()===bE.FULLSCREEN},e.Vg=function(){this.cB.Vg()},e.Hg=function(){this.cB.Hg()},e.qg=function(){return this.cB.qg()},e.ic=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return[4,t.cB.Dg()];case 1:return n.sent(),[4,t.cB.ic()];case 2:return n.sent(),[2]}}))}))()},e.kn=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return t.Vu(),t.jF.kn(),t.Xd.kn(),t.VF.kn(),t.qF.kn(),t.zF.kn(),t.MF.kn(),t.BF.kn(),t.WF.kn(),t._O.kn(),[4,t.cB.kn()];case 1:return n.sent(),[2]}}))}))()},Ii(n,[{key:"YF",get:function(){return this.yO}},{key:"Ig",get:function(){return this.OF},set:function(t){this.OF=t,this.cB.Ig=t}},{key:"XF",get:function(){return this.WF}},{key:"Ng",get:function(){return this.cB.Ng}},{key:"KF",get:function(){return this.jF}},{key:"JF",get:function(){return this.MF}},{key:"Ag",get:function(){return this.cB.Ag}},{key:"ny",get:function(){return this.UF}},{key:"ZF",get:function(){return this.VF}},{key:"Cg",get:function(){return this.cB.Cg}},{key:"QF",get:function(){return this.mO}},{key:"Og",get:function(){return this.cB.Og}},{key:"Jg",get:function(){return this.cB.Jg}},{key:"FF",get:function(){return this.tB}},{key:"oB",get:function(){return this.uB}},{key:"Yw",get:function(){return this.cB.Yw},set:function(t){this.cB.Yw=t}},{key:"Zg",get:function(){return this.cB.Zg},set:function(t){this.cB.Zg=t}},{key:"Xg",get:function(){return this.cB.Xg}},{key:"Xw",get:function(){return this.cB.Xw}},{key:"Qg",get:function(){return this.cB.Qg}},{key:"$w",get:function(){return this.cB.$w}},{key:"Ju",get:function(){return this.cB.Ju}},{key:"Kw",get:function(){return this.cB.Kw}},{key:"Jw",get:function(){return this.cB.Jw},set:function(t){var n=Boolean(t);this.Ox(n)}},{key:"Zw",get:function(){return this.cB.Zw}},{key:"Qw",get:function(){return this.cB.Qw},set:function(t){this.cB.Qw=t}},{key:"ly",get:function(){return this.cB.ly}},{key:"wy",get:function(){return this.cB.wy},set:function(t){this.cB.wy=$S(t)}},{key:"fw",get:function(){return this.cB.fw}},{key:"gy",get:function(){return this.cB.gy}},{key:"tg",get:function(){return this.cB.tg}},{key:"zl",get:function(){return this.Sy}},{key:"ng",get:function(){return this.cB.ng}},{key:"eg",get:function(){return this.cB.eg}},{key:"ig",get:function(){return this.cB.ig},set:function(t){var n=ou(Number(t),0,1)||0;this.jx(n)}},{key:"yy",get:function(){return this.cB.yy}}]),n}(By);ki(),Vt(),(_C=mC||(mC={}))[_C.tU=0]="tU",_C[_C.nU=1]="nU";var SC={};function EC(t,n){var e=t;if(SC[n])for(var i=0,r=SC[n];i<r.length;i++){e=(0,r[i])(e)}return e}var IC=[];function RC(t){IC.push(t)}ki(),Vt();var NC=t.CustomEvent;var OC=function(){try{var t=new NC("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var e=i.createEvent("CustomEvent");return e.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),e};ki(),Vt(),ki(),Vt(),Ri();var CC=function(){function t(t,n){var e=this;this.eU=!1,this.iU=function(t){e.rU.sD(t.error,e.Yw)},this.uU=function(){e.rU.rD(e.oU),e.bN.removeEventListener("playing",e.uU),e.eU=!1},this.sU=function(){e.eU||(e.bN.addEventListener("playing",e.uU),e.eU=!0)},this.rU=n,this.bN=t,this.bN.addEventListener("error",this.iU),this.bN.addEventListener("sourcechange",this.sU),this.sU()}return t.prototype.ic=function(){},Ii(t,[{key:"Yw",get:function(){var t=this.bN.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"oU",get:function(){return this.bN.src||""}}]),t}();RC((function(t){new CC(t.tl,t.BF)})),ki(),Vt();var AC,DC,PC="theoplayer-stored-volume",xC="theoplayer-stored-mutedstate";AC=function(t){return function(t){function n(n,e){var i;if(i=t.call(this,n,e)||this,e.persistVolume){var r=EN.bB(PC);(void 0===r||g(r))&&(r=1);var u=EN.kB(xC)||!1;i.ig=r,i.Jw=u}return i}Xi(n,t);var e=n.prototype;return e.Ox=function(n){this.Za.persistVolume&&EN.rf(xC,""+Boolean(n)),t.prototype.Ox.call(this,n)},e.jx=function(n){this.Za.persistVolume&&EN.rf(PC,""+Number(n)),t.prototype.jx.call(this,n)},n}(t)},DC=mC.nU,(SC[DC]||(SC[DC]=[])).push(AC),ki(),Vt(),Ri();var BC=new(function(){function t(){this.aU=[],this.Qd=void 0}var n=t.prototype;return n.Rl=function(t){return this.aU[t]},n.cU=function(t){this.aU.push(t),this.tl.push(t.tl)},n.za=function(t){var n=this.aU.indexOf(t);n<0||(Fa(this.aU,n),this.Qd&&Fa(this.Qd,n))},n.fU=function(t){for(var n=0,e=this.aU;n<e.length;n++){var i=e[n];if(i.zl===t)return i}},Ii(t,[{key:"Dl",get:function(){return this.aU.length}},{key:"tl",get:function(){return this.Qd||(this.Qd=function(t){for(var n=[],e=0;e<t.Dl;e++)n[e]=t.Rl(e).tl;return n.getPlayerByUID=function(n){var e=t.fU(n);return e&&e.tl},n}(this)),this.Qd}}]),t}());ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var LC=function(t){function n(n){var e;return(e=t.call(this,Gd.qf)||this).source=n,e}return Xi(n,t),n}(fc);ki(),Vt(),Ri();var MC=function(t){function n(){var n;return(n=t.call(this)||this).hO=0,n.dO=!0,n.wO=!1,n.lO=1,n}Xi(n,t);var e=n.prototype;return e.gn=function(){this.dO&&(this.dO=!1,this.Bu(new km(this.Yw)),this.Bu(new Xb(this.Yw)))},e.yn=function(){this.dO||(this.dO=!0,this.Bu(new Rm(this.Yw,this.Zg)),this.Bu(new _m(this.Yw)))},e.ic=function(){this.hO=0,this.wO=!1,this.lO=1,this.yn()},e.kn=function(){this.Vu()},e.Hg=function(){},e.Vg=function(){},Ii(n,[{key:"Zg",get:function(){},set:function(t){}},{key:"Yw",get:function(){return this.hO},set:function(t){this.wO&&this.hO===t||(this.hO=t,this.wO=!0,this.Bu(new Cm(this.Yw)))}},{key:"Zw",get:function(){return this.dO}},{key:"Qw",get:function(){return this.lO},set:function(t){this.lO!==t&&(this.lO=t,this.Bu(new Im(this.Yw,this.Qw)))}},{key:"fw",get:function(){return Qy.Lw}},{key:"tg",get:function(){return this.wO}}]),n}(xy);ki(),Vt();var FC=function(t){function n(){return t.call(this,Gd.lf)}return Xi(n,t),n}(fc);ki(),Vt(),Ri(),Ti();var UC,VC={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},HC={visibility:"hidden"},qC={visibility:"visible"},zC=function(){function t(t){var n,e=this;this.hU=!1,this.vU=function(t){var n;e.hU=!1,e.dU=null==(n=t.source)?void 0:n.poster,e.Wa()},this.VS=function(){e.hU=!0,e.Hg()},this.bN=t,this.kN(),this.dN=((n=mi&&mi.document&&mi.document.createElement("div")).className="theoplayer-poster",ls(VC,n),n),t.Qg.appendChild(this.dN)}var n=t.prototype;return n.Wa=function(){var t=this.bN.Zw,n=this.hU;this.Nh?this.dN.style.backgroundImage='url("'+(this.Nh.replace(/[\\"]/g,(function(t){return"\\"+t}))+'")'):this.dN.style.backgroundImage="",t&&this.Nh&&!n?this.Vg():this.Hg()},n.Vg=function(){ls(HC,this.bN.Qg),ls(qC,this.dN)},n.Hg=function(){ls(HC,this.dN),ls(qC,this.bN.Qg)},n.kN=function(){this.bN.Mu("sourcechange",this.vU),this.bN.Mu("play",this.VS)},n.kn=function(){this.bN.Hu("sourcechange",this.vU),this.bN.Hu("play",this.VS),ds(this.dN)},Ii(t,[{key:"Nh",get:function(){return void 0!==this.dU?this.dU:void 0!==this.lU?this.lU:void 0}},{key:"wU",set:function(t){this.lU=t,this.Wa()}}]),t}();function WC(t){return function(n){function e(e,i){var r;return(r=n.call(this,e)||this).gU=!0,r.yU=Qy.Lw,r.mU=!1,r.mN=void 0,r.QI=void 0,r.bO=void 0,r._U=function(t){t.type!==Gd.Df&&r.pU.push(t)},r.bU=function(t){var n=t;(n.type!==Gd.Cf||r.bN.Zw)&&(n.type===Gd.Of&&r.bN.Zw||n.type===Gd.Lf&&r.bN.tg&&r.bN.Yw===n.currentTime||n.type===Gd.Df&&r.bN.Qw===n.playbackRate||r.Bu(n))},r.jg=function(t){var n=t;if(r.mU){if(n.type===pm.jw)return;n.type!==pm.Hw&&n.type!==pm.Gw||(r.mU=!1)}if(n.type===Gd.Cf){if(!r.gU)return;r.gU=!1}else if(n.type===Gd.Of){if(r.gU)return;r.gU=!0}else if(n.type===pm.yl){if(r.yU===n.readyState)return;r.yU=n.readyState}r.Bu(n)},r.kU=new t(e,i),r.TU=new MC,r.bN=r.kU,r.SU=new zC(Na(r)),r.zM=new Ad,r.pU=[],r._N=!0,r.kN(),r}Xi(e,n);var i=e.prototype;return i.Fc=function(t,n){var e=this;return Ms((function(){return Us(this,(function(i){return[2,e.zM.Fc(t,n).catch($a)]}))}))()},i.EU=function(t,n){var e=this;return Ms((function(){return Us(this,(function(i){switch(i.label){case 0:Ya(n),e.kU.Uu(e._U),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,e.kU.xg(t,n)];case 2:return i.sent(),[3,4];case 3:return e.kU.Wu(e._U),[7];case 4:return[2]}}))}))()},i.IU=function(){var t=this;return Ms((function(){var n,e;return Us(this,(function(i){switch(i.label){case 0:return(n=t.Pg())&&!lI(n)&&t.Ig&&t.Zw?(e=n.mutedAutoplay||t.Za.mutedAutoplay,[4,t.XF.Sn(t.Jw)]):[2];case 1:switch(i.sent()){case"all":t.RU();break;case"muted":(t.Jw||e===Um.ALL)&&(t.Jw=!0,t.gn())}return[2]}}))}))()},i.xg=function(t){lI(this.mN)||this.Bu(new mm(0,Qy.Lw)),this.ic(),this.mN=t;var n=this;tc(this.Fc(Ms((function(e){var i;return Us(this,(function(r){switch(r.label){case 0:Ya(e),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,n.EU(t,e)];case 2:return r.sent(),[3,5];case 3:return i=r.sent(),n.mN=void 0,n.rR(function(t,n){return t instanceof Sd?t:t instanceof f?new Sd(n,t.message,t):new Sd(n,String(t))}(i,md.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.NU(n.kU),[7];case 5:return n.Bu(new LC(n.Pg())),[4,n.IU()];case 6:return r.sent(),[2]}}))}))))},i.bx=function(t){this.bN.Yw=t},i.Ex=function(){var t;return null!=(t=this.bO)?t:this.kU.Ju},i.Ix=function(){var t;return null!=(t=this.QI)?t:this.kU.Kw},i.rR=function(t){void 0===this.Ix()&&(this.QI=t,this.bO=g_(t),this.Bu(new Lm(t)))},i.gn=function(){this.bN.gn()},i.RU=function(){this.Jw||this.En(),this.gn()},i.En=function(){this.kU.En()},i.yn=function(){this.bN.yn()},i.Dg=function(){this.xg(void 0)},i.Vg=function(){this._N=!0,this.bN.Vg()},i.Hg=function(){this._N=!1,this.bN.Hg()},i.GF=function(){this.kU.GF()},i.jx=function(t){this.kU.jx(t)},i.Ox=function(t){this.kU.Ox(t)},i.OU=function(t){this.CU=t,t.cU(this)},i.aO=function(){return this.kU.aO()},i.Pg=function(){return this.mN},i.qg=function(){return this.kU.qg()},i._x=function(){return this.kU.Yw},i.kx=function(){return this.kU.Xw},i.wx=function(){return this.kU.Jg},i.xx=function(){return this.kU.ly},i.Fx=function(){return this.kU.gy},i.ic=function(){this.mN=void 0,this.QI=void 0,this.bO=void 0,this.mU=!0,Va(this.pU),this.TU.ic(),this.NU(this.TU),this.zM.Nu();var t=this;tc(this.zM.Fc(Ms((function(n){return Us(this,(function(e){switch(e.label){case 0:return Ya(n),[4,t.kU.ic()];case 1:return e.sent(),[2]}}))}))))},i.kn=function(){this.Bu(new FC),this.SU.kn(),this.TN(),this.ic();var t=this;tc(this.Fc(Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return[4,t.kU.kn()];case 1:return n.sent(),t.CU&&(t.CU.za(t),t.CU=void 0),t.zM.kn(),[2]}}))})))),this.Vu()},i.NU=function(t){if(this.bN!==t){var n=this.bN.Zw,e=this.bN.Yw,i=this.bN.Qw,r=this.bN.fw,u=this.bN.tg;this.gU=n,this.yU=r,this.TN(),t.Uu(this.bU),t===this.kU?((u||t.Yw!==e)&&(t.Yw=e),t.Qw!==i&&(t.Qw=i),n?t.yn():t.gn()):this.Za.retainPlaybackRateOnSourceChange?t.Qw=i:1!==i&&this.Bu(new Im(this._x(),1)),t.Wu(this.bU),this.bN=t,this.kN();for(var o=0,s=this.pU;o<s.length;o++){var a=s[o];this.Bu(a)}Va(this.pU),this._N?t.Vg():t.Hg()}},i.kN=function(){this.bN.Uu(this.jg)},i.TN=function(){this.bN.Wu(this.jg)},i.nl=function(){return t=this,i=function(n){e=n;var i=RI(n,t.Za);t.xg(i)},r={get abr(){return t.YF.tl},get audioTracks(){return t.Ng.tl},get autoplay(){return t.Ig},set autoplay(n){t.Ig=Boolean(n)},get buffered(){return t.wx()},get canvas(){return t.HF.tl},get clip(){return t.FF.tl},get currentProgramDateTime(){var n;return null!=(n=t.Zg)?n:null},set currentProgramDateTime(n){t.Zg=null!=n?n:void 0},get currentTime(){return t._x()},set currentTime(n){t.bx(Number(n))},get duration(){return t.kx()},get element(){return t.Qg},get ended(){return t.$w},get error(){return t.Ex()},get errorObject(){return t.Ix()},get loop(){return t.oB.oB},set loop(n){t.oB.oB=Boolean(n)},get metrics(){return t.ny.tl},get muted(){return t.Jw},set muted(n){t.Ox(n)},get network(){return t.ZF.tl},get paused(){return t.Zw},get playbackRate(){return t.Qw},set playbackRate(n){var e=Number(n);if(e<0)throw new RangeError("playbackRate must be a positive number");t.Qw=e},get played(){return t.xx()},get poster(){return t.AU},set poster(n){t.AU=dy(n)},get preload(){return t.wy},set preload(n){t.wy=n},get presentation(){return t.zF.tl},get readyState(){return t.fw},get seekable(){return t.Fx()},get seeking(){return t.tg},get source(){return e},set source(t){i(t)},get src(){return wI(t.Pg())},set src(t){i({sources:t})},get textTracks(){return t.Cg.tl},get textTrackStyle(){return t.QF.tl},get uid(){return t.zl},get videoHeight(){return t.ng},get videoTracks(){return t.Og.tl},get videoWidth(){return t.eg},get volume(){return t.ig},set volume(n){t.jx(Number(n))},get latency(){return t.yy.tl},destroy:function(){t.kn(),t=null,e=void 0},play:function(){t.RU()},pause:function(){t.yn()},stop:function(){e=void 0,t.Dg()},prepareWithUserAction:function(){t.En()},addEventListener:function(t,e){n.Mu(t,e)},removeEventListener:function(t,e){n.Hu(t,e)},setSource:function(t){i(t)}},(n=new SE(r,!0)).OO(t),n.Mu("destroy",(function(){n.kn()})),r;var t,n,e,i,r},Ii(e,[{key:"BF",get:function(){return this.kU.BF}},{key:"HF",get:function(){return this.kU.HF}},{key:"Za",get:function(){return this.kU.Za}},{key:"DF",get:function(){return this.kU.DF}},{key:"Xd",get:function(){return this.kU.Xd}},{key:"UR",get:function(){return this.kU.qF}},{key:"zF",get:function(){return this.kU.zF}},{key:"MF",get:function(){return this.kU.MF}},{key:"cB",get:function(){return this.kU.cB}},{key:"YF",get:function(){return this.kU.YF}},{key:"Ig",get:function(){return this.kU.Ig},set:function(t){this.kU.Ig=t,this.IU()}},{key:"XF",get:function(){return this.kU.XF}},{key:"Ng",get:function(){return this.kU.Ng}},{key:"KF",get:function(){return this.kU.KF}},{key:"JF",get:function(){return this.kU.MF}},{key:"tl",get:function(){return this.Qd||(this.Qd=this.nl()),this.Qd}},{key:"Ag",get:function(){return this.kU.Ag}},{key:"ny",get:function(){return this.kU.ny}},{key:"ZF",get:function(){return this.kU.ZF}},{key:"Cg",get:function(){return this.kU.Cg}},{key:"QF",get:function(){return this.kU.QF}},{key:"Og",get:function(){return this.kU.Og}},{key:"FF",get:function(){return this.kU.FF}},{key:"oB",get:function(){return this.kU.oB}},{key:"Zg",get:function(){return this.bN.Zg},set:function(t){this.bN.Zg=t}},{key:"Xg",get:function(){return this.kU.Xg}},{key:"Qg",get:function(){return this.kU.Qg}},{key:"$w",get:function(){return this.kU.$w}},{key:"Jw",get:function(){return this.kU.Jw},set:function(t){this.kU.Jw=t}},{key:"Zw",get:function(){return this.bN.Zw}},{key:"AU",get:function(){return this.SU.Nh||""},set:function(t){this.SU.wU=t}},{key:"Qw",get:function(){return this.kU.Qw},set:function(t){this.bN.Qw=t}},{key:"wy",get:function(){return this.kU.wy},set:function(t){this.kU.wy=$S(t)}},{key:"fw",get:function(){return this.bN.fw}},{key:"tg",get:function(){return this.bN.tg}},{key:"zl",get:function(){return this.kU.zl}},{key:"ng",get:function(){return this.kU.ng}},{key:"eg",get:function(){return this.kU.eg}},{key:"ig",get:function(){return this.kU.ig},set:function(t){this.kU.ig=t}},{key:"yy",get:function(){return this.kU.yy}}]),e}(By)}function jC(t,n){var e=Gm(n),i=new(UC||(UC=EC(UC=WC(TC),mC.tU),UC=EC(UC,mC.nU)),UC)(t,e),r=i.tl;return i.GF(),i.OU(BC),v.defineProperty(r,"constructor",{value:jC}),r=ey(r),function(t){for(var n=0;n<IC.length;n++)(0,IC[n])(t)}(i),r}Qa((function(){t.dispatchEvent&&t.dispatchEvent(OC("theoplayerready"))})),ki(),Vt();var GC={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Ec(t)},n.decode=function(t){return Tc(t)},t}())};ki(),Vt();var YC=JSON.parse("[]"),XC="5.11.0",$C="2023.4.4",KC=BC.tl,JC=Ek.DE.registerContentProtectionIntegration.bind(Ek.DE);ki(),Vt(),Ti(),ki(),Vt();var ZC=function(){};ki(),Vt();var QC=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}();ki(),Vt(),ki(),Vt();var tA=N(Fi());function nA(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],e=0;e<t.length;e++)n[e]={start:t.start(e),end:t.end(e)};return n}(n):n}function eA(t){return JSON.stringify(t,tA.getSerialize(nA))}ki(),Vt(),ki(),Vt(),Ri();var iA,rA,uA=N(qi()),oA=function(){function t(){}return t.prototype.rd=function(t){var n=function(t){r[r.length-1].bd(t)},e=new uA.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new dA,r=[i];return e.on("text",(function(t){r.length>1&&n(new hA(t))})),e.on("cdata",(function(t){n(new vA(t))})),e.on("opentag",(function(t){for(var e=t.local,i=t.uri,u=t.prefix,o=new cA({fd:e,vd:""===i?void 0:i,DU:""===u?void 0:u}),s=t.attributes,a=0,c=v.keys(s);a<c.length;a++){var f=s[c[a]],h=f.prefix,d=f.local,l=f.uri,w=f.value,g=new sA({fd:d,ld:w,vd:""===l?void 0:l,DU:""===h?void 0:h});o.PU(g)}n(o),r.push(o)})),e.on("closetag",(function(){r.pop()})),e.on("error",(function(t){throw new Sg(t)})),e.write(t).close(),i},t}(),sA=function(){function t(t){this.xU=t.fd,this.g=t.ld,this.BU=t.vd,this.LU=t.DU}var n=t.prototype;return n.od=function(t){return this===t||!!wA(this,t)&&(this.xU===t.xU&&this.BU===t.BU&&this.LU===t.LU&&this.g===t.g)},n.sd=function(){return new t({fd:this.fd,ld:this.ld,vd:this.vd,DU:this.dd})},Ii(t,[{key:"Zv",get:function(){return pg.td}},{key:"fd",get:function(){return this.xU}},{key:"hd",get:function(){return void 0===this.LU?this.xU:this.LU+":"+this.xU}},{key:"vd",get:function(){return this.BU}},{key:"dd",get:function(){return this.LU}},{key:"ld",get:function(){return this.g}}]),t}(),aA=function(){function t(){this.wd=[]}var n=t.prototype;return n.yd=function(t){return this.wd.filter((function(n){return lA(n)&&n._d===t}))},n.pd=function(t,n){return this.wd.filter((function(e){return lA(e)&&e.fd===n&&e.vd===t}))},n.bd=function(t){this.wd.push(t)},Ii(t,[{key:"md",get:function(){return this.wd}},{key:"Td",get:function(){return this.wd.filter(lA)}}]),t}(),cA=function(t){function n(n){var e;return(e=t.call(this)||this).MU=[],e.xU=n.fd,e.BU=n.vd,e.LU=n.DU,e}Xi(n,t);var e=n.prototype;return e.FU=function(t){for(var n=0,e=this.md;n<e.length;n++){var i=e[n];lA(i)?i.FU(t):t.push(i.Ch)}},e.Ed=function(t,n){for(var e=0,i=this.MU;e<i.length;e++){var r=i[e];if(r.fd===n&&r.vd===t)return r.ld}},e.Sd=function(t){for(var n=0,e=this.MU;n<e.length;n++){var i=e[n];if(i.hd===t)return i.ld}},e.PU=function(t){this.MU.push(t)},e.Id=function(t){for(var n=0;n<this.MU.length;n++)if(this.MU[n].hd===t)return void this.MU.splice(n,1)},e.Rd=function(t,n){for(var e=0;e<this.MU.length;e++)if(this.MU[e].fd===n&&this.MU[e].vd===t)return void this.MU.splice(e,1)},e.Nd=function(t,n){this.Id(t),this.PU(new sA({fd:t,ld:n}))},e.Od=function(t,n,e){this.Id(n);var i=n.split(":");this.PU(new sA({fd:i[i.length-1],ld:e,vd:t,DU:i.length>1?i[0]:void 0}))},e.sd=function(t){var e=new n({fd:this.fd,vd:this.vd,DU:this.dd});return this.Cd.forEach((function(t){return e.PU(t.sd())})),t&&this.md.forEach((function(n){return e.bd(n.sd(t))})),e},e.od=function(t){return this===t||!!wA(this,t)&&(this.xU===t.xU&&this.LU===t.LU&&this.BU===t.BU&&(gA(this.Cd,t.Cd)&&gA(this.md,t.md)))},Ii(n,[{key:"Zv",get:function(){return pg.Qv}},{key:"Cd",get:function(){return this.MU}},{key:"fd",get:function(){return this.xU}},{key:"vd",get:function(){return this.BU}},{key:"dd",get:function(){return this.LU}},{key:"_d",get:function(){return void 0===this.LU?this.xU:this.LU+":"+this.xU}},{key:"Ad",get:function(){var t=[];return this.FU(t),t.join("")}}]),n}(aA),fA=function(){function t(t){this.B=t}return Ii(t,[{key:"Ch",get:function(){return this.B}}]),t}(),hA=function(t){function n(n){return t.call(this,n)}Xi(n,t);var e=n.prototype;return e.sd=function(){return new n(this.Ch)},e.od=function(t){return this===t||!!wA(this,t)&&this.Ch===t.Ch},Ii(n,[{key:"Zv",get:function(){return pg.Jf}}]),n}(fA),vA=function(t){function n(n){return t.call(this,n)}Xi(n,t);var e=n.prototype;return e.sd=function(){return new n(this.Ch)},e.od=function(t){return this===t||!!wA(this,t)&&this.Ch===t.Ch},Ii(n,[{key:"Zv",get:function(){return pg.nd}}]),n}(fA),dA=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.sd=function(t){var e=new n;return t&&this.md.forEach((function(n){return e.bd(n.sd(t))})),e},e.od=function(t){return this===t||!!wA(this,t)&&gA(this.md,t.md)},Ii(n,[{key:"Zv",get:function(){return pg.ed}},{key:"Dd",get:function(){return this.Td[0]}}]),n}(aA);function lA(t){return Tg(t)}function wA(t,n){return t.Zv===n.Zv}function gA(t,n){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!t[e].od(n[e]))return!1;return!0}function yA(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Fs({},t,{adBreak:Fs({},t.adBreak,{ads:t.adBreak.ads.map((function(t){t.adBreak;return mk(t,["adBreak"])}))})})}function mA(t){return void 0===t.ads?t:Fs({},t,{ads:t.ads.map((function(t){t.adBreak;return mk(t,["adBreak"])}))})}function _A(t){return"string"==typeof t.date?new Date(t.date):t.date}function pA(t){var n;return t.cue.track?(n=kA(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=kA(t.cue,""),n}function bA(t){var n=[];return function t(e){if(Array.isArray(e))return e.map(t);if("object"==typeof e&&null!==e&&v.keys(e).length){if(n.includes(e))return"[Circular ~]";n.push(e);var i=v.entries(e);return v.fromEntries(i.map((function(e){var i=Vs(e,2),r=i[0],u=i[1],o=t(u);return"object"==typeof u&&null!==u&&"[Circular ~]"!==o&&n.pop(u),[r,o]})))}return e}(t)}function kA(t,n){var e={};switch(e.content=t.content,e.endTime=t.endTime,e.startTime=t.startTime,e.id=t.id,e.uid=t.uid,n){case"webvtt":e.align=t.align,e.line=t.line,e.lineAlign=t.lineAlign,e.position=t.position,e.positionAlign=t.positionAlign,e.region=t.region,e.size=t.size,e.snapToLines=t.snapToLines,e.text=t.text,e.vertical=t.vertical;break;case"ttml":e.content=SA(t.content).innerHTML;for(var i=t.content,r={};i.firstChild&&i.firstChild.outerHTML;){(new oA).rd(i.firstChild.outerHTML).Dd.Cd.forEach((function(t){r[t.fd]=t.ld})),i=i.firstChild}e.ttmlAttributes=r;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if(IA(s)){var a=TA(s);u[o]={type:"daterange-ca-type_arraybuffer",value:a}}else RA(s)?u[o]={type:"daterange-ca-type_number",value:s}:u[o]={type:"daterange-ca-type_string",value:String(s)}}e.attributedClass=String(t.class),e.startDate=t.startDate,e.endDate=t.endDate,e.duration=t.duration,e.plannedDuration=t.plannedDuration,e.endOnNext=t.endOnNext,e.scte35Cmd=TA(t.scte35Cmd),e.scte35Out=TA(t.scte35Out),e.scte35In=TA(t.scte35In),e.customAttributes=u}return e}function TA(t){if(void 0!==t)return Ec(t)}function SA(t){var n=t.children;if(0!==n.length)for(var e=0;e<n.length;e++){var i=n.item(e);return"image"===i.nodeName||"smpte:image"===i.nodeName?i:SA(i)}}function EA(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var e=[];if(t.cues)for(var i=0;i<t.cues.length;i++){var r=t.cues[i];e.push(kA(r,t.type))}n.cues=e;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(kA(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function IA(t){return"object"==typeof t&&null!==t}function RA(t){return"number"==typeof t}(rA=iA||(iA={})).gF="daterange-ca-type_string",rA.UU="daterange-ca-type_number",rA.VU="daterange-ca-type_arraybuffer";var NA={cue:function(t){var n={};switch(n.date=_A(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=pA(t)}return n},textTrack:function(t){var n={};switch(n.date=_A(t),n.type=t.type,t.type){case"addcue":var e=t.cue;DA().register(e);var i=AA()[PA()].eventListeners;t.cue.addEventListener("enter",(function(t){i.InternalCueHelperEvent(t)})),t.cue.addEventListener("exit",(function(t){i.InternalCueHelperEvent(t)})),t.cue.addEventListener("update",(function(t){i.InternalCueHelperEvent(t)}));case"removecue":case"entercue":case"exitcue":n.cue=pA(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var o=t.track.activeCues[u];r.push(kA(o,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,e={track:EA(t.track),date:_A(t),type:t.type},i=null==(n=t.track)?void 0:n.cues,r=DA();if(i)switch(t.type){case"addtrack":i.forEach(r.register);break;case"removetrack":i.forEach((function(t){return r.remove(t.uid)}))}return e},default:function(t){var n={};switch(n.date=_A(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Gd.Wf:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Fs({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=EA(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=mA(t.ad);break;case"adloaded":case"adimpression":n.ad=yA(t.ad);break;case"adskip":n.ad=yA(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.HU&&(n.HU=t.HU),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=yA(t.ad)}return bA(n)},minimizeCueHelper:function(t){var n={};return n.date=_A(t),n.type=t.type,n.cue=pA(t),n.track={uid:t.cue.track.uid},n},adReplacer:yA,adBreakReplacer:mA,removeCircularReferences:bA},OA=function(){this.stringify=eA,this.minimize=NA};function CA(){return mi.self}function AA(){return CA().THEOplayerBridge}function DA(){return CA().THEOCueMirrorMap}function PA(){return CA().THEOplayerGlobalID}function xA(){var t=CA();if(t.THEOplayerBridge){var n=new ZC;t.THEOplayerBridge=ry(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new ZC;t.THEOplayerUtils||(t.THEOplayerUtils=new OA),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new QC)}xA(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri();var BA=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.rd=function(t){var n,e=new DOMParser;try{n=e.parseFromString(t,"text/xml")}catch(t){throw new Sg(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Sg;return new LA(n)},n}(Eg),LA=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.sd=function(t){return new n(this.gd.cloneNode(t))},Ii(n,[{key:"md",get:function(){return void 0===this.wd&&(this.wd=UA(this.gd.childNodes)),this.wd}},{key:"Dd",get:function(){return new MA(this.gd.documentElement)}}]),n}(Dg),MA=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.sd=function(t){var e=new n(this.gd.cloneNode(t));return e.Cd.length<1&&this.Cd.length>0&&this.Cd.forEach((function(t){e.Nd(t.hd,t.ld)})),e},Ii(n,[{key:"md",get:function(){return void 0===this.wd&&(this.wd=UA(this.gd.childNodes)),this.wd}}]),n}(Ng);function FA(t){switch(t.nodeType){case pg.Qv:return new MA(t)}return xg(t)}function UA(t){for(var n=[],e=0;e<t.length;e++){var i=FA(t.item(e));i&&n.push(i)}return n}$i(new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).qU=new BA,n}return Xi(n,t),n.prototype.rd=function(t){return this.qU.rd(t)},n}(Fg))),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var VA=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).type=n,i.detail=e,i}return Xi(n,t),n}(fc),HA=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.dispatchEvent=function(t,n){this.Bu(new VA(t,n))},e.addEventListener=function(t,n){this.Mu(t,n)},e.removeEventListener=function(t,n){this.Hu(t,n)},n}(By);ki(),Vt(),Ri();var qA=function(t){function n(n,e){var i;return(i=t.call(this)||this).zU=function(t){i.jU.WU("THEOplayerABRSetTargetBuffer",t.VP),i.Bu(t)},i.GU=function(t){i.jU.WU("THEOplayerABRSetStrategy",t.UP),i.Bu(t)},i.jU=n,i.YU=e,i.YU.Mu("zP",i.zU),i.YU.Mu("WP",i.GU),i}return Xi(n,t),n.prototype.QP=function(t){return this.YU.QP(t)},Ii(n,[{key:"nx",get:function(){switch(this.UP.type){case tN.PERFORMANCE:return 1;case tN.QUALITY:return 0;case tN.BANDWIDTH:var t;return(null==(t=this.UP.metadata)?void 0:t.bitrate)&&!g(this.UP.metadata.bitrate)?this.UP.metadata.bitrate:0;default:return 0}}},{key:"tl",get:function(){return this.YU.tl}},{key:"UP",get:function(){return this.YU.UP},set:function(t){this.YU.UP=t}},{key:"VP",get:function(){return this.YU.VP},set:function(t){this.YU.VP=t}},{key:"tx",get:function(){return this.YU.tx}},{key:"HP",get:function(){return this.YU.HP},set:function(t){this.YU.HP=t}},{key:"qP",get:function(){return this.YU.qP}},{key:"xP",get:function(){return this.YU.xP}}]),n}(oc);ki(),Vt(),Ri(),ki(),Vt(),Ri();var zA,WA,jA=function(){function t(t,n,e){this.Ka=void 0,this.Sc=t,this.hu=e,this.Hc=n}var n=t.prototype;return n.SS=function(t){throw new f("Not implemented yet.")},n.nF=function(t,n){var e=this;return Ms((function(){var i;return Us(this,(function(r){switch(r.label){case 0:return[4,e.hu.vu(t.ru,n)];case 1:return[4,r.sent().oc()];case 2:return i=r.sent(),[4,e.XU(i)];case 3:return r.sent(),[2,i]}}))}))()},n.$U=function(t){return!1},n.GM=function(t){return G.resolve(void 0)},n.ku=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return[4,t.XU(void 0)];case 1:return n.sent(),[2]}}))}))()},n.XU=function(t){var n=this;return Ms((function(){return Us(this,(function(e){switch(e.label){case 0:return[4,n.KU(t)];case 1:return e.sent(),[2]}}))}))()},n.KU=function(t){var n=this;return Ms((function(){var e;return Us(this,(function(i){switch(i.label){case 0:return(e=n.Ka)?[4,e.ec(n.Hc)]:[3,2];case 1:i.sent(),n.Ka=void 0,i.label=2;case 2:return t?[4,t.nc(n.Hc)]:[3,4];case 3:i.sent(),n.Ka=t,i.label=4;case 4:return[2]}}))}))()},n.bS=function(t,n,e){throw new f("Not implemented yet.")},Ii(t,[{key:"Za",get:function(){return this.Sc}},{key:"wy",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"gy",get:function(){return new nE([0,1/0])}},{key:"Cg",get:function(){throw new f("Not implemented yet.")}},{key:"JU",get:function(){throw new f("Not implemented yet")}},{key:"Og",get:function(){throw new f("Not implemented yet.")}},{key:"ZU",get:function(){throw new f("Not implemented yet")}},{key:"QU",get:function(){throw new f("Not implemented yet")}}]),t}();ki(),Vt(),(WA=zA||(zA={})).tV="webkitneedkey",WA.nV="webkitkeymessage",WA.eV="webkitkeyerror",WA.iV="webkitkeyflowdone";var GA=function(t){function n(n,e){var i;return(i=t.call(this,"webkitneedkey")||this).initData=n,i.sessionId=e,i}return Xi(n,t),n}(fc),YA=function(t){function n(n,e){var i;return(i=t.call(this,"webkitkeymessage")||this).message=n,i.destinationURL=e,i}return Xi(n,t),n}(fc),XA=function(t){function n(){return t.call(this,"webkitkeyerror")}return Xi(n,t),n}(fc),$A=function(t){function n(){return t.call(this,"webkitkeyflowdone")}return Xi(n,t),n}(fc);ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),Ri();var KA=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this)||this).hc=n,o.Da=e,o.rV=i,o.qc=r,o.Ic=u,o.wc=new mf,o.Rc=void 0,o.bc=new mc,o.Oc=new mf,o.uV=function(t){o.Rc?(o.Rc.To(void 0),o.Rc=void 0):o._c("internal-error"),o.Bu(new wc)},o.oV=function(t){o.Bu(new lc(Na(o),"license-request",wf(t.message).buffer,t.destinationURL||void 0))},o.sV=function(t){o.Rc&&(o.Rc.ko(void 0),o.Rc=void 0)},o}Xi(n,t);var e=n.prototype;return e.Ha=function(t,n,e){var i=this;return Ms((function(){var t;return Us(this,(function(r){switch(r.label){case 0:if(!(t=e&&e.fairplay&&e.fairplay.Cc))throw new h("Expected FairPlay contentId to be defined but was "+t+".");return[4,i.aV(df(n),t)];case 1:return r.sent(),i._c("usable"),i.Oc.ko(),i.Oc=new mf,[2]}}))}))()},e.qa=function(t){return Ms((function(){return Us(this,(function(t){return[2,!0]}))}))()},e.Wa=function(t){var n=this;return Ms((function(){var e;return Us(this,(function(i){if(0===(e=df(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.Rc=new mf,n.rV.Wa(n.qc,e),[2,n.Rc.bo]}))}))()},e.Va=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return[4,t.Oc];case 1:return n.sent(),t.rV.Hu(zA.nV,t.oV),t.rV.Hu(zA.eV,t.uV),t.rV.Hu(zA.iV,t.sV),t.Oc.Nu(),t.wc.ko(void 0),[2,t.wc.bo]}}))}))()},e.za=function(){return Ms((function(){return Us(this,(function(t){return[2]}))}))()},e.aV=function(t,n){var e=this;return Ms((function(){var i;return Us(this,(function(r){return i=Td(t,n,e.Ic),e.rV.Mu(zA.nV,e.oV),e.rV.Mu(zA.eV,e.uV),e.rV.Mu(zA.iV,e.sV),e.rV.VM(e.qc,i),[2]}))}))()},e._c=function(t){this.bc.fo(),this.bc.co(yc,t),this.Bu(new dc(this))},Ii(n,[{key:"$a",get:function(){return this.qc}},{key:"Ya",get:function(){return NaN}},{key:"Ga",get:function(){return this.wc.bo}},{key:"Xa",get:function(){return this.bc}}]),n}(oc),JA=function(){function t(t,n,e){this.cV=void 0,this.qc=void 0,this.Ic=void 0,this.rV=t,this.Da=n,this.Sc=e;var i=od(e)||"video/mp4";this.hc=id(i)}var n=t.prototype;return n.Qa=function(t){var n=this;return Ms((function(){var t;return Us(this,(function(e){if(!n.Ic)throw new Sd(md.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return t=new KA(n.hc,n.Da,n.rV,n.qc,n.Ic),n.cV=t,[2,t]}))}))()},n.tc=function(t){return this.Ic=df(t),G.resolve(!0)},n.nc=function(t){var n=this;return Ms((function(){return Us(this,(function(e){return t.webkitSetMediaKeys(n),[2]}))}))()},n.ec=function(t){return Ms((function(){return Us(this,(function(n){return t.webkitSetMediaKeys(null),[2]}))}))()},n.createSession=function(){throw new f("Whoops.")},Ii(t,[{key:"Ja",get:function(){return this.Da}},{key:"Za",get:function(){return this.Sc}},{key:"sessionId",set:function(t){this.qc=t}}]),t}(),ZA=function(){function t(t,n,e){this.fV=t,this.Da=n,this.Sc=e}var n=t.prototype;return n.sc=function(){return this.Sc},n.oc=function(){var t=this;return Ms((function(){return Us(this,(function(n){return[2,new JA(t.fV,t.Da,t.Sc)]}))}))()},Ii(t,[{key:"Ja",get:function(){return this.Da}}]),t}(),QA=function(){function t(t){this.fV=t}return t.prototype.vu=function(t,n){var e=this;return Ms((function(){var i,r,u;return Us(this,(function(o){for(i=0;i<n.length;i++)if(r=n[i],u=rd(tD,vc,t,r))return[2,new ZA(e.fV,t,u)];throw new h("Unsupported key system configuration for "+t)}))}))()},t}();function tD(t,n){return t===fa}ki(),Vt();var nD=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.ZM=function(t,n){return!0},n}(tC),eD=function(t){function n(n,e,i){var r;return void 0===i&&(i=new QA(e)),(r=t.call(this)||this).ZI=void 0,r.hV=new Ad,r.vV=!1,r.Ec=null,r.dV={ey:0,iy:0,uy:0,oy:0,sy:0,hy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.lV=function(t){"boolean"==typeof t.detail.casting&&(r.vV=t.detail.casting,r.Bu(new B_(r.vV)))},r.wV=function(t){r.qc=t.sessionId,r.Ec&&(r.Ec.sessionId=r.qc);var n=t.initData;if(n){var e=function(t){try{var n=ff(t),e=new yf;return ef(rf(qc(n,e,Gc(n,e,!0)),!0))}catch(t){return}}(n);if(!e)return;r.Bu(new gc(ta,e))}else r.Bu(new gc(ta,new ArrayBuffer(0)))},r.gV=n,r.fV=e,r.fV.Mu(zA.tV,r.wV),r.hu=i,r.yV=new nD(Na(r)),r.mV(),r}Xi(n,t);var e=n.prototype;return e._V=function(t){for(var n=0;n<t.length;n++){var e=t[n];if(e.iu===jb.IS)return e}},e.ku=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return[4,t.ic()];case 1:return n.sent(),t.Vu(),t.pV(),t.fV.Hu(zA.tV,t.wV),[4,t.yV.ku()];case 2:return n.sent(),[2]}}))}))()},e.Hg=function(){throw new f("Not implemented yet")},e.bS=function(t,n,e,i,r,u,o,s,a){throw new f("Not implemented yet")},e.xR=function(){return!1},e.MR=function(t,n,e,i,r){throw new f("Not implemented yet")},e.SS=function(t){throw new f("Not implemented yet")},e.HR=function(){throw new f("Not implemented yet")},e.qa=function(t){var n=this;return Ms((function(){return Us(this,(function(e){return[2,n.hV.Fc(Ms((function(e){var i;return Us(this,(function(r){if(t.iu===jb.IS)return Ya(e),i=new jA(t,n,n.hu),n.ZI=i,n.yV.qa(i,t),[2,i];throw new f("Could not create non-static media source")}))})))]}))}))()},e.yn=function(){throw new f("Not implemented yet")},e.gn=function(){throw new f("Not implemented yet")},e.ic=function(){this.hV.Nu();var t=this;return this.hV.Fc(Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return void 0===t.ZI?[3,2]:[4,t.ZI.ku()];case 1:n.sent(),t.ZI=void 0,n.label=2;case 2:return[4,t.yV.ic()];case 3:return n.sent(),[2]}}))})))},e.lo=function(t,n,e){throw new f("Not implemented yet")},e.YR=function(t){throw new f("Not implemented yet")},e.Vg=function(){throw new f("Not implemented yet")},e.XR=function(){return this.dV},e.mV=function(){this.gV.addEventListener("airPlayIsCasting",this.lV)},e.pV=function(){this.gV.removeEventListener("airPlayIsCasting",this.lV)},e.webkitSetMediaKeys=function(t){this.Ec=t||null,this.Ec&&(this.Ec.sessionId=this.qc)},e.bV=function(){},e.kV=function(){throw new f("Not implemented yet")},e.TV=function(){throw new f("Not implemented yet")},Ii(n,[{key:"Zg",get:function(){throw new f("Not implemented yet")}},{key:"Jg",get:function(){throw new f("Not implemented yet")}},{key:"Yw",get:function(){throw new f("Not implemented yet")}},{key:"JF",get:function(){throw new f("Not implemented yet")}},{key:"Xw",get:function(){throw new f("Not implemented yet")}},{key:"$w",get:function(){throw new f("Not implemented yet")}},{key:"Ju",get:function(){throw new f("Not implemented yet")}},{key:"Jb",get:function(){throw new f("Not implemented yet")}},{key:"ty",get:function(){return this.vV}},{key:"Jw",get:function(){throw new f("Not implemented yet")}},{key:"Zw",get:function(){throw new f("Not implemented yet")}},{key:"Qw",get:function(){throw new f("Not implemented yet")}},{key:"ly",get:function(){throw new f("Not implemented yet")}},{key:"fw",get:function(){throw new f("Not implemented yet")}},{key:"gy",get:function(){throw new f("Not implemented yet")}},{key:"tg",get:function(){throw new f("Not implemented yet")}},{key:"SV",get:function(){throw new f("Not implemented yet")}},{key:"EV",get:function(){throw new f("Not implemented yet")}},{key:"ig",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"om",get:function(){throw new f("Not implemented yet")}},{key:"UR",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Ec}},{key:"QM",get:function(){return zN}},{key:"Cg",get:function(){throw new f("Not implemented yet")}},{key:"QF",get:function(){throw new f("Not implemented yet")}},{key:"$R",get:function(){throw new f("Not implemented yet")}},{key:"IV",get:function(){return!0}},{key:"ER",get:function(){return this.yV.ER},set:function(t){this.yV.ER=t}},{key:"RV",get:function(){},set:function(t){}},{key:"iF",get:function(){return this.yV.iF}}]),n}(xy);ki(),Vt();var iD=function(t){function n(n){var e;return(e=t.call(this,Gd.Yf)||this).dV=n,e}return Xi(n,t),n}(fc);ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt();var rD=function(t){function n(n,e){var i,r=uD(e,n.Xw,n.$R,n.NV);return(i=t.call(this,e,r,void 0,!1,n.ql)||this).OV=n.CV,i.AV=n.$R,i.DV=n.NV,i.ps=n.Xw,i.PV=n.xV,i.BV=Boolean(n.LV),i.MV=n.FV||{},i.UV=n.VV,i.HV=n.qV,i.zV=n.WV,i.jV(),i.GV(),i}Xi(n,t);var e=n.prototype;return e.Wa=function(t){var n=!1;void 0===this.OV&&void 0!==t.CV&&(n=!0,this.OV=t.CV),void 0===this.DV&&void 0!==t.NV&&(n=!0,this.DV=t.NV),void 0===this.ps&&void 0!==t.Xw&&(n=!0,this.ps=t.Xw),void 0===this.PV&&void 0!==t.xV&&(n=!0,this.PV=t.xV),!this.BV&&t.LV&&(n=!0,this.BV=t.LV),n=this.updateCustomAttributes(t,n),void 0===this.UV&&void 0!==t.VV&&(n=!0,this.UV=t.VV),void 0===this.HV&&void 0!==t.qV&&(n=!0,this.HV=t.qV),void 0===this.zV&&void 0!==t.WV&&(n=!0,this.zV=t.WV),this.jV(),this.GV(),this.YV(),n&&this.Bu(new V_(this))},e.updateCustomAttributes=function(t,n){var e=n;if(t.FV)for(var i=0,r=v.keys(t.FV);i<r.length;i++){var u=r[i];void 0===this.MV[u]&&(e=!0,this.MV[u]=t.FV[u])}return e},e.jV=function(){this.ps&&!this.DV&&(this.DV=new Date(this.AV.getTime()+1e3*this.ps))},e.GV=function(){this.DV&&!this.ps&&(this.ps=fu(this.DV.getTime()-this.AV.getTime()))},e.YV=function(){this.jy===1/0&&(this.DV||this.ps)&&(this.jy=uD(this.Wy,this.ps,this.AV,this.DV))},Ii(n,[{key:"tl",get:function(){var t;return this.Qd||(this.Qd=ry(F_(t=this),{get content(){return t.Vy},get class(){return t.CV},get startDate(){return t.$R},get endDate(){return t.NV},get duration(){return t.Xw},get plannedDuration(){return t.xV},get endOnNext(){return t.LV},get scte35Cmd(){return t.VV},get scte35Out(){return t.qV},get scte35In(){return t.WV},get customAttributes(){return t.FV}})),this.Qd}},{key:"CV",get:function(){return this.OV}},{key:"$R",get:function(){return this.AV}},{key:"NV",get:function(){return this.DV}},{key:"Xw",get:function(){return this.ps}},{key:"xV",get:function(){return this.PV}},{key:"LV",get:function(){return this.BV}},{key:"VV",get:function(){return this.UV}},{key:"qV",get:function(){return this.HV}},{key:"WV",get:function(){return this.zV}},{key:"FV",get:function(){return this.MV}}]),n}(z_);function uD(t,n,e,i){return fr(n)?t+n:i?t+(fu(i.getTime())-fu(e.getTime())):1/0}var oD,sD=function(t){function n(){return t.call(this,void 0,void 0,Jy.DATE_RANGE)}Xi(n,t);var e=n.prototype;return e.Wa=function(t,n){!function(t,n,e){for(var i=function(e){var i=r[e],u=Ba(n,(function(t){return t.ql===i.ql}));u?i.Wa(u):t.aS(i)},r=t.hw.Al,u=r.length-1;u>=0;u--)i(u);for(var o=0;o<n.length;o++){var s=n[o],a=s.$R;if(void 0!==a&&!t.zL(s.ql)){var c=e(a);t.TS(new rD(s,c))}}}(this,function(t){for(var n=qs(),e=[],i=0;i<t.length;i++){var r=t[i];if(n.has(r.ql)){var u=n.get(r.ql),o=Fs({},u,ay(r),{FV:Fs({},u.FV,r.FV)});n.set(r.ql,o)}else n.set(r.ql,r),e.push(r.ql)}return e.map((function(t){return n.get(t)}))}(t),n)},e.TS=function(n){var e,i,r;e=this.hw.Al,i=n,(r=La(e,(function(t){return t.CV===i.CV})))&&r.LV&&r.Wa({ql:r.ql,NV:i.$R}),t.prototype.TS.call(this,n)},n}(VO);function aD(t){switch(t.type){case"daterange-ca-type_string":return t.value;case"daterange-ca-type_number":return hy(t.value);case"daterange-ca-type_arraybuffer":return Tc(t.value);default:return}}function cD(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}ki(),Vt(),function(t){t.gF="daterange-ca-type_string",t.UU="daterange-ca-type_number",t.VU="daterange-ca-type_arraybuffer"}(oD||(oD={})),ki(),Vt(),ki(),Vt(),Ri();var fD=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,r,e,i)||this).hI=n,o.XV=u,o}return Xi(n,t),Ii(n,[{key:"name",get:function(){return this.hI}},{key:"timestamp",get:function(){return this.XV}}]),n}(Sd);ki(),Vt();var hD=function(t){function n(n,e,i,r,u,o,s,a){var c;return(c=t.call(this,n,e,i,r,a)||this).url=u,c.status=o,c.errorComment=s,c}return Xi(n,t),n}(fD);ki(),Vt(),Ri();var vD=function(){function t(t,n){this.Sg=new Sb,this.$V=new BO(t,n)}var n=t.prototype;return n.bS=function(t,n,e,i,r,u,o,s){var a=new mO(t,n,e,i,r,u,o,void 0,s);return this.Sg.Nl(a),this.$V.Nl(a),a},n.SS=function(t){this.Sg.Ol(t),this.$V.Ol(t),t.kn()},n.ic=function(){for(var t=0,n=this.Sg.Al.slice();t<n.length;t++){n[t].kn()}this.Sg.ic(),this.$V.ic()},n.kn=function(){this.ic(),this.Sg.kn(),this.$V.kn()},Ii(t,[{key:"Cg",get:function(){return this.Sg}}]),t}(),dD=function(t){function n(n,e,i,r,u){var o;(o=t.call(this)||this).hO=0,o.KV=!1,o.QI=void 0,o.tR=void 0,o.dO=!0,o.lO=1,o.JV=nE.rO(),o.ZV=nE.rO(),o.vO=!1,o.QV=nE.rO(),o.DL=Qy.Lw,o.CS=Qy.Lw,o.dV={ey:0,iy:0,uy:0,oy:0,sy:0,hy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.ZI=void 0,o.nR=new AS,o.eR=new MS;var s=Na(o);o.setCurrentTime=Ms((function(t){return Us(this,(function(n){switch(n.label){case 0:return s.gy.length?[3,2]:(s.hO=t,[4,s.gV.ju("seekablechange")]);case 1:n.sent(),n.label=2;case 2:return s.hO=s.updateCurrentTime(t),s.jU.WU("THEOplayerSetCurrentTime",s.hO),s.wO=!0,s.Bu(new Cm(s.hO)),[2]}}))})),o.tH=function(t){if(t.detail){for(var n=t.detail.buffered,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.JV=new nE(e),o.Bu(new WN(o.Yw))}},o.nH=function(t){o.DL=t.detail.readyState,o.Bu(new Pm(+t.detail.currentTime,o.fw)),o.eH()},o.iH=function(t){o.DL=t.detail.readyState,o.Bu(new xm(+t.detail.currentTime,o.fw)),o.eH()},o.rH=function(t){if(t.detail){var n=+t.detail.duration;o.ps=n,o.Bu(new Em(o.Xw))}},o.uH=function(t){t.detail&&(o.KV=!0,o.Bu(new Nm(+t.detail.currentTime)))},o.iR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,e=JSON.parse(t.detail.errorObject);cD(n=e)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.tR=new hD(e.name,e.message,void 0,e.code,e.url,e.status,e.errorComment,e.timestamp),o.QI=g_(o.tR),o.Bu(new Lm(o.tR))):cD(e)&&(o.tR=new fD(e.name,e.message,void 0,e.code,e.timestamp),o.QI=g_(o.tR),o.Bu(new Lm(o.tR)))}},o.oH=function(t){o.Bu(new eO)},o.sH=function(t){o.DL=t.detail.readyState,o.Bu(new Om(+t.detail.currentTime,o.fw)),o.eH()};var a=Na(o);o.aH=Ms((function(t){return Us(this,(function(n){switch(n.label){case 0:return a.gy.length?[3,2]:[4,a.gV.ju("seekablechange")];case 1:n.sent(),n.label=2;case 2:return a.DL=t.detail.readyState,a.Bu(new Sm(+t.detail.currentTime,a.fw)),a.eH(),[2]}}))})),o.cH=function(t){t.detail&&o.dO&&(o.dO=!1,o.Bu(new km(+t.detail.currentTime)))},o.fH=function(t){t.detail&&(o.dO||(o.dO=!0,o.Bu(new _m(+t.detail.currentTime))))},o.hH=function(t){if(t.detail){for(var n=t.detail.played,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.QV=new nE(e)}},o.vH=function(t){t.detail&&o.Bu(new $b(+t.detail.currentTime))},o.dH=function(t){t.detail&&(o.lO=t.detail.playbackRate,o.Bu(new Im(+t.detail.currentTime,o.lO)))},o.lH=function(t){if(t.detail){for(var n=t.detail.seekable,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.ZV=new nE(e)}},o.wH=function(t){t.detail&&(o.hO=+t.detail.currentTime,o.wO=!1,o.Bu(new Rm(o.hO,o.gH)),o.Bu(new Am(o.hO)))},o.yH=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.ps&&(o.KV=!1),o.wO=!0,o.Bu(new Cm(n))}},o.mH=function(t){t.detail&&(t.detail.currentDate&&(o.gH=new Date(1e3*t.detail.currentDate)),o.hO=+t.detail.currentTime,o.Bu(new Rm(o.hO,o.gH)))},o._H=function(t){o.pH=t.detail.height,o.bH=t.detail.width},o.kH=function(t){t.detail&&o.Bu(new Xb(+t.detail.currentTime))},o.TH=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.Ng.Nl(new I_(n))},o.SH=function(t){for(var n,e,i=t.detail.lang,r=t.detail.label,u=0;u<o.kg.Dl;u++){var s=o.Ng.Rl(u);s.Yl==i&&s.jl==r?e=o.kg.Rl(u):1==s.Hl&&(n=o.kg.Rl(u))}e&&n&&(e.Hl=!0,n.Hl=!1)},o.EH=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.Og.Nl(new N_(n))},o.IH=function(t){var n,e=t.detail.kind,i=t.detail.type;e===kb.Hp&&i===Jy.ID3?(n=new HO("",t.detail.label)).rw=Ey.ow:e===kb.Hp&&i===Jy.DATE_RANGE?(n=new sD,o.RH=n):n=new mO(e,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,i),o.NH.Nl(n),o.$V.Nl(n)},o.OH=function(t){for(var n=0,e=t.detail;n<e.length;n++){var i=e[n],r=i.Id3FrameId,u=void 0;if("PRIV"===r)u={id:r,ownerIdentifier:i.Id3_PRIV_ownerIdentifier,data:i.Id3_PRIV_data};else if("TXXX"===r||"TXX"===r){u={id:r,text:i.Id3FrameText,description:i.Id3FrameDescription}}else{u={id:r,text:i.Id3FrameText}}var s=new UO(hy(i.startTime),u,i.uid),a=o.CH();a&&a.TS(s)}},o.AH=function(t){for(var n=0,e=t.detail;n<e.length;n++){var i,r=e[n],u=new W_(hy(r.startTime),hy(r.endTime),r.content,!1),s=null!=(i=o.DH(kb.Up))?i:o.DH(kb.rS);s&&(s.iu=Jy.WEBVTT,s.TS(u))}},o.PH=function(t){t.type===Gd.hf&&(o.QI=g_(t.errorObject)),o.xu(t)},o.xH=function(t){t.detail&&(o.dV.iy=t.detail.corruptedVideoFrames,o.dV.ey=t.detail.droppedVideoFrames,o.Bu(new iD(o.ny)))},o.BH=function(t){var n=function(t){var n=t.detail,e=[];return n.forEach((function(t){var n={ql:t.id};if(void 0!==t.startDate&&(n.$R=new Date(t.startDate)),void 0!==t.endDate&&(n.NV=new Date(t.endDate)),void 0!==t.customAttributes){var i={};for(var r in t.customAttributes){var u=aD(t.customAttributes[r]);void 0!==u&&(i[r]=u)}n.FV=i}void 0!==t.scte35Cmd&&(n.VV=Tc(t.scte35Cmd)),void 0!==t.scte35In&&(n.WV=Tc(t.scte35In)),void 0!==t.scte35Out&&(n.qV=Tc(t.scte35Out)),void 0!==t.startTime&&(n.Fy=t.startTime),n.CV=t.class,n.Xw=hy(t.duration),n.xV=hy(t.plannedDuration),e.push(n)})),e}(t);n.forEach((function(t){var e=null!=t.Fy?t.Fy:(new Date).getTime(),i=new rD(t,e);o.RH.TS(i),o.RH.Wa(n,e)}))};var c=r.uid;o.jU=o.getSdkBridge(c),o.gV=new HA,AA()[c].sdkEventBus=o.gV,o.kg=new y_,o.Tg=new y_;var f=o.LH(i);return o.mS=new vD(Na(o),new LO),o.$V=new FO(Na(o)),o.NR=new Ub(o.mS,f),o.NH=new Sb,o.MH=new qO(o.mS,o.NH),o.Sg=new xS([o.NH,o.NR.Bb,o.MH.Bb]),o.fV=o.getFairPlayControllerBridge(o.jU),o.pR=new eD(o.gV,o.fV),o.SR=new DS(f),o.pR.ER=o.SR,o.observeMediaElement(),o.RR(),o.yO=new qA(o.jU,u),o.yO.Mu("zP",(function(){o.jU.WU("THEOplayerSetPreferredForwardBufferDuration",o.yO.VP)})),o}Xi(n,t);var e=n.prototype;return e.zg=function(){return rE},e.Vg=function(){this.jU.WU("THEOplayerShow",{})},e.Hg=function(){this.jU.WU("THEOplayerHide",{})},e.FH=function(){var t=this;this.jU.WU("THEOplayerSetInitialPreferredPeakBitRate",this.yO.nx);var n=function(){t.jU.WU("THEOplayerSetInitialPreferredPeakBitRate",0),t.Hu("playing",n)};this.Mu("playing",n)},e.xg=function(t,n){var e=this;return Ms((function(){var i,r,u;return Us(this,(function(o){switch(o.label){case 0:return e.UH=t,i=Fs({},n,{sources:{src:t.src,type:jy.Ow,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),e.jU.WU("THEOplayerSourceChange",i),r={iu:jb.IS,lw:t.src,sh:t.type,OR:e.CR(t),AR:t.crossOrigin,DR:n.metadata&&n.metadata.title},e.SR.MI(t.contentProtection),[4,e.pR.qa(r)];case 1:return e.ZI=o.sent(),n.textTracks&&(u=n.textTracks.filter((function(t){return t.format!==Jy.WEBVTT}))).length>0&&e.PR(u),Wb(e.Cg),e.FH(),[2]}}))}))()},e.CR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Ja:da,WR:[{initDataTypes:[da.uu],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.gn=function(){this.dO=!1,this.Bu(new km(this.Yw)),this.jU.WU("THEOplayerPlay",{})},e.yn=function(){this.dO=!0,this.Bu(new _m(this.Yw)),this.jU.WU("THEOplayerPause",{})},e.qg=function(){},e.ic=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return t.hO=0,t.KV=!1,t.QI=void 0,t.tR=void 0,t.dO=!0,t.lO=1,t.ps=void 0,t.ZV=nE.rO(),t.JV=nE.rO(),t.pH=void 0,t.bH=void 0,t.DL=Qy.Lw,t.CS=Qy.Lw,t.kg.ic(),t.Tg.ic(),t.NH.ic(),t.Sg.ic(),[4,t.MH.ic()];case 1:return n.sent(),[4,t.NR.ic()];case 2:return n.sent(),t.mS.ic(),t.$V.ic(),t.UH=void 0,[4,t.pR.ic()];case 3:return n.sent(),[2]}}))}))()},e.Lg=function(){this.jU.WU("THEOplayerShowAirPlayPicker",{})},e.Mg=function(){this.jU.WU("THEOplayerStopAirPlayPicker",{})},e.updateMetrics=function(t){this.ny.iy=t.iy,this.ny.ey=t.ey},e.kn=function(){var t=this;return Ms((function(){return Us(this,(function(n){switch(n.label){case 0:return[4,t.ic()];case 1:return n.sent(),t.Vu(),t.unobserveMediaElement(),t.zR(),t.pR.ER=void 0,[4,t.pR.ku()];case 2:return n.sent(),t.kg.kn(),t.Tg.kn(),t.NH.kn(),t.Sg.kn(),[4,t.MH.kn()];case 3:return n.sent(),[4,t.NR.kn()];case 4:return n.sent(),t.mS.kn(),t.$V.kn(),[2]}}))}))()},e.PR=function(t){for(var n=0;n<t.length;n++){var e=t[n];this.NR.pS(e)}},e.eH=function(){var t=this.CS,n=this.DL;t!==n&&(this.CS=n,this.Bu(new Bm(this.Yw,n)))},e.observeMediaElement=function(){this.pR.Mu(Gd.sf,this.xu),this.pR.Mu([Gd.vf,Gd.hf],this.PH),this.gV.addEventListener("play",this.cH),this.gV.addEventListener("pause",this.fH),this.gV.addEventListener("seeking",this.yH),this.gV.addEventListener("seeked",this.wH),this.gV.addEventListener("ratechange",this.dH),this.gV.addEventListener("durationchange",this.rH),this.gV.addEventListener("timeupdate",this.mH),this.gV.addEventListener("waiting",this.kH),this.gV.addEventListener("playing",this.vH),this.gV.addEventListener("ended",this.uH),this.gV.addEventListener("loadedmetadata",this.aH),this.gV.addEventListener("loadeddata",this.sH),this.gV.addEventListener("loadstart",this.oH),this.gV.addEventListener("canplay",this.nH),this.gV.addEventListener("canplaythrough",this.iH),this.gV.addEventListener("error",this.iR),this.gV.addEventListener("seekablechange",this.lH),this.gV.addEventListener("videosizechange",this._H),this.gV.addEventListener("bufferedchange",this.tH),this.gV.addEventListener("playedchange",this.hH),this.gV.addEventListener("metricschange",this.xH),this.gV.addEventListener("addDateRangeCues",this.BH)},e.unobserveMediaElement=function(){this.pR.Hu(Gd.sf,this.xu),this.pR.Hu([Gd.vf,Gd.hf],this.PH),this.gV.removeEventListener("play",this.cH),this.gV.removeEventListener("pause",this.fH),this.gV.removeEventListener("seeking",this.yH),this.gV.removeEventListener("seeked",this.wH),this.gV.removeEventListener("ratechange",this.dH),this.gV.removeEventListener("durationchange",this.rH),this.gV.removeEventListener("timeupdate",this.mH),this.gV.removeEventListener("waiting",this.kH),this.gV.removeEventListener("playing",this.vH),this.gV.removeEventListener("ended",this.uH),this.gV.removeEventListener("loadedmetadata",this.aH),this.gV.removeEventListener("loadeddata",this.sH),this.gV.removeEventListener("loadstart",this.oH),this.gV.removeEventListener("canplay",this.nH),this.gV.removeEventListener("canplaythrough",this.iH),this.gV.removeEventListener("error",this.iR),this.gV.removeEventListener("seekablechange",this.lH),this.gV.removeEventListener("videosizechange",this._H),this.gV.removeEventListener("bufferedchange",this.tH),this.gV.removeEventListener("playedchange",this.hH),this.gV.removeEventListener("metricschange",this.xH),this.gV.removeEventListener("addDateRangeCues",this.BH)},e.updateCurrentTime=function(t){var n=this.gy.start(0),e=this.gy.end(0);return d.min(d.max(t,n),e)},e.CH=function(){for(var t=0,n=this.Sg.Al;t<n.length;t++){var e=n[t];if(e.Wl===kb.Hp&&e.iu===Jy.ID3)return e}},e.DH=function(t){for(var n=0,e=this.Sg.Al;n<e.length;n++){var i=e[n],r=i.rw===Ey.uw,u=i.Wl===t;if(r&&u)return i}},e.RR=function(){this.gV.addEventListener("addaudiotrack",this.TH),this.gV.addEventListener("enableaudiotrack",this.SH),this.gV.addEventListener("addvideotrack",this.EH),this.gV.addEventListener("addtexttrack",this.IH),this.gV.addEventListener("addtexttrackid3cues",this.OH),this.gV.addEventListener("addtexttrackcues",this.AH)},e.zR=function(){this.gV.removeEventListener("addaudiotrack",this.TH),this.gV.removeEventListener("enableaudiotrack",this.SH),this.gV.removeEventListener("addvideotrack",this.EH),this.gV.removeEventListener("addtexttrack",this.IH),this.gV.removeEventListener("addtexttrackid3cues",this.OH),this.gV.removeEventListener("addtexttrackcues",this.AH)},e.$g=function(){},e.Kg=function(){},Ii(n,[{key:"Ng",get:function(){return this.kg}},{key:"Jg",get:function(){return this.JV.GR()}},{key:"Zg",get:function(){return this.gH?this.gH:null},set:function(t){this.jU.WU("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.gH=t}},{key:"Yw",get:function(){return this.hO},set:function(t){this.setCurrentTime(t)}},{key:"Xw",get:function(){return this.ps}},{key:"$w",get:function(){return this.KV}},{key:"Ju",get:function(){return this.QI}},{key:"Kw",get:function(){return this.tR}},{key:"Ag",get:function(){}},{key:"ty",get:function(){return this.pR.ty}},{key:"ny",get:function(){return this.dV}},{key:"Jw",get:function(){return this.vO},set:function(t){this.vO!==t&&(this.jU.WU("THEOplayerSetMuted",t),this.vO=t,this.Bu(new Dm(this.Yw,t?0:1)))}},{key:"Zw",get:function(){return this.dO}},{key:"Qw",get:function(){return this.lO},set:function(t){this.jU.WU("THEOplayerSetPlaybackRate",t),this.lO=t}},{key:"ly",get:function(){return this.QV.GR()}},{key:"wy",get:function(){return GS.lN},set:function(t){}},{key:"fw",get:function(){return this.DL}},{key:"gy",get:function(){return this.ZV.GR()}},{key:"tg",get:function(){return this.wO}},{key:"$R",get:function(){}},{key:"Cg",get:function(){return this.Sg}},{key:"ng",get:function(){return this.pH}},{key:"eg",get:function(){return this.bH}},{key:"ig",get:function(){return 1},set:function(t){}},{key:"yy",get:function(){return this.eR}},{key:"Og",get:function(){return this.Tg}},{key:"KR",get:function(){return this.nR}},{key:"my",get:function(){return!1},set:function(t){}},{key:"vy",get:function(){return!0}}]),n}(xy),lD=function(){function t(){this.JR=RS.OI}var n=t.prototype;return n.ZR=function(n,e){if(n.isAdvertisement)return!1;if(e.vr&&!e.vr.nativeVR&&(e.vr.panoramaMode===XE.PM360||e.vr.panoramaMode===XE.PM180))return!1;if((i=n.type)&&ya(i.toLowerCase(),jy.Nw))return!1;var i,r=n.contentProtection;if(r&&!Pk(r)){if(!Lk(r))return!1;if(!t.VH(r))return!1}return!0},n.QR=function(){return!1},t.VH=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}();ki(),Vt();var wD=function(){function n(t){this.playerID=t}return n.prototype.WU=function(n,e){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var i={body:e,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(i)}},n}();ki(),Vt();var gD=function(t){function n(n){var e;return(e=t.call(this)||this).HH=function(t){var n=Tc(t.detail.initData),i=t.detail.sessionId;e.Bu(new GA(n,i))},e.qH=function(t){var n=new y(Cc(t.detail.message)),i=t.detail.destinationURL;e.Bu(new YA(n,i))},e.zH=function(t){e.Bu(new XA)},e.forwardKeyFlowDone=function(t){e.Bu(new $A)},e.jU=n,e.gV=new HA,AA().fairplayController={sdkEventBus:e.gV},e.WH(),e}Xi(n,t);var e=n.prototype;return e.WH=function(){this.gV.addEventListener(zA.tV,this.HH),this.gV.addEventListener(zA.nV,this.qH),this.gV.addEventListener(zA.eV,this.zH),this.gV.addEventListener(zA.iV,this.forwardKeyFlowDone)},e.VM=function(t,n){var e={playerId:PA(),data:Ac(n.buffer),sessionId:t};this.jU.WU("THEOplayerCreateKeySession",e)},e.Wa=function(t,n){var e={playerId:PA(),data:Ac(n.buffer),sessionId:t};this.jU.WU("THEOplayerUpdateKey",e)},n}(xy);ki(),Vt();var yD,mD,_D,pD=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Ih=function(n){if(vf(n.ah)){var e=df(n.ah);n.ah=nf(e)}return t.prototype.Ih.call(this,n)},n}(pC),bD=function(t){function n(n,e,i,r,u){return t.call(this,n,e,i,r,u)}Xi(n,t);var e=n.prototype;return e.Bg=function(){return!1},e.getSdkBridge=function(t){return new wD(t)},e.getFairPlayControllerBridge=function(t){return new gD(t)},e.LH=function(t){return new pD(t)},n}(dD);yD=new(function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.EE=function(t,n,e,i,r,u){return new bD(t,n,e,i,r)},n}(lD)),jS.ki.uN(yD),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(_D=mD||(mD={})).$d="addtrack",_D.Jd="removetrack",_D.wl="change",_D.bl="update";var kD=function(t,n,e){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=e,this.type=mD.wl};ki(),Vt();var TD=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=mD.$d};ki(),Vt();var SD=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=mD.Jd};ki(),Vt();var ED=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=mD.bl},ID=function(){function t(t,n,e){var i=this;this.jH=function(t){var n=new kD(i.type,t.track,i.mediaTracks);i.messageDispatcher.GH(n)},this.YH=function(t){var n=new TD(i.type,t.track);i.messageDispatcher.GH(n),t.track.addEventListener("update",i.XH)},this.$H=function(t){var n=new SD(i.type,t.track);i.messageDispatcher.GH(n)},this.XH=function(t){var n=new ED(i.type,t.track);i.messageDispatcher.GH(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=e,this.WH()}return t.prototype.WH=function(){this.mediaTracks.addEventListener("change",this.jH),this.mediaTracks.addEventListener("addtrack",this.YH),this.mediaTracks.addEventListener("removetrack",this.$H)},t}();ki(),Vt();var RD=function(){function t(t){this.KH=new wD(t)}return t.prototype.GH=function(t){this.KH.WU(t.type,eA(t))},t}();RC((function(t){if(t.tl.audioTracks){var n=new RD(t.zl);new ID("audio",t.tl.audioTracks,n)}if(t.tl.videoTracks){var e=new RD(t.zl);new ID("video",t.tl.videoTracks,e)}})),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var ND=function(){function t(){this.JH=e.webkit}return t.prototype.WU=function(t,n){this.JH.messageHandlers[t]&&this.JH.messageHandlers[t].postMessage(n)},t}();ki(),Vt(),ki(),Vt(),ki(),Vt();var OD,CD,AD="nativePromiseCallback",DD=function(t){function n(n){var e;return(e=t.call(this,AD)||this).detail=n,e}return Xi(n,t),n}(fc);(CD=OD||(OD={})).RESOLVE="NATIVE_PROMISE_RESOLVE",CD.REJECT="NATIVE_PROMISE_REJECT";var PD=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.dispatchEvent=function(t,n){this.Bu(new DD(n))},e.addEventListener=function(t,n){this.Mu(t,n)},e.removeEventListener=function(t,n){this.Hu(t,n)},n}(HA),xD=N(Fi()),BD=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var e=t.promisesMap[n.detail.promiseId];if(!e)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case OD.RESOLVE:e.ko(n.detail.data);break;case OD.REJECT:e.To(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new PD;AA().nativePromise={sdkEventBus:n},n.addEventListener(AD,this.handleNativePromiseEvent)}return t.prototype.ZH=function(n){var e;t.messageIdTracker+=1;var i=t.messageIdTracker.toString(),r=Fs({},n,{promiseId:i}),u=new mf;return this.promisesMap[i]=u,null==(e=this.KH)||e.WU(n.type,(0,xD.default)(r)),u.bo},t}();BD.messageIdTracker=-1;var LD=function(t){function n(){var n;return(n=t.call(this)||this).KH=new ND,n}return Xi(n,t),n}(BD);ki(),Vt();var MD,FD,UD=function(t){function n(n){var e;return(e=t.call(this)||this).KH=new wD(n),e}return Xi(n,t),n}(BD);ki(),Vt(),ki(),Vt(),(FD=MD||(MD={})).$d="TextTrackListAddTrack",FD.Jd="TextTrackListRemoveTrack",FD.wl="TextTrackListChange";var VD=function(t){this.textTrack=t,this.type=MD.$d};ki(),Vt();var HD=function(t){this.textTrack=t,this.type=MD.Jd};ki(),Vt();var qD,zD,WD=function(t){this.textTrack=t,this.type=MD.wl};ki(),Vt(),ki(),Vt(),ki(),Vt(),(zD=qD||(qD={})).ul="TextTrackAddCue",zD.sl="TextTrackRemoveCue",zD.cl="TextTrackEnterCue",zD.hl="TextTrackExitCue",zD.dl="TextTrackCueChange";var jD=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=qD.ul};ki(),Vt();var GD=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=qD.sl};ki(),Vt();var YD=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=qD.cl};ki(),Vt();var XD=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=qD.hl};ki(),Vt();var $D,KD,JD=function(t){this.textTrackUid=t,this.type=qD.dl};ki(),Vt(),ki(),Vt(),ki(),Vt(),(KD=$D||($D={})).Py="TextTrackCueEnter",KD.By="TextTrackCueExit",KD.bl="TextTrackCueUpdate";var ZD=function(t){this.textTrackCue=t,this.type=$D.Py};ki(),Vt();var QD=function(t){this.textTrackCue=t,this.type=$D.By};ki(),Vt();var tP=function(t){this.textTrackCue=t,this.type=$D.bl},nP=function(){function t(t){var n=this;this.QH=function(t){var e=eP(t.cue),i=new ZD(e);n.messageDispatcher.ZH(i).then()},this.tq=function(t){var e=eP(t.cue),i=new QD(e);n.messageDispatcher.ZH(i).then()},this.nq=function(t){var e=eP(t.cue),i=new tP(e);n.messageDispatcher.ZH(i).then()},this.messageDispatcher=t}var n=t.prototype;return n.WH=function(t){t.addEventListener("enter",this.QH),t.addEventListener("exit",this.tq),t.addEventListener("update",this.nq)},n.zu=function(t){t.removeEventListener("enter",this.QH),t.removeEventListener("exit",this.tq),t.removeEventListener("update",this.nq)},t}();function eP(t){var n=kA(t,t.track.type);return delete n.track,n}var iP=function(){function t(t,n){var e=this;this.iq=function(t){var n,i=eP(t.cue),r=new jD(i,t.cue.track.uid);e.messageDispatcher.ZH(r).then(),null==(n=e.textTrackCueBridge)||n.WH(t.cue)},this.rq=function(t){var n,i=eP(t.cue),r=new GD(i,t.cue.track.uid);e.messageDispatcher.ZH(r).then(),null==(n=e.textTrackCueBridge)||n.zu(t.cue)},this.QH=function(t){var n=eP(t.cue),i=new YD(n,t.cue.track.uid);e.messageDispatcher.ZH(i).then()},this.tq=function(t){var n=eP(t.cue),i=new XD(n,t.cue.track.uid);e.messageDispatcher.ZH(i).then()},this.uq=function(t){var n=new JD(t.track.uid);e.messageDispatcher.ZH(n).then()},this.messageDispatcher=t;var i=this.initMessageDispatcher(n);i&&(this.textTrackCueBridge=new nP(i))}var n=t.prototype;return n.WH=function(t){t.addEventListener("addcue",this.iq),t.addEventListener("removecue",this.rq),t.addEventListener("entercue",this.QH),t.addEventListener("exitcue",this.tq),t.addEventListener("cuechange",this.uq)},n.zu=function(t){t.removeEventListener("addcue",this.iq),t.removeEventListener("removecue",this.rq),t.removeEventListener("entercue",this.QH),t.removeEventListener("exitcue",this.tq),t.removeEventListener("cuechange",this.uq)},n.initMessageDispatcher=function(t){return sr.mi?new LD:sr._i&&void 0!==t?new UD(t):void 0},t}(),rP=function(){function t(t,n,e){var i=this;this.YH=function(t){var n,e=new VD(t.track);i.messageDispatcher.ZH(e).then(),null==(n=i.textTrackBridge)||n.WH(t.track)},this.$H=function(t){var n,e=new HD(t.track);i.messageDispatcher.ZH(e).then(),null==(n=i.textTrackBridge)||n.zu(t.track)},this.oq=function(t){var n=new WD(t.track);i.messageDispatcher.ZH(n).then()},this.sq=function(t){var n=t.detail.uid,e=t.detail.mode;i.textTracks.filter((function(t){return t.uid===n}))[0].mode=e},this.textTracks=t,this.messageDispatcher=n;var r=this.aq(e);r&&(this.textTrackBridge=new iP(r,e)),this.WH(),this.sdkEventBus=new HA,AA().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.sq)}var n=t.prototype;return n.WH=function(){this.textTracks.addEventListener("addtrack",this.YH),this.textTracks.addEventListener("removetrack",this.$H),this.textTracks.addEventListener("change",this.oq)},n.aq=function(t){return sr.mi?new LD:sr._i&&void 0!==t?new UD(t):void 0},t}();RC((function(t){if(t.tl.textTracks){var n=new UD(t.zl);new rP(t.tl.textTracks,n,t.zl)}})),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var uP,oP,sP,aP=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case"registerContentProtectionIntegration":var e={integrationId:n.integrationId,keySystem:n.keySystem};this.Bu(new cP(e));break;default:0}},n}(HA),cP=function(t){function n(n){var e;return(e=t.call(this,"registerContentProtectionIntegration")||this).detail=n,e}return Xi(n,t),n}(fc);(uP||(uP={})).cq="registerContentProtectionIntegration",ki(),Vt(),ki(),Vt(),(sP=oP||(oP={})).fq="certifiateRequest",sP.hq="certifiateResponse",sP.vq="licenseRequest",sP.dq="licenseResponse",sP.lq="extractFairplayContentId",sP.wq="buildContentProtection",sP.gq="registerContentProtectionCallback";var fP,hP,vP=function(t,n){this.value=t,this.integrationId=n,this.type=oP.gq};ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(hP=fP||(fP={})).GALLERY="gallery",hP.OVERLAY="overlay",hP.SPOTLIGHT="spotlight",ki(),Vt();var dP=function(t,n){this.value=t,this.integrationId=n,this.type=oP.wq};ki(),Vt();var lP=function(t,n){this.value=t,this.integrationId=n,this.type=oP.fq};ki(),Vt();var wP=function(t,n){this.value=t,this.integrationId=n,this.type=oP.hq};ki(),Vt();var gP=function(t,n){this.value=t,this.integrationId=n,this.type=oP.lq};ki(),Vt();var yP=function(t,n){this.value=t,this.integrationId=n,this.type=oP.vq};ki(),Vt();var mP=function(t,n){this.value=t,this.integrationId=n,this.type=oP.dq},_P=function(){function t(t,n){this.yq=t,this.IE=n}var n=t.prototype;return n.onCertificateRequest=function(t){var n=this;return Ms((function(){var e,i,r,u,o;return Us(this,(function(s){switch(s.label){case 0:e=n.toCertificateRequestDTO(t),i=new lP(e,n.IE),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.yq.ZH(i)];case 2:if(r=s.sent()){if(u=JSON.parse(r),n.mq(u))return[2,Fs({},u)];if(n._q(u))return[2,new y(u)]}throw new d_(md.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 3:throw o=s.sent(),new d_(md.CONTENT_PROTECTION_CERTIFICATE_ERROR,o);case 4:return[2]}}))}))()},n.onCertificateResponse=function(t){var n=this;return Ms((function(){var e,i,r,u,o;return Us(this,(function(s){switch(s.label){case 0:return e=n.toCertificateRequestDTO(t.request),i={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new wP(i,n.IE),[4,n.yq.ZH(r)];case 1:if(u=s.sent())return o=JSON.parse(u),[2,new y(o)];throw new d_(md.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse")}}))}))()},n.onLicenseRequest=function(t){var n=this;return Ms((function(){var e,i,r,u,o,s;return Us(this,(function(a){switch(a.label){case 0:e=n.toCertificateRequestDTO(t),i={url:e.url,method:e.method,headers:e.headers,body:e.body?Array.from(e.body):null,useCredentials:e.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new yP(i,n.IE),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.yq.ZH(r)];case 2:if(u=a.sent()){if(o=JSON.parse(u),n.mq(o))return[2,{url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl}];if(n._q(o))return[2,new y(o)]}throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 3:throw s=a.sent(),new d_(md.CONTENT_PROTECTION_CERTIFICATE_ERROR,s);case 4:return[2]}}))}))()},n.onLicenseResponse=function(t){var n=this;return Ms((function(){var e,i,r,u,o,s;return Us(this,(function(a){switch(a.label){case 0:return e=n.toCertificateRequestDTO(t.request),i=Fs({},e,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new mP(r,n.IE),[4,n.yq.ZH(u)];case 1:if(o=a.sent())return s=JSON.parse(o),[2,new y(s)];throw new d_(md.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse")}}))}))()},n.extractFairplayContentId=function(t){var n=this;return Ms((function(){var e,i;return Us(this,(function(r){switch(r.label){case 0:return e=new gP(t,n.IE),[4,n.yq.ZH(e)];case 1:return(i=r.sent())?[2,i]:[2,G.reject(new d_(md.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId"))]}}))}))()},n.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},n.mq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},n._q=function(t){return!!new y(t)},t}(),pP=function(){function t(t){this.yq=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new _P(this.yq,t.integration),e=new dP({drmConfiguration:t},t.integration);return this.yq.ZH(e),n},t}(),bP=function(t){function n(n){var e;return(e=t.call(this)||this).yq=new UD(n),e}return Xi(n,t),Ii(n,[{key:"messageDispatcher",get:function(){return this.yq}}]),n}((function(){var t=this;this.pq=function(n){var e=new pP(t.messageDispatcher),i=n.detail,r=i.integrationId,u=i.keySystem,o={state:Ek.DE.NE(r,u,e)};t.messageDispatcher.ZH(new vP(o,r))},this.gV=new aP,AA().contentProtectionIntegration={sdkEventBus:this.gV},this.gV.addEventListener(uP.cq,this.pq)}));return RC((function(t){new bP(t.tl.uid)})),n.exports}));