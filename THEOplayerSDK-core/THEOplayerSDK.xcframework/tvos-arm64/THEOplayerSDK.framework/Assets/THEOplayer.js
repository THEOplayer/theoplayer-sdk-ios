/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2023.2.3 (5.2.0)
 Created: 2023-05-16T15:14:16.009Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i=t.window,e=t.document,r=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,c=t.setInterval,a=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest);var _=s;function p(t){return Boolean(t&&void 0!==t.length)}function b(){}function k(t){if(!(this instanceof k))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],O(t,this)}function T(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,k.R(function(){var i=1===t.o?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.g)}catch(t){return void E(n.promise,t)}S(n.promise,e)}else(1===t.o?S:E)(n.promise,t.g)})):t.p.push(n)}function S(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof k)return t.o=3,t.g=n,void R(t);if("function"==typeof i)return void O((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.o=1,t.g=n,R(t)}catch(n){E(t,n)}var e,r}function E(t,n){t.o=2,t.g=n,R(t)}function R(t){2===t.o&&0===t.p.length&&k.R(function(){t.l||k.I(t.g)});for(var n=0,i=t.p.length;n<i;n++)T(t,t.p[n]);t.p=null}function I(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function O(t,n){var i=!1;try{t(function(t){i||(i=!0,S(n,t))},function(t){i||(i=!0,E(n,t))})}catch(t){if(i)return;i=!0,E(n,t)}}k.prototype.catch=function(t){return this.then(null,t)},k.prototype.then=function(t,n){var i=new this.constructor(b);return T(this,new I(t,n,i)),i},k.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},k.all=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,function(n){u(t,n)},i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)u(s,e[s])})},k.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new h(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,function(n){u(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var s=0;s<e.length;s++)u(s,e[s])})},k.resolve=function(t){return t&&"object"==typeof t&&t.constructor===k?t:new k(function(n){n(t)})},k.reject=function(t){return new k(function(n,i){i(t)})},k.race=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)k.resolve(t[e]).then(n,i)})},k.R="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){_(t,0)},k.I=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var C=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),N=u?u.userAgent:"",D=N.match(/Firefox\/([0-9]+)/i),A=null!=D,P=D?Number(D[1]):0,x=N.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),L=null!=x,B=x?Number(x[3]):0,M=function(){function t(t){this.C=0,this.N=0,this.P=[],this.B=t}return t.prototype.M=function(t){var n=this.length();this.F(n+1);var i=this.N+n&this.B-1;this.P[i]=t,this.C=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.B<n)this.M(t);else{var i=this.N+n-1,e=this.B-1;this.P[i&e]=t,this.C=n}},t.prototype.shift=function(){var t=this.N,n=this.P[t];return this.P[t]=void 0,this.N=t+1&this.B-1,this.C--,n},t.prototype.length=function(){return this.C},t.prototype.F=function(t){this.B<t&&this.U(this.B<<1)},t.prototype.U=function(t){var n=this.B;this.B=t;var i=this.N+this.C&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.P,0,n,i)},t}();var F="unhandledrejection",U=t.PromiseRejectionEvent,V=t.CustomEvent;function H(t){return new U(F,{reason:t,promise:C.reject(t).catch(function(){}),cancelable:!0})}function q(t){var n=new V(F,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function W(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(F,!1,!0,{reason:t}),n}var z,j,$,X,G,Y,K,J,Z,Q,tt,nt,it=function(t){return(it=function(){try{var t=C.resolve(),n=new U(F,{reason:"error",promise:t});return F===n.type&&"error"===n.reason}catch(t){}return!1}()?H:function(){try{var t=new V(F,{detail:{reason:"error"}});return F===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?q:W)(t)};if(C&&!(A&&P<60||L&&B<15))j=C;else{j=k;var et=null!==(z=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=C;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==z?z:k.R,rt=($=et,X=new M(16),G=!1,{V:function(t){X.push(t),G||(G=!0,$(Y))},H:Y=function(){for(;X.length()>0;)X.shift()();G=!1}});k.R=rt.V,k.I=function(n){try{var i=it(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}s(function(){throw new f("Unhandled promise rejection: ".concat(n))},0)}}var ut,st,ot,ct={W:function(){function t(){this.j=[]}var n=t.prototype;return n.X=function(){},n.G=function(t){return{Y:function(){return j.resolve()},K:function(){}}},n.J=function(t){throw new f("Not implemented")},n.Z=function(t){return j.resolve()},n.nt=function(t){return j.resolve()},n.it=function(t){},n.et=function(){},t}(),rt:function(){function t(){}var n=t.prototype;return n.ut=function(){return j.resolve("all")},n.st=function(){},n.et=function(){},t}(),ot:{ct:function(t){getActiveDocument().addEventListener("unload",t)},ft:function(t){getActiveDocument().removeEventListener("unload",t)}},ht:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function at(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function ft(t,n,i){return n&&at(t.prototype,n),i&&at(t,i),v.defineProperty(t,"prototype",{writable:!1}),t}function ht(t,n){return(ht=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function vt(t,n){t.prototype=v.create(n.prototype),t.prototype.constructor=t,ht(t,n)}function dt(t){st=t}Element.prototype.style={},K=(ut=ct).W,J=ut.rt,Z=ut.ot,Q=ut.ht,tt=Q&&Q.location,nt=Q&&Q.navigator,function(t){t.vt="web",t.dt="android",t.wt="android-tv",t.yt="ios",t._t="tvos",t.pt="chromecast"}(ot||(ot={}));var lt=u?u.userAgent:"",wt=lt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),gt=lt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),yt=lt.match(/Android ([0-9\.]+)/i),mt=lt.match(/Windows NT ([0-9\.]+)/i),_t=lt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),pt=lt.match(/Firefox\/([0-9\.]+)/i),bt=lt.match(/OPR\/(\d+\.\d+)/i),kt=lt.match(/Tizen ([0-9\.]+)/i),Tt=lt.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),St=function(){function n(){this.bt=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.kt=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(lt)||/(macintosh|mac(?=_powerpc)\s)/i.test(lt),this.Tt=/Windows NT/i.test(lt),this.St=mt?w(mt[1]):0,this.Et=/Android/i.test(lt),this.Rt=yt?w(yt[1]):0,this.It=/windows phone (8|8\.1)/i.test(lt),this.Ot=/iPhone/i.test(lt),this.Ct=/iPad/i.test(lt),this.Nt=this.kt&&this.bt&&!this.Ct,this.Dt=/iPod/i.test(lt),this.At=/Mobile Safari/i.test(lt),this.Pt=/EOSSTB/i.test(lt),this.xt=(this.Ot||this.Ct||this.Nt||this.Dt)&&!this.It,this.Lt=Tt?w(Tt[2]):0,this.Bt=this.It||this.xt||this.Et||this.At,this.Mt=/CriOS/i.test(lt),this.Ft=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Mt,this.Ut=this.Ft&&/Edg\//i.test(u.userAgent),this.Vt=gt?l(gt[1],10):0,this.Ht=Boolean(t.chrome||/Chrome/i.test(lt)||/CriOS/i.test(lt)),this.qt=wt?l(wt[1],10):0,this.Wt=/SMART-TV.*Tizen/i.test(lt),this.zt=kt?w(kt[1]):0,this.jt=/webos|web0s/i.test(lt),this.$t=/Edge\/\d+/i.test(lt),this.Xt=/Trident/i.test(lt),this.Gt=this.Xt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Yt=/Vivaldi/i.test(lt),this.Kt=/Firefox/i.test(lt)&&!/Seamonkey/i.test(lt),this.Jt=pt?w(pt[1]):0,this.Zt=/Safari/i.test(lt)&&!/Chrome/i.test(lt)&&!this.It&&!this.Wt,this.Qt=_t?w(_t[2]):0,this.tn=Boolean(bt),this.nn=bt?w(bt[1]):0,this.in=/CrKey/.test(lt),this.en=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(lt),this.rn="tvos"===ot.wt,this.un="tvos"===ot.dt,this.sn=this.un||this.rn,this.cn="tvos"===ot.yt,this.an="tvos"===ot._t,this.fn="tvos"===ot.pt}return ft(n,[{key:"hn",get:function(){return this.bt}},{key:"vn",get:function(){return this.kt}},{key:"dn",get:function(){return this.Tt}},{key:"ln",get:function(){return this.St}},{key:"wn",get:function(){return this.Et}},{key:"gn",get:function(){return this.Rt}},{key:"yn",get:function(){return this.It}},{key:"mn",get:function(){return this.Ot}},{key:"_n",get:function(){return this.Ct}},{key:"pn",get:function(){return this.Nt}},{key:"bn",get:function(){return this.Dt}},{key:"kn",get:function(){return this.xt}},{key:"Tn",get:function(){return this.Lt}},{key:"Sn",get:function(){return this.Pt}},{key:"En",get:function(){return this.At}},{key:"Rn",get:function(){return this.Bt}},{key:"In",get:function(){return this.Mt}},{key:"On",get:function(){return this.Ft}},{key:"Cn",get:function(){return this.qt}},{key:"Nn",get:function(){return this.Ut}},{key:"Dn",get:function(){return this.Vt}},{key:"An",get:function(){return this.Wt}},{key:"Pn",get:function(){return this.zt}},{key:"xn",get:function(){return this.jt}},{key:"Ln",get:function(){return this.$t}},{key:"Bn",get:function(){return this.Xt}},{key:"Mn",get:function(){return this.Gt}},{key:"Fn",get:function(){return this.Yt}},{key:"Un",get:function(){return this.Kt}},{key:"Vn",get:function(){return this.Jt}},{key:"Hn",get:function(){return this.Zt}},{key:"qn",get:function(){return this.Qt}},{key:"Wn",get:function(){return this.tn}},{key:"zn",get:function(){return this.nn}},{key:"jn",get:function(){return this.in}},{key:"$n",get:function(){return this.en}},{key:"Xn",get:function(){return!(!this.xn&&!this.An)&&this.Cn<=56}},{key:"Gn",get:function(){return this.rn}},{key:"Yn",get:function(){return this.un}},{key:"Kn",get:function(){return this.sn}},{key:"Jn",get:function(){return this.cn}},{key:"Zn",get:function(){return this.an}},{key:"Qn",get:function(){return this.fn}},{key:"ti",get:function(){return this.Ht}}]),n}();St.ni=new St;var Et=St.ni,Rt={}.hasOwnProperty,It={}.toString;function Ot(t){return null!=t}function Ct(t){return void 0===t}var Nt=Array.isArray||function(t){return"[object Array]"===It.call(t)};function Dt(t){return At(t)&&Rt.call(t,"length")&&Mt(t.length)}function At(t){return"object"==typeof t&&null!==t}function Pt(t){return At(t)&&t.constructor&&t.constructor===v}function xt(t){return"string"==typeof t}function Lt(t){return"boolean"==typeof t}function Bt(t){return Boolean(t)&&"function"==typeof t.then}function Mt(t){return"number"==typeof t}var Ft=function(){},Ut=function(t){return t},Vt=!(Et.Bn&&!Et.Mn),Ht=t.console;function qt(t){if(At(t))try{return JSON.stringify(t)}catch(t){}return t}function Wt(t){return t.map(qt).join(" ")}function zt(t){var n=Ht&&Ht[t];return n?n.bind&&Vt?n.bind(Ht):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Ht[t](Wt(i))}:void 0}var jt,$t=zt("log")||Ft,Xt=zt("warn")||$t.bind(void 0,"WARNING:"),Gt=zt("error")||$t.bind(void 0,"ERROR:"),Yt=(jt=Ht&&Ht.assert)?jt.bind&&Vt?jt.bind(Ht):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Ht.assert(t,Wt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Gt.apply(void 0,["Assertion failed:"].concat(i))}},Kt=null;try{Kt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Jt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Zt(t){return!0===(t&&t.ii)}function Qt(t){var n=d.clz32(t&-t);return t?31-n:n}Jt.prototype.ii,v.defineProperty(Jt.prototype,"ii",{value:!0}),Jt.isLong=Zt;var tn={},nn={};function en(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=nn[t])?e:(i=un(t,0,!0),r&&(nn[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=tn[t])?e:(i=un(t,t<0?-1:0,!1),r&&(tn[t]=i),i)}function rn(t,n){if(g(t))return n?ln:dn;if(n){if(t<0)return ln;if(t>=fn)return _n}else{if(t<=-hn)return pn;if(t+1>=hn)return mn}return t<0?rn(-t,n).neg():un(t%an|0,t/an|0,n)}function un(t,n,i){return new Jt(t,n,i)}Jt.fromInt=en,Jt.fromNumber=rn,Jt.fromBits=un;var sn=d.pow;function on(t,n,i){if(0===t.length)throw f("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?ln:dn;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw f("interior hyphen");if(0===e)return on(t.substring(1),n,i).neg();for(var r=rn(sn(i,8)),u=dn,s=0;s<t.length;s+=8){var o=d.min(8,t.length-s),c=l(t.substring(s,s+o),i);if(o<8){var a=rn(sn(i,o));u=u.mul(a).add(rn(c))}else u=(u=u.mul(r)).add(rn(c))}return u.unsigned=n,u}function cn(t,n){return"number"==typeof t?rn(t,n):"string"==typeof t?on(t,n):un(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Jt.fromString=on,Jt.fromValue=cn;var an=4294967296,fn=an*an,hn=fn/2,vn=en(1<<24),dn=en(0);Jt.ZERO=dn;var ln=en(0,!0);Jt.UZERO=ln;var wn=en(1);Jt.ONE=wn;var gn=en(1,!0);Jt.UONE=gn;var yn=en(-1);Jt.NEG_ONE=yn;var mn=un(-1,2147483647,!1);Jt.MAX_VALUE=mn;var _n=un(-1,-1,!0);Jt.MAX_UNSIGNED_VALUE=_n;var pn=un(0,-2147483648,!1);Jt.MIN_VALUE=pn;var bn=Jt.prototype;bn.toInt=function(){return this.unsigned?this.low>>>0:this.low},bn.toNumber=function(){return this.unsigned?(this.high>>>0)*an+(this.low>>>0):this.high*an+(this.low>>>0)},bn.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(pn)){var n=rn(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=rn(sn(t,6),this.unsigned),u=this,s="";;){var o=u.div(r),c=(u.sub(o.mul(r)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},bn.getHighBits=function(){return this.high},bn.getHighBitsUnsigned=function(){return this.high>>>0},bn.getLowBits=function(){return this.low},bn.getLowBitsUnsigned=function(){return this.low>>>0},bn.getNumBitsAbs=function(){if(this.isNegative())return this.eq(pn)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},bn.isZero=function(){return 0===this.high&&0===this.low},bn.eqz=bn.isZero,bn.isNegative=function(){return!this.unsigned&&this.high<0},bn.isPositive=function(){return this.unsigned||this.high>=0},bn.isOdd=function(){return 1==(1&this.low)},bn.isEven=function(){return 0==(1&this.low)},bn.equals=function(t){return Zt(t)||(t=cn(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},bn.eq=bn.equals,bn.notEquals=function(t){return!this.eq(t)},bn.neq=bn.notEquals,bn.ne=bn.notEquals,bn.lessThan=function(t){return this.comp(t)<0},bn.lt=bn.lessThan,bn.lessThanOrEqual=function(t){return this.comp(t)<=0},bn.lte=bn.lessThanOrEqual,bn.le=bn.lessThanOrEqual,bn.greaterThan=function(t){return this.comp(t)>0},bn.gt=bn.greaterThan,bn.greaterThanOrEqual=function(t){return this.comp(t)>=0},bn.gte=bn.greaterThanOrEqual,bn.ge=bn.greaterThanOrEqual,bn.compare=function(t){if(Zt(t)||(t=cn(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},bn.comp=bn.compare,bn.negate=function(){return!this.unsigned&&this.eq(pn)?pn:this.not().add(wn)},bn.neg=bn.negate,bn.add=function(t){Zt(t)||(t=cn(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=r+(65535&t.low))>>>16,a+=(f+=e+o)>>>16,c+=(a+=i+s)>>>16,c+=n+u,un((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},bn.subtract=function(t){return Zt(t)||(t=cn(t)),this.add(t.neg())},bn.sub=bn.subtract,bn.multiply=function(t){if(this.isZero())return this;if(Zt(t)||(t=cn(t)),Kt)return un(Kt.mul(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?ln:dn;if(this.eq(pn))return t.isOdd()?pn:dn;if(t.eq(pn))return this.isOdd()?pn:dn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(vn)&&t.lt(vn))return rn(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=r*c)>>>16,f+=(h+=e*c)>>>16,h&=65535,f+=(h+=r*o)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=e*o)>>>16,f&=65535,a+=(f+=r*s)>>>16,a+=n*c+i*o+e*s+r*u,un((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},bn.mul=bn.multiply,bn.divide=function(t){if(Zt(t)||(t=cn(t)),t.isZero())throw f("division by zero");var n,i,e;if(Kt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?un((this.unsigned?Kt.div_u:Kt.div_s)(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ln:dn;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ln;if(t.gt(this.shru(1)))return gn;e=ln}else{if(this.eq(pn))return t.eq(wn)||t.eq(yn)?pn:t.eq(pn)?wn:(n=this.shr(1).div(t).shl(1)).eq(dn)?t.isNegative()?wn:yn:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(pn))return this.unsigned?ln:dn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=dn}for(i=this;i.gte(t);){n=d.max(1,d.floor(i.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:sn(2,r-48),s=rn(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=rn(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=wn),e=e.add(s),i=i.sub(o)}return e},bn.div=bn.divide,bn.modulo=function(t){return Zt(t)||(t=cn(t)),Kt?un((this.unsigned?Kt.rem_u:Kt.rem_s)(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},bn.mod=bn.modulo,bn.rem=bn.modulo,bn.not=function(){return un(~this.low,~this.high,this.unsigned)},bn.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},bn.clz=bn.countLeadingZeros,bn.countTrailingZeros=function(){return this.low?Qt(this.low):Qt(this.high)+32},bn.ctz=bn.countTrailingZeros,bn.and=function(t){return Zt(t)||(t=cn(t)),un(this.low&t.low,this.high&t.high,this.unsigned)},bn.or=function(t){return Zt(t)||(t=cn(t)),un(this.low|t.low,this.high|t.high,this.unsigned)},bn.xor=function(t){return Zt(t)||(t=cn(t)),un(this.low^t.low,this.high^t.high,this.unsigned)},bn.shiftLeft=function(t){return Zt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):un(0,this.low<<t-32,this.unsigned)},bn.shl=bn.shiftLeft,bn.shiftRight=function(t){return Zt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):un(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},bn.shr=bn.shiftRight,bn.shiftRightUnsigned=function(t){return Zt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):un(32===t?this.high:this.high>>>t-32,0,this.unsigned)},bn.shru=bn.shiftRightUnsigned,bn.shr_u=bn.shiftRightUnsigned,bn.rotateLeft=function(t){var n;return Zt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?un(this.high,this.low,this.unsigned):t<32?(n=32-t,un(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),un(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},bn.rotl=bn.rotateLeft,bn.rotateRight=function(t){var n;return Zt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?un(this.high,this.low,this.unsigned):t<32?(n=32-t,un(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),un(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},bn.rotr=bn.rotateRight,bn.toSigned=function(){return this.unsigned?un(this.low,this.high,!1):this},bn.toUnsigned=function(){return this.unsigned?this:un(this.low,this.high,!0)},bn.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},bn.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},bn.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Jt.fromBytes=function(t,n,i){return i?Jt.fromBytesLE(t,n):Jt.fromBytesBE(t,n)},Jt.fromBytesLE=function(t,n){return new Jt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Jt.fromBytesBE=function(t,n){return new Jt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var kn=d.pow(2,-52);function Tn(t,n,i){return d.min(d.max(t,n),i)}function Sn(t,n,i){return t===n||d.abs(t-n)<=i}function En(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Rn(){return Date.now()||(new Date).getTime()}function In(t){return t/1e3}var On;function Cn(t){return t.ei===On.ri}function Nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Jt.fromNumber(9007199254740991),function(t){t[t.ri=1]="ri",t[t.ui=2]="ui",t[t.si=3]="si",t[t.oi=4]="oi",t[t.ci=9]="ci"}(On||(On={}));var Dn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(Dn.prototype=v.create(f.prototype)).constructor=Dn;var An=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,f.captureStackTrace&&f.captureStackTrace(Nn(e),e.constructor),e}return vt(n,t),ft(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Dn),Pn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return vt(n,t),n}(An),xn=function(){function t(){}return t.prototype.ai=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Pn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Pn;return new Hn(n)},t}(),Ln=function(){function t(t){this.fi=void 0,this.fi=t}var n=t.prototype;return n.hi=function(t){return this.fi.isEqualNode(t.fi)},n.vi=function(n){return new t(this.fi.cloneNode(n))},ft(t,[{key:"ei",get:function(){return On.ui}},{key:"di",get:function(){var t;return null!=(t=this.fi.localName)?t:zn(this.fi.nodeName)}},{key:"li",get:function(){return this.fi.nodeName}},{key:"wi",get:function(){var t;return null!=(t=this.fi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.fi.prefix)?t:void 0}},{key:"yi",get:function(){return this.fi.nodeValue}}]),t}(),Bn=function(){function t(t){this.mi=void 0,this._i=void 0,this.mi=t}var n=t.prototype;return n.pi=function(t){return this.bi.filter(function(n){return qn(n)&&n.ki===t})},n.Ti=function(t,n){return this.bi.filter(function(i){return qn(i)&&i.di===n&&i.wi===t})},n.Si=function(t){this.mi.appendChild(t.Ei),this._i&&this._i.push(t)},n.hi=function(t){return this.mi.isEqualNode(t.Ei)},ft(t,[{key:"bi",get:function(){return void 0===this._i&&(this._i=function(t){for(var n=[],i=0;i<t.length;i++){var e=Wn(t.item(i));e&&n.push(e)}return n}(this.mi.childNodes)),this._i}},{key:"Ri",get:function(){return this.bi.filter(qn)}},{key:"Ei",get:function(){return this.mi}}]),t}(),Mn=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.Ii=function(t){if(this.mi.hasAttribute(t))return this.mi.getAttribute(t)},i.Oi=function(t,n){if(this.mi.hasAttributeNS(t,n))return this.mi.getAttributeNS(t,n)},i.Ci=function(t){this.mi.removeAttribute(t)},i.Ni=function(t,n){this.mi.removeAttributeNS(t,n)},i.Di=function(t,n){this.mi.setAttribute(t,n)},i.Ai=function(t,n,i){this.mi.setAttributeNS(t,n,i)},i.vi=function(t){return new n(this.mi.cloneNode(t))},ft(n,[{key:"ei",get:function(){return On.ri}},{key:"di",get:function(){var t;return null!=(t=this.mi.localName)?t:zn(this.mi.nodeName)}},{key:"wi",get:function(){var t;return null!=(t=this.mi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.mi.prefix)?t:void 0}},{key:"ki",get:function(){return this.mi.nodeName}},{key:"Pi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Ln(t.item(i)));return n}(this.mi.attributes)}},{key:"xi",get:function(){return this.mi.textContent}}]),n}(Bn),Fn=function(){function t(t){this.mi=void 0,this.mi=t}return t.prototype.hi=function(t){return this.Li===t.Li},ft(t,[{key:"Li",get:function(){return this.mi.nodeValue}},{key:"Ei",get:function(){return this.mi}}]),t}(),Un=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ft(n,[{key:"ei",get:function(){return On.si}}]),n}(Fn),Vn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ft(n,[{key:"ei",get:function(){return On.oi}}]),n}(Fn),Hn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ft(n,[{key:"ei",get:function(){return On.ci}},{key:"Bi",get:function(){return new Mn(this.mi.documentElement)}}]),n}(Bn);function qn(t){return Cn(t)}function Wn(t){switch(t.nodeType){case On.ri:return new Mn(t);case On.si:return new Un(t);case On.oi:return new Vn(t)}}function zn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function jn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function $n(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){Xn(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&Xn(i,null,t.length,t),t}function Xn(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(r=0;r<a;r+=h)for(s=(u=r+i)+i,u>a&&(u=a),s>a&&(s=a),o=r,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<u)e[f++]=t[o++];else{if(!(c<s))break;e[f++]=t[c++]}}var Gn=/[a-zA-Z]/,Yn=/[0-9]/,Kn=/[0-9a-fA-F]/,Jn=/^0x/i,Zn=/^[0-9]+$/,Qn=/^[0-9a-fA-F]+$/,ti=/^[0-7]+$/,ni=v.prototype.toString,ii=Array.isArray||function(t){return"[object Array]"===ni.call(t)},ei="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function ri(t){return ii(t)?t:Array.from(t)}function ui(t){return t>=65&&t<=90}function si(t){return ui(t)||function(t){return t>=97&&t<=122}(t)}function oi(t){return t>=48&&t<=57}function ci(t){return oi(t)||si(t)}function ai(t){return oi(t)||t>=65&&t<=70||t>=97&&t<=102}function fi(t){return ui(t)?t+32:t}function hi(t){return oi(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function vi(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var di=d.min,li=String.fromCharCode,wi=16384;function gi(t){for(var n=t.length,i=[],e=0;e<n;e+=wi){var r=di(e+wi,n);i.push(li.apply(null,t.slice(e,r)))}return i.join("")}var yi=/[^\0-\x7E]/,mi=/[\x2E\u3002\uFF0E\uFF61]/g,_i={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pi=d.floor,bi=String.fromCharCode;function ki(t){throw new RangeError(_i[t])}function Ti(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var Si,Ei,Ri,Ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Oi=function(t,n,i){var e=0;for(t=i?pi(t/700):t>>1,t+=pi(t/n);t>455;e+=36)t=pi(t/35);return pi(e+36*t/(t+38))},Ci=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(mi,".")).split("."),n).join(".");return e+r}(t,function(t){return yi.test(t)?"xn--"+function(t){for(var n=[],i=(t=Ti(t)).length,e=128,r=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(bi(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<h&&(h=l)}var w=f+1;h-e>pi((2147483647-r)/w)&&ki("overflow"),r+=(h-e)*w,e=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<e&&++r>2147483647&&ki("overflow"),m==e){for(var _=r,p=36;;p+=36){var b=p<=u?1:p>=u+26?26:p-u;if(_<b)break;var k=_-b,T=36-b;n.push(bi(Ii(b+k%T,0))),_=pi(k/T)}n.push(bi(Ii(_,0))),u=Oi(r,w,f==a),r=0,++f}}++r,++e}return n.join("")}(t):t})};function Ni(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return gi(n)}function Di(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ai(t,n){return t>>n&63|128}function Pi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Di(t),n.push(t>>12&15|224),n.push(Ai(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ai(t,12)),n.push(Ai(t,6))),n.push(63&t|128)):n.push(t)}function xi(t){for(var n=[],i=0;i<t.length;i++){Pi(t[i],n)}return n}function Li(){if(Ri>=Ei)throw new f("Invalid byte index");var t=255&Si[Ri];if(Ri++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Bi(){var t,n;if(Ri>Ei)throw new f("Invalid byte index");if(Ri===Ei)return!1;if(t=255&Si[Ri],Ri++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Li())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Li()<<6|Li())>=2048)return Di(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Li()<<12|Li()<<6|Li())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function Mi(t){return[37,vi(t>>4),vi(15&t)]}function Fi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Ui(t){return Fi(t)||32===t||34===t||60===t||62===t||96===t}function Vi(t){return Ui(t)||35===t||63===t||123===t||125===t}function Hi(t){return Vi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function qi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Wi(t){return qi(t)||39===t}function zi(t,n){if(!n(t))return[t];for(var i=xi([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,Mi(u))}return e}function ji(t,n){for(var i=[],e=0,r=Ti(t);e<r.length;e++){var u=r[e];i.push.apply(i,zi(u,n))}return Ni(i)}function $i(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&ai(t[e+1])&&ai(t[e+2])){var u=hi(t[e+1])<<4|hi(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(xi(t))}function Xi(t){return Ni(function(t){Si=t.slice(),Ei=Si.length,Ri=0;for(var n,i=[];!1!==(n=Bi());)i.push(n);return i}($i(Ti(t))))}function Gi(t){var n,i,e,r,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new h;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new h("Too many groups");if(":"!==t[a]){for(var f=0,v=0;v<4&&a<u&&Kn.test(t[a]);)f=f<<4|l(t[a],16),a+=1,v+=1;if("."===t[a]){if(0===v)throw new h;if(a-=v,o>6)throw new h;for(var d=0;a<u;){var w=null;if(d>0){if(!("."===t[a]&&d<4))throw new h;a+=1}if(!Yn.test(t[a]))throw new h;for(;a<u&&Yn.test(t[a]);){var g=l(t[a],10);if(null===w)w=g;else{if(0===w)throw new h;if((w=10*w+g)>255)throw new h}a+=1}s[o]=s[o]<<8|w,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new h;break}if(":"===t[a]){if((a+=1)===u)throw new h}else if(a<u)throw new h;s[o]=f,o+=1}else{if(null!==c)throw new h("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var y=o-c;for(o=7;0!==o&&y>0;)e=c+y-1,r=void 0,r=(n=s)[i=o],n[i]=n[e],n[e]=r,o-=1,y-=1}else if(8!==o)throw new h;return s}function Yi(t){var n=10,i=Zn;return Jn.test(t)?(t=t.slice(2),n=16,i=Qn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=ti),""===t?0:i.test(t)?l(t,n):void 0}var Ki={Mi:4},Ji=/[\0\t\n\r #%/:?@\[\\\]]/,Zi=/[\0\t\n\r #/:?@\[\\\]]/;function Qi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{Mi:2,Fi:Gi(t.slice(1,-1))}}if(!n)return function(t){if(Zi.test(t))throw new h("Invalid code point in opaque host");var n=ji(t,Fi);return""===n?Ki:{Mi:3,P:n}}(t);var i=function(t){return function(t){return Ci(t.toLowerCase())}(t)}(Xi(t));if(Ji.test(i))throw new h("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Yi(r);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new h;if(i[i.length-1]>=d.pow(256,5-i.length))throw new h;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*d.pow(256,3-c);return o}}(i);return void 0!==e?{Mi:1,Fi:e}:""===i?Ki:{Mi:0,Ui:i}}function te(t){switch(t.Mi){case 0:return t.Ui;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Fi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Fi)+"]";case 3:return t.P;case 4:return""}}var ne=/\+/g;function ie(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),s=void 0,o=void 0;-1!==u?(s=r.slice(0,u),o=r.slice(u+1)):(s=r,o=""),s=s.replace(ne," "),o=o.replace(ne," ");var c=Xi(s),a=Xi(o);i.push([c,a])}}return i}function ee(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=re(xi(Ti(e[0])))+"="+re(xi(Ti(e[1])))}return n}function re(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||ci(n)?i.push(r):i.push.apply(i,Mi(r))}return gi(i)}var ue=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function se(t){var n=""+t,i=ue.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(ce(u))if(ae(u)||r===i-1)e.push(oe);else{var s=t.charCodeAt(r+1);ae(s)?(e.push(u,s),r++):e.push(oe)}else e.push(u)}return t.slice(0,n)+gi(e)}(n,i.index):n}var oe=65533,ce=function(t){return 55296==(63488&t)},ae=function(t){return 0!=(1024&t)};function fe(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function he(t){t.Vi.length=0}function ve(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Vi,ie(n))}function de(t){if(t.Hi){var n=ee(t.Vi);""===n&&(n=null),t.Hi.Hi.qi=n}}var le=function(){function t(t){if(void 0===t&&(t=void 0),this.Hi=null,null==t)this.Vi=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof le&&ii(u.Vi)&&(!ei||u[Symbol.iterator]===we))this.Vi=t.Vi.slice();else if(function(t){return null!=t&&(!!ii(t)||!!ei&&"function"==typeof t[Symbol.iterator])}(t)){this.Vi=[];for(var n=0,i=ri(t);n<i.length;n++){var e=ri(i[n]);if(2!==e.length)throw new h("Invalid name-value pair");this.Vi.push([se(e[0]),se(e[1])])}}else for(var r in this.Vi=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.Vi.push([se(r),se(t[r])]);else(t=se(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Vi=ie(t);var u}var n=t.prototype;return n.append=function(t,n){t=se(t),n=se(n),this.Vi.push([t,n]),de(this)},n.delete=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}de(this)},n.get=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=se(t);for(var n=this.Vi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=se(t),n=se(n);for(var i=this.Vi,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),de(this)},n.sort=function(){$n(this.Vi,fe),de(this)},n.toString=function(){return ee(this.Vi)},n.entries=function(){return new _e(this.Vi,ge)},n.keys=function(){return new _e(this.Vi,ye)},n.values=function(){return new _e(this.Vi,me)},n.forEach=function(t){var n=this;this.Vi.forEach(function(i){return t(i[1],i[0],n)})},t}(),we=le.prototype.entries;ei&&(le.prototype[Symbol.iterator]=we);var ge=function(t){return[t[0],t[1]]},ye=function(t){return t[0]},me=function(t){return t[1]},_e=function(){function t(t,n){this.Wi=0,this.Vi=t,this.zi=n}return t.prototype.next=function(){return this.Wi<this.Vi.length?{done:!1,value:this.zi(this.Vi[this.Wi++])}:{done:!0,value:void 0}},t}(),pe="null";var be=v.create(null);be.ftp=21,be.file=0,be.gopher=70,be.http=80,be.https=443,be.ws=80,be.wss=443;var ke=/^(?:\.|%2e)$/i,Te=/^(?:\.|%2e){2}$/i;function Se(t){return ke.test(t)}function Ee(t){return Te.test(t)}function Re(t){return void 0!==be[t]}function Ie(t){return Re(t.ji)}function Oe(t){return""!==t.$i||""!==t.Xi}function Ce(t){var n=t.length;if(!(n>=2))return!1;if(!De(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ne(t){return 2===t.length&&Gn.test(t[0])&&(":"===t[1]||"|"===t[1])}function De(t){return 2===t.length&&Ne(gi(t))}function Ae(t){return Ne(t)&&":"===t[1]}function Pe(t){var n=t.Gi;0!==n.length&&("file"===t.ji&&1===n.length&&Ae(n[0])||n.pop())}function xe(t){return null===t.Yi||Ki===t.Yi||t.Ki||"file"===t.ji}var Le=-1,Be=/\t|\n|\r/g,Me=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Fe(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new Ve,t=t.replace(Me,""));var r=null!==e?e:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=Ti(t=t.replace(Be,"")),f=a.length,v=0;v<=f;){var d=v<f?a[v]:Le;switch(r){case 0:if(!si(d)){if(null===e){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(fi(d)),r=1;break;case 1:if(ci(d)||43===d||45===d||46===d)u.push(fi(d));else{if(58!==d){if(null===e){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=Ni(u);if(null!==e){if(Re(i.ji)&&!Re(w))return;if(!Re(i.ji)&&Re(w))return;if((Oe(i)||null!==i.Ji)&&"file"===w)return;if("file"===i.ji&&(i.Yi===Ki||null===i.Yi))return}if(i.ji=w,null!==e)return void(Ie(i)&&i.Ji===be[i.ji]&&(i.Ji=null));u.length=0,"file"===i.ji?r=13:Ie(i)&&n&&n.ji===i.ji?r=3:Ie(i)?r=7:47===a[v+1]?(r=4,v+=1):(i.Ki=!0,i.Gi.push(""),r=18)}break;case 2:if(!n||n.Ki&&35!==d)throw new h("Invalid scheme");n.Ki&&35===d?(i.ji=n.ji,i.Gi=n.Gi.slice(),i.qi=n.qi,i.Zi="",i.Ki=!0,r=20):"file"!==n.ji?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===a[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:i.ji=n.ji,Le===d?(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.qi=n.qi):47===d?r=6:63===d?(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.qi="",r=19):35===d?(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.qi=n.qi,i.Zi="",r=20):92===d&&Ie(i)?r=6:(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.Gi.pop(),r=17,v-=1);break;case 6:!Ie(i)||47!==d&&92!==d?47===d?r=9:(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==a[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var m=Ni(zi(y,Hi));c?i.Xi+=m:i.$i+=m}else c=!0}u.length=0}else if(Le===d||47===d||63===d||35===d||Ie(i)&&92===d){if(s&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===i.ji)v-=1,r=15;else if(58!==d||o)if(Le===d||47===d||63===d||35===d||Ie(i)&&92===d){if(v-=1,Ie(i)&&0===u.length)throw new h("Invalid host");if(null!==e&&0===u.length&&(Oe(i)||null!==i.Ji))return;var _=Qi(Ni(u),Ie(i));if(i.Yi=_,u.length=0,r=16,null!==e)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=Qi(Ni(u),Ie(i));if(i.Yi=p,u.length=0,r=12,11===e)return}break;case 12:if(oi(d))u.push(d);else{if(!(Le===d||47===d||63===d||35===d||Ie(i)&&92===d||null!==e))throw new h("Invalid port");if(0!==u.length){var b=l(Ni(u),10);if(b>65535)throw new h("Invalid port");i.Ji=b===be[i.ji]?null:b,u.length=0}if(null!==e)return;r=16,v-=1}break;case 13:i.ji="file",47===d||92===d?r=14:n&&"file"===n.ji?Le===d?(i.Yi=n.Yi,i.Gi=n.Gi.slice(),i.qi=n.qi):63===d?(i.Yi=n.Yi,i.Gi=n.Gi.slice(),i.qi="",r=19):35===d?(i.Yi=n.Yi,i.Gi=n.Gi.slice(),i.qi=n.qi,i.Zi="",r=20):(Ce(a.slice(v))||(i.Yi=n.Yi,i.Gi=n.Gi.slice(),Pe(i)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.ji&&!Ce(a.slice(v))&&(Ae(n.Gi[0])?i.Gi.push(n.Gi[0]):i.Yi=n.Yi),r=17,v-=1);break;case 15:if(Le===d||47===d||92===d||63===d||35===d)if(v-=1,null===e&&De(u))r=17;else if(0===u.length){if(i.Yi=Ki,null!==e)return;r=16}else{var k=Qi(Ni(u),Ie(i));if(0===k.Mi&&"localhost"===k.Ui&&(k=Ki),i.Yi=k,null!==e)return;u.length=0,r=16}else u.push(d);break;case 16:Ie(i)?(r=17,47!==d&&92!==d&&(v-=1)):null===e&&63===d?(i.qi="",r=19):null===e&&35===d?(i.Zi="",r=20):Le!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(Le===d||47===d||Ie(i)&&92===d||null===e&&(63===d||35===d)){var T=Ni(u);if(Ee(T)?(Pe(i),47===d||Ie(i)&&92===d||i.Gi.push("")):!Se(T)||47===d||Ie(i)&&92===d?Se(T)||("file"===i.ji&&0===i.Gi.length&&De(u)&&(Ki!==i.Yi&&null!==i.Yi&&(i.Yi=Ki),u[1]=58,T=Ni(u)),i.Gi.push(T)):i.Gi.push(""),u.length=0,"file"===i.ji&&(Le===d||63===d||35===d))for(;i.Gi.length>1&&""===i.Gi[0];)i.Gi.shift();63===d?(i.qi="",r=19):35===d&&(i.Zi="",r=20)}else u.push.apply(u,zi(d,Vi));break;case 18:63===d?(i.qi="",r=19):35===d?(i.Zi="",r=20):Le!==d&&(i.Gi[0]+=Ni(zi(d,Fi)));break;case 19:null===e&&35===d?(i.Zi="",r=20):Le!==d&&(i.qi+=Ni(zi(d,Ie(i)?Wi:qi)));break;case 20:Le===d||0===d||(i.Zi+=Ni(zi(d,Ui)))}v++}return i}function Ue(t,n,i,e){try{Fe(t,n,i,e)}catch(t){}}var Ve=function(){this.ji="",this.$i="",this.Xi="",this.Yi=null,this.Ji=null,this.Gi=[],this.qi=null,this.Zi=null,this.Ki=!1};function He(t){switch(t.ji){case"blob":var n;try{n=Fe(t.Gi[0],null)}catch(t){return pe}return He(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.ji,e=t.Yi,r=t.Ji,i+"://"+te(e)+(null===r?"":":"+r);case"file":default:return pe}var i,e,r}var qe,We=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof We&&"object"==typeof i.Hi)r=n.Hi;else try{r=Fe(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{e=Fe(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var u=e.qi;this.Hi=e,this.qi=function(t){var n=new le;return null!==t&&ve(n,t),n}(u),this.qi.Hi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.ji+":";if(null!==t.Yi?(i+="//",Oe(t)&&(i+=t.$i,""!==t.Xi&&(i+=":"+t.Xi),i+="@"),i+=te(t.Yi),null!==t.Ji&&(i+=":"+t.Ji)):null===t.Yi&&"file"===t.ji&&(i+="//"),t.Ki)i+=t.Gi[0];else for(var e=0,r=t.Gi;e<r.length;e++)i+="/"+r[e];return null!==t.qi&&(i+="?"+t.qi),n||null===t.Zi||(i+="#"+t.Zi),i}(this.Hi)},set:function(t){var n;try{n=Fe(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.Hi=n,he(this.qi);var i=this.Hi.qi;null!==i&&ve(this.qi,i)}},{key:"origin",get:function(){return He(this.Hi)}},{key:"protocol",get:function(){return this.Hi.ji+":"},set:function(t){Ue(t+":",null,this.Hi,0)}},{key:"username",get:function(){return this.Hi.$i},set:function(t){xe(this.Hi)||(this.Hi.$i=ji(t,Hi))}},{key:"password",get:function(){return this.Hi.Xi},set:function(t){xe(this.Hi)||(this.Hi.Xi=ji(t,Hi))}},{key:"host",get:function(){var t=this.Hi,n=t.Yi;if(null===n)return"";var i=t.Ji,e=te(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Hi.Ki||Ue(t,null,this.Hi,10)}},{key:"hostname",get:function(){var t=this.Hi.Yi;return null===t?"":te(t)},set:function(t){this.Hi.Ki||Ue(t,null,this.Hi,11)}},{key:"port",get:function(){var t=this.Hi.Ji;return null===t?"":""+t},set:function(t){xe(this.Hi)||(""===t?this.Hi.Ji=null:Ue(t,null,this.Hi,12))}},{key:"pathname",get:function(){var t=this.Hi.Gi;return this.Hi.Ki?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Hi.Ki||(this.Hi.Gi.length=0,Ue(t,null,this.Hi,16))}},{key:"search",get:function(){var t=this.Hi.qi;return null===t||""===t?"":"?"+t},set:function(t){t=se(t);var n=this.Hi;if(""===t)return n.qi=null,void he(this.qi);"?"===t[0]&&(t=t.slice(1)),n.qi="",Ue(t,null,n,19),ve(this.qi,t)}},{key:"searchParams",get:function(){return this.qi}},{key:"hash",get:function(){var t=this.Hi.Zi;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Hi.Zi="",Ue(t,null,this.Hi,20)):this.Hi.Zi=null}}])&&jn(n.prototype,i),e&&jn(n,e),t}();function ze(t){return t.document&&t.document.baseURI||t.location.href||""}function je(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $e(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function Xe(){return void 0!==e?e.createElement("video"):void 0}function Ge(){return qe||(qe=Xe()),qe}var Ye=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Ke=Ge(),Je=!(!Ke||!Ke.webkitShowPlaybackTargetPicker),Ze=function(){function t(){this.Qi=void 0,this.te=!1,this.hn=Ye,this.Rn=!1,this.ie=!0}var n=t.prototype;return n.ee=function(){return 0},n.re=function(t,n){return!0},n.ue=function(t){return t>=1/6*2},ft(t,[{key:"se",get:function(){return void 0===this.Qi&&(this.Qi=this.ee()),this.Qi}},{key:"oe",get:function(){return!Et.$n}},{key:"ce",get:function(){}},{key:"ae",get:function(){return i.devicePixelRatio||1}},{key:"fe",get:function(){return Je}},{key:"he",get:function(){return!1}},{key:"ve",get:function(){return!0}},{key:"de",get:function(){return Et.Hn||Et.kn}},{key:"we",get:function(){return!0}},{key:"ye",get:function(){return!0}},{key:"me",get:function(){return!1}},{key:"_e",get:function(){}},{key:"pe",get:function(){return!0}},{key:"be",get:function(){return!1}},{key:"ke",get:function(){return!1}}]),t}(),Qe=function(){var t=Xe();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Et.pn)return!1;var t=Xe();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var tr=function(t){function n(n){var i;return(i=t.call(this)||this).Te=void 0,i.Te=n,i.Te&&(i.te=i.Te.te,i.hn=i.Te.hn,i.ie=Qe&&i.Te.ie),i}vt(n,t);var i=n.prototype;return i.ee=function(){return this.Te?this.Te.se:t.prototype.ee.call(this)},i.re=function(n,i){return this.Te?this.Te.re(n,i):t.prototype.re.call(this,n,i)},i.ue=function(n){return this.Te?this.Te.ue(n):t.prototype.ue.call(this,n)},ft(n,[{key:"_e",get:function(){var t;return null==(t=this.Te)?void 0:t._e}},{key:"pe",get:function(){var t,n;return null==(t=null==(n=this.Te)?void 0:n.pe)||t}}]),n}(Ze),nr=function(t){function n(n){var i;return(i=t.call(this,n)||this).te=!0,i.Rn=!0,i}return vt(n,t),ft(n,[{key:"me",get:function(){return Et.kn}}]),n}(tr),ir=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(){return Q.MediaSource?t.prototype.ee.call(this):1},ft(n,[{key:"me",get:function(){return!0}}]),n}(nr),er=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Se=void 0,n}return vt(n,t),n.prototype.re=function(n,i){return t.prototype.re.call(this,n,i)},ft(n,[{key:"he",get:function(){return Et.Pn<3}},{key:"ve",get:function(){return Et.Pn>=3}},{key:"ce",get:function(){var t=this;return i.tizen&&!this.Se&&i.tizen.systeminfo.getPropertyValue("DISPLAY",function(n){var i=n.resolutionWidth,e=n.resolutionHeight;1===i&&1===e||(t.Se={width:i,height:e})}),this.Se}},{key:"be",get:function(){return Et.Pn<3}},{key:"ke",get:function(){return!0}}]),n}(tr),rr=function(t){function n(){return t.call(this)||this}return vt(n,t),n}(Ze),ur=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.re=function(t,n){if(t&&t.Ee&&n&&n.Ee){var i=sr(t.Ee,"mp4a.40.2")&&sr(n.Ee,"mp4a.40.5"),e=sr(t.Ee,"mp4a.40.5")&&sr(n.Ee,"mp4a.40.2"),r=sr(t.Ee,"mp4a.40.2")&&sr(n.Ee,"mp4a.40.34"),u=sr(t.Ee,"mp4a.40.34")&&sr(n.Ee,"mp4a.40.2"),s=sr(t.Ee,"mp4a.40.5")&&sr(n.Ee,"mp4a.40.34"),o=sr(t.Ee,"mp4a.40.34")&&sr(n.Ee,"mp4a.40.5");return!(i||e||r||u||s||o)}return!0},ft(n,[{key:"_e",get:function(){if(Et.vn)return 4096}}]),n}(rr);function sr(t,n){return t.indexOf(n)>-1}var or=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ue=function(t){return t>=2},n}(rr),cr=function(t){function n(){var n;return(n=t.call(this)||this).te=Et.qn>=11,n.ie=Et.Hn&&!(Et.kn&&Et.qn<10),n}return vt(n,t),n}(rr),ar=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Se=void 0,n}return vt(n,t),ft(n,[{key:"ce",get:function(){var t=this;return i.webOS&&!this.Se&&i.webOS.deviceInfo(function(n){t.Se={width:n.screenWidth,height:n.screenHeight}}),this.Se}},{key:"we",get:function(){return!1}},{key:"ke",get:function(){return!0}}]),n}(tr),fr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"pe",get:function(){return!Et.dn||(Et.Nn?92!==Et.Dn:Et.Cn>=100)}}]),n}(rr),hr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"me",get:function(){return!0}}]),n}(tr),vr=function(){function n(){var n;this.Re=void 0,this.Ie=new xn,this.Oe=new dr,this.Ce=(n=function(){if(Et.Un)return new ur;if(Et.Ln||Et.Bn)return new or;if(Et.Hn)return new cr;if(Et.On)return new fr;return new rr}(),Et.kn?new ir(n):Et.Rn?new nr(n):Et.An?new er(n):Et.xn?new ar(n):Et.vn?new hr(n):new tr(n)),this.Ne=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Re=function(){return t.performance.now()}:this.Re=Rn}var i=n.prototype;return i.De=function(){$t.apply(void 0,arguments)},i.Ae=function(){Xt.apply(void 0,arguments)},i.Pe=function(){Gt.apply(void 0,arguments)},i.xe=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Yt.apply(void 0,[t].concat(i))},i.Le=function(t,n){return s(t,n)},i.Be=function(t,n){return c(t,n)},i.Me=function(t){o(t)},i.Fe=function(t){a(t)},i.ai=function(t){return this.Ie.ai(t)},i.Ue=function(){return this.Ve.Ue()},i.He=function(){return this.Ve.He()},i.qe=function(){return this.Ve.qe()},i.We=function(){return this.Ve.We()},i.ze=function(){return this.Ve.ze()},i.je=function(t,n){return this.Ve.je(t,n)},i.$e=function(t){return this.Ve.$e(t)},i.Xe=function(t,n){var i;return void 0===n&&(n=ze(Q)),i="object"!=typeof n||n instanceof We?n:n.href,new We(t,i)},i.Ge=function(n,i){if(void 0===i&&(i=ze(Q)),this.Ne){var e=xt(i)?i:i.toString();return new t.URL(n,e).href}return this.Xe(n,i).href},ft(n,[{key:"Ye",get:function(){return this.Oe}},{key:"Ke",get:function(){return this.Ce}},{key:"Je",get:function(){return{Ze:u&&u.userAgent.match(/Android /i)?"Android":"other",Qe:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"tr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"nr",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),dr=function(){function t(){}return ft(t,[{key:"ir",get:function(){return u.oscpu}},{key:"Ke",get:function(){return u.platform}},{key:"er",get:function(){return u.vendor}},{key:"rr",get:function(){return u.vendorSub}}]),t}();var lr={exports:{}};!function(t){var n,i=v.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof _?n:_,u=v.create(r.prototype),s=new D(e||[]);return u.ur=function(t,n,i){var e=d;return function(r,u){if(e===w)throw new f("Generator is already running");if(e===y){if("throw"===r)throw u;return P()}for(i.method=r,i.arg=u;;){var s=i.delegate;if(s){var o=O(s,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.sr=i.arg;else if("throw"===i.method){if(e===d)throw e=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var c=a(t,n,i);if("normal"===c.type){if(e=i.done?y:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(e=y,i.method="throw",i.arg=c.arg)}}}(t,i,s),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",l="suspendedYield",w="executing",y="completed",m={};function _(){}function p(){}function b(){}var k={};k[u]=function(){return this};var T=v.getPrototypeOf,S=T&&T(T(A([])));S&&S!==i&&e.call(S,u)&&(k=S);var E=b.prototype=_.prototype=v.create(k);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.ur(n,t)}})}function I(t){var n;this.ur=function(i,r){function u(){return new j(function(n,u){!function n(i,r,u,s){var o=a(t[i],t,r);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"==typeof f&&e.call(f,"cr")?j.resolve(f.cr).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):j.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,r,n,u)})}return n=n?n.then(u,u):u()}}function O(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,O(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new h("The iterator does not provide a 'throw' method")}return m}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var u=r.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):u:(i.method="throw",i.arg=new h("iterator result is not an object"),i.delegate=null,m)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=E.constructor=b,b.constructor=p,b[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return v.setPrototypeOf?v.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=v.create(E),t},t.awrap=function(t){return{cr:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var u=new I(c(n,i,e,r));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.sr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=e.call(s,"catchLoc"),a=e.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;N(i)}return r}}throw new f("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:A(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(lr.exports);var wr=lr.exports;function gr(){return(gr=v.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)v.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function yr(){var t=v.create(null);return t.__=void 0,delete t.__,t}function mr(){return new br}var _r,pr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,br=pr||(_r=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=v.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=yr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=yr(),this.size=0},n.keys=function(){return new _r(this.data,function(t,n){return n})},n.values=function(){return new _r(this.data,function(t,n){return t[n]})},n.entries=function(){return new _r(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var kr,Tr,Sr=pr||(kr=function(){function t(t,n){this.hr=void 0,this.dr=void 0,this.hr=t,this.dr=n}var n=t.prototype;return n.next=function(){var t=this.hr.next();return t.done?t:{value:this.dr(t.value),done:!1}},t}(),function(){function t(){this.wr=mr()}var n=t.prototype;return n.get=function(t){return this.wr.get(""+t)},n.set=function(t,n){return this.wr.set(""+t,n),this},n.has=function(t){return this.wr.has(""+t)},n.delete=function(t){return this.wr.delete(""+t)},n.clear=function(){this.wr.clear()},n.keys=function(){return new kr(this.wr.keys(),function(t){return Number(t)})},n.values=function(){return this.wr.values()},n.entries=function(){return new kr(this.wr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.wr.forEach(function(n,i){t(n,Number(i))})},ft(t,[{key:"size",get:function(){return this.wr.size}}]),t}());!function(t){t.gr="9a04f079-9840-4286-ab92-e65be0885f95",t.yr="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.mr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t._r="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Tr||(Tr={}));var Er,Rr="cenc",Ir="sinf",Or="skd",Cr=Tr.gr,Nr="urn:uuid:"+Cr,Dr="com.microsoft.playready",Ar=Tr.yr,Pr="urn:uuid:"+Ar,xr=Tr.mr,Lr="urn:uuid:"+xr,Br=Tr._r,Mr="urn:uuid:"+Br,Fr="com.apple.fps.1_0";!function(t){t.gr="playready",t.yr="widevine",t._r="fairplay",t.mr="clearkey",t.pr="aes128"}(Er||(Er={}));var Ur={br:Er.gr,kr:Dr,Tr:"cenc",Sr:Cr,Er:Nr,Rr:"PlayReady"},Vr={br:Er.yr,kr:"com.widevine.alpha",Tr:"cenc",Sr:Ar,Er:Pr,Rr:"Widevine"},Hr={br:Er._r,kr:Fr,Tr:"skd",Sr:Br,Er:Mr,Rr:"FairPlay"};Er._r;var qr={br:Er.mr,kr:"org.w3.clearkey",Tr:"cenc",Sr:xr,Er:Lr,Rr:"ClearKey"};function Wr(t,n,i){return t.split(n).join(i)}function zr(t,n){return null!=t&&-1!==t.indexOf(n)}function jr(t,n){return null!=t&&t.substr(0,n.length)===n}function $r(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Xr(t,n){return t.toUpperCase()===n.toUpperCase()}function Gr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Kr(n)}var Yr=16384;function Kr(t){var n=t.length;if(n<=Yr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Yr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Yr)));return i.join("")}var Jr=Et.On&&Et.Cn>=42||Et.Un&&Et.Vn>=38||Et.Ln||Et.Mn||Et.Wn&&Et.zn>=29;function Zr(t,n){return zr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[gr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[gr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Qr,tu=function(){function t(t){this.Ir=void 0,this.Or=mr(),this.Cr=void 0,this.Ir=t}var n=t.prototype;return n.ze=function(){return this.$e(Vr)},n.He=function(){return this.$e(qr)},n.We=function(){return this.$e(Ur)},n.qe=function(){return this.$e(Hr)},n.$e=function(t){var n=t.Er,i=this.Or.get(n);if(i)return i;var e=this.je(t,'video/mp4; codecs="avc1.42000a"');return this.Or.set(n,e),e},n.je=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wr.awrap(this.Ir.Nr(t.kr,[Zr(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,wr.awrap(this.Ir.Nr(t.kr,[Zr(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],j)},n.Ue=function(){return this.Cr||(this.Cr=this.Dr()),this.Cr},n.Dr=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==tt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Jr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,wr.awrap(this.He());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,j)},t}();function nu(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){iu(i,n,u,r);var s=i;i=r,r=s}return i}(t,n);return i!==t&&iu(i,void 0,t.length,t),t}function iu(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(r=(s=u+i)+i,s>a&&(s=a),r>a&&(r=a),o=u,c=s;;)if(o<s&&c<r)n&&n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<s)e[f++]=t[o++];else{if(!(c<r))break;e[f++]=t[c++]}}!function(t){t[t.Ar=0]="Ar",t[t.Pr=1]="Pr",t[t.xr=-1]="xr"}(Qr||(Qr={}));var eu=function(t,n){return(0|t)-(0|n)},ru=function(t,n){return t===n?Qr.Ar:t<n?Qr.xr:t>n?Qr.Pr:g(t)?g(n)?Qr.Ar:Qr.Pr:Qr.xr};function uu(t,n,i){return Sn(t,n,i)?Qr.Ar:ru(t,n)}var su=function(t,n){return function(t,n){if(t===n)return!0;var i=d.abs(t-n);return i<kn||i<d.max(d.abs(t),d.abs(n))*kn}(t,n)?Qr.Ar:ru(t,n)};function ou(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function cu(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function au(t,n){var i=t.indexOf(n);return-1!==i&&(fu(t,i),!0)}function fu(t,n){t.splice(n,1)}function hu(t,n){return-1!==t.indexOf(n)}function vu(t){t.length=0}var du=function(){function t(){this.Lr=!1,this.Br=!1,this.Mr=[],this.Fr=[]}var n=t.prototype;return n.Ur=function(){if(!this.Lr&&!this.Br){this.Lr=!0;for(var t=0,n=this.Mr.slice();t<n.length;t++){(0,n[t])()}this.Vr()}},n.Vr=function(){if(!this.Br){this.Br=!0;for(var t=0,n=this.Fr.slice();t<n.length;t++){(0,n[t])()}vu(this.Mr),vu(this.Fr)}},n.Hr=function(t){this.Br||this.Mr.push(t)},n.qr=function(t){this.Br||au(this.Mr,t)},n.Wr=function(t){this.Br||this.Fr.push(t)},n.zr=function(t){this.Br||au(this.Fr,t)},t}(),lu=function(){function t(){this.jr=new du}var n=t.prototype;return n.$r=function(){this.jr.Ur()},n.Vr=function(){this.jr.Vr()},n.Xr=function(t){var n=this.jr;if(!n.Lr)if(t.Lr)n.Ur();else if(!n.Br&&!t.Br){var i=function(){e(),n.Ur()},e=function e(){t.qr(i),t.zr(e),n.qr(i),n.zr(e)};t.Hr(i),t.Wr(e),n.Hr(i),n.Wr(e)}},n.Gr=function(){var n=new t,i=new t,e=n.Yr,r=i.Yr,u=this.jr,s=function(){e.Lr&&r.Br||r.Lr&&e.Br?u.Ur():e.Br&&r.Br&&u.Vr()};e.Hr(s),r.Hr(s),e.Wr(s),r.Wr(s),n.Xr(u),i.Xr(u);return u.Wr(function(){e.qr(s),r.qr(s),e.zr(s),r.zr(s)}),[n,i]},ft(t,[{key:"Yr",get:function(){return this.jr}}]),t}(),wu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return"AbortError"}}]),n}(An);function gu(t){return t instanceof f&&"AbortError"===t.name}function yu(t){if(t&&t.Lr)throw new wu}function mu(t){if(gu(t))throw t}function _u(t){if(!gu(t))throw t}function pu(t,n){return n?new j(function(i,e){if(n.Lr)return t.catch(Ft),e(new wu);var r=function t(){n.qr(t),e(new wu)};n.Hr(r),t.then(function(t){n.qr(r),i(t)},function(t){n.qr(r),e(t)})}):t}function bu(t,n){return t.then(function(t){return n.Vr(),t},function(t){throw n.Vr(),t})}var ku=j.resolve();function Tu(t){ku.then(t)}function Su(t){t.then(Ft,Ft)}function Eu(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,wr.awrap(j.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,wr.awrap(j.all(t.map(function(t){return t.catch(Ft)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],j)}function Ru(t,n){return new j(function(i,e){if(void 0!==n&&n.Lr)e(new wu);else{var r=st.Le(function(){void 0!==n&&n.qr(u),i()},t),u=function(){st.Me(r),e(new wu)};void 0!==n&&n.Hr(u)}})}function Iu(t){return t&&"function"!=typeof t?t.slice():t}function Ou(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Cu,Nu=function(){function t(t){var n=this;this.Kr=yr(),this.Jr=void 0,this.Zr=void 0,this.Qr=function(t){n.tu(t)},this.Zr=t||this}var n=t.prototype;return n.nu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.iu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.iu(e,n)}},n.iu=function(t,n){var i=this.Kr[t];i?"function"==typeof i?this.Kr[t]=[i,n]:i.push(n):this.Kr[t]=n},n.eu=function(t){if("function"==typeof t){var n=this.Jr;n?"function"==typeof n?this.Jr=[n,t]:n.push(t):this.Jr=t}},n.ru=function(){this.Kr=yr(),this.Jr=void 0},n.tu=function(t){var n=Iu(this.Kr[t.type]),i=Iu(this.Jr);Ou(this.Zr,t,n),Ou(this.Zr,t,i)},n.uu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.su(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.su(e,n)}},n.su=function(t,n){var i=this.Kr[t];i&&("function"==typeof i?i===n&&(this.Kr[t]=void 0):au(i,n))},n.ou=function(t){if("string"==typeof t)this.Kr[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Kr[i]=void 0}},n.cu=function(t){var n=this.Jr;n&&("function"==typeof n?n===t&&(this.Jr=void 0):au(n,t))},n.au=function(t,n){var i=this;return new j(function(e,r){if(n&&n.Lr)return r(new wu);var u=function(t){o(),e(t)},s=function(){o(),r(new wu)},o=function(){i.uu(t,u),n&&n.qr(s)};i.nu(t,u),n&&n.Hr(s)})},t}(),Du=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.tu=function(n){var i=this;Tu(function(){t.prototype.tu.call(i,n)})},n}(Nu),Au=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Pu=["cenc"],xu=["cbcs","cbcs-1-9"],Lu=function(t){function n(n){var i;return(i=t.call(this,"hu")||this).fu=n,i}return vt(n,t),n}(Au),Bu=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"vu")||this).fu=n,u.du=i,u.vu=e,u.lu=r,u}return vt(n,t),n}(Au),Mu=function(t){function n(){return t.call(this,"wu")||this}return vt(n,t),n}(Au);!function(t){t.gu="yu",t.mu="_u"}(Cu||(Cu={}));var Fu=function(t){function n(n,i){var e;return(e=t.call(this,Cu.gu)||this).Tr=n,e.pu=i,e}return vt(n,t),n}(Au),Uu=new y([0]).buffer,Vu=function(){function t(){this.bu=void 0,this.bu=[]}var n=t.prototype;return n.ku=function(t){for(var n=0,i=this.bu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Tu=function(t){for(var n=0,i=this.bu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Su=function(t,n){this.bu.forEach(function(n){return t(n[1],n[0])},n)},n.Eu=function(t,n){this.bu.push([t,n])},n.Ru=function(){vu(this.bu)},ft(t,[{key:"Iu",get:function(){return this.bu.length}}]),t}(),Hu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),qu=16383,Wu=/[\t\n\f\r ]/g;function zu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:ju()}function ju(){throw new f("Invalid base64 input")}function $u(t){var n=t;Wu.test(n)&&(n=n.replace(Wu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return ju();for(var r,u=0===e?0:4-e,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,a=0;c<o;c+=4)r=zu(n.charCodeAt(c))<<18|zu(n.charCodeAt(c+1))<<12|zu(n.charCodeAt(c+2))<<6|zu(n.charCodeAt(c+3)),s[a++]=r>>16&255,s[a++]=r>>8&255,s[a++]=255&r;return 2===u?(r=zu(n.charCodeAt(c))<<2|zu(n.charCodeAt(c+1))>>4,s[a++]=255&r):1===u&&(r=zu(n.charCodeAt(c))<<10|zu(n.charCodeAt(c+1))<<4|zu(n.charCodeAt(c+2))>>2,s[a++]=r>>8&255,s[a++]=255&r),s}function Xu(t,n,i){for(var e,r,u,s=[],o=n;o<i;o+=3)s.push((e=t[o],r=t[o+1],u=t[o+2],Hu[e>>2]+Hu[(3&e)<<4|r>>4]+Hu[(15&r)<<2|u>>6]+Hu[63&u]));return s.join("")}function Gu(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=qu)e.push(Xu(t,u,d.min(r,u+qu)));if(1===i){var s=t[n-1];e.push(Hu[s>>2]+Hu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];e.push(Hu[o>>2]+Hu[(3&o)<<4|c>>4]+Hu[(15&c)<<2]+"=")}return e.join("")}var Yu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Ku=ArrayBuffer.isView||function(t){return t&&hu(Yu,It.call(t))};function Ju(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Zu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function Qu(t){return $u(t).buffer}function ts(t){return Gu(new y(t))}function ns(t){return Gu(Rs(t))}var is=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Cu=function(t){this.Ou+=t},n.Nu=function(t){this.Ou=t},n.Du=function(){return new t(this.Au)},ft(t,[{key:"Au",get:function(){return this.Ou}}]),t}();function es(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function rs(t,n){return t>>n&63|128}function us(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(es(t),n.push(t>>12&15|224),n.push(rs(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(rs(t,12)),n.push(rs(t,6))),n.push(63&t|128)):n.push(t)}function ss(t,n){if(n.Au>=t.length)throw new f("Invalid byte index");var i=255&t[n.Au];if(n.Cu(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function os(t,n){var i=n.Au;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Cu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|ss(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|ss(t,n)<<6|ss(t,n);if(u>=2048)return es(u),u;throw new f("Invalid continuation byte")}if(240==(248&e)){var s=(7&e)<<18|ss(t,n)<<12|ss(t,n)<<6|ss(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}var cs=65279;var as=function(){function t(t){this.Pu=t}return t.prototype.xu=function(t){return function(t,n){return(t&n)===n}(this.Pu,t)},t}();function fs(t,n){var i=t.getUint8(n.Au);return n.Cu(1),i}function hs(t,n,i){t.setUint8(n.Au,i),n.Cu(1)}function vs(t,n,i){var e=As(xs(t),n.Au,n.Au+i);return n.Cu(e.byteLength),e}function ds(t,n,i){return n.Au+i<=t.byteLength}function ls(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Au,i);return n.Cu(2),e}function ws(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Au,i,e),n.Cu(2)}function gs(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Au,i);return n.Cu(4),e}function ys(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Au,i,e),n.Cu(4)}function ms(t,n,i){void 0===i&&(i=!1);var e=gs(t,n,i),r=gs(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!0)}function _s(t,n){return function(t,n){return ks(t,n,!0)}(t,n)}function ps(t,n,i){return Kr(Us(vs(t,n,i)))}function bs(t,n){var i,e=fs(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&fs(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&fs(t,n))+(63&fs(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&fs(t,n))+64*(63&fs(t,n))+(63&fs(t,n))),i}function ks(t,n,i){for(var e=[];n.Au<t.byteLength;){var r=fs(t,n);if(i&&!r)break;e.push(r)}return Kr(e)}function Ts(t,n,i,e){for(var r=[];n.Au+2<=t.byteLength;){var u=ls(t,n,i);if(e&&!u)break;r.push(u)}return Kr(r)}function Ss(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){ws(t,n,i.charCodeAt(u),e)}}function Es(t){return ks(Ps(t),new Vs,!1)}function Rs(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)hs(t,n,i.charCodeAt(r))}(Ps(n),new Vs,t),n}function Is(t,n){return void 0===n&&(n=!1),Ts(Ps(t),new Vs,n,!1)}function Os(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Ss(Ps(i),new Vs,t,n),i}function Cs(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Au+3<=t.byteLength&&239===t.getUint8(n.Au)&&187===t.getUint8(n.Au+1)&&191===t.getUint8(n.Au+2)})(t,n)&&n.Cu(3);for(;n.Au<t.byteLength;){var r=bs(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Gr(e)}(t,n,!0)}function Ns(t){return Gr(function(t,n){var i,e=[],r=new Vs;if(!n){if(!1===(i=os(t,r)))return e;i===cs||e.push(i)}for(;!1!==(i=os(t,r));)e.push(i);return e}(xs(t)))}function Ds(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)us(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function As(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Ps(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xs(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Ls(t){return t instanceof ArrayBuffer||Ku(t)}function Bs(t){return t instanceof ArrayBuffer?new y(t):xs(t)}function Ms(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Fs(As(t,n,i))}function Fs(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function Us(t){return[].slice.call(t)}var Vs=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Cu=function(t){this.Ou+=t},n.Nu=function(t){this.Ou=t},n.Du=function(){return new t(this.Au)},n.Lu=function(){return new is(this.Au<<3)},ft(t,[{key:"Au",get:function(){return this.Ou}}]),t}(),Hs=function(){function t(){var t=this;this.Bu=void 0,this.Mu=void 0,this.Fu=void 0,this.Bu=new j(function(n,i){t.Mu=n,t.Fu=i})}var n=t.prototype;return n.Uu=function(t){this.Mu&&(this.Mu(t),this.Vr())},n.Vu=function(t){this.Fu&&(this.Fu(t),this.Vr())},n.$r=function(){this.Bu.catch(Ft),this.Vu(new wu)},n.Xr=function(t){var n=this;t.then(function(t){return n.Uu(t)},function(t){return n.Vu(t)})},n.Vr=function(){this.Mu=void 0,this.Fu=void 0},t}();function qs(){return new y([8,4]).buffer}function Ws(t){return Ju(t,qs())}function zs(t,n){return t===Dr?function(t){if(t.byteLength<2*js.length)return t;if(Is(new DataView(t,0,2*js.length),!0)===js)return t;return n=t,Os('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+ts(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var js="<PlayReady";var $s=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).Hu=void 0,u.qu=void 0,u.Hu=i,u.qu=e,u}return vt(n,t),n}(An),Xs=function(t,n){return(Xs=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)v.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Gs(t,n){if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Xs(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}function Ys(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function Ks(t,n,i){return d.min(d.max(t,n),i)}function Js(t,n){return t>>8-n}function Zs(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Wu=t,this.zu=n}t.prototype.get=function(t){var n=this.Wu.get(t);if(0===this.zu||void 0===n)return n;var i=this.Wu.get(t+1)||0,e=n&(1<<8-this.zu)-1,r=i>>8-this.zu;return(e<<this.zu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Wu.get(d.floor((t+this.zu)/8));if(void 0!==n)return(n&1<<7-this.zu-t%8)>0?1:0}},v.defineProperty(t.prototype,"bitLength",{get:function(){return this.Wu.bitLength-this.zu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"length",{get:function(){return this.Wu.length},enumerable:!1,configurable:!0})}(),function(){function t(t){this.ju=t,this.$u=0,this.Xu=0}v.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.$u+this.Xu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"done",{get:function(){return this.$u===this.ju.length&&0===this.Xu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"location",{get:function(){return{byte:this.$u,bit:this.Xu}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.ju);return n.seek(this.$u,this.Xu),n},t.prototype.canReadBits=function(t){return 8*this.$u+t+this.Xu<=8*this.ju.length},t.prototype.canReadBytes=function(t){return 0===this.Xu?this.$u+t<=this.ju.length:this.$u+t<this.ju.length},t.prototype.incBit=function(){this.Xu++,this.Xu>7&&(this.$u++,this.Xu=0)},t.prototype.seek=function(t,n){this.$u=t,this.Xu=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.ju.get(this.$u)>>7-this.Xu&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.Xu)return this.ju.get(this.$u++);var t=Zs(this.ju.get(this.$u),8-this.Xu),n=Js(this.ju.get(this.$u+1),this.Xu);return this.$u++,t<<this.Xu|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.Xu&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-d.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.Xu+t;this.$u+=n>>3,this.Xu=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var Qs=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},to=function(){function t(){this.Gu=[],this.Yu=[],this.C=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var s=u[r];e.pushRange(s)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.Yu.length)this.Yu.push(0);else{var e=this.Yu[this.Yu.length-1]+this.Gu[this.Gu.length-1].length;this.Yu.push(e)}this.Gu.push(t.subarray(n,n+i)),this.C+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.Gu;r<u.length;r++){var s=u[r];t.set(s,e),i+=s.length,e+=s.length}return i},t.prototype.clear=function(){this.Gu=[],this.Yu=[],this.C=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Yu[n];return this.Gu[n][i]}},v.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Gu.length<1)return-1;if(this.Gu.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Gu[0];return"number"==typeof t?Ys(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=Ys(t,i,u))<0||u>r);u++){for(var s=u+1,o=u+e,c=1;s<o&&t[s]===n[c];s++,c++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=d.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.Yu,t,Qs)},t.prototype.join=function(){if(1===this.Gu.length)return this.Gu[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(t.prototype,"length",{get:function(){return this.C},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*d.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Ks(n,0,this.length),r=Ks(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,s=this.findContainingBufferIndex(e),o=this.Gu[s],c=e,a=c-this.Yu[s];c+o.length-a<r;)u.pushRange(o,a,o.length-a),s+=1,a=(c+=o.length-a)-this.Yu[s],o=this.Gu[s];var f=r-c;return u.pushRange(o,a,f),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Gu.length-1,e=this.Gu[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Gu[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),no=function(){function t(n){this.Ku=n||t.BUFFER_CHUNK_SIZE,this.Ju=!1,this.Zu=new to,this.ju=new y(this.Ku),this.Qu=0,this.ts=0,this.Xu=7}return t.prototype.closeByte=function(){this.ju[this.Qu++]=this.ts,this.Qu>=this.Ku&&this.closeBuffer(),this.ts=0,this.Xu=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Qu&&(this.Zu.pushRange(this.ju,0,this.Qu),t&&(this.ju=new y(this.Ku)),this.Qu=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Xu},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Ju)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Ju=!0,this.Zu},t.prototype.writeBit=function(t){if(this.Ju)throw new f("Cannot write to a closed BitWriter.");this.ts|=t<<this.Xu,0===this.Xu?this.closeByte():this.Xu--},t.prototype.writeByte=function(t){if(this.Ju)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.ts=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Xu;this.ts|=Js(t,n+1),this.closeByte(),this.ts=Zs(t,8-n)<<n+1,this.Xu=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Ju)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Qu+t.length<=this.Ku?(this.ju.set(t,this.Qu),this.Qu+=t.length,this.Qu===this.Ku&&this.closeBuffer()):(this.closeBuffer(),this.Zu.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Xu;this.ts|=Js(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Zs(t[i-1],8-n),r=Js(t[i],n+1);this.ts=e<<n+1|r,this.closeByte()}this.ts=Zs(t[t.length-1],8-n)<<n+1,this.Xu=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),io=function(){function t(t){this.rb=new to,this.es=t}return t.prototype.closeWriter=function(){void 0!==this.es&&(this.rb=this.rb.concat(this.es.close()),this.es=void 0)},v.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.es&&(this.es=new no),this.es},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),eo=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(d.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new io;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=d.pow(2,32),t}();function ro(t,n){return t instanceof Jt?64===n:t<d.pow(2,n)}function uo(t,n){return d.round(t*d.pow(2,n))}function so(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var oo=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ro(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Gs(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.rs},set:function(t){this.rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(eo);!function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}Gs(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(to.from(this.data))}}(eo);var co=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var ao=16384;function fo(t){var n=t.length;if(n<=ao)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ao)i.push(String.fromCharCode.apply(String,t.slice(e,e+ao)));return i.join("")}function ho(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function vo(t,n,i){var e,r=function(t,n,i){void 0===n&&(n=0);void 0===i&&(i=t.byteLength);return new y(t.buffer,t.byteOffset+n,i-n)}(new y((e=t).buffer,e.byteOffset,e.byteLength),n.offset,n.offset+i);return n.shift(r.byteLength),r}function lo(t,n,i){return n.offset+i<=t.byteLength}function wo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function go(t,n,i){void 0===i&&(i=!1);var e=wo(t,n,i),r=wo(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!0)}function yo(t,n,i){var e,r=vo(t,n,i);return fo((e=r,[].slice.call(e)))}function mo(t,n){var i,e=ho(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&ho(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&ho(t,n))+(63&ho(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&ho(t,n))+64*(63&ho(t,n))+(63&ho(t,n))),i}function _o(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=mo(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return fo(n)}(e)}(t,n,!0)}var po=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new co(this.offset<<3)},t}(),bo=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return ho(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return wo(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=wo(t,n,i),r=wo(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return go(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return vo(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(wo(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return yo(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return _o(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function ko(t,n){return t.type===n}var To=8;function So(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!lo(t,n,To)){var e=n.offset+To;return{complete:!1,neededOffset:e}}var r=wo(t,n),u=yo(t,n,4);if(1===r){if(!lo(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=go(t,n).toNumber()}if("uuid"===u){if(!lo(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}u=yo(t,n,16)}var s=n.offset;return{complete:!0,header:{type:u,size:r,headerSize:s-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var c,a,f,h={type:r.type,offset:i,data:new bo((c=t,a=i,f=s,void 0===a&&(a=0),void 0===f&&(f=c.byteLength),new DataView(c.buffer,c.byteOffset+a,f-a)),new po(r.headerSize))};return n.seek(s),{complete:!0,box:h}}!function(t){function n(){return t.call(this,"mdir")||this}Gs(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u}return Gs(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.us},set:function(t){this.us=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(oo));var Eo=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(t.prototype,"tag",{get:function(){return this.ss},set:function(t){if(!ro(t,8))throw new f("Provided tag does not fit in 8 bits.");this.ss=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c=t.call(this,4,o.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=s,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c}Gs(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.os},set:function(t){if(!ro(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.cs},set:function(t){if(!ro(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.as},set:function(t){if(!ro(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.as=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.fs},set:function(t){if(!ro(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.hs},set:function(t){if(!ro(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.hs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Eo),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Gs(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(to.from(this.data))}}(Eo);var Ro=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Gs(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Eo);!function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Ro(r.fixed28BitMode),u}Gs(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.vs},set:function(t){if(!ro(t,16))throw new f("Provided esId does not fit in 16 bits.");this.vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.ds},set:function(t){if(!ro(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.ls},set:function(t){if(t&&!ro(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.gs},set:function(t){if(t&&!ro(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Eo);var Io=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Gs(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(eo),Oo=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Gs(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Io),Co=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Gs(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.ys},set:function(t){if(!ro(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.ys=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Oo),No=function(t){function n(n,i,e,r){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:16,o.sampleRate=e.sampleRate,o}return Gs(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this._s},set:function(t){if(!ro(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.ps},set:function(t){if(!ro(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.bs},set:function(t){if(!ro(uo(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(uo(this.sampleRate,16),32),this.extra&&so(n.writer,this.extra)},n}(Co);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Gs(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ks},set:function(t){if(!ro(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ro(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(oo),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Gs(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Ts},set:function(t){if(!ro(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.Ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Ss},set:function(t){if(!ro(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.Ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Es},set:function(t){if(!ro(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Rs},set:function(t){if(!ro(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.Rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Is},set:function(t){if(!ro(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Os},set:function(t){if(!ro(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Cs},set:function(t){if(!ro(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Ns},set:function(t){if(!ro(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(eo),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Gs(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ks},set:function(t){if(!ro(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ro(t.sampleCount,32)||!ro(t.sampleOffset,32)}))throw new f("Not all entries can be represented in 64 bits.");this.ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(oo),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Gs(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ds},set:function(t){this.flags=void 0===t?1:0,this.Ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(oo),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Gs(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ds},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(oo),function(t){function n(){return t.call(this,"dinf")||this}Gs(n,t)}(Oo);var Do=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ro(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Gs(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.rs},set:function(t){this.rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Io);!function(t){function n(){return t.call(this,"dref",0,0)||this}Gs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Do);var Ao=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Gs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.ks},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ro(e.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ro(e.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ro(e.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!ro(e.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(oo);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Gs(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Ao),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Gs(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Ao),function(t){function n(){return t.call(this,"edts")||this}Gs(n,t)}(Oo);var Po=function(t){function n(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u}return Gs(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.As},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ps},set:function(t){if(!ro(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.xs},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(eo);!function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}Gs(n,t)}(Po),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}Gs(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(to.from(this.data))}}(eo);var xo,Lo=function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return Gs(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ls},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Bs},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ms},set:function(t){if(!ro(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Fs},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.Us},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new f("Expected an ISO-639-2/T language code");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(oo);!function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}Gs(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Lo),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}Gs(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Lo),function(t){function n(){return t.call(this,"mdia")||this}Gs(n,t)}(Oo),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new to,n}Gs(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(eo),function(t){function n(){return t.call(this,"minf")||this}Gs(n,t)}(Oo),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Gs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Do),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(xo||(xo={}));var Bo,Mo,Fo={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Uo(t,n){n.writer.writeUInt(uo(t.a,16),32),n.writer.writeUInt(uo(t.b,16),32),n.writer.writeUInt(uo(0,30),32),n.writer.writeUInt(uo(t.c,16),32),n.writer.writeUInt(uo(t.d,16),32),n.writer.writeUInt(uo(0,30),32),n.writer.writeUInt(uo(t.x,16),32),n.writer.writeUInt(uo(t.y,16),32),n.writer.writeUInt(uo(1,30),32)}function Vo(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Bo.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Mo.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Mo.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Mo.UNKNOWN,2)}function Ho(t,n){var i,e,r;n.writer.writeUInt(0,4),Vo(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Bo||(Bo={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Mo||(Mo={}));var qo=function(){return function(){}}(),Wo=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Gs(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Vs},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.P},set:function(t){if(!ro(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.P=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(to.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(to.from(this.data))},n}(oo),zo=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Gs(n,t),n}(Wo),jo=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Gs(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.Hs},set:function(t){if(!ro(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new f("Not all provided key ids are 16 bytes long.");this.Hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(to.from(e))}},n}(Wo);var $o=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Gs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.qs},set:function(t){if(!ro(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(oo);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Gs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}($o),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Gs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}($o),function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var u,s,o,c=this;return(c=t.call(this,"trex",e,r)||this).trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,c.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,c.defaultSampleFlags=i.sampleFlags,c}Gs(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Ws},set:function(t){if(!ro(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.zs},set:function(t){if(!ro(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.js},set:function(t){if(!ro(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.$s},set:function(t){if(!ro(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Xs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ro(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ro(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Ho(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(oo),function(t){function n(){return t.call(this,"mvex")||this}Gs(n,t)}(Oo);var Xo=function(t){function n(i,e,r,u,s){void 0===s&&(s=0);var o,c,a,f=this;return(f=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,f.modificationTime=i.modification,f.timescale=i.scale,f.duration=i.duration,f.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,f.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,f.matrix=null!==(a=r.matrix)&&void 0!==a?a:Fo,f.Gs=e,f}return Gs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ls},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Bs},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ms},set:function(t){if(!ro(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Fs},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.Ys},set:function(t){if(!ro(uo(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Ks},set:function(t){if(!ro(uo(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Js},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Gs},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!ro(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.Gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(uo(this.rate,16),32),n.writer.writeUInt(uo(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Uo(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(oo);!function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}Gs(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Xo),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}Gs(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Xo);var Go=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c,a,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,h.modificationTime=i.modification,h.trackId=e,h.duration=i.duration,h.volume=r,h.width=u,h.height=s,h.layer=null!==(c=o.layer)&&void 0!==c?c:0,h.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,h.matrix=null!==(f=o.matrix)&&void 0!==f?f:Fo,h}return Gs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ls},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Bs},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Ws},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!ro(t,32))throw new f("trackId cannot exceed 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Fs},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Ks},set:function(t){if(!ro(uo(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.Zs},set:function(t){if(!ro(uo(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Qs},set:function(t){if(!ro(uo(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.to},set:function(t){if(!ro(t,16))throw new f("Provided layer does not fit in 16 bits.");this.to=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.io},set:function(t){if(!ro(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.io=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Js},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Js=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(uo(this.volume,8),16),n.writer.writeUInt(0,16),Uo(this.matrix,n),n.writer.writeUInt(uo(this.width,16),32),n.writer.writeUInt(uo(this.height,16),32)},n}(oo);!function(t){function n(n,i,e,r,u,s){return t.call(this,0,n,i,e,r,u,s)||this}Gs(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}(Go),function(t){function n(n,i,e,r,u,s){return t.call(this,1,n,i,e,r,u,s)||this}Gs(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Go),function(t){function n(){return t.call(this,"trak")||this}Gs(n,t)}(Oo),function(t){function n(){return t.call(this,"moov")||this}Gs(n,t)}(Oo);var Yo=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Gs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.eo},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(oo);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Gs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}}(Yo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Gs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(Yo),function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}Gs(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Ws},set:function(t){if(!ro(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.ro},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!ro(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.ro=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.uo},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!ro(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.uo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.js},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!ro(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.$s},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!ro(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Xs},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!ro(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ro(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Xs=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Ho(this.defaultSampleFlags,n)}}(oo),function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}Gs(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.so},set:function(t){if(t&&!ro(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.so=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.oo},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ro(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ro(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.oo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.co},set:function(t){var n,i;if(!ro(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!ro(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!ro(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!ro(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!ro(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!ro(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.co=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Ho(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Ho(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}}(oo),function(t){function n(){return t.call(this,"traf")||this}Gs(n,t)}(Oo),function(t){function n(){return t.call(this,"moof")||this}Gs(n,t)}(Oo),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Gs(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.ao},set:function(t){if(!ro(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.ao=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(oo);var Ko=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Gs(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.fo},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(eo);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Gs(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.ho},set:function(t){if(!ro(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.ho=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.vo},set:function(t){if(!ro(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(eo),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Gs(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Oo),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new Ko(n),r}Gs(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(eo);var Jo=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Gs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.ks},set:function(t){var n=this;if(!ro(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!ro(t,n.bitSize)}))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.do},set:function(t){if(void 0===t)this.flags=0;else{if(!ro(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!ro(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.do=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(oo);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Gs(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Jo),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Gs(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Jo),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Gs(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.lo},set:function(t){if(!ro(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.lo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.wo},set:function(t){if(!ro(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!ro(t,8)}))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.do},set:function(t){if(void 0===t)this.flags=0;else{if(!ro(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!ro(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.do=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(oo),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Gs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Vo(e[i],n)}}}(oo),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Gs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Do);var Zo=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Gs(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.yo},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(oo);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Gs(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Zo),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Gs(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.mo},set:function(t){if(!ro(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Zo),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u}Gs(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.zs},set:function(t){if(!ro(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Zo),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Gs(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this._o},set:function(t){if(!ro(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!ro(t,32)}))throw new f("Not all sampleSizes can be represented in 32 bits.");this._o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(oo),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Gs(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.$s},set:function(t){if(!ro(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.co},set:function(t){if(!ro(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(oo),function(t){function n(){return t.call(this,"stbl")||this}Gs(n,t)}(Oo),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Gs(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ks},set:function(t){if(!ro(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ro(t.firstChunk,32)||!ro(t.sampleDescriptionIndex,32)||!ro(t.samplesPerChunk,32)}))throw new f("Not all entries can be represented in 96 bits.");this.ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(oo),function(t){function n(){return t.call(this,"schi")||this}Gs(n,t)}(Oo),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Gs(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.po},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.po=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.bo},set:function(t){if(!ro(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.bo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.ko},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.ko=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(oo);var Qo=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o=0);var c=t.call(this,"sidx",n,o)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=s,c}return Gs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.To},set:function(t){if(!ro(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.To=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ms},set:function(t){if(!ro(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.So},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.So=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.Eo},set:function(t){if(!ro(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.Eo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this.Ro},set:function(t){if(!ro(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ro(e.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!ro(e.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!ro(e.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!ro(e.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.Ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(oo);!function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,e,r,u,s)||this}Gs(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}(Qo),function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,e,r,u,s)||this}Gs(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}(Qo),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}Gs(n,t)}(Po),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Gs(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.Io},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!ro(uo(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.Io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(uo(this.balance,8),16),n.writer.writeUInt(0,16)}}(oo),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Gs(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ks},set:function(t){if(!ro(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ro(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(oo),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Gs(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ks},set:function(t){if(!ro(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ro(t.sampleCount,32)||!ro(t.sampleDelta,32)}))throw new f("Not all entries can be represented in 64 bits.");this.ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(oo),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Gs(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Ws},set:function(t){if(!ro(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Do),function(t){function n(){return t.call(this,"udta")||this}Gs(n,t)}(Oo);var tc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=tc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Gs(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.Oo},set:function(t){if(!ro(t.red,16)||!ro(t.green,16)||!ro(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(oo);var nc=function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s,o,c,a,f,h=this;return(h=t.call(this,n,i)||this).width=e.width,h.height=e.height,h.horizontalResolution=null!==(s=e.horizontal)&&void 0!==s?s:72,h.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,h.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",h.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,h.depth=null!==(f=r.depth)&&void 0!==f?f:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h}return Gs(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.Zs},set:function(t){if(!ro(t,16))throw new f("Provided width does not fit in 16 bits.");this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Qs},set:function(t){if(!ro(t,16))throw new f("Provided height does not fit in 16 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.Co},set:function(t){if(!ro(uo(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.Co=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.No},set:function(t){if(!ro(uo(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.No=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.Do},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.Do=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.Ao},set:function(t){if(!ro(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.Ao=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Po},set:function(t){if(!ro(t,16))throw new f("Provided depth does not fit in 16 bits.");this.Po=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(uo(this.horizontalResolution,16),32),n.writer.writeUInt(uo(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&so(n.writer,this.extra)},n}(Co);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Gs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(to.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(oo),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Gs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(No),function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u}Gs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(nc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Gs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Co),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Gs(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(eo),function(){function t(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}v.defineProperty(t.prototype,"version",{get:function(){return this.xo},set:function(t){if(!ro(t,8))throw new f("Provided version does not fit in 8 bits.");this.xo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileIndication",{get:function(){return this.Lo},set:function(t){if(!ro(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.Lo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Bo},set:function(t){if(!ro(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.Bo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Mo},set:function(t){if(!ro(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.Mo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"spsSets",{get:function(){return this.Fo},set:function(t){if(!ro(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.Fo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Uo},set:function(t){if(!ro(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.Uo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(to.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var s=u[r];t.writer.writeUInt(s.length,16),t.concat(to.from(s))}}}(),function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,r)||this;return s.configurationBox=e,s.bitrateBox=u,s}Gs(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(nc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Gs(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.as},set:function(t){if(!ro(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.as=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.Vo},set:function(t){if(!ro(t,32))throw new f("Provided max does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.Ho},set:function(t){if(!ro(t,32))throw new f("Provided avg does not fit in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(eo);var ic=function(t){function n(n,i){var e,r,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new y(0),o}return Gs(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.qo},set:function(t){if(!ro(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.qo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Wo},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Wo=t,this.zo=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.jo},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.jo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.zo},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.zo=t,this.Wo=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),so(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),so(t.writer,this.constantIv))},n}(oo);!function(t){function n(n){return t.call(this,0,n)||this}Gs(n,t)}(ic);var ec=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Gs(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.$o},set:function(t){if(!ro(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.$o=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Xo},set:function(t){if(!ro(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(ic);function rc(t){return void 0!==t.iv}function uc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new ec(n),i}Gs(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(qo),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Gs(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.co},set:function(t){var n;if(!ro(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(rc(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=uc(r)),!0===n&&!uc(r)||!1===n&&uc(r))throw new f("Mix of samples with and without subsamples detected.");if(uc(r)){if(!ro(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];if(!ro(o.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!ro(o.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];rc(r)&&(n+=r.iv.length),uc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(rc(r)&&so(n.writer,r.iv),uc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(oo),function(t){function n(n,i,e,r,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=e,s.timescale=r.timescale,s.presentationTimeDelta=r.presentationTimeDelta,s.eventDuration=r.eventDuration,s}Gs(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Ms},set:function(t){if(!ro(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Go},set:function(t){if(!ro(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Yo},set:function(t){if(!ro(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.Ko},set:function(t){if(!ro(t,32))throw new f("The provided id does not fit in 32 bits.");this.Ko=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(to.from(this.data))}}(oo);var sc,oc,cc=(sc="pssh",oc=function(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new jo(i,o,e):new zo(i,o)},function(t){var n,i=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=So(i,e);if(!r.complete)return;if(ko(r.box,n))return r.box}}(new bo((n=t,new DataView(n.buffer,n.byteOffset,n.byteLength)),new po),sc);if(!i)throw new f("".concat(sc," box not found"));return oc(i)}),ac=function(t){function n(n,i){var e;(e=t.call(this)||this).Jo=void 0,e.Zo=!1,e.Qo=void 0,e.tc=void 0,e.nc=function(){e.ic()},e.ec=function(t){e.tu(new Bu(Nn(e),t.messageType,zs(e.rc,t.message)))},e.uc=function(){e.Zo=!0,e.Jo.Iu>0&&(e.Jo.Ru(),e.tu(new Lu(Nn(e)))),e.sc.removeEventListener("keystatuseschange",e.nc),e.sc.removeEventListener("message",e.ec)},e.sc=n,e.rc=i,e.sc.addEventListener("keystatuseschange",e.nc),e.sc.addEventListener("message",e.ec),e.Jo=new Vu;var r=[];return e.sc.closed&&r.push(j.resolve(e.sc.closed)),e.tc=new Hs,r.push(e.tc.Bu),e.Qo=j.race(r).then(e.uc,e.uc),e.ic(),e}vt(n,t);var i=n.prototype;return i.oc=function(){if(this.Zo)return this.Qo;var t=[];return t.push(j.resolve(this.sc.close())),t.push(Ru(1e3)),this.tc.Xr(j.race(t).catch(fc)),this.Zo=!0,this.Qo},i.cc=function(t,n,i){if(Et.Sn){var e=cc(Bs(n));if(1===e.version)n=new zo(e.systemId,e.data).serialize().join()}return j.resolve(this.sc.generateRequest(t,n)).catch(fc)},i.ac=function(t){return j.resolve(this.sc.load(t)).catch(fc)},i.fc=function(){return j.resolve(this.sc.remove()).catch(fc)},i.hc=function(t){return j.resolve(this.sc.update(t)).catch(fc)},i.ic=function(){var t=this;this.Jo.Ru(),this.sc.keyStatuses.forEach(function(n,i){t.vc(i,n)}),this.tu(new Lu(this))},i.vc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Bs(t);if(this.rc===Dr&&16===e.byteLength){var r=Ps(e),u=r.getUint32(0,!0),s=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,s,!1),r.setUint16(6,o,!1)}this.rc===Dr&&"status-pending"===n&&(n="usable"),this.Jo.Eu(e,n)},ft(n,[{key:"dc",get:function(){return this.Qo}},{key:"lc",get:function(){return this.sc.expiration}},{key:"wc",get:function(){return this.Jo}},{key:"gc",get:function(){return this.sc.sessionId}}]),n}(Nu);function fc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new $s(t.message,void 0,n,t)}var hc=function(){function t(t,n,i){this.yc=t,this.mc=n,this._c=i}var n=t.prototype;return n.pc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new ac(this.yc.createSession(t),this.mc));case 1:case"end":return n.stop()}},null,this,null,j)},n.bc=function(t){return j.resolve(this.yc.setServerCertificate(t))},n.kc=function(t){return j.resolve(t.setMediaKeys(this.yc))},n.Tc=function(t){return j.resolve(t.setMediaKeys(null))},n.Sc=function(){return j.resolve()},t}(),vc=function(){function t(t,n,i){this.Ec=t,this.rc=n,this.Rc=i}var n=t.prototype;return n.Ic=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this.Ec.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new hc(t,this.rc,this.Rc));case 4:case"end":return n.stop()}},null,this,null,j)},n.Oc=function(){return this.Rc},ft(t,[{key:"mc",get:function(){return this.Ec.keySystem}}]),t}();function dc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function lc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,Cc:e.Cc},s=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(e){return wc(t,n,i,e)}),s=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(e){return wc(t,n,i,e)}),s=!0,u.videoCapabilities.length&&(r=!0))}return s||(r=t(i,"video/mp4")),r?u:void 0}}function wc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!hu(n,e.encryptionScheme))&&(!e.robustness&&t(i,dc(e.contentType))))}function gc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var s=u[r];if(s.contentType)return s.contentType}}function yc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function mc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(_c))||!(!t.videoCapabilities||!t.videoCapabilities.some(_c))}function _c(t){return!t.robustness}function pc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(gr({},r,{robustness:n}))}return i}var bc=function(){function t(){}return t.prototype.Nr=function(t,n){var i,e,r,s,o,c,a,f;return wr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(n=n.filter(function(t){return!t.Cc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=yc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=yc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(mc)){h.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",gr({},n=t,{videoCapabilities:n.videoCapabilities?pc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?pc(n.audioCapabilities,i):void 0});var n,i}),h.prev=4,h.next=7,wr.awrap(u.requestMediaKeySystemAccess(t,s));case 7:return o=h.sent,c=o.getConfiguration(),h.abrupt("return",new vc(o,t,c));case 12:h.prev=12,h.t0=h.catch(4);case 14:return h.next=16,wr.awrap(u.requestMediaKeySystemAccess(t,n));case 16:return a=h.sent,f=a.getConfiguration(),h.abrupt("return",new vc(a,t,f));case 19:case"end":return h.stop()}},null,null,[[4,12]],j)},t.Nc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}(),kc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Zo=!1,e.Dc=void 0,e.Ac=void 0,e.Pc=void 0,e.xc=void 0,e.Lc=void 0,e.uc=function(){e.Zo=!0,e.Dc.Uu(void 0),e.Lc&&(e.Lc.removeEventListener("mskeyclose",e.uc),e.Lc.removeEventListener("mskeymessage",e.Bc),e.Lc.removeEventListener("mskeyerror",e.Mc),e.Lc.removeEventListener("mskeyadded",e.Fc))},e.Bc=function(t){e.Pc&&(e.Pc.Uu(void 0),e.Pc=void 0),e.tu(new Bu(Nn(e),"license-request",Fs(t.message).buffer,t.destinationURL||void 0))},e.Mc=function(){var t=e.Lc&&e.Lc.error;if(t){var n=new $s("Unknown CDM error",t.code,t.systemCode);if(e.Pc)e.Pc.Vu(n),e.Pc=void 0;else if(e.Ac)e.Ac.Vu(n),e.Ac=void 0;else switch(n.Hu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Uc("output-not-allowed");break;default:e.Uc("internal-error")}}},e.Fc=function(){e.Pc&&(e.Uc("usable"),e.Pc.Uu(void 0),e.Pc=void 0),e.Ac&&(e.Uc("usable"),e.Ac.Uu(void 0),e.Ac=void 0)},e.Vc=n,e.Hc=i,e.Dc=new Hs,e.xc=new Vu,e}vt(n,t);var i=n.prototype;return i.cc=function(t,n,i){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qc(),this.Pc=new Hs,this.pc(Bs(n),i),t.next=5,wr.awrap(this.Pc.Bu);case 5:case"end":return t.stop()}},null,this,null,j)},i.pc=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Wc;return(i=n?this.Vc.createSession(this.Hc,t,e):this.Vc.createSession(this.Hc,t)).addEventListener("mskeyclose",this.uc),i.addEventListener("mskeymessage",this.Bc),i.addEventListener("mskeyerror",this.Mc),i.addEventListener("mskeyadded",this.Fc),this.Lc=i,this.Uc("status-pending"),i},i.ac=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,j)},i.hc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Ac=new Hs,this.qc(),this.Lc){i.next=4;break}return i.abrupt("return",j.resolve());case 4:if(0!==(n=Bs(t)).byteLength){i.next=7;break}throw new h("Cannot call update with an empty response.");case 7:return this.Lc.update(n),i.next=10,wr.awrap(this.Ac.Bu);case 10:case"end":return i.stop()}},null,this,null,j)},i.oc=function(){return!this.Zo&&this.Lc&&(this.Zo=!0,this.Lc.close()),this.Dc.Bu},i.fc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,j)},i.qc=function(){if(this.Zo)throw new h("Already closing or closed.")},i.Uc=function(t){this.xc.Ru(),this.xc.Eu(Uu,t),this.tu(new Lu(this))},ft(n,[{key:"gc",get:function(){return this.Lc&&this.Lc.sessionId||""}},{key:"lc",get:function(){return NaN}},{key:"dc",get:function(){return this.Dc.Bu}},{key:"wc",get:function(){return this.xc}}]),n}(Nu),Tc=function(){function t(t,n,i){this.Hc=void 0,this.Vc=t,this.mc=n,this._c=i;var e=gc(i)||"video/mp4";this.Hc=dc(e)}var n=t.prototype;return n.pc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new kc(this.Vc,this.Hc));case 1:case"end":return t.stop()}},null,this,null,j)},n.bc=function(t){return j.resolve(!1)},n.kc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Vc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Vc),t.removeEventListener("loadedmetadata",i)}),j.resolve()},n.Tc=function(t){return j.resolve()},n.Sc=function(){return j.resolve()},t}(),Sc=function(){function t(t,n){this.rc=t,this.zc=n}var n=t.prototype;return n.Oc=function(){return this.zc},n.Ic=function(){var t=new Q.MSMediaKeys(this.rc);return j.resolve(new Tc(t,this.rc,this.zc))},ft(t,[{key:"mc",get:function(){return this.rc}}]),t}(),Ec=function(){function t(){}return t.prototype.Nr=function(t,n){try{return j.resolve(function(t,n){if(!Rc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=lc(Ic,Pu,t,e);if(r)return new Sc(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Nc=function(){return Rc()},t}();function Rc(){return void 0!==Q.MSMediaKeys&&"function"==typeof Q.MSMediaKeys.isTypeSupported}function Ic(t,n){return Q.MSMediaKeys.isTypeSupported(t,n)}var Oc,Cc,Nc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Dc=new Hs,r.jc=void 0,r.xc=new Vu,r.$c=void 0,r.Xc=new Hs,r.Mc=function(){var t=r.$c&&r.$c.error;if(t){var n=new $s("Unknown CDM error",t.code,t.systemCode);r.jc?(r.jc.Vu(n),r.jc=void 0):n.Hu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Uc("output-not-allowed"):r.Uc("internal-error"),r.tu(new Mu)}},r.Bc=function(t){r.tu(new Bu(Nn(r),"license-request",Fs(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Fc=function(){r.jc&&(r.jc.Uu(void 0),r.jc=void 0),r.Uc("usable")},r.Gc=n,r.Hc=i,r.Yc=e,r}vt(n,t);var i=n.prototype;return i.cc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Kc;if(!e)throw new h("Expected FairPlay contentId to be defined but was "+e+".");var r=Dc(Bs(n),e,this.Yc);return this.$c=this.Gc.createSession(this.Hc,r),this.$c.addEventListener("webkitkeymessage",this.Bc,!1),this.$c.addEventListener("webkitkeyadded",this.Fc,!1),this.$c.addEventListener("webkitkeyerror",this.Mc,!1),this.Uc("status-pending"),this.Xc.Uu(this.$c),this.Xc=new Hs,j.resolve()},i.ac=function(t){return j.resolve(!0)},i.hc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Bs(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:if(this.jc=new Hs,i.t0=this.$c,i.t0){i.next=9;break}return i.next=8,wr.awrap(this.Xc.Bu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,wr.awrap(this.jc.Bu);case 13:case"end":return i.stop()}},null,this,null,j)},i.oc=function(){var t,n=this.$c;return n&&(n.removeEventListener("webkitkeymessage",this.Bc,!1),n.removeEventListener("webkitkeyadded",this.Fc,!1),n.removeEventListener("webkitkeyerror",this.Mc,!1),n.close()),this.Xc.$r(),null==(t=this.jc)||t.$r(),this.Dc.Uu(void 0),this.Dc.Bu},i.fc=function(){return j.resolve(void 0)},i.Uc=function(t){this.xc.Ru(),this.xc.Eu(Uu,t),this.tu(new Lu(this))},ft(n,[{key:"gc",get:function(){return this.$c?this.$c.sessionId:""}},{key:"lc",get:function(){return NaN}},{key:"dc",get:function(){return this.Dc.Bu}},{key:"wc",get:function(){return this.xc}}]),n}(Nu);function Dc(t,n,i){var e=Ns(t),r=2*e.length,u=2*n.length,s=new ArrayBuffer(4+r+4+u+4+i.byteLength),o=new DataView(s),c=new Vs;return ys(o,c,r,!0),Ss(o,c,e,!0),ys(o,c,u,!0),Ss(o,c,n,!0),ys(o,c,i.byteLength,!0),function(t,n,i){xs(t).set(xs(i),n.Au),n.Cu(i.byteLength)}(o,c,i),new y(s)}n.ErrorCode=void 0,(Oc=n.ErrorCode||(n.ErrorCode={}))[Oc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Oc[Oc.LICENSE_ERROR=2e3]="LICENSE_ERROR",Oc[Oc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Oc[Oc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Oc[Oc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Oc[Oc.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Oc[Oc.SOURCE_INVALID=3e3]="SOURCE_INVALID",Oc[Oc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Oc[Oc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Oc[Oc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Oc[Oc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Oc[Oc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Oc[Oc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Oc[Oc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Oc[Oc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Oc[Oc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Oc[Oc.NETWORK_ERROR=6e3]="NETWORK_ERROR",Oc[Oc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Oc[Oc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Oc[Oc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Oc[Oc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Oc[Oc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Oc[Oc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Oc[Oc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Oc[Oc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Oc[Oc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Oc[Oc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Oc[Oc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Oc[Oc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Oc[Oc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Oc[Oc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Oc[Oc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Oc[Oc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Oc[Oc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Oc[Oc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Oc[Oc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Oc[Oc.AD_ERROR=1e4]="AD_ERROR",Oc[Oc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Oc[Oc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",Oc[Oc.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",Oc[Oc.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",n.ErrorCategory=void 0,(Cc=n.ErrorCategory||(n.ErrorCategory={}))[Cc.CONFIGURATION=1]="CONFIGURATION",Cc[Cc.LICENSE=2]="LICENSE",Cc[Cc.SOURCE=3]="SOURCE",Cc[Cc.MANIFEST=4]="MANIFEST",Cc[Cc.MEDIA=5]="MEDIA",Cc[Cc.NETWORK=6]="NETWORK",Cc[Cc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Cc[Cc.SUBTITLE=8]="SUBTITLE",Cc[Cc.VR=9]="VR",Cc[Cc.AD=10]="AD",Cc[Cc.FULLSCREEN=11]="FULLSCREEN",Cc[Cc.CACHE=12]="CACHE",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=d.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new h("Invalid error code: "+t)}}();var Ac=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return vt(i,t),ft(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(An);var Pc=function(){function t(t,n,i){this.Hc=void 0,this.Yc=void 0,this.Gc=t,this.mc=n,this._c=i;var e=gc(i)||"video/mp4";this.Hc=dc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Gc},i.pc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Yc){t.next=2;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Nc(this.Gc,this.Hc,this.Yc));case 3:case"end":return t.stop()}},null,this,null,j)},i.bc=function(t){return this.Yc=Bs(t),j.resolve(!0)},i.kc=function(t){return t.webkitSetMediaKeys(this.Gc),j.resolve()},i.Tc=function(t){return t.webkitSetMediaKeys(null),j.resolve()},i.Sc=function(){return j.resolve()},t}(),xc=function(){function t(t,n){this.rc=t,this.zc=n}var n=t.prototype;return n.Oc=function(){return this.zc},n.Ic=function(){var t=new Q.WebKitMediaKeys(this.rc);return j.resolve(new Pc(t,this.rc,this.zc))},ft(t,[{key:"mc",get:function(){return this.rc}}]),t}(),Lc=function(){function t(){}return t.prototype.Nr=function(t,n){try{return j.resolve(function(t,n){if(t!==Fr)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Bc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=lc(Mc,xu,t,e);if(r)return new xc(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Nc=function(){return Bc()},t}();function Bc(){return void 0!==Q.WebKitMediaKeys&&"function"==typeof Q.WebKitMediaKeys.isTypeSupported}function Mc(t,n){return Q.WebKitMediaKeys.isTypeSupported(t,n)}var Fc=function(){function t(t){this.Jc=t}return t.prototype.Nr=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Jc;case 1:if(!(i<e.length)){u.next=14;break}return r=e[i],u.prev=3,u.next=6,wr.awrap(r.Nr(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3);case 11:i++,u.next=1;break;case 14:throw new h("Unsupported key system configuration for "+t);case 15:case"end":return u.stop()}},null,this,[[3,9]],j)},t}(),Uc=function(){function t(t){var n=this;this.Zc=[],this.Qc=void 0,this.ta=new lu,this.na=void 0,this.ia=function(){return 0===n.Zc.length?n.na?Vc(n.na,n.ta.Yr).then(n.ea,n.ea):n.ea():n.Zc.shift()().then(n.ia)},this.ea=function(){if(0!==n.Zc.length)return n.ia();n.Qc=void 0},this.na=t}var n=t.prototype;return n.ra=function(t,n){var i=this;return new j(function(e){var r=new lu;r.Xr(i.ta.Yr),n&&r.Xr(n);var u=function(){r.Vr()};i.Zc.push(function(){var n=Vc(t,r.Yr);return e(n),n.then(u,u)}),i.Qc||(i.Qc=i.ia())})},n.$r=function(){return this.ua(!0)},n.et=function(){return this.na=void 0,this.ua(!1)},n.ua=function(t){var n=this.Qc;return this.ta.$r(),t&&(this.ta=new lu),j.resolve(n)},t}();function Vc(t,n){return new j(function(i){return i(t(n))})}var Hc,qc=new Uc,Wc=function(t){function n(n){var i;return(i=t.call(this)||this).Pc=void 0,i.jc=void 0,i.Dc=void 0,i.Ju=!1,i.sa=void 0,i.oa=void 0,i.ca=void 0,i.aa=void 0,i.fa=void 0,i.rc=n,i.Dc=new Hs,i.oa="",i.fa=new Hs,i.ca=new Vu,i}vt(n,t);var i=n.prototype;return i.ha=function(){this.jc&&(this.Uc("usable"),this.jc.Uu(void 0),this.jc=void 0)},i.va=function(t){var n=new $s("Unknown CDM error",t.errorCode,t.systemCode);this.jc?(this.jc.Vu(n),this.jc=void 0):this.Pc?(this.Pc.Vu(n),this.Pc=void 0):n.Hu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Uc("output-restricted"):1===n.qu?this.Uc("expired"):this.Uc("internal-error")},i.da=function(t){0!==t.message.byteLength&&(this.Pc&&(this.Pc.Uu(void 0),this.Pc=void 0),this.tu(new Bu(this,"license-request",zs(this.rc,Fs(t.message).buffer),t.defaultURL||void 0)))},i.la=function(t){this.aa||(this.aa=t,this.fa.Uu(t))},i.oc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.jc&&(this.jc.Vu(void 0),this.jc=void 0),this.Ju=!0,this.Dc.Uu(void 0);case 4:case"end":return t.stop()}},null,this,null,j)},i.cc=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Pc=new Hs,this.sa=Bs(n),t.t0=this.aa,t.t0){t.next=8;break}return t.next=7,wr.awrap(this.fa.Bu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.rc,this.sa),t.next=12,wr.awrap(this.Pc.Bu);case 12:case"end":return t.stop()}},null,this,null,j)},i.ac=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,j)},i.fc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,j)},i.hc=function(t){var n=this;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.throwIfClosed(),this.jc=new Hs,!Et.xn&&!Et.An){i.next=4;break}return i.abrupt("return",qc.ra(function(){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(n.doUpdate(t));case 2:case"end":return i.stop()}},null,null,null,j)}));case 4:return i.next=6,wr.awrap(this.doUpdate(t));case 6:case"end":return i.stop()}},null,this,null,j)},i.doUpdate=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==this.jc){n.next=2;break}return n.abrupt("return");case 2:if(n.t0=this.aa,n.t0){n.next=7;break}return n.next=6,wr.awrap(this.fa.Bu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.rc,Bs(t),this.sa,this.gc),n.next=11,wr.awrap(this.jc.Bu);case 11:case"end":return n.stop()}},null,this,null,j)},i.throwIfClosed=function(){if(this.Ju)throw new h("Already closing or closed.")},i.Uc=function(t){this.ca.Ru(),this.ca.Eu(Uu,t),this.tu(new Lu(this))},i.wa=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.aa,n.t0){n.next=5;break}return n.next=4,wr.awrap(this.fa.Bu);case 4:n.t0=n.sent;case 5:if(!(t=n.t0).webkitCancelKeyRequest){n.next=17;break}n.prev=7,t.webkitCancelKeyRequest(this.rc,this.oa),n.next=13;break;case 11:n.prev=11,n.t1=n.catch(7);case 13:return n.prev=13,n.next=16,wr.awrap(Ru(500));case 16:return n.finish(13);case 17:case"end":return n.stop()}},null,this,[[7,11,13,17]],j)},ft(n,[{key:"wc",get:function(){return this.ca}},{key:"gc",get:function(){return this.oa},set:function(t){this.oa=t}},{key:"dc",get:function(){return this.Dc.Bu}},{key:"lc",get:function(){return NaN}}]),n}(Nu),zc=function(){function t(t,n){var i=this;this.aa=void 0,this.ga=mr(),this.ya=[],this.Fc=function(t){var n=i.ma(t.sessionId);n&&n.ha()},this._a=function(t){var n=i.ma(t.sessionId);n&&n.va(t)},this.pa=function(t){var n=i.ma(t.sessionId);n&&n.da(t)},this.mc=t,this._c=n}var n=t.prototype;return n.kc=function(t){return this.aa=t,this.aa.addEventListener("webkitkeyadded",this.Fc),this.aa.addEventListener("webkitkeyerror",this._a),this.aa.addEventListener("webkitkeymessage",this.pa),this.ga.forEach(function(n,i){return n.la(t)}),this.ya.forEach(function(n){return n.la(t)}),j.resolve()},n.Tc=function(t){return t.removeEventListener("webkitkeyadded",this.Fc),t.removeEventListener("webkitkeyerror",this._a),t.removeEventListener("webkitkeymessage",this.pa),this.aa=void 0,j.resolve()},n.Sc=function(){var t,n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:t=this.ga.entries(),n=t.next();case 2:if(n.done){i.next=8;break}return i.next=5,wr.awrap(n.value[1].wa());case 5:n=t.next(),i.next=2;break;case 8:this.ga.clear();case 9:case"end":return i.stop()}},null,this,null,j)},n.pc=function(t,n,i){var e;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Wc(this.mc),this.aa&&e.la(this.aa),this.ya.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,j)},n.bc=function(t){return j.resolve(!1)},n.ma=function(t){if(t){var n=this.ga.get(t);return n||((n=this.ya.shift())?(n.gc=t,this.ga.set(t,n),n):void 0)}},t}(),jc=function(){function t(t,n){this.mc=t,this.ba=n}var n=t.prototype;return n.Ic=function(){return j.resolve(new zc(this.mc,this.ba))},n.Oc=function(){return this.ba},t}(),$c=function(){function t(){}return t.prototype.Nr=function(t,n){try{return j.resolve(Xc(t,n))}catch(t){return j.reject(t)}},t.Nc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Xc(t,n){if(!$c.Nc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=lc(Gc,Pu,t,e);if(r)return new jc(t,r)}throw new h("Unsupported key system configuration for "+t)}function Gc(t,n){var i=Ge();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Yc(){return Hc||(Hc=function(){var t=[];Lc.Nc()&&t.push(new Lc);bc.Nc()&&t.push(new bc);Ec.Nc()&&t.push(new Ec);$c.Nc()&&t.push(new $c);return new Fc(t)}()),Hc}var Kc=function(){function t(){this.ka=mr()}var n=t.prototype;return n.Ru=function(t){this.ka.delete(t)},n.Ta=function(){this.ka.clear()},n.Tu=function(t){return this.ka.get(t)},n.Sa=function(t,n){this.ka.set(t,n)},t}(),Jc=function(){function t(){}return t.Ea=function(){return t.ni||(t.ni=Zc.Nc()?new Zc:new Kc),t.ni},t.Ru=function(n){t.Ea().Ru(n)},t.Ta=function(){t.Ea().Ta()},t.Tu=function(n){return t.Ea().Tu(n)},t.Sa=function(n,i){t.Ea().Sa(n,i)},t}();Jc.ni=void 0;var Zc=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Nc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Ru=function(n){t.sessionStorage.removeItem(n)},e.Ta=function(){t.sessionStorage.clear()},e.Tu=function(n){return t.sessionStorage[n]},e.Sa=function(n,i){t.sessionStorage[n]=i},i}(Jc);var Qc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}}();function ta(t,n,i){var r=Qc([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var na,ia;!function(t){t.Ra="Ia",t.Oa="Ca",t.Na="contentprotectionerror",t.Da="contentprotectionsuccess",t.Aa="currentsourcechange",t.Pa="destroy",t.xa="durationchange",t.La="emptied",t.gu="encrypted",t.Ba="ended",t.Ma="Fa",t.Ua="loadstart",t.Va="manifestupdate",t.Ha="nosupportedrepresentationfound",t.qa="offline",t.Wa="online",t.za="pause",t.ja="play",t.$a="progress",t.Xa="ratechange",t.Ga="representationchange",t.Ya="resize",t.Ka="seeked",t.Ja="seeking",t.Za="segmentnotfound",t.Qa="tf",t.nf="if",t.ef="sourcechange",t.rf="timeupdate",t.uf="volumechange",t.sf="cf",t.af="metricschange"}(na||(na={})),function(t){t.ff="arraybuffer",t.hf="json",t.vf="stream",t.si="text"}(ia||(ia={}));var ea=function(){function t(n){var i=this;this.wr=void 0,this.wr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&v.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=ra(i),e=ua(e);var r=i.toLowerCase();if(this.wr.hasOwnProperty(r)){var u=this.wr[r],s=u[1];u[1]=s?s+", "+e:e}else this.wr[r]=[i,e]},n.delete=function(t){var n=ra(t).toLowerCase();delete this.wr[n]},n.get=function(t){var n=ra(t).toLowerCase();return this.wr.hasOwnProperty(n)?this.wr[n][1]:null},n.has=function(t){var n=ra(t).toLowerCase();return this.wr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=ra(i)).toLowerCase();this.wr[e]=[i,ua(n)]},n.forEach=function(t,n){for(var i in this.wr)this.wr.hasOwnProperty(i)&&t.call(n,this.wr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.wr)if(this.wr.hasOwnProperty(n)){var i=this.wr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.df=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.lf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.wf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function ra(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function ua(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function oa(){}var ca=Number.isNaN||function(t){return t!=t},aa=oa;function fa(t){return"object"==typeof t&&null!==t||"function"==typeof t}function ha(t){return t.slice()}function va(t){return!1!==function(t){if("number"!=typeof t)return!1;if(ca(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function da(t,n,i){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function la(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new h(r+" is not a method");switch(i){case 0:return function(){return ga(r,t,e)};case 1:return function(n){var i=[n].concat(e);return ga(r,t,i)}}}return function(){return Ea(void 0)}}function wa(t,n,i){var e=t[n];if(void 0!==e)return da(e,t,i)}function ga(t,n,i){try{return Ea(da(t,n,i))}catch(t){return Ra(t)}}function ya(t){return t}function ma(t){if(t=Number(t),ca(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function _a(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new h("size property of a queuing strategy must be a function");return function(n){return t(n)}}var pa=j,ba=j.prototype.then,ka=j.resolve.bind(pa),Ta=j.reject.bind(pa);function Sa(t){return new pa(t)}function Ea(t){return ka(t)}function Ra(t){return Ta(t)}function Ia(t,n,i){return ba.call(t,n,i)}function Oa(t,n,i){Ia(Ia(t,n,i),void 0,aa)}function Ca(t,n){Oa(t,n)}function Na(t,n){Oa(t,void 0,n)}function Da(t,n,i){return Ia(t,n,i)}function Aa(t){Ia(t,void 0,aa)}var Pa=function(){function t(){this.gf=0,this.yf=0,this.N={mf:[],_f:void 0},this.pf=this.N,this.gf=0,this.yf=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.yf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.pf,i=n;16383===n.mf.length&&(i={mf:[],_f:void 0}),n.mf.push(t),i!==n&&(this.pf=i,n._f=i),++this.yf},t.prototype.shift=function(){var t=this.N,n=t,i=this.gf,e=i+1,r=t.mf,u=r[i];return 16384===e&&(n=t._f,e=0),--this.yf,this.gf=e,t!==n&&(this.N=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.gf,i=this.N,e=i.mf;!(n===e.length&&void 0===i._f||n===e.length&&(n=0,0===(e=(i=i._f).mf).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.N,n=this.gf;return t.mf[n]},t}();function xa(t,n,i){var e=null;!0===i&&(e=v.prototype);var r=v.create(e);return r.value=t,r.done=n,r}function La(t,n){t.bf=!0,t.kf=n,n.Tf=t,"readable"===n.o?Ua(t):"closed"===n.o?function(t){Ua(t),qa(t)}(t):Va(t,n.Sf)}function Ba(t,n){return Xh(t.kf,n)}function Ma(t){"readable"===t.kf.o?Ha(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Va(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.kf.Tf=void 0,t.kf=void 0}function Fa(t){return new h("Cannot "+t+" a stream using a released reader")}function Ua(t){t.Qo=Sa(function(n,i){t.Ef=n,t.Rf=i})}function Va(t,n){Ua(t),Ha(t,n)}function Ha(t,n){Aa(t.Qo),t.Rf(n),t.Ef=void 0,t.Rf=void 0}function qa(t){t.Ef(void 0),t.Ef=void 0,t.Rf=void 0}var Wa=sa("[[CancelSteps]]"),za=sa("[[PullSteps]]");function ja(t,n){void 0===n&&(n=!1);var i=new Za(t);return i.bf=n,i}function $a(t){return Sa(function(n,i){var e={Mu:n,Fu:i};t.Tf.If.push(e)})}function Xa(t,n,i){var e=t.Tf;e.If.shift().Mu(xa(n,i,e.bf))}function Ga(t){return t.Tf.If.length}function Ya(t){var n=t.Tf;return void 0!==n&&!!Qa(n)}var Ka,Ja,Za=function(){function t(t){if(!1===jh(t))throw new h("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===$h(t))throw new h("This stream has already been locked for exclusive reading by another reader");La(this,t),this.If=new Pa}return v.defineProperty(t.prototype,"closed",{get:function(){return Qa(this)?this.Qo:Ra(nf("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Qa(this)?void 0===this.kf?Ra(Fa("cancel")):Ba(this,t):Ra(nf("cancel"))},t.prototype.read=function(){return Qa(this)?void 0===this.kf?Ra(Fa("read from")):tf(this):Ra(nf("read"))},t.prototype.releaseLock=function(){if(!Qa(this))throw nf("releaseLock");if(void 0!==this.kf){if(this.If.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Ma(this)}},t}();function Qa(t){return!!fa(t)&&!!v.prototype.hasOwnProperty.call(t,"If")}function tf(t){var n=t.kf;return n.Of=!0,"closed"===n.o?Ea(xa(void 0,!0,t.bf)):"errored"===n.o?Ra(n.Sf):n.Cf[za]()}function nf(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof sa.asyncIterator&&((Ka={})[sa.asyncIterator]=function(){return this},Ja=Ka,v.defineProperty(Ja,sa.asyncIterator,{enumerable:!1}));var ef={next:function(){if(!1===rf(this))return Ra(uf("next"));var t=this.Nf;return void 0===t.kf?Ra(Fa("iterate")):Da(tf(t),function(n){var i=n.done;return i&&Ma(t),xa(n.value,i,!0)})},return:function(t){if(!1===rf(this))return Ra(uf("next"));var n=this.Nf;if(void 0===n.kf)return Ra(Fa("finish iterating"));if(n.If.length>0)return Ra(new h("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Df){var i=Ba(n,t);return Ma(n),Da(i,function(){return xa(t,!0,!0)})}return Ma(n),Ea(xa(t,!0,!0))}};function rf(t){return!!fa(t)&&!!v.prototype.hasOwnProperty.call(t,"Nf")}function uf(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function sf(t){var n=t.Af.shift();return t.Pf-=n.size,t.Pf<0&&(t.Pf=0),n.value}function of(t,n,i){if(!va(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Af.push({value:n,size:i}),t.Pf+=i}function cf(t){t.Af=new Pa,t.Pf=0}void 0!==Ja&&v.setPrototypeOf(ef,Ja),v.defineProperty(ef,"next",{enumerable:!1}),v.defineProperty(ef,"return",{enumerable:!1});var af=sa("[[AbortSteps]]"),ff=sa("[[ErrorSteps]]"),hf=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),df(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=_a(i);void 0===e&&(e=1),function(t,n,i,e){var r=v.create(Df.prototype);var u=la(n,"write",1,[r]),s=la(n,"close",0,[]),o=la(n,"abort",1,[]);Af(t,r,function(){return wa(n,"start",[r])},u,s,o,i,e)}(this,t,e=ma(e),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===lf(this))throw Uf("locked");return wf(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===lf(this)?Ra(Uf("abort")):!0===wf(this)?Ra(new h("Cannot abort a stream that already has a writer")):gf(this,t)},t.prototype.close=function(){return!1===lf(this)?Ra(Uf("close")):!0===wf(this)?Ra(new h("Cannot close a stream that already has a writer")):!0===bf(this)?Ra(new h("Cannot close an already-closing stream")):yf(this)},t.prototype.getWriter=function(){if(!1===lf(this))throw Uf("getWriter");return vf(this)},t}();function vf(t){return new Sf(t)}function df(t){t.o="writable",t.Sf=void 0,t.es=void 0,t.xf=void 0,t.Lf=new Pa,t.Bf=void 0,t.Mf=void 0,t.Ff=void 0,t.Uf=void 0,t.Vf=!1}function lf(t){return!!fa(t)&&!!v.prototype.hasOwnProperty.call(t,"xf")}function wf(t){return void 0!==t.es}function gf(t,n){var i=t.o;if("closed"===i||"errored"===i)return Ea(void 0);if(void 0!==t.Uf)return t.Uf.Hf;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=Sa(function(i,r){t.Uf={Hf:void 0,Mu:i,Fu:r,qf:n,Wf:e}});return t.Uf.Hf=r,!1===e&&_f(t,n),r}function yf(t){var n=t.o;if("closed"===n||"errored"===n)return Ra(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Sa(function(n,i){var e={Mu:n,Fu:i};t.Mf=e}),r=t.es;return void 0!==r&&!0===t.Vf&&"writable"===n&&Kf(r),of(i=t.xf,"close",0),Lf(i),e}function mf(t,n){"writable"!==t.o?pf(t):_f(t,n)}function _f(t,n){var i=t.xf;t.o="erroring",t.Sf=n;var e=t.es;void 0!==e&&Of(e,n),!1===function(t){if(void 0===t.Bf&&void 0===t.Ff)return!1;return!0}(t)&&!0===i.zf&&pf(t)}function pf(t){t.o="errored",t.xf[ff]();var n=t.Sf;if(t.Lf.forEach(function(t){t.Fu(n)}),t.Lf=new Pa,void 0!==t.Uf){var i=t.Uf;if(t.Uf=void 0,!0===i.Wf)return i.Fu(n),void kf(t);Oa(t.xf[af](i.qf),function(){i.Mu(),kf(t)},function(n){i.Fu(n),kf(t)})}else kf(t)}function bf(t){return void 0!==t.Mf||void 0!==t.Ff}function kf(t){void 0!==t.Mf&&(t.Mf.Fu(t.Sf),t.Mf=void 0);var n=t.es;void 0!==n&&zf(n,t.Sf)}function Tf(t,n){var i=t.es;void 0!==i&&n!==t.Vf&&(!0===n?function(t){$f(t)}(i):Kf(i)),t.Vf=n}var Sf=function(){function t(t){if(!1===lf(t))throw new h("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===wf(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.jf=t,t.es=this;var n,i=t.o;if("writable"===i)!1===bf(t)&&!0===t.Vf?$f(this):Gf(this),qf(this);else if("erroring"===i)Xf(this,t.Sf),qf(this);else if("closed"===i)Gf(this),qf(n=this),jf(n);else{var e=t.Sf;Xf(this,e),Wf(this,e)}}return v.defineProperty(t.prototype,"closed",{get:function(){return!1===Ef(this)?Ra(Vf("closed")):this.Qo},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ef(this))throw Vf("desiredSize");if(void 0===this.jf)throw Hf("desiredSize");return function(t){var n=t.jf,i=n.o;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return xf(n.xf)}(this)},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return!1===Ef(this)?Ra(Vf("ready")):this.$f},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ef(this)?Ra(Vf("abort")):void 0===this.jf?Ra(Hf("abort")):function(t,n){return gf(t.jf,n)}(this,t)},t.prototype.close=function(){if(!1===Ef(this))return Ra(Vf("close"));var t=this.jf;return void 0===t?Ra(Hf("close")):!0===bf(t)?Ra(new h("Cannot close an already-closing stream")):Rf(this)},t.prototype.releaseLock=function(){if(!1===Ef(this))throw Vf("releaseLock");void 0!==this.jf&&Cf(this)},t.prototype.write=function(t){return!1===Ef(this)?Ra(Vf("write")):void 0===this.jf?Ra(Hf("write to")):Nf(this,t)},t}();function Ef(t){return!!fa(t)&&!!v.prototype.hasOwnProperty.call(t,"jf")}function Rf(t){return yf(t.jf)}function If(t,n){"pending"===t.Xf?zf(t,n):function(t,n){Wf(t,n)}(t,n)}function Of(t,n){"pending"===t.Gf?Yf(t,n):function(t,n){Xf(t,n)}(t,n)}function Cf(t){var n=t.jf,i=new h("Writer was released and can no longer be used to monitor the stream's closedness");Of(t,i),If(t,i),n.es=void 0,t.jf=void 0}function Nf(t,n){var i=t.jf,e=i.xf,r=function(t,n){try{return t.Yf(n)}catch(n){return Bf(t,n),1}}(e,n);if(i!==t.jf)return Ra(Hf("write to"));var u=i.o;if("errored"===u)return Ra(i.Sf);if(!0===bf(i)||"closed"===u)return Ra(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Ra(i.Sf);var s=function(t){return Sa(function(n,i){var e={Mu:n,Fu:i};t.Lf.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{of(t,e,i)}catch(n){return void Bf(t,n)}var r=t.Kf;if(!1===bf(r)&&"writable"===r.o){var u=Mf(t);Tf(r,u)}Lf(t)}(e,n,r),s}var Df=function(){function t(){throw new h("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!fa(t))return!1;if(!v.prototype.hasOwnProperty.call(t,"Kf"))return!1;return!0}(this))throw new h("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Kf.o&&Ff(this,t)},t.prototype[af]=function(t){var n=this.Jf(t);return Pf(this),n},t.prototype[ff]=function(){cf(this)},t}();function Af(t,n,i,e,r,u,s,o){n.Kf=t,t.xf=n,n.Af=void 0,n.Pf=void 0,cf(n),n.zf=!1,n.Yf=o,n.Zf=s,n.Qf=e,n.th=r,n.Jf=u;var c=Mf(n);Tf(t,c),Oa(Ea(i()),function(){n.zf=!0,Lf(n)},function(i){n.zf=!0,mf(t,i)})}function Pf(t){t.Qf=void 0,t.th=void 0,t.Jf=void 0,t.Yf=void 0}function xf(t){return t.Zf-t.Pf}function Lf(t){var n=t.Kf;if(!1!==t.zf&&void 0===n.Bf)if("erroring"!==n.o){if(0!==t.Af.length){var i=t.Af.peek().value;"close"===i?function(t){var n=t.Kf;(function(t){t.Ff=t.Mf,t.Mf=void 0})(n),sf(t);var i=t.th();Pf(t),Oa(i,function(){!function(t){t.Ff.Mu(void 0),t.Ff=void 0,"erroring"===t.o&&(t.Sf=void 0,void 0!==t.Uf&&(t.Uf.Mu(),t.Uf=void 0)),t.o="closed";var n=t.es;void 0!==n&&jf(n)}(n)},function(t){!function(t,n){t.Ff.Fu(n),t.Ff=void 0,void 0!==t.Uf&&(t.Uf.Fu(n),t.Uf=void 0),mf(t,n)}(n,t)})}(t):function(t,n){var i=t.Kf;(function(t){t.Bf=t.Lf.shift()})(i),Oa(t.Qf(n),function(){!function(t){t.Bf.Mu(void 0),t.Bf=void 0}(i);var n=i.o;if(sf(t),!1===bf(i)&&"writable"===n){var e=Mf(t);Tf(i,e)}Lf(t)},function(n){"writable"===i.o&&Pf(t),function(t,n){t.Bf.Fu(n),t.Bf=void 0,mf(t,n)}(i,n)})}(t,i.chunk)}}else pf(n)}function Bf(t,n){"writable"===t.Kf.o&&Ff(t,n)}function Mf(t){return xf(t)<=0}function Ff(t,n){var i=t.Kf;Pf(t),_f(i,n)}function Uf(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Vf(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Hf(t){return new h("Cannot "+t+" a stream using a released writer")}function qf(t){t.Qo=Sa(function(n,i){t.Ef=n,t.Rf=i,t.Xf="pending"})}function Wf(t,n){qf(t),zf(t,n)}function zf(t,n){Aa(t.Qo),t.Rf(n),t.Ef=void 0,t.Rf=void 0,t.Xf="rejected"}function jf(t){t.Ef(void 0),t.Ef=void 0,t.Rf=void 0,t.Xf="resolved"}function $f(t){t.$f=Sa(function(n,i){t.nh=n,t.ih=i}),t.Gf="pending"}function Xf(t,n){$f(t),Yf(t,n)}function Gf(t){$f(t),Kf(t)}function Yf(t,n){Aa(t.$f),t.ih(n),t.nh=void 0,t.ih=void 0,t.Gf="rejected"}function Kf(t){t.nh(void 0),t.nh=void 0,t.ih=void 0,t.Gf="fulfilled"}function Jf(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Zf="undefined"!=typeof DOMException?DOMException:void 0;var Qf,th=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Zf)?Zf:((Qf=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(Qf.prototype,"constructor",{value:Qf,writable:!0,configurable:!0}),Qf);function nh(t,n,i,e,r,u){var s=ja(t),o=vf(n);t.Of=!0;var c=!1,a=Ea(void 0);return Sa(function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var i=new th("Aborted","AbortError"),u=[];!1===e&&u.push(function(){return"writable"===n.o?gf(n,i):Ea(void 0)}),!1===r&&u.push(function(){return"readable"===t.o?Xh(t,i):Ea(void 0)}),p(function(){return j.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(_(t,s.Qo,function(t){!1===e?p(function(){return gf(n,t)},!0,t):b(!0,t)}),_(n,o.Qo,function(n){!1===r?p(function(){return Xh(t,n)},!0,n):b(!0,n)}),l=t,w=s.Qo,g=function(){!1===i?p(function(){return function(t){var n=t.jf,i=n.o;return!0===bf(n)||"closed"===i?Ea(void 0):"errored"===i?Ra(n.Sf):Rf(t)}(o)}):b()},"closed"===l.o?g():Ca(w,g),!0===bf(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");!1===r?p(function(){return Xh(t,y)},!0,y):b(!0,y)}function m(){var t=a;return Ia(a,function(){return t!==a?m():void 0})}function _(t,n,i){"errored"===t.o?i(t.Sf):Na(n,i)}function p(t,i,e){function r(){Oa(t(),function(){return k(i,e)},function(t){return k(!0,t)})}!0!==c&&(c=!0,"writable"===n.o&&!1===bf(n)?Ca(m(),r):r())}function b(t,i){!0!==c&&(c=!0,"writable"===n.o&&!1===bf(n)?Ca(m(),function(){return k(t,i)}):k(t,i))}function k(t,n){Cf(o),Ma(s),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}Aa(Sa(function(t,n){!function i(e){e?t():Ia(!0===c?Ea(!0):Ia(o.$f,function(){return Ia(tf(s),function(t){return!0===t.done||(a=Ia(Nf(o,t.value),void 0,oa),!1)})}),i,n)}(!1)}))})}var ih=function(){function t(){throw new h}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===eh(this))throw dh("desiredSize");return fh(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===eh(this))throw dh("close");if(!1===hh(this))throw new h("The stream is not in a state that permits close");oh(this)},t.prototype.enqueue=function(t){if(!1===eh(this))throw dh("enqueue");if(!1===hh(this))throw new h("The stream is not in a state that permits enqueue");return ch(this,t)},t.prototype.error=function(t){if(!1===eh(this))throw dh("error");ah(this,t)},t.prototype[Wa]=function(t){cf(this);var n=this.eh(t);return sh(this),n},t.prototype[za]=function(){var t=this.rh;if(this.Af.length>0){var n=sf(this);return!0===this.uh&&0===this.Af.length?(sh(this),Gh(t)):rh(this),Ea(xa(n,!1,t.Tf.bf))}var i=$a(t);return rh(this),i},t}();function eh(t){return!!fa(t)&&!!v.prototype.hasOwnProperty.call(t,"rh")}function rh(t){!1!==uh(t)&&(!0!==t.sh?(t.sh=!0,Oa(t.oh(),function(){t.sh=!1,!0===t.ah&&(t.ah=!1,rh(t))},function(n){ah(t,n)})):t.ah=!0)}function uh(t){var n=t.rh;return!1!==hh(t)&&(!1!==t.zf&&(!0===$h(n)&&Ga(n)>0||fh(t)>0))}function sh(t){t.oh=void 0,t.eh=void 0,t.Yf=void 0}function oh(t){var n=t.rh;t.uh=!0,0===t.Af.length&&(sh(t),Gh(n))}function ch(t,n){var i=t.rh;if(!0===$h(i)&&Ga(i)>0)Xa(i,n,!1);else{var e=void 0;try{e=t.Yf(n)}catch(n){throw ah(t,n),n}try{of(t,n,e)}catch(n){throw ah(t,n),n}}rh(t)}function ah(t,n){var i=t.rh;"readable"===i.o&&(cf(t),sh(t),Yh(i,n))}function fh(t){var n=t.rh.o;return"errored"===n?null:"closed"===n?0:t.Zf-t.Pf}function hh(t){var n=t.rh.o;return!1===t.uh&&"readable"===n}function vh(t,n,i,e,r,u,s){n.rh=t,n.Af=void 0,n.Pf=void 0,cf(n),n.zf=!1,n.uh=!1,n.ah=!1,n.sh=!1,n.Yf=s,n.Zf=u,n.oh=e,n.eh=r,t.Cf=n,Oa(Ea(i()),function(){n.zf=!0,rh(n)},function(t){ah(n,t)})}function dh(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var lh=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&d.floor(t)===t},wh=function(){function t(){throw new h("ReadableStreamBYOBRequest cannot be used directly")}return v.defineProperty(t.prototype,"view",{get:function(){if(!1===mh(this))throw xh("view");return this.fh},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===mh(this))throw xh("respond");if(void 0===this.hh)throw new h("This BYOB request has been invalidated");this.fh.buffer,function(t,n){if(!1===va(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Oh(t,n)}(this.hh,t)},t.prototype.respondWithNewView=function(t){if(!1===mh(this))throw xh("respond");if(void 0===this.hh)throw new h("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.vh.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Oh(t,n.byteLength)}(this.hh,t)},t}(),gh=function(){function t(){throw new h("ReadableByteStreamController constructor cannot be used directly")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===yh(this))throw Lh("byobRequest");if(void 0===this.dh&&this.vh.length>0){var t=this.vh.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=v.create(wh.prototype);!function(t,n,i){t.hh=n,t.fh=i}(i,this,n),this.dh=i}return this.dh},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===yh(this))throw Lh("desiredSize");return Ah(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===yh(this))throw Lh("close");if(!0===this.uh)throw new h("The stream has already been closed; do not close it again!");var t=this.lh.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.lh;if(t.Pf>0)return void(t.uh=!0);if(t.vh.length>0){var i=t.vh.peek();if(i.bytesFilled>0){var e=new h("Insufficient bytes to fill elements in the given buffer");throw Dh(t,e),e}}Nh(t),Gh(n)}(this)},t.prototype.enqueue=function(t){if(!1===yh(this))throw Lh("enqueue");if(!0===this.uh)throw new h("stream is closed or draining");var n=this.lh.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new h("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.lh,e=n.buffer,r=n.byteOffset,u=n.byteLength,s=ya(e);if(!0===Ya(i))if(0===Ga(i))kh(t,s,r,u);else{var o=new y(s,r,u);Xa(i,o,!1)}else!0===Fh(i)?(kh(t,s,r,u),Ih(t)):kh(t,s,r,u);_h(t)}(this,t)},t.prototype.error=function(t){if(!1===yh(this))throw Lh("error");Dh(this,t)},t.prototype[Wa]=function(t){this.vh.length>0&&(this.vh.peek().bytesFilled=0);cf(this);var n=this.eh(t);return Nh(this),n},t.prototype[za]=function(){var t=this.lh;if(this.Pf>0){var n=this.Af.shift();this.Pf-=n.byteLength,Eh(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Ra(t)}return Ea(xa(i,!1,t.Tf.bf))}var e=this.wh;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return Ra(t)}var u={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.vh.push(u)}var s=$a(t);return _h(this),s},t}();function yh(t){return!!fa(t)&&!!v.prototype.hasOwnProperty.call(t,"lh")}function mh(t){return!!fa(t)&&!!v.prototype.hasOwnProperty.call(t,"hh")}function _h(t){!1!==function(t){var n=t.lh;if("readable"!==n.o)return!1;if(!0===t.uh)return!1;if(!1===t.zf)return!1;if(!0===Ya(n)&&Ga(n)>0)return!0;if(!0===Fh(n)&&Mh(n)>0)return!0;if(Ah(t)>0)return!0;return!1}(t)&&(!0!==t.sh?(t.sh=!0,Oa(t.oh(),function(){t.sh=!1,!0===t.ah&&(t.ah=!1,_h(t))},function(n){Dh(t,n)})):t.ah=!0)}function ph(t,n){var i=!1;"closed"===t.o&&(i=!0);var e=bh(n);"default"===n.readerType?Xa(t,e,i):function(t,n,i){var e=t.Tf;e.gh.shift().Mu(xa(n,i,e.bf))}(t,e,i)}function bh(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function kh(t,n,i,e){t.Af.push({buffer:n,byteOffset:i,byteLength:e}),t.Pf+=e}function Th(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=d.min(t.Pf,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,s=u-u%i,o=r,c=!1;s>e&&(o=s-n.bytesFilled,c=!0);for(var a,f,h,v,l,w=t.Af;o>0;){var g=w.peek(),m=d.min(o,g.byteLength),_=n.byteOffset+n.bytesFilled;a=n.buffer,f=_,h=g.buffer,v=g.byteOffset,l=m,new y(a).set(new y(h,v,l),f),g.byteLength===m?w.shift():(g.byteOffset+=m,g.byteLength-=m),t.Pf-=m,Sh(t,m,n),o-=m}return c}function Sh(t,n,i){Rh(t),i.bytesFilled+=n}function Eh(t){0===t.Pf&&!0===t.uh?(Nh(t),Gh(t.lh)):_h(t)}function Rh(t){void 0!==t.dh&&(t.dh.hh=void 0,t.dh.fh=void 0,t.dh=void 0)}function Ih(t){for(;t.vh.length>0;){if(0===t.Pf)return;var n=t.vh.peek();!0===Th(t,n)&&(Ch(t),ph(t.lh,n))}}function Oh(t,n){var i=t.vh.peek();if("closed"===t.lh.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=ya(n.buffer);var i=t.lh;if(!0===Fh(i))for(;Mh(i)>0;)ph(i,Ch(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Sh(t,n,i),!(i.bytesFilled<i.elementSize)){Ch(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=i.buffer.slice(r-e,r);kh(t,u,0,u.byteLength)}i.buffer=ya(i.buffer),i.bytesFilled-=e,ph(t.lh,i),Ih(t)}}(t,n,i);_h(t)}function Ch(t){var n=t.vh.shift();return Rh(t),n}function Nh(t){t.oh=void 0,t.eh=void 0}function Dh(t,n){var i=t.lh;"readable"===i.o&&(!function(t){Rh(t),t.vh=new Pa}(t),cf(t),Nh(t),Yh(i,n))}function Ah(t){var n=t.lh.o;return"errored"===n?null:"closed"===n?0:t.Zf-t.Pf}function Ph(t,n,i){var e=v.create(gh.prototype);var r=la(n,"pull",0,[e]),u=la(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===lh(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,u,s){n.lh=t,n.ah=!1,n.sh=!1,n.dh=void 0,n.Af=n.Pf=void 0,cf(n),n.uh=!1,n.zf=!1,n.Zf=ma(u),n.oh=e,n.eh=r,n.wh=s,n.vh=new Pa,t.Cf=n,Oa(Ea(i()),function(){n.zf=!0,_h(n)},function(t){Dh(n,t)})}(t,e,function(){return wa(n,"start",[e])},r,u,i,s)}function xh(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Lh(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Bh(t){return Sa(function(n,i){var e={Mu:n,Fu:i};t.Tf.gh.push(e)})}function Mh(t){return t.Tf.gh.length}function Fh(t){var n=t.Tf;return void 0!==n&&!!Vh(n)}var Uh=function(){function t(t){if(!jh(t))throw new h("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===yh(t.Cf))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if($h(t))throw new h("This stream has already been locked for exclusive reading by another reader");La(this,t),this.gh=new Pa}return v.defineProperty(t.prototype,"closed",{get:function(){return Vh(this)?this.Qo:Ra(Hh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Vh(this)?void 0===this.kf?Ra(Fa("cancel")):Ba(this,t):Ra(Hh("cancel"))},t.prototype.read=function(t){return Vh(this)?void 0===this.kf?Ra(Fa("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Ra(new h("view must have non-zero byteLength")):function(t,n){var i=t.kf;if(i.Of=!0,"errored"===i.o)return Ra(i.Sf);return function(t,n){var i=t.lh,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,u={buffer:ya(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.vh.length>0)return t.vh.push(u),Bh(i);if("closed"===i.o)return Ea(xa(new r(u.buffer,u.byteOffset,0),!0,i.Tf.bf));if(t.Pf>0){if(!0===Th(t,u)){var s=bh(u);return Eh(t),Ea(xa(s,!1,i.Tf.bf))}if(!0===t.uh){var o=new h("Insufficient bytes to fill elements in the given buffer");return Dh(t,o),Ra(o)}}t.vh.push(u);var c=Bh(i);return _h(t),c}(i.Cf,n)}(this,t)):Ra(new h("view must be an array buffer view")):Ra(Hh("read"))},t.prototype.releaseLock=function(){if(!Vh(this))throw Hh("releaseLock");if(void 0!==this.kf){if(this.gh.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Ma(this)}},t}();function Vh(t){return!!fa(t)&&!!v.prototype.hasOwnProperty.call(t,"gh")}function Hh(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var qh=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),zh(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),Ph(this,t,e=ma(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var u=_a(i);void 0===e&&(e=1),function(t,n,i,e){var r=v.create(ih.prototype),u=la(n,"pull",0,[r]),s=la(n,"cancel",1,[]);vh(t,r,function(){return wa(n,"start",[r])},u,s,i,e)}(this,t,e=ma(e),u)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===jh(this))throw Kh("locked");return $h(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===jh(this)?Ra(Kh("cancel")):!0===$h(this)?Ra(new h("Cannot cancel a stream that already has a reader")):Xh(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===jh(this))throw Kh("getReader");if(void 0===n)return ja(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Uh(t);return i.bf=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,u=r.preventClose,s=r.preventAbort,o=r.preventCancel,c=r.signal;if(!1===jh(this))throw Kh("pipeThrough");if(!1===lf(i))throw new h("writable argument to pipeThrough must be a WritableStream");if(!1===jh(e))throw new h("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==c&&!Jf(c))throw new h("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===$h(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===wf(i))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Aa(nh(this,i,u,s,o,c)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===jh(this)?Ra(Kh("pipeTo")):!1===lf(t)?Ra(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),u=Boolean(u),void 0===s||Jf(s)?!0===$h(this)?Ra(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===wf(t)?Ra(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):nh(this,t,e,r,u,s):Ra(new h("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===jh(this))throw Kh("tee");var t=function(t,n){var i,e,r,u,s,o=ja(t),c=!1,a=!1,f=!1,h=Sa(function(t){s=t});function v(){return!0===c?Ea(void 0):(c=!0,Aa(Da(tf(o),function(t){if(c=!1,!0===t.done)return!1===a&&oh(r.Cf),void(!1===f&&oh(u.Cf));var n=t.value,i=n,e=n;!1===a&&ch(r.Cf,i),!1===f&&ch(u.Cf,e)})),Ea(void 0))}function d(){}return r=Wh(d,v,function(n){if(a=!0,i=n,!0===f){var r=ha([i,e]),u=Xh(t,r);s(u)}return h}),u=Wh(d,v,function(n){if(f=!0,e=n,!0===a){var r=ha([i,e]),u=Xh(t,r);s(u)}return h}),Na(o.Qo,function(t){ah(r.Cf,t),ah(u.Cf,t)}),[r,u]}(this);return ha(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===jh(this))throw Kh("getIterator");return function(t,n){void 0===n&&(n=!1);var i=ja(t),e=v.create(ef);return e.Nf=i,e.Df=Boolean(n),e}(this,i)},t}();function Wh(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=v.create(qh.prototype);return zh(u),vh(u,v.create(ih.prototype),t,n,i,e,r),u}function zh(t){t.o="readable",t.Tf=void 0,t.Sf=void 0,t.Of=!1}function jh(t){return!!fa(t)&&!!v.prototype.hasOwnProperty.call(t,"Cf")}function $h(t){return void 0!==t.Tf}function Xh(t,n){return t.Of=!0,"closed"===t.o?Ea(void 0):"errored"===t.o?Ra(t.Sf):(Gh(t),Da(t.Cf[Wa](n),oa))}function Gh(t){t.o="closed";var n=t.Tf;void 0!==n&&(Qa(n)&&(n.If.forEach(function(t){t.Mu(xa(void 0,!0,n.bf))}),n.If=new Pa),qa(n))}function Yh(t,n){t.o="errored",t.Sf=n;var i=t.Tf;void 0!==i&&(Qa(i)?(i.If.forEach(function(t){t.Fu(n)}),i.If=new Pa):(i.gh.forEach(function(t){t.Fu(n)}),i.gh=new Pa),Ha(i,n))}function Kh(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof sa.asyncIterator&&v.defineProperty(qh.prototype,sa.asyncIterator,{value:qh.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Jh=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=_a(e);if(void 0===r&&(r=1),r=ma(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=_a(u);void 0===s&&(s=0),s=ma(s),function(t,n,i,e,r,u){function s(){return n}t.yh=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var s=v.create(hf.prototype);return df(s),Af(s,v.create(Df.prototype),t,n,i,e,r,u),s}(s,function(n){return function(t,n){var i=t.mh;if(!0===t.Vf){var e=t._h;return Da(e,function(){var e=t.yh,r=e.o;if("erroring"===r)throw e.Sf;return sv(i,n)})}return sv(i,n)}(t,n)},function(){return function(t){var n=t.ph,i=t.mh,e=i.bh();return rv(i),Da(e,function(){if("errored"===n.o)throw n.Sf;var t=n.Cf;!0===hh(t)&&oh(t)},function(i){throw Qh(t,i),n.Sf})}(t)},function(n){return function(t,n){return Qh(t,n),Ea(void 0)}(t,n)},i,e),t.ph=Wh(s,function(){return function(t){return nv(t,!1),t._h}(t)},function(n){return tv(t,n),Ea(void 0)},r,u),t.Vf=void 0,t._h=void 0,t.kh=void 0,nv(t,!0),t.mh=void 0}(this,Sa(function(t){c=t}),r,o,s,a),function(t,n){var i=v.create(iv.prototype),e=function(t){try{return uv(i,t),Ea(void 0)}catch(t){return Ra(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new h("transform is not a method");e=function(t){return ga(r,n,[t,i])}}var u=la(n,"flush",0,[i]);!function(t,n,i,e){n.Th=t,t.mh=n,n.Sh=i,n.bh=e}(t,i,e,u)}(this,t);var f=wa(t,"start",[this.mh]);c(f)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!1===Zh(this))throw cv("readable");return this.ph},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!1===Zh(this))throw cv("writable");return this.yh},enumerable:!0,configurable:!0}),t}();function Zh(t){return!!fa(t)&&!!v.prototype.hasOwnProperty.call(t,"mh")}function Qh(t,n){ah(t.ph.Cf,n),tv(t,n)}function tv(t,n){rv(t.mh),Bf(t.yh.xf,n),!0===t.Vf&&nv(t,!1)}function nv(t,n){void 0!==t._h&&t.kh(),t._h=Sa(function(n){t.kh=n}),t.Vf=n}var iv=function(){function t(){throw new h("TransformStreamDefaultController instances cannot be created directly")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ev(this))throw ov("desiredSize");return fh(this.Th.ph.Cf)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ev(this))throw ov("enqueue");uv(this,t)},t.prototype.error=function(t){if(!1===ev(this))throw ov("error");var n;n=t,Qh(this.Th,n)},t.prototype.terminate=function(){if(!1===ev(this))throw ov("terminate");!function(t){var n=t.Th,i=n.ph.Cf;!0===hh(i)&&oh(i);var e=new h("TransformStream terminated");tv(n,e)}(this)},t}();function ev(t){return!!fa(t)&&!!v.prototype.hasOwnProperty.call(t,"Th")}function rv(t){t.Sh=void 0,t.bh=void 0}function uv(t,n){var i=t.Th,e=i.ph.Cf;if(!1===hh(e))throw new h("Readable side is not in a state that permits enqueue");try{ch(e,n)}catch(t){throw tv(i,t),i.ph.Sf}(function(t){return!0!==uh(t)})(e)!==i.Vf&&nv(i,!0)}function sv(t,n){return Da(t.Sh(n),void 0,function(n){throw Qh(t.Th,n),n})}function ov(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function cv(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}var av,fv=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return vt(n,t),ft(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(An);function hv(t){return n=[t],new qh({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function vv(t){return hv(new y(t))}function dv(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Hs,u=function(){s();var t=new wu;e.cancel(t).catch(Ft),r.Vu(t)},s=function(){i&&(i.qr(u),i=void 0)};i&&(i.Lr?u():i.Hr(u));var o=[];return j.resolve(e.read()).then(function t(n){return n.done?(s(),j.resolve(o)):(o.push(n.value),j.resolve(e.read()).then(t))}).then(function(t){s(),r.Uu(t)},function(t){s(),r.Vu(t)}),r.Bu}(t,n).then(function(t){return Zu(t).buffer})}function lv(t,n){var i=n,e=new Jh,r=e.readable,u=e.writable,s=u.getWriter(),o=function(){i&&i.$r()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Ft)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Ft)}),r}function wv(t){return Ns(new y(t))}function gv(t){return Ds(t).buffer}!function(t){t[t.vf=0]="vf",t[t.Eh=1]="Eh"}(av||(av={}));var yv="content-type",mv="text/plain;charset=UTF-8",_v=function(){function t(){}var n=t.prototype;return n.Rh=function(t){return this.Ih(t).then(JSON.parse)},n.Oh=function(t,n){switch(t){case ia.ff:return this.Ch(n);case ia.hf:return this.Rh(n);case ia.vf:return this.Nh();case ia.si:return this.Ih(n);default:throw new h}},t}();function pv(t,n,i){if(t instanceof _v)return t;if(t instanceof qh)return function(t,n){return new kv({br:av.vf,Nh:t,Dh:bv(n)})}(t,i);var e=bv(i),r=j.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{br:ia.si,Ah:t,Dh:n||mv};if(t instanceof ArrayBuffer||Ku(t))return{br:ia.ff,Ah:Cv(t),Dh:n};if(Pt(t)||Nt(t))return{br:ia.hf,Ah:t,Dh:n};throw new h("Unsupported BodyInit type")}return{br:ia.si,Ah:null,Dh:n}}(t,e)});return new kv({br:av.Eh,Bu:r,Ph:n})}function bv(t){return(t.get(yv)||"").toLowerCase()}var kv=function(t){function n(n){var i;return(i=t.call(this)||this).xh=!1,i.Lh=void 0,i.Bh=new Hs,i.Bh.Bu.catch(Ft),i.Mh(n),i}vt(n,t);var i=n.prototype;return i.Fh=function(){return this.Bh.Bu},i.Ih=function(t){return this.Uh(Tv,t)},i.Rh=function(t){return this.Uh(Ev,t)},i.Ch=function(t){return this.Uh(Iv,t)},i.Nh=function(){return this.Vh((t=this.Lh).br===av.vf?t.Nh:lv(t.Bu.then(Ov).then(vv),t.Ph));var t},i.Uh=function(t,n){if(this.xh)return j.reject(new h("Already used"));this.xh=!0;var i=t(this.Lh,n);return this.Bh.Xr(i.then(Ft)),i},i.Vh=function(t){if(this.xh)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.xh=!0;var n=new Jh,i=j.resolve(t.pipeTo(n.writable));return this.Bh.Xr(i),n.readable},i.Mh=function(t){this.Lh=t,t.br===av.Eh&&t.Bu.catch(Ft)},i.Hh=function(){if(this.xh)throw new h("Already used");var t=function(t){if(t.br===av.vf){var n=t.Nh.tee(),i=n[0],e=n[1];return[{br:t.br,Nh:i,Dh:t.Dh},{br:t.br,Nh:e,Dh:t.Dh}]}var r=t.Ph.Gr(),u=r[0],s=r[1];return[{br:t.br,Bu:t.Bu,Ph:u},{br:t.br,Bu:t.Bu,Ph:s}]}(this.Lh),i=t[0],e=t[1];return this.Mh(i),new n(e)},ft(n,[{key:"qh",get:function(){return this.xh}}]),n}(_v);function Tv(t,n){return t.br===av.vf?dv(t.Nh,n).then(wv):(n&&t.Ph.Xr(n),bu(t.Bu.then(Sv),t.Ph))}function Sv(t){switch(t.br){case ia.si:return j.resolve(t.Ah||"");case ia.ff:return j.resolve(t.Ah).then(wv);case ia.hf:return j.resolve(t.Ah).then(JSON.stringify)}}function Ev(t,n){return t.br===av.vf?Tv(t,n).then(JSON.parse):(n&&t.Ph.Xr(n),bu(t.Bu.then(Rv),t.Ph))}function Rv(t){return t.br===ia.hf?j.resolve(t.Ah):Sv(t).then(JSON.parse)}function Iv(t,n){return t.br===av.vf?dv(t.Nh,n):(n&&t.Ph.Xr(n),bu(t.Bu.then(Ov),t.Ph))}function Ov(t){switch(t.br){case ia.ff:return j.resolve(t.Ah);case ia.si:case ia.hf:return Sv(t).then(gv)}}function Cv(t){return t instanceof ArrayBuffer?t:Fs(xs(t)).buffer}function Nv(t){return t.Wh>=200&&t.Wh<=299||304===t.Wh}var Dv,Av,Pv,xv,Lv=function(t){function n(n,i){var e,r,u,s,o,c;i?(r=i.zh,u=i.jh,s=i.Wh,o=i.$h,c=i.Xh):(r=[],u=ia.si,s=200,o="OK",c=!1);var a=n.Gh,f=new ea(n.zh||r),h=n.jh||u,v=n.Yh||(i&&i.Gh===a?i.Yh:a.Kh),d=i?i.Jh:null,l=pv(void 0!==n.Li?n.Li:d,n.Ph||new lu,f);return(e=t.call(this,l)||this).zh=void 0,e.Gh=void 0,e.Yh=void 0,e.jh=void 0,e.Wh=void 0,e.$h=void 0,e.Xh=void 0,e.zh=f,e.Gh=a,e.Yh=v,e.jh=h,e.Wh=void 0!==n.Wh?n.Wh:s,e.$h=void 0!==n.$h?String(n.$h):o,e.Xh=n.Xh||c,e}vt(n,t);var i=n.prototype;return i.Li=function(t){return this.Oh(this.jh,t)},i.Du=function(){return new n({Li:this.Hh(),Gh:this.Gh},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Jh=void 0,i.Jh=n,i}vt(n,t);var i=n.prototype;return i.Fh=function(){return this.Jh.Fh()},i.Ih=function(t){return this.Jh.Ih(t)},i.Rh=function(t){return this.Jh.Rh(t)},i.Ch=function(t){return this.Jh.Ch(t)},i.Nh=function(){return this.Jh.Nh()},i.Hh=function(){return this.Jh.Hh()},ft(n,[{key:"qh",get:function(){return this.Jh.qh}}]),n}(_v));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Dv||(Dv={})),function(t){t.Zh="",t.Qh="manifest",t.tv="segment",t.nv="preload-hint",t.ev="content-protection"}(Av||(Av={})),function(t){t.Zh="",t.rv="initialization-segment",t.uv="fairplay-license",t.sv="fairplay-certificate",t.ov="widevine-license",t.cv="widevine-certificate",t.av="playready-license",t.fv="clearkey-license",t.hv="aes128-key"}(Pv||(Pv={})),function(t){t.Zh="",t.vv="audio",t.dv="video",t.si="text",t.lv="image"}(xv||(xv={}));var Bv=function(t,n){this.Ah=void 0,this.zh=void 0,this.wv=void 0,this.jh=void 0,this.gv=void 0,this.Yr=void 0,this.br=void 0,this.yv=void 0,this.mv=void 0,this.Kh=void 0,this._v=void 0,this.pv=void 0;var i,e,r,u,s,o,c,a,f,h,v,d=t.Kh;n?(i=n.Ah,e=n.zh,r=n.wv,u=n.jh,s=n.gv,o=n.Yr,c=n.br,a=n.yv,f=n.mv,h=n._v,v=n.pv):(i=null,e={},r=Dv.GET,u=ia.si,s=0,c=Av.Zh,a=Pv.Zh,f=xv.Zh,h=!1),this.Kh=d,this.Ah=t.Ah||i,this.zh=new ea(t.zh||e),this.wv=t.wv||r,this.jh=t.jh||u,this.gv=void 0!==t.gv?Number(t.gv)||0:s,this.Yr=t.Yr||o||(new lu).Yr,this.br=t.br||c,this.yv=t.yv||a,this.mv=t.mv||f,this._v=void 0!==t._v?Boolean(t._v):h,this.pv=t.pv||v},Mv=function(){function t(){}var n=t.prototype;return n.Gh=function(t){var n=function(t){return new Lv({Li:null,zh:{},Gh:t,Yh:t.Kh,jh:t.jh,Wh:0,$h:na.qa})}(new Bv(t));return j.resolve(n)},n.bv=function(t){},n.et=function(){},t}();var Fv=function(){function t(t,n){void 0===n&&(n=!0),this.kv=void 0,this.Tv=void 0,this.kv=t,this.Tv=n}var n=t.prototype;return n.Gh=function(t){var n=this.Sv(t);return this.kv.Gh(n)},n.bv=function(t){return this.kv.bv(this.Ev(t))},n.Sv=function(n){var i=new Bv(n);if(!this.Tv){var e=t.Rv(i.Kh);i=new Bv({Kh:e},i)}return i},n.Ev=function(n){var i=n.Kh;return this.Tv||(i=t.Rv(i)),{Kh:i,Ah:n.Ah}},t.Rv=function(t){return st.tr&&jr(t,"http://")?t.replace(":","s:"):t},n.et=function(){this.kv.et()},ft(t,null,[{key:"Iv",get:function(){return t.Ov||(t.Ov=new t(new Mv)),t.Ov}}]),t}();function Uv(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function Vv(t,n){var i=st.Ge(t);return n&&!$r(i,"/")&&(i+="/"),i}Fv.Ov=void 0;var Hv,qv=/cache:(.+)?(?=&|$)/,Wv="http://webcache.googleusercontent.com/search?q=cache:";function zv(t){if(!jr(t,Wv))return"";var n=st.Xe(t).search.match(qv);return n&&n.length>1?n[1]:""}!function(t){t.Cv="HttpOpenError",t.Nv="HttpResponseError",t.Dv="HttpTimeoutError"}(Hv||(Hv={}));var jv=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Av=void 0,r.Av=n,r}return vt(n,t),ft(n,[{key:"Gh",get:function(){return this.Av}}]),n}(An);var $v=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Kh+". Invalid URL.",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return Hv.Cv}}]),n}(jv);var Xv=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Gh,null!=e?e:function(t){return"Error while loading "+t.Gh.Kh+", status code "+t.Wh}(n),i)||this).Pv=void 0,r.Pv=n,r}return vt(n,t),ft(n,[{key:"name",get:function(){return Hv.Nv}},{key:"xv",get:function(){return this.Pv}}]),n}(jv);var Gv=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Kh+" timed out after "+t.gv+" seconds."}(n),i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return Hv.Dv}}]),n}(jv),Yv=function(t,n){return(Yv=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Kv(t,n){function i(){this.constructor=t}Yv(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}var Jv="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var Zv=function(){var t=Jv.Blob;if(t)try{return new t,function(t,n){return new Jv.Blob(t,n)}}catch(t){}var n,i=Jv.BlobBuilder||Jv.WebKitBlobBuilder||Jv.MozBlobBuilder||Jv.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var s=u[r];e.append(s)}return e.getBlob(i&&i.type||"")}):null}(),Qv="function"==typeof qh?qh:void 0;function td(t){return t&&"function"==typeof t.getReader}function nd(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&td(i)}catch(t){return!1}}var id=function(){function t(t,n){this.Tf=t,this.Lv=n}return t.prototype.pull=function(t){var n=this;return this.Tf.read().then(function(i){n.Lv&&n.Lv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Tf.cancel(t)},t}();function ed(t,n){return n.constructor===t?n:new t(new id(n.getReader()),{highWaterMark:0})}var rd=function(){function t(t,n){this.Bv=t,this.Mv=n}return t.prototype.pull=function(t){return this.Bv().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Mv&&this.Mv(t)},t}();function ud(t,n,i){return new t(new rd(n,i),{highWaterMark:0})}var sd={searchParams:"URLSearchParams"in Jv,iterable:"Symbol"in Jv&&"iterator"in Symbol,blob:"FileReader"in Jv&&!!Zv,formData:"FormData"in Jv,arrayBuffer:"ArrayBuffer"in Jv,stream:nd(Qv),streamRequest:"Request"in Jv&&"body"in Jv.Request.prototype,streamResponse:"Response"in Jv&&"body"in Jv.Response.prototype,abort:"AbortController"in Jv&&"Request"in Jv&&"signal"in Jv.Request.prototype,encoding:"TextEncoder"in Jv&&"TextDecoder"in Jv,url:"URL"in Jv&&function(t){try{return new Jv.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Jv&&/Firefox\//.test(Jv.navigator.userAgent)};function od(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function cd(t){return"string"!=typeof t&&(t=String(t)),t}function ad(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return sd.iterable&&(n[Symbol.iterator]=function(){return n}),n}var fd=function(){function t(t){var n=this;this.wr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return sd.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=od(t),n=cd(n);var i=t.toLowerCase();if(this.wr.hasOwnProperty(i)){var e=this.wr[i],r=e[1];e[1]=r?r+", "+n:n}else this.wr[i]=[t,n]},t.prototype.delete=function(t){var n=od(t).toLowerCase();delete this.wr[n]},t.prototype.get=function(t){var n=od(t).toLowerCase();return this.wr.hasOwnProperty(n)?this.wr[n][1]:null},t.prototype.has=function(t){var n=od(t).toLowerCase();return this.wr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=od(t)).toLowerCase();this.wr[i]=[t,cd(n)]},t.prototype.forEach=function(t,n){for(var i in this.wr)this.wr.hasOwnProperty(i)&&t.call(n,this.wr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),ad(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),ad(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),ad(t)},t.prototype.asList=function(){var t=[];for(var n in this.wr)if(this.wr.hasOwnProperty(n)){var i=this.wr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function hd(){}sd.iterable&&(fd.prototype[Symbol.iterator]=fd.prototype.entries);var vd,dd,ld,wd=d.min,gd=String.fromCharCode,yd=16384;function md(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=yd){var r=wd(e+yd,n);i.push(gd.apply(null,t.slice(e,r)))}return i.join("")}(n)}function _d(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function pd(t,n){return t>>n&63|128}function bd(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(_d(t),n.push(t>>12&15|224),n.push(pd(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(pd(t,12)),n.push(pd(t,6))),n.push(63&t|128)):n.push(t)}function kd(){if(ld>=dd)throw new f("Invalid byte index");var t=255&vd[ld];if(ld++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Td(){var t,n;if(ld>dd)throw new f("Invalid byte index");if(ld===dd)return!1;if(t=255&vd[ld],ld++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|kd())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|kd()<<6|kd())>=2048)return _d(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|kd()<<12|kd()<<6|kd())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var Sd=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Ed(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Rd(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Id(t){return t&&DataView.prototype.isPrototypeOf(t)}var Od,Cd=ArrayBuffer.isView||function(t){return t&&(Sd.indexOf(v.prototype.toString.call(t))>-1||Id(t))};function Nd(t){if(t.bodyUsed)return j.reject(new h("Already used"));t.bodyUsed=!0}function Dd(t){return new j(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Ad(t){return sd.encoding?new Jv.TextDecoder("utf-8").decode(new y(t)):md(function(t){dd=(vd=t).length,ld=0;for(var n,i=[];!1!==(n=Td());)i.push(n);return i}(new y(t)))}function Pd(t){return sd.encoding?(new Jv.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)bd(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function xd(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?j.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function Ld(t){return xd(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new y(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];r.set(c,u),u+=c.byteLength}return r}(t).buffer})}function Bd(t){return t.slice?t.slice(0):Md(new y(t))}function Md(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Fd(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Ud(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.Fv===Od.Uv){if(!n.Vv.tee)throw new f("could not clone ReadableStream body");var i=n.Vv.tee(),e=i[0],r=i[1];return n.body=e,n.Vv=e,n.Hv=e,r}return n.Fv===Od.ff?Bd(n.Vv):n.Fv===Od.Eh?n.Vv.then(Ud):n.Hv}!function(t){t[t.si=0]="si",t[t.qv=1]="qv",t[t.Wv=2]="Wv",t[t.ff=3]="ff",t[t.Uv=4]="Uv",t[t.Eh=5]="Eh"}(Od||(Od={}));var Vd=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,s=this;if(this.Hv=n||null,n)if("string"==typeof n)this.Fv=Od.si,this.Vv=n;else if((u=n)&&"function"==typeof u.then)this.Fv=Od.Eh,this.Vv=j.resolve(n).then(function(n){return new t(n,i)}),this.Vv.catch(hd);else if(sd.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Fv=Od.qv,this.Vv=n;else if(sd.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Fv=Od.Wv,this.Vv=n;else if(sd.searchParams&&Ed(n))this.Fv=Od.si,this.Vv=n.toString();else if(sd.arrayBuffer&&(Rd(n)||Cd(n)))Id(n)&&(this.Hv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Fv=Od.ff,this.Vv=Rd(e=n)?Bd(e):Md(e);else{if(!sd.stream||!td(n))throw new f("unsupported BodyInit type");n=ed(Qv,n),this.Fv=Od.Uv,this.Vv=n,this.Hv=n}else this.Fv=Od.si,this.Vv="";this.zv="",i.has("content-type")?this.zv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.zv="text/plain;charset=UTF-8":s.Fv===Od.qv&&s.Vv.type?this.zv=s.Vv.type:sd.searchParams&&Ed(n)&&(this.zv="application/x-www-form-urlencoded;charset=UTF-8"),this.zv&&i.set("content-type",this.zv)),sd.stream&&(null==n?this.body=null:s.Fv===Od.Uv?this.body=s.Vv:this.body=ud(Qv,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=Nd(this);return e||(this.Fv===Od.qv?(t=this.Vv,n=new FileReader,i=Dd(n),n.readAsText(t),i):this.Fv===Od.ff?j.resolve(this.Vv).then(Ad):this.Fv===Od.Uv?Ld(this.Vv).then(Ad):this.Fv===Od.Eh?this.Vv.then(function(t){return t.text()}):this.Fv===Od.Wv?j.reject(new f("could not read FormData body as text")):j.resolve(this.Vv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();sd.blob&&(Vd.prototype.blob=function(){var t,n,i=Nd(this);return i||(this.Fv===Od.qv?j.resolve(this.Vv):this.Fv===Od.ff?j.resolve(Zv([this.Vv],{type:this.zv})):this.Fv===Od.Uv?(t=this.Vv,n=this.zv,xd(t).then(function(t){return Zv(t,{type:n||""})})):this.Fv===Od.Eh?this.Vv.then(function(t){return t.blob()}):this.Fv===Od.Wv?j.reject(new f("could not read FormData body as Blob")):j.resolve(Zv([this.Vv],{type:this.zv})))}),sd.arrayBuffer&&(Vd.prototype.arrayBuffer=function(){var t,n,i;return this.Fv===Od.ff?Nd(this)||j.resolve(this.Vv):this.Fv===Od.qv?Nd(this)||(t=this.Vv,n=new FileReader,i=Dd(n),n.readAsArrayBuffer(t),i):this.Fv===Od.Uv?Ld(this.Vv):this.Fv===Od.Eh?Nd(this)||this.Vv.then(function(t){return t.arrayBuffer()}):this.Fv===Od.Wv?j.reject(new f("could not read FormData body as ArrayBuffer")):j.resolve(this.Vv).then(Pd)}),sd.formData&&(Vd.prototype.formData=function(){return this.Fv===Od.Wv?Nd(this)||j.resolve(this.Vv):this.text().then(Fd)});var Hd=[301,302,303,307,308],qd=function(t){function n(n,i){var e=this,r=new fd((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Kv(n,t),n.prototype.clone=function(){return new n(Ud(this),{status:this.status,statusText:this.statusText,headers:new fd(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Hd.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Vd);var Wd,zd=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function c(t,n){return(c=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=v.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){i(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||d.call(a(t)),v.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,d),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Wd=zd)&&Wd.__esModule&&v.prototype.hasOwnProperty.call(Wd,"default")&&Wd.default,zd.AbortSignal;var jd=zd.AbortController,$d=Jv.DOMException;try{new $d}catch(t){($d=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),$d.prototype.constructor=$d}var Xd=jd;function Gd(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Yd(t,n,i){return new j(function(e,r){if(n.signal.aborted)return t.catch(hd),r(Kd());var u=function(){n.signal.removeEventListener("abort",u),r(Kd())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()})})}function Kd(){return new $d("Aborted","AbortError")}var Jd,Zd="moz-chunked-arraybuffer";function Qd(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Jd||(Jd={}));var tl=function(){function t(t,n){var i=this;this.jv=!1,this.Av=t,this.$v=n,this.Xv=new m,this.Gv=new j(function(t,n){i.Yv=t,i.Kv=n})}return t.prototype.send=function(){var t=this;return this.Jv().then(function(n){return t.Zv(n,t.$v),t.Gv})},t.prototype.Jv=function(){var t=this.Av;return t.Fv===Od.Uv?t.arrayBuffer():j.resolve(t.Hv)},t.prototype.Qv=function(t){this.Av.onprogress&&this.Av.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.td=function(t){this.Kv(t)},t.prototype.nd=function(){this.td(new h("Network request failed"))},t.prototype.ed=function(){this.td(new h("Network request failed"))},t.prototype.rd=function(){this.td(Kd())},t.prototype.Zv=function(t,n){var i=this,e=this.Av,r=this.Xv,u=function(){return i.ud()};if(e.signal.aborted)return this.rd();r.onreadystatechange=function(){if(r.readyState>=Jd.HEADERS_RECEIVED&&!i.jv){var t=function(t){var n=new fd;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.jv=!0,i.sd(n)}},r.onprogress=function(t){return i.Qv(t)},r.onload=function(){return i.od()},r.onerror=function(){return i.nd()},r.ontimeout=function(){return i.ed()},r.onabort=function(){return i.rd()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.ud=function(){this.rd(),this.Xv.abort()},t}(),nl=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.fd=void 0,e.hd=void 0,e}return Kv(n,t),n.prototype.sd=function(t){var n=this;this.fd=new j(function(t,i){n.hd=t,n.vd=i}),this.Yv(new qd(this.fd,t))},n.prototype.od=function(){var t=this.Xv.response;if(null==t){var n=this.$v;""===n||"text"===n?t=this.Xv.responseText:"document"===n?t=this.Xv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Zv([]))}this.hd(t)},n.prototype.td=function(n){t.prototype.td.call(this,n),this.vd&&this.vd(n)},n}(tl),il=function(t){function n(n){var i=t.call(this,n,Zd)||this;return i.dd=void 0,i.ld=void 0,i.wd=!1,i}return Kv(n,t),n.prototype.sd=function(t){var n=this;this.dd=new Qv({start:function(t){n.ld=t},cancel:function(){n.wd=!0,n.ud()}}),this.Yv(new qd(this.dd,t))},n.prototype.Qv=function(n){this.wd||this.ld.enqueue(new y(this.Xv.response)),t.prototype.Qv.call(this,n)},n.prototype.od=function(){this.ld.close()},n.prototype.td=function(n){t.prototype.td.call(this,n),this.ld&&!this.wd&&(this.wd=!0,this.ld.error(n))},n}(tl),el=function(){var t=sd.firefox&&Qd(Zd);return el=function(){return t},t},rl=function(){var t;return t=sd.arrayBuffer&&Qd("arraybuffer")?"arraybuffer":sd.blob&&Qd("blob")?"blob":"",rl=function(){return t},t};function ul(t){return(sd.stream&&el()?new il(t):new nl(t,rl())).send()}var sl=Jv.fetch,ol=Jv.Request;Jv.Response;var cl=Jv.AbortController;var al=["http:","https:"];var fl=function(){try{if(sd.streamRequest){var t=new ol("about:blank",{body:"",method:"POST"}).body;if(t&&nd(t.constructor))return t.constructor}}catch(t){}}();function hl(t,n,i){var e;if(sd.stream){var r=void 0;if(sd.streamResponse){var u=t.body;r=u&&ed(Qv,u)}else r=ud(Qv,function(){return Yd(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new id(n.getReader(),i),{highWaterMark:0})}(Qv,t,function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)})}(r,i,vl(t.headers))),e=r}else{var s=Yd(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return j.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(s,i,vl(t.headers))),e=s}return new qd(e,t)}function vl(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function dl(t){var n=new Xd;return t.signal&&Gd(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Fv===Od.Uv?sd.streamRequest&&fl?j.resolve(ed(fl,r.Vv)):Yd(t.arrayBuffer(),n,!1):Yd(j.resolve(t.Hv),n,!1),sd.abort){var u=new cl;Gd(u,n.signal),e=u.signal}return i.then(function(n){return new ol(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof fd?i:new fd(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return sl(i).then(function(i){return hl(i,n,t.onprogress)})})}var ll=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var wl=function(t){function n(i,e){var r,u,s,o,c,a,f,v,d,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new h("Already used");r=i.url,u=i.credentials,e.headers||(s=new fd(i.headers)),o=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,v=i.signal,d=i.onprogress,w||null==i.Hv||(w=i.Hv,i.bodyUsed=!0)}else r=String(i),u="same-origin",o="GET",c="cors",a="about:client",f="",v=null,d=null;if(!e.headers&&s||(s=new fd(e.headers)),e&&(a="about:client",f=""),(l=t.call(this,w,s)||this).url=r,l.headers=s,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return ll.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||c,l.signal=e.signal||v||(new Xd).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:f,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return Kv(n,t),n.prototype.clone=function(){return new n(this,{body:Ud(this)})},n}(Vd),gl="function"==typeof sl&&sd.stream&&sd.streamResponse&&sd.url;function yl(t,n){return new j(function(i){var e=new wl(t,n);i((gl&&function(t){try{return al.indexOf(new Jv.URL(t,Jv.location.href).protocol)>=0}catch(t){return!1}}(e.url)?dl:ul)(e))})}yl.polyfill=!0;var ml=function(){function t(t){this.xv=void 0,this.Av=void 0,this.ta=new lu,this.Pv=void 0,this.gd=!1,this.Av=t,this.ta.Xr(t.Yr),this.xv=this.yd()}var n=t.prototype;return n.yd=function(){var t,n,i,e,r,u,o,c,a=this;return wr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Av).gv&&s(function(){a.gd=!0,a.ta.$r()},t.gv),f.prev=2,n=yl(t.Kh,{method:t.wv,headers:t.zh.df(),body:t.Ah,credentials:t._v?"include":"same-origin",signal:bl(this.ta.Yr),onprogress:t.pv}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new $v(t,f.t0);case 9:return f.prev=9,f.next=12,wr.awrap(n);case 12:i=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),gu(e=this.md(f.t1))&&this.ta.$r(),e;case 20:if(r=i.url||t.Kh,u=0===i.status&&"file:"===(h=r,st.Xe(h).protocol)?200:i.status,o=new _l(this,i,this.ta),c=new Lv({Li:o,Gh:t,jh:t.jh,zh:new ea(i.headers.asList()),Wh:u,$h:i.statusText,Yh:r}),this.Pv=c,!Nv(c)){f.next=29;break}return f.abrupt("return",c);case 29:throw new Xv(c);case 30:case"end":return f.stop()}var h},null,this,[[2,6],[9,15]],j)},n.md=function(t){return gu(t)?this.gd?new Gv(this.Av):new wu(t.message,t):this.Pv?new Xv(this.Pv,t):new $v(this.Av,t)},t}(),_l=function(t){function n(n,i,e){var r;return(r=t.call(this)||this)._d=void 0,r.pd=void 0,r.ta=void 0,r.Bh=new Hs,r._d=n,r.pd=i,r.ta=e,r.Bh.Bu.catch(Ft),r}vt(n,t);var i=n.prototype;return i.Fh=function(){return this.Bh.Bu},i.Ih=function(t){return this.Uh(this.pd.text(),t)},i.Ch=function(t){return this.Uh(this.pd.arrayBuffer(),t)},i.Nh=function(){var t=this.pd.body;return t?this.Vh(t):lv(this.Ch().then(vv),this.ta)},i.Hh=function(){var t=this.pd.clone(),i=this.ta.Gr(),e=i[0],r=i[1];return this.ta=e,new n(this._d,t,r)},i.Uh=function(t,n){var i=this;n&&this.ta.Xr(n);var e=j.resolve(t).catch(function(t){throw i._d.md(t)});return e=bu(e,this.ta),this.Bh.Xr(e.then(Ft)),e},i.Vh=function(t){var n=this,i=new Jh,e=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n._d.md(t);throw i.writable.abort(e).catch(Ft),e});return e=bu(e,this.ta),this.Bh.Xr(e.then(Ft)),i.readable},ft(n,[{key:"qh",get:function(){return this.pd.bodyUsed}}]),n}(_v),pl="abort";function bl(t){var n=new Xd;if(t.Lr)n.abort();else if(!t.Br){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(pl,i),t.qr(i),t.zr(e)};n.signal.addEventListener(pl,i),t.Hr(i),t.Wr(e)}return n.signal}var kl,Tl=function(){function t(){}var n=t.prototype;return n.Gh=function(t){return new ml(t).xv},n.bv=function(t){if(nt&&nt.sendBeacon)nt.sendBeacon(t.Kh,Qc([t.Ah],{type:t.Dh}));else{var n=t.Dh?{"Content-type":t.Dh}:void 0;Su(this.Gh(new Bv({wv:Dv.POST,Kh:t.Kh,Ah:t.Ah,zh:n})))}},n.et=function(){},t}(),Sl=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(i=n.call.apply(n,[this].concat(r))||this).bd=void 0,i.kd=function(){if(Et.Sn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Td=Et.Xn||Et.Sn,i.Sd=(Et.Xn||Et.Sn)&&!(Et.An&&Et.Pn<3),i.Ed=void 0,i}return vt(i,n),ft(i,[{key:"Ve",get:function(){return this.bd||(this.bd=new tu(Yc())),this.bd}},{key:"Rd",get:function(){return this.kd}},{key:"Id",get:function(){return this.Td}},{key:"Od",get:function(){return this.Sd}},{key:"Cd",get:function(){return!1}},{key:"Nd",get:function(){return Jc.Ea()}},{key:"Dd",get:function(){return{Ad:ta}}},{key:"Pd",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"xd",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"Ld",get:function(){return this.Ed||(this.Ed=new Fv(new Tl)),this.Ed}}]),i}(vr);dt(new Sl),function(t){t.Bd="Md",t.Fd="Ud"}(kl||(kl={})),kl.Bd,kl.Fd;var El=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Vd=void 0,e}return vt(n,t),ft(n,[{key:"Hd",get:function(){return this.Vd||(this.Vd=this.qd()),this.Vd}}]),n}(Au);function Rl(t){return Boolean(t&&t.Hd)}var Il,Ol=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(El),Cl=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(Au),Nl=function(t){function n(n){var i;return(i=t.call(this,kl.Bd)||this).Wd=n,i}return vt(n,t),n.prototype.qd=function(){return new Dl(this.Wd.Hd)},n}(Ol),Dl=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return vt(n,t),n}(Cl),Al=function(t){function n(n){var i;return(i=t.call(this,kl.Fd)||this).Wd=n,i}return vt(n,t),n.prototype.qd=function(){return new Pl(this.Wd.Hd)},n}(Ol),Pl=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return vt(n,t),n}(Cl);!function(t){t.zd="jd",t.$d="Xd",t.Gd="Yd",t.Kd="Jd",t.Zd="Qd",t.tl="nl",t.il="ul",t.sl="ol",t.cl="hc",t.al="fl",t.hl="vl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Il||(Il={}));var xl=function(t){function n(){var n;return(n=t.call(this)||this).dl=[],n.Vd=void 0,n}vt(n,t);var i=n.prototype;return i.ll=function(t){return this.dl[t]},i.wl=function(t){return!(!t||hu(this.dl,t))&&(this.dl.push(t),this.Vd&&this.Vd.push(t.Hd),t.nu(Il.tl,this.Qr),this.tu(new Nl(t)),!0)},i.gl=function(t){if(!t)return!1;var n=this.dl.indexOf(t);return!(n<0)&&(fu(this.dl,n),this.Vd&&fu(this.Vd,n),t.uu(Il.tl,this.Qr),this.tu(new Al(t)),!0)},i.yl=function(t){return hu(this.dl,t)},i.Sc=function(){for(var t=this.dl,n=t.length-1;n>=0;n-=1)this.gl(t[n])},i.et=function(){this.Sc(),this.ru()},ft(n,[{key:"ml",get:function(){return this.dl}},{key:"Hd",get:function(){return this.Vd||(this.Vd=this.qd()),this.Vd}},{key:"_l",get:function(){return this.dl.length}}]),n}(Nu),Ll=function(t){function n(n){var i;return(i=t.call(this,Il.tl)||this).Wd=n,i}return vt(n,t),n.prototype.qd=function(){return new Bl(this.Wd.Hd)},n}(Ol),Bl=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return vt(n,t),n}(Cl),Ml=function(t){function n(){var n;return(n=t.call(this)||this).pl=void 0,n.bl=function(t){var i=t.Wd;n.wl(i)},n.kl=function(t){var i=t.Wd;n.gl(i)},n}vt(n,t);var i=n.prototype;return i.Tl=function(t){t.nu(kl.Bd,this.bl),t.nu(kl.Fd,this.kl)},i.Sl=function(t){t.uu(kl.Bd,this.bl),t.uu(kl.Fd,this.kl)},i.et=function(){this.pl&&this.pl.et(),t.prototype.et.call(this)},ft(n,[{key:"El",get:function(){return this.pl},set:function(t){var n=this.pl;if(t!==n){if(n){this.Sl(n);for(var i=0,e=n.ml;i<e.length;i++){var r=e[i];t&&t.yl(r)||this.gl(r)}}if(this.pl=t,t){for(var u=[],s=0,o=t.ml;s<o.length;s++){var c=o[s];this.wl(c),this.Rl(c)&&u.push(c)}this.Tl(t);for(var a=0;a<u.length;a++){var f=u[a];f.tu(new Ll(f))}}}}}]),n}(xl),Fl=v.freeze||Ut;function Ul(t,n,i){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Vl(t,n){for(var i=0,e=v.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function Hl(t){if(Pt(t)){var n={};for(var i in t)Rt.call(t,i)&&(n[i]=Hl(t[i]));return n}if(Nt(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Hl(t[r]));return e}return t}function ql(t,n){return t===n||!(!t||!n)&&(!(!At(t)||!At(n))&&(Dt(t)?!!Dt(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!ql(t[r],n[r]))return!1;return!0}(t,n):!Dt(n)&&function(t,n){var i=v.keys(t),e=v.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!Rt.call(n,u)||!ql(t[u],n[u]))return!1}return!0}(t,n)))}function Wl(t,n){return t.constructor===n.constructor}function zl(t){for(var n={},i=0,e=v.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function jl(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function $l(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Xl(t){var n=$l(t);if(g(n))throw new f("Expected a valid number.");return n}function Gl(t){return"string"==typeof t?t:""}function Yl(t,n){if(!Dt(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Kl(t,n){return Dt(t)?Yl(t,n):n(t)}var Jl=[kl.Bd,kl.Fd,Il.tl];function Zl(t){var n,i=t.ml.map(function(t){return t.Hd});return i.item=function(n){var i=0|n,e=t.ll(i);return e&&e.Hd||void 0},i.addEventListener=function(t,i){n.nu(t,i)},i.removeEventListener=function(t,i){n.uu(t,i)},n=new Du(i),t.nu(Jl,function(t){return n.tu(t.Hd)}),i}function Ql(){}function tw(t){var n,i=[Il.cl,Il.tl,Il.al,Il.hl,Il.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.Il&&t.Il.Hd},get enabled(){return t.Ol},set enabled(n){t.Ol=jl(n)},get id(){return t.Cl},get uid(){return t.Nl},get kind(){return t.Dl},get label(){return t.Al},set label(n){t.Al=Gl(n)},get language(){return t.Pl},get qualities(){return t.xl.Hd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.xl.ml;e<r.length;e++)for(var u=r[e],s=0;s<n.length;s++){var o=n[s];u.Hd===o&&i.push(u)}return i}(t,Nt(n)?n:[n]):[]).length>0?t.Ll=i:t.Ll=void 0},get targetQuality(){if(t.Ll)return 1===t.Ll.length?t.Ll[0].Hd:t.Ll.map(function(t){return t.Hd})},addEventListener:function(t,i){var e=Kl(t,Gl);n.nu(e,i)},removeEventListener:function(t,i){var e=Kl(t,Gl);n.uu(e,i)}};return n=new Du(e),t.nu(i,function(t){return n.tu(t.Hd)}),v.defineProperty(e,"constructor",{value:Ql}),e}function nw(){}function iw(t){var n=Zl(t);return v.defineProperty(n,"constructor",{value:nw}),n}var ew,rw,uw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.qd=function(){return iw(this)},i.Rl=function(t){return t.Ol},n}(Ml);function sw(){}function ow(t){var n,i=[Il.tl,Il.cl,Il.zd,Il.$d,Il.Gd,Il.Kd,Il.Zd,Il.il,Il.sl],e=[rw.Bl],r={get kind(){return t.Dl},get label(){return t.Al},set label(n){t.Al=Gl(n)},get language(){return t.Pl},get id(){return t.Cl},get uid(){return t.Nl},get inBandMetadataTrackDispatchType(){return t.Ml},get mode(){return t.Fl},set mode(n){n!==ew.Ul&&n!==ew.Vl&&n!==ew.Hl||t.ql(n)},get forced(){return Boolean(t.Wl)},get type(){return t.br},get readyState(){return fw(t.zl)},get cues(){return t.Fl===ew.Hl?null:t.jl.Hd},get activeCues(){return t.Fl===ew.Hl?null:t.$l.Hd},get src(){return t.Xl||""},addEventListener:function(t,i){var e=Kl(t,Gl);n.nu(e,i)},removeEventListener:function(t,i){var e=Kl(t,Gl);n.uu(e,i)}};return n=new Du(t),t.nu(i,function(t){return n.tu(t.Hd)}),t.nu(e,function(t){return n.tu(t)}),v.defineProperty(r,"constructor",{value:sw}),r}function cw(){}function aw(t){var n=Zl(t);return v.defineProperty(n,"constructor",{value:cw}),n}function fw(t){return t}!function(t){t.Hl="disabled",t.Vl="hidden",t.Ul="showing"}(ew||(ew={})),function(t){t.Bl="error"}(rw||(rw={}));var hw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.qd=function(){return aw(this)},i.Rl=function(t){return t.Fl===ew.Ul},n}(Ml),vw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.eu=function(n){t.prototype.eu.call(this,n)},i.cu=function(n){t.prototype.cu.call(this,n)},n}(Nu),dw=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(vw),lw=function(t){function n(){return t.call(this,na.Ma)||this}return vt(n,t),n}(Au),ww=function(t){function n(n){var i;return(i=t.call(this,na.Aa)||this).currentSource=n,i}return vt(n,t),n}(Au),gw=function(){function t(){}return t.Gl=function(n,i){var e=t.Yl(n,i);return e?t.Kl(e):0},t.Jl=function(){return st.Pd||"default"},t.Zl=function(){return st.xd||"unknown"},t.Yl=function(n,i){var e,r=null==(e=st.Nd)?void 0:e.Tu(i),u=r&&JSON.parse(r);if(u&&u[n])return t.Ql(u,n,i)},t.Kl=function(t){var n=t.availableBandwidth;return n||0},t.Ql=function(n,i,e){if(!t.tw(n,i))return n[i];t.nw(n,i,e)},t.nw=function(t,n,i){var e;delete t[n],null==(e=st.Nd)||e.Sa(i,JSON.stringify(t))},t.tw=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.iw=function(t,n,i,e){var r;return gr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.ew=function(n){var i=t.Jl();t.rw(i,"theoplayer-stored-network-info",n,Rn())},t.rw=function(n,i,e,r){var u,s,o=null==(u=st.Nd)?void 0:u.Tu(i),c=o?JSON.parse(o):void 0,a=t.iw(c,n,e,r);null==(s=st.Nd)||s.Sa(i,JSON.stringify(a))},t.uw=function(){var n=t.Jl();return t.Gl(n,"theoplayer-stored-network-info")},t}();var yw,mw,_w,pw,bw,kw,Tw="1ADD53F3";function Sw(t){return{chromecast:function(t){return{appID:t&&t.appID?Gl(t.appID):Tw}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return yw.AUTO;case"manual":return yw.MANUAL;case"disabled":return yw.DISABLED;default:return yw.MANUAL}}(t?t.strategy:void 0)}}function Ew(t){var n,i=_w.sw;return(n=t)&&zr(n,"mpd")&&(i=_w.ow),function(t){return!!t&&zr(t,"m3u8")}(t)&&(i=_w.cw),i}function Rw(t){return At(t)&&At(t.ssai)&&"google-dai"===t.ssai.integration}function Iw(t){return At(t)&&xt(t.integration)&&"verizon-media"===t.integration}function Ow(t){if(xt(t))return!t;if(Iw(t))return!t.id;if(Rw(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Cw(t){return Boolean(At(t)&&xt(t.src))}function Nw(t){return t.type===_w.aw||t.type===_w.fw}function Dw(t){return xt(t)||Cw(t)||Rw(t)||Iw(t)}function Aw(t){if(t){if(Dw(t))return Ow(t);for(var n=0;n<t.length;n++){if(!Ow(t[n]))return!1}return!0}return!0}function Pw(){return{crossOrigin:mw.hw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function xw(){return gr({},Pw(),{src:void 0,type:_w.sw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Lw(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:pw.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return bw.NONE;case"midroll-and-postroll":default:return bw.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=jl(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return pw.INSECURE;case"disabled":return pw.DISABLED;case"enabled":default:return pw.ENABLED}}(t.vpaidMode)),Nt(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(xt)),void 0!==t.googleIma&&(n.googleIma=function(t){var n;return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:jl(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1}}(t.googleIma)),n)}function Bw(t){if(!Dt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];Pt(r)&&n.push(r)}return n}function Mw(t){return xt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(yw||(yw={})),function(t){t.hw="",t.vw="anonymous",t.dw="use-credentials"}(mw||(mw={})),function(t){t.ow="application/dash+xml",t.cw="application/vnd.apple.mpegurl",t.lw="application/x-mpegurl",t.sw="video/mp4",t.aw="application/vnd.theoplayer.hesp+json",t.fw="application/vnd.theo.hesp+json"}(_w||(_w={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(pw||(pw={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(bw||(bw={})),function(t){t[t.ww=0]="ww",t[t.gw=1]="gw",t[t.yw=2]="yw",t[t.mw=3]="mw",t[t._w=4]="_w"}(kw||(kw={}));var Fw,Uw=function(t){function n(n,i){var e;return void 0===i&&(i=kw.ww),(e=t.call(this,na.La)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Au),Vw=function(t){function n(n){var i;return(i=t.call(this,na.za)||this).currentTime=n,i}return vt(n,t),n}(Au),Hw=function(t){function n(n){var i;return(i=t.call(this,na.ja)||this).currentTime=n,i}return vt(n,t),n}(Au);!function(t){t.pw="canplay",t.bw="canplaythrough",t.kw="loadeddata",t.Tw="loadedmetadata",t.il="readystatechange",t.Sw="waiting",t.Ew="playing"}(Fw||(Fw={}));var qw,Ww=[Fw.pw,Fw.bw,Fw.kw,Fw.Tw,Fw.il,Fw.Sw,Fw.Ew],zw=function(t){function n(n,i){var e;return void 0===i&&(i=kw.gw),(e=t.call(this,Fw.Tw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Au),jw=function(t){function n(n){var i;return(i=t.call(this,na.xa)||this).duration=n,i}return vt(n,t),n}(Au),$w=function(t){function n(n,i){var e;return(e=t.call(this,na.Xa)||this).currentTime=n,e.playbackRate=i,e}return vt(n,t),n}(Au),Xw=function(t){function n(n,i){var e;return(e=t.call(this,na.rf)||this).currentTime=n,e.currentProgramDateTime=i,e}return vt(n,t),n}(Au),Gw=function(t){function n(n){var i;return(i=t.call(this,na.Ba)||this).currentTime=n,i}return vt(n,t),n}(Au),Yw=function(t){function n(n,i){var e;return void 0===i&&(i=kw.yw),(e=t.call(this,Fw.kw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Au),Kw=function(t){function n(n){var i;return(i=t.call(this,na.Ja)||this).currentTime=n,i}return vt(n,t),n}(Au),Jw=function(t){function n(n){var i;return(i=t.call(this,na.Ka)||this).currentTime=n,i}return vt(n,t),n}(Au),Zw=function(t){function n(n,i){var e;return(e=t.call(this,na.uf)||this).currentTime=n,e.volume=i,e}return vt(n,t),n}(Au),Qw=function(t){function n(n,i){var e;return void 0===i&&(i=kw.mw),(e=t.call(this,Fw.pw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Au),tg=function(t){function n(n,i){var e;return void 0===i&&(i=kw._w),(e=t.call(this,Fw.bw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Au),ng=function(t){function n(n,i){var e;return(e=t.call(this,Fw.il)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Au),ig=function(t){function n(n){var i;return(i=t.call(this,rw.Bl)||this).errorObject=n,i}return vt(n,t),n.prototype.qd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(El),eg={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function rg(t){switch(t){case qw.ALL:case qw.CONTENT:return t;default:return qw.NONE}}function ug(t){var n,i,e,r,u,s=Hl(t||{});return s.libraryLocation&&(s.libraryLocation=Vv(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=Sw(s.cast),s.ads=Lw(s.ads),s.analytics=Bw(s.analytics),s.mutedAutoplay=rg(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(i=s.hlsDateRange,Boolean(i)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=xt(e=s.license)?e:void 0,s.licenseUrl=function(t){if(!t)return;try{return Vv(t)}catch(t){return void st.Ae("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(s.vr),s.retryConfiguration=(r=s.retryConfiguration,u=gr({},eg),void 0!==r&&(void 0!==r.maxRetries&&(u.maxRetries=Number(r.maxRetries)),void 0!==r.minimumBackoff&&(u.minimumBackoff=Number(r.minimumBackoff)),void 0!==r.maximumBackoff&&(u.maximumBackoff=Number(r.maximumBackoff))),u),s}function sg(t){return{Rw:t.Rw,Iw:t.Iw,Ow:t.Ow,wu:t.wu,Cw:t.Cw,Nw:t.Nw,Dw:t.Dw,Aw:t.Aw,zl:t.zl,Pw:t.Pw,xw:t.xw,Lw:t.Lw,Bw:t.Bw}}function og(t,n,i){if(n!==i){var e=n.Rw,r=n.Iw,u=n.Nw,s=n.Dw,o=n.Aw,c=n.zl,a=n.Pw;n.Lw,n.xw;var f=n.Bw,h=i.Rw,v=i.Iw,d=i.Ow,l=i.Cw,w=i.Nw,y=i.Dw,m=i.Aw,_=i.zl,p=i.Pw;i.Lw,i.xw;var b=i.Bw;c!==kw.ww&&t.tu(new Uw(h,_)),y&&!s?t.tu(new Vw(h)):!y&&s&&t.tu(new Hw(h)),_>=kw.gw&&t.tu(new zw(h,_)),v===r||g(v)&&g(r)||t.tu(new jw(v)),m!==o&&t.tu(new $w(h,m)),h!==e&&t.tu(new Xw(h,void 0)),d&&t.tu(new Gw(h)),_>=kw.yw&&t.tu(new Yw(h,_)),p&&!a?t.tu(new Kw(h)):!p&&a&&t.tu(new Jw(h)),b===f&&w===u||t.tu(new Zw(h,b)),_>=kw.mw&&t.tu(new Qw(h,_)),_>=kw._w&&t.tu(new tg(h,_)),_!==c&&t.tu(new ng(h,_)),l&&t.tu(new ig(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(qw||(qw={}));var cg=.25,ag=400,fg={Mw:.2,Fw:.45,Uw:.7,Vw:3,Hw:yg,qw:mg},hg={Mw:.4,Fw:.65,Uw:1,Vw:3,Hw:yg,qw:mg},vg={Mw:.4,Fw:.7,Uw:.9,Vw:3,Hw:yg,qw:mg},dg={Mw:.4,Fw:.65,Uw:1,Vw:3,Hw:yg,qw:mg},lg={Mw:.5,Fw:1.125,Uw:1.75,Vw:2.55,Hw:yg,qw:mg};function wg(){var t;return t=st.Ke.de?dg:st.Ke.me?hg:st.Ke.ye?"Android"===st.Je.Ze?vg:fg:lg,st.Je.Qe?function(t){if(st.Je.Qe){var n=(ag+250)/1e3,i=d.max(n,t.Mw),e=d.max(i+cg,t.Fw),r=d.max(e+cg,t.Uw);return{Mw:i,Fw:e,Uw:r,Vw:d.max(r+cg,t.Vw),Hw:yg,qw:mg}}return t}(t):t}var gg,yg=.92,mg=1.08;function _g(t){return{goLive:function(){return t.Ww()},get isLive(){return t.zw},get currentServerLiveTime(){return t.jw},get currentLatency(){return t.$w},get latency(){return t.Xw},set latency(n){if(!function(t){if(!At(t))return!1;var n=t,i=Ot(n.target)&&"number"==typeof n.target&&Ot(n.windowEnd)&&"number"==typeof n.windowEnd&&Ot(n.windowStart)&&"number"==typeof n.windowStart&&Ot(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new f("Invalid latency configuration");t.Xw=n},get manifest(){return t.Gw},addEventListener:function(n,i){t.nu(bg(n),i)},removeEventListener:function(n,i){t.uu(bg(n),i)}}}!function(t){t[t.Hl=0]="Hl",t[t.Yw=1]="Yw",t[t.Kw=2]="Kw"}(gg||(gg={}));var pg=["golive","latencyrecoveryseek"];function bg(t){var n=Kl(t,Gl);return(xt(n)?[n]:n).filter(function(t){return hu(pg,t)})}var kg,Tg=function(t){function n(){var n,i;return(n=t.call(this)||this).pl=void 0,n.Vd=void 0,n.Jw={windowStart:(i=wg()).Mw,windowEnd:i.Uw,target:i.Fw,maxOffset:i.Vw},n.pl=void 0,n}vt(n,t);var i=n.prototype;return i.Tl=function(t){t.nu(pg,this.Qr)},i.Sl=function(t){t.uu(pg,this.Qr)},i.Ww=function(){var t;null==(t=this.pl)||t.Ww()},i.et=function(){this.ru(),this.pl&&this.Sl(this.pl),this.pl=void 0},ft(n,[{key:"El",get:function(){return this.pl},set:function(t){var n=this.pl;t!==n&&(n&&this.Sl(n),t&&this.Tl(t),this.pl=t,this.pl&&(this.pl.Xw=this.Jw))}},{key:"Hd",get:function(){return this.Vd||(this.Vd=_g(this)),this.Vd}},{key:"jw",get:function(){var t;return null==(t=this.pl)?void 0:t.jw}},{key:"$w",get:function(){var t;return null==(t=this.pl)?void 0:t.$w}},{key:"zw",get:function(){return!!this.pl&&this.pl.zw}},{key:"Xw",get:function(){return this.pl?this.pl.Xw:this.Jw},set:function(t){this.pl&&(this.pl.Xw=t),this.Jw=t}},{key:"Gw",get:function(){var t;return null==(t=this.pl)?void 0:t.Gw}}]),n}(Nu),Sg=function(t){function n(n){var i;return(i=t.call(this)||this).pl=void 0,i.Zw=[],i.Qw=!1,i.tg=new uw,i.ng=new uw,i.ig=new hw,i.eg=new Tg,i.rg=!1,i.ug(n),n.eu(i.Qr),i.pl=n,i.tg.El=n.sg,i.ng.El=n.og,i.ig.El=n.cg,i.eg.El=n.ag,i}vt(n,t);var i=n.prototype;return i.Y=function(){this.pl.Y()},i.K=function(){this.pl.K()},i.fg=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Eu(this.Zw.map(function(t){return t.fg()})).then(Ft));case 1:case"end":return t.stop()}},null,this,null,j)},i.hg=function(){return this.pl.hg()},i.vg=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return yu(n),i.next=3,wr.awrap(this.pl.vg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.dg=function(){return this.El.dg()},i.lg=function(){this.El.lg()},i.wg=function(){this.El.wg()},i.st=function(){if(!this.Qw){for(var t=0,n=this.Zw;t<n.length;t++){n[t].st()}this.Qw=!0}},i.gg=function(t){this.pl.gg(t)},i.yg=function(){this.pl.yg()},i.mg=function(){this.pl.mg()},i._g=function(){this.pl._g()},i.pg=function(){return this.pl.pg()},i.bg=function(){return this.pl.bg()},i.kg=function(){for(var t=[],n=0,i=this.Zw;n<i.length;n++){var e=i[n];t.push.apply(t,e.kg())}return t},i.Tg=function(t){for(var n=!1,i=0,e=this.Zw;i<e.length;i++){n=e[i].Tg(t)||n}return n},i.tu=function(n){this.Tg(n)||t.prototype.tu.call(this,n)},i.ug=function(t){this.Zw.push(t)},i.Sg=function(t){au(this.Zw,t)},i.Eg=function(t){if(t!==this.pl){var n=this.pl;n.yg(),n.cu(this.Qr);var i=sg(this),e=this.Rg,r=this.bg();this.pl=t,this.tg.El=t.sg,this.ng.El=t.og,this.ig.El=t.cg,this.eg.El=t.ag,og(this,i,this);var u=this.Rg;u!==e&&this.tu(new ww(u)),this.bg()!==r&&this.tu(new lw),t.eu(this.Qr),t.gg(n)}},i.Ig=function(){},i.et=function(){var t,n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.ru(),this.pl.yg(),t=0,n=this.Zw;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,wr.awrap(i.et());case 7:t++,e.next=3;break;case 10:this.tg.et(),this.ng.et(),this.ig.et(),this.eg.et();case 14:case"end":return e.stop()}},null,this,null,j)},i.Sc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Eu(this.Zw.map(function(t){return t.Sc()})).then(Ft));case 1:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"sg",get:function(){return this.tg}},{key:"cg",get:function(){return this.ig}},{key:"og",get:function(){return this.ng}},{key:"Og",get:function(){return this.pl.Og}},{key:"Cg",get:function(){return this.pl.Cg},set:function(t){this.pl.Cg=t}},{key:"Rg",get:function(){return this.pl.Rg}},{key:"Rw",get:function(){return this.pl.Rw},set:function(t){this.pl.Rw=t}},{key:"Iw",get:function(){return this.pl.Iw}},{key:"Ng",get:function(){return this.pl.Ng}},{key:"Ow",get:function(){return this.pl.Ow}},{key:"wu",get:function(){return this.pl.wu}},{key:"Cw",get:function(){return this.pl.Cw}},{key:"ag",get:function(){return this.eg}},{key:"Dg",get:function(){return this.pl.Dg}},{key:"Ag",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.Pg,i+=c.xg,e+=c.Lg,r+=c.Bg,u+=c.Mg,s.amountOfBufferedAudioSegments+=c.Fg.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.Fg.amountOfBufferedVideoSegments}return{Pg:n,xg:i,Lg:e,Bg:r,Mg:u,Fg:s}}(this.Zw.map(function(t){return t.Ag}))}},{key:"Nw",get:function(){return this.pl.Nw},set:function(t){this.pl.Nw=t}},{key:"Ug",get:function(){return this.pl.Ug}},{key:"Dw",get:function(){return this.pl.Dw}},{key:"Aw",get:function(){return this.pl.Aw},set:function(t){this.pl.Aw=t}},{key:"Vg",get:function(){return this.pl.Vg}},{key:"Hg",get:function(){return this.pl.Hg},set:function(t){this.pl.Hg=t}},{key:"zl",get:function(){return this.pl.zl}},{key:"qg",get:function(){return this.pl.qg}},{key:"Pw",get:function(){return this.pl.Pw}},{key:"xw",get:function(){return this.pl.xw}},{key:"Lw",get:function(){return this.pl.Lw}},{key:"Bw",get:function(){return this.pl.Bw},set:function(t){this.pl.Bw=t}},{key:"Wg",get:function(){return this.pl.Wg}},{key:"zg",get:function(){return!1},set:function(t){}},{key:"El",get:function(){return this.pl},set:function(t){this.Eg(t)}}]),n}(dw),Eg=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return vt(n,t),ft(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Ac);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(kg||(kg={}));var Rg=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,f.captureStackTrace&&f.captureStackTrace(Nn(u),u.constructor),u}return vt(n,t),ft(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Dn);function Ig(t){Ul(t,"MEDIA_ERR_ABORTED",kg.ABORTED),Ul(t,"MEDIA_ERR_NETWORK",kg.NETWORK),Ul(t,"MEDIA_ERR_DECODE",kg.DECODE),Ul(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",kg.SRC_NOT_SUPPORTED),Ul(t,"MEDIA_ERR_ENCRYPTED",kg.ENCRYPTED)}function Og(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Rg(kg.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new Rg(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return kg.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return kg.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return kg.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return kg.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return kg.NETWORK;if(i===n.ErrorCategory.SOURCE)return kg.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return kg.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return kg.ENCRYPTED;if(i===n.ErrorCategory.AD)return kg.ADVERTISEMENT_ERROR;return kg.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}Ig(Rg),Ig(Rg.prototype);var Cg,Ng=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.wl=function(n){return t.prototype.wl.call(this,n)},i.qd=function(){return iw(this)},n}(xl);!function(t){t.vv="audio",t.dv="video",t.si="text",t.lv="image",t.Zh="unknown"}(Cg||(Cg={}));var Dg=function(){function t(){this.jg=[],this.Vd=void 0}var n=t.prototype;return n.$g=function(t){this.jg.push(t),this.Vd&&this.Vd.push(t.Hd)},n.fc=function(t){au(this.jg,t),this.Vd&&au(this.Vd,t.Hd)},n.ll=function(t){return this.jg[t]},n.Xg=function(t){return Nt(t)?function(t,n){for(var i=0;i<n.length;i++)if(!hu(t,n[i]))return!1;return!0}(this.jg,t):hu(this.jg,t)},n.Sc=function(){vu(this.jg),this.Vd&&vu(this.Vd)},ft(t,[{key:"ml",get:function(){return this.jg}},{key:"_l",get:function(){return this.jg.length}},{key:"Hd",get:function(){var t,n;return this.Vd||(this.Vd=((n=(t=this).ml.map(function(t){return t.Hd})).item=function(n){var i=0|n,e=t.ll(i);return e&&e.Hd||void 0},n)),this.Vd}}]),t}(),Ag=function(t){function n(n){var i;return(i=t.call(this,Il.cl)||this).Wd=n,i}return vt(n,t),n.prototype.qd=function(){return new Pg(this.Wd.Hd)},n}(Ol),Pg=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return vt(n,t),n}(Cl),xg=0;function Lg(){return xg++}var Bg=0;var Mg=0;var Fg=0;var Ug=function(t){function n(n){var i;return(i=t.call(this)||this).br=Cg.vv,i.Gg=void 0,i.Ko=void 0,i.Yg=void 0,i.Kg=void 0,i.Jg=!1,i.jg=void 0,i.Vd=void 0,i.Gg=n,i.Kg=Lg(),i.Ko=Fg+++"",i.Yg=n.label,i.jg=new Dg,i.Zg(),i}vt(n,t);var i=n.prototype;return i.Qg=function(t){this.Ol=t},i.Zg=function(){this.Ol=this.ty},ft(n,[{key:"Il",get:function(){}},{key:"Ol",get:function(){return this.Jg},set:function(t){this.Jg!==t&&(this.Jg=t,this.ty=t,this.tu(new Ll(this)))}},{key:"ty",get:function(){return this.Gg.enabled},set:function(t){this.Gg.enabled=t}},{key:"Hd",get:function(){return this.Vd||(this.Vd=tw(this)),this.Vd}},{key:"Cl",get:function(){return this.Ko}},{key:"Nl",get:function(){return this.Kg}},{key:"Dl",get:function(){return this.Gg.kind}},{key:"Al",get:function(){return this.Yg},set:function(t){t!==this.Yg&&(this.Yg=t,this.tu(new Ag(this)))}},{key:"Pl",get:function(){return this.Gg.language}},{key:"Fl",get:function(){return this.Ol?"enabled":"disabled"}},{key:"ny",get:function(){return this.Gg}},{key:"xl",get:function(){return this.jg}},{key:"Ll",get:function(){},set:function(t){}}]),n}(Nu),Vg=0;var Hg,qg,Wg,zg,jg=function(t){function n(n){var i;return(i=t.call(this)||this).br=Cg.dv,i.Gg=void 0,i.Ko=void 0,i.Kg=void 0,i.Jg=!1,i.jg=void 0,i.Yg=void 0,i.Vd=void 0,i.Gg=n,i.Kg=Lg(),i.Ko=Vg+++"",i.jg=new Dg,i.Yg=n.label,i.Zg(),i}vt(n,t);var i=n.prototype;return i.Zg=function(){this.Ol=this.ty},i.Qg=function(t){this.Ol=t},ft(n,[{key:"Il",get:function(){}},{key:"Ol",get:function(){return this.Jg},set:function(t){this.Jg!==t&&(this.Jg=t,this.ty=t,this.tu(new Ll(this)))}},{key:"ty",get:function(){return!!this.Gg.selected},set:function(t){this.Gg.selected=t}},{key:"Hd",get:function(){return this.Vd||(this.Vd=tw(this)),this.Vd}},{key:"Cl",get:function(){return this.Ko}},{key:"Nl",get:function(){return this.Kg}},{key:"Dl",get:function(){return"main"}},{key:"Al",get:function(){return this.Yg},set:function(t){t!==this.Yg&&(this.Yg=t,this.tu(new Ag(this)))}},{key:"Pl",get:function(){return this.Gg.language}},{key:"Fl",get:function(){return this.Ol?"enabled":"disabled"}},{key:"ny",get:function(){return this.Gg}},{key:"xl",get:function(){return this.jg}},{key:"Ll",get:function(){},set:function(t){}}]),n}(Nu),$g=function(t){function n(n){var i;return(i=t.call(this,na.Ra)||this).Dg=n,i}return vt(n,t),n}(Au);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Hg||(Hg={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(qg||(qg={})),function(t){t.iy="cue",t.ey="region",t.uy="stylesheet"}(Wg||(Wg={})),function(t){t.sy="oy",t.ay="hy",t.cl="hc"}(zg||(zg={}));var Xg=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).vy=i,e}return vt(n,t),n}(Ol),Gg=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return vt(n,t),n}(Cl);function Yg(t){var n,i=[zg.sy,zg.ay,zg.cl],e={get track(){return t.Wd.Hd},get id(){return t.Cl},get uid(){return t.Nl},get startTime(){return t.ly},get endTime(){return t.wy},get content(){return t.gy},addEventListener:function(t,i){var e=Kl(t,Gl);n.nu(e,i)},removeEventListener:function(t,i){var e=Kl(t,Gl);n.uu(e,i)}};return n=new Du(e),t.nu(i,function(t){return n.tu(t.Hd)}),e}function Kg(){}var Jg=function(t){function n(n){return t.call(this,zg.cl,n)||this}return vt(n,t),n.prototype.qd=function(){return new Zg(this.vy.Hd)},n}(Xg),Zg=function(t){function n(n){return t.call(this,"update",n)||this}return vt(n,t),n}(Gg),Qg=.02;var ty=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Kg=void 0,s.Ko=void 0,s.yy=void 0,s.my=void 0,s.Vd=void 0,s._y=void 0,s.py=!1,s.by=void 0,s.ky=void 0,s.Ty=-1,s.Kg=Mg++,s.yy=n,s.my=i,s.by=e,s.ky=Boolean(r),s.Ko=null!=u?u:"",s}vt(n,t);var i=n.prototype;return i.qd=function(){return Yg(this)},i.Sy=function(t){return this===t||Wl(this,t)&&(i=t,Sn((n=this).ly,i.ly,Qg)&&Sn(n.wy,i.wy,Qg)&&n.Cl===i.Cl);var n,i},i.et=function(){this.ru()},ft(n,[{key:"ly",get:function(){return this.yy},set:function(t){this.yy!==t&&(this.yy=t,this.tu(new Jg(this)))}},{key:"wy",get:function(){return this.my},set:function(t){this.my!==t&&(this.my=t,this.tu(new Jg(this)))}},{key:"Cl",get:function(){return this.Ko}},{key:"Nl",get:function(){return this.Kg}},{key:"Hd",get:function(){return this.Vd||(this.Vd=this.qd()),this.Vd}},{key:"Ey",get:function(){return this.py},set:function(t){this.py=t}},{key:"Wd",get:function(){return this._y},set:function(t){this._y=t}},{key:"gy",get:function(){return this.by},set:function(t){this.by!==t&&(this.by=t,this.tu(new Jg(this)))}},{key:"Ry",get:function(){return this.ky},set:function(t){this.ky=t}}]),n}(Nu);var ny=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,u)||this).Iy="auto",s.Oy="start",s.Cy="auto",s.Ny="auto",s.Dy=void 0,s.Ay=!0,s.Iu=100,s.Py="center",s.xy="",s}return vt(n,t),n.prototype.Sy=function(n){return this===n||Wl(this,n)&&t.prototype.Sy.call(this,n)&&(e=n,(i=this).gy===e.gy&&i.Iy===e.Iy&&i.Oy===e.Oy&&i.Cy===e.Cy&&i.Ny===e.Ny&&i.Dy===e.Dy&&i.Ay===e.Ay&&i.Iu===e.Iu&&i.Py===e.Py&&i.xy===e.xy);var i,e},ft(n,[{key:"Hd",get:function(){var t;return this.Vd||(this.Vd=Vl(Yg(t=this),{get align(){return t.Py},get line(){return t.Iy},get lineAlign(){return t.Oy},get position(){return t.Cy},get positionAlign(){return t.Ny},get region(){return t.Dy?t.Dy.Hd:null},get size(){return t.Iu},get snapToLines(){return t.Ay},get text(){return t.gy},get vertical(){return t.xy}})),this.Vd}},{key:"br",get:function(){return Wg.iy}}]),n}(ty);var iy=function(){function t(t,n,i,e,r,u,s,o){this.Vd=void 0,this.Cl=t,this.Ly=n,this.By=i,this.My=e,this.Fy=r,this.Uy=u,this.Vy=s,this.Hy=o}return ft(t,[{key:"Hd",get:function(){var t;return this.Vd||(this.Vd=(t=this,{get id(){return t.Cl},get identifier(){return t.Cl},get lines(){return t.By},get regionAnchorX(){return t.My},get regionAnchorY(){return t.Fy},get scrollValue(){return t.Hy},get viewportAnchorX(){return t.Uy},get viewportAnchorY(){return t.Vy},get width(){return t.Ly}})),this.Vd}},{key:"br",get:function(){return Wg.ey}}]),t}(),ey=function(){function t(){}var n=t.prototype;return n.qy=function(t){return this.Wy()*t},n.zy=function(t){return this.jy(t)>0},n.$y=function(t){return this.jy(t)>=0},n.Xy=function(t,n){return this.Yy(t).Gy(n)},n.Sy=function(t){return 0===this.jy(t)},n.Ky=function(t){return this.jy(t)<0},n.Gy=function(t){return this.jy(t)<=0},n.Jy=function(){return this.Zy()?this.Qy():this},n.tm=function(t){return this.$g(t.Qy())},n.Yy=function(t){return this.tm(t).Jy()},t}();function ry(t,n){return t.nm()?n.nm()?Qr.Ar:Qr.Pr:n.nm()?Qr.xr:t.im()?n.im()&&t.Zy()===n.Zy()?Qr.Ar:t.Zy()?Qr.xr:Qr.Pr:n.Zy()?Qr.Pr:Qr.xr}var uy=function(){function t(t,n){this.rm=void 0,this.um=void 0,this.rm=t,this.um=n}t.sm=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.om=function(n){return n.unsigned?new t(n,Jt.UZERO):new t(n,n.isNegative()?Jt.NEG_ONE:Jt.ZERO)},t.cm=function(n,i){if(g(n))return i?t.am:t.fm;if(i){if(n<0)return t.am;if(n>=3.402823669209385e38)return t.hm}else{if(n<=-1.7014118346046923e38)return t.vm;if(n+1>=1.7014118346046923e38)return t.dm}return n<0?t.cm(-n,i).Qy():t.sm(Jt.fromNumber(n%0x10000000000000000),Jt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.lm=function(){return this.um.unsigned},n.wm=function(){return this.rm.isZero()&&this.um.isZero()},n.Zy=function(){return this.um.isNegative()},n.gm=function(){return this.lm()?t.sm(this.rm,this.um,!1):this},n.ym=function(){return this.lm()?this:t.sm(this.rm,this.um,!0)},n.mm=function(){return this.rm},n.Wy=function(){return this.Zy()?-this.Qy().Wy():0x10000000000000000*this.um.toNumber()+this.rm.toUnsigned().toNumber()},n._m=function(){return this.rm.toInt()},n.Sy=function(t){return(this.lm()===t.lm()||this.um.getHighBits()>>>31!=1||t.um.getHighBits()>>>31!=1)&&(this.um.toUnsigned().eq(t.um.toUnsigned())&&this.rm.toUnsigned().eq(t.rm.toUnsigned()))},n.jy=function(t){if(this.Sy(t))return Qr.Ar;var n=this.Zy(),i=t.Zy();if(n&&!i)return Qr.xr;if(!n&&i)return Qr.Pr;if(!this.lm())return this.tm(t).Zy()?Qr.xr:Qr.Pr;var e=this.ym(),r=t.ym(),u=r.um.comp(e.um);return u>0||0===u&&r.rm.gt(e.rm)?Qr.xr:Qr.Pr},n.Ky=function(t){return this.jy(t)<0},n.Gy=function(t){return this.jy(t)<=0},n.pm=function(t){return this.jy(t)>0},n.bm=function(t){return this.jy(t)>=0},n.km=function(){return new t(this.rm.not(),this.um.not())},n.Tm=function(n){return new t(this.rm.and(n.rm),this.um.and(n.um))},n.Sm=function(n){return new t(this.rm.or(n.rm),this.um.or(n.um))},n.Em=function(n){var i=127&n;return 0===i?this:i<64?t.sm(this.rm.shl(i),this.um.shl(i).or(this.rm.shru(64-i)),this.lm()):t.sm(Jt.ZERO,this.rm.shl(i-64),this.lm())},n.Rm=function(n){var i=127&n;return 0===i?this:i<64?t.sm(this.rm.shru(i).or(this.um.shl(64-i)),this.um.shr(i),this.lm()):t.sm(this.um.shr(i-64),this.um.isNegative()?Jt.NEG_ONE:Jt.ZERO,this.lm())},n.Im=function(n){var i=127&n;return 0===i?this:i<64?t.sm(this.rm.shru(i).or(this.um.shl(64-i)),this.um.shru(i),this.lm()):64===i?t.sm(this.um,Jt.ZERO,this.lm()):t.sm(this.um.shru(i-64),Jt.ZERO,this.lm())},n.$g=function(n){var i=this.um.high>>>16,e=65535&this.um.high,r=this.um.low>>>16,u=65535&this.um.low,s=this.rm.high>>>16,o=65535&this.rm.high,c=this.rm.low>>>16,a=65535&this.rm.low,f=n.um.high>>>16,h=65535&n.um.high,v=n.um.low>>>16,d=65535&n.um.low,l=n.rm.high>>>16,w=65535&n.rm.high,g=n.rm.low>>>16,y=0,m=0,_=0,p=0,b=0,k=0,T=0,S=0;T+=(S+=a+(65535&n.rm.low))>>>16,S&=65535,k+=(T+=c+g)>>>16,T&=65535,b+=(k+=o+w)>>>16,k&=65535,p+=(b+=s+l)>>>16,b&=65535,_+=(p+=u+d)>>>16,p&=65535,m+=(_+=r+v)>>>16,_&=65535,y+=(m+=e+h)>>>16,m&=65535,y+=i+f,y&=65535;var E=this.lm(),R=Jt.fromBits(_<<16|p,y<<16|m,E),I=Jt.fromBits(T<<16|S,b<<16|k,E);return t.sm(I,R,E)},n.tm=function(t){return this.$g(t.Qy())},n.Qy=function(){return this.km().$g(t.Om)},n.Cm=function(n){if(this.wm()||n.wm())return this.lm()?t.am:t.fm;if(this.Zy())return n.Zy()?this.Qy().Cm(n.Qy()):this.Qy().Cm(n).Qy();if(n.Zy())return this.Cm(n.Qy()).Qy();if(this.um.isZero()&&0===this.rm.high&&n.um.isZero()&&0===n.rm.high)return t.om(this.rm.multiply(n.rm));var i=Jt.fromBits(4294967295,0,!0),e=this.rm.and(i),r=this.rm.shru(32),u=this.um.and(i),s=this.um.shru(32),o=n.rm.and(i),c=n.rm.shru(32),a=n.um.and(i),f=n.um.shru(32),h=Jt.UZERO,v=Jt.UZERO,d=Jt.UZERO,l=Jt.UZERO;h=h.add(e.mul(o)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(r.mul(a)).add(e.mul(f)).and(i);var w=Jt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Jt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.sm(w,g,this.lm())},n.Nm=function(n){var i,e,r=n;if(r.wm())throw new RangeError("division by zero");if(this.wm())return this.lm()?[t.am,t.am]:[t.fm,t.fm];if(this.lm()){if(r.lm()||(r=r.ym()),r.pm(this))return[t.am,this];if(r.pm(this.Im(1)))return[e=t.Dm,i=this.tm(r)];e=t.am}else{if(this.Sy(t.vm)){if(r.Sy(t.Om)||r.Sy(t.Am))return[t.vm,t.fm];if(r.Sy(t.vm))return[t.Om,t.fm];var u=this.Rm(1).Pm(r).Em(1);return u.Sy(t.fm)?e=r.Zy()?t.Om:t.Am:(i=this.tm(r.Cm(u)),e=u.$g(i.Pm(r))),[e,i=this.tm(r.Cm(e))]}if(r.Sy(t.vm))return this.lm()?[t.am,this]:[t.fm,this];if(this.Zy()){if(r.Zy())return this.Qy().Nm(r.Qy());var s=this.Qy().Nm(r);return e=s[0],i=s[1],[e.Qy(),i.Qy()]}if(r.Zy()){var o=this.Nm(r.Qy());return e=o[0],i=o[1],[e.Qy(),i.Qy()]}e=t.fm}for(i=this;i.bm(r);){for(var c=d.max(1,d.floor(i.Wy()/r.Wy())),a=d.ceil(d.log(c)/d.LN2),f=a<=48?1:d.pow(2,a-48),h=t.cm(c),v=h.Cm(r);v.Zy()||v.pm(i);)c-=f,v=(h=t.cm(c,this.lm())).Cm(r);h.wm()&&(h=t.Om),e=e.$g(h),i=i.tm(v)}return[e,i]},n.Pm=function(t){return this.Nm(t)[0]},n.xm=function(t){return this.Nm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.wm())return"0";if(this.Zy()){if(this.Sy(t.vm)){var e=t.cm(i),r=this.Pm(e),u=r.Cm(e).tm(this);return r.toString(i)+u._m().toString(i)}return"-"+this.Qy().toString(i)}for(var s=t.cm(d.pow(i,6),this.lm()),o=this,c="";;){var a=o.Pm(s),f=(o.tm(a.Cm(s))._m()>>>0).toString(i);if((o=a).wm())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();uy.fm=uy.om(Jt.ZERO),uy.am=uy.om(Jt.UZERO),uy.Om=uy.om(Jt.ONE),uy.Dm=uy.om(Jt.UONE),uy.Am=uy.om(Jt.NEG_ONE),uy.dm=uy.sm(Jt.NEG_ONE,Jt.MAX_VALUE,!1),uy.hm=uy.sm(Jt.MAX_UNSIGNED_VALUE,Jt.MAX_UNSIGNED_VALUE,!0),uy.vm=uy.sm(Jt.ZERO,Jt.MIN_VALUE,!1);var sy=function(){function t(t,n){void 0===n&&(n=1),this.Lm=void 0,this.Bm=void 0,this.Lm=t,this.Bm=n}t.Mm=function(n){return new t(d.ceil(n.Lm),n.Bm)},t.Fm=function(n){return new t(d.floor(n.Lm),n.Bm)},t.Um=function(t,n){return t.$y(n)?t:n},t.Vm=function(t,n){return t.Gy(n)?t:n};var n=t.prototype;return n.$g=function(n){return this.Bm>=n.Bm?new t(this.Lm+n.Hm(this.Bm).Lm,this.Bm):new t(this.Hm(n.Bm).Lm+n.Lm,n.Bm)},n.zy=function(t){return t.Ky(this)},n.$y=function(t){return t.Gy(this)},n.Yy=function(n){return this.Bm>=n.Bm?new t(d.abs(this.Lm-n.Hm(this.Bm).Lm),this.Bm):n.Yy(this)},n.Xy=function(t,n){return this.Yy(t).Gy(n)},n.jy=function(t){return i=t,(n=this).Bm>=i.Bm?su(n.Lm,i.Hm(n.Bm).Lm):su(n.Hm(i.Bm).Lm,i.Lm);var n,i},n.Sy=function(t){return 0===this.jy(t)},n.Ky=function(t){return this.jy(t)<0},n.Gy=function(t){return this.jy(t)<=0},n.Hm=function(n){return new t(this.Lm*(n/this.Bm),n)},n.tm=function(n){return this.Bm>=n.Bm?new t(this.Lm-n.Hm(this.Bm).Lm,this.Bm):new t(this.Hm(n.Bm).Lm-n.Lm,n.Bm)},n.qm=function(n){return new t(this.Lm*n,this.Bm)},ft(t,[{key:"im",get:function(){return!isFinite(this.Lm)}},{key:"Wm",get:function(){return this.Lm/this.Bm}}]),t}();sy.zm=new sy(1/6,1),sy.fm=new sy(0),sy.jm=new sy(1/0),sy.$m=1e6;var oy=function(t){function n(n,i){var e;return(e=t.call(this)||this).yi=void 0,e.Bm=void 0,e.yi=n.toSigned(),e.Bm=i>>>0,e}vt(n,t),n.Xm=function(t,i){return void 0===i&&(i=1e6),n.cm(t*i,i)},n.cm=function(t,i){return g(t)?n.Gm:t===1/0?n.Ym:t===-1/0?n.Km:new n(Jt.fromNumber(t),i)},n.om=function(t,i){return new n(t,i)},n.Jm=function(t){return n.Xm(t.Wm,1e6)},n.Zm=function(t){return new n(Jt.fromNumber(t.getTime()),1e3)},n.Um=function(t,n){return t.$y(n)?t:n},n.Vm=function(t,n){return t.Gy(n)?t:n},n.Qm=function(t,i,e){return n.Um(i,n.Vm(e,t))};var i=n.prototype;return i.Zy=function(){return this.yi.isNegative()},i.wm=function(){return 0!==this.Bm&&this.yi.isZero()},i.im=function(){return 0===this.Bm&&!this.yi.isZero()},i.nm=function(){return 0===this.Bm&&this.yi.isZero()},i.Wy=function(){if(0===this.Bm)return this.yi.isZero()?NaN:this.yi.isNegative()?-1/0:1/0;var t=this.yi.divide(this.Bm),n=this.yi.subtract(t.multiply(this.Bm));return t.toNumber()+n.toNumber()/this.Bm},i.mm=function(){if(0===this.Bm)throw new f("Failed to convert timestamp");return this.yi},i.t_=function(){return new Date(0===this.Bm?NaN:this.Hm(1e3).yi.toNumber())},i.n_=function(){return new sy(0===this.Bm?this.Wy():this.yi.toNumber(),this.Bm)},i.Hm=function(t,i){void 0===i&&(i=fy.i_);var e=this.Bm;if(e===t)return this;if(0===e)return this;var r=En(e,t);return new n(function(t,n,i){var e=t.Nm(n),r=e[0],u=e[1];if(u.wm())return r;if(i===fy.i_)return u.Zy()?r.tm(uy.Om):r;if(i===fy.e_)return u.Zy()?r:r.$g(uy.Om);var s=u.Cm(uy.cm(2));return s.Zy()?s.Qy().Ky(n)?r:r.tm(uy.Om):s.Ky(n)?r:r.$g(uy.Om)}(uy.om(this.yi).Cm(uy.cm(t/r)),uy.cm(e/r),i).mm(),t)},i.jy=function(t){if(this===t)return Qr.Ar;if(0===this.Bm||0===t.Bm)return ry(this,t);if(this.wm())return t.wm()?Qr.Ar:t.Zy()?Qr.Pr:Qr.xr;if(t.wm())return this.Zy()?Qr.xr:Qr.Pr;var n=d.min(this.Bm,t.Bm),i=this.Hm(n,fy.r_).yi,e=t.Hm(n,fy.r_).yi;return i.compare(e)},i.Qy=function(){return 0===this.Bm?cy(this):new n(this.yi.negate(),this.Bm)},i.$g=function(t){if(0===this.Bm||0===t.Bm)return ay(this,t);if(this.wm())return t;if(t.wm())return this;var i=d.max(this.Bm,t.Bm),e=this.Hm(i,fy.r_),r=t.Hm(i,fy.r_);return new n(e.yi.add(r.yi),i)},i.Cm=function(t){if(this.nm()||g(t))return n.Gm;if(this.im()||!isFinite(t)){if(this.wm()||0===t)return n.Gm;var i=this.Zy()?n.Km:n.Ym;return t<0?i.Qy():i}return this.wm()?this:new n(0===t?Jt.ZERO:this.yi.multiply(t),this.Bm)},i.Pm=function(t){if(this.nm()||g(t))return n.Gm;if(this.im())return isFinite(t)?0===t?1/t<0?this.Qy():this:t<0?this.Qy():this:n.Gm;if(!isFinite(t))return new n(Jt.ZERO,this.Bm);if(this.wm())return 0===t?n.Gm:new n(Jt.ZERO,this.Bm);if(0===t){var i=this.Zy()?n.Km:n.Ym;return 1/t<0?i.Qy():i}return new n(this.yi.divide(t),this.Bm)},i.u_=function(){return[this.yi.low,this.yi.high,this.Bm]},n}(ey);function cy(t){return t.nm()?t:t.Zy()?oy.Ym:oy.Km}function ay(t,n){return t.nm()||n.nm()?oy.Gm:t.im()&&n.im()?t.Zy()===n.Zy()?t:oy.Gm:t.im()?t:n}oy.fm=new oy(Jt.ZERO,1e6),oy.Gm=new oy(Jt.ZERO,0),oy.Ym=new oy(Jt.ONE,0),oy.Km=new oy(Jt.NEG_ONE,0);var fy,hy=function(t){function n(n,i){var e;return(e=t.call(this)||this).yi=void 0,e.Bm=void 0,e.yi=BigInt.asIntN(64,n),e.Bm=i>>>0,e}vt(n,t),n.Xm=function(t,i){return void 0===i&&(i=1e6),n.cm(t*i,i)},n.cm=function(t,i){return g(t)?n.Gm:t===1/0?n.Ym:t===-1/0?n.Km:new n(BigInt(d.floor(t)),i)},n.om=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Jm=function(t){return n.Xm(t.Wm,1e6)},n.Zm=function(t){return n.cm(t.getTime(),1e3)},n.Um=function(t,n){return t.$y(n)?t:n},n.Vm=function(t,n){return t.Gy(n)?t:n},n.Qm=function(t,i,e){return n.Um(i,n.Vm(e,t))};var i=n.prototype;return i.Zy=function(){return this.yi<BigInt(0)},i.wm=function(){return 0!==this.Bm&&this.yi===BigInt(0)},i.im=function(){return 0===this.Bm&&this.yi!==BigInt(0)},i.nm=function(){return 0===this.Bm&&this.yi===BigInt(0)},i.Wy=function(){if(0===this.Bm)return this.yi===BigInt(0)?NaN:this.yi<BigInt(0)?-1/0:1/0;var t=this.yi/BigInt(this.Bm),n=this.yi-t*BigInt(this.Bm);return Number(t)+Number(n)/this.Bm},i.mm=function(){if(0===this.Bm)throw new f("Failed to convert timestamp");return this.s_()},i.s_=function(){var t=this.yi&BigInt(4294967295),n=this.yi>>BigInt(32)&BigInt(4294967295);return Jt.fromBits(Number(t),Number(n))},i.t_=function(){return new Date(0===this.Bm?NaN:Number(this.Hm(1e3).yi))},i.n_=function(){return new sy(0===this.Bm?this.Wy():Number(this.yi),this.Bm)},i.Hm=function(t,i){void 0===i&&(i=fy.i_);var e=this.Bm;if(e===t)return this;if(0===e)return this;var r=En(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===fy.i_)return r<BigInt(0)?e-BigInt(1):e;if(i===fy.e_)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.yi*BigInt(t/r),BigInt(e/r),i),t)},i.jy=function(t){if(this===t)return Qr.Ar;if(0===this.Bm||0===t.Bm)return ry(this,t);if(this.wm())return t.wm()?Qr.Ar:t.Zy()?Qr.Pr:Qr.xr;if(t.wm())return this.Zy()?Qr.xr:Qr.Pr;var n=d.min(this.Bm,t.Bm),i=this.Hm(n,fy.r_).yi,e=t.Hm(n,fy.r_).yi;return i>e?Qr.Pr:i<e?Qr.xr:Qr.Ar},i.Qy=function(){return 0===this.Bm?vy(this):new n(-this.yi,this.Bm)},i.$g=function(t){if(0===this.Bm||0===t.Bm)return dy(this,t);if(this.wm())return t;if(t.wm())return this;var i=d.max(this.Bm,t.Bm),e=this.Hm(i,fy.r_),r=t.Hm(i,fy.r_);return new n(e.yi+r.yi,i)},i.Cm=function(t){if(this.nm()||g(t))return n.Gm;if(this.im()||!isFinite(t)){if(this.wm()||0===t)return n.Gm;var i=this.Zy()?n.Km:n.Ym;return t<0?i.Qy():i}return this.wm()?this:new n(0===t?BigInt(0):this.yi*BigInt(t),this.Bm)},i.Pm=function(t){if(this.nm()||g(t))return n.Gm;if(this.im())return isFinite(t)?0===t?1/t<0?this.Qy():this:t<0?this.Qy():this:n.Gm;if(!isFinite(t))return new n(BigInt(0),this.Bm);if(this.wm())return 0===t?n.Gm:new n(BigInt(0),this.Bm);if(0===t){var i=this.Zy()?n.Km:n.Ym;return 1/t<0?i.Qy():i}return new n(this.yi/BigInt(t),this.Bm)},i.u_=function(){var t=this.s_();return[t.low,t.high,this.Bm]},ft(n,null,[{key:"fm",get:function(){return n.o_||(n.o_=new n(BigInt(0),1e6)),n.o_}},{key:"Gm",get:function(){return n.c_||(n.c_=new n(BigInt(0),0)),n.c_}},{key:"Ym",get:function(){return n.a_||(n.a_=new n(BigInt(1),0)),n.a_}},{key:"Km",get:function(){return n.f_||(n.f_=new n(BigInt(-1),0)),n.f_}}]),n}(ey);function vy(t){return t.nm()?t:t.Zy()?hy.Ym:hy.Km}function dy(t,n){return t.nm()||n.nm()?hy.Gm:t.im()&&n.im()?t.Zy()===n.Zy()?t:hy.Gm:t.im()?t:n}hy.o_=void 0,hy.c_=void 0,hy.a_=void 0,hy.f_=void 0,function(t){t[t.i_=0]="i_",t[t.e_=1]="e_",t[t.r_=2]="r_"}(fy||(fy={}));var ly=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?hy:oy,wy=9e4,gy=d.pow(2,33);ly.cm(gy,wy).Pm(2);var yy,my,_y,py,by,ky={h_:0,v_:1/0,d_:0},Ty=6,Sy=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],Ey=[" ","\t","\n","\f","\r"],Ry=/^\d*$/,Iy=/.*[0-9]+.*/,Oy=/^[\d.-]+$/,Cy=/(^\.|\.$)/,Ny=/(\D\.|\.\D)/;function Dy(t,n){void 0===n&&(n=ky);var i={jl:[],l_:[],w_:[]},e=Ay(t),r=new Vs;if(qy(e),Py(e,function(t){return"\n"!==t},r),r.Au>=e.length)return i;(r.Cu(1),"\n"!==e.charAt(r.Au))?My(xy(e,r,!1,!0,i,n),i):r.Cu(1);for(Py(e,function(t){return"\n"===t},r);r.Au<e.length;){My(xy(e,r,!1,!1,i,n),i),Py(e,function(t){return"\n"===t},r)}return i}function Ay(t){var n=Wr(t,"\0"," "),i=Wr(n,"\r\n","\n");return Wr(i,"\r","\n")}function Py(t,n,i){for(var e=i.Au;i.Au<t.length&&n(t.charAt(i.Au));)i.Cu(1);return t.substring(e,i.Au)}function xy(t,n,i,e,r,u){for(var s,o=0,c=n.Au,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=Py(t,function(t){return"\n"!==t},n),o++,n.Au>=t.length?f=!0:n.Cu(1),zr(s,"--\x3e")){if(e||1!==o&&(2!==o||h)){n.Nu(c);break}h=!0,c=n.Au,v=new ny(0,0,"",!1,a);try{Fy(s,r.l_,v,u),a=""}catch(t){st.Ae(t),v=null}}else{if(""===s)break;e&&jr(s,"X-TIMESTAMP-MAP")&&(r.g_=Ly(s)),e||2!==o||i||(Xr("STYLE",a.replace(/ /g,""))?(d={br:Wg.uy},a=""):Xr("REGION",a.replace(/ /g,""))&&(l=new iy("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.Au}if(v)return v.gy=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&zr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var u=r.indexOf(":"),s=r.substring(0,u),o=r.substring(u+1,r.length);switch(s.toUpperCase()){case"ID":Qy(o,n);break;case"WIDTH":im(o,n);break;case"LINES":nm(o,n);break;case"REGIONANCHOR":var c=Zy(o);c&&(n.My=c[0],n.Fy=c[1]);break;case"VIEWPORTANCHOR":var a=Zy(o);a&&(n.Uy=a[0],n.Vy=a[1]);break;case"SCROLL":tm(o,n)}}}}(a,l),l;return null}function Ly(t){var n,i,e=t.split("=")[1].trim().split(","),r=By(e[0].trim(),"MPEGTS")?e[0]:e[1],u=By(e[0].trim(),"LOCAL")?e[0]:e[1];return{y_:(i=Number(r.split(/:(.*)/)[1].trim())||0,ly.cm(i,wy)),m_:ly.Xm(null!=(n=Hy(u.split(/:(.*)/)[1].trim(),new Vs))?n:0)}}function By(t,n){return jr(t,n)}function My(t,n){t&&function(t){return t.br===Wg.iy}(t)?n.jl.push(t):t&&function(t){return t.br===Wg.ey}(t)?n.l_.push(t):t&&function(t){return t.br===Wg.uy}(t)&&n.w_.push(t)}function Fy(t,n,i,e){var r=new Vs;if(Wy(t,r),i.ly=Uy(Hy(t,r),e),Wy(t,r),"--\x3e"!==t.substring(r.Au,r.Au+3))throw f("Something went wrong with parsing a WebVTT Cue");r.Cu(3),Wy(t,r),i.wy=Uy(Hy(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&zr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Gy(c,n,i);break;case"VERTICAL":Ky(c,n);break;case"D":Jy(c,n);break;case"LINE":case"L":$y(c,n);break;case"POSITION":case"T":Xy(c,n);break;case"SIZE":case"S":Yy(c,n);break;case"ALIGN":case"A":jy(c,n)}}}}(t.substring(r.Au,t.length),i,n)}function Uy(t,n){return t+n.h_}function Vy(t){return/^[0-9]$/.test(t)}function Hy(t,n){var i,e,r,u=Wr(t,",","."),s=!1;if(n.Au>=u.length||!Vy(u.charAt(n.Au)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=Py(u,Vy,n),c=l(o,10);if((o.length>2||c>59)&&(s=!0),n.Au>=u.length||":"!==u.charAt(n.Au))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var a=Py(u,Vy,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(a,10);if(s||n.Au<u.length&&":"===u.charAt(n.Au)){if(n.Au>=u.length||":"!==u.charAt(n.Au))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var v=Py(u,Vy,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=h,r=l(v,10)}else i=0,e=c,r=h;if(n.Au>=u.length||"."!==u.charAt(n.Au))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var d=Py(u,Vy,n),w=l(d,10);if(h>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function qy(t){if(t.length<Ty)return!1;for(var n=0;n<Sy.length;n++){if(jr(t,Sy[n]))return!0}return!1}function Wy(t,n){for(;n.Au<t.length&&(i=t.charAt(n.Au),hu(Ey,i));)n.Cu(1);var i}function zy(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function jy(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Py=i;break;case"middle":n.Py="center"}}function $y(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),Iy.test(i)){var u,s;if($r(i,"%")){var o=zy(i);if(null===o)return;u=o,s=!1}else{if(!Oy.test(i)||i.lastIndexOf("-")>0)return;var c=i.indexOf(".");if(c>=0&&(c!==i.lastIndexOf(".")||!Ny.test(i)||Cy.test(i)))return;if(u=w(i),g(u))return;s=!0}switch(n.Iy=u,n.Ay=s,e=e.toLowerCase()){case"start":case"center":case"end":n.Oy=e;break;case"middle":n.Oy="center"}}}function Xy(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var u=zy(i);if(null!==u)switch(n.Cy=u,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Ny=e;break;case"start":n.Ny="line-left";break;case"middle":n.Ny="center";break;case"end":n.Ny="line-right"}}function Gy(t,n,i){var e=cu(i,function(n){return n.Cl===t});void 0!==e&&(n.Dy=e)}function Yy(t,n){var i=zy(t);null!==i&&(n.Iu=i)}function Ky(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.xy="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.xy="lr";break;default:n.xy=""}}function Jy(t,n){"VERTICAL"===t.toUpperCase()?n.xy="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.xy="lr")}function Zy(t){if(t.indexOf(",")>=0){var n=zy(t.substring(0,t.indexOf(","))),i=zy(t.substring(t.indexOf(",")+1,t.length));return[Tn(n||0,0,100),Tn(i||100,0,100)]}return null}function Qy(t,n){n.Cl=t}function tm(t,n){"up"===t.toLowerCase()&&(n.Hy="up")}function nm(t,n){Ry.test(t)&&(n.By=l(t))}function im(t,n){var i=zy(t);null!==i&&(n.Ly=i)}!function(t){t.__="moov",t.p_="mvhd",t.b_="trak",t.k_="tkhd",t.T_="mdia",t.S_="mdhd",t.E_="hdlr",t.R_="minf",t.I_="stbl",t.O_="stsd",t.C_="stsc",t.N_="mvex",t.D_="trex",t.A_="avc1",t.P_="avcC",t.x_="hev1",t.L_="hvc1",t.B_="hvcC",t.M_="vp09",t.F_="vpcC",t.U_="av01",t.V_="av1C",t.H_="colr",t.q_="pasp",t.W_="mp4a",t.z_="esds",t.j_="wvtt",t.X_="vttC",t.G_="vlab",t.Y_="enca",t.K_="encv",t.J_="moof",t.Z_="mfhd",t.Q_="traf",t.tp="tfhd",t.np="trun",t.ip="tfdt",t.ep="senc",t.rp="mdat",t.sp="pssh",t.op="emsg",t.cp="sidx",t.ap="styp",t.fp="ftyp",t.hp="sinf",t.vp="frma"}(yy||(yy={})),function(t){t.dv="vide",t.vv="soun",t.dp="subt",t.lp="hint",t.wp="meta",t.gp="auxv"}(my||(my={})),function(t){t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof"}(_y||(_y={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(py||(py={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(by||(by={}));var em=function(){function t(t,n){this.Li=void 0,this.yp=void 0,this.Li=t,this.yp=n}var n=t.prototype;return n.mp=function(){return fs(this.Li,this.yp)},n._p=function(){return ls(this.Li,this.yp)},n.pp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Au,i);return n.Cu(2),e}(this.Li,this.yp)},n.bp=function(){return gs(this.Li,this.yp)},n.kp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Au,i);return n.Cu(4),e}(this.Li,this.yp)},n.Tp=function(){return ms(this.Li,this.yp)},n.Sp=function(t){return vs(this.Li,this.yp,t)},n.Ep=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(gs(t,n));return e}(this.Li,this.yp,t)},n.Rp=function(t){return ps(this.Li,this.yp,t)},n.Ip=function(){return Cs(this.Li,this.yp)},n.Op=function(t){this.yp.Cu(t)},n.Du=function(){return new t(this.Li,this.yp.Du())},t}(),rm=function(t){function n(n,i){var e;return(e=t.call(this)||this).Cp=n,e.Np=i,e}return vt(n,t),ft(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(An),um=function(){function t(){}return t.Dp=function(n){var i=n.Li,e=n.yp,r=t.Ap(i,e,!1);if(!r.Pp)throw new rm(e.Au,r.Ri);return r.Ri},t.Ap=function(n,i,e){for(var r=[];i.Au<n.byteLength;){var u=t.xp(n,i,e);if(!u.Pp)return{Pp:!1,Ri:r};r.push(u.Lp)}return{Pp:!0,Ri:r}},t.Bp=function(n,i){var e=t.xp(n,i,!1);if(!e.Pp)throw new rm(i.Au);return e.Lp},t.Mp=function(n,i){for(var e=n.Li,r=n.yp;r.Au<e.byteLength;){var u=t.xp(e,r,!1);if(!u.Pp)return;if(u.Lp.br===i)return u.Lp}},t.xp=function(n,i,e){var r=i.Au,u=t.Fp(n,i);if(!u.Pp)return u;var s=u.Up,o=s.Iu;if(0===o){if(e)return i.Nu(r),{Pp:!1,Vp:1/0};o=n.byteLength-r}var c=r+o;if(c>n.byteLength){var a=c;return i.Nu(r),{Pp:!1,Vp:a}}var f,h,v,d={br:s.br,Au:r,Li:new em((f=n,h=r,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new Vs(s.Hp))};return i.Nu(c),{Pp:!0,Lp:d}},t.Fp=function(t,n){var i=n.Au;if(!ds(t,n,8))return{Pp:!1,Vp:n.Au+8};var e=gs(t,n),r=ps(t,n,4);if(1===e){if(!ds(t,n,8)){var u=n.Au+8;return n.Nu(i),{Pp:!1,Vp:u}}e=ms(t,n).toNumber()}if("uuid"===r){if(!ds(t,n,16)){var s=n.Au+16;return n.Nu(i),{Pp:!1,Vp:s}}r=ps(t,n,16)}return{Pp:!0,Up:{br:r,Iu:e,Hp:n.Au-i}}},t.qp=function(t,n,i){var e=t.Li,r=t.yp,u=As(xs(e),r.Au,e.byteLength);return i&&(u=Fs(u)),r.Cu(u.byteLength),{br:n,Li:u}},t.Wp=function(n,i,e){var r=am(n.bp());return{br:i,zp:r.version,jp:r.flags,Li:t.qp(n,i,e).Li}},t}();function sm(t,n){var i=om(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function om(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.br===n)return e.Li}}function cm(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.br===n&&i.push(r.Li)}return i}function am(t){return{version:t>>24,flags:new as(16777215&t)}}var fm=function(){function t(){}return t.$p=function(n){for(var i=[],e=um.Dp(new em(n,new Vs)),r=0;r<e.length;r++){var u=e[r],s=t.Xp(u);s&&i.push(s)}return i},t.Gp=function(t){return um.Ap(t,new Vs,!1).Ri.some(this.Yp)},t.Kp=function(n){return cm(um.Dp(new em(n,new Vs)),yy.sp).map(t.Jp)},t.Zp=function(n){return cm(um.Dp(n.Li),yy.sp).map(t.Jp)},t.Yp=function(t){return t.br===yy.fp||t.br===yy.ap||t.br===yy.__||t.br===yy.J_||t.br===yy.rp||t.br===yy.cp||t.br===yy.op},t.Xp=function(n){switch(n.br){case yy.__:return t.Qp(n.Li);case yy.J_:return t.tb(n.Li,n.Au);case yy.rp:return t.nb(n.Li);case yy.cp:return t.ib(n.Li);case yy.op:return t.eb(n.Li)}},t.Qp=function(n){var i=um.Dp(n),e=sm(i,yy.p_),r=cm(i,yy.b_),u=om(i,yy.N_),s=t.ub(e),o=r.map(t.sb),c=u?t.ob(u):void 0;return{br:yy.__,Up:s,cb:o,ab:c}},t.ub=function(t){var n=am(t.bp()),i=n.version,e=n.flags,r=1===i?t.Tp():t.bp(),u=1===i?t.Tp():t.bp(),s=t.bp(),o=1===i?t.Tp():t.bp(),c=t.bp(),a=t._p()>>8;t.Op(2),t.Op(8);var f=t.Ep(9);t.Op(24);var h=t.bp();return{br:yy.p_,zp:i,jp:e,fb:r,hb:u,Bm:s,Iw:o,vb:c,Bw:a,lb:f,wb:h}},t.sb=function(n){var i=um.Dp(n),e=sm(i,yy.k_),r=sm(i,yy.T_),u=t.gb(e),s=t.yb(r);return{br:yy.b_,Up:u,mb:s}},t.gb=function(t){var n=am(t.bp()),i=n.version,e=n.flags,r=1===i?t.Tp():t.bp(),u=1===i?t.Tp():t.bp(),s=t.bp();t.Op(4);var o=1===i?t.Tp():t.bp();t.Op(8);var c=t.pp(),a=t.pp(),f=t.pp()/d.pow(2,8);t.Op(2);var h=t.Ep(9),v=t.bp()/d.pow(2,16),l=t.bp()/d.pow(2,16);return{br:yy.k_,_b:e.xu(1),pb:e.xu(2),bb:e.xu(4),fb:r,hb:u,kb:s,Iw:o,Tb:c,Sb:a,Bw:f,lb:h,Ly:v,Eb:l}},t.yb=function(n){var i=um.Dp(n),e=sm(i,yy.S_),r=sm(i,yy.E_),u=sm(i,yy.R_),s=t.Rb(e),o=t.Ib(r),c=t.Ob(u);return{br:yy.T_,Up:s,Cb:o,Nb:c}},t.Rb=function(t){var n=am(t.bp()),i=n.version,e=n.flags,r=1===i?t.Tp():t.bp(),u=1===i?t.Tp():t.bp(),s=t.bp(),o=1===i?t.Tp():t.bp();return t._p(),t.Op(2),{br:yy.S_,zp:i,jp:e,fb:r,hb:u,Bm:s,Iw:o}},t.Ib=function(t){var n=am(t.bp()),i=n.version,e=n.flags;t.Op(4);var r=t.Rp(4);t.Op(12);var u=t.Ip();return{br:yy.E_,zp:i,jp:e,Db:r,li:u}},t.Ob=function(n){var i=sm(um.Dp(n),yy.I_),e=t.Ab(i);return{br:yy.R_,Pb:e}},t.Ab=function(n){var i=sm(um.Dp(n),yy.O_),e=t.xb(i);return{br:yy.I_,Lb:e}},t.xb=function(n){var i=am(n.bp()),e=i.version,r=i.flags;n.bp();for(var u=[],s=um.Dp(n),o=0;o<s.length;o++){var c=s[o],a=t.Bb(c.Li,c.br);a&&u.push(a)}return{br:yy.O_,zp:e,jp:r,Mb:u}},t.Bb=function(n,i){var e=t.Fb(n,i);return e||((e=t.Ub(n,i))||(i===yy.j_?t.Vb(n):void 0))},t.Fb=function(n,i){return i===yy.W_?t.Hb(n):i===yy.Y_?t.qb(n):void 0},t.Ub=function(n,i){return i===yy.A_?t.Wb(n):i===yy.x_||i===yy.L_?t.zb(n,i):i===yy.M_?t.jb(n,i):i===yy.U_?t.$b(n,i):i===yy.K_?t.Xb(n):void 0},t.Gb=function(t,n){return t.Op(6),{br:n,Yb:t._p()}},t.Kb=function(n,i){var e=t.Gb(n,i);n.Op(8);var r=n._p(),u=n._p();return n.Op(2),n.Op(2),gr({},e,{Jb:r,Zb:u,Qb:n.bp()>>>16})},t.tk=function(n,i){var e=t.Gb(n,i);n.Op(2),n.Op(2),n.Op(12);var r=n._p(),u=n._p(),s=n.bp(),o=n.bp();n.Op(4);var c=n._p();n.Op(32);var a=n._p();return n.Op(2),gr({},e,{Ly:r,Eb:u,nk:s,ik:o,ek:c,rk:a})},t.Hb=function(n){var i=t.Kb(n,yy.W_),e=sm(um.Dp(n),yy.z_);return gr({},i,{uk:t.sk(e)})},t.Vb=function(n){var i=t.Gb(n,yy.j_),e=um.Dp(n),r=sm(e,yy.X_),u=t.ck(r),s=om(e,yy.G_);return gr({},i,{ak:u,fk:s?t.hk(s):s})},t.ck=function(t){return{br:yy.X_,_c:t.Ip()}},t.hk=function(t){return{br:yy.G_,Al:t.Ip()}},t.sk=function(t){return um.Wp(t,yy.z_,!0)},t.Wb=function(n){var i=t.tk(n,yy.A_),e=um.Dp(n),r=sm(e,yy.P_),u=om(e,yy.q_);return gr({},i,{vk:t.dk(r),lk:u?t.wk(u):void 0})},t.zb=function(n,i){var e=t.tk(n,i),r=sm(um.Dp(n),yy.B_);return gr({},e,{gk:t.yk(r)})},t.jb=function(n,i){var e=t.tk(n,i),r=sm(um.Dp(n),yy.F_);return gr({},e,{mk:t._k(r)})},t.$b=function(n,i){var e=t.tk(n,i),r=um.Dp(n),u=sm(r,yy.V_),s=t.pk(u),o=om(r,yy.H_);return gr({},e,{bk:s,kk:o?t.Tk(o):void 0})},t.Xb=function(n){var i=n.Du(),e=t.tk(n,yy.K_),r=sm(um.Dp(n),yy.hp),u=t.Sk(r);return gr({},e,{Ek:t.Ub(i,u.Ik.Rk),Ok:u})},t.qb=function(n){var i=n.Du(),e=t.Kb(n,yy.Y_),r=sm(um.Dp(n),yy.hp),u=t.Sk(r);return gr({},e,{Ek:t.Fb(i,u.Ik.Rk),Ok:u})},t.Sk=function(n){var i=sm(um.Dp(n),yy.vp),e=t.Ck(i);return{br:yy.hp,Ik:e}},t.Ck=function(t){var n=t.Rp(4);return{br:yy.vp,Rk:n}},t.dk=function(t){return um.qp(t,yy.P_,!0)},t.yk=function(t){return um.qp(t,yy.B_,!0)},t._k=function(t){return um.qp(t,yy.F_,!0)},t.pk=function(t){return um.qp(t,yy.V_,!0)},t.Tk=function(t){var n=t.Rp(4);switch(n){case"nclx":return{Nk:_y.ON_SCREEN_COLOURS,Dk:t._p(),Ak:t._p(),Pk:t._p(),xk:0!=(128&t.mp())};case"rICC":return{Nk:_y.RESTRICTED_ICC_PROFILE};case"prof":return{Nk:_y.UNRESTRICED_ICC_PROFILE};default:throw f("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.wk=function(t){var n=t.bp(),i=t.bp();return{br:yy.q_,Lk:n,Bk:i}},t.ob=function(n){var i=cm(um.Dp(n),yy.D_).map(t.Mk);return{br:yy.N_,cb:i}},t.Mk=function(t){var n=am(t.bp()),i=n.version,e=n.flags,r=t.bp(),u=t.bp(),s=t.bp(),o=t.bp(),c=t.bp();return{br:yy.D_,zp:i,jp:e,kb:r,Fk:u,Uk:s,Vk:o,Hk:c}},t.tb=function(n,i){var e=um.Dp(n),r=sm(e,yy.Z_),u=cm(e,yy.Q_),s=t.qk(r),o=u.map(t.Wk);return{br:yy.J_,zk:i,Up:s,cb:o}},t.qk=function(t){var n=am(t.bp()),i=n.version,e=n.flags,r=t.bp();return{br:yy.Z_,zp:i,jp:e,jk:r}},t.Wk=function(n){var i=um.Dp(n),e=sm(i,yy.tp),r=cm(i,yy.np),u=om(i,yy.ip),s=t.$k(e),o=r.map(function(n){return t.Xk(n,s)}),c=u?t.Gk(u):void 0;return{br:yy.Q_,Up:s,Yk:o,Kk:c}},t.$k=function(t){var n=am(t.bp()),i=n.version,e=n.flags,r=t.bp(),u=e.xu(py.BASE_DATA_OFFSET_PRESENT)?t.Tp():void 0,s=e.xu(py.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.bp():void 0,o=e.xu(py.DEFAULT_SAMPLE_DURATION_PRESENT)?t.bp():void 0,c=e.xu(py.DEFAULT_SAMPLE_SIZE_PRESENT)?t.bp():void 0,a=e.xu(py.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.bp():void 0;return{br:yy.tp,zp:i,jp:e,kb:r,Jk:u,Zk:s,Uk:o,Vk:c,Hk:a}},t.Xk=function(n,i){for(var e=am(n.bp()),r=e.version,u=e.flags,s=n.bp(),o=u.xu(by.DATA_OFFSET_PRESENT)?n.kp():void 0,c=u.xu(by.FIRST_SAMPLE_FLAGS_PRESENT)?n.bp():void 0,a=[],f=0;f<s;f++){var h=t.Qk(n,u,r,i);0===f&&void 0!==c&&(h.jp=c),a.push(h)}return{br:yy.np,zp:r,jp:u,tT:s,zk:o,nT:c,iT:a}},t.Qk=function(t,n,i,e){return{Iw:n.xu(by.SAMPLE_DURATION_PRESENT)?t.bp():e.Uk,Iu:n.xu(by.SAMPLE_SIZE_PRESENT)?t.bp():e.Vk,jp:n.xu(by.SAMPLE_FLAGS_PRESENT)?t.bp():e.Hk,eT:n.xu(by.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.bp():t.kp():void 0}},t.eb=function(t){var n=t.Li,i=t.yp,e=am(gs(n,i)),r=e.version,u=e.flags;if(1===r){var s=gs(n,i),o=ms(n,i),c=gs(n,i),a=gs(n,i),f=_s(n,i),h=_s(n,i),v=Ms(xs(n),i.Au,n.byteLength);return i.Cu(v.byteLength),{br:yy.op,zp:r,jp:u,rT:f,yi:h,Bm:s,uT:o,sT:c,Cl:a,oT:v}}var d=_s(n,i),l=_s(n,i),w=gs(n,i),g=gs(n,i),y=gs(n,i),m=gs(n,i),_=Ms(xs(n),i.Au,n.byteLength);return i.Cu(_.byteLength),{br:yy.op,jp:u,zp:r,rT:d,yi:l,Bm:w,cT:g,sT:y,Cl:m,oT:_}},t.nb=function(t){return um.qp(t,yy.rp,!1)},t.Jp=function(n){var i=n.Li,e=n.yp,r=Fs(xs(i)).buffer,u=am(gs(i,e)),s=u.version,o=u.flags,c=t.aT(i,e),a=[];if(s>0)for(var f=gs(i,e),h=0;h<f;h++){var v=vs(i,e,16);a.push(v)}var d=gs(i,e),l=new y(r,e.Au,d);return e.Cu(i.byteLength),{br:yy.sp,zp:s,jp:o,fT:c,hT:a,vT:d,Li:l,dT:r}},t.aT=function(t,n){for(var i="",e=0;e<4;e++){var r=fs(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var s=fs(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=fs(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=fs(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=fs(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.ib=function(t){var n,i,e=t.Li,r=t.yp,u=am(gs(e,r)),s=u.version,o=u.flags,c=gs(e,r),a=gs(e,r);0===s?(n=Jt.fromBits(gs(e,r),0,!0),i=Jt.fromBits(gs(e,r),0,!0)):(n=ms(e,r),i=ms(e,r)),r.Cu(2);for(var f=ls(e,r),h=[],v=0;v<f;v+=1){var d=gs(e,r),l=d>>31&1,w=2147483647&d,g=gs(e,r),y=gs(e,r),m=y>>31&1,_=y>>28&7,p=268435455&y;h.push({lT:l,wT:w,Iw:g,gT:m,yT:_,mT:p})}return{br:yy.cp,zp:s,jp:o,_T:c,Bm:a,pT:n,bT:i,kT:f,TT:h}},t.Gk=function(t){var n,i=t.Li,e=t.yp,r=am(gs(i,e)),u=r.version,s=r.flags;return n=0===u?Jt.fromBits(gs(i,e),0,!0):ms(i,e),{br:yy.ip,zp:u,jp:s,Kk:n}},t}();function hm(t){return t&&"Ei"in t?t.Ei:t}var vm=function(t){function n(n,i,e,r,u,s,o){var c;return(c=t.call(this,n,i,e,r)||this).ST=void 0,c.ET=void 0,c.RT=void 0,c.ST=u,c.ET=s,c.RT=o||void 0,c}return vt(n,t),n.prototype.Sy=function(n){return this===n||!!Wl(this,n)&&(!!t.prototype.Sy.call(this,n)&&(!!ql(this.IT,n.IT)&&(!!ql(this.l_,n.l_)&&(this.OT&&n.OT?!!this.OT.hi(n.OT)&&(this.gy&&n.gy?this.gy.hi(n.gy):this.gy===n.gy):this.OT===n.OT))))},ft(n,[{key:"IT",get:function(){return this.ST}},{key:"l_",get:function(){return this.ET}},{key:"OT",get:function(){return this.RT}},{key:"Hd",get:function(){var t;return this.Vd||(this.Vd=Vl(Yg(t=this),{get styles(){return t.IT},get regions(){return t.l_},get metadata(){return hm(t.OT)},get content(){return hm(t.gy)}})),this.Vd}}]),n}(ty),dm=function(){function t(t,n,i){this.fh=void 0,this.CT=void 0,this.NT=void 0,this.CT=t,this.NT=n,Cn(i)?this.fh=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Ci(u)}return i}(0,0,i):this.fh=i}return ft(t,[{key:"DT",get:function(){return this.fh.vi(!0)}},{key:"ly",get:function(){return this.CT}},{key:"wy",get:function(){return this.NT}}]),t}();var lm="http://www.w3.org/XML/1998/namespace";function wm(t,n){return function(t,n){var i=t.Ri.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Ri)}return e}(t,function(t){return t.ki===n})}function gm(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function ym(t,n){for(var i=t.Pi,e={},r=0;r<i.length;r++)e[gm(i[r].li,n)]=i[r].yi;return e}var mm=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,_m=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,pm="http://www.w3.org/ns/ttml";function bm(t,n,i){return void 0===i&&(i=ky),function(t,n,i){var e,r=[];try{e=st.ai(t)}catch(t){return r}var u=e.Bi;if("tt"!==u.di)return r;var s=u&&u.Ti(pm,"head")[0],o=u&&u.Ti(pm,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return r;for(var a=function(t,n){for(var i={},e=t.Ti(pm,"styling")[0],r=e&&e.Ti(pm,"style")||[],u=0;u<r.length;u++){var s=r[u],o=s.Oi(lm,"id");i[o]=ym(s,n)}return i}(s,c),f=function(t,n){var i=Hl(t),e=Em(n.Ii("tts:extent"));if(!e)return i;for(var r=0,u=v.keys(i);r<u.length;r++){var s=u[r],o=Em(i[s].extent);if(o){var c=Tm(o[0],e[0]),a=Tm(o[1],e[1]);i[s].extent=c+" "+a}var f=Em(i[s].origin);if(f){var h=Tm(f[0],e[0]),d=Tm(f[1],e[1]);i[s].origin=h+" "+d}}return i}(function(t,n){for(var i={},e=t.Ti(pm,"layout")[0],r=e&&e.Ti(pm,"region")||[],u=0;u<r.length;u++){var s=r[u],o=s.Oi(lm,"id");if(o){i[o]=ym(s,n);var c=Om(s,n);for(var a in c)Rt.call(c,a)&&(i[o][a]=c[a])}}return i}(s,c),u),h=s.Ti(pm,"metadata")[0],d=function t(n,i,e,r){var u=i;var s;var o=e;var c=[];var a=[];if(Cn(n)){var f,h;u=null!=(f=Im(n.Ii("begin"),r))?f:u,s=Im(n.Ii("dur"),0),o=null!=(h=Im(n.Ii("end"),r))?h:void 0!==s?u+s:o;for(var v=n.bi,d=0;d<v.length;d++)("body"===n.di||"div"===n.di)&&v[d].ei>1||(c=c.concat(t(v[d],u,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.ly,u.wy)}e.sort(ru);for(var s=e.length,o=0;o<s-1;o++)e[o+1]===e[o]&&(fu(e,o+1),o--,s=e.length);return e}(u,o,c);for(var w=0;w<l.length-1;w++){var g=Rm(l[w],l[w+1],c);if(g.length<=0&&Cm(n)){var y=n.vi(!1);a.push(new dm(l[w],l[w+1],y))}else g.length>0&&function(){var t=n.vi(!1);g.forEach(function(n){return t.Si(n.DT)}),a.push(new dm(l[w],l[w+1],t))}()}return a}(o,i.h_,i.v_,i.d_),l=0;l<d.length;l++){var w=d[l],g=km(f,w);r.push(new vm(w.ly,w.wy,w.DT,!1,a,g,h))}return r}(t,0,i)}function km(t,n){for(var i=function t(n){var i=[];var e;if(Cn(n)){(e=n.Ii("region"))&&i.push(e);for(var r=n.bi,u=0;u<r.length;u++)i=i.concat(t(r[u]))}return i}(n.DT),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function Tm(t,n){var i=Sm(t),e=Sm(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function Sm(t){return $r(t,"px")?"px":$r(t,"em")?"em":$r(t,"c")?"c":$r(t,"%")?"%":void 0}function Em(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Rm(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].ly,s=i[r].wy;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&e.push(i[r])}return e}function Im(t,n){if(t){if(mm.test(t)){var i=mm.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*e+60*r+u+(s?Number(s)*d.pow(.1,s.length):0)+n}if(_m.test(t)){var o=_m.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c+n}}}function Om(t,n){for(var i={},e=t.pi("style")||[],r=0;r<e.length;r++){var u=ym(e[r],n);for(var s in u)Rt.call(u,s)&&(i[s]=u[s])}return i}function Cm(t){if(Cn(t)){var n=t.di.toUpperCase(),i=Boolean(t.Ii("smpte:backgroundImage"));return"BR"===n||i}return t.ei===On.si}function Nm(t){var n=function(t){try{return st.ai(t).Bi}catch(t){}}(t);return"tt"===(null==n?void 0:n.di)}var Dm,Am=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.wl=function(n){return t.prototype.wl.call(this,n)},i.gl=function(n){var i=t.prototype.gl.call(this,n);return i&&(n.Fl=ew.Hl),i},i.qd=function(){return aw(this)},n}(xl);!function(t){t.dp="subtitles",t.AT="captions",t.PT="descriptions",t.xT="chapters",t.wp="metadata",t.LT="thumbnails"}(Dm||(Dm={}));var Pm=[Dm.dp,Dm.AT,Dm.PT,Dm.xT,Dm.wp,Dm.LT];function xm(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&hu(Pm,t)}(n)?n:n?Dm.wp:Dm.dp}var Lm,Bm=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=e,s.status=r,s}return vt(n,t),n}(Ac);function Mm(t,n){return t===Dm.LT||t===Dm.wp&&n===Dm.LT}function Fm(t,n,i,e){for(var r=0,u=t.jl.ml;r<u.length;r++){var s=u[r];if(s.ly>i)break;n<=s.wy&&e.push(s)}}function Um(t,n){return eu(t.Nl,n.Nl)}function Vm(t,i){var e=i,r=0;if(t instanceof jv&&t.name===Hv.Cv)e=t.Gh.Kh;else if(function(t){return t instanceof Xv}(t)){var u=t.xv;if(e=u.Yh,0===(r=u.Wh))return new Bm(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Bm(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Hm(t,i,e,r){var u=function(t){switch(t){case qg.WEBVTT:return"WebVTT";case qg.SRT:return"SRT";case qg.TTML:return"TTML";default:return""}}(t);return new Bm(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,e,r)}function qm(t){return qy(Ay(t))?qg.WEBVTT:Nm(t)?qg.TTML:qg.SRT}function Wm(t,n){for(var i=[],e=0,r=t.jl.ml;e<r.length;e++){var u=r[e];if(u.wy<=n)i.push(u);else if(u.ly>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.BT(o)}}!function(t){t.MT="vtt",t.j_="wvtt",t.FT="stpp"}(Lm||(Lm={}));var zm=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).cb=new Am,n.UT=function(t){var i=t.Wd;n.VT(i)},n}vt(n,t);var i=n.prototype;return i.wl=function(t){t.nu(Il.tl,this.UT),this.cb.wl(t),this.VT(t)},i.gl=function(t){t.uu(Il.tl,this.UT),t.Fl=ew.Hl,this.cb.gl(t)},i.HT=function(t){},i.qT=function(t){},i.VT=function(t){t.Fl!==ew.Hl?this.HT(t):this.qT(t)},i.WT=function(){for(var t=0,n=this.cb.ml;t<n.length;t++){var i=n[t];i.uu(Il.tl,this.UT),i.et()}},i.zT=function(t){if(t>0)for(var n=0,i=this.cb.ml;n<i.length;n++){Wm(i[n],t)}},i.Sc=function(){return this.WT(),this.cb.Sc(),j.resolve()},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ru(),t.next=3,wr.awrap(this.Sc());case 3:this.cb.et();case 4:case"end":return t.stop()}},null,this,null,j)},n}(Nu),jm=function(t){function n(n){var i;return(i=t.call(this,rw.Bl)||this).errorObject=n,i}return vt(n,t),n.prototype.qd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(El),$m=function(t){function n(n,i){var e;return(e=t.call(this)||this).jT=void 0,e.$T=void 0,e.XT=new lu,e.jT=n,e.$T=i,e}vt(n,t);var i=n.prototype;return i.GT=function(t){if(t.src){var n=t.kind||Dm.dp,i=this.jT.YT(n,t.id,t.label,t.srclang,t.default);return i.Xl=Vv(t.src),this.wl(i),i}},i.KT=function(t,n){var i,e,r,u,s,o,c,a,f,h;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.zl=Hg.LOADING,i=new Bv({Kh:t.Xl,jh:ia.si,wv:Dv.GET,Yr:n}),v.prev=2,v.next=5,wr.awrap(this.$T.Gh(i));case 5:return u=v.sent,r=u.Wh,v.next=9,wr.awrap(u.Ih());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),mu(v.t0),t.zl=Hg.ERROR,t.tu(new jm(Vm(v.t0,t.Xl))),v.abrupt("return");case 18:for(v.prev=18,s=qm(e),t.br=s,o=[],s===qg.WEBVTT||s===qg.SRT?(c=Dy(e),o=c.jl):s===qg.TTML&&(o=bm(e)),a=0,f=o;a<f.length;a++)h=f[a],t.JT(h);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),mu(v.t1),t.zl=Hg.ERROR,t.tu(new jm(Hm(t.br,t.Xl,r,v.t1))),v.abrupt("return");case 32:t.zl=Hg.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],j)},i.HT=function(t){hu(this.cb.ml,t)&&t.zl===Hg.NONE&&this.KT(t,this.XT.Yr).catch(_u)},i.ac=function(){},i.Sc=function(){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.XT.$r(),this.XT=new lu,n=0,i=this.cb.ml;n<i.length;n++)e=i[n],this.jT.ZT(e);return r.next=5,wr.awrap(t.prototype.Sc.call(this));case 5:case"end":return r.stop()}},null,this,null,j)},n}(zm);function Xm(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Dl===n&&e.QT)return e}}function Gm(t,n){Ym(Xm(t.ml,n))}function Ym(t){void 0!==t&&(t.Fl=ew.Ul)}function Km(t,n){Ym(Xm(t.ml,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Dl===n)return e}}(t.ml,n))}function Jm(t){for(var n=0;n<Pm.length;n++){var i=Pm[n];i===Dm.xT?Km(t,i):Gm(t,i)}}var Zm,Qm=function(t){function n(){return t.call(this,na.Ya)||this}return vt(n,t),n}(Au);!function(t){t[t.tS=0]="tS",t[t.nS=1]="nS"}(Zm||(Zm={}));var t_=t,n_=t_.MediaSource,i_=t_.WebKitMediaSource,e_=t_.TextTrack,r_=e&&e.createElement("video");e&&e.documentElement.style;var u_=Et.vn&&Et.Wn&&Et.zn<=26;Et.Rn;var s_=!(!n_&&!i_),o_=!!e_;e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||Et.kn,Et.Un&&Et.Vn,r_&&r_.canPlayType&&(""!==r_.canPlayType("application/vnd.apple.mpegURL")||Et.wn&&!Et.Un&&Et.gn);r_&&r_.canPlayType&&r_.canPlayType("video/mp4");var c_=s_&&!Et.Hn&&!Et.Bn&&!Et.Ln&&((n_||i_).isTypeSupported?(n_||i_).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):r_&&r_.canPlayType&&""!==r_.canPlayType('audio/mp4; codecs="mp4a.40.34"'));s_&&!Et.Hn&&(c_||((n_||i_).isTypeSupported?(n_||i_).isTypeSupported("audio/mpeg"):r_&&r_.canPlayType&&r_.canPlayType("audio/mpeg"))),s_&&(!Et.Fn||!Et.vn)&&(n_||i_).isTypeSupported&&(n_||i_).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),Et.Hn||Et.Bn||Et.Ln,Et.Mn,Et.Hn,Et.Bn&&Et.dn&&Et.ln;try{i&&i.top!==i.self}catch(t){!0}var a_=function(t){function n(n){var i;return(i=t.call(this,Fw.Sw)||this).currentTime=n,i}return vt(n,t),n}(Au),f_=function(t){function n(n){var i;return(i=t.call(this,Fw.Ew)||this).currentTime=n,i}return vt(n,t),n}(Au);Fw.il,Fw.Ew,na.ja,na.za;var h_=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).iS=kw.ww,e.eS=!0,e.rS=!1,e.uS=!1,e.sS=function(t){var n=e.oS.zl;n!==e.iS&&e.tu(new ng(t.currentTime,n)),n===kw.ww&&(e.rS=!1,e.uS=!1),e.cS(n),e.aS(n),e.fS(n),e.maybeDispatchCanPlayThroughEvent(n),e.hS(n),e.vS(n),e.iS=n},e.dS=function(){e.vS(e.iS),e.hS(e.iS),e.eS=e.oS.Dw},e.lS=function(){e.eS=e.oS.Dw},e.wS=function(t){e.tu(new f_(t.currentTime))},e.oS=n,e.gS=i,e.oS.nu(Fw.il,e.sS),e.oS.nu(na.ja,e.dS),e.oS.nu(na.za,e.lS),e.gS&&e.oS.nu(Fw.Ew,e.wS),e}vt(n,t);var i=n.prototype;return i.cS=function(t){!this.uS&&t>=kw.gw&&(this.uS=!0,this.tu(new zw(this.oS.Rw,t)))},i.aS=function(t){!this.rS&&t>=kw.yw&&(this.rS=!0,this.tu(new Yw(this.oS.Rw,t)))},i.hS=function(t){this.gS||(t>=kw.mw&&this.iS<kw.mw&&!this.oS.Dw||this.yS&&t>=kw.mw)&&this.tu(new f_(this.oS.Rw))},i.vS=function(t){!this.mS(t)||this.oS.Ow||this.oS.wu||this.tu(new a_(this.oS.Rw))},i.fS=function(t){this.iS<=kw.yw&&t>=kw.mw&&this.tu(new Qw(this.oS.Rw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===kw._w&&this.tu(new tg(this.oS.Rw,t))},i.mS=function(t){var n=!this.oS.Dw&&t<=kw.yw,i=!this.eS&&this.iS<=kw.yw;return n&&!i},i.Sc=function(){this.iS=kw.ww,this.eS=!0,this.rS=!1,this.uS=!1},i.et=function(){this.ru(),this.gS&&this.oS.uu(Fw.Ew,this.wS),this.oS.uu(na.ja,this.dS),this.oS.uu(na.za,this.lS),this.oS.uu(Fw.il,this.sS)},ft(n,[{key:"yS",get:function(){return!this.oS.Dw&&this.eS}}]),n}(Nu),v_="titanium",d_="conax",l_="ezdrm",w_="irdeto",g_="vudrm",y_="verimatrix",m_="keyos",__="drmtoday",p_="expressplay",b_="azure",k_="xstream",T_="vimond",S_="axinom",E_="uplynk",R_="comcast",I_="custom",O_=function(){function t(t,n,i,e,r){this.mc=void 0,this._S=void 0,this.pS=void 0,this.bS=void 0,this.$T=void 0,this.kS=void 0,this.TS=void 0,this.mc=t,this._S=n,this.pS=i,this.$T=e,this.TS=r,this.bS=this.SS(n)}var i=t.prototype;return i.ES=function(){return this.kS},i.RS=function(t){this.kS=t},i.IS=function(){return this.bS.licenseAcquisitionURL||this.ES()},i.OS=function(t){return j.resolve()},i.CS=function(t,n){return j.resolve(void 0)},i.NS=function(t,i,e,r){var u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(u=this.DS(t,i,e,r)).Kh){o.next=3;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,wr.awrap(this.Ld.Gh(u));case 6:return s=o.sent,o.next=9,wr.awrap(s.Oh(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),mu(o.t0),o.next=17,wr.awrap(this.AS(o.t0,u.Kh,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],j)},i.DS=function(t,n,i,e){var r=this.PS().df(),u=this._v,s={Kh:this.xS(),jh:n,zh:r,Ah:t,_v:u,wv:Dv.POST,gv:0,Yr:e,br:Av.ev,yv:i};return new Bv(s)},i.LS=function(t,n){return j.resolve(t)},i.BS=function(t,n,i,e){return j.resolve(t)},i.PS=function(){return new ea(this.bS.headers||{})},i.AS=function(t,i,e){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,j)},i.xS=function(t,n){var i=n,e=this.bS.queryParameters;if(!i){var r=this.IS();if(!r)return"";i=r}if(e||t){var u=st.Xe(i);t&&Uv(u,t),e&&Uv(u,e),i=u.href}return i},i.MS=function(t,n){return C_(t)},i.FS=function(t){return new y(t)},i.US=function(t,n,i){var e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,wr.awrap(this.MS(t,i));case 2:return e=s.sent,s.next=5,wr.awrap(this.NS(e,this.TS,n,i));case 5:return r=s.sent,u=this.FS(r),s.abrupt("return",u);case 8:case"end":return s.stop()}},null,this,null,j)},i.et=function(){},ft(t,[{key:"Ld",get:function(){return this.$T}},{key:"VS",get:function(){return!1}},{key:"HS",get:function(){var t=this.bS.certificate;if(t)return xt(t)?$u(t):Bs(t)}},{key:"qS",get:function(){return!1}},{key:"_v",get:function(){return Boolean(this.bS.useCredentials)}}]),t}();function C_(t){return j.resolve(Fs(t).buffer)}var N_,D_,A_=function(t){function n(n,i,e,r){return t.call(this,Vr,n,i,e,r)||this}vt(n,t);var i=n.prototype;return i.SS=function(t){return t.widevine||{}},i.WS=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.HS){i.next=2;break}return i.abrupt("return",this.HS);case 2:return i.abrupt("return",this.zS(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,j)},i.zS=function(n,i){return t.prototype.US.call(this,n,Pv.ov,i)},n}(O_);function P_(t,n){if(null==t)return{};var i,e,r={},u=v.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function x_(t){return Ot(t.token&&t.deviceId)}function L_(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Ot(i.PreAuthorization)}function B_(t){var n=t;return x_(n)&&""!==n.token&&""!==n.deviceId&&!L_(n)}(D_=N_||(N_={})).jS=!1,D_.$S=!1,D_.XS=!1,D_.GS=!1,D_.LOG_ADS_DETAILS=!1,D_.LOG_CHROMECAST_DETAILS=!1,D_.LOG_CUSTOM_DRM=!1,D_.LOG_BUFFERING_VIDEO_MAIN=!1,D_.LOG_BUFFERING_VIDEO_SELECTION=!1,D_.LOG_BUFFERING_AUDIO_MAIN=!1,D_.LOG_BUFFERING_AUDIO_SELECTION=!1,D_.YS=!1,D_.KS=!1,D_.LOG_LCEVC_DETAILS=!1;var M_,F_=function(){function t(t,n,i){this.JS=t,this.rc=n,this.ZS=i}return t.prototype.QS=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.ZS.build(t))},ft(t,[{key:"tE",get:function(){return this.JS}},{key:"mc",get:function(){return this.rc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(M_||(M_={}));var U_=function(){function t(){this.nE=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.iE(t,i,e)){case M_.FAILED:throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case M_.OVERRIDDEN:var r=rp(i);st.Ae("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case M_.SUCCEEDED:rp(i);0}},i.iE=function(t,n,i){var e=rp(n);if(!e)return M_.FAILED;for(var r=M_.SUCCEEDED,u=0,s=this.nE.slice();u<s.length;u++){var o=s[u];o.tE===t&&o.mc===e&&(r=M_.OVERRIDDEN,au(this.nE,o))}return this.nE.push(new F_(t,e,i)),r},i.eE=function(t,n){return void 0!==this.rE(t,n)},i.uE=function(t,n,i){var e=this.rE(t,n);if(!e)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.QS(i)},i.rE=function(t,n){for(var i=0,e=this.nE;i<e.length;i++){var r=e[i];if(r.tE===t&&(!n||r.mc===n))return r}},t}();U_.sE=new U_;var V_=["customdata"],H_={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function q_(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||e||r||u||s)}function W_(t){return t&&void 0!==t.licenseAcquisitionURL}var z_,j_=W_,$_=W_;function X_(t){if(!t)return!0;if(J_(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return q_(n)&&q_(i)&&q_(e)&&q_(r)&&q_(u)}function G_(t){var n=B_(t),i=function(t){var n,i=t;return L_(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!x_(i)}(t);return(!n||!i)&&(n||i)}function Y_(t){return t.integration===w_}function K_(t){var n=t;if(!n)return!1;if(X_(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(J_(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!j_(e))return!1;if(r&&!$_(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(U_.sE.eE(n.integration))return!0;switch(n.integration){case v_:if(!function(t){return t.integration===v_&&(Z_(t)||Q_(t))}(t))return!1;break;case g_:if(!tp(t))return!1;break;case y_:if(!function(t){return t.integration===y_}(t))return!1;break;case w_:if(!Y_(t))return!1;break;case d_:if(!G_(t))return!1;break;case l_:if(!function(t){return t.integration===l_}(t))return!1;break;case m_:if(!J_(t))return!1;break;case __:if(!function(t){var n=t;return n.integration===__&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case p_:if(!function(t){return t.integration===p_}(t))return!1;break;case k_:if(!np(t))return!1;break;case T_:if(!function(t){return t.integration===T_}(t))return!1;break;case S_:if(!ip(t))return!1;break;case b_:if(!function(t){var n=t;return n.integration===b_&&void 0!==n.token}(t))return!1;break;case E_:if(!function(t){return t.integration===E_}(t))return!1;break;case R_:if(!function(t){var n=t;return n&&Ot(n.releasePid)&&Ot(n.accountId)&&Ot(n.token)}(t))return!1;break;case I_:return!0;default:return!1}}return!0}function J_(t){return t.integration===m_}function Z_(t){return void 0!==t.authToken}function Q_(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function tp(t){var n=t;return n.integration===g_&&void 0!==n.token}function np(t){var n=t;return n&&n.integration===k_&&xt(n.ticketAcquisitionURL)&&xt(n.streamId)}function ip(t){var n=t;return n.integration===S_&&void 0!==n.token}function ep(t,n){var i,e,r,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:H_[t],o=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=o?{customData:o}:{},a=gr({},null!=(r=null==u?void 0:u.headers)?r:{},c),f=null!=u?u:{};return f.customdata,gr({},P_(f,V_),{licenseAcquisitionURL:s,headers:a})}function rp(t){switch(t.toLowerCase()){case"widevine":case Pr:return Pr;case"playready":case Nr:return Nr;case"fairplay":case Mr:return Mr}}function up(t,i){switch(t){case Rr:return function(t){for(var n={},i=fm.Kp(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.fT]=r.dT}return n}(i);case Ir:case Or:return function(t){var n;return(n={})[Br]=t,n}(i);default:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.yr="Widevine",t.gr="PlayreadyV2",t.oE="PlayreadyV2",t.cE="PlayreadyV3",t._r="Fairplay"}(z_||(z_={}));var sp={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function op(t,n){var i,e,r,u,s=sp[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=st.Ye)?void 0:i.Ke,OSVersion:null==(e=st.Ye)?void 0:e.ir,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(r=st.Ye)?void 0:r.er,DeviceModel:null==(u=st.Ye)?void 0:u.rr}}}function cp(t,i){if(!t.accountName)throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function ap(t,n,i){var e;if(Z_(t))e={AuthToken:t.authToken,Payload:n};else{if(!Q_(t))throw cp(t,i);e={LatensRegistration:op(t,i),Payload:n}}return ns(JSON.stringify(e))}function fp(t,i,e){var r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=t.xv){c.next=3;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return u=r,c.prev=4,c.next=7,wr.awrap(u.Rh(e));case 7:s=c.sent,o=hp(s),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),o="";case 14:throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,u.Gh.Kh,u.Wh,u.$h,o);case 15:case"end":return c.stop()}},null,null,[[4,11]],j)}function hp(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var vp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,ia.hf)||this).aE=void 0,r}vt(i,t),i.fE=function(){return st.Ke.we?"required":"optional"};var e=i.prototype;return e.AS=function(t,n,i){return fp(t,n,i)},e.OS=function(t){return this.aE?pu(this.aE.Bu,t):(this.aE=new Hs,j.resolve())},e.MS=function(t,i){var e,r;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this._S){i.next=3;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Gu(t),i.abrupt("return",ap(e,r,z_.yr));case 5:case"end":return i.stop()}},null,this,null,j)},e.FS=function(t){if(!t.license)throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return $u(t.license)},e.hE=function(t){return j.resolve(new y(t))},e.WS=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.vE(),r.next=3,wr.awrap(this.MS(t,n));case 3:return i=r.sent,r.next=6,wr.awrap(this.NS(i,ia.ff,Pv.cv,n));case 6:return e=r.sent,r.next=9,wr.awrap(this.hE(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,j)},e.zS=function(n,i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,wr.awrap(t.prototype.zS.call(this,n,i));case 2:return e=r.sent,this.vE(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,j)},e.vE=function(){this.aE||(this.aE=new Hs),this.aE.Uu()},e.et=function(){this.aE&&this.aE.$r(),t.prototype.et.call(this)},i}(A_),dp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,ia.ff)||this).RS("https://widevine-proxy.drm.technology/proxy"),r}return vt(i,t),i.prototype.MS=function(t,i){var e,r,u,s;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(C_(t));case 2:if(e=i.sent,r=this.pS,u=Us(new y(e)),s=this.dE){i.next=8;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:s,drm_info:u,kid:r}));case 9:case"end":return i.stop()}},null,this,null,j)},ft(i,[{key:"dE",get:function(){if(tp(this._S))return this._S.token}}]),i}(A_);function lp(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=gr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),gr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var wp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,ia.ff)||this).RS("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return vt(n,t),n.prototype.xS=function(n,i){var e=n;return Y_(this._S)&&(e=lp(this._S,e)),t.prototype.xS.call(this,e,i)},n}(A_),gp="Conax-Custom-Data";function yp(t,n,i){var e=t&&G_(t)&&t;if(e&&!i.has(gp)){var r=B_(e)?e.token:void 0,u=B_(e)?e.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(gp,s)}return i}var mp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,ia.ff)||this).RS("https://connect.conax.com:8094/license"),r}return vt(n,t),n.prototype.PS=function(){var n=t.prototype.PS.call(this);return yp(this._S,"Widevine",n)},n}(A_);function _p(t){var n=Es(new y(t));return $u(JSON.parse(n).license)}function pp(t){return"string"==typeof t.token?t.token:ns(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function bp(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var kp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,ia.ff)||this).RS("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}vt(n,t);var i=n.prototype;return i.FS=function(t){return _p(t)},i.PS=function(){return bp(t.prototype.PS.call(this),this.dE,this._S)},ft(n,[{key:"dE",get:function(){return pp(this._S)}}]),n}(A_),Tp=function(t){function n(n,i,e){return t.call(this,n,i,e,ia.ff)||this}return vt(n,t),n.prototype.PS=function(){var n=t.prototype.PS.call(this),i=this._S.token;return n.set("Authorization","Bearer "+i),n},n}(A_);function Sp(t,i,e,r){var u,s,o,c,a,f,h;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(np(t)){v.next=2;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new ea).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(s=t.sessionId)&&u.append("XSSESSION",s),o=t.streamId,c=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:c,streamId:o},f={Kh:t.ticketAcquisitionURL,jh:ia.hf,zh:u,wv:Dv.POST,Ah:JSON.stringify(a),Yr:r},v.next=13,wr.awrap(e.Gh(f));case 13:return h=v.sent,v.next=16,wr.awrap(h.Rh());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,j)}var Ep=function(t){function n(n,i,e){return t.call(this,n,i,e,ia.hf)||this}vt(n,t);var i=n.prototype;return i.PS=function(){var n=t.prototype.PS.call(this);return n.set("Content-Type","application/json"),n},i.MS=function(n,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=ts(n.buffer),r=this._S,o.next=4,wr.awrap(Sp(r,"widevine_modular",this.Ld,i));case 4:return u=o.sent,this.RS(u.licenseServerUrl),s=Rs(JSON.stringify({payload:e,ticket:u.ticket})),o.abrupt("return",t.prototype.MS.call(this,s,i));case 8:case"end":return o.stop()}},null,this,null,j)},i.FS=function(t){return $u(t.license)},n}(A_),Rp=function(t){function i(n,i,e){return t.call(this,n,i,e,ia.ff)||this}return vt(i,t),i.prototype.PS=function(){if(!ip(this._S))throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.PS.call(this);return i.set("X-AxDRM-Message",this._S.token),i},i}(A_);function Ip(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var Op=function(t){function n(n,i,e){var r;return(r=t.call(this,Ur,n,i,e,ia.ff)||this).lE=void 0,r}vt(n,t);var i=n.prototype;return i.SS=function(t){return t.playready||{}},i.PS=function(){var n=new ea(this.lE);return n.wf(t.prototype.PS.call(this)),n},i.wE=function(t){return t.length>=1&&t[0].bi.length>0},i.CS=function(n){var i=this._S.playready.customData;if(i){var e=Ip(i),r=Ip('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Gu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return j.resolve({playready:{Wc:r}})}return t.prototype.CS.call(this,n)},i.MS=function(t,n){var i;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(C_(t));case 2:return i=n.sent,n.abrupt("return",this.gE(i));case 4:case"end":return n.stop()}},null,this,null,j)},i.gE=function(t){var n,i,e,r,u,s,o,c,a,f,h,v,d,l,w,g;return wr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,s=new DataView(t),m=s,_=new Vs,void 0===(p=!0)&&(p=!1),o=Ts(m,_,p,!0),y.prev=3,c=st.ai(o),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(a=null==(n=c.pi("PlayReadyKeyMessage")[0])?void 0:n.pi("LicenseAcquisition")[0],f=null!=(i=null==a?void 0:a.pi("Challenge"))?i:[],this.wE(f)&&(u=Qu(f[0].xi)),h=new ea,v=null!=(e=null==a?void 0:null==(r=a.pi("HttpHeaders")[0])?void 0:r.pi("HttpHeader"))?e:[],d=0;d<v.length;d++)l=v[d],w=l.pi("name")[0].xi,g=l.pi("value")[0].xi,h.append(w,g);return this.lE=h,y.abrupt("return",u);case 18:case"end":return y.stop()}var m,_,p},null,this,[[3,7]],j)},i.WS=function(t,n){return j.resolve(t)},i.zS=function(n,i){return t.prototype.US.call(this,n,Pv.av,i)},n}(O_),Cp=function(){function t(n){this.xo=void 0,this.yE=n,this.xo=t.mE(n)}return t.mE=function(t){return"3"===t.version?z_.cE:z_.oE},t.prototype._E=function(){var t={};if(this.xo===z_.cE){var n={LatensRegistration:op(this.yE,z_.cE)};t["X-TITANIUM-DRM-CDATA"]=ns(JSON.stringify(n))}return t},ft(t,[{key:"pE",get:function(){return this.xo}},{key:"Cc",get:function(){return this.xo===z_.oE}}]),t}();var Np=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).bE=void 0,r.bE=new Cp(r._S),r}vt(i,t);var e=i.prototype;return e.CS=function(t){var i=this._S;if(!this._S)throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Q_(i)){var e={};return e.playready={Wc:Dp(i,this.bE.pE)},j.resolve(e)}return j.reject(cp(i,z_.gr))},e.PS=function(){var n=new ea(this.bE._E());return n.wf(t.prototype.PS.call(this)),n},e.AS=function(t,i,e){var r,u,s,o,c,a,f,h;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(r=t.xv){v.next=3;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);case 3:return v.prev=3,v.next=6,wr.awrap(r.Ch(e));case 6:o=v.sent,c=Es(new y(o)),(a=st.ai(c))&&(f=wm(a,"CustomData")).length>0&&(u=JSON.parse(f[0].xi),s=null==(h=u.DrmErr)?void 0:h.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,r.Wh,r.$h,s);case 15:case"end":return v.stop()}},null,null,[[3,12]],j)},e.wE=function(t){if(1!==t.length)throw new Eg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(Op);function Dp(t,n){var i=op(t,n),e=i.DeviceInfo.FormatVersion,r=ns('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Os(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Os('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Gu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Ap,Pp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).RS("https://playready-license.drm.technology/rightsmanager.asmx"),r}vt(i,t);var e=i.prototype;return e.wE=function(t){if(1!==t.length)throw new Eg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.xS=function(n,i){var e=gr({},n||{},{token:this.dE});return t.prototype.xS.call(this,e,i)},ft(i,[{key:"dE",get:function(){if(tp(this._S))return this._S.token}}]),i}(Op),xp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).RS("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.xS=function(n,i){var e=n;return Y_(this._S)&&(e=lp(this._S,e)),t.prototype.xS.call(this,e,i)},n}(Op),Lp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).RS("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.PS=function(){var n=t.prototype.PS.call(this);return yp(this._S,"PlayReady",n)},n}(Op),Bp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).RS("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}vt(n,t);var i=n.prototype;return i.FS=function(n){return(jr(Es(new y(n)),"<?xml")?Ap.kE:Ap.Rh)===Ap.Rh?_p(n):t.prototype.FS.call(this,new y(n))},i.PS=function(){return bp(t.prototype.PS.call(this),this.dE,this._S)},ft(n,[{key:"dE",get:function(){return pp(this._S)}}]),n}(Op);!function(t){t[t.kE=0]="kE",t[t.Rh=1]="Rh"}(Ap||(Ap={}));var Mp,Fp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).TE=void 0,r}vt(n,t);var i=n.prototype;return i.PS=function(){var n=t.prototype.PS.call(this);return this.TE&&n.set("Ticket",this.TE),n.set("Content-Type","text/xml"),n},i.MS=function(n,i){var e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e=this._S,u.next=3,wr.awrap(Sp(e,"playready",this.Ld,i));case 3:return r=u.sent,this.RS(r.licenseServerUrl),this.TE=r.ticket,u.abrupt("return",t.prototype.MS.call(this,n,i));case 7:case"end":return u.stop()}},null,this,null,j)},n}(Op),Up=function(t){function i(){return t.apply(this,arguments)||this}return vt(i,t),i.prototype.PS=function(){if(!ip(this._S))throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.PS.call(this);return i.set("X-AxDRM-Message",this._S.token),i},i}(Op);!function(t){t.hf="application/json",t.SE="application/x-www-form-urlencoded",t.EE="application/octet-stream",t.si="text/plain;charset=UTF-8"}(Mp||(Mp={}));var Vp=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n.mc,i,e,r,u)||this).RE="",s.IE=void 0,s.OE=void 0,s.OE=n.CE,s}vt(n,t);var i=n.prototype;return i.NE=function(){return this.bS.certificateURL||this.IE},i.DE=function(t){this.IE=t},i.MS=function(t){return j.resolve(this.AE(t,this.RE))},i.AE=function(t,n){return"spc="+encodeURIComponent(Gu(t))+"&assetId="+encodeURIComponent(n)},i.SS=function(t){return t.fairplay||{}},i.PE=function(t){var n=t.indexOf("?");if(n>=0)return j.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return j.resolve(i)}var e=t.split("/");return j.resolve(e[e.length-1])},i.CS=function(t){var n,i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=null!=(n=this.OE)?n:Ns(new y(t)),u.next=3,wr.awrap(this.PE(i));case 3:return e=u.sent,this.RE=e,(r={}).fairplay={Kc:e},u.abrupt("return",r);case 8:case"end":return u.stop()}},null,this,null,j)},i.PS=function(){var n=t.prototype.PS.call(this);return n.set("Content-Type",this.xE),n},i.WS=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HS){t.next=2;break}return t.abrupt("return",this.HS);case 2:return t.next=4,wr.awrap(this.LE(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,j)},i.zS=function(n,i){return t.prototype.US.call(this,n,Pv.uv,i)},i.BE=function(t){var n=this.NE(),i=this.PS(),e={Kh:n,jh:ia.ff,zh:i,wv:Dv.GET,_v:!1,Ah:null,gv:0,Yr:t,br:Av.ev,yv:Pv.sv};return new Bv(e)},i.LE=function(t){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.BE(t),r.next=3,wr.awrap(this.Ld.Gh(n));case 3:return i=r.sent,r.next=6,wr.awrap(i.Ch());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,j)},i.FS=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=$u(i)}else n=new y(t);return n},i.xS=function(n,i){var e=t.prototype.xS.call(this,n,i);return jr(e,"skd:")&&(e=e.substr("skd:".length)),e},ft(n,[{key:"qS",get:function(){return!0}},{key:"xE",get:function(){return Mp.SE}}]),n}(O_),Hp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,ia.ff)||this}vt(n,t);var i=n.prototype;return i.PE=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?j.resolve(""):(i=n.split(";",2)).length>1?j.resolve(i[1]):j.resolve(t.prototype.PE.call(this,n))},i.MS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.FS=function(t){return new y(t)},i.xS=function(n,i){var e=n||{};return e.p1=Rn(),t.prototype.xS.call(this,e,i)},ft(n,[{key:"xE",get:function(){return Mp.EE}}]),n}(Vp),qp=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ia.ff)||this).RS("https://fairplay-license.drm.technology/license"),u.DE("https://fairplay-license.drm.technology/certificate"),u}vt(i,t);var e=i.prototype;return e.AE=function(t,n){var i={token:this.dE,contentId:n,payload:Gu(t)};return JSON.stringify(i)},e.FS=function(t){return new y(t)},e.PS=function(){var n=t.prototype.PS.call(this);return n.set("x-vudrm-token",this.dE),n},ft(i,[{key:"xE",get:function(){return Mp.hf}},{key:"dE",get:function(){if(!tp(this._S))throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this._S.token}}]),i}(Vp),Wp="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",zp="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",jp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ia.ff)||this}return vt(i,t),i.prototype.FS=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Wp)}if(!i)throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,zp);return i}(Es(new DataView(i)));return t.prototype.FS.call(this,e)},i}(Vp);var $p=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ia.hf)||this}vt(i,t);var e=i.prototype;return e.MS=function(t){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this._S){r.next=3;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Gu(t),r.abrupt("return",ap(i,e,z_._r));case 5:case"end":return r.stop()}},null,this,null,j)},e.FS=function(t){try{var i;if(xt(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Qu(i.license);return new y(r)}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.AS=function(t,n,i){return fp(t,n,i)},ft(i,[{key:"xE",get:function(){return Mp.hf}}]),i}(Vp),Xp=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ia.ff)||this).RS("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.DE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}vt(n,t);var i=n.prototype;return i.NE=function(){var n=t.prototype.NE.call(this);if(!n)return n;var i=st.Xe(n),e=this._S;return Y_(e)&&Uv(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.PE=function(n){return Y_(this._S)?j.resolve(this._S.contentId):t.prototype.PE.call(this,n)},i.MS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.FS=function(t){return new y(t)},i.xS=function(n,i){var e=n;return Y_(this._S)&&(e=function(t,n){return gr({},lp(t,n),{KeyId:t.keyId})}(this._S,e)),t.prototype.xS.call(this,e,i)},ft(n,[{key:"xE",get:function(){return Mp.EE}}]),n}(Vp),Gp=function(t){function i(i,e,r,u){var s;if(s=t.call(this,i,e,r,u,ia.si)||this,!G_(e))throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.RS("https://connect.conax.com:8097/license"),s}vt(i,t);var e=i.prototype;return e.PS=function(){var n=t.prototype.PS.call(this);return yp(this._S,"FairPlay",n)},e.LE=function(t){var n,i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.NE(),i={Kh:n,jh:ia.ff,zh:{},wv:Dv.GET,_v:!1,Ah:null,gv:0,Yr:t,br:Av.ev,yv:Pv.sv},u.next=4,wr.awrap(this.Ld.Gh(i));case 4:return e=u.sent,u.next=7,wr.awrap(e.Ch());case 7:return r=u.sent,u.abrupt("return",new y(r));case 9:case"end":return u.stop()}},null,this,null,j)},e.MS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},e.PE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),j.resolve(Es($u(n)))):j.resolve("unknown")},e.FS=function(t){try{var n=JSON.parse(t);return new y(Qu(n.CkcMessage))}catch(t){throw new f("CFLRW-66")}},i}(Vp),Yp=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ia.si)||this).RS(H_[Er._r]),u}vt(i,t);var e=i.prototype;return e.PE=function(t){return jr(t,"skd://")?j.resolve(t.substring("skd://".length,40)):j.reject(new Eg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.AE=function(t,n){return"spc="+Gu(t)+"&assetId="+n},i}(Vp),Kp=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ia.si)||this).RS("https://lic.drmtoday.com/license-server-fairplay/"),u}vt(n,t);var i=n.prototype;return i.AE=function(t,n){var i="spc="+encodeURIComponent(Gu(t))+"&"+encodeURI(n);return"persistent"===this.bS.licenseType?i+"&offline=true":i},i.PS=function(){return bp(t.prototype.PS.call(this),this.dE,this._S)},ft(n,[{key:"dE",get:function(){return pp(this._S)}}]),n}(Vp),Jp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,ia.ff)||this}vt(n,t);var i=n.prototype;return i.PE=function(t){var n=t;return jr(n,"skd:")&&(n="http:"+n.substring(4)),jr(n,"http:")||jr(n,"https:")?j.resolve(st.Xe(n).hostname):j.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.MS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.FS=function(t){return new y(t)},ft(n,[{key:"xE",get:function(){return Mp.EE}}]),n}(Vp),Zp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,ia.si)||this}return vt(n,t),n.prototype.PS=function(){var n=t.prototype.PS.call(this),i=this._S.token;return n.set("Authorization","Bearer "+i),n},n}(Vp),Qp=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,ia.hf)||this,!np(i))throw new f("Invalid Xstream DRM configuration");return u}vt(n,t);var i=n.prototype;return i.LE=function(t){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.NE(),i=this.PS(),e={Kh:n,jh:ia.hf,zh:i,wv:Dv.POST,Yr:t,br:Av.ev,yv:Pv.sv},s.next=5,wr.awrap(this.Ld.Gh(e));case 5:return r=s.sent,s.next=8,wr.awrap(r.Rh());case 8:return u=s.sent,s.abrupt("return",new y($u(u.certificate)));case 10:case"end":return s.stop()}},null,this,null,j)},i.zS=function(t,n,i){var e,r,u,s,o,c,a;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Gu(t),r=this._S,i.next=5,wr.awrap(Sp(r,"fairplay",this.Ld,n));case 5:return u=i.sent,s=Rs(JSON.stringify({spc:e,ticket:u.ticket})),o={Kh:this.IS(),jh:ia.hf,zh:this.PS(),wv:Dv.POST,Ah:s,gv:0,Yr:n,br:Av.ev,yv:Pv.uv},i.next=10,wr.awrap(this.Ld.Gh(o));case 10:return c=i.sent,i.next=13,wr.awrap(c.Rh());case 13:return a=i.sent,i.abrupt("return",$u(a.licence));case 15:case"end":return i.stop()}},null,this,null,j)},ft(n,[{key:"xE",get:function(){return Mp.hf}}]),n}(Vp),tb=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ia.si)||this}vt(i,t);var e=i.prototype;return e.AE=function(t,n){return Gu(t)},e.FS=function(i){if(0===i.length)throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.FS.call(this,i)},e.PS=function(){var n=t.prototype.PS.call(this);return n.set("Content-Type","text/plain"),n},i}(Vp),nb=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ia.ff)||this}vt(i,t);var e=i.prototype;return e.AE=function(t,n){return t},e.FS=function(t){return new y(t)},e.PS=function(){if(!ip(this._S))throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.PS.call(this);return i.set("X-AxDRM-Message",this._S.token),i},ft(i,[{key:"xE",get:function(){return Mp.hf}}]),i}(Vp),ib=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ia.hf)||this).ME=void 0,u}vt(i,t);var e=i.prototype;return e.AE=function(t,n){var i={spc:Gu(t)};return JSON.stringify(i)},e.PE=function(t){var i=st.Xe(t);return this.ME=t,i.searchParams.has("b")?j.resolve(i.searchParams.get("b")):j.reject(new Eg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.xS=function(n,i){var e=this.IS();return!e&&this.ME&&(e=this.ME),e&&(e=e.replace("skd://","https://")),t.prototype.xS.call(this,n,i||e)},e.FS=function(t){try{var i;if((i=xt(t)?JSON.parse(t.trim()):t).ckc)return $u(i.ckc)}catch(t){throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},ft(i,[{key:"xE",get:function(){return Mp.si}}]),i}(Vp),eb=function(){function t(t,n){this.FE=t,this.UE=n}var n=t.prototype;return n.VE=function(t){return this.FE(t)},n.HE=function(t,n){throw new h(n+" must be "+this.UE+". (Received: "+t+")")},t}();new eb(function(t){return!0},"any");var rb=new eb(Mt,"a number"),ub=new eb(xt,"a string"),sb=new eb(Lt,"a boolean");new eb(function(t){return"[object Date]"===It.call(t)},"a date"),new eb(Ct,"undefined"),new eb(At,"an object"),new eb(function(t){return null===t},"null"),new eb(function(t){return null==t},"null or undefined");var ob,cb=(ob={responseCode:rb,isException:sb,description:ub,title:ub,correlationId:ub},{VE:function(t){if(!At(t))return!1;for(var n=0,i=v.keys(ob);n<i.length;n++){var e=i[n];if(!ob[e].VE(t[e]))return!1}return!0},HE:function(t,n){if(!At(t))throw new h(n+" must be an object.");for(var i=0,e=v.keys(ob);i<e.length;i++){var r=e[i],u=ob[r];if(!u.VE(t[r]))return u.HE(t[r],n+"."+String(r))}throw new h}});function ab(t,n,i,e,r){var u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return u=fb(t,n,i,r),s.next=3,wr.awrap(hb(u,e));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},null,null,null,j)}function fb(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=st.Xe(t);return Uv(i,n),i.toString()}(i,r)),s=new ea({});s.append("Content-Type","application/json");var o=Gu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Kh:u,jh:ia.si,zh:s,wv:Dv.POST,Ah:JSON.stringify(c),Yr:e,br:Av.ev,yv:Pv.uv}}function hb(t,i){var e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,wr.awrap(i.Gh(t));case 2:return e=u.sent,u.next=5,wr.awrap(e.Rh());case 5:if(r=u.sent,!cb.VE(r)){u.next=8;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Kh,r.responseCode);case 8:return u.abrupt("return",$u(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return u.stop()}},null,null,null,j)}var vb=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ia.ff)||this).qE=void 0,u.qE=i,u}vt(n,t);var i=n.prototype;return i.PE=function(n){var i=n.replace("FairPlay",this.qE.releasePid);return t.prototype.PE.call(this,i)},i.zS=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(ab(t,this.qE,this.IS(),this.Ld,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,j)},n}(Vp),db=function(t){function i(n,i,e){return t.call(this,qr,n,i,e,ia.ff)||this}vt(i,t);var e=i.prototype;return e.SS=function(t){return t.clearkey||{}},e.NS=function(i,e,r,u){var s,o;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.bS,!this.IS()){e.next=5;break}return e.abrupt("return",t.prototype.NS.call(this,i,this.TS,r,u));case 5:if(!s.keys||!s.keys.length){e.next=10;break}return o={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Rs(JSON.stringify(o)).buffer);case 10:throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,j)},e.WS=function(t,n){return j.resolve(new y(0))},e.zS=function(n,i){return t.prototype.US.call(this,n,Pv.fv,i)},i}(O_),lb=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(A_),wb={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function gb(t,n,i){var e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=Eb(n),(r=t.onCertificateRequest)&&"function"==typeof r){s.next=5;break}return s.abrupt("return",j.resolve(n));case 5:return s.next=8,wr.awrap(pu(j.resolve(r.call(t,e)),i));case 8:if(!Ls(u=s.sent)){s.next=11;break}return s.abrupt("return",Bs(u));case 11:return s.abrupt("return",Sb(gr({},wb,u)));case 12:case"end":return s.stop()}},null,null,null,j)}function yb(t,n,i,e,r){var u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=t.onCertificateResponse,s=Tb(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,wr.awrap(pu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Bs(o));case 10:case"end":return c.stop()}},null,null,null,j)}function mb(t,n,i,e){var r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,wr.awrap(pb(t,n,i,e));case 2:if(!((r=u.sent)instanceof ArrayBuffer)){u.next=5;break}return u.abrupt("return",r);case 5:return u.abrupt("return",Sb(r));case 6:case"end":return u.stop()}},null,null,null,j)}function _b(t,n,i,e,r,u){var s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s=kb(i,r),c.next=3,wr.awrap(bb(t,new y(n),s,e,u));case 3:return o=c.sent,c.abrupt("return",Bs(o).buffer);case 5:case"end":return c.stop()}},null,null,null,j)}function pb(t,n,i,e){var r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,u=kb(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",j.resolve(u));case 5:return o.next=8,wr.awrap(pu(j.resolve(r.call(t,u)),e));case 8:if(!Ls(s=o.sent)){o.next=11;break}return o.abrupt("return",Bs(s).buffer);case 11:return o.abrupt("return",gr({fairplaySkdUrl:void 0},wb,s));case 12:case"end":return o.stop()}},null,null,null,j)}function bb(t,n,i,e,r){var u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=null==t?void 0:t.onLicenseResponse,s=Tb(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,wr.awrap(pu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Bs(o));case 10:case"end":return c.stop()}},null,null,null,j)}function kb(t,n){return gr({},Eb(t),{fairplaySkdUrl:n})}function Tb(t,n,i){return{url:i.Yh,status:i.Wh,statusText:i.$h,headers:i.zh.df(),body:t,request:n}}function Sb(t){return new Bv({Kh:t.url,wv:t.method,zh:t.headers,Ah:t.body,_v:t.useCredentials})}function Eb(t){var n;return{url:t.Kh,body:null!=(n=Rb(t.Ah))?n:null,headers:t.zh.df(),method:t.wv,useCredentials:t._v}}function Rb(t){if(t)return"string"==typeof t?Ds(t):t instanceof ArrayBuffer?new y(t):Ku(t)?xs(t):void 0}var Ib,Ob=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).WE=void 0,u.WE=r,u}vt(i,t);var e=i.prototype;return e.WS=function(t,n){return j.resolve(t)},e.zS=function(t,i){var e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,wr.awrap(this.gE(Fs(t).buffer));case 2:return e=c.sent,r=this.DS(e,ia.ff,Pv.av,i),c.next=6,wr.awrap(mb(this.WE,r,void 0,i));case 6:if(!((u=c.sent)instanceof ArrayBuffer)){c.next=10;break}return c.abrupt("return",new y(u));case 10:if(""!==u.Kh){c.next=12;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return c.prev=12,c.next=15,wr.awrap(this.Ld.Gh(u));case 15:return s=c.sent,c.next=18,wr.awrap(s.Ch(i));case 18:return o=c.sent,c.t0=y,c.next=22,wr.awrap(_b(this.WE,o,r,s,void 0,i));case 22:return c.t1=c.sent,c.abrupt("return",new c.t0(c.t1));case 26:throw c.prev=26,c.t2=c.catch(12),mu(c.t2),new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c.t2);case 30:case"end":return c.stop()}},null,this,[[12,26]],j)},i}(Op),Cb=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,ia.ff)||this).WE=void 0,u.WE=r,u}vt(i,t);var e=i.prototype;return e.WS=function(t,i){var e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.HS){c.next=2;break}return c.abrupt("return",this.HS);case 2:return e=this.DS(t,ia.ff,Pv.cv,i),c.next=5,wr.awrap(gb(this.WE,e,i));case 5:if(!((r=c.sent)instanceof y)){c.next=9;break}return c.abrupt("return",r);case 9:if(""!==r.Kh){c.next=11;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return c.prev=11,c.next=14,wr.awrap(this.Ld.Gh(r));case 14:return u=c.sent,c.next=17,wr.awrap(u.Ch(i));case 17:s=c.sent,c.next=24;break;case 20:throw c.prev=20,c.t0=c.catch(11),mu(c.t0),new Eg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",c.t0);case 24:return o=kb(e,void 0),c.next=27,wr.awrap(yb(this.WE,new y(s),o,u,i));case 27:return c.abrupt("return",c.sent);case 28:case"end":return c.stop()}},null,this,[[11,20]],j)},e.zS=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.DS(t,ia.ff,Pv.ov,i),o.next=3,wr.awrap(mb(this.WE,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Kh){o.next=9;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,wr.awrap(this.Ld.Gh(r));case 12:return u=o.sent,o.next=15,wr.awrap(u.Ch(i));case 15:s=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),mu(o.t0),new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,wr.awrap(_b(this.WE,s,e,u,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],j)},i}(lb),Nb=function(t){function i(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,ia.ff)||this).WE=void 0,s.zE=void 0,s.WE=u,s}vt(i,t);var e=i.prototype;return e.WS=function(t,i){var e,r,u,s,o;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HS){t.next=2;break}return t.abrupt("return",this.HS);case 2:return e=this.BE(i),t.next=5,wr.awrap(gb(this.WE,e,i));case 5:if(r=t.sent,!Ku(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,wr.awrap(this.Ld.Gh(r));case 11:return u=t.sent,t.next=14,wr.awrap(u.Ch());case 14:return s=t.sent,o=kb(e,void 0),t.next=18,wr.awrap(yb(this.WE,new y(s),o,u,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),mu(t.t0),new Eg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],j)},e.zS=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.DS(t,ia.ff,Pv.uv,i),o.next=3,wr.awrap(mb(this.WE,e,this.zE,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Kh){o.next=9;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,wr.awrap(this.Ld.Gh(r));case 12:return u=o.sent,o.next=15,wr.awrap(u.Ch(i));case 15:return s=o.sent,o.t0=y,o.next=19,wr.awrap(_b(this.WE,s,e,u,this.zE,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),mu(o.t2),new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],j)},e.PE=function(n){var i;return this.zE=n,null!=(i=this.WE)&&i.extractFairplayContentId?j.resolve(this.WE.extractFairplayContentId(n)):t.prototype.PE.call(this,n)},i}(Vp),Db=function(){function t(){}var n=t.prototype;return n.jE=function(t,n,i,e){switch(t.mc.br){case Er.yr:return this.$E(n,i,e);case Er.gr:return this.XE(n,i,e);case Er._r:return this.GE(t,n,i,e);case Er.mr:default:return this.YE(n,i,e)}},n.$E=function(t,n,i){var e,r=(e=t).integration===I_&&xt(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&U_.sE.eE(r,Pr)){var u=U_.sE.uE(r,Pr,t);return new Cb(t,n,i,u)}switch(r){case v_:return new vp(t,n,i);case g_:return new dp(t,n,i);case w_:return new wp(t,n,i);case d_:return new mp(t,n,i);case __:return new kp(t,n,i);case b_:return new Tp(t,n,i);case k_:return new Ep(t,n,i);case S_:return new Rp(t,n,i);case m_:default:return new lb(t,n,i,ia.ff)}},n.XE=function(t,n,i){var e=t.integration;if(e&&U_.sE.eE(e,Nr)){var r=U_.sE.uE(e,Nr,t);return new Ob(t,n,i,r)}switch(e){case v_:return new Np(t,n,i);case g_:return new Pp(t,n,i);case w_:return new xp(t,n,i);case d_:return new Lp(t,n,i);case __:return new Bp(t,n,i);case k_:return new Fp(t,n,i);case S_:return new Up(t,n,i);case m_:default:return new Op(t,n,i)}},n.GE=function(t,n,i,e){var r=n.integration;if(r&&U_.sE.eE(r,Mr)){var u=U_.sE.uE(r,Mr,n);return new Nb(t,n,i,e,u)}switch(r){case l_:return new Hp(t,n,i,e);case g_:return new qp(t,n,i,e);case y_:return new jp(t,n,i,e);case v_:return new $p(t,n,i,e);case w_:return new Xp(t,n,i,e);case d_:return new Gp(t,n,i,e);case m_:return new Yp(t,n,i,e);case __:return new Kp(t,n,i,e);case p_:return new Jp(t,n,i,e);case b_:return new Zp(t,n,i,e);case k_:return new Qp(t,n,i,e);case T_:return new tb(t,n,i,e);case S_:return new nb(t,n,i,e);case E_:return new ib(t,n,i,e);case R_:return new vb(t,n,i,e);default:return new Vp(t,n,i,e,ia.si)}},n.YE=function(t,n,i){return new db(t,n,i)},n.KE=function(t){return t.br===Er.gr||t.br===Er.yr||t.br===Er._r||t.br===Er.mr},n.Cc=function(t,n){var i;if(t.br!==Er.gr)return!1;if(Ot(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!U_.sE.eE(e,Mr))&&(e===v_&&new Cp(n).Cc)},n.fE=function(t,n){if(t.br===Er.yr){var i=n.integration;if(!i||!U_.sE.eE(i,Mr))return i===v_?vp.fE():void 0}},t}();!function(t){t[t.JE=0]="JE",t[t.ZE=1]="ZE",t[t.QE=2]="QE",t[t.tR=3]="tR",t[t.nR=4]="nR",t[t.cw=5]="cw",t[t.iR=6]="iR",t[t.eR=7]="eR",t[t.fw=8]="fw",t[t.rR=9]="rR",t[t.uR=10]="uR"}(Ib||(Ib={}));var Ab=function(){function t(){}return t.prototype.sR=function(t){},ft(t,[{key:"oR",get:function(){return 0}},{key:"cR",get:function(){return 0}}]),t}(),Pb=function(){function t(t,n){void 0===n&&(n=new Db),this.$T=void 0,this.aR=void 0,this.yE=void 0,this.$T=t,this.aR=n}var n=t.prototype;return n.fR=function(t){this.yE=t},n.fE=function(t){var n=this.yE;if(void 0!==n)return this.aR.fE(t,n)},n.Cc=function(t){var n=this.yE;return void 0!==n&&this.aR.Cc(t,n)},n.hR=function(t){var n={mc:t.mc,vR:t.vR||[],CE:t.CE},i=this.aR.jE(n,this.yE||{},t.pS,this.$T);return new xb(i)},t}(),xb=function(){function t(t){this.dR=void 0,this.dR=t}var n=t.prototype;return n.OS=function(t){return this.dR.OS(t)},n.CS=function(t,n,i){return this.dR.CS(n,i)},n.qS=function(){return this.dR.qS||void 0!==this.dR.HS},n.WS=function(t,n){return this.dR.WS(t,n)},n.zS=function(t,n,i){return n&&this.dR.RS(n),this.dR.zS(t,i)},n.Vr=function(){this.dR.et()},t}(),Lb=function(t){function n(n){var i;(i=t.call(this)||this).lR=[],i.wR=function(t){i.wl(t.Wd)},i.gR=function(t){var n=t.Wd;i.yR(n)||i.gl(n)};for(var e=0;e<n.length;e++){var r=n[e];i.mR(r)}return i}vt(n,t);var i=n.prototype;return i.mR=function(t){this.lR.push(t);for(var n=0,i=t.ml;n<i.length;n++){var e=i[n];this.wl(e)}this._R(t)},i.pR=function(t){au(this.lR,t),this.bR(t);for(var n=0,i=t.ml;n<i.length;n++){var e=i[n];this.yR(e)||this.gl(e)}},i.yR=function(t){for(var n=0,i=this.lR;n<i.length;n++){if(i[n].yl(t))return!0}return!1},i._R=function(t){t.nu(kl.Bd,this.wR),t.nu(kl.Fd,this.gR)},i.bR=function(t){t.uu(kl.Bd,this.wR),t.uu(kl.Fd,this.gR)},i.et=function(){for(;this.lR.length>0;)this.pR(this.lR[0]);t.prototype.et.call(this)},i.qd=function(){return aw(this)},n}(xl);function Bb(t){return{get enabled(){return t.Ol},set enabled(n){t.Ol=jl(n)},get currentLatency(){return t.$w},get streamConfiguration(){if(void 0!==t.kR)return function(t){return{get minimumOffset(){return t.Mw},get maximumOffset(){return t.Uw},get targetOffset(){return t.Fw},get forceSeekOffset(){return t.Vw},get minimumPlaybackRate(){return t.Hw},get maximumPlaybackRate(){return t.qw}}}(t.kR)},get configuration(){return function(t){return{get minimumOffset(){return t.Mw},set minimumOffset(n){t.Mw=$l(n)},get maximumOffset(){return t.Uw},set maximumOffset(n){t.Uw=$l(n)},get targetOffset(){return t.Fw},set targetOffset(n){t.Fw=$l(n)},get forceSeekOffset(){return t.Vw},set forceSeekOffset(n){t.Vw=$l(n)},get minimumPlaybackRate(){return t.Hw},set minimumPlaybackRate(n){t.Hw=$l(n)},get maximumPlaybackRate(){return t.qw},set maximumPlaybackRate(n){t.qw=$l(n)},update:function(n){t.hc(function(t){var n={};void 0!==t.minimumOffset&&(n.Mw=$l(t.minimumOffset));void 0!==t.maximumOffset&&(n.Uw=$l(t.maximumOffset));void 0!==t.targetOffset&&(n.Fw=$l(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Vw=$l(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.Hw=$l(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.qw=$l(t.maximumPlaybackRate));return n}(n))}}}(t._c)}}}var Mb,Fb=function(){function t(){this.Vd=void 0,this.TR=void 0,this.TR={Vw:0,Uw:0,qw:0,Mw:0,Hw:0,Fw:0,hc:Ft}}return ft(t,[{key:"Hd",get:function(){return null!=this.Vd||(this.Vd=Bb(this)),this.Vd}},{key:"Ol",get:function(){return!1},set:function(t){}},{key:"$w",get:function(){}},{key:"kR",get:function(){}},{key:"_c",get:function(){return this.TR}}]),t}();function Ub(){return Mb||(Mb=Q&&Q.document&&Q.document.createElement("video")),Mb}var Vb=function(t){function i(i,e,r,u,s,o,c){var a;return void 0===o&&(o=new Db),void 0===c&&(c=Yc()),(a=t.call(this)||this).SR=void 0,a.ER=void 0,a.RR=void 0,a.tg=void 0,a.ng=void 0,a.ig=void 0,a.IR=void 0,a.OR=void 0,a.CR=void 0,a.NR=void 0,a.DR=void 0,a.$T=void 0,a.Ir=void 0,a.AR=void 0,a.PR=void 0,a.xR=new Ab,a.LR=new Fb,a.MR=function(t){var i=t.wu,e=i.code,r=new Ac(function(t){switch(t){case kg.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case kg.NETWORK:return n.ErrorCode.NETWORK_ERROR;case kg.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case kg.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case kg.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case kg.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case kg.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),u=new Rg(e,r.message,i.message);a.FR(r,u)},a.UR=function(){a.tu(new Xw(a.Rw,a.Cg))},a.HR=function(t){a.Dw||(a.PR=void 0),a.tu(t)},a.qR=function(t){a.PR=void 0},a.WR=function(){a.tu(new $g(a.Dg))},a.zR=function(){a.Lw>0&&a.xw>0&&a.tu(new Qm)},a.jR=function(t){a.tg.wl(new Ug(t.track))},a.$R=function(t){var n=qb(a.tg,t.track);n&&a.tg.gl(n)},a.XR=function(){a.GR(a.tg)},a.YR=function(t){a.ng.wl(new jg(t.track))},a.KR=function(t){var n=qb(a.ng,t.track);n&&a.ng.gl(n)},a.JR=function(){a.GR(a.ng)},a.ZR=function(t){a.tu(t),a.FR(t.errorObject,Og(t.errorObject))},a.SR=e,a.$T=r,a.Ir=c,a.ER=a.SR.G(Cg.dv),a.CR=a.ER.QR.preload,a.NR=new h_(a.ER,!0),a.NR.nu(Ww,a.Qr),a.AR=new Pb(r,o),a.ER.tI=a.AR,a.nI(),a.tg=new Ng,a.ng=new Ng,a.iI(),a.DR=new $m(a.ER,a.$T),a.ig=new Lb([a.ER.cg]),a.mg(),a}vt(i,t);var e=i.prototype;return e._g=function(){this.ER._g()},e.mg=function(){this.ER.mg()},e.vg=function(t,n,i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return yu(i),e={br:Zm.tS,Xl:t.src,Dh:t.type,eI:this.rI(t),Hg:this.CR,uI:t.crossOrigin,sI:n.metadata&&n.metadata.title},this.AR.fR(t.contentProtection),r.next=5,wr.awrap(this.ER.ac(e));case 5:this.RR=r.sent,yu(i),n.textTracks&&this.oI(n.textTracks),Jm(this.cg);case 9:case"end":return r.stop()}},null,this,null,j)},e.oI=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.ER.cI()&&Et.kn&&o_&&!Mm(i.kind,i.label)&&this.aI(i)){var e,r=null!=(e=i.kind)?e:Dm.dp;this.ER.fI(i.src,r,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.DR.GT(i)}}},e.aI=function(t){return!t.format||"webvtt"===t.format},e.Y=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wr.awrap(this.ER.Y());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.hI){t.next=12;break}return t.next=10,wr.awrap(this.ER.au(na.$a));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],j)},e.K=function(){this.ER.K()},e.dg=function(){return void 0!==this.ER.QR.webkitShowPlaybackTargetPicker},e.lg=function(){this.ER.QR.webkitShowPlaybackTargetPicker&&this.ER.QR.webkitShowPlaybackTargetPicker()},e.wg=function(){this.ER.QR.webkitShowPlaybackTargetPicker&&this.ER.QR.webkitShowPlaybackTargetPicker()},e.pg=function(){return this.ER.QR},e.bg=function(){return this.ER.vI},e.Sc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.IR=void 0,this.OR=void 0,this.RR=void 0,t.next=5,wr.awrap(this.DR.Sc());case 5:return this.ER.dI(),t.next=8,wr.awrap(this.ER.Sc());case 8:this.NR.Sc(),this.Hg=this.CR,this.sg.Sc(),this.og.Sc(),this.PR=void 0;case 13:case"end":return t.stop()}},null,this,null,j)},e.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.Sc());case 2:return this.ru(),this.lI(),this.wI(),this.NR.et(),this.ER.tI=void 0,t.next=9,wr.awrap(this.SR.nt(this.ER));case 9:return this.tg.et(),this.ng.et(),this.ig.et(),t.next=14,wr.awrap(this.DR.et());case 14:case"end":return t.stop()}},null,this,null,j)},e.nI=function(){this.ER.nu(na.ja,this.Qr),this.ER.nu(na.za,this.Qr),this.ER.nu(na.rf,this.UR),this.ER.nu(na.$a,this.Qr),this.ER.nu(na.Ua,this.Qr),this.ER.nu(na.Ja,this.Qr),this.ER.nu(na.Ka,this.HR),this.ER.nu(na.Ba,this.Qr),this.ER.nu(na.Xa,this.Qr),this.ER.nu(na.uf,this.Qr),this.ER.nu(na.xa,this.Qr),this.ER.nu(na.Ya,this.zR),this.ER.nu(Fw.Ew,this.qR),this.ER.nu(rw.Bl,this.MR),this.ER.nu(na.Da,this.Qr),this.ER.nu(na.Na,this.ZR),this.ER.QR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.WR)},e.lI=function(){this.ER.uu(na.ja,this.Qr),this.ER.uu(na.za,this.Qr),this.ER.uu(na.rf,this.UR),this.ER.uu(na.$a,this.Qr),this.ER.uu(na.Ua,this.Qr),this.ER.uu(na.Ja,this.Qr),this.ER.uu(na.Ka,this.HR),this.ER.uu(na.Ba,this.Qr),this.ER.uu(na.Xa,this.Qr),this.ER.uu(na.uf,this.Qr),this.ER.uu(na.xa,this.Qr),this.ER.uu(na.Ya,this.zR),this.ER.uu(Fw.Ew,this.qR),this.ER.uu(rw.Bl,this.MR),this.ER.uu(na.Da,this.Qr),this.ER.uu(na.Na,this.ZR),this.ER.QR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.WR)},e.rI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{mc:Hr,gI:[{initDataTypes:[Hr.Tr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.iI=function(){var t=this.ER.QR.audioTracks,n=this.ER.QR.videoTracks;t&&(t.addEventListener("addtrack",this.jR),t.addEventListener("removetrack",this.$R),t.addEventListener("change",this.XR)),n&&(n.addEventListener("addtrack",this.YR),n.addEventListener("removetrack",this.KR),n.addEventListener("change",this.JR))},e.wI=function(){var t=this.ER.QR.audioTracks,n=this.ER.QR.videoTracks;t&&(t.removeEventListener("addtrack",this.jR),t.removeEventListener("removetrack",this.$R),t.removeEventListener("change",this.XR)),n&&(n.removeEventListener("addtrack",this.YR),n.removeEventListener("removetrack",this.KR),n.removeEventListener("change",this.JR))},e.GR=function(t){for(var n=0;n<t._l;n++){t.ll(n).Zg()}},e.Ig=function(){this.ER.Ig()},e.FR=function(t,n){this.IR||(this.IR=n,this.OR=t,this.tu(new ig(t)))},ft(i,[{key:"hI",get:function(){var t=this.ER.Og,n=this.Rw;return t.yI(n,.01)}},{key:"sg",get:function(){return this.tg}},{key:"Og",get:function(){return this.ER.Og.mI()}},{key:"Cg",get:function(){return this.ER.Cg},set:function(t){t&&this.ER._I(t)}},{key:"Rw",get:function(){return void 0!==this.PR?this.PR:this.ER.Rw},set:function(t){this.Dg&&(this.PR=t),this.ER.Nu(t)}},{key:"Iw",get:function(){return this.ER.Iw}},{key:"Ow",get:function(){return this.ER.Ow}},{key:"wu",get:function(){return this.IR}},{key:"Cw",get:function(){return this.OR}},{key:"ag",get:function(){}},{key:"Dg",get:function(){return this.ER.Dg}},{key:"Ag",get:function(){return gr({},{Pg:0,xg:0,Lg:0,Bg:0,Mg:0,Fg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.ER.pI())}},{key:"Nw",get:function(){return this.ER.Nw},set:function(t){this.ER.Nw=t}},{key:"Ug",get:function(){return!0}},{key:"Dw",get:function(){return this.ER.Dw}},{key:"Aw",get:function(){return this.ER.Aw},set:function(t){this.ER.Aw=t}},{key:"Vg",get:function(){return this.ER.QR.played}},{key:"Hg",get:function(){return this.CR},set:function(t){this.CR=t,this.RR&&(this.RR.Hg=t)}},{key:"zl",get:function(){return this.ER.zl}},{key:"qg",get:function(){return this.ER.qg.mI()}},{key:"Pw",get:function(){return this.ER.Pw}},{key:"bI",get:function(){return this.ER.bI}},{key:"cg",get:function(){return this.ig}},{key:"og",get:function(){return this.ng}},{key:"xw",get:function(){return this.ER.xw}},{key:"Lw",get:function(){return this.ER.Lw}},{key:"Bw",get:function(){return this.ER.Bw},set:function(t){this.ER.Bw=t}},{key:"Wg",get:function(){return this.LR}},{key:"zg",get:function(){return this.ER.zg},set:function(t){this.ER.zg=t}},{key:"kI",get:function(){return this.xR}}]),i}(vw);var Hb=function(){function t(){this.TI=Ib.uR}var n=t.prototype;return n.QS=function(t,n,i,e,r,u){return new Vb(t,n,i,e,r)},n.SI=function(t,n){return function(t){return!t.type||!(!Ub().canPlayType||!Ub().canPlayType(t.type))}(t)},n.EI=function(){return!1},t}();function qb(t,n){for(var i=0,e=t.ml;i<e.length;i++){var r=e[i];if(r.ny===n)return r}}var Wb=function(){function t(){this.RI=new Hb,this.II=[]}t.OI=function(){return this.ni};var n=t.prototype;return n.CI=function(t){this.II.push(t)},n.QS=function(t,n,i,e,r,u){for(var s=this.RI.QS(t,n,i,e,r,u),o=0,c=this.II;o<c.length;o++){s=(0,c[o])(s,i,e)}return s},n.SI=function(t,n){return this.RI.SI(t,n)},n.EI=function(){return!1},ft(t,[{key:"TI",get:function(){return this.RI.TI}}]),t}();function zb(t,n){return eu(t.TI,n.TI)}Wb.ni=new Wb;var jb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).NI=Wb.OI(),n}vt(n,t);var i=n.prototype;return i.DI=function(t){this.NI=t},i.AI=function(){return this.NI},i.xI=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=0;case 1:if(!(i<t.length)){c.next=11;break}return e=t[i],c.next=5,wr.awrap(this.LI(e,n));case 5:if(!(r=c.sent)){c.next=8;break}return c.abrupt("return",{BI:e,MI:r});case 8:i++,c.next=1;break;case 11:u=this.NI,s=0;case 13:if(!(s<t.length)){c.next=20;break}if(o=t[s],!u.SI(o,n)){c.next=17;break}return c.abrupt("return",{BI:o,MI:u});case 17:s++,c.next=13;break;case 20:return c.abrupt("return",{BI:t[0],MI:u});case 21:case"end":return c.stop()}},null,this,null,j)},n}(function(){function t(){this.FI=[]}var n=t.prototype;return n.UI=function(t){this.FI.push(t),this.FI.sort(zb)},n.LI=function(t,n){var i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.FI;case 1:if(!(i<e.length)){s.next=17;break}if(r=e[i],!Bt(u=r.SI(t,n))){s.next=10;break}return s.next=7,wr.awrap(u);case 7:s.t0=s.sent,s.next=11;break;case 10:s.t0=Boolean(u);case 11:if(!s.t0){s.next=14;break}return s.abrupt("return",r);case 14:i++,s.next=1;break;case 17:return s.abrupt("return",void 0);case 18:case"end":return s.stop()}},null,this,null,j)},t}());jb.ni=new jb;var $b,Xb=function(){function t(t){var n,i;this.VI=void 0,this.VI=Q&&Q.document&&Q.document.createElement("div"),n=this.VI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.VI)}return t.prototype.et=function(){je(this.VI)},t}();function Gb(t){switch(t){case $b.HI:case"":return $b.HI;case $b.wp:return $b.wp;case $b.qI:default:return $b.qI}}!function(t){t.uR="",t.qI="none",t.wp="metadata",t.HI="auto"}($b||($b={}));var Yb=[rw.Bl,na.La,na.gu,na.af,na.Ra,na.Ma,na.qa,na.Wa,na.Qa,na.nf,Fw.pw,Fw.bw,Fw.kw,Fw.Tw,Fw.il,Fw.Sw,Fw.Ew,na.Na,na.Da,na.xa,na.Ba,na.Ua,na.Va,na.ja,na.$a,na.za,na.Xa,na.Ya,na.Ja,na.Ka,na.rf,na.uf,na.Ga,na.Ha,na.Za],Kb=function(t){function n(n,i){var e;return(e=t.call(this)||this).WI=void 0,e.zI=void 0,e.jI=void 0,e.$I=void 0,e.CR=$b.qI,e.XI=void 0,e.GI=!0,e.tg=new uw,e.ng=new uw,e.ig=new hw,e.eg=new Tg,e.WI=n,e.jI=i,e.jI.Hg=e.Hg,e.YI(),e}vt(n,t);var i=n.prototype;return i.K=function(){this.jI.K()},i.Y=function(){var t=this.jI.Y();Bt(t)&&Su(t)},i.fg=function(){return this.vg(void 0)},i.st=function(){},i.Tg=function(t){return!1},i.YI=function(){this.tg.El=this.jI.sg,this.ng.El=this.jI.og,this.ig.El=this.jI.cg,this.eg.El=this.jI.ag,this.jI.nu(Yb,this.Qr)},i.KI=function(){this.jI.uu(Yb,this.Qr),this.tg.El=void 0,this.ng.El=void 0,this.ig.El=void 0,this.eg.El=void 0},i.hg=function(){return this.XI},i.vg=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(yu(n),this.XI=t,t){c.next=4;break}return c.abrupt("return");case 4:if(!Aw(i=t.sources.filter(Mw))){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,wr.awrap(this.WI.xI(i,t));case 9:if(e=c.sent,yu(n),r=e.BI,u=e.MI,s=this.bg(),o=sg(this),this.zI===u&&!this.wu){c.next=25;break}return this.KI(),c.next=19,wr.awrap(this.jI.et());case 19:yu(n),this.zI=u,this.jI=this.JI(u),Jb(this.jI,o),og(this,o,this),this.YI();case 25:return this.jI.Hg=this.Hg,this.GI?this.jI.mg():this.jI._g(),c.next=29,wr.awrap(this.jI.vg(r,t,n));case 29:yu(n),this.ZI(r),this.bg()!==s&&this.tu(new lw);case 32:case"end":return c.stop()}},null,this,null,j)},i.ZI=function(t){this.$I!==t&&(this.$I=t,this.tu(new ww(t)))},i.dg=function(){return this.jI.dg()},i.lg=function(){this.jI.lg()},i.wg=function(){this.jI.wg()},i.bg=function(){return this.jI.bg()},i.Ig=function(){this.jI.Ig()},i.Sc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.XI=void 0,this.ZI(void 0),t.next=4,wr.awrap(this.jI.Sc());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ru(),t.next=3,wr.awrap(this.Sc());case 3:return t.next=5,wr.awrap(this.jI.et());case 5:this.tg.et(),this.ng.et(),this.ig.et(),this.eg.et();case 9:case"end":return t.stop()}},null,this,null,j)},i.mg=function(){this.GI=!0,this.jI.mg()},i._g=function(){this.GI=!1,this.jI._g()},ft(n,[{key:"sg",get:function(){return this.tg}},{key:"Og",get:function(){return this.jI.Og}},{key:"wu",get:function(){return this.jI.wu}},{key:"Cw",get:function(){return this.jI.Cw}},{key:"Cg",get:function(){return this.jI.Cg},set:function(t){this.jI.Cg=t}},{key:"Rg",get:function(){return this.$I}},{key:"Rw",get:function(){return this.jI.Rw},set:function(t){this.jI.Rw=t}},{key:"Iw",get:function(){return this.jI.Iw}},{key:"Ow",get:function(){return this.jI.Ow}},{key:"ag",get:function(){return this.eg}},{key:"Dg",get:function(){return this.jI.Dg}},{key:"Ag",get:function(){return this.jI.Ag}},{key:"Nw",get:function(){return this.jI.Nw},set:function(t){this.jI.Nw=t}},{key:"Ug",get:function(){return this.jI.Ug}},{key:"Dw",get:function(){return this.jI.Dw}},{key:"Aw",get:function(){return this.jI.Aw},set:function(t){this.jI.Aw=t}},{key:"Vg",get:function(){return this.jI.Vg}},{key:"Hg",get:function(){return this.CR},set:function(t){this.CR=t,this.jI&&(this.jI.Hg=this.CR)}},{key:"zl",get:function(){return this.jI.zl}},{key:"qg",get:function(){return this.jI.qg}},{key:"Pw",get:function(){return this.jI.Pw}},{key:"cg",get:function(){return this.ig}},{key:"xw",get:function(){return this.jI.xw}},{key:"og",get:function(){return this.ng}},{key:"Lw",get:function(){return this.jI.Lw}},{key:"Bw",get:function(){return this.jI.Bw},set:function(t){this.jI.Bw=t}},{key:"Wg",get:function(){return this.jI.Wg}},{key:"kI",get:function(){return this.jI.kI}}]),n}(Nu);function Jb(t,n){t.Nw!==n.Nw&&(t.Nw=n.Nw),t.Bw!==n.Bw&&(t.Bw=n.Bw),t.Aw!==n.Aw&&(t.Aw=n.Aw)}var Zb,Qb=function(t){function n(n,i){var e;return(e=t.call(this)||this)._l=void 0,e.QI=void 0,e.tO=void 0,e._l=n.length>>1,e.QI=n,e.tO=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e._l),e}vt(n,t);var i=n.prototype;return i.nO=function(t){return this.QI[2*t]},i.iO=function(t){return this.tO[2*t]},i.eO=function(t){return this.QI[2*t+1]},i.rO=function(t){return this.tO[2*t+1]},ft(n,[{key:"uO",get:function(){return this.QI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Sy=function(t,n){return 0===this.jy(t,n)},n.pm=function(t,n){return this.jy(t,n)>0},n.bm=function(t,n){return this.jy(t,n)>=0},n.Ky=function(t,n){return this.jy(t,n)<0},n.Gy=function(t,n){return this.jy(t,n)<=0},n.Vm=function(t,n){return this.Ky(t,n)?t:n},n.Um=function(t,n){return this.pm(t,n)?t:n},n.sO=function(t,n,i){return i?this.Gy(t,n):this.Ky(t,n)},n.mI=function(){var t=this;return{get length(){return t._l},start:function(n){var i=0|n;return t.oO(i),t.cO(t.nO(i))},end:function(n){var i=0|n;return t.oO(i),t.cO(t.eO(i))}}},n.aO=function(){for(var t=new Array(2*this._l),n=new Array(2*this._l),i=0;i<this._l;i++)t[2*i]=this.nO(i),t[2*i+1]=this.eO(i),n[2*i]=!0,n[2*i+1]=!0;return this.fO(t,n)},n.oO=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this._l)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this._l+")")},n.hO=function(t){if(0===this._l)return this.vO();if(this.yI(t))return t;if(this.Gy(t,this.nO(0)))return this.nO(0);if(this.bm(t,this.eO(this._l-1)))return this.eO(this._l-1);for(var n,i=this.dO(),e=0;e<this._l;e++){var r=this.nO(e),u=this.Yy(r,t);this.Ky(u,i)&&(n=r,i=u);var s=this.eO(e),o=this.Yy(this.eO(e),t);this.Ky(o,i)&&(n=s,i=o)}return n},n.lO=function(t){for(var n=0,i=0,e=[],r=[];n<this._l&&i<t._l;){var u=this.nO(n),s=this.eO(n),o=this.iO(n),c=this.rO(n),a=t.nO(i),f=t.eO(i),h=t.iO(i),v=t.rO(i),d=this.Um(u,a),l=this.Vm(s,f),w=void 0;w=this.Sy(u,a)?o&&h:this.Sy(d,u)?o:h;var g=void 0;g=this.Sy(s,f)?c&&v:this.Sy(l,s)?c:v,(this.Ky(d,l)||w&&g&&this.Sy(d,l))&&(e.push(d,l),r.push(w,g));var y=this.jy(this.eO(n),t.eO(i));0===y?(n+=1,i+=1):y<0?n+=1:i+=1}return this.fO(e,r)},n.wO=function(){var t=this.gO(),n=t._l;if(0===n)return this.fO([t.yO(),t.dO()],[!1,!1]);var i=[],e=[],r=t.nO(0);t.Sy(r,t.yO())||(i.push(t.yO(),r),e.push(!1,!t.iO(0)));for(var u=0;u<n-1;u++)i.push(t.eO(u),t.nO(u+1)),e.push(!t.rO(u),!t.iO(u+1));var s=t.eO(n-1);return t.Sy(s,t.dO())||(i.push(s,t.dO()),e.push(!t.rO(n-1),!1)),t.fO(i,e)},n.mO=function(t){for(var n=0,i=0,e=this._l,r=t._l,u=new Array(2*(e+r)),s=new Array(2*(e+r)),o=0;n<e&&i<r;){var c=this.nO(n),a=this.eO(n),f=t.nO(i),h=t.eO(i);this.Ky(c,f)||this.Sy(c,f)&&this.Ky(a,h)?(u[o]=c,u[o+1]=a,s[o]=this.iO(n),s[o+1]=this.rO(n),n++):(u[o]=f,u[o+1]=h,s[o]=t.iO(i),s[o+1]=t.rO(i),i++),o+=2}for(;n<e;)u[o]=this.nO(n),u[o+1]=this.eO(n),s[o]=this.iO(n),s[o+1]=this.rO(n),n++,o+=2;for(;i<r;)u[o]=t.nO(i),u[o+1]=t.eO(i),s[o]=t.iO(i),s[o+1]=t.rO(i),i++,o+=2;return this.fO(u,s)},n._O=function(t){void 0===t&&(t=this.vO());var n=this._l;if(n<2)return this;for(var i=[],e=[],r=this.nO(0),u=this.eO(0),s=this.iO(0),o=this.rO(0),c=1;c<n;c++){var a=this.nO(c),f=this.eO(c),h=this.iO(c),v=this.rO(c);this.Ky(r,a)&&this.pm(u,f)||(this.Sy(r,a)&&(s=h=s||h),this.Sy(u,f)&&(o=v=o||v),this.sO(a,this.$g(u,t),o||h)?(u=f,o=v):(i.push(r,u),e.push(s,o),r=a,u=f,s=h,o=v))}return i.push(r,u),e.push(s,o),this.fO(i,e).gO()},n.gO=function(){for(var t=[],n=[],i=0;i<this._l;i++){var e=this.nO(i),r=this.eO(i),u=this.iO(i),s=this.rO(i);this.Sy(e,r)?(u||s)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,s))}return this.fO(t,n)},n.pO=function(t){return this._l?t._l?this.mO(t)._O():this:t},n.bO=function(t){var n=this.gO(),i=t.gO(),e=n.wO(),r=i.wO(),u=e.lO(i),s=r.lO(n);return u.pO(s)},n.Cu=function(t){if(this.Sy(t,this.vO()))return this;for(var n=[],i=[],e=0;e<this._l;e++){var r=this.$g(this.nO(e),t),u=this.$g(this.eO(e),t);n.push(r,u),i.push(this.iO(e),this.rO(e))}return this.fO(n,i)},n.kO=function(t){return 0===this._l||0===t._l?this:this.gO().lO(t.gO().wO())},n.yI=function(t,n){return this.TO(t,n)>=0},n.SO=function(t,n,i,e,r){return this.EO(t,n,i,e,r)>=0},n.RO=function(t,n,i,e,r){return this.IO(t,n,i,e,r)>=0},n.OO=function(t){if(t._l!==this._l)return!1;for(var n=0;n<this._l;n++)if(!this.Sy(this.nO(n),t.nO(n))||!this.Sy(this.eO(n),t.eO(n))||this.iO(n)!==t.iO(n)||this.rO(n)!==t.rO(n))return!1;return!0},n.CO=function(t){for(var n=[],i=[],e=0;e<this._l;e++){var r=this.nO(e),u=this.eO(e),s=this.iO(e),o=this.rO(e);t(r,u,s,o)&&(n.push(r,u),i.push(s,o))}return this.fO(n,i)},n.IO=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.vO());for(var u=this.tm(t,r),s=this.$g(n,r),o=0;o<this._l;o+=1)if(this.sO(this.nO(o),s,!e||this.iO(o))&&this.sO(u,this.eO(o),!i||this.rO(o)))return o;return-1},n.EO=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.vO());for(var u=this.$g(t,r),s=this.tm(n,r),o=0;o<this._l;o+=1)if(this.sO(this.nO(o),u,!i||this.iO(o))&&this.sO(s,this.eO(o),!e||this.rO(o)))return o;return-1},n.TO=function(t,n){return this.EO(t,t,!0,!0,n)},n.DO=function(t,n){void 0===n&&(n=this.vO());for(var i=this.$g(t,n),e=this._l-1;e>=0;e-=1)if(this.sO(this.nO(e),i,this.iO(e)))return e;return-1},n.AO=function(t,n){void 0===n&&(n=this.vO());for(var i=this.tm(t,n),e=0;e<this._l;e+=1)if(this.sO(i,this.eO(e),this.rO(e)))return e;return-1},n.PO=function(t){return this.oO(t),this.fO([this.nO(t),this.eO(t)],[this.iO(t),this.rO(t)])},n.xO=function(t,n){var i=this.TO(t,n);return i<0?void 0:this.PO(i)},ft(t,[{key:"LO",get:function(){for(var t=this.vO(),n=0;n<this._l;n++){var i=this.tm(this.eO(n),this.nO(n));t=this.$g(t,i)}return t}}]),t}()),tk=function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.jy=function(t,n){return t<n?Qr.xr:t===n?Qr.Ar:Qr.Pr},i.$g=function(t,n){return t+n},i.tm=function(t,n){return t-n},i.Yy=function(t,n){return d.abs(t-n)},i.vO=function(){return 0},i.dO=function(){return 1/0},i.yO=function(){return-1/0},n.BO=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.MO=function(t){for(var i=[],e=[],r=0;r<t._l;r++)i.push(t.nO(r).Wm),i.push(t.eO(r).Wm),e.push(t.iO(r)),e.push(t.rO(r));return new n(i,e)},n.FO=function(t){return new n([t,t],[!0,!0])},i.fO=function(t,i){return new n(t,i)},i.cO=function(t){return t},n.UO=function(){return nk},n}(Qb),nk=new tk([]);!function(t){t.tl="fullscreenchange",t.VO="fullscreensupportchange",t.Bl="fullscreenerror"}(Zb||(Zb={}));var ik=function(t){function n(){return t.call(this,Zb.Bl)||this}return vt(n,t),n}(Au),ek=new(function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.oy=function(){this.tu(new ik)},i.hy=function(){},i.et=function(){this.ru()},ft(n,[{key:"HO",get:function(){return!1}},{key:"qO",get:function(){return!1}}]),n}(Nu)),rk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).SR=void 0,n.ER=void 0,n}vt(n,t);var i=n.prototype;return i.pg=function(){var t;return null==(t=this.ER)?void 0:t.QR},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.prototype.et.call(this));case 2:if(!this.ER){n.next=6;break}return n.next=5,wr.awrap(this.SR.nt(this.ER));case 5:this.ER=void 0;case 6:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"WO",set:function(t){this.SR=t,this.ER=t.G(Cg.dv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).zO=0,n.jO=!1,n.$O=!0,n.XO=1,n.GO=!1,n.Ks=1,n.sg=new Ng,n.Og=tk.UO().mI(),n.Iw=NaN,n.Ow=!1,n.wu=void 0,n.Cw=void 0,n.ag=void 0,n.Dg=!1,n.Ug=!0,n.Vg=tk.UO().mI(),n.Hg=$b.qI,n.zl=kw.ww,n.qg=tk.UO().mI(),n.bI=void 0,n.cg=new Am,n.xw=0,n.og=new Ng,n.Lw=0,n.Wg=new Fb,n.xR=new Ab,n}vt(n,t);var i=n.prototype;return i.mg=function(){},i._g=function(){},i.Y=function(){this.$O&&(this.$O=!1,this.tu(new Hw(this.Rw)),this.tu(new a_(this.Rw)))},i.K=function(){this.$O||(this.$O=!0,this.tu(new Xw(this.Rw,this.Cg)),this.tu(new Vw(this.Rw)))},i.vg=function(t,n){return j.resolve()},i.dg=function(){return!1},i.lg=function(){},i.wg=function(){},i.bg=function(){return ek},i.Ig=function(){},i.Sc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.zO=0,this.GO=!1,this.K(),this.tu(new Uw(this.zO));case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.ru(),this.sg.et(),this.cg.et(),this.og.et();case 4:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"Cg",get:function(){},set:function(t){}},{key:"Rw",get:function(){return this.zO},set:function(t){this.zO!==t&&(this.zO=t,this.GO=!0,this.tu(new Kw(this.Rw)))}},{key:"Ag",get:function(){return{Pg:0,xg:0,Lg:0,Bg:0,Mg:0,Fg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Nw",get:function(){return this.jO},set:function(t){this.jO!==t&&(this.jO=t,this.tu(new Zw(this.Rw,this.Bw)))}},{key:"Dw",get:function(){return this.$O}},{key:"Aw",get:function(){return this.XO},set:function(t){this.XO!==t&&(this.XO=t,this.tu(new $w(this.Rw,this.Aw)))}},{key:"Pw",get:function(){return this.GO}},{key:"Bw",get:function(){return this.Ks},set:function(t){this.Ks!==t&&(this.Ks=t,this.tu(new Zw(this.Rw,this.Bw)))}},{key:"zg",get:function(){return!1},set:function(t){}},{key:"kI",get:function(){return this.xR}}]),n}(Nu)),uk=function(t){function n(n,i,e,r,u,s){var o,c=new rk;return(o=t.call(this,jb.ni,c)||this).zc=void 0,o.YO=void 0,o.KO=void 0,o.JO=void 0,o.$T=void 0,o.ZO=void 0,o.QO=void 0,o.KO=n,o.zc=i,o.$T=e,o.ZO=r,o.JO=s,o.YO=new K(u,o.JO),o.YO.it(o.KO),c.WO=o.YO,o.QO=new Xb(o.KO),o}vt(n,t);var i=n.prototype;return i.st=function(){t.prototype.st.call(this),this.YO.X()},i.gg=function(t){var n,i,e,r;n=this,e=(i=t).Bw,r=i.Nw,n.Bw=e,n.Nw=r},i.yg=function(){},i.JI=function(t){return t.QS(this.KO,this.YO,this.$T,this.zc,this.ZO,this.JO)},i.pg=function(){return this.jI.pg()},i.kg=function(){return this.YO.j.map(function(t){return t.QR})},i.eu=function(n){t.prototype.eu.call(this,n)},i.cu=function(n){t.prototype.cu.call(this,n)},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.prototype.et.call(this));case 2:this.YO.et(),this.QO.et();case 4:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"Ng",get:function(){return this.KO}},{key:"zg",get:function(){return this.jI.zg},set:function(t){this.jI.zg=t}}]),n}(Kb),sk=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).KO=void 0,r.tC=void 0,r.nC=void 0,r.iC=void 0,r.eC=void 0,r.LR=new Fb,r.KO=n,r.tC=i,r.iC=new Ng,r.eC=new Am,r.nC=e,r}vt(n,t);var i=n.prototype;return i.Tg=function(t){return!0},i._g=function(){},i.Y=function(){throw this.tu(new ig(this.nC)),this.tC},i.K=function(){},i.hg=function(){},i.vg=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw yu(n),this.tu(new ig(this.nC)),this.tC;case 3:case"end":return t.stop()}},null,this,null,j)},i.mg=function(){},i.fg=function(){return j.resolve()},i.pg=function(){},i.bg=function(){return ek},i.kg=function(){return[]},i.st=function(){},i.gg=function(t){},i.yg=function(){},i.dg=function(){return!1},i.lg=function(){},i.wg=function(){},i.Ig=function(){},i.Sc=function(){return j.resolve()},i.et=function(){return this.ru(),this.iC.et(),this.eC.et(),j.resolve()},ft(n,[{key:"sg",get:function(){return this.iC}},{key:"Og",get:function(){return tk.UO().mI()}},{key:"Cg",get:function(){return new Date(NaN)},set:function(t){}},{key:"Rg",get:function(){}},{key:"Rw",get:function(){return 0},set:function(t){}},{key:"Iw",get:function(){return 0}},{key:"Ng",get:function(){return this.KO}},{key:"Ow",get:function(){return!0}},{key:"wu",get:function(){return this.tC}},{key:"Cw",get:function(){return this.nC}},{key:"ag",get:function(){}},{key:"Ag",get:function(){return{Pg:0,xg:0,Lg:0,Bg:0,Mg:0,Fg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Nw",get:function(){return!1},set:function(t){}},{key:"Ug",get:function(){return!0}},{key:"Dw",get:function(){return!0}},{key:"Aw",get:function(){return 0},set:function(t){}},{key:"Vg",get:function(){return tk.UO().mI()}},{key:"Hg",get:function(){return $b.qI},set:function(t){}},{key:"zl",get:function(){return kw.ww}},{key:"qg",get:function(){return tk.UO().mI()}},{key:"Pw",get:function(){return!1}},{key:"cg",get:function(){return this.eC}},{key:"xw",get:function(){return 0}},{key:"og",get:function(){return this.iC}},{key:"Lw",get:function(){return 0}},{key:"Bw",get:function(){return 1},set:function(t){}},{key:"Wg",get:function(){return this.LR}},{key:"zg",get:function(){return!1},set:function(t){}},{key:"Dg",get:function(){return!1}}]),n}(dw);function ok(t){if(t&&At(t))return gr({},t,{integration:ck(t.integration),fairplay:lk(t.fairplay),widevine:ak(t.widevine),playready:fk(t.playready),clearkey:wk(t.clearkey),aes128:gk(t.aes128),integrationParameters:yk(t.integrationParameters),preferredKeySystems:mk(t.preferredKeySystems)})}function ck(t){if(xt(t))return t}function ak(t){if(t&&At(t))return{persistentState:hk(t.persistentState),distinctiveIdentifier:hk(t.distinctiveIdentifier),audioRobustness:vk(t.audioRobustness),videoRobustness:vk(t.videoRobustness),licenseAcquisitionURL:xt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:dk(t.licenseType),headers:t.headers,useCredentials:!!Lt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:xt(t.certificate)||Ls(t.certificate)?t.certificate:void 0}}function fk(t){if(t){var n=ak(t);if(n)return gr({},n,{customData:xt(t.customData)?t.customData:void 0})}}function hk(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function vk(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function dk(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function lk(t){if(t){var n=ak(t);if(n)return gr({},n,{certificateURL:xt(t.certificateURL)?t.certificateURL:void 0})}}function wk(t){if(t){var n=ak(t);if(n)return gr({},n,{keys:Nt(t.keys)?t.keys.map(function(t){return function(t){if(!t||!At(t))return;var n=t.id,i=t.value;if(!xt(n)||!xt(i))return;return{id:n,value:i}}(t)}).filter(Ot):void 0})}}function gk(t){if(At(t))return{useCredentials:Lt(t.useCredentials)?t.useCredentials:void 0}}function yk(t){if(At(t))return t}function mk(t){return t&&Nt(t)?t.map(function(t){return rp(t)}).filter(Ot):[Pr,Nr,Mr]}var _k,pk=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return vt(n,t),n}(Au),bk=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).rC=[],e.uC=void 0,e.sC=function(t){Tu(function(){e.Qr(t)})},e.uC=i?e.sC:e.Qr,e}vt(n,t);var i=n.prototype;return i.oC=function(t){t.eu(this.uC),this.rC.push(t)},i.cC=function(t){t.cu(this.uC),au(this.rC,t)},i.et=function(){this.ru();for(var t=0,n=this.rC;t<n.length;t++){n[t].cu(this.uC)}vu(this.rC)},n}(vw),kk=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(bk);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(_k||(_k={}));var Tk,Sk=function(t){function i(n){var i;return(i=t.call(this)||this).aC=void 0,i.fC=void 0,i.hC=!1,i.vC=!1,i.dC=void 0,i.lC=void 0,i.wC=void 0,i.Vd=void 0,i.gC=function(){return i.yC()},i.mC=function(){return i._C()},i.wC=n,i.aC=i.fC=i.dC=i.lC=_k.INLINE,i.wC.nu(Zb.tl,i.gC),i.wC.nu(Zb.Bl,i.mC),i.pC(),i}vt(i,t);var e=i.prototype;return e.qd=function(){return t=this,i={get currentMode(){return t.bC()},requestMode:function(n){var i=Rk(n);i&&t.kC(i)},supportsMode:function(n){var i=Rk(n);return!!i&&t.TC(i)},addEventListener:function(t,i){n.nu(t,i)},removeEventListener:function(t,i){n.uu(t,i)}},(n=new bk(i,!0)).oC(t),i;var t,n,i},e.kC=function(t){this.SC(t,t)},e.SC=function(t,n){this.fC!==n&&(this.hC=!0,this.aC=t,this.EC(n,this.fC),t!==_k.FULLSCREEN&&(this.dC=t),this.hC=!1,this.pC())},e.bC=function(){return this.vC?_k.FULLSCREEN:_k.INLINE},e.TC=function(t){switch(t){case _k.FULLSCREEN:return this.wC.qO;case _k.INLINE:return!0}return!1},e.pC=function(){if(!this.hC){var t=this.fC,n=this.bC();this.fC=n,n!==_k.FULLSCREEN&&(this.lC=n),t!==n&&this.tu(new pk(n))}},e.EC=function(t,n){var i=t===_k.FULLSCREEN;this.vC=i,i!==this.wC.HO&&(i?this.wC.oy():this.wC.hy())},e.yC=function(){if(!this.hC){var t=this.wC.HO;this.vC=t,t?this.SC(_k.FULLSCREEN,_k.FULLSCREEN):t||this.aC!==_k.FULLSCREEN?this.pC():this.SC(this.dC,this.lC)}},e._C=function(){this.yC(),this.tu(new ig(new Ac(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.et=function(){this.wC.et(),this.ru()},ft(i,[{key:"Hd",get:function(){return this.Vd||(this.Vd=this.qd()),this.Vd}}]),i}(vw),Ek={Rw:0,Iw:NaN,Ow:!1,wu:void 0,Cw:void 0,Nw:!1,Dw:!0,Aw:1,zl:kw.ww,Pw:!1,xw:0,Lw:0,Bw:1};function Rk(t){switch(t){case _k.INLINE:case _k.FULLSCREEN:case _k.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}(Tk||(Tk={}));var Ik,Ok,Ck,Nk,Dk,Ak,Pk,xk,Lk=function(){function t(){this.RC=[]}var n=t.prototype;return n.IC=function(t){var n=this.OC.filter(function(n){return n.CC(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.NC=function(t){this.RC.push(t)},ft(t,[{key:"OC",get:function(){return this.RC}}]),t}();Lk.ni=new Lk,function(t){t.Ew="PLAYING",t.Kw="PAUSED",t.DC="SEEK",t.AC="STALLED",t.xC="FAILED",t.LC="INITIAL_BUFFERING",t.BC="NO_ACCESS"}(Ik||(Ik={})),function(t){t.MC="HTTP_REQUEST_STATUS_CODE_1XX",t.FC="HTTP_REQUEST_STATUS_CODE_2XX",t.UC="HTTP_REQUEST_STATUS_CODE_3XX",t.VC="HTTP_REQUEST_STATUS_CODE_4XX",t.HC="HTTP_REQUEST_STATUS_CODE_5XX",t.qC="BUFFER_LENGTH",t.WC="BYTES_RECEIVED",t.zC="SEGMENT_READ_BITRATE",t.jC="SEGMENT_PROFILE_BITRATE",t.$C="NUMBER_OF_FRAMES_DROPPED",t.XC="PLAYBACK_POSITION",t.GC="NUMBER_OF_FRAMES_DECODED",t.YC="PLAYBACK_DELTA_TO_ORIGIN",t.KC="STREAM_DELTA_TO_ORIGIN",t.JC="ORIGIN_TIMESTAMP"}(Ok||(Ok={})),function(t){t.ZC="MANIFEST_URI",t.QC="ASSET_DURATION",t.tN="NUMBER_OF_CONTENT_PROFILES",t.nN="CDN",t.iN="CONTENT_TITLE",t.eN="SERVICE_NAME",t.rN="CONTENT_TYPE",t.uN="CONTENT_DESCRIPTION"}(Ck||(Ck={})),function(t){t.sN="shutdown_normal_shutdown"}(Nk||(Nk={})),function(t){t.oN="session/",t.cN="internalError/",t.aN="drmError/",t.fN="caError/",t.hN="networkError/"}(Dk||(Dk={})),function(t){t.vN="userAction",t.dN="endOfStreamReached"}(Ak||(Ak={})),function(t){t.PAUSE="lN",t.RESUME="wN"}(Pk||(Pk={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(xk||(xk={}));var Bk,Mk,Fk,Uk,Vk,Hk,qk="agama";function Wk(t){return function(t){switch(t){case Bk.NONE:case Bk.HORIZONTAL:case Bk.VERTICAL:return!0;default:return!1}}(t)?t:Bk.NONE}function zk(t){switch(t){case"":return Bk.NONE;case"horizontal":return Bk.HORIZONTAL;case"vertical":return Bk.VERTICAL;default:throw new h}}function jk(t,n){if(n)return Mk.PM360;if(null==t)return Mk.NONE;switch(t){case"":return Mk.NONE;case"360":return Mk.PM360;case"180":return Mk.PM180;default:throw new h("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}function $k(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!xt(t))return Fk.HI;switch(t){case"always":return Fk.gN;case"never":return Fk.yN;case"clear-only":return Fk.CLEAR_ONLY;case"same-drm-only":return Fk.SAME_DRM_ONLY;default:return Fk.HI}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:jl(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?$l(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:jl(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:jl(null==t?void 0:t.ignoreAvailabilityWindow)}}function Xk(t){if(!t||!xt(t))return Uk.HI;switch(t){case"playlist":return Uk.mN;case"media":return Uk._N;default:return Uk.HI}}function Gk(t,n){return t.length>0?t:n.length>0?n:void 0}function Yk(t){if(null!==t)return t}function Kk(t){var n={};if(!At(t))return n;var i=t;for(var e in i)if(v.prototype.hasOwnProperty.call(i,e)){var r=i[e];xt(r)&&(n[e]=r)}return n}function Jk(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:Yk(t.streamActivityMonitorID),adTagParameters:At(t.adTagParameters)?t.adTagParameters:{},authToken:Yk(t.authToken),omidAccessModeRules:t.omidAccessModeRules?Kk(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?gr({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void st.Ae("A VOD DAI configuration was provided without valid contentSourceID which is required."):void st.Ae("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?gr({},i,{availabilityType:"live",assetKey:u}):void st.Ae("A Live DAI configuration was provided without valid assetKey which is required.")}st.Ae("A DAI configuration was provided without a valid availabilityType which is required.")}function Zk(t){if(!K_(t)||!t.integration)return t;switch(t.integration){case m_:return n=t,i=ep(Er.yr,n),e=ep(Er.gr,n),r=n[Er._r]&&ep(Er._r,n),gr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Bk||(Bk={})),function(t){t.NONE="",t.PM360="360",t.PM180="180"}(Mk||(Mk={})),function(t){t.HI="auto",t.gN="always",t.yN="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(Fk||(Fk={})),function(t){t.HI="auto",t.mN="playlist",t._N="media"}(Uk||(Uk={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(Vk||(Vk={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Hk||(Hk={}));var Qk="https://content.uplynk.com";function tT(t){if(!t)return!0;var n,i,e=!(Dw(n=t.sources)||Dt(n)&&Dw(n[0]))||Aw(t.sources),r=!t.ads||(!(i=t.ads)||Nt(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function nT(t){if(t&&t.sources)return function t(n){if(xt(n))return n;if(Cw(n))return n.src;if(Dt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function iT(t,n,i){return Iw(t)?function(t,n,i){var e=gr({},Pw(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:Vk.VERIZON_MEDIA,id:"",prefix:Qk,preplayParameters:{},playbackUrlParameters:{},assetType:Hk.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,xt(r)?r:Dt(r)&&xt(r[0])?r:At(u=r)&&xt(u.userId)&&(Dt(u.externalId)||xt(u.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return Hk.CHANNEL;case"event":return Hk.EVENT;case"asset":default:return Hk.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=jl(t.contentProtected));t.assetInfo?e.assetInfo=jl(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Gl(t.prefix)||Qk);return e.ping=(s=e.assetType,o=t.ping,c=!1,a=!1,f=!1,o?(c=!!Lt(o.adImpressions)&&o.adImpressions,a=!!Lt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,f=Lt(o.linearAdData)?o.linearAdData:s!==Hk.ASSET):s!==Hk.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),e=rT(e=uT(e=eT(e,t),n,i),t,i);var s,o,c,a,f}(t,n,i):function(t,n,i){var e=xw(),r=n&&(n.contentProtection||n.drm);if(xt(t)){if(e.src=t,e.type=Ew(t),r){var u=ok(r);e.contentProtection=Zk(u)}}else if(Cw(t)||Rw(t)){e.src=t.src,e.type=t.type||Ew(t.src),e.isAdvertisement=t.isAdvertisement;var s=Nw(t)?t.hesp:void 0;void 0!==s&&(e.hesp=s);var o=At(f=t)&&xt(f.integration)&&"mediatailor"===f.integration;o&&(e.integration=t.integration);var c=t.contentProtection||t.drm||r,a=ok(c);e.contentProtection=Zk(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return Jk(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=eT(e,t)}var f;return e=rT(e=uT(e,n,i),t,i)}(t,n,i)}function eT(t,n){var i,e;n.useCredentials?t.crossOrigin=mw.dw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case mw.vw:case mw.dw:return t;default:return mw.hw}}(n.crossOrigin)),xt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=jl(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=jl(n.useNativePlayback)),n.dash&&(t.dash=$k(n.dash)),n.hls&&(t.hls={discontinuityAlignment:Xk(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,Ot(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=jl(n.lcevc));var r=void 0!==n.experimentalRendering?jl(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var u=void 0!==n.nativeUiRendering?jl(n.nativeUiRendering):void 0;return void 0!==u&&(t.nativeUiRendering=u),t}function rT(t,n,i){return t.abr=function(t,n){var i=Yl(null==t?void 0:t.preferredAudioCodecs,Gl),e=Yl(null==t?void 0:t.preferredVideoCodecs,Gl),r=Yl(null==n?void 0:n.preferredAudioCodecs,Gl),u=Yl(null==n?void 0:n.preferredVideoCodecs,Gl),s=Gk(i,r),o=Gk(e,u);if(s||o)return{preferredAudioCodecs:s,preferredVideoCodecs:o}}(xt(n)?void 0:n.abr,null==i?void 0:i.abr),t}function uT(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!Ot(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Ot(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===mw.hw&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=mw.vw),t.useCredentials=t.crossOrigin===mw.dw,xt(r)&&!t.timeServer&&(t.timeServer=r),t}function sT(t){var n={src:""};if(t&&t.src){if(n.src=Gl(t.src),"default"in t&&(n.default=jl(t.default)),n.kind=xm(t.kind),function(t){switch(t){case qg.DEFAULT:case qg.SRT:case qg.TTML:case qg.WEBVTT:case qg.EMSG:case qg.EVENT_STREAM:case qg.ID3:case qg.CEA608:case qg.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function oT(t,n){if(Pt(t))try{return n.IC(t).pN(t)}catch(t){return}}function cT(t){return xt(t.sources)&&""!==t.sources||At(t.sources)&&xt(t.sources.src)}function aT(t){return t.integration===Tk.SPOTX&&!g(t.id)}function fT(t){return"freewheel"===t.integration}function hT(t,n,i){if(void 0===i&&(i=Lk.ni),tT(t))return{sources:[xw()]};var e=Hl(t);if(e.sources=function(t,n,i){if(Dw(t))return[iT(t,n,i)];if(Dt(t)&&Dw(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(iT(u,n,i))}return e}return[xw()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!Dt(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var u=r[e];(u=oT(u,n))&&(cT(u)||aT(u)||fT(u))&&i.push(u)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,s,o,c=!Aw(e.sources),a=e.ads&&e.ads.length>0;if(c&&!a?delete e.ads:a&&!c&&(e.sources=[]),"textTracks"in e){var f=function(t){if(!Dt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=sT(r)).src&&n.push(r)}return n}(e.textTracks);0===f.length?delete e.textTracks:e.textTracks=f}if("poster"in e&&(e.poster=Gl(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(s=u||{}).stereoMode=Wk(s.stereoMode),{panoramaMode:jk(s.panoramaMode,Boolean(s[360])),stereoMode:s.stereoMode?zk(s.stereoMode):Bk.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var h=Bw(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Hl(t),e=function(e){var r=n[e],u=!t.some(function(t){return t.integration===r.integration});u&&r.integration!==qk&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(h,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=rg(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=$l(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var vT=function(){function t(t){this.bN=t}return t.prototype.kN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.bN.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.bN.indexOf(t.charAt(n))<<18|this.bN.indexOf(t.charAt(n+1))<<12|(u=this.bN.indexOf(t.charAt(n+2)))<<6|(s=this.bN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.TN=function(t,n){var i,e,r,u,s,o,c,a=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.bN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.bN.charAt(e)+this.bN.charAt(r)+this.bN.charAt(u)+this.bN.charAt(s);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.m_=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.SN=new t(t.m_.kN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function dT(t){return"string"==typeof t}function lT(t){return"number"==typeof t}var wT={}.toString;var gT,yT=Array.isArray||function(t){return"[object Array]"===wT.call(t)};function mT(t,n){return yT(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(gT||(gT={}));var _T,pT=v.keys(gT).map(function(t){return gT[t]});function bT(t){return-1!==pT.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview"}(_T||(_T={}));var kT,TT=v.keys(_T).map(function(t){return _T[t]});function ST(t){return-1!==TT.indexOf(t)}function ET(t){try{var n=vT.SN.kN(t),i=JSON.parse(n);if(!function(t,n){var i,e=(d=t,"object"==typeof d&&null!==d),r=dT(t.key),u=dT(t.customer_id),s=lT(t.generation_date),o=lT(t.expiration_date),c=mT(t.domains_page,dT),a=mT(t.domains_source,dT),f=mT(t.sdks,n?bT:dT),h=(v=t.send_impression,"boolean"==typeof v);var v;var d;t.features?i=mT(t.features,n?ST:dT):(i=!0,t.features=[]);if(!(e&&r&&u&&s&&o&&c&&a&&f&&h&&i))return!1;return!0}(i,!1))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function RT(){return kT||(kT={Kh:tt.href,EN:Q.parent&&Q.parent!==i,RN:CT()}),kT}var IT,OT=["http:","https:","ftp:","ws:","wss:"];function CT(){try{return Q.top.location.href}catch(t){return Q&&Q.document&&Q.document.referrer}}!function(t){t[t.IN=0]="IN",t[t.ON=1]="ON",t[t.CN=2]="CN"}(IT||(IT={}));var NT,DT=function(t,n,i,e,r,u,s,o,c){void 0===r&&(r=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===c&&(c=!0),this.NN=t,this.DN=n,this.AN=i,this.PN=e,this.xN=r,this.LN=u,this.BN=s,this.MN=o,this.FN=c};!function(t){t.ON="expired",t.UN="invaliddomain",t.VN="invalidsource",t.HN="invalidfeature",t.Bl="error"}(NT||(NT={}));var AT=function(){function t(t,n,i){this.qN=void 0,this.WN=t,this.zN=n,this.Ds=i,this.qN=FT(this.Ds)}var n=t.prototype;return n.jN=function(t,n){var i=[];Dw(t.sources)?i=[t.sources]:Dt(t.sources)&&(i=t.sources),this.$N(t,i,n),this.XN(i,n)},n.$N=function(t,n,i){var e=this;if(!tT(t)&&0!==i.AN.length&&!LT(i.AN)&&!n.every(function(t){return e.GN(t,i)})){var r=NT.VN,u=VT.YN(r);throw new Ac(PT(r),u)}},n.XN=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];Cw(e)&&Nw(e)&&this.KN([_T.HESP],n)}},n.JN=function(n){return this.ZN(n.MN)&&this.QN(n)?t.tD(n.PN)?IT.IN:IT.ON:IT.CN},n.KN=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(!hu(n.xN,e)){var r=NT.HN,u=VT.nD(r,e);throw new Ac(PT(r),u)}}},n.ZN=function(t){var n=this;return 0===t.length||t.some(function(t){return n.iD(t)})},n.iD=function(t){return"tvos"===function(t){switch(t){case gT.ANDROID:return ot.dt;case gT.ANDROIDTV:case gT.FIRETV:return ot.wt;case gT.IOS:return ot.yt;case gT.TVOS:return ot._t;case gT.CHROMECAST:case gT.CHROMECASTCAF:return ot.pt;default:return ot.vt}}(t)},t.tD=function(t){var n=Number(new Date);return!!t&&n<=t},n.QN=function(t){return!(this.qN&&0!==t.DN.length&&!LT(t.DN))||!!(this.qN&&this.eD(t.DN)&&this.rD(t.DN))},n.eD=function(t){return BT(this.Ds.Kh,t)},n.rD=function(t){if(!this.Ds.EN)return!0;if(this.WN)return!0;var n=this.uD();return!!n&&BT(n,t)},n.uD=function(){if(this.Ds.EN){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ds.RN?this.Ds.RN:void 0}},n.GN=function(n,i){return!!t.sD(n,i.AN)},t.sD=function(t,n){return BT(this.oD(t),n)},t.oD=function(t){return xt(t)?t:Cw(t)&&t.src||""},t}();function PT(t){switch(t){case NT.UN:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case NT.VN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case NT.ON:return n.ErrorCode.LICENSE_EXPIRED;case NT.HN:return n.ErrorCode.LICENSE_INVALID_FEATURE;case NT.Bl:return n.ErrorCode.LICENSE_ERROR}}function xT(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+r+s+r+s+r+s+"\\)"),c=e.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+r+a(c[2])+r+a(c[3])+r+a(c[4])+"$");return null!==i.match(f)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function LT(t){return t.some(function(t){return"*"===t})}function BT(t,n){var i=st.Xe(t);if(!MT(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(xT(i.hostname,r))return!0;if(xT(zv(t),r))return!0}return!1}function MT(t){return-1!==OT.indexOf(t.protocol)}function FT(t){var n=st.Xe(t.Kh);return MT(n)&&!xT(n.hostname,"localhost")&&!function(t){return xT(t.hostname,"theoplayer.doubleclick.net")}(n)}var UT,VT=function(){function t(){}return t.nD=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.YN=function(t){return t===NT.UN?this.cD:t===NT.VN?this.aD:t===NT.ON?this.fD:t===NT.HN?this.hD:this.vD},t}();function HT(t){var n=[t.jk,t.dD,t.lD];switch(t.dD){case UT.wD:n.push(t.Xl);break;case UT.gD:n.push(t.Rw),n.push(t.wu);break;case UT.yD:n.push(t.wu)}return n}VT.vD="The license for this player is invalid.",VT.fD="The usage license for this video player has expired.",VT.cD="The current domain is incompatible with the license for this player.",VT.aD="The provided video source is incompatible with the license for this player.",VT.hD="The requested feature is not available with the license for this player.",function(t){t[t.wD=1]="wD",t[t.gD=4]="gD",t[t.yD=5]="yD"}(UT||(UT={}));for(var qT=new Array(256),WT=0;WT<256;WT+=1)qT[WT]=(WT<16?"0":"")+WT.toString(16);function zT(){var t=Rn(),n=(4294967296*d.random()|0)+t&3029421624,i=(4294967296*d.random()|0)+t&3595553209,e=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return qT[255&n]+qT[n>>>8&255]+qT[n>>>16&255]+qT[n>>>24&255]+"-"+qT[255&i]+qT[i>>>8&255]+"-"+qT[i>>>16&15|64]+qT[i>>>24&255]+"-"+qT[63&e|128]+qT[e>>>8&255]+"-"+qT[e>>>16&255]+qT[e>>>24&255]+qT[255&r]+qT[r>>>8&255]+qT[r>>>16&255]+qT[r>>>24&255]}var jT=function(){function t(t){this.bN=void 0,this.bN=t}var n=t.prototype;return n.kN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.bN.indexOf(t.charAt(n))<<18|this.bN.indexOf(t.charAt(n+1))<<12|(u=this.bN.indexOf(t.charAt(n+2)))<<6|(s=this.bN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.TN=function(t){var n,i,e,r,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.bN.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=n>>12&63,r=n>>6&63,u=63&n,c[s/3]=this.bN.charAt(i)+this.bN.charAt(e)+this.bN.charAt(r)+this.bN.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function $T(){return st.Re()}jT.m_=new jT(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),jT.SN=new jT(jT.m_.kN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var XT,GT="theoplayer-session-id";function YT(){if(!XT){var t=Jc.Tu(GT);t?XT=t:(XT=zT(),Jc.Sa(GT,XT))}return XT}var KT=/[^\x00-\x7E]/g;function JT(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var ZT=0,QT=1,tS=6e4;function nS(t){var n,i,e,r,u,s=(n=function(t){return[t.mD,t.gc,t.NN,t.zp,t._D,t.pD,t.bD.map(HT)]}(t),i=[],e=n,r=function(t,n){if(At(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(KT,JT));return jT.SN.TN(s)}var iS=function(){function t(t,n,i,e,r,u){var s=this;void 0===e&&(e=jT.m_),void 0===r&&(r=ZT),void 0===u&&(u=QT),this.kD=[],this.TD=null,this.SD=0,this.ED="unknown",this.ao=0,this.RD=void 0,this.OD=function(){$T()-s.SD>tS&&s.H()},this.CD=function(){s.H(!0)},this.xo=t,this.$T=n,this.ND=i,this.DD=e,this.PD=r,this.xD=u,Z.ct(this.CD),this.RD=c(this.OD,tS)}var n=t.prototype;return n.LD=function(){return Boolean(this._D)},n.BD=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.ND.MD());case 2:if(i.sent.FN){i.next=5;break}return i.abrupt("return");case 5:return n={dD:UT.wD,lD:Rn(),Xl:t},i.next=8,wr.awrap(this.FD(n));case 8:case"end":return i.stop()}},null,this,null,j)},n.UD=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={dD:UT.gD,lD:Rn(),Rw:n,wu:t},e.next=3,wr.awrap(this.FD(i));case 3:case"end":return e.stop()}},null,this,null,j)},n.VD=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={dD:UT.yD,lD:Rn(),wu:t},i.next=3,wr.awrap(this.FD(n));case 3:case"end":return i.stop()}},null,this,null,j)},n.FD=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.ND.MD());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.DD.TN(n.NN)){i.next=6;break}if(t.dD===UT.yD){i.next=6;break}return i.abrupt("return");case 6:if(t.dD===UT.wD?this.HD():this.LD()||this.HD(),t.jk=this.ao++,this.kD.push(t),(e=t.dD)!==UT.wD&&e!==UT.yD){i.next=14;break}return i.next=12,wr.awrap(this.H());case 12:i.next=19;break;case 14:if(!(this.kD.length>this.PD)){i.next=19;break}return i.next=17,wr.awrap(this.qD());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,j)},n.H=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.kD.length>0)){n.next=6;break}return n.next=4,wr.awrap(this.qD(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,j)},n.WD=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.ND.MD());case 2:return n=i.sent,i.abrupt("return",{mD:Rn(),gc:YT(),NN:this.DD.TN(n.NN)||"dev",zp:this.xo,_D:this.TD,pD:this.ED,bD:t});case 4:case"end":return i.stop()}},null,this,null,j)},n.qD=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.kD.splice(0,this.xD),e.next=4,wr.awrap(this.WD(n));case 4:i=e.sent,t?this.bv(i):this.zD(i),this.SD=$T();case 7:case"end":return e.stop()}},null,this,null,j)},n.zD=function(t){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=nS(t),i=new Bv({Kh:"https://license.theoplayer.com",Ah:n,_v:!1,jh:ia.si,zh:{"Content-Type":Mp.SE},gv:4e3,wv:Dv.POST}),r.prev=2,r.next=5,wr.awrap(this.$T.Gh(i));case 5:return e=r.sent,r.next=8,wr.awrap(e.Ch());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],j)},n.bv=function(t){var n=nS(t);this.$T.bv({Kh:"https://license.theoplayer.com",Ah:n,Dh:Mp.SE})},n.HD=function(){this.LD()&&this.H(),this.TD=zT(),this.ao=0},n.et=function(){Z.ft(this.CD),a(this.RD),this.H()},ft(t,[{key:"bD",get:function(){return this.kD}},{key:"_D",get:function(){return this.TD}}]),t}();var eS=Et.Bn||Et.kn&&Et.qn<13;function rS(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var uS=function(){function t(t){this.MI=void 0,this.Vd=void 0,this.jD=void 0,this.MI=t}var n=t.prototype;return n.$D=function(t){if(!t||!t.drawImage)return!1;var n=this.MI.pg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.XD=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.MI,c=o.pg();if(!c)return!1;if(eS){this.jD||(this.jD=e.createElement("canvas"));var a=this.jD,h=a.getContext("2d"),v=o.Lw,d=o.xw,l=a.width,w=a.height;h.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),h.drawImage(c,0,0,v,d);var g=!1;v>0&&rS(h,v-1,0)&&(a.width=l,g=!0),d>0&&rS(h,0,d-1)&&(a.height=w,g=!0),g&&h.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,i,r,u,s,c)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},ft(t,[{key:"Hd",get:function(){return this.Vd||(this.Vd=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.$D.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,u,s){return t.XD(n,i,e,r,u,s)}}));var t}}]),t}(),sS=function(t){function n(n,i){var e;return(e=t.call(this,"GD")||this).Ly=n,e.Eb=i,e}return vt(n,t),n.prototype.qd=function(){return new oS(this.Ly,this.Eb)},n}(El),oS=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return vt(n,t),n}(Au),cS=function(t,n){this.Ng=void 0,this.YD=void 0,this.Ng=t,this.YD=n},aS=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).KD=void 0,e.JD=0,e.ZD=0,e.QD=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.ZD=n.width,e.JD=n.height,e.YD(e.ZD,e.JD)}},e.KD=new Q.ResizeObserver(e.QD),e.KD.observe(e.Ng),e}return vt(n,t),n.prototype.et=function(){this.KD.disconnect()},ft(n,[{key:"tA",get:function(){return this.JD}},{key:"nA",get:function(){return this.ZD}}]),n}(cS),fS=0;var hS,vS=o,dS=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,lS=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function wS(){return hS||(hS=Q&&Q.document&&Q.document.createElement("span")),hS}dS&&lS||(dS=function(t){var n=$T(),i=d.max(0,16-(n-fS)),e=s(function(){return t(n+i)},i);return fS=n+i,e},lS=vS),dS=dS.bind(t),lS=lS.bind(t);var gS=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==Q&&"function"==typeof Q.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});Q.addEventListener("testPassiveEventSupport",Ft,n),Q.removeEventListener("testPassiveEventSupport",Ft,n)}}catch(t){}}();var yS=mr();function mS(t){return yS.has(t)||yS.set(t,function(t){var n=wS();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<gS.length;e++){var r=gS[e],u=r+i;if(void 0!==n.style[u])return u}return t}(t)),yS.get(t)}function _S(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function pS(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[mS("transition")]="0s"}var bS=function(t){function n(n,r,u){var o;(o=t.call(this,n,r)||this).iA=void 0,o.eA=0,o.ZD=NaN,o.JD=NaN,o.rA=void 0,o.uA=void 0,o.sA=void 0,o.oA=void 0,o.cA=void 0,o.Sc=function(){o.uA.style.width=1e5+"px",o.uA.style.height=1e5+"px",o.rA.scrollLeft=1e5,o.rA.scrollTop=1e5,o.sA.scrollLeft=1e5,o.sA.scrollTop=1e5,0===o.sA.scrollTop&&dS(o.Sc)},o.aA=function(){var t=o.nA,n=o.tA;o.YD(t,n),o.ZD=t,o.JD=n,o.Sc(),o.eA=0},o.fA=function(){if(!o.eA){var t=o.nA,n=o.tA;t===o.ZD&&n===o.JD||(o.eA=dS(o.aA))}},o.hA=function(){o.cA||(o.cA=s(o.vA,66))},o.vA=function(){o.cA=void 0,o.dA()},o.dA=function(){o.fA()};var c=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var a,f=e.createElement("div");return o.iA=f,o.rA=e.createElement("div"),o.uA=e.createElement("div"),o.sA=e.createElement("div"),o.oA=e.createElement("div"),_S(o.rA),_S(o.sA),pS(o.uA),pS(a=o.oA),a.style.width="200%",a.style.height="200%",f.appendChild(o.rA),f.appendChild(o.sA),o.rA.appendChild(o.uA),o.sA.appendChild(o.oA),n.appendChild(f),o.rA.addEventListener("scroll",o.fA),o.sA.addEventListener("scroll",o.fA),i&&i.addEventListener("resize",o.hA),o.fA(),o}return vt(n,t),n.prototype.et=function(){lS(this.eA),this.eA=0,this.rA.removeEventListener("scroll",this.fA),this.sA.removeEventListener("scroll",this.fA),je(this.iA),i&&i.removeEventListener("resize",this.hA)},ft(n,[{key:"tA",get:function(){return this.Ng.getBoundingClientRect().height||this.JD||0}},{key:"nA",get:function(){return this.Ng.getBoundingClientRect().width||this.ZD||0}}]),n}(cS),kS=function(t){function n(n){var i;return(i=t.call(this)||this).Ng=void 0,i.KD=void 0,i.QD=function(t,n){i.tu(new sS(t,n))},i.Ng=n,i}vt(n,t);var i=n.prototype;return i.kc=function(t){this.KD||("function"==typeof Q.ResizeObserver?this.KD=new aS(this.Ng,this.QD):this.KD=new bS(this.Ng,this.QD,t))},i.et=function(){this.ru(),this.KD&&(this.KD.et(),this.KD=void 0)},ft(n,[{key:"tA",get:function(){return this.KD?this.KD.tA:0}},{key:"nA",get:function(){return this.KD?this.KD.nA:0}}]),n}(Nu),TS=function(t){function n(){return t.call(this,Zb.tl)||this}return vt(n,t),n}(Au);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{lA:i[0],wA:i[1],gA:i[2],yA:i[3],mA:i[4],_A:i[5]}}}();var SS=function(t){function n(){return t.call(this,Zb.VO)||this}return vt(n,t),n}(Au),ES=function(t){function n(n,i){var e;return(e=t.call(this)||this).MI=void 0,e.pA=void 0,e.bA=void 0,e.kA=!1,e.TA=function(){return e.hc()},e.gC=function(t){e.kA||e.tu(t)},e.MI=n,e.pA=i,e.bA=ek,e.SA(),e.MI.nu(na.Ma,e.TA),e.hc(),e}vt(n,t);var i=n.prototype;return i.oy=function(){this.pA&&this.bA.oy()},i.hy=function(){this.bA.hy()},i.SA=function(){this.bA.nu(Zb.tl,this.gC),this.bA.nu(Zb.Bl,this.Qr)},i.EA=function(){this.bA.uu(Zb.tl,this.gC),this.bA.uu(Zb.Bl,this.Qr)},i.hc=function(){var t=this.bA,n=this.MI.bg();if(t!==n){this.kA=!0;var i=this.HO,e=this.qO;i&&this.hy(),this.EA(),this.bA=n,this.SA(),i&&!this.HO&&this.qO?this.oy():this.hy(),this.kA=!1,e!==this.qO&&this.tu(new SS),i!==this.HO&&this.tu(new TS)}},i.et=function(){this.ru(),this.EA(),this.MI.uu(na.Ma,this.TA)},ft(n,[{key:"qO",get:function(){return!!this.pA&&this.bA.qO}},{key:"HO",get:function(){return this.bA.HO}}]),n}(Nu);function RS(t){var n;return{get url(){return t.Kh},get method(){return t.wv},get headers(){return n||(n=t.zh.df()),n},get body(){return t.Ah},get useCredentials(){return t._v},get type(){return DS(t.br)},get subType(){return PS(t.yv)},get mediaType(){return LS(t.mv)},get responseType(){return OS(t.jh)}}}function IS(t){switch(t.toLowerCase()){case"arraybuffer":return ia.ff;case"json":return ia.hf;case"stream":return ia.vf;case"text":default:return ia.si}}function OS(t){return t}function CS(t){switch(t.toUpperCase()){case"POST":return Dv.POST;case"PUT":return Dv.PUT;case"DELETE":return Dv.DELETE;case"HEAD":return Dv.HEAD;case"OPTIONS":return Dv.OPTIONS;case"GET":default:return Dv.GET}}function NS(t){switch(t.toLowerCase()){case"manifest":return Av.Qh;case"segment":return Av.tv;case"preload-hint":return Av.nv;case"content-protection":return Av.ev;default:return Av.Zh}}function DS(t){return t}function AS(t){switch(t.toLowerCase()){case"initialization-segment":return Pv.rv;case"fairplay-license":return Pv.uv;case"fairplay-certificate":return Pv.sv;case"widevine-license":return Pv.ov;case"widevine-certificate":return Pv.cv;case"playready-license":return Pv.av;case"clearkey-license":return Pv.fv;case"aes128-key":return Pv.hv;default:return Pv.Zh}}function PS(t){return t}function xS(t){switch(t.toLowerCase()){case"audio":return xv.vv;case"video":return xv.dv;case"text":return xv.si;case"image":return xv.lv;case"":default:return xv.Zh}}function LS(t){return t}var BS=function(){function t(t,n){this.RA=new Hs,this.IA=[],this.Vd=void 0,this.OA=!1,this.Pv=void 0,this.CA=0,this.NA=t,this.DA=n}var n=t.prototype;return n.Pp=function(){this.OA=!0,this.RA.Uu(null)},n.AA=function(){this.RA.Vu(new fv(this.IA))},n.PA=function(t){if(!this.xA)throw new h("Cannot respond more than once");if(!At(t))throw new h("Expected valid response");this.Pv=this.LA(t),this.Pp()},n.BA=function(){try{var t=this.DA(this.Hd);t?this.MA(t):this.FA||this.UA||this.Pp()}catch(t){this.IA.push(t),this.AA()}},n.MA=function(t){if(this.UA)throw new f("Request has been redirected or a response already exists");if(Bt(t))this.VA(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new Hs;try{var i=t(function(t){t?n.Vu(t):n.Uu(void 0)});Bt(i)&&n.Xr(i)}catch(t){n.Vu(t)}this.VA(n.Bu)}},n.VA=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.CA++,n.next=4,wr.awrap(t);case 4:this.CA--,this.FA||this.UA||(this.IA.length?this.AA():this.Pp()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.CA--,this.IA.push(n.t0),this.FA||this.UA||this.AA();case 13:case"end":return n.stop()}},null,this,[[0,8]],j)},ft(t,[{key:"HA",get:function(){return this.RA.Bu}},{key:"Hd",get:function(){return this.Vd||(this.Vd=this.qA()),this.Vd}},{key:"UA",get:function(){return this.OA}},{key:"xA",get:function(){return!this.OA}},{key:"FA",get:function(){return this.CA>0}},{key:"xv",get:function(){return this.Pv}}]),t}(),MS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).WA=void 0,r.WA=e,r.BA(),r}vt(n,t),n.zA=function(t,n,i){var e=void 0===t.body?i:t.body;return new Lv({Li:e,Gh:n.Gh,jh:n.Gh.jh,zh:t.headers,Wh:t.status,$h:t.statusText,Yh:t.url,Xh:!0},n)};var i=n.prototype;return i.qA=function(){return i=RS((t=this).Gh),{get closed(){return!t.xA},get request(){return i},get url(){return t.Kh},get status(){return t.Wh},get statusText(){return t.$h},get headers(){return n||(n=t.zh.df()),n},get body(){return t.Ah},respondWith:function(n){return t.PA(n)},waitUntil:function(n){return t.MA(n)}};var t,n,i},i.LA=function(t){return n.zA(t,this.NA,this.WA)},ft(n,[{key:"Ah",get:function(){return this.WA}},{key:"zh",get:function(){return this.NA.zh}},{key:"Gh",get:function(){return this.NA.Gh}},{key:"xv",get:function(){return this.Pv}},{key:"Wh",get:function(){return this.NA.Wh}},{key:"$h",get:function(){return this.NA.$h}},{key:"Kh",get:function(){return this.NA.Yh}}]),n}(BS),FS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).jA=void 0,r.$A=void 0,r.$A=e,r.BA(),r}vt(n,t);var i=n.prototype;return i.qA=function(){return t=this,{get url(){return t.Kh},get method(){return t.wv},get headers(){return n||(n=t.zh.df()),n},get body(){return t.Ah},get closed(){return!t.xA},get useCredentials(){return t._v},get type(){return DS(t.br)},get subType(){return PS(t.yv)},get mediaType(){return LS(t.mv)},get responseType(){return OS(t.jh)},redirect:function(n){return t.XA(n)},respondWith:function(n){return t.PA(n)},waitUntil:function(n){return t.MA(n)}};var t,n},i.LA=function(t){var n=this.NA.Ah,i=new Lv({Li:n,zh:{},Gh:this.NA,Yh:this.NA.Kh,jh:this.NA.jh,Wh:200,$h:"OK"});return MS.zA(t,i,n)},i.XA=function(t){if(!this.xA)throw new h("Cannot redirect, already redirected or has a response");var n;n=xt(t)?{url:t}:t,this.jA=function(t,n){return new Bv({Kh:void 0===t.url?n.Kh:t.url,wv:void 0!==t.method?CS(t.method):void 0,zh:t.headers,Ah:t.body,_v:t.useCredentials,br:void 0!==t.type?NS(t.type):void 0,yv:void 0!==t.subType?AS(t.subType):void 0,mv:void 0!==t.mediaType?xS(t.mediaType):void 0,jh:void 0!==t.responseType?IS(t.responseType):void 0},n)}(n,this.NA),this.Pp()},ft(n,[{key:"Ah",get:function(){return this.NA.Ah}},{key:"xA",get:function(){return this.$A&&!this.OA}},{key:"zh",get:function(){return this.NA.zh}},{key:"wv",get:function(){return this.NA.wv}},{key:"GA",get:function(){return this.jA}},{key:"xv",get:function(){return this.Pv}},{key:"jh",get:function(){return this.NA.jh}},{key:"gv",get:function(){return this.NA.gv}},{key:"Yr",get:function(){return this.NA.Yr}},{key:"br",get:function(){return this.NA.br}},{key:"yv",get:function(){return this.NA.yv}},{key:"mv",get:function(){return this.NA.mv}},{key:"Kh",get:function(){return this.NA.Kh}},{key:"_v",get:function(){return this.NA._v}},{key:"pv",get:function(){return this.NA.pv}}]),n}(BS);var US,VS=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new HS(n);return(e=t.call(this,r,i)||this).YA=void 0,e.YA=r,e}vt(n,t);var i=n.prototype;return i.KA=function(t){this.YA.KA(t)},i.JA=function(t){this.YA.JA(t)},i.ZA=function(t){this.YA.ZA(t)},i.QA=function(t){this.YA.QA(t)},i.tP=function(t){this.YA.tP(t)},n}(Fv),HS=function(){function t(t){this.kv=void 0,this.nP=[],this.iP=[],this.kv=t}var n=t.prototype;return n.Gh=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wr.awrap(this.eP(t,t.Yr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof jv)){i.next=12;break}return i.next=11,wr.awrap(this.rP(i.t0,t.Yr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,wr.awrap(this.uP(n,t.Yr));case 15:if(!Nv(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new Xv(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],j)},n.bv=function(t){return this.kv.bv(t)},n.eP=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:yu(n),i=t,r=0,u=this.nP.slice();case 3:if(!(r<u.length)){c.next=21;break}if(s=u[r],yu(n),(o=new FS(i,s,!e)).UA){c.next=17;break}return c.prev=8,c.next=11,wr.awrap(o.HA);case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(8),c.abrupt("continue",18);case 17:o.GA&&!e?i=o.GA:o.xv&&!e&&(e=o.xv);case 18:r++,c.next=3;break;case 21:if(!e){c.next=23;break}return c.abrupt("return",e);case 23:return c.abrupt("return",this.kv.Gh(i));case 24:case"end":return c.stop()}},null,this,[[8,13]],j)},n.rP=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof Xv?t.xv:new Lv({Li:null,Gh:t.Gh,Wh:0,$h:""}),r.next=3,wr.awrap(this.uP(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Nv(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new Xv(e);case 13:case"end":return r.stop()}},null,this,null,j)},n.uP=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=t,e=0,r=this.iP.slice();case 2:if(!(e<r.length)){c.next=23;break}return u=r[e],yu(n),c.next=7,wr.awrap(j.resolve(i.Du().Li(n)));case 7:if(s=c.sent,(o=new MS(i,u,s)).UA){c.next=19;break}return c.prev=10,c.next=13,wr.awrap(o.HA);case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(10),c.abrupt("continue",20);case 19:i=o.xv||i;case 20:e++,c.next=2;break;case 23:return c.abrupt("return",i);case 24:case"end":return c.stop()}},null,this,[[10,15]],j)},n.KA=function(t){this.nP.unshift(t)},n.JA=function(t){this.nP.push(t)},n.ZA=function(t){au(this.nP,t)},n.QA=function(t){this.iP.unshift(t)},n.tP=function(t){au(this.iP,t)},n.et=function(){this.kv.et(),vu(this.nP),vu(this.iP)},t}(),qS=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Vd=void 0,r.sP=function(t){r.tu(t)},r.oP=function(t){r.tu(t)},r.cP=n,r.$T=i,r.ZO=e,r.cP.nu(na.Wa,r.sP),r.cP.nu(na.qa,r.oP),r}vt(n,t);var i=n.prototype;return i.aP=function(t){this.ZO.aP(t)},i.KA=function(t){this.$T.KA(t)},i.ZA=function(t){this.$T.ZA(t)},i.QA=function(t){this.$T.QA(t)},i.tP=function(t){this.$T.tP(t)},i.et=function(){this.ru(),this.cP.uu(na.Wa,this.sP),this.cP.uu(na.qa,this.oP)},ft(n,[{key:"Hd",get:function(){var t;return this.Vd||(this.Vd=(t=this,{get online(){return t.Ug},get estimator(){return n=t.fP,{get bandwidth(){return n.oR},get roundTripTime(){return n.cR}};var n},setEstimator:function(n){t.aP(function(t){if(t)return{get oR(){return Xl(t.bandwidth)},get cR(){return Xl(t.roundTripTime)},sR:function(n){return function(t){if(t)return{hP:function(n){t.markRequestStart(n)},vP:function(n){t.markResponseStart(n)},dP:function(n,i){t.markResponseData(n,i)},lP:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(RS(n)))}}}(n))},addRequestInterceptor:function(n){t.KA(n)},removeRequestInterceptor:function(n){t.ZA(n)},addResponseInterceptor:function(n){t.QA(n)},removeResponseInterceptor:function(n){t.tP(n)},addEventListener:function(n,i){t.nu(n,i)},removeEventListener:function(n,i){t.uu(n,i)}})),this.Vd}},{key:"Ug",get:function(){return this.cP.Ug}},{key:"fP",get:function(){return this.ZO.fP}}]),n}(Nu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(US||(US={}));var WS=30,zS={type:US.BANDWIDTH},jS=20;function $S(t){var n,i,e,r=Hl(zS);return xt(t)?r.type=XS(t):At(t)&&function(t){switch(t){case US.PERFORMANCE:case US.QUALITY:case US.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=XS(t.type)),At(t)&&At(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=$l(n.bitrate),g(e)||(i.bitrate=e),i)),r}function XS(t){switch(t){case"bandwidth":return US.BANDWIDTH;case"performance":return US.PERFORMANCE;case"quality":return US.QUALITY}}var GS=function(t){function n(n){var i;return(i=t.call(this,"gP")||this).wP=n,i}return vt(n,t),n}(Au),YS=function(t){function n(n){var i;return(i=t.call(this,"mP")||this).yP=n,i}return vt(n,t),n}(Au),KS=function(t){function n(n){var i;return(i=t.call(this,"pP")||this)._P=n,i}return vt(n,t),n}(Au),JS=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(n=t.call.apply(t,[this].concat(r))||this).Vd=(i=Nn(n),{get strategy(){return{metadata:(t=i.yP).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.yP=$S(t)},get targetBuffer(){return i.wP},set targetBuffer(t){var n=$l(t);g(n)||(i.wP=n)},get bufferLookbackWindow(){return i._P},set bufferLookbackWindow(t){var n=$l(t);g(n)||(i._P=n<=0?WS:n)},get maxBufferLength(){return i.bP}}),n.kP=zS,n.TP=jS,n.SP=WS,n.EP=1/0,n.RP=void 0,n.IP=void 0,n}vt(n,t);var i=n.prototype;return i.OP=function(t){this.IP=t},i.aP=function(t){this.RP=t},i.CP=function(t){var n=d.min(t,.8*this.EP);if(n=d.max(10,n),this.EP===n)return!1;var i=this.NP;this.EP=n;var e=this.NP;return e!==i&&this.tu(new GS(e)),!0},ft(n,[{key:"DP",get:function(){switch(this.kP.type){case US.PERFORMANCE:return 0;case US.QUALITY:return 1/0;case US.BANDWIDTH:return this.kP.metadata&&void 0!==this.kP.metadata.bitrate?this.kP.metadata.bitrate:8*gw.uw();default:return 8*gw.uw()}}},{key:"Hd",get:function(){return this.Vd}},{key:"yP",get:function(){return this.kP},set:function(t){this.kP=t,this.tu(new YS(t))}},{key:"wP",get:function(){return this.TP},set:function(t){this.TP=t,this.tu(new GS(t))}},{key:"NP",get:function(){return d.min(this.TP,this.EP)}},{key:"_P",get:function(){return this.SP},set:function(t){this.SP=t,this.tu(new KS(t))}},{key:"bP",get:function(){return this.EP}},{key:"fP",get:function(){var t;return null!=(t=this.RP)?t:this.IP.kI}}]),n}(Nu),ZS=function(t){function n(){return t.call(this,"nl")||this}return vt(n,t),n.prototype.qd=function(){return new QS},n}(El),QS=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Au),tE=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).AP=void 0,r.kD=void 0,r.PP=function(t){Rl(t)&&Tu(function(){r.tu(t.Hd)})},r.AP=n,r.kD=i;for(var u=0,s=r.kD;u<s.length;u++){var o=s[u];r.AP.nu(o,r.PP)}return r}return vt(n,t),n.prototype.et=function(){this.ru();for(var t=0,n=this.kD;t<n.length;t++){var i=n[t];this.AP.uu(i,this.PP)}},n}(Nu),nE=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).AP=void 0,e.PP=function(t){Rl(t)&&Tu(function(){e.tu(t.Hd)})},e.AP=n,e.AP.eu(e.PP),e}return vt(n,t),n.prototype.et=function(){this.ru(),this.AP.cu(this.PP)},n}(vw);var iE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).yy=0,n.my=1/0,n.Vd=void 0,n}vt(n,t);var i=n.prototype;return i.Sc=function(){0===this.yy&&this.my===1/0||(this.yy=0,this.my=1/0,this.tu(new ZS))},i.xP=function(){return new tk([this.ly,this.wy],[!0,!0])},ft(n,[{key:"ly",get:function(){return this.yy},set:function(t){if(this.wy<=t)throw new f("Start time of a clip should be smaller than the end time.");this.yy!==t&&(this.yy=t,this.tu(new ZS))}},{key:"wy",get:function(){return this.my},set:function(t){if(t<=this.ly)throw new f("End time of a clip should be larger than the start time.");this.my!==t&&(this.my=t,this.tu(new ZS))}},{key:"Hd",get:function(){var t,n,i;return this.Vd||(this.Vd=(i={get startTime(){return t.ly},set startTime(n){t.ly=n},get endTime(){return t.wy},set endTime(n){t.wy=n},addEventListener:function(t,i){n.nu(t,i)},removeEventListener:function(t,i){n.uu(t,i)}},n=new nE(t=this,i),i)),this.Vd}}]),n}(vw),eE=function(t){function n(n){var i;return(i=t.call(this)||this).LP=function(t){i.BP(t)||i.tu(t)},i.MP=n,i.MP.eu(i.LP),i}vt(n,t);var i=n.prototype;return i.FP=function(){return this.MP.sg},i.kg=function(){return this.MP.kg()},i.UP=function(){return this.MP.Og},i.VP=function(){return this.MP.Rg},i.HP=function(){return this.MP.Cg},i.qP=function(t){this.MP.Cg=t},i.WP=function(){return this.MP.Rw},i.zP=function(t){this.MP.Rw=t},i.jP=function(){return this.MP.Iw},i.$P=function(){return this.MP.Ng},i.XP=function(){return this.MP.Ow},i.GP=function(){return this.MP.wu},i.YP=function(){return this.MP.Cw},i.KP=function(){return this.MP.Dg},i.JP=function(){return this.MP.Nw},i.ZP=function(t){this.MP.Nw=t},i.QP=function(){return this.MP.Ug},i.tx=function(){return this.MP.Dw},i.nx=function(){return this.MP.Aw},i.ix=function(t){this.MP.Aw=t},i.ex=function(){return this.MP.Vg},i.ux=function(){return this.MP.Hg},i.sx=function(t){this.MP.Hg=t},i.ox=function(){return this.MP.zl},i.ax=function(){return this.MP.qg},i.hx=function(){return this.MP.Pw},i.hg=function(){return this.MP.hg()},i.vg=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return yu(n),i.next=3,wr.awrap(this.MP.vg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.vx=function(){return this.MP.cg},i.lx=function(){return this.MP.xw},i.wx=function(){return this.MP.og},i.gx=function(){return this.MP.Lw},i.yx=function(){return this.MP.Bw},i.mx=function(t){this.MP.Bw=t},i.bg=function(){return this.MP.bg()},i.pg=function(){return this.MP.pg()},i.gg=function(t){this.MP.gg(t)},i.yg=function(){this.MP.yg()},i._g=function(){this.MP._g()},i.st=function(){this.MP.st()},i.K=function(){this.MP.K()},i.Y=function(){this.MP.Y()},i.mg=function(){this.MP.mg()},i.fg=function(){return this.MP.fg()},i.dg=function(){return this.MP.dg()},i.lg=function(){this.MP.lg()},i.wg=function(){this.MP.wg()},i.Sc=function(){return this.MP.Sc()},i.et=function(){return this.MP.et()},i.Ig=function(){this.MP.Ig()},i.Tg=function(t){return this.MP.Tg(t)},i.BP=function(t){return!1},ft(n,[{key:"sg",get:function(){return this.FP()}},{key:"Og",get:function(){return this.UP()}},{key:"Cg",get:function(){return this.HP()},set:function(t){this.qP(t)}},{key:"Rg",get:function(){return this.VP()}},{key:"Rw",get:function(){return this.WP()},set:function(t){this.zP(t)}},{key:"Iw",get:function(){return this.jP()}},{key:"Ng",get:function(){return this.$P()}},{key:"Ow",get:function(){return this.XP()}},{key:"wu",get:function(){return this.GP()}},{key:"Cw",get:function(){return this.YP()}},{key:"ag",get:function(){return this.MP.ag}},{key:"Dg",get:function(){return this.KP()}},{key:"Ag",get:function(){return this.MP.Ag}},{key:"Nw",get:function(){return this.JP()},set:function(t){this.ZP(t)}},{key:"Ug",get:function(){return this.QP()}},{key:"Dw",get:function(){return this.tx()}},{key:"Aw",get:function(){return this.nx()},set:function(t){this.ix(t)}},{key:"Vg",get:function(){return this.ex()}},{key:"Hg",get:function(){return this.ux()},set:function(t){this.sx(t)}},{key:"zl",get:function(){return this.ox()}},{key:"qg",get:function(){return this.ax()}},{key:"Pw",get:function(){return this.hx()}},{key:"cg",get:function(){return this.vx()}},{key:"xw",get:function(){return this.lx()}},{key:"og",get:function(){return this.wx()}},{key:"Lw",get:function(){return this.gx()}},{key:"Bw",get:function(){return this.yx()},set:function(t){this.mx(t)}},{key:"Wg",get:function(){return this.MP.Wg}},{key:"zg",get:function(){return this.MP.zg},set:function(t){this.MP.zg=t}}]),n}(dw),rE=function(t){function n(i,e){var r;return(r=t.call(this,i)||this)._x=void 0,r.bx=!1,r.kx=void 0,r.Tx=!1,r.Sx=function(){r.Ex(),r.Rx()},r.UR=function(){r.Ix(),r.Rx(),r.Ox&&r.Rw>=r._x.wy-n.Cx&&!r.Ow&&(r.kx=dS(r.UR))},r.Nx=function(){r.Tx=!0},r.Dx=function(){r.Tx&&(r.Tx=!1,r.Rx())},r._x=e,r._x.nu("nl",r.Sx),r.MP.nu("timeupdate",r.UR),r}vt(n,t);var i=n.prototype;return i.zP=function(n){var i=this._x.xP().hO(n);t.prototype.zP.call(this,i),this.Rx()},i.XP=function(){return t.prototype.XP.call(this)||this.bx},i.ax=function(){return tk.BO(t.prototype.ax.call(this)).lO(this._x.xP()).mI()},i.Y=function(){this.XP()?this.zP(this.Ax.start(0)):this.Ex(),t.prototype.Y.call(this),this.Rx()},i.vg=function(n,i){return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return yu(i),this.bx=!1,this._x.Sc(),e.next=5,wr.awrap(t.prototype.vg.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,j)},i.et=function(){return this._x.uu("nl",this.Sx),this.MP.uu("timeupdate",this.UR),this.Ix(),t.prototype.et.call(this)},i.BP=function(n){switch(n.type){case"seeking":return this.tu(n),this.Nx(),!0;case"seeked":case"emptied":return this.tu(n),this.Dx(),!0;case"ended":if(this.Ox)return!0}return t.prototype.BP.call(this,n)},i.Ix=function(){this.kx&&(lS(this.kx),this.kx=void 0)},i.Rx=function(){var t=this.Rw,i=this.Ox&&t>=this._x.wy-n.zm;this.bx&&!i?(this.bx=!1,this.Dw&&this.Y()):this.bx||!i||this.Pw||this.Tx||(this.bx=!0,this.tu(new Gw(t)),this.K())},i.Ex=function(){if(this.Iw!==1/0){var t=this.Ax,i=tk.BO(t).hO(this.Rw);Sn(this.Rw,i,n.zm)||this.zP(i)}},ft(n,[{key:"Ax",get:function(){return this.ax().length?this.ax():this._x.xP().mI()}},{key:"Ox",get:function(){return this._x.wy<this.Iw}}]),n}(eE);rE.Cx=1,rE.zm=.001;var uE=function(){function t(){this.Px=void 0,this.Px=!1}return ft(t,[{key:"xx",get:function(){return this.Px},set:function(t){this.Px=t}}]),t}(),sE=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Px=void 0,e.Lx=!1,e.Bx=!1,e.Px=i,e}vt(n,t);var i=n.prototype;return i.XP=function(){return!this.Px.xx&&t.prototype.XP.call(this)},i.K=function(){this.Bx=!0,t.prototype.K.call(this)},i.Y=function(){this.Bx=!1,t.prototype.Y.call(this)},i.BP=function(n){if(this.Px.xx)switch(n.type){case"ended":return this.Rw=0,this.Bx||(this.Pw?this.Lx=!0:this.Y()),!0;case"seeked":this.Lx&&(this.Lx=!1,this.Y());break;case"pause":if(this.Lx||t.prototype.XP.call(this))return!0}return t.prototype.BP.call(this,n)},n}(eE);var oE=function(){function t(t){var n;this.Vd=(n=this,{get currentBandwidthEstimate(){return n.Bg},get corruptedVideoFrames(){return n.xg},get droppedVideoFrames(){return n.Pg},get totalBytesLoaded(){return n.Mg},get bufferedSegments(){return n.Fg}}),this.jI=t}return ft(t,[{key:"Hd",get:function(){return this.Vd}},{key:"xg",get:function(){return this.jI.Mx.Ag.xg}},{key:"Bg",get:function(){return this.jI.Mx.Ag.Bg}},{key:"Pg",get:function(){return this.jI.Mx.Ag.Pg}},{key:"Fx",get:function(){throw new f("Not implemented")}},{key:"Ux",get:function(){throw new f("Not implemented")}},{key:"Mg",get:function(){return this.jI.Mx.Ag.Mg}},{key:"Lg",get:function(){return this.jI.Mx.Ag.Lg}},{key:"Fg",get:function(){return this.jI.Mx.Ag.Fg}}]),t}(),cE=function(t){function n(){return t.call(this,"Vx")||this}return vt(n,t),n.prototype.qd=function(){return new aE},n}(El),aE=function(t){function n(){return t.call(this,"castingchange")||this}return vt(n,t),n}(Au);var fE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Hx=[],n.qx=!1,n.Vd=void 0,n.Wx=function(){var t=n.qx,i=n.zx;t!==i&&(n.qx=i,n.tu(new cE))},n}vt(n,t);var i=n.prototype;return i.jx=function(t){this.Hx.push(t),t.nu("statechange",this.Wx)},i.et=function(){for(var t=0,n=this.Hx;t<n.length;t++){n[t].uu("statechange",this.Wx)}vu(this.Hx)},ft(n,[{key:"zx",get:function(){return this.Hx.some(function(t){return t.zx})}},{key:"Hd",get:function(){var t,n,i;return this.Vd||(this.Vd=(i={get casting(){return t.zx},addEventListener:function(t,i){n.nu(t,i)},removeEventListener:function(t,i){n.uu(t,i)}},n=new tE(t=this,["Vx"],i),i)),this.Vd}}]),n}(Nu),hE=function(){function t(){}return t.$x=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=new Bv({Kh:t,jh:ia.si,wv:Dv.GET}),u.next=4,wr.awrap(n.Gh(i));case 4:return e=u.sent,u.next=7,wr.awrap(e.Li());case 7:return r=u.sent,u.abrupt("return",r.trim());case 11:return u.prev=11,u.t0=u.catch(0),gu(u.t0),u.abrupt("return",void 0);case 15:case"end":return u.stop()}},null,null,[[0,11]],j)},t.Xx=function(t){try{var i=ET(t);return new DT(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Ac(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.Gx=function(t){void 0===t&&(t=jT.m_),st.Ae("The baked-in license is used. Please update the configuration with your license.");var n=t.kN(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.kN(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.kN(n)}),r=Number(new Date(Number(t.kN("COD|aHpHa:p3Ceo3Co\"\"")))),u=[].map(function(n){return t.kN(n)});return new DT(n,i,e,r,u)},t.convertLicenseToDummyLicense=function(t){return new DT(t.NN,t.DN,t.AN,864e13,t.xN,t.LN,Date.now(),t.MN,t.FN)},t}(),vE=function(){function t(){}return t.Ea=function(){return t.ni||(t.ni=dE.Nc()?new dE:new Kc),t.ni},t.Ru=function(n){t.Ea().Ru(n)},t.Ta=function(){t.Ea().Ta()},t.Tu=function(n){return t.Ea().Tu(n)},t.Sa=function(n,i){t.Ea().Sa(n,i)},t.Yx=function(n){var i=t.Tu(n);if(void 0!==i)return w(i)},t.Kx=function(n){return"true"===t.Tu(n)},t}();vE.ni=void 0;var dE=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Nc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Ru=function(n){t.localStorage.removeItem(n)},e.Ta=function(){t.localStorage.clear()},e.Tu=function(n){return t.localStorage[n]},e.Sa=function(n,i){t.localStorage[n]=i},i}(vE),lE=d.floor(14399999*d.random()-72e5),wE=function(){function t(t,n,i,e,r,u){this.qN=void 0,this.$T=t,this.Jx=n,this.Zx=i,this.ND=e,this.Qx=r,this.Ds=u,this.qN=FT(u)}var i=t.prototype;return i.tL=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this.nL(this.Qx.license,this.Qx.licenseUrl));case 2:t=n.sent,this.ND.iL(t);case 4:case"end":return n.stop()}},null,this,null,j)},i.nL=function(t,i){var e,r,u,s,o,c,a,f,h;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=hE.Xx(t):e||(r=hE.Gx()),e||(e="https://validate.theoplayer.com/1/"+r.NN),u=this.eL(),!r){v.next=14;break}if((s=this.Jx.JN(r))!==IT.IN){v.next=14;break}if(!this.rL(r.PN)||!this.rL(null==u?void 0:u.PN)){v.next=13;break}return v.next=10,wr.awrap(this.uL(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!u){v.next=25;break}if(this.Jx.JN(u)!==IT.IN){v.next=24;break}if(!this.rL(null==u?void 0:u.PN)){v.next=23;break}return v.next=20,wr.awrap(this.uL(e));case 20:if(!(c=v.sent)){v.next=23;break}return v.abrupt("return",c);case 23:return v.abrupt("return",u);case 24:vE.Ru("THEOplayer.license");case 25:return v.next=27,wr.awrap(hE.$x(e,this.$T));case 27:if(!(a=v.sent)){v.next=37;break}if(f=hE.Xx(a),this.Jx.JN(f)!==IT.IN){v.next=34;break}return vE.Sa("THEOplayer.license",a),v.abrupt("return",f);case 34:vE.Ru("THEOplayer.license"),v.next=39;break;case 37:if(this.qN||!r||s!==IT.ON||e!=="https://validate.theoplayer.com/1/"+r.NN){v.next=39;break}return v.abrupt("return",hE.convertLicenseToDummyLicense(r));case 39:if(!r&&!f){v.next=43;break}this.sL(null!=(h=r)?h:f,new Ac(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new Ac(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,j)},i.jN=function(t){var n,i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,wr.awrap(this.ND.MD());case 2:if(n=c.sent,!this.rL(n.PN)){c.next=9;break}return e=null!=(i=this.Qx.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.NN,c.next=7,wr.awrap(this.uL(e));case 7:(r=c.sent)&&(this.ND.iL(r),n=r);case 9:if(c.prev=9,(u=this.Jx.JN(n))!==IT.CN){c.next=16;break}throw s=NT.UN,new Ac(PT(s),VT.YN(s));case 16:if(u!==IT.ON){c.next=19;break}throw o=NT.ON,new Ac(PT(o),VT.YN(o));case 19:this.Jx.jN(t,n),c.next=25;break;case 22:c.prev=22,c.t0=c.catch(9),this.oL(c.t0);case 25:case"end":return c.stop()}},null,this,[[9,22]],j)},i.KN=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.ND.MD());case 2:n=i.sent;try{this.Jx.KN(t,n)}catch(t){this.oL(t)}case 4:case"end":return i.stop()}},null,this,null,j)},i.uL=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wr.awrap(hE.$x(t,this.$T));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=hE.Xx(n),this.Jx.JN(i)!==IT.IN){e.next=11;break}return vE.Sa("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],j)},i.rL=function(t){return!t||Number(new Date)+2592e5+lE>=t},i.eL=function(){var t=vE.Tu("THEOplayer.license");if(t)return hE.Xx(t)},i.sL=function(t,n){this.ND.iL(t),this.oL(n)},i.oL=function(t){throw Gt(t.message),this.Zx.VD(t.message),t},t}(),gE=function(){function t(){this.cL=void 0,this.aL=new Hs}var n=t.prototype;return n.iL=function(t){this.cL=t,this.aL.Uu()},n.MD=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cL){t.next=2;break}return t.abrupt("return",j.resolve(this.cL));case 2:return t.next=4,wr.awrap(this.aL.Bu);case 4:return t.abrupt("return",this.cL);case 5:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"fL",get:function(){return this.cL}}]),t}(),yE=function(t){function n(){return t.call(this,"nl")||this}return vt(n,t),n.prototype.qd=function(){return new mE},n}(El),mE=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Au);function _E(t){var n,i={get fontFamily(){return t.hL},set fontFamily(n){t.hL=n},get fontColor(){return t.vL},set fontColor(n){t.vL=n},get fontSize(){return t.dL},set fontSize(n){t.dL=n},get backgroundColor(){return t.lL},set backgroundColor(n){t.lL=n},get windowColor(){return t.wL},set windowColor(n){t.wL=n},get edgeStyle(){return t.gL},set edgeStyle(n){t.gL=n},get marginTop(){return t.yL},set marginTop(n){t.yL=n},get marginBottom(){return t.mL},set marginBottom(n){t.mL=n},get marginLeft(){return t._L},set marginLeft(n){t._L=n},get marginRight(){return t.pL},set marginRight(n){t.pL=n},addEventListener:function(t,i){var e=Kl(t,Gl);n.nu(e,i)},removeEventListener:function(t,i){var e=Kl(t,Gl);n.uu(e,i)}};return n=new Du(i),t.nu(["nl"],function(t){return n.tu(t.Hd)}),i}var pE,bE,kE={hL:void 0,vL:void 0,dL:void 0,lL:void 0,wL:void 0,gL:void 0,bL:void 0,yL:void 0,mL:void 0,_L:void 0,pL:void 0},TE="THEOplayer.textTrackStyle.",SE=function(t){function n(){var i;return(i=t.call(this)||this).kL=void 0,i.Vd=void 0,i.kL=n.TL(),i}return vt(n,t),n.prototype.hc=function(t){this.kL=gr({},this.kL,t),n.SL(this.kL),this.tu(new yE)},n.TL=function(){var t=gr({},kE);return t.hL=vE.Tu(TE+"fontFamily")||t.hL,t.vL=vE.Tu(TE+"fontColor")||t.vL,t.dL=vE.Tu(TE+"fontSize")||t.dL,t.lL=vE.Tu(TE+"backgroundColor")||t.lL,t.wL=vE.Tu(TE+"windowColor")||t.wL,t.gL=vE.Tu(TE+"edgeStyle")||t.gL,t},n.SL=function(t){vE.Sa(TE+"fontFamily",t.hL||""),vE.Sa(TE+"fontColor",t.vL||""),vE.Sa(TE+"fontSize",t.dL||""),vE.Sa(TE+"backgroundColor",t.lL||""),vE.Sa(TE+"windowColor",t.wL||""),vE.Sa(TE+"edgeStyle",t.gL||"")},ft(n,[{key:"EL",get:function(){return this.kL}},{key:"hL",get:function(){return this.kL.hL},set:function(t){this.hc({hL:t})}},{key:"vL",get:function(){return this.kL.vL},set:function(t){this.hc({vL:t})}},{key:"dL",get:function(){return this.kL.dL},set:function(t){this.hc({dL:t})}},{key:"lL",get:function(){return this.kL.lL},set:function(t){this.hc({lL:t})}},{key:"wL",get:function(){return this.kL.wL},set:function(t){this.hc({wL:t})}},{key:"gL",get:function(){return this.kL.gL},set:function(t){this.hc({gL:t})}},{key:"bL",get:function(){return this.kL.bL}},{key:"yL",get:function(){return this.kL.yL},set:function(t){this.hc({yL:t})}},{key:"mL",get:function(){return this.kL.mL},set:function(t){this.hc({mL:t})}},{key:"pL",get:function(){return this.kL.pL},set:function(t){this.hc({pL:t})}},{key:"_L",get:function(){return this.kL._L},set:function(t){this.hc({_L:t})}},{key:"Hd",get:function(){return this.Vd||(this.Vd=_E(this)),this.Vd}}]),n}(Nu),EE=function(){function t(t){this.$T=void 0,this.$T=t}var n=t.prototype;return n.Gh=function(t){return this.$T.Gh(t)},n.bv=function(t){this.$T.bv(t)},n.et=function(){this.$T.et()},t}(),RE=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).ZO=void 0,e.ZO=i,e}return vt(n,t),n.prototype.Gh=function(t){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(n=new Bv(t),i=this.ZO.fP.sR(n)){s.next=4;break}return s.abrupt("return",this.$T.Gh(n));case 4:return i.hP(st.Re()/1e3),s.next=7,wr.awrap(this.$T.Gh(t));case 7:return e=s.sent,i.vP(st.Re()/1e3),r=e.Nh().pipeThrough(new Jh(new IE(i))),u={Li:r,Gh:e.Gh},s.abrupt("return",new Lv(u,e));case 12:case"end":return s.stop()}},null,this,null,j)},n}(EE),IE=function(){function t(t){this.aL=void 0,this.RL=t}var n=t.prototype;return n.start=function(t){this.aL=t},n.transform=function(t){this.RL.dP(st.Re()/1e3,t),this.aL.enqueue(t)},n.flush=function(){this.RL.lP(st.Re()/1e3)},t}(),OE=function(t){function n(n,i){var e;(e=t.call(this)||this).IL=void 0,e._c=void 0,e.Mx=void 0,e.OL=void 0,e.Ld=void 0,e._x=void 0,e.Px=void 0,e.CL=void 0,e.NL=void 0,e.ZO=void 0,e.Jx=void 0,e.DL=void 0,e.AL=void 0,e.JO=void 0,e.PL=!1,e.Qw=!1,e.Kg=void 0,e.xL=!1,e.YO=void 0,e.LL=void 0,e.BL=void 0,e.ML=void 0,e.FL=void 0,e.UL=void 0,e.VL=function(t){if(!e.xL){e.xL=!0;var n=e.IL,i=Og(t);e.Mx.El=new sk(e.Ng,i,t),Su(n.et())}},e.HL=function(t){e.tu(t.Hd)},e.qL=function(t){t.type!==na.Wa&&t.type!==na.qa&&e.tu(t)};var r=$l(i.uid);g(r)?e.Kg=Bg++:e.Kg=r,e._c=i;var u=st.Ld,s=new gE;e.OL=new iS("5.2.0",u,s),e.ZO=new JS;var o=new RE(u,e.ZO);e.Ld=new VS(o,i.allowMixedContent),e.Jx=new AT(i.isEmbeddable,"5.2.0",RT()),e.UL=new wE(u,e.Jx,e.OL,s,i,RT()),e.UL.tL().catch(e.VL),e.DL=new kS(n),e.DL.nu("GD",e.HL),e.JO=new SE,e._x=new iE,e.Px=new uE;var c=new uk(n,i,e.Ld,e.ZO,e.DL,e.JO);e.ZO.OP(c);var a=c;return a=new rE(a,e.WL),a=new sE(a,e.xx),e.IL=a,e.Mx=new Sg(e.IL),e.Mx.eu(e.qL),e.FL=new oE(Nn(e)),e.BL=new qS(e.Mx,e.Ld,e.ZO),e.CL=new uS(Nn(e)),e.AL=new ES(e.Mx,i.allowNativeFullscreen),e.NL=new Sk(e.AL),e.DL.kc(),e.YO=new K(e.DL,e.JO,1,[Cg.dv]),e.LL=new J(e.YO),e.ML=new fE,e}vt(n,t);var i=n.prototype;return i.ZP=function(t){this.Mx.Nw=t,t||this.Dw||this.st()},i.mx=function(t){this.Mx.Bw=t},i.zL=function(){og(this,Ek,this)},i.Y=function(){this.Mx.Y()},i.K=function(){this.Mx.K()},i.vg=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.UL.jN(t).catch(this.VL),i=CE(t),e.next=5,wr.awrap(this.Mx.vg(i,n));case 5:case"end":return e.stop()}},null,this,null,j)},i.st=function(){this.Qw||(this.Mx.st(),this.LL.st(),this.Qw=!0)},i.HO=function(){return this.NL.bC()===_k.FULLSCREEN},i.mg=function(){this.Mx.mg()},i._g=function(){this.Mx._g()},i.pg=function(){return this.Mx.pg()},i.Sc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.Mx.fg());case 2:return t.next=4,wr.awrap(this.Mx.Sc());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ru(),this.ML.et(),this.Ld.et(),this.BL.et(),this.AL.et(),this.NL.et(),this.DL.et(),this.OL.et(),this.LL.et(),this.YO.et(),t.next=12,wr.awrap(this.Mx.et());case 12:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"jL",get:function(){return this.ZO}},{key:"rg",get:function(){return this.PL},set:function(t){this.PL=t,this.Mx.rg=t}},{key:"$L",get:function(){return this.LL}},{key:"sg",get:function(){return this.Mx.sg}},{key:"XL",get:function(){return this.ML}},{key:"GL",get:function(){return this.DL}},{key:"ag",get:function(){return this.Mx.ag}},{key:"Ag",get:function(){return this.FL}},{key:"YL",get:function(){return this.BL}},{key:"cg",get:function(){return this.Mx.cg}},{key:"KL",get:function(){return this.JO}},{key:"og",get:function(){return this.Mx.og}},{key:"Og",get:function(){return this.Mx.Og}},{key:"WL",get:function(){return this._x}},{key:"xx",get:function(){return this.Px}},{key:"Rw",get:function(){return this.Mx.Rw},set:function(t){this.Mx.Rw=t}},{key:"Cg",get:function(){return this.Mx.Cg},set:function(t){this.Mx.Cg=t}},{key:"Rg",get:function(){return this.Mx.Rg}},{key:"Iw",get:function(){return this.Mx.Iw}},{key:"Ng",get:function(){return this.Mx.Ng}},{key:"Ow",get:function(){return this.Mx.Ow}},{key:"wu",get:function(){return this.Mx.wu}},{key:"Cw",get:function(){return this.Mx.Cw}},{key:"Nw",get:function(){return this.Mx.Nw},set:function(t){var n=Boolean(t);this.ZP(n)}},{key:"Dw",get:function(){return this.Mx.Dw}},{key:"Aw",get:function(){return this.Mx.Aw},set:function(t){this.Mx.Aw=t}},{key:"Vg",get:function(){return this.Mx.Vg}},{key:"Hg",get:function(){return this.Mx.Hg},set:function(t){this.Mx.Hg=Gb(t)}},{key:"zl",get:function(){return this.Mx.zl}},{key:"qg",get:function(){return this.Mx.qg}},{key:"Pw",get:function(){return this.Mx.Pw}},{key:"Nl",get:function(){return this.Kg}},{key:"xw",get:function(){return this.Mx.xw}},{key:"Lw",get:function(){return this.Mx.Lw}},{key:"Bw",get:function(){return this.Mx.Bw},set:function(t){var n=Tn(Number(t),0,1)||0;this.mx(n)}},{key:"Wg",get:function(){return this.Mx.Wg}}]),n}(dw);function CE(t){t.sources;var n=t.sources.filter(function(t){return Ct(t.integration)});return t.sources=n,t}!function(t){t[t.JL=0]="JL",t[t.ZL=1]="ZL"}(pE||(pE={})),function(t){t[t.QL=0]="QL"}(bE||(bE={}));var NE={};function DE(t,n){var i=t;if(NE[n])for(var e=0,r=NE[n];e<r.length;e++){i=(0,r[e])(i)}return i}var AE=[];function PE(t){AE.push(t)}var xE=t.CustomEvent;var LE=function(){try{var t=new xE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},BE=function(){function t(t,n){var i=this;this.jI=void 0,this.tB=void 0,this.nB=!1,this.iB=function(t){i.tB.UD(t.error,i.Rw)},this.eB=function(){i.tB.BD(i.rB),i.jI.removeEventListener("playing",i.eB),i.nB=!1},this.uB=function(){i.nB||(i.jI.addEventListener("playing",i.eB),i.nB=!0)},this.tB=n,this.jI=t,this.jI.addEventListener("error",this.iB),this.jI.addEventListener("sourcechange",this.uB),this.uB()}return t.prototype.Sc=function(){},ft(t,[{key:"Rw",get:function(){var t=this.jI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"rB",get:function(){return this.jI.src||""}}]),t}();PE(function(t){new BE(t.Hd,t.OL)});var ME,FE,UE="theoplayer-stored-volume",VE="theoplayer-stored-mutedstate";ME=function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=vE.Yx(UE);(void 0===r||g(r))&&(r=1);var u=vE.Kx(VE)||!1;e.Bw=r,e.Nw=u}return e}vt(n,t);var i=n.prototype;return i.ZP=function(n){this._c.persistVolume&&vE.Sa(VE,""+Boolean(n)),t.prototype.ZP.call(this,n)},i.mx=function(n){this._c.persistVolume&&vE.Sa(UE,""+Number(n)),t.prototype.mx.call(this,n)},n}(t)},FE=pE.ZL,(NE[FE]||(NE[FE]=[])).push(ME);var HE=new(function(){function t(){this.sB=[],this.Vd=void 0}var n=t.prototype;return n.ll=function(t){return this.sB[t]},n.oB=function(t){this.sB.push(t),this.Hd.push(t.Hd)},n.fc=function(t){var n=this.sB.indexOf(t);n<0||(fu(this.sB,n),this.Vd&&fu(this.Vd,n))},n.cB=function(t){for(var n=0,i=this.sB;n<i.length;n++){var e=i[n];if(e.Nl===t)return e}},ft(t,[{key:"_l",get:function(){return this.sB.length}},{key:"Hd",get:function(){return this.Vd||(this.Vd=function(t){for(var n=[],i=0;i<t._l;i++)n[i]=t.ll(i).Hd;return n.getPlayerByUID=function(n){var i=t.cB(n);return i&&i.Hd},n}(this)),this.Vd}}]),t}());var qE,WE=function(t){function n(n){var i;return(i=t.call(this,na.ef)||this).source=n,i}return vt(n,t),n}(Au),zE=function(t){function n(){var n;return(n=t.call(this)||this).zO=void 0,n.$O=void 0,n.GO=void 0,n.XO=void 0,n.zO=0,n.$O=!0,n.GO=!1,n.XO=1,n}vt(n,t);var i=n.prototype;return i.Y=function(){this.$O&&(this.$O=!1,this.tu(new Hw(this.Rw)),this.tu(new a_(this.Rw)))},i.K=function(){this.$O||(this.$O=!0,this.tu(new Xw(this.Rw,this.Cg)),this.tu(new Vw(this.Rw)))},i.Sc=function(){this.zO=0,this.GO=!1,this.XO=1,this.K(),this.tu(new Uw(this.zO))},i.et=function(){this.ru()},i._g=function(){},i.mg=function(){},ft(n,[{key:"Cg",get:function(){},set:function(t){}},{key:"Rw",get:function(){return this.zO},set:function(t){this.GO&&this.zO===t||(this.zO=t,this.GO=!0,this.tu(new Kw(this.Rw)))}},{key:"Dw",get:function(){return this.$O}},{key:"Aw",get:function(){return this.XO},set:function(t){this.XO!==t&&(this.XO=t,this.tu(new $w(this.Rw,this.Aw)))}},{key:"zl",get:function(){return kw.ww}},{key:"Pw",get:function(){return this.GO}}]),n}(vw),jE=function(t){function n(){return t.call(this,na.Pa)||this}return vt(n,t),n}(Au),$E={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},XE={visibility:"hidden"},GE={visibility:"visible"},YE=function(){function t(t){var n,i=this;this.VI=void 0,this.jI=void 0,this.aB=!1,this.fB=void 0,this.hB=void 0,this.vB=function(t){var n;i.aB=!1,i.fB=null==(n=t.source)?void 0:n.poster,i.hc()},this.dS=function(){i.aB=!0,i._g()},this.jI=t,this.YI(),this.VI=((n=Q&&Q.document&&Q.document.createElement("div")).className="theoplayer-poster",$e($E,n),n),t.Ng.appendChild(this.VI)}var n=t.prototype;return n.hc=function(){var t=this.jI.Dw,n=this.aB;this.Kh?this.VI.style.backgroundImage='url("'+this.Kh.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.VI.style.backgroundImage="",t&&this.Kh&&!n?this.mg():this._g()},n.mg=function(){$e(XE,this.jI.Ng),$e(GE,this.VI)},n._g=function(){$e(XE,this.VI),$e(GE,this.jI.Ng)},n.YI=function(){this.jI.nu("sourcechange",this.vB),this.jI.nu("play",this.dS)},n.et=function(){this.jI.uu("sourcechange",this.vB),this.jI.uu("play",this.dS),je(this.VI)},ft(t,[{key:"Kh",get:function(){return void 0!==this.fB?this.fB:void 0!==this.hB?this.hB:void 0}},{key:"dB",set:function(t){this.hB=t,this.hc()}}]),t}();function KE(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).jI=void 0,r.lB=void 0,r.wB=void 0,r.gB=void 0,r.yB=void 0,r.mB=void 0,r._B=void 0,r.pB=void 0,r.GI=void 0,r.XI=void 0,r.IR=void 0,r.tC=void 0,r.Vd=void 0,r.bB=function(t){t.type!==na.Xa&&r.pB.push(t)},r.lB=new t(n,e),r.wB=new zE,r.jI=r.lB,r.gB=new YE(Nn(r)),r.mB=new Uc,r._B=!1,r.pB=[],r.GI=!0,r.YI(),r}vt(e,i);var r=e.prototype;return r.ra=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.mB.ra(t,n).catch(_u));case 1:case"end":return i.stop()}},null,this,null,j)},r.kB=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return yu(n),this.lB.eu(this.bB),i.prev=2,i.next=5,wr.awrap(this.lB.vg(t,n));case 5:return i.prev=5,this.lB.cu(this.bB),i.finish(5);case 8:case"end":return i.stop()}},null,this,[[2,,5,8]],j)},r.TB=function(){var t,n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.hg())&&!tT(t)&&this.rg&&this.Dw){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this._c.mutedAutoplay,e.next=6,wr.awrap(this.$L.ut(this.Nw));case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.SB(),e.abrupt("break",14);case 12:return(this.Nw||n===qw.ALL)&&(this.Nw=!0,this.Y()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,j)},r.vg=function(t){var i=this,e=this.XI;e&&!tT(e)&&this.tu(new Uw(0,0)),this.Sc(),this.XI=t,Su(this.ra(function(e){return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return yu(e),r.prev=1,r.next=4,wr.awrap(i.kB(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.XI=void 0,i.FR((u=r.t0,s=n.ErrorCode.SOURCE_NOT_SUPPORTED,u instanceof Ac?u:u instanceof f?new Ac(s,u.message,u):new Ac(s,String(u)))),r.abrupt("return");case 11:return r.prev=11,i.EB(i.lB),r.finish(11);case 14:return i.tu(new WE(i.hg())),r.next=17,wr.awrap(i.TB());case 17:case"end":return r.stop()}var u,s},null,null,[[1,6,11,14]],j)}))},r.zP=function(t){this.jI.Rw=t},r.GP=function(){var t;return null!=(t=this.tC)?t:this.lB.wu},r.YP=function(){var t;return null!=(t=this.IR)?t:this.lB.Cw},r.FR=function(t){void 0===this.YP()&&(this.IR=t,this.tC=Og(t),this.tu(new ig(t)))},r.Y=function(){this.jI.Y()},r.SB=function(){this.Nw||this.st(),this.Y()},r.st=function(){this.lB.st()},r.K=function(){this.jI.K()},r.fg=function(){this.vg(void 0)},r.mg=function(){this.GI=!0,this.jI.mg()},r._g=function(){this.GI=!1,this.jI._g()},r.zL=function(){this.lB.zL()},r.mx=function(t){this.lB.mx(t)},r.ZP=function(t){this.lB.ZP(t)},r.RB=function(t){this.yB=t,t.oB(this)},r.HO=function(){return this.lB.HO()},r.hg=function(){return this.XI},r.pg=function(){return this.lB.pg()},r.WP=function(){return this.lB.Rw},r.jP=function(){return this.lB.Iw},r.UP=function(){return this.lB.Og},r.ex=function(){return this.lB.Vg},r.ax=function(){return this.lB.qg},r.Sc=function(){var t=this;this.XI=void 0,this.IR=void 0,this.tC=void 0,vu(this.pB),this.wB.Sc(),this.EB(this.wB),this.mB.$r(),Su(this.mB.ra(function(n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return yu(n),i.next=3,wr.awrap(t.lB.Sc());case 3:case"end":return i.stop()}},null,null,null,j)}))},r.et=function(){var t=this;this.tu(new jE),this.gB.et(),this.KI(),this.Sc(),Su(this.ra(function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.lB.et());case 2:t.yB&&(t.yB.fc(t),t.yB=void 0),t.mB.et();case 4:case"end":return n.stop()}},null,null,null,j)})),this.ru()},r.EB=function(t){if(this.jI!==t){var n=this.jI.Dw,i=this.jI.Rw,e=this.jI.Aw,r=this.jI.Pw;this.KI(),t===this.lB?((r||t.Rw!==i)&&(t.Rw=i),t.Aw!==e&&(t.Aw=e),n?t.K():t.Y()):this._c.retainPlaybackRateOnSourceChange?t.Aw=e:1!==e&&this.tu(new $w(this.WP(),1)),this.jI=t,this.YI();for(var u=0,s=this.pB;u<s.length;u++){var o=s[u];this.tu(o)}vu(this.pB),this.GI?t.mg():t._g()}},r.YI=function(){this.jI.eu(this.Qr)},r.KI=function(){this.jI.cu(this.Qr)},r.qd=function(){return t=this,e=function(n){i=n;var e=hT(n,t._c);t.vg(e)},r={get abr(){return t.jL.Hd},get audioTracks(){return t.sg.Hd},get autoplay(){return t.rg},set autoplay(n){t.rg=Boolean(n)},get buffered(){return t.UP()},get canvas(){return t.CL.Hd},get clip(){return t.WL.Hd},get currentProgramDateTime(){var n;return null!=(n=t.Cg)?n:null},set currentProgramDateTime(n){t.Cg=null!=n?n:void 0},get currentTime(){return t.WP()},set currentTime(n){t.zP(Number(n))},get duration(){return t.jP()},get element(){return t.Ng},get ended(){return t.Ow},get error(){return t.GP()},get errorObject(){return t.YP()},get loop(){return t.xx.xx},set loop(n){t.xx.xx=Boolean(n)},get metrics(){return t.Ag.Hd},get muted(){return t.Nw},set muted(n){t.ZP(n)},get network(){return t.YL.Hd},get paused(){return t.Dw},get playbackRate(){return t.Aw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Aw=i},get played(){return t.ex()},get poster(){return t.IB},set poster(n){t.IB=Gl(n)},get preload(){return t.Hg},set preload(n){t.Hg=n},get presentation(){return t.NL.Hd},get readyState(){return t.zl},get seekable(){return t.ax()},get seeking(){return t.Pw},get source(){return i},set source(t){e(t)},get src(){return nT(t.hg())},set src(t){e({sources:t})},get textTracks(){return t.cg.Hd},get textTrackStyle(){return t.KL.Hd},get uid(){return t.Nl},get videoHeight(){return t.xw},get videoTracks(){return t.og.Hd},get videoWidth(){return t.Lw},get volume(){return t.Bw},set volume(n){t.mx(Number(n))},get latency(){return t.Wg.Hd},destroy:function(){t.et(),t=null,i=void 0},play:function(){t.SB()},pause:function(){t.K()},stop:function(){i=void 0,t.fg()},prepareWithUserAction:function(){t.st()},addEventListener:function(t,i){n.nu(t,i)},removeEventListener:function(t,i){n.uu(t,i)},setSource:function(t){e(t)}},(n=new kk(r,!0)).oC(t),n.nu("destroy",function(){n.et()}),r;var t,n,i,e,r},ft(e,[{key:"OL",get:function(){return this.lB.OL}},{key:"CL",get:function(){return this.lB.CL}},{key:"_c",get:function(){return this.lB._c}},{key:"IL",get:function(){return this.lB.IL}},{key:"Ld",get:function(){return this.lB.Ld}},{key:"vI",get:function(){return this.lB.AL}},{key:"NL",get:function(){return this.lB.NL}},{key:"DL",get:function(){return this.lB.DL}},{key:"Mx",get:function(){return this.lB.Mx}},{key:"jL",get:function(){return this.lB.jL}},{key:"rg",get:function(){return this.lB.rg},set:function(t){this.lB.rg=t,this.TB()}},{key:"$L",get:function(){return this.lB.$L}},{key:"sg",get:function(){return this.lB.sg}},{key:"XL",get:function(){return this.lB.XL}},{key:"GL",get:function(){return this.lB.DL}},{key:"Hd",get:function(){return this.Vd||(this.Vd=this.qd()),this.Vd}},{key:"ag",get:function(){return this.lB.ag}},{key:"Ag",get:function(){return this.lB.Ag}},{key:"YL",get:function(){return this.lB.YL}},{key:"cg",get:function(){return this.lB.cg}},{key:"KL",get:function(){return this.lB.KL}},{key:"og",get:function(){return this.lB.og}},{key:"WL",get:function(){return this.lB.WL}},{key:"xx",get:function(){return this.lB.xx}},{key:"Cg",get:function(){return this.jI.Cg},set:function(t){this.jI.Cg=t}},{key:"Rg",get:function(){return this.lB.Rg}},{key:"Ng",get:function(){return this.lB.Ng}},{key:"Ow",get:function(){return this.lB.Ow}},{key:"Nw",get:function(){return this.lB.Nw},set:function(t){this.lB.Nw=t}},{key:"Dw",get:function(){return this.jI.Dw}},{key:"IB",get:function(){return this.gB.Kh||""},set:function(t){this.gB.dB=t}},{key:"Aw",get:function(){return this.lB.Aw},set:function(t){this.jI.Aw=t}},{key:"Hg",get:function(){return this.lB.Hg},set:function(t){this.lB.Hg=Gb(t)}},{key:"zl",get:function(){return this.jI.zl}},{key:"Pw",get:function(){return this.jI.Pw}},{key:"Nl",get:function(){return this.lB.Nl}},{key:"xw",get:function(){return this.lB.xw}},{key:"Lw",get:function(){return this.lB.Lw}},{key:"Bw",get:function(){return this.lB.Bw},set:function(t){this.lB.Bw=t}},{key:"Wg",get:function(){return this.lB.Wg}}]),e}(dw)}Tu(function(){t.dispatchEvent&&t.dispatchEvent(LE("theoplayerready"))});var JE={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Gu(t)},n.decode=function(t){return $u(t)},t}())},ZE=HE.Hd,QE=U_.sE.registerContentProtectionIntegration.bind(U_.sE),tR=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},nR=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),iR={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?e.splice(s,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(iR,iR.exports);var eR=iR.exports;function rR(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function uR(t){return JSON.stringify(t,iR.exports.getSerialize(rR))}var sR={},oR={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(oR);var cR={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(cR);var aR={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(aR),v.defineProperty(sR,"__esModule",{value:!0});var fR=oR.isS,hR=oR.isChar,vR=oR.isNameStartChar,dR=oR.isNameChar,lR=oR.S_LIST,wR=oR.NAME_RE,gR=cR.isChar,yR=aR.isNCNameStartChar,mR=aR.isNCNameChar,_R=aR.NC_NAME_RE;const pR="http://www.w3.org/XML/1998/namespace",bR="http://www.w3.org/2000/xmlns/",kR={__proto__:null,xml:pR,xmlns:bR},TR={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},SR=-1,ER=-2,RR=0,IR=1,OR=2,CR=3,NR=4,DR=5,AR=6,PR=7,xR=8,LR=9,BR=10,MR=11,FR=12,UR=13,VR=14,HR=15,qR=16,WR=17,zR=18,jR=19,$R=20,XR=21,GR=22,YR=23,KR=24,JR=25,ZR=26,QR=27,tI=28,nI=29,iI=30,eI=31,rI=32,uI=33,sI=34,oI=35,cI=36,aI=37,fI=38,hI=39,vI=40,dI=41,lI=42,wI=43,gI=44,yI=9,mI=10,_I=13,pI=32,bI=33,kI=38,TI=45,SI=47,EI=59,RI=60,II=61,OI=62,CI=63,NI=91,DI=93,AI=133,PI=8232,xI=t=>34===t||39===t,LI=[34,39],BI=[...LI,NI,OI],MI=[...LI,RI,DI],FI=[II,CI,...lR],UI=[...lR,OI,kI,RI];function VI(t,n,i){switch(n){case"xml":i!==pR&&t.fail(`xml prefix must be bound to ${pR}.`);break;case"xmlns":i!==bR&&t.fail(`xmlns prefix must be bound to ${bR}.`)}switch(i){case bR:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${bR}.`);break;case pR:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const HI=t=>_R.test(t),qI=t=>wR.test(t),WI=0,zI=1,jI=2;sR.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const $I={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var XI=sR.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=yR,this.nameCheck=mR,this.isName=HI,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},kR);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of v.keys(n))VI(t,i,n[i])}(this,t),v.assign(this.ns,t))}else this.nameStartCheck=vR,this.nameCheck=dR,this.isName=qI,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Ju}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=WI,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?UR:RR,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Ju=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(TR),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[$I[t]]=n}off(t){this[$I[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===_I||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return SR;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=pI||i===yI)return i;switch(i){case mI:return this.line++,this.column=0,this.positionAtNewLine=this.position,mI;case _I:return t.charCodeAt(n+1)===mI&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,ER;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return SR;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==PI||i===yI)return i;switch(i){case mI:return this.line++,this.column=0,this.positionAtNewLine=this.position,mI;case _I:{const i=t.charCodeAt(n+1);i!==mI&&i!==AI||(this.i=n+2)}case AI:case PI:return this.line++,this.column=0,this.positionAtNewLine=this.position,ER;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===ER?mI:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===ER,u=r?mI:e;if(u===SR||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case ER:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=mI;break;case SR:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===SR)return this.name+=t.slice(n),SR;if(!dR(i))return this.name+=t.slice(n,this.prevI),i===ER?mI:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===SR||!fR(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=hR,this.getCode=this.getCode10):(this.isChar=gR,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=IR}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case RI:if(this.state=HR,0!==this.text.length)throw new f("no-empty text at start");break;case SR:break;default:this.unget(),this.state=UR,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(BI);switch(n){case OI:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=UR,this.doctype=!0;break;case SR:break;default:this.text+=String.fromCodePoint(n),n===NI?this.state=NR:xI(n)&&(this.state=CR,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=OR)}sDTD(){const t=this.captureTo(MI);t!==SR&&(this.text+=String.fromCodePoint(t),t===DI?this.state=OR:t===RI?this.state=AR:xI(t)&&(this.state=DR,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=NR,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case bI:this.state=PR,this.openWakaBang="";break;case CI:this.state=MR;break;default:this.state=NR}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?xR:NR,this.openWakaBang="")}sDTDComment(){this.captureToChar(TI)&&(this.text+="-",this.state=LR)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===TI?BR:xR}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===OI?this.state=NR:(this.fail("malformed comment."),this.state=xR)}sDTDPI(){this.captureToChar(CI)&&(this.text+="?",this.state=FR)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===OI&&(this.state=NR)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case ER:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case EI:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===UR&&void 0===this.textHandler||(this.text+=r);break t}case SR:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(vR(t))this.state=sI,this.unget(),this.xmlDeclPossible=!1;else switch(t){case SI:this.state=wI,this.xmlDeclPossible=!1;break;case bI:this.state=qR,this.openWakaBang="",this.xmlDeclPossible=!1;break;case CI:this.state=YR;break;default:this.fail("disallowed character in tag name"),this.state=UR,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=$R,this.openWakaBang="";break;case"--":this.state=WR,this.openWakaBang="";break;case"DOCTYPE":this.state=OR,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(TI)&&(this.state=zR)}sCommentEnding(){var t;const n=this.getCodeNorm();n===TI?(this.state=jR,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=WR)}sCommentEnded(){const t=this.getCodeNorm();t!==OI?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=WR):this.state=UR}sCData(){this.captureToChar(DI)&&(this.state=XR)}sCDataEnding(){const t=this.getCodeNorm();t===DI?this.state=GR:(this.text+=`]${String.fromCodePoint(t)}`,this.state=$R)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case OI:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=UR;break;case DI:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=$R}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=KR):t===CI||fR(t)?(this.fail("processing instruction without a target."),this.state=t===CI?ZR:JR):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=KR)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===SR)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===CI;e||fR(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?uI:QR):this.state=e?ZR:JR:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===CI?this.state=ZR:fR(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(CI)&&(this.state=ZR)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===OI){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=UR}else n===CI?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=JR);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==CI?t!==SR&&(this.state=tI,this.name=String.fromCodePoint(t)):this.state=uI}sXMLDeclName(){const t=this.captureTo(FI);if(t===CI)return this.state=uI,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(fR(t)||t===II){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===II?iI:nI}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===CI)return this.state=uI,void this.fail("XML declaration is incomplete.");fR(t)||(t!==II&&this.fail("value required."),this.state=iI)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===CI)return this.state=uI,void this.fail("XML declaration is incomplete.");fR(t)||(xI(t)?this.q=t:(this.fail("value must be quoted."),this.q=pI),this.state=eI)}sXMLDeclValue(){const t=this.captureTo([this.q,CI]);if(t===CI)return this.state=uI,this.text="",void this.fail("XML declaration is incomplete.");if(t===SR)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=rI}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==CI?(fR(t)||(this.fail("whitespace required."),this.unget()),this.state=QR):this.state=uI}sXMLDeclEnding(){var t;this.getCodeNorm()===OI?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=UR):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===SR)return;const i=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case OI:this.openTag();break;case SI:this.state=oI;break;default:fR(n)||this.fail("disallowed character in tag name."),this.state=cI}}sOpenTagSlash(){this.getCode()===OI?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=cI)}sAttrib(){const t=this.skipSpaces();t!==SR&&(vR(t)?(this.unget(),this.state=aI):t===OI?this.openTag():t===SI?this.state=oI:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===II?this.state=hI:fR(t)?this.state=fI:t===OI?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==SR&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case SR:return;case II:this.state=hI;break;default:this.fail("attribute without value."),this.text="",this.name="",t===OI?this.openTag():vR(t)?(this.unget(),this.state=aI):(this.fail("disallowed character in attribute name."),this.state=cI)}}sAttribValue(){const t=this.getCodeNorm();xI(t)?(this.q=t,this.state=vI):fR(t)||(this.fail("unquoted attribute value."),this.state=lI,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=dI);case kI:return this.text+=n.slice(i,this.prevI),this.state=VR,void(this.entityReturnState=vI);case mI:case ER:case yI:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case RI:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case SR:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();fR(t)?this.state=cI:t===OI?this.openTag():t===SI?this.state=oI:vR(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=aI):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(UI);switch(t){case kI:this.state=VR,this.entityReturnState=lI;break;case RI:this.fail("disallowed character.");break;case SR:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===OI?this.openTag():this.state=cI}}sCloseTag(){const t=this.captureNameChars();t===OI?this.closeTag():fR(t)?this.state=gI:t!==SR&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case OI:this.closeTag();break;case SR:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case RI:if(this.state=HR,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=WI;break t;case kI:this.state=VR,this.entityReturnState=UR,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=WI;break t;case DI:switch(n){case WI:n=zI;break;case zI:n=jI;break;case jI:break;default:throw new f("impossible state")}break;case OI:n===jI&&this.fail('the string "]]>" is disallowed in char data.'),n=WI;break;case ER:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=WI;break;case SR:void 0!==e&&(this.text+=i.slice(t));break t;default:n=WI}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case RI:if(this.state=HR,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case kI:this.state=VR,this.entityReturnState=UR,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case ER:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case SR:void 0!==i&&(this.text+=n.slice(t));break t;default:fR(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),u={name:t,prefix:e,local:r,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,VI(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,VI(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==RR&&this.state!==UR&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Ju=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?bR:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=s,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=UR,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=UR,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=UR,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=l(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},GI=function(){function t(){}return t.prototype.ai=function(t){var n=new XI({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new nO,e=[i];function r(t){e[e.length-1].Si(t)}return n.on("text",function(t){e.length>1&&r(new QI(t))}),n.on("cdata",function(t){r(new tO(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new JI({di:n,wi:""===i?void 0:i,OB:""===u?void 0:u}),o=t.attributes,c=0,a=v.keys(o);c<a.length;c++){var f=o[a[c]],h=f.prefix,d=f.local,l=f.uri,w=f.value,g=new YI({di:d,yi:w,wi:""===l?void 0:l,OB:""===h?void 0:h});s.CB(g)}r(s),e.push(s)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new Pn(t)}),n.write(t).close(),i},t}(),YI=function(){function t(t){this.NB=void 0,this.DB=void 0,this.AB=void 0,this.g=void 0,this.NB=t.di,this.g=t.yi,this.DB=t.wi,this.AB=t.OB}var n=t.prototype;return n.hi=function(t){return this===t||!!eO(this,t)&&(this.NB===t.NB&&this.DB===t.DB&&this.AB===t.AB&&this.g===t.g)},n.vi=function(){return new t({di:this.di,yi:this.yi,wi:this.wi,OB:this.gi})},ft(t,[{key:"ei",get:function(){return On.ui}},{key:"di",get:function(){return this.NB}},{key:"li",get:function(){return void 0===this.AB?this.NB:this.AB+":"+this.NB}},{key:"wi",get:function(){return this.DB}},{key:"gi",get:function(){return this.AB}},{key:"yi",get:function(){return this.g}}]),t}(),KI=function(){function t(){this._i=[]}var n=t.prototype;return n.pi=function(t){return this._i.filter(function(n){return iO(n)&&n.ki===t})},n.Ti=function(t,n){return this._i.filter(function(i){return iO(i)&&i.di===n&&i.wi===t})},n.Si=function(t){this._i.push(t)},ft(t,[{key:"bi",get:function(){return this._i}},{key:"Ri",get:function(){return this._i.filter(iO)}}]),t}(),JI=function(t){function n(n){var i;return(i=t.call(this)||this).NB=void 0,i.DB=void 0,i.AB=void 0,i.PB=[],i.NB=n.di,i.DB=n.wi,i.AB=n.OB,i}vt(n,t);var i=n.prototype;return i.xB=function(t){for(var n=0,i=this.bi;n<i.length;n++){var e=i[n];iO(e)?e.xB(t):t.push(e.Li)}},i.Oi=function(t,n){for(var i=0,e=this.PB;i<e.length;i++){var r=e[i];if(r.di===n&&r.wi===t)return r.yi}},i.Ii=function(t){for(var n=0,i=this.PB;n<i.length;n++){var e=i[n];if(e.li===t)return e.yi}},i.CB=function(t){this.PB.push(t)},i.Ci=function(t){for(var n=0;n<this.PB.length;n++)if(this.PB[n].li===t)return void this.PB.splice(n,1)},i.Ni=function(t,n){for(var i=0;i<this.PB.length;i++)if(this.PB[i].di===n&&this.PB[i].wi===t)return void this.PB.splice(i,1)},i.Di=function(t,n){this.Ci(t),this.CB(new YI({di:t,yi:n}))},i.Ai=function(t,n,i){this.Ci(n);var e=n.split(":");this.CB(new YI({di:e[e.length-1],yi:i,wi:t,OB:e.length>1?e[0]:void 0}))},i.vi=function(t){var i=new n({di:this.di,wi:this.wi,OB:this.gi});return this.Pi.forEach(function(t){return i.CB(t.vi())}),t&&this.bi.forEach(function(n){return i.Si(n.vi(t))}),i},i.hi=function(t){return this===t||!!eO(this,t)&&(this.NB===t.NB&&this.AB===t.AB&&this.DB===t.DB&&(rO(this.Pi,t.Pi)&&rO(this.bi,t.bi)))},ft(n,[{key:"ei",get:function(){return On.ri}},{key:"Pi",get:function(){return this.PB}},{key:"di",get:function(){return this.NB}},{key:"wi",get:function(){return this.DB}},{key:"gi",get:function(){return this.AB}},{key:"ki",get:function(){return void 0===this.AB?this.NB:this.AB+":"+this.NB}},{key:"xi",get:function(){var t=[];return this.xB(t),t.join("")}}]),n}(KI),ZI=function(){function t(t){this.P=void 0,this.P=t}return ft(t,[{key:"Li",get:function(){return this.P}}]),t}(),QI=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.vi=function(){return new n(this.Li)},i.hi=function(t){return this===t||!!eO(this,t)&&this.Li===t.Li},ft(n,[{key:"ei",get:function(){return On.si}}]),n}(ZI),tO=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.vi=function(){return new n(this.Li)},i.hi=function(t){return this===t||!!eO(this,t)&&this.Li===t.Li},ft(n,[{key:"ei",get:function(){return On.oi}}]),n}(ZI),nO=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.vi=function(t){var i=new n;return t&&this.bi.forEach(function(n){return i.Si(n.vi(t))}),i},i.hi=function(t){return this===t||!!eO(this,t)&&rO(this.bi,t.bi)},ft(n,[{key:"ei",get:function(){return On.ci}},{key:"Bi",get:function(){return this.Ri[0]}}]),n}(KI);function iO(t){return Cn(t)}function eO(t,n){return t.ei===n.ei}function rO(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].hi(n[i]))return!1;return!0}var uO,sO=["adBreak"],oO=["adBreak"];function cO(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:gr({},t,{adBreak:gr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,P_(t,sO)})})})}function aO(t){return void 0===t.ads?t:gr({},t,{ads:t.ads.map(function(t){return t.adBreak,P_(t,oO)})})}function fO(t){return"string"==typeof t.date?new Date(t.date):t.date}function hO(t){var n;return t.cue.track?(n=dO(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=dO(t.cue,""),n}function vO(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&v.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=v.entries(i);return v.fromEntries(e.map(function(i){var e=i[0],r=i[1],u=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==u&&n.pop(r),[e,u]}))}return i}(t)}function dO(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new GI).ai(e.firstChild.outerHTML).Bi.Pi.forEach(function(t){r[t.di]=t.yi}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=lO(o);u[s]={type:uO.LB,value:c}}else gO(o)?u[s]={type:uO.BB,value:o}:u[s]={type:uO.MB,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=lO(t.scte35Cmd),i.scte35Out=lO(t.scte35Out),i.scte35In=lO(t.scte35In),i.customAttributes=u}var a}(),i}function lO(t){if(void 0!==t)return Gu(t)}function wO(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(dO(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(dO(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function gO(t){return"number"==typeof t}!function(t){t.MB="daterange-ca-type_string",t.BB="daterange-ca-type_number",t.LB="daterange-ca-type_arraybuffer"}(uO||(uO={}));var yO={cue:function(t){var n={};switch(n.date=fO(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=hO(t)}return n},textTrack:function(t){var n={};switch(n.date=fO(t),n.type=t.type,t.type){case"addcue":var i=t.cue;bO().register(i);var e=pO()[kO()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=hO(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var s=t.track.activeCues[u];r.push(dO(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:wO(t.track),date:fO(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=bO();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=fO(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case na.uf:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=gr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=wO(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=aO(t.ad);break;case"adloaded":case"adimpression":n.ad=cO(t.ad);break;case"adskip":n.ad=cO(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.FB&&(n.FB=t.FB),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=cO(t.ad)}return vO(n)},minimizeCueHelper:function(t){var n={};return n.date=fO(t),n.type=t.type,n.cue=hO(t),n.track={uid:t.cue.track.uid},n},adReplacer:cO,adBreakReplacer:aO,removeCircularReferences:vO},mO=function(){this.stringify=uR,this.minimize=yO};function _O(){return Q.self}function pO(){return _O().THEOplayerBridge}function bO(){return _O().THEOCueMirrorMap}function kO(){return _O().THEOplayerGlobalID}function TO(){var t=_O();if(t.THEOplayerBridge){var n=new tR;t.THEOplayerBridge=Vl(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new tR;t.THEOplayerUtils||(t.THEOplayerUtils=new mO),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new nR)}TO();var SO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ai=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Pn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Pn;return new EO(n)},n}(xn),EO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ft(n,[{key:"bi",get:function(){return void 0===this._i&&(this._i=OO(this.mi.childNodes)),this._i}},{key:"Bi",get:function(){return new RO(this.mi.documentElement)}}]),n}(Hn),RO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.vi=function(t){var i=new n(this.mi.cloneNode(t));return i.Pi.length<1&&this.Pi.length>0&&this.Pi.forEach(function(t){i.Di(t.li,t.yi)}),i},ft(n,[{key:"bi",get:function(){return void 0===this._i&&(this._i=OO(this.mi.childNodes)),this._i}}]),n}(Mn);function IO(t){switch(t.nodeType){case On.ri:return new RO(t)}return Wn(t)}function OO(t){for(var n=[],i=0;i<t.length;i++){var e=IO(t.item(i));e&&n.push(e)}return n}dt(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).UB=new SO,n}return vt(n,t),n.prototype.ai=function(t){return this.UB.ai(t)},n}(Sl)));var CO=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return vt(n,t),n}(Au),NO=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.tu(new CO(t,n))},i.addEventListener=function(t,n){this.nu(t,n)},i.removeEventListener=function(t,n){this.uu(t,n)},n}(dw);function DO(t,n){return t.ly<=n&&t.wy>n}function AO(t,n){return function(t,n){return uu(t.ly,n.ly,Qg)}(t,n)||function(t,n){return uu(t.wy,n.wy,Qg)}(t,n)}function PO(t,n){var i=function(t,n,i,e,r,u,s){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),f=e(i(t[a]),n);if(f<0)o=a+1;else if(f>0)c=a-1;else{if(!(r&&a>u&&0===e(i(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,Ut,AO,!0);if(i<0)return i;for(;i<t.length&&AO(n,t[i])===Qr.Ar;i++)if(t[i].Sy(n))return i;return-(i+1)}function xO(t){var n=t.Wd;if(!n)return-1;if(t instanceof ty)return n.VB(t);var i=n.jl;if(!i)return-1;var e=PO(i.ml,t);return e>=0?e:-1}var LO=function(t){function n(n,i){var e;return(e=t.call(this,zg.sy,n)||this).Lm=i,e}return vt(n,t),n.prototype.qd=function(){return new BO(this.vy.Hd)},n}(Xg),BO=function(t){function n(n){return t.call(this,"enter",n)||this}return vt(n,t),n}(Gg),MO=function(t){function n(n,i){var e;return(e=t.call(this,zg.ay,n)||this).Lm=i,e}return vt(n,t),n.prototype.qd=function(){return new FO(this.vy.Hd)},n}(Xg),FO=function(t){function n(n){return t.call(this,"exit",n)||this}return vt(n,t),n}(Gg),UO=function(t){function n(n){var i;return(i=t.call(this,Il.Gd)||this).vy=n,i}return vt(n,t),n.prototype.qd=function(){return new VO(this.vy.Hd)},n}(Ol),VO=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return vt(n,t),n}(Cl),HO=function(t){function n(n){var i;return(i=t.call(this,Il.Kd)||this).vy=n,i}return vt(n,t),n.prototype.qd=function(){return new qO(this.vy.Hd)},n}(Ol),qO=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return vt(n,t),n}(Cl),WO=function(t){function n(n){var i;return(i=t.call(this,Il.Zd)||this).Wd=n,i}return vt(n,t),n.prototype.qd=function(){return new zO(this.Wd.Hd)},n}(Ol),zO=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return vt(n,t),n}(Cl);function jO(t,n){return ru(t.Lm,n.Lm)||function(t,n){return t.Wd===n.Wd?eu(xO(t),xO(n)):Um(t.Wd,n.Wd)}(t.vy,n.vy)||function(t,n){return t===n?Qr.Ar:t===zg.sy?Qr.xr:Qr.Pr}(t.type,n.type)}var $O=function(){function t(t,n){var i=this;this.jI=void 0,this.HB=void 0,this.ig=[],this.qB=0,this.WB=0,this.zB=[],this.jB=[],this.$B=!1,this.XB=!1,this.GB=void 0,this.YB=function(){i.qB=0,i.KB(),i.JB()},this.ZB=function(){i.KB(),i.JB()},this.QB=function(){i.XB=!0,i.GB=i.jI.Rw,i.tM()},this.nM=function(){i.KB(),i.JB()},this.iM=function(){i.eM(),i.KB(),i.JB()},this.rM=function(t){hu(i.jB,t.vy)||i.jB.push(t.vy),i.uM()},this.sM=function(t){au(i.zB,t.vy),au(i.jB,t.vy),i.uM()},this.HB=n,this.jI=t,t.nu(na.rf,this.ZB),t.nu(na.ja,this.ZB),t.nu(Fw.Ew,this.ZB),t.nu(na.za,this.ZB),t.nu(na.Ja,this.QB),t.nu(na.Ka,this.nM),this.uM()}var n=t.prototype;return n.Sc=function(){vu(this.zB);for(var t=0,n=this.ig.slice();t<n.length;t++){var i=n[t];this.gl(i)}this.tM(),this.qB=0,this.WB=0,this.$B=!1,this.XB=!1,this.GB=void 0},n.wl=function(t){if(!hu(this.ig,t)){if(this.ig.push(t),t.nu(Il.zd,this.rM),t.nu(Il.$d,this.sM),t.nu(Il.tl,this.iM),t.jl._l>0){for(var n=0,i=t.jl.ml;n<i.length;n++){var e=i[n];this.jB.push(e)}this.uM()}this.eM()}},n.gl=function(t){if(au(this.ig,t)){if(t.uu(Il.zd,this.rM),t.uu(Il.$d,this.sM),t.uu(Il.tl,this.iM),t.jl._l>0){for(var n=0,i=t.jl.ml;n<i.length;n++){var e=i[n];au(this.zB,e),au(this.jB,e)}this.uM()}this.eM()}},n.eM=function(){this.$B=this.ig.some(function(t){return t.Fl!==ew.Hl})},n.JB=function(){this.jI.Pw||this.jI.Dw?this.tM():this.uM()},n.uM=function(){this.$B&&(this.qB||(this.qB=this.HB.V(this.YB)))},n.tM=function(){this.qB&&(this.HB.oM(this.qB),this.qB=0)},n.KB=function(){var t;if(this.$B&&!this.jI.Pw){var n=this.ig,i=this.WB,e=null!=(t=this.GB)?t:this.jI.Rw,r=e-i<-.1,u=this.XB||r;u&&e>i&&e-i<.1&&(u=!1),this.XB=!1,this.GB=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.Fl!==ew.Hl){a.cM(e,u);for(var f=0,h=a.$l.ml;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.zB;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.Fl!==ew.Hl&&Fm(w,i-1/6,e,s)}}for(var g=s.length-1;g>=0;g--)hu(o,s[g])&&fu(s,g);var y=[];if(!u)for(var m=s.length-1;m>=0;m--){var _=s[m];_.ly>i&&_.wy<=e&&(y.push(_),fu(s,m))}for(var p=0,b=this.jB;p<b.length;p++){au(y,b[p])}vu(this.jB);for(var k=[],T=[],S=0;S<y.length;S++){var E=y[S];E.Ey||k.push(new LO(E,E.ly)),k.push(new MO(E,d.max(E.ly,E.wy))),E.Ey=!1}for(var R=0,I=s;R<I.length;R++){var O=I[R];O.Ey&&(k.push(new MO(O,d.max(O.ly,O.wy))),O.Ey=!1)}for(var C=0;C<o.length;C++){var N=o[C];N.Ey||(k.push(new LO(N,N.ly)),N.Ey=!0)}k.sort(jO);for(var D=0;D<k.length;D++){var A=k[D],P=A.vy;P.tu(A);var x=P.Wd;x&&(A.type===zg.sy?x.tu(new UO(P)):x.tu(new HO(P)),hu(T,x)||T.push(x))}T.sort(Um);for(var L=0;L<T.length;L++){var B=T[L];B.tu(new WO(B))}this.WB=e,this.zB=o}},n.et=function(){this.Sc(),this.jI.uu(na.rf,this.ZB),this.jI.uu(na.ja,this.ZB),this.jI.uu(Fw.Ew,this.ZB),this.jI.uu(na.za,this.ZB),this.jI.uu(na.Ja,this.QB),this.jI.uu(na.Ka,this.nM)},t}(),XO=function(){function t(){}var n=t.prototype;return n.V=function(t){return dS(t)},n.oM=function(t){lS(t)},t}(),GO=new XO,YO=function(t){function n(n,i){return void 0===i&&(i=GO),t.call(this,n,i)||this}return vt(n,t),n}($O),KO=function(t){function n(){return t.call(this,na.Ua)||this}return vt(n,t),n}(Au),JO=function(t){function n(n){var i;return(i=t.call(this,na.$a)||this).currentTime=n,i}return vt(n,t),n}(Au),ZO=function(t){function n(n,i){var e;return(e=t.call(this)||this).aM=void 0,e.fM=void 0,e.hM=function(t){e.aM.vM("THEOplayerABRSetTargetBuffer",t.wP),e.tu(t)},e.dM=function(t){e.aM.vM("THEOplayerABRSetStrategy",t.yP),e.tu(t)},e.aM=n,e.fM=i,e.fM.nu("gP",e.hM),e.fM.nu("mP",e.dM),e}return vt(n,t),n.prototype.CP=function(t){return this.fM.CP(t)},ft(n,[{key:"DP",get:function(){var t;switch(this.yP.type){case US.PERFORMANCE:return 1;case US.QUALITY:return 0;case US.BANDWIDTH:return null!=(t=this.yP.metadata)&&t.bitrate&&!g(this.yP.metadata.bitrate)?this.yP.metadata.bitrate:0;default:return 0}}},{key:"Hd",get:function(){return this.fM.Hd}},{key:"yP",get:function(){return this.fM.yP},set:function(t){this.fM.yP=t}},{key:"wP",get:function(){return this.fM.wP},set:function(t){this.fM.wP=t}},{key:"NP",get:function(){return this.fM.NP}},{key:"_P",get:function(){return this.fM._P},set:function(t){this.fM._P=t}},{key:"bP",get:function(){return this.fM.bP}},{key:"fP",get:function(){return this.fM.fP}}]),n}(Nu),QO=function(){function t(t){this.lM=void 0,this.Vd=void 0,this.lM=t}var n=t.prototype;return n.qd=function(){return function(t){for(var n=[],i=0;i<t._l;i++)n[i]=t.Tu(i).Hd;return n.item=function(n){var i=0|n,e=t.Tu(i);return e&&e.Hd||void 0},v.defineProperty(n,"constructor",{value:Kg}),n}(this)},n.Xg=function(t){for(var n=this.lM,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Sy(e))return!0}return!1},n.Tu=function(t){return this.lM[t]},ft(t,[{key:"ml",get:function(){return this.lM}},{key:"_l",get:function(){return this.lM.length}},{key:"Hd",get:function(){if(this.Vd){var t=this.lM;this.Vd.length=t.length;for(var n=0;n<t.length;n++)this.Vd[n]=t[n].Hd}else this.Vd=this.qd();return this.Vd}}]),t}(),tC=function(t){function n(n,i){var e;return(e=t.call(this,Il.il)||this).Wd=n,e.zl=i,e}return vt(n,t),n.prototype.qd=function(){return new nC(this.Wd.Hd,fw(this.zl))},n}(Ol),nC=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return vt(n,t),n}(Cl),iC=function(t){function n(n){var i;return(i=t.call(this,Il.sl)||this).Wd=n,i}return vt(n,t),n.prototype.qd=function(){return new eC(this.Wd.Hd)},n}(Ol),eC=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return vt(n,t),n}(Cl),rC=function(t){function n(n){var i;return(i=t.call(this,Il.zd)||this).vy=n,i}return vt(n,t),n.prototype.qd=function(){return new uC(this.vy.Hd)},n}(Ol),uC=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return vt(n,t),n}(Cl),sC=function(t){function n(n){var i;return(i=t.call(this,Il.$d)||this).vy=n,i}return vt(n,t),n.prototype.qd=function(){return new oC(this.vy.Hd)},n}(Ol),oC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return vt(n,t),n}(Cl),cC=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this)||this).Vd=void 0,a.Ko=void 0,a.Kg=Lg(),a.wM=!1,a.gM=void 0,a.yM=void 0,a.Yg=void 0,a.Us=void 0,a.aC=ew.Hl,a.mM=Hg.NONE,a._M=void 0,a.Mi=void 0,a.pM=void 0,a.lM=[],a.bM=[],a.kM=void 0,a.TM=void 0,a.SM=0,a.EM=0,a.Ko=i||"",a.gM=c||"",a.yM=n,a.Us=r||"",a.wM=Boolean(u),a.pM=Boolean(o),a.Mi=s||qg.DEFAULT,a.Yg=e||"",a.kM=new QO(a.lM),a.TM=new QO(a.bM),a}vt(n,t);var i=n.prototype;return i.RM=function(t){return ou(this.kM.ml,function(n){return n.Cl===t})},i.qd=function(){return ow(this)},i.SC=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case ew.Hl:case ew.Vl:case ew.Ul:return n}}else if("number"==typeof t)switch(t){case 0:return ew.Hl;case 1:return ew.Vl;case 2:return ew.Ul}return ew.Hl}(t);n!==this.Fl&&(this.aC=n,n===ew.Hl&&(this.bM.forEach(function(t){t.Ey=!1}),vu(this.bM),this.EM=0),this.tu(new Ll(this)))},i.JT=function(t){if(t&&!t.Wd){var n=PO(this.jl.ml,t);if(!(n>=0)){t.Wd=this;var i=-(n+1);this.lM.splice(i,0,t),this.IM(i),t.Ty=i,i<this.EM&&(this.EM=i),this.tu(new rC(t))}}},i.BT=function(t){if(t&&t.Wd===this){var n=this.VB(t);if(!(n<0)){t.Ey=!1;var i=this.bM,e=PO(i,t);e>=0&&fu(i,e),fu(this.lM,n),this.IM(n),t.Ty=-1,this.EM>n&&--this.EM,this.tu(new sC(t))}}},i.cM=function(t,n){var i=this.bM,e=this.lM,r=this.EM,u=!1;n&&(r=0);for(var s=i.length-1;s>=0;s--){DO(i[s],t)||(u=!0,fu(i,s))}for(;r<e.length&&e[r].ly<=t;){var o=e[r];if(0===t)break;DO(o,t)&&!hu(i,o)&&(u=!0,i.push(o)),r++}u&&nu(i,AO),this.EM=r},i.VB=function(t){return(-1===t.Ty||t.Ty>=this.SM)&&this.OM(),t.Ty},i.OM=function(){for(var t=this.lM,n=this.SM;n<t.length;n++)t[n].Ty=n;this.SM=t.length},i.IM=function(t){t<this.SM&&(this.SM=t)},i.ql=function(t){this.Wl||(this.Fl=t)},i.et=function(){this.ru();for(var t=this.lM.slice(),n=0;n<t.length;n++){t[n].et()}vu(this.lM),vu(this.bM)},ft(n,[{key:"$l",get:function(){return this.TM}},{key:"jl",get:function(){return this.kM}},{key:"QT",get:function(){return this.wM},set:function(t){this.wM=t}},{key:"Wl",get:function(){return this.pM}},{key:"Hd",get:function(){return this.Vd||(this.Vd=this.qd()),this.Vd}},{key:"Cl",get:function(){return this.Ko}},{key:"Nl",get:function(){return this.Kg}},{key:"Ml",get:function(){return this.gM},set:function(t){this.gM=t}},{key:"Dl",get:function(){return this.yM}},{key:"Al",get:function(){return this.Yg},set:function(t){t!==this.Yg&&(this.Yg=t,this.tu(new Ag(this)))}},{key:"Pl",get:function(){return this.Us}},{key:"Fl",get:function(){return this.aC},set:function(t){this.SC(t)}},{key:"zl",get:function(){return this.mM},set:function(t){this.mM!==t&&(this.mM=t,this.tu(new tC(this,this.mM)))}},{key:"Xl",get:function(){return this._M},set:function(t){this._M=t}},{key:"br",get:function(){return this.Mi},set:function(t){this.Mi!==t&&(this.Mi=t,this.tu(new iC(this)))}}]),n}(Nu);function aC(t,n,i){for(var e=t[n].ly,r=n;r>=0&&t[r].ly===e;r--)t[r].wy=i}var fC=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return vt(n,t),n.prototype.Sy=function(n){return this===n||Wl(this,n)&&t.prototype.Sy.call(this,n)&&(i=n,this.gy===i.gy);var i},ft(n,[{key:"Hd",get:function(){return this.Vd||(this.Vd=Yg(this)),this.Vd}}]),n}(ty),hC=function(t){function n(n,i,e){return void 0===e&&(e=qg.DEFAULT),t.call(this,Dm.wp,"",i||"","",!1,e,!1,n)||this}return vt(n,t),n}(cC),vC=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).br=qg.ID3,e}vt(n,t);var i=n.prototype;return i.JT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].ly<t.ly)aC(n,i,t.ly);else{var e=n[0];if(e.ly>t.ly)t.wy=e.ly;else{var r=PO(n,t);if(!(r>=0)){var u=-(r+1),s=u-1;if(s>=0&&n[s].ly<t.ly&&aC(n,s,t.ly),u<n.length){var o=n[u];t.wy=o.ly}}}}}}(n,this.lM),t.prototype.JT.call(this,n)},i.qd=function(){return ow(this)},n}(hC);na.ja,na.za,Fw.Ew,na.rf,na.$a,na.Ua,na.Ja,na.Ka,na.Ba,na.Xa,na.uf,na.xa,Fw.il,na.Ya,rw.Bl,Cu.gu,Cu.mu,na.Da,na.Na,na.sf;var dC,lC={CM:!1},wC=function(){function t(t,n,i){this.zc=void 0,this.Ir=void 0,this.aa=void 0,this.yc=void 0,this.zc=t,this.Ir=i,this.aa=n}var n=t.prototype;return n.ZT=function(t){throw new f("Not implemented yet.")},n.NM=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,wr.awrap(this.Ir.Nr(t.kr,n));case 2:return i=r.sent,r.next=5,wr.awrap(i.Ic());case 5:return e=r.sent,r.next=8,wr.awrap(this.DM(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,j)},n.AM=function(t){return!1},n.PM=function(t){return j.resolve(void 0)},n.Vr=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.DM(void 0));case 2:case"end":return t.stop()}},null,this,null,j)},n.DM=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.xM(t),i.next=3,wr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,j)},n.xM=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.yc)){i.next=5;break}return i.next=4,wr.awrap(n.Tc(this.aa));case 4:this.yc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,wr.awrap(t.kc(this.aa));case 8:this.yc=t;case 9:case"end":return i.stop()}},null,this,null,j)},n.YT=function(t,n,i){throw new f("Not implemented yet.")},ft(t,[{key:"_c",get:function(){return this.zc}},{key:"Hg",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"qg",get:function(){return new tk([0,1/0])}},{key:"cg",get:function(){throw new f("Not implemented yet.")}},{key:"LM",get:function(){throw new f("Not implemented yet")}},{key:"og",get:function(){throw new f("Not implemented yet.")}},{key:"BM",get:function(){throw new f("Not implemented yet")}},{key:"MM",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.FM="webkitneedkey",t.UM="webkitkeymessage",t.VM="webkitkeyerror",t.HM="webkitkeyflowdone"}(dC||(dC={}));var gC,yC,mC,_C,pC,bC,kC,TC,SC,EC,RC,IC=function(t){function n(n,i){var e;return(e=t.call(this,dC.FM)||this).initData=n,e.sessionId=i,e}return vt(n,t),n}(Au),OC=function(t){function n(n,i){var e;return(e=t.call(this,dC.UM)||this).message=n,e.destinationURL=i,e}return vt(n,t),n}(Au),CC=function(t){function n(){return t.call(this,dC.VM)||this}return vt(n,t),n}(Au),NC=function(t){function n(){return t.call(this,dC.HM)||this}return vt(n,t),n}(Au),DC=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Dc=new Hs,s.jc=void 0,s.xc=new Vu,s.Xc=new Hs,s.qM=function(t){s.jc?(s.jc.Vu(void 0),s.jc=void 0):s.Uc("internal-error"),s.tu(new Mu)},s.WM=function(t){s.tu(new Bu(Nn(s),"license-request",Fs(t.message).buffer,t.destinationURL||void 0))},s.zM=function(t){s.jc&&(s.jc.Uu(void 0),s.jc=void 0)},s.Hc=n,s.rc=i,s.jM=e,s.oa=r,s.Yc=u,s}vt(n,t);var i=n.prototype;return i.cc=function(t,n,i){var e;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Kc){t.next=3;break}throw new h("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,wr.awrap(this.$M(Bs(n),e));case 5:this.Uc("usable"),this.Xc.Uu(),this.Xc=new Hs;case 8:case"end":return t.stop()}},null,this,null,j)},i.ac=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,j)},i.hc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Bs(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:return this.jc=new Hs,this.jM.hc(this.oa,n),i.abrupt("return",this.jc.Bu);case 6:case"end":return i.stop()}},null,this,null,j)},i.oc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.Xc);case 2:return this.jM.uu(dC.UM,this.WM),this.jM.uu(dC.VM,this.qM),this.jM.uu(dC.HM,this.zM),this.Xc.$r(),this.Dc.Uu(void 0),t.abrupt("return",this.Dc.Bu);case 8:case"end":return t.stop()}},null,this,null,j)},i.fc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,j)},i.$M=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Dc(t,n,this.Yc),this.jM.nu(dC.UM,this.WM),this.jM.nu(dC.VM,this.qM),this.jM.nu(dC.HM,this.zM),this.jM.XM(this.oa,i);case 5:case"end":return e.stop()}},null,this,null,j)},i.Uc=function(t){this.xc.Ru(),this.xc.Eu(Uu,t),this.tu(new Lu(this))},ft(n,[{key:"gc",get:function(){return this.oa}},{key:"lc",get:function(){return NaN}},{key:"dc",get:function(){return this.Dc.Bu}},{key:"wc",get:function(){return this.xc}}]),n}(Nu),AC=function(){function t(t,n,i){this.GM=void 0,this.oa=void 0,this.Yc=void 0,this.jM=void 0,this.rc=void 0,this.zc=void 0,this.Hc=void 0,this.jM=t,this.rc=n,this.zc=i;var e=gc(i)||"video/mp4";this.Hc=dc(e)}var i=t.prototype;return i.pc=function(t){var i;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Yc){t.next=2;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new DC(this.Hc,this.rc,this.jM,this.oa,this.Yc),this.GM=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,j)},i.bc=function(t){return this.Yc=Bs(t),j.resolve(!0)},i.kc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,j)},i.Tc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,j)},i.createSession=function(){throw new f("Whoops.")},ft(t,[{key:"mc",get:function(){return this.rc}},{key:"_c",get:function(){return this.zc}},{key:"sessionId",set:function(t){this.oa=t}}]),t}(),PC=function(){function t(t,n,i){this.YM=t,this.rc=n,this.zc=i}var n=t.prototype;return n.Oc=function(){return this.zc},n.Ic=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new AC(this.YM,this.rc,this.zc));case 1:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"mc",get:function(){return this.rc}}]),t}(),xC=function(){function t(t){this.YM=void 0,this.YM=t}return t.prototype.Nr=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0;case 1:if(!(i<n.length)){u.next=9;break}if(e=n[i],!(r=lc(LC,xu,t,e))){u.next=6;break}return u.abrupt("return",new PC(this.YM,t,r));case 6:i++,u.next=1;break;case 9:throw new h("Unsupported key system configuration for "+t);case 10:case"end":return u.stop()}},null,this,null,j)},t}();function LC(t,n){return t===Fr}!function(t){t.dN="KM"}(gC||(gC={})),function(t){t.JM="ZM"}(yC||(yC={})),yC.JM,function(t){t[t.QM=0]="QM",t[t.vf=1]="vf",t[t.tF=2]="tF"}(mC||(mC={})),function(t){t.nF="iF"}(_C||(_C={})),function(t){t[t.eF=0]="eF",t[t.rF=1]="rF",t[t.uF=2]="uF"}(pC||(pC={})),function(t){t[t.sF=3]="sF",t[t.oF=4]="oF",t[t.cF=5]="cF"}(bC||(bC={})),function(t){t[t.aF=64]="aF",t[t.fF=103]="fF",t[t.hF=107]="hF"}(kC||(kC={})),function(t){t[t.vF=0]="vF",t[t.dF=1]="dF",t[t.fF=2]="fF",t[t.lF=5]="lF",t[t.wF=34]="wF"}(TC||(TC={})),Et.Hn,na.ja,na.za,na.Ja,na.Ka,na.Ba,na.Xa,Fw.il,rw.Bl,Et.Ln||Et.Bn,function(t){t.gF="closed",t.Cv="open",t.Ba="ended"}(SC||(SC={})),na.uf,na.Xa,na.Ja,na.ja,na.za,Fw.il,na.ja,na.za,na.Ja,na.Ka,na.Ba,rw.Bl,function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(EC||(EC={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(RC||(RC={}));var BC=function(t){function n(n,i){var e;return(e=t.call(this)||this).yF=new Sr,e.wR=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Wd).br){i.next=4;break}return i.next=4,wr.awrap(n.au(Il.sl));case 4:if(n.br===qg.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.jl._l){i.next=11;break}return i.next=9,wr.awrap(n.au(Il.zd));case 9:i.next=6;break;case 11:e.mF(n);case 12:case"end":return i.stop()}},null,null,null,j)},e.gR=function(t){var n=t.Wd;if(n.br===qg.ID3&&e.yF.has(n.Nl)){var i=e.yF.get(n.Nl);e.gl(i),e.jT.ZT(i),n.uu(Il.zd,e._F)}},e._F=function(t){MC(t.vy)&&e.pF(t.vy)},e.jT=n,e.bF=i,e.kF(),e}vt(n,t);var i=n.prototype;return i.kF=function(){this.bF.nu(kl.Bd,this.wR),this.bF.nu(kl.Fd,this.gR)},i.TF=function(){this.bF.uu(kl.Bd,this.wR),this.bF.uu(kl.Fd,this.gR)},i.mF=function(t){var n=t.jl.ml[0];if(MC(n)){var i=function(t){var n=t.match($C);if(!n)return;return{Wd:n[1],Pl:n[2]}}(n.gy.description),e=i.Wd,r=i.Pl;if(!this.SF(e,r)){var u=this.jT.YT(Dm.dp,t.Cl,e,r,!1,qg.TTML);this.wl(u),this.yF.set(t.Nl,u);for(var s=0,o=t.jl.ml;s<o.length;s++){var c=o[s];MC(c)&&this.pF(c)}t.nu(Il.zd,this._F)}}},i.SF=function(t,n){return this.cb.ml.some(function(i){return i.Al===t&&i.Pl===n})},i.pF=function(t){if(t.Wd)for(var n=this.yF.get(t.Wd.Nl),i=bm(t.gy.text,0,{h_:0,v_:1/0,d_:t.ly}),e=0;e<i.length;e++){var r=i[e];n.JT(r)}},i.Sc=function(){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:for(n=0,i=this.bF.ml;n<i.length;n++)i[n].uu(Il.zd,this._F);for(e=0,r=this.cb.ml;e<r.length;e++)u=r[e],this.jT.ZT(u);return this.yF.clear(),s.next=5,wr.awrap(t.prototype.Sc.call(this));case 5:case"end":return s.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.TF(),n.next=3,wr.awrap(t.prototype.et.call(this));case 3:case"end":return n.stop()}},null,this,null,j)},n}(zm);function MC(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.gy)&&$C.test(n.description);var n}var FC,UC,VC,HC,qC,WC,zC,jC,$C=/^Track:(.+),Lang:(.+)$/;new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Vd=void 0,n}return vt(n,t),ft(n,[{key:"Hd",get:function(){return this.Vd||(this.Vd=_E(this)),this.Vd}},{key:"hL",get:function(){}},{key:"vL",get:function(){}},{key:"dL",get:function(){}},{key:"lL",get:function(){}},{key:"wL",get:function(){}},{key:"gL",get:function(){}},{key:"bL",get:function(){}},{key:"yL",get:function(){}},{key:"mL",get:function(){}},{key:"_L",get:function(){}},{key:"pL",get:function(){}}]),n}(Nu)),function(t){t.EF='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.RF='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.IF='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.OF='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(FC||(FC={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(UC||(UC={})),function(t){var n=mr();for(var i in t)Rt.call(t,i)&&n.set(i,t[i])}({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),UC.WHITE,UC.TRANSPARENT,UC.TRANSPARENT,function(t){t.CF="Data",t.NF="Tag",t.DF="StartTag",t.AF="StartTagClass",t.PF="StartTagAnnotation",t.xF="CharRefInAnnotation",t.LF="EndTag",t.BF="TimestampTag"}(VC||(VC={})),function(t){t.MB="string",t.MF="starttag",t.FF="endtag",t.UF="timestamp"}(HC||(HC={})),UC.WHITE,UC.TRANSPARENT,function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(qC||(qC={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(WC||(WC={})),UC.WHITE,FC.IF,UC.BLACK,WC.FONT_REGULAR,UC.WHITE,WC.FONT_REGULAR,UC.WHITE,WC.FONT_UNDERLINE,UC.GREEN,WC.FONT_REGULAR,UC.GREEN,WC.FONT_UNDERLINE,UC.BLUE,WC.FONT_REGULAR,UC.BLUE,WC.FONT_UNDERLINE,UC.CYAN,WC.FONT_REGULAR,UC.CYAN,WC.FONT_UNDERLINE,UC.RED,WC.FONT_REGULAR,UC.RED,WC.FONT_UNDERLINE,UC.YELLOW,WC.FONT_REGULAR,UC.YELLOW,WC.FONT_UNDERLINE,UC.MAGENTA,WC.FONT_REGULAR,UC.MAGENTA,WC.FONT_UNDERLINE,UC.WHITE,WC.FONT_ITALICS,UC.WHITE,WC.FONT_UNDERLINE_ITALICS,UC.WHITE,WC.FONT_REGULAR,UC.WHITE,WC.FONT_UNDERLINE,UC.WHITE,WC.FONT_REGULAR,UC.WHITE,WC.FONT_UNDERLINE,UC.WHITE,WC.FONT_REGULAR,UC.WHITE,WC.FONT_UNDERLINE,UC.WHITE,WC.FONT_REGULAR,UC.WHITE,WC.FONT_UNDERLINE,UC.WHITE,WC.FONT_REGULAR,UC.WHITE,WC.FONT_UNDERLINE,UC.WHITE,WC.FONT_REGULAR,UC.WHITE,WC.FONT_UNDERLINE,UC.WHITE,WC.FONT_REGULAR,UC.WHITE,WC.FONT_UNDERLINE,UC.WHITE,WC.FONT_REGULAR,UC.WHITE,WC.FONT_UNDERLINE,function(t){t.VF="HELLO",t.HF="HI_THERE",t.qF="INITIALIZE",t.WF="APPEND_INIT",t.zF="APPEND_DATA",t.jF="ACK",t.XF="REMOVE",t.GF="DESTROY_SESSION"}(zC||(zC={})),function(t){t.vv="audio",t.dv="video",t.wp="metadata"}(jC||(jC={}));var XC=sy.fm,GC=new sy(-1/0),YC=sy.jm,KC=new(function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.jy=function(t,n){return t.Ky(n)?Qr.xr:t.Sy(n)?Qr.Ar:Qr.Pr},i.$g=function(t,n){return t.$g(n)},i.tm=function(t,n){return t.tm(n)},i.Yy=function(t,n){return t.Yy(n)},i.vO=function(){return XC},i.dO=function(){return YC},i.yO=function(){return GC},n.BO=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new sy(t.start(e)),new sy(t.end(e)));return new n(i)},n.YF=function(t){for(var i=[],e=[],r=0;r<t._l;r++)i.push(new sy(t.nO(r))),i.push(new sy(t.eO(r))),e.push(t.iO(r)),e.push(t.rO(r));return new n(i,e)},n.FO=function(t){return new n([t,t],[!0,!0])},i.fO=function(t,i){return new n(t,i)},i.cO=function(t){return t.Wm},n.UO=function(){return KC},n}(Qb))([]),JC=function(t){function n(n){var i;return(i=t.call(this,na.Na)||this).errorObject=void 0,i.errorObject=n,i}return vt(n,t),ft(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Au),ZC=function(t){function n(){return t.call(this,na.Da)||this}return vt(n,t),n}(Au),QC=function(t){function n(n){var i;return(i=t.call(this,"cf")||this).KF=n,i}return vt(n,t),n}(Au),tN=new Uc,nN=function(t){function n(n){var i;return(i=t.call(this,"oc")||this).session=n,i}return vt(n,t),n}(Au),iN=function(t){function i(i,e,r){var u;return(u=t.call(this)||this).JF=!1,u.ZF=!1,u.ta=new lu,u.QF=void 0,u.ec=function(t){if(!u.ta.Yr.Lr)switch(t.du){case"license-request":case"license-renewal":u.LS(t.vu,t.lu).catch(function(t){return u.Mc(t)});break;default:u.Mc(new Eg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.du))}},u.tU=function(t){u.nU.wc.Su(function(t,n){switch(t){case"usable":st.Le(function(){u.ZF=!0,u.tu(new ZC)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.tu(new QC(n))}})},u.iU=function(t){u.Mc(new Eg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.nU=i,u.eU=e,u.rU=r,i.nu("vu",u.ec),i.nu("hu",u.tU),i.nu("wu",u.iU),i.dc.then(function(){return u.uU()}),u}vt(i,t);var e=i.prototype;return e.cc=function(){var t=this;return this.JF=!0,tN.ra(function(n){return t.sU(n)},this.ta.Yr)},e.sU=function(t){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,yu(t),u.next=4,wr.awrap(this.eU.OS(t));case 4:return u.next=6,wr.awrap(this.eU.CS(this.rU.Tr,this.rU.pu,t));case 6:return i=u.sent,u.next=9,wr.awrap(this.nU.cc(this.rU.Tr,this.rU.pu,i));case 9:u.next=18;break;case 11:throw u.prev=11,u.t0=u.catch(0),mu(u.t0),e=u.t0 instanceof $s?u.t0.qu:void 0,r=new Eg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",u.t0,void 0,void 0,void 0,void 0,e),this.Mc(r),r;case 18:case"end":return u.stop()}},null,this,[[0,11]],j)},e.LS=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!Ws(t)){o.next=7;break}return o.next=4,wr.awrap(this.eU.WS(new y(t),this.ta.Yr));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,wr.awrap(this.eU.zS(new y(t),i,this.ta.Yr));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!gu(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.ta.Yr.Lr){o.next=19;break}return o.abrupt("return");case 19:return r=this.QF,u=new Hs,this.QF=u,o.prev=22,o.next=25,wr.awrap(this.nU.hc(e));case 25:return o.next=27,wr.awrap(Ru(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),s=o.t1 instanceof $s?o.t1.qu:void 0,new Eg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,s);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,wr.awrap(r.Bu);case 37:return u.Uu(),this.QF===u&&(this.QF=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],j)},e.Mc=function(t){var i=t instanceof Eg?t:new Eg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.tu(new JC(i)),this.oc()},e.uU=function(){this.nU.uu("vu",this.ec),this.nU.uu("hu",this.tU),this.nU.uu("wu",this.iU),this.ZF=!1,this.ta.$r(),this.tu(new nN(this))},e.oc=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.ru();case 1:if(void 0===(t=this.QF)){n.next=5;break}return n.next=5,wr.awrap(t.Bu);case 5:if(this.QF!==t){n.next=1;break}case 6:return this.uU(),n.next=9,wr.awrap(this.nU.oc().catch(Ft));case 9:case"end":return n.stop()}},null,this,null,j)},i}(Nu),eN=[na.Da,na.Na,na.sf],rN=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).rc=void 0,r.yc=void 0,r.oU=void 0,r.cU=[],r.aU=void 0,r.fU=[],r.hU=function(t){t.session.uu(eN,r.Qr),t.session.uu("oc",r.hU),au(r.cU,t.session)},r.rc=n,r.yc=i,r.oU=e,r}vt(n,t);var i=n.prototype;return i.qS=function(){return this.oU.qS()},i.vU=function(t){return this.aU||(this.aU=this.dU(t)),this.aU},i.dU=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return yu(t),i.next=3,wr.awrap(this.oU.WS(new y(qs()),t));case 3:if(n=i.sent,yu(t),this.yc){i.next=7;break}throw new f("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,wr.awrap(this.yc.bc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,j)},i.XM=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.yc){e.next=2;break}throw new f("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.fU.push(t),e.next=6,wr.awrap(this.yc.pc("temporary"));case 6:return n=e.sent,i=new iN(n,this.oU,t),this.cU.push(i),i.nu(eN,this.Qr),i.nu("oc",this.hU),e.abrupt("return",i);case 12:return e.prev=12,au(this.fU,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],j)},i.lU=function(t){if(t.wU)return!1;for(var n=0,i=this.cU;n<i.length;n++){if(uN(i[n].rU,t))return!0}for(var e=0,r=this.fU;e<r.length;e++){if(uN(r[e],t))return!0}return!1},i.et=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.yc=void 0,this.ru(),t=this.cU.slice(),vu(this.cU),n.next=6,wr.awrap(j.all(t.map(function(t){return t.oc()})));case 6:this.oU.Vr();case 7:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"mc",get:function(){return this.rc}}]),n}(Nu);function uN(t,n){return!t.wU&&t.Tr===n.Tr&&Ju(t.pu,n.pu)}var sN=function(t){function i(n){var i;return(i=t.call(this)||this).ER=void 0,i.ta=new lu,i.mB=new Uc,i.zc=void 0,i.oU=void 0,i.RR=void 0,i.rc=void 0,i.gU=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,wr.awrap(i.yU(t.Tr,t.pu,i.ta.Yr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),gu(n.t0)||i.Mc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],j)},i.ER=n,i.ER.nu(Cu.gu,i.gU),i}vt(i,t);var e=i.prototype;return e.ac=function(t,n){this.RR=t,this.PM(n)},e.PM=function(t){this.zc=t,this.mU(this.ta.Yr).catch(_u)},e.mU=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!st.Ke.ve){n.next=5;break}return n.next=3,wr.awrap(this._U(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.zc||!this.zc.pU){n.next=9;break}return n.next=8,wr.awrap(this.bU(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,j)},e._U=function(t){var n,i,e,r,u,s,o,c,a,f,h;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.zc)?void 0:n.eI){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(u=null==(s=this.zc)?void 0:s.eI)?u:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],c=0,a=null!=(f=o.vR)?f:[];case 8:if(!(c<a.length)){v.next=22;break}return h=a[c],v.prev=10,v.next=13,wr.awrap(this.yU(o.mc.Tr,h,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),mu(v.t0);case 19:c++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],j)},e.yU=function(t,i,e){var r,u,s,o,c,a,f,h,v,d;return wr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(yu(e),i.byteLength){l.next=3;break}return l.abrupt("return");case 3:if(this.zc&&this.zc.eI.length){l.next=5;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Rr||t===Or||t===Ir){l.next=8;break}return l.abrupt("return");case 8:r=up(t,i),u=this.zc.eI,o=0;case 11:if(!(o<u.length)){l.next=42;break}if(c=u[o],yu(e),(a=r[c.mc.Sr])&&c.mc.Tr===t){l.next=17;break}return l.abrupt("continue",39);case 17:return l.prev=17,l.next=20,wr.awrap(this.kU(c,e));case 20:if(!(f=l.sent).qS()){l.next=24;break}return l.next=24,wr.awrap(f.vU());case 24:if(h=this.ER.Dg,v={Tr:c.mc.Tr,pu:a,wU:h},!this.TU(f,v)){l.next=32;break}return l.next=29,wr.awrap(f.XM(v));case 29:return d=l.sent,l.next=32,wr.awrap(d.cc());case 32:return l.abrupt("return");case 35:l.prev=35,l.t0=l.catch(17),mu(l.t0),s=l.t0;case 39:o++,l.next=11;break;case 42:return l.next=44,wr.awrap(st.Ue());case 44:if(!l.sent){l.next=48;break}throw new Eg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new Eg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return l.stop()}},null,this,[[17,35]],j)},e.bU=function(t){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=null==(n=this.zc)?void 0:n.eI){s.next=3;break}return s.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){s.next=23;break}return r=i[e],yu(t),s.prev=7,s.next=10,wr.awrap(this.kU(r,t));case 10:if(!(u=s.sent).qS()){s.next=14;break}return s.next=14,wr.awrap(u.vU());case 14:return s.abrupt("return");case 17:s.prev=17,s.t0=s.catch(7),mu(s.t0);case 20:e++,s.next=4;break;case 23:case"end":return s.stop()}},null,this,[[7,17]],j)},e.TU=function(t,n){return st.Ke.he||this.ER.SU.CM||!t.lU(n)},e.kU=function(t,n){var i=this;return this.mB.ra(function(n){return i.EU(t,n)},n)},e.EU=function(t,n){var i,e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(yu(n),this.zc&&this.oU&&this.RR){o.next=3;break}throw new f("Not initialized");case 3:if(!this.rc){o.next=7;break}if(this.rc.mc===t.mc){o.next=6;break}throw new f("Internal key system error");case 6:return o.abrupt("return",this.rc);case 7:return i=this.oU,e=gr({},t,{gI:t.gI.map(function(n){var e;return gr({},n,{persistentState:null!=(e=n.persistentState)?e:i.fE(t.mc),Cc:n.Cc||i.Cc(t.mc)})})}),o.next=11,wr.awrap(this.RR.NM(e.mc,e.gI));case 11:return r=o.sent,u=i.hR(e),(s=new rN(e.mc,r,u)).nu([na.Da,na.Na,na.sf],this.Qr),this.rc=s,o.abrupt("return",s);case 17:case"end":return o.stop()}},null,this,null,j)},e.Mc=function(t){var i=t instanceof Eg?t:new Eg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.tu(new JC(i))},e.Sc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.RR=void 0,this.zc=void 0,this.ta.$r(),this.ta=new lu,t.next=6,wr.awrap(this.RU());case 6:case"end":return t.stop()}},null,this,null,j)},e.RU=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this.mB.$r());case 2:if(!(t=this.rc)){n.next=8;break}return t.uu(na.sf,this.Qr),this.rc=void 0,n.next=8,wr.awrap(t.et());case 8:case"end":return n.stop()}},null,this,null,j)},e.Vr=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ru(),this.ER.uu(Cu.gu,this.gU),t.next=4,wr.awrap(this.Sc());case 4:return t.next=6,wr.awrap(this.mB.et());case 6:case"end":return t.stop()}},null,this,null,j)},ft(i,[{key:"IU",get:function(){var t;return null==(t=this.rc)?void 0:t.mc}},{key:"tI",get:function(){return this.oU},set:function(t){this.oU=t}}]),i}(Nu);Cg.vv,Cg.dv,Et.Ln||Et.Bn,Et.ti,Et.Hn,Et.Hn&&Et.kn;var oN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.TU=function(t,n){return!0},n}(sN),cN=function(t){function n(n,i,e){var r;return void 0===e&&(e=new xC(i)),(r=t.call(this)||this).RR=void 0,r.Ir=void 0,r.OU=void 0,r.CU=new Uc,r.NU=void 0,r.YM=void 0,r.DU=!1,r.oa=void 0,r.Gc=null,r.AU={Pg:0,xg:0,Lg:0,Bg:0,Mg:0,Fg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.PU=function(t){"boolean"==typeof t.detail.casting&&(r.DU=t.detail.casting,r.tu(new $g(r.DU)))},r.xU=function(t){r.oa=t.sessionId,r.Gc&&(r.Gc.sessionId=r.oa);var n=t.initData;if(n){var i=function(t){try{var n=Ps(t),i=new Vs;return Rs(Is(vs(n,i,gs(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.tu(new Fu(Or,i))}else r.tu(new Fu(Or,new ArrayBuffer(0)))},r.NU=n,r.YM=i,r.YM.nu(dC.FM,r.xU),r.Ir=e,r.OU=new oN(Nn(r)),r.LU(),r}vt(n,t);var i=n.prototype;return i.BU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.br===Zm.tS)return i}},i.Vr=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.Sc());case 2:return this.ru(),this.MU(),this.YM.uu(dC.FM,this.xU),t.next=7,wr.awrap(this.OU.Vr());case 7:case"end":return t.stop()}},null,this,null,j)},i._g=function(){throw new f("Not implemented yet")},i.YT=function(t,n,i,e,r,u,s,o){throw new f("Not implemented yet")},i.cI=function(){return!1},i.fI=function(t,n,i,e,r){throw new f("Not implemented yet")},i.ZT=function(t){throw new f("Not implemented yet")},i.dI=function(){throw new f("Not implemented yet")},i.ac=function(t){var n=this;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.CU.ra(function(i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.br!==Zm.tS){r.next=8;break}return yu(i),e=new wC(t,n,n.Ir),n.RR=e,n.OU.ac(e,t),r.abrupt("return",e);case 8:throw new f("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,j)}));case 1:case"end":return i.stop()}},null,this,null,j)},i.K=function(){throw new f("Not implemented yet")},i.Y=function(){throw new f("Not implemented yet")},i.Sc=function(){var t=this;return this.CU.$r(),this.CU.ra(function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.RR){n.next=4;break}return n.next=3,wr.awrap(t.RR.Vr());case 3:t.RR=void 0;case 4:return n.next=6,wr.awrap(t.OU.Sc());case 6:case"end":return n.stop()}},null,null,null,j)})},i.Nu=function(t,n){throw new f("Not implemented yet")},i._I=function(t){throw new f("Not implemented yet")},i.mg=function(){throw new f("Not implemented yet")},i.pI=function(){return this.AU},i.LU=function(){this.NU.addEventListener("airPlayIsCasting",this.PU)},i.MU=function(){this.NU.removeEventListener("airPlayIsCasting",this.PU)},i.webkitSetMediaKeys=function(t){this.Gc=t||null,this.Gc&&(this.Gc.sessionId=this.oa)},i.FU=function(){},i.UU=function(){throw new f("Not implemented yet")},i.VU=function(){throw new f("Not implemented yet")},ft(n,[{key:"Cg",get:function(){throw new f("Not implemented yet")}},{key:"Og",get:function(){throw new f("Not implemented yet")}},{key:"Rw",get:function(){throw new f("Not implemented yet")}},{key:"GL",get:function(){throw new f("Not implemented yet")}},{key:"Iw",get:function(){throw new f("Not implemented yet")}},{key:"Ow",get:function(){throw new f("Not implemented yet")}},{key:"wu",get:function(){throw new f("Not implemented yet")}},{key:"Eb",get:function(){throw new f("Not implemented yet")}},{key:"Dg",get:function(){return this.DU}},{key:"Nw",get:function(){throw new f("Not implemented yet")}},{key:"Dw",get:function(){throw new f("Not implemented yet")}},{key:"Aw",get:function(){throw new f("Not implemented yet")}},{key:"Vg",get:function(){throw new f("Not implemented yet")}},{key:"zl",get:function(){throw new f("Not implemented yet")}},{key:"qg",get:function(){throw new f("Not implemented yet")}},{key:"Pw",get:function(){throw new f("Not implemented yet")}},{key:"HU",get:function(){throw new f("Not implemented yet")}},{key:"Bw",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"Ly",get:function(){throw new f("Not implemented yet")}},{key:"vI",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Gc}},{key:"SU",get:function(){return lC}},{key:"cg",get:function(){throw new f("Not implemented yet")}},{key:"KL",get:function(){throw new f("Not implemented yet")}},{key:"bI",get:function(){throw new f("Not implemented yet")}},{key:"qU",get:function(){return!0}},{key:"tI",get:function(){return this.OU.tI},set:function(t){this.OU.tI=t}},{key:"WU",get:function(){},set:function(t){}},{key:"IU",get:function(){return this.OU.IU}}]),n}(vw),aN=function(t){function n(n){var i;return(i=t.call(this,na.af)||this).AU=n,i}return vt(n,t),n}(Au);var fN=function(t){function n(n,i){var e,r=hN(i,n.Iw,n.bI,n.zU);return(e=t.call(this,i,r,void 0,!1,n.Cl)||this).jU=void 0,e.$U=void 0,e.XU=void 0,e.Fs=void 0,e.GU=void 0,e.YU=void 0,e.KU=void 0,e.JU=void 0,e.ZU=void 0,e.QU=void 0,e.jU=n.tV,e.$U=n.bI,e.XU=n.zU,e.Fs=n.Iw,e.GU=n.nV,e.YU=Boolean(n.iV),e.KU=n.eV||{},e.JU=n.rV,e.ZU=n.uV,e.QU=n.sV,e.oV(),e.cV(),e}vt(n,t);var i=n.prototype;return i.hc=function(t){var n=!1;void 0===this.jU&&void 0!==t.tV&&(n=!0,this.jU=t.tV),void 0===this.XU&&void 0!==t.zU&&(n=!0,this.XU=t.zU),void 0===this.Fs&&void 0!==t.Iw&&(n=!0,this.Fs=t.Iw),void 0===this.GU&&void 0!==t.nV&&(n=!0,this.GU=t.nV),!this.YU&&t.iV&&(n=!0,this.YU=t.iV),n=this.updateCustomAttributes(t,n),void 0===this.JU&&void 0!==t.rV&&(n=!0,this.JU=t.rV),void 0===this.ZU&&void 0!==t.uV&&(n=!0,this.ZU=t.uV),void 0===this.QU&&void 0!==t.sV&&(n=!0,this.QU=t.sV),this.oV(),this.cV(),this.aV(),n&&this.tu(new Jg(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.eV)for(var e=0,r=v.keys(t.eV);e<r.length;e++){var u=r[e];void 0===this.KU[u]&&(i=!0,this.KU[u]=t.eV[u])}return i},i.oV=function(){this.Fs&&!this.XU&&(this.XU=new Date(this.$U.getTime()+1e3*this.Fs))},i.cV=function(){this.XU&&!this.Fs&&(this.Fs=In(this.XU.getTime()-this.$U.getTime()))},i.aV=function(){this.my===1/0&&(this.XU||this.Fs)&&(this.my=hN(this.yy,this.Fs,this.$U,this.XU))},ft(n,[{key:"Hd",get:function(){var t;return this.Vd||(this.Vd=Vl(Yg(t=this),{get content(){return t.gy},get class(){return t.tV},get startDate(){return t.bI},get endDate(){return t.zU},get duration(){return t.Iw},get plannedDuration(){return t.nV},get endOnNext(){return t.iV},get scte35Cmd(){return t.rV},get scte35Out(){return t.uV},get scte35In(){return t.sV},get customAttributes(){return t.eV}})),this.Vd}},{key:"tV",get:function(){return this.jU}},{key:"bI",get:function(){return this.$U}},{key:"zU",get:function(){return this.XU}},{key:"Iw",get:function(){return this.Fs}},{key:"nV",get:function(){return this.GU}},{key:"iV",get:function(){return this.YU}},{key:"rV",get:function(){return this.JU}},{key:"uV",get:function(){return this.ZU}},{key:"sV",get:function(){return this.QU}},{key:"eV",get:function(){return this.KU}}]),n}(ty);function hN(t,n,i,e){return Ot(n)?t+n:e?t+(In(e.getTime())-In(i.getTime())):1/0}var vN,dN=function(t){function n(){return t.call(this,void 0,void 0,qg.DATE_RANGE)||this}vt(n,t);var i=n.prototype;return i.hc=function(t,n){!function(t,n,i){for(var e=t.jl.ml,r=function(i){var r=e[i],u=ou(n,function(t){return t.Cl===r.Cl});u?r.hc(u):t.BT(r)},u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],c=o.bI;if(void 0!==c&&!t.RM(o.Cl)){var a=i(c);t.JT(new fN(o,a))}}}(this,function(t){for(var n=mr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.Cl)){var u=n.get(r.Cl),s=gr({},u,zl(r),{eV:gr({},u.eV,r.eV)});n.set(r.Cl,s)}else n.set(r.Cl,r),i.push(r.Cl)}return i.map(function(t){return n.get(t)})}(t),n)},i.JT=function(n){var i,e,r;i=this.jl.ml,e=n,(r=cu(i,function(t){return t.tV===e.tV}))&&r.iV&&r.hc({Cl:r.Cl,zU:e.bI}),t.prototype.JT.call(this,n)},n}(hC);function lN(t){switch(t.type){case vN.MB:return t.value;case vN.BB:return $l(t.value);case vN.LB:return $u(t.value);default:return}}function wN(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.MB="daterange-ca-type_string",t.BB="daterange-ca-type_number",t.LB="daterange-ca-type_arraybuffer"}(vN||(vN={}));var gN,yN,mN=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,r,i,e)||this).UE=void 0,s.fV=void 0,s.UE=n,s.fV=u,s}return vt(n,t),ft(n,[{key:"name",get:function(){return this.UE}},{key:"timestamp",get:function(){return this.fV}}]),n}(Ac),_N=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e,r,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=s,a.errorComment=o,a}return vt(n,t),n}(mN),pN=function(){function t(t,n){this.ig=void 0,this.hV=void 0,this.ig=new Am,this.hV=new $O(t,n)}var n=t.prototype;return n.YT=function(t,n,i,e,r,u,s){var o=new cC(t,n,i,e,r,u,s);return this.ig.wl(o),this.hV.wl(o),o},n.ZT=function(t){this.ig.gl(t),this.hV.gl(t),t.et()},n.Sc=function(){for(var t=0,n=this.ig.ml.slice();t<n.length;t++){n[t].et()}this.ig.Sc(),this.hV.Sc()},n.et=function(){this.Sc(),this.ig.et(),this.hV.et()},ft(t,[{key:"cg",get:function(){return this.ig}}]),t}(),bN=function(t){function n(n,i,e,r,u){var s;(s=t.call(this)||this).zO=0,s.vV=!1,s.IR=void 0,s.OR=void 0,s.dV=void 0,s.$O=!0,s.XO=1,s.tg=void 0,s.ng=void 0,s.lV=void 0,s.wV=void 0,s.ig=void 0,s.jT=void 0,s.Fs=void 0,s.gV=tk.UO(),s.yV=tk.UO(),s.jO=!1,s.mV=tk.UO(),s.GO=void 0,s._V=void 0,s.pV=void 0,s.mM=kw.ww,s.iS=kw.ww,s.NU=void 0,s.hV=void 0,s.DR=void 0,s.aM=void 0,s.bV=void 0,s.ZO=void 0,s.ER=void 0,s.AR=void 0,s.YM=void 0,s.AU={Pg:0,xg:0,Lg:0,Bg:0,Mg:0,Fg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.RR=void 0,s.kV=void 0,s.xR=new Ab,s.LR=new Fb,s.setCurrentTime=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.qg.length){n.next=4;break}return s.zO=t,n.next=4,wr.awrap(s.NU.au("seekablechange"));case 4:s.zO=s.updateCurrentTime(t),s.aM.vM("THEOplayerSetCurrentTime",s.zO),s.GO=!0,s.tu(new Kw(s.zO));case 8:case"end":return n.stop()}},null,null,null,j)},s.TV=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.gV=new tk(i),s.tu(new JO(s.Rw))}},s.SV=function(t){s.mM=t.detail.readyState,s.tu(new Qw(+t.detail.currentTime,s.zl)),s.EV()},s.RV=function(t){s.mM=t.detail.readyState,s.tu(new tg(+t.detail.currentTime,s.zl)),s.EV()},s.IV=function(t){if(t.detail){var n=+t.detail.duration;s.Fs=n,s.tu(new jw(s.Iw))}},s.OV=function(t){t.detail&&(s.vV=!0,s.tu(new Gw(+t.detail.currentTime)))},s.MR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);wN(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.OR=new _N(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.IR=Og(s.OR),s.tu(new ig(s.OR))):wN(i)&&(s.OR=new mN(i.name,i.message,void 0,i.code,i.timestamp),s.IR=Og(s.OR),s.tu(new ig(s.OR)))}},s.CV=function(t){s.tu(new KO)},s.NV=function(t){s.mM=t.detail.readyState,s.tu(new Yw(+t.detail.currentTime,s.zl)),s.EV()},s.DV=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.qg.length){n.next=3;break}return n.next=3,wr.awrap(s.NU.au("seekablechange"));case 3:s.mM=t.detail.readyState,s.tu(new zw(+t.detail.currentTime,s.zl)),s.EV();case 6:case"end":return n.stop()}},null,null,null,j)},s.AV=function(t){t.detail&&s.$O&&(s.$O=!1,s.tu(new Hw(+t.detail.currentTime)))},s.PV=function(t){t.detail&&(s.$O||(s.$O=!0,s.tu(new Vw(+t.detail.currentTime))))},s.xV=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.mV=new tk(i)}},s.LV=function(t){t.detail&&s.tu(new f_(+t.detail.currentTime))},s.BV=function(t){t.detail&&(s.XO=t.detail.playbackRate,s.tu(new $w(+t.detail.currentTime,s.XO)))},s.MV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.yV=new tk(i)}},s.FV=function(t){t.detail&&(s.zO=+t.detail.currentTime,s.GO=!1,s.tu(new Xw(s.zO,s.dV)),s.tu(new Jw(s.zO)))},s.UV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.Fs&&(s.vV=!1),s.GO=!0,s.tu(new Kw(n))}},s.VV=function(t){t.detail&&(t.detail.currentDate&&(s.dV=new Date(1e3*t.detail.currentDate)),s.zO=+t.detail.currentTime,s.tu(new Xw(s.zO,s.dV)))},s.HV=function(t){s._V=t.detail.height,s.pV=t.detail.width},s.qV=function(t){t.detail&&s.tu(new a_(+t.detail.currentTime))},s.WV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.sg.wl(new Ug(n))},s.zV=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<s.tg._l;u++){var o=s.sg.ll(u);o.Pl==e&&o.Al==r?i=s.tg.ll(u):1==o.Ol&&(n=s.tg.ll(u))}i&&n&&(i.Ol=!0,n.Ol=!1)},s.jV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.og.wl(new jg(n))},s.$V=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Dm.wp&&e===qg.ID3?(n=new vC("",t.detail.label)).Fl=ew.Vl:i===Dm.wp&&e===qg.DATE_RANGE?(n=new dN,s.kV=n):n=new cC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),s.lV.wl(n),s.hV.wl(n)},s.XV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u=void 0;if("PRIV"===r)u={id:r,ownerIdentifier:e.Id3_PRIV_ownerIdentifier,data:e.Id3_PRIV_data};else if("TXXX"===r||"TXX"===r){u={id:r,text:e.Id3FrameText,description:e.Id3FrameDescription}}else{u={id:r,text:e.Id3FrameText}}var o=new fC($l(e.startTime),u,e.uid),c=s.GV();c&&c.JT(o)}},s.YV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new ny($l(r.startTime),$l(r.endTime),r.content,!1),o=null!=(e=s.KV(Dm.dp))?e:s.KV(Dm.AT);o&&(o.br=qg.WEBVTT,o.JT(u))}},s.JV=function(t){t.type===na.Na&&(s.IR=Og(t.errorObject)),s.Qr(t)},s.ZV=function(t){t.detail&&(s.AU.xg=t.detail.corruptedVideoFrames,s.AU.Pg=t.detail.droppedVideoFrames,s.tu(new aN(s.Ag)))},s.QV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Cl:t.id};if(void 0!==t.startDate&&(n.bI=new Date(t.startDate)),void 0!==t.endDate&&(n.zU=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=lN(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.eV=e}void 0!==t.scte35Cmd&&(n.rV=$u(t.scte35Cmd)),void 0!==t.scte35In&&(n.sV=$u(t.scte35In)),void 0!==t.scte35Out&&(n.uV=$u(t.scte35Out)),void 0!==t.startTime&&(n.ly=t.startTime),n.tV=t.class,n.Iw=$l(t.duration),n.nV=$l(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.ly?t.ly:(new Date).getTime(),e=new fN(t,i);s.kV.JT(e),s.kV.hc(n,i)})};var o=r.uid;s.aM=s.getSdkBridge(o),s.NU=new NO,pO()[o].sdkEventBus=s.NU,s.tg=new Ng,s.ng=new Ng;var c=s.tH(e);return s.jT=new pN(Nn(s),new XO),s.hV=new YO(Nn(s)),s.DR=new $m(s.jT,c),s.lV=new Am,s.wV=new BC(s.jT,s.lV),s.ig=new Lb([s.lV,s.DR.cb,s.wV.cb]),s.YM=s.getFairPlayControllerBridge(s.aM),s.ER=new cN(s.NU,s.YM),s.AR=new Pb(c),s.ER.tI=s.AR,s.observeMediaElement(),s.iI(),s.ZO=new ZO(s.aM,u),s.ZO.nu("gP",function(){s.aM.vM("THEOplayerSetPreferredForwardBufferDuration",s.ZO.wP)}),s}vt(n,t);var i=n.prototype;return i.bg=function(){return ek},i.mg=function(){this.aM.vM("THEOplayerShow",{})},i._g=function(){this.aM.vM("THEOplayerHide",{})},i.nH=function(){var t=this;this.aM.vM("THEOplayerSetInitialPreferredPeakBitRate",this.ZO.DP);this.nu("playing",function n(){t.aM.vM("THEOplayerSetInitialPreferredPeakBitRate",0),t.uu("playing",n)})},i.vg=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return this.bV=t,i=gr({},n,{sources:{src:t.src,type:_w.cw,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.aM.vM("THEOplayerSourceChange",i),e={br:Zm.tS,Xl:t.src,Dh:t.type,eI:this.rI(t),uI:t.crossOrigin,sI:n.metadata&&n.metadata.title},this.AR.fR(t.contentProtection),u.next=7,wr.awrap(this.ER.ac(e));case 7:this.RR=u.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==qg.WEBVTT})).length>0&&this.oI(r),Jm(this.cg),this.nH();case 11:case"end":return u.stop()}},null,this,null,j)},i.rI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{mc:Hr,gI:[{initDataTypes:[Hr.Tr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Y=function(){this.$O=!1,this.tu(new Hw(this.Rw)),this.aM.vM("THEOplayerPlay",{})},i.K=function(){this.$O=!0,this.tu(new Vw(this.Rw)),this.aM.vM("THEOplayerPause",{})},i.pg=function(){},i.Sc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zO=0,this.vV=!1,this.IR=void 0,this.OR=void 0,this.$O=!0,this.XO=1,this.Fs=void 0,this.yV=tk.UO(),this.gV=tk.UO(),this._V=void 0,this.pV=void 0,this.mM=kw.ww,this.iS=kw.ww,this.tg.Sc(),this.ng.Sc(),this.lV.Sc(),this.ig.Sc(),t.next=19,wr.awrap(this.wV.Sc());case 19:return t.next=21,wr.awrap(this.DR.Sc());case 21:return this.jT.Sc(),this.hV.Sc(),this.bV=void 0,t.next=26,wr.awrap(this.ER.Sc());case 26:case"end":return t.stop()}},null,this,null,j)},i.lg=function(){this.aM.vM("THEOplayerShowAirPlayPicker",{})},i.wg=function(){this.aM.vM("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Ag.xg=t.xg,this.Ag.Pg=t.Pg},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.Sc());case 2:return this.ru(),this.unobserveMediaElement(),this.wI(),this.ER.tI=void 0,t.next=8,wr.awrap(this.ER.Vr());case 8:return this.tg.et(),this.ng.et(),this.lV.et(),this.ig.et(),t.next=14,wr.awrap(this.wV.et());case 14:return t.next=16,wr.awrap(this.DR.et());case 16:this.jT.et(),this.hV.et();case 18:case"end":return t.stop()}},null,this,null,j)},i.oI=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.DR.GT(i)}},i.EV=function(){var t=this.iS,n=this.mM;t!==n&&(this.iS=n,this.tu(new ng(this.Rw,n)))},i.observeMediaElement=function(){this.ER.nu(na.Ra,this.Qr),this.ER.nu([na.Da,na.Na],this.JV),this.NU.addEventListener("play",this.AV),this.NU.addEventListener("pause",this.PV),this.NU.addEventListener("seeking",this.UV),this.NU.addEventListener("seeked",this.FV),this.NU.addEventListener("ratechange",this.BV),this.NU.addEventListener("durationchange",this.IV),this.NU.addEventListener("timeupdate",this.VV),this.NU.addEventListener("waiting",this.qV),this.NU.addEventListener("playing",this.LV),this.NU.addEventListener("ended",this.OV),this.NU.addEventListener("loadedmetadata",this.DV),this.NU.addEventListener("loadeddata",this.NV),this.NU.addEventListener("loadstart",this.CV),this.NU.addEventListener("canplay",this.SV),this.NU.addEventListener("canplaythrough",this.RV),this.NU.addEventListener("error",this.MR),this.NU.addEventListener("seekablechange",this.MV),this.NU.addEventListener("videosizechange",this.HV),this.NU.addEventListener("bufferedchange",this.TV),this.NU.addEventListener("playedchange",this.xV),this.NU.addEventListener("metricschange",this.ZV),this.NU.addEventListener("addDateRangeCues",this.QV)},i.unobserveMediaElement=function(){this.ER.uu(na.Ra,this.Qr),this.ER.uu([na.Da,na.Na],this.JV),this.NU.removeEventListener("play",this.AV),this.NU.removeEventListener("pause",this.PV),this.NU.removeEventListener("seeking",this.UV),this.NU.removeEventListener("seeked",this.FV),this.NU.removeEventListener("ratechange",this.BV),this.NU.removeEventListener("durationchange",this.IV),this.NU.removeEventListener("timeupdate",this.VV),this.NU.removeEventListener("waiting",this.qV),this.NU.removeEventListener("playing",this.LV),this.NU.removeEventListener("ended",this.OV),this.NU.removeEventListener("loadedmetadata",this.DV),this.NU.removeEventListener("loadeddata",this.NV),this.NU.removeEventListener("loadstart",this.CV),this.NU.removeEventListener("canplay",this.SV),this.NU.removeEventListener("canplaythrough",this.RV),this.NU.removeEventListener("error",this.MR),this.NU.removeEventListener("seekablechange",this.MV),this.NU.removeEventListener("videosizechange",this.HV),this.NU.removeEventListener("bufferedchange",this.TV),this.NU.removeEventListener("playedchange",this.xV),this.NU.removeEventListener("metricschange",this.ZV),this.NU.removeEventListener("addDateRangeCues",this.QV)},i.updateCurrentTime=function(t){var n=this.qg.start(0),i=this.qg.end(0);return d.min(d.max(t,n),i)},i.GV=function(){for(var t=0,n=this.ig.ml;t<n.length;t++){var i=n[t];if(i.Dl===Dm.wp&&i.br===qg.ID3)return i}},i.KV=function(t){for(var n=0,i=this.ig.ml;n<i.length;n++){var e=i[n],r=e.Fl===ew.Ul,u=e.Dl===t;if(r&&u)return e}},i.iI=function(){this.NU.addEventListener("addaudiotrack",this.WV),this.NU.addEventListener("enableaudiotrack",this.zV),this.NU.addEventListener("addvideotrack",this.jV),this.NU.addEventListener("addtexttrack",this.$V),this.NU.addEventListener("addtexttrackid3cues",this.XV),this.NU.addEventListener("addtexttrackcues",this.YV)},i.wI=function(){this.NU.removeEventListener("addaudiotrack",this.WV),this.NU.removeEventListener("enableaudiotrack",this.zV),this.NU.removeEventListener("addvideotrack",this.jV),this.NU.removeEventListener("addtexttrack",this.$V),this.NU.removeEventListener("addtexttrackid3cues",this.XV),this.NU.removeEventListener("addtexttrackcues",this.YV)},i.Ig=function(){},ft(n,[{key:"sg",get:function(){return this.tg}},{key:"Og",get:function(){return this.gV.mI()}},{key:"Cg",get:function(){return this.dV?this.dV:null},set:function(t){this.aM.vM("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.dV=t}},{key:"Rw",get:function(){return this.zO},set:function(t){this.setCurrentTime(t)}},{key:"Iw",get:function(){return this.Fs}},{key:"Ow",get:function(){return this.vV}},{key:"wu",get:function(){return this.IR}},{key:"Cw",get:function(){return this.OR}},{key:"ag",get:function(){}},{key:"Dg",get:function(){return this.ER.Dg}},{key:"Ag",get:function(){return this.AU}},{key:"Nw",get:function(){return this.jO},set:function(t){this.jO!==t&&(this.aM.vM("THEOplayerSetMuted",t),this.jO=t,this.tu(new Zw(this.Rw,t?0:1)))}},{key:"Dw",get:function(){return this.$O}},{key:"Aw",get:function(){return this.XO},set:function(t){this.aM.vM("THEOplayerSetPlaybackRate",t),this.XO=t}},{key:"Vg",get:function(){return this.mV.mI()}},{key:"Hg",get:function(){return $b.qI},set:function(t){}},{key:"zl",get:function(){return this.mM}},{key:"qg",get:function(){return this.yV.mI()}},{key:"Pw",get:function(){return this.GO}},{key:"bI",get:function(){}},{key:"cg",get:function(){return this.ig}},{key:"xw",get:function(){return this._V}},{key:"Lw",get:function(){return this.pV}},{key:"Bw",get:function(){return 1},set:function(t){}},{key:"Wg",get:function(){return this.LR}},{key:"og",get:function(){return this.ng}},{key:"kI",get:function(){return this.xR}},{key:"zg",get:function(){return!1},set:function(t){}},{key:"Ug",get:function(){return!0}}]),n}(vw),kN=function(){function t(){this.TI=Ib.eR}var n=t.prototype;return n.SI=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&!i.vr.nativeVR&&(i.vr.panoramaMode===Mk.PM360||i.vr.panoramaMode===Mk.PM180))return!1;if((e=n.type)&&jr(e.toLowerCase(),_w.ow))return!1;var e,r=n.contentProtection;if(r&&!X_(r)){if(!K_(r))return!1;if(!t.iH(r))return!1}return!0},t.iH=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.EI=function(){return!1},t}(),TN=function(){function n(t){this.playerID=t}return n.prototype.vM=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),SN=function(t){function n(n){var i;return(i=t.call(this)||this).aM=void 0,i.NU=void 0,i.eH=function(t){var n=$u(t.detail.initData),e=t.detail.sessionId;i.tu(new IC(n,e))},i.rH=function(t){var n=new y(Qu(t.detail.message)),e=t.detail.destinationURL;i.tu(new OC(n,e))},i.uH=function(t){i.tu(new CC)},i.forwardKeyFlowDone=function(t){i.tu(new NC)},i.aM=n,i.NU=new NO,pO().fairplayController={sdkEventBus:i.NU},i.sH(),i}vt(n,t);var i=n.prototype;return i.sH=function(){this.NU.addEventListener(dC.FM,this.eH),this.NU.addEventListener(dC.UM,this.rH),this.NU.addEventListener(dC.VM,this.uH),this.NU.addEventListener(dC.HM,this.forwardKeyFlowDone)},i.XM=function(t,n){var i={playerId:kO(),data:ts(n.buffer),sessionId:t};this.aM.vM("THEOplayerCreateKeySession",i)},i.hc=function(t,n){var i={playerId:kO(),data:ts(n.buffer),sessionId:t};this.aM.vM("THEOplayerUpdateKey",i)},n}(vw),EN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.Gh=function(n){if(Ls(n.Ah)){var i=Bs(n.Ah);n.Ah=Es(i)}return t.prototype.Gh.call(this,n)},n}(EE),RN=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)||this}vt(n,t);var i=n.prototype;return i.dg=function(){return!1},i.getSdkBridge=function(t){return new TN(t)},i.getFairPlayControllerBridge=function(t){return new SN(t)},i.tH=function(t){return new EN(t)},n}(bN);gN=new(function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.QS=function(t,n,i,e,r,u){return new RN(t,n,i,e,r)},n}(kN)),jb.ni.DI(gN),function(t){t.Bd="addtrack",t.Fd="removetrack",t.tl="change",t.cl="update"}(yN||(yN={}));var IN=function(t,n,i){this.type=yN.tl,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},ON=function(t,n){this.type=yN.Bd,this.mediaType=t,this.mediaTrack=n},CN=function(t,n){this.type=yN.Fd,this.mediaType=t,this.mediaTrack=n},NN=function(t,n){this.type=yN.cl,this.mediaType=t,this.mediaTrack=n},DN=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.oH=function(t){var n=new IN(e.type,t.track,e.mediaTracks);e.messageDispatcher.cH(n)},this.aH=function(t){var n=new ON(e.type,t.track);e.messageDispatcher.cH(n),t.track.addEventListener("update",e.fH)},this.hH=function(t){var n=new CN(e.type,t.track);e.messageDispatcher.cH(n)},this.fH=function(t){var n=new NN(e.type,t.track);e.messageDispatcher.cH(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.sH()}return t.prototype.sH=function(){this.mediaTracks.addEventListener("change",this.oH),this.mediaTracks.addEventListener("addtrack",this.aH),this.mediaTracks.addEventListener("removetrack",this.hH)},t}(),AN=function(){function t(t){this.vH=void 0,this.vH=new TN(t)}return t.prototype.cH=function(t){this.vH.vM(t.type,uR(t))},t}();PE(function(t){if(t.Hd.audioTracks){var n=new AN(t.Nl);new DN("audio",t.Hd.audioTracks,n)}if(t.Hd.videoTracks){var i=new AN(t.Nl);new DN("video",t.Hd.videoTracks,i)}});var PN,xN=function(){function t(){this.dH=i.webkit}return t.prototype.vM=function(t,n){this.dH.messageHandlers[t]&&this.dH.messageHandlers[t].postMessage(n)},t}(),LN="nativePromiseCallback",BN=function(t){function n(n){var i;return(i=t.call(this,LN)||this).detail=n,i}return vt(n,t),n}(Au);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(PN||(PN={}));var MN=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.tu(new BN(n))},i.addEventListener=function(t,n){this.nu(t,n)},i.removeEventListener=function(t,n){this.uu(t,n)},n}(NO),FN=function(){function t(){var t=this;this.vH=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case PN.RESOLVE:i.Uu(n.detail.data);break;case PN.REJECT:i.Vu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new MN;pO().nativePromise={sdkEventBus:n},n.addEventListener(LN,this.handleNativePromiseEvent)}return t.prototype.lH=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=gr({},n,{promiseId:e}),u=new Hs;return this.promisesMap[e]=u,null==(i=this.vH)||i.vM(n.type,eR(r)),u.Bu},t}();FN.messageIdTracker=-1;var UN,VN=function(t){function n(){var n;return(n=t.call(this)||this).vH=new xN,n}return vt(n,t),n}(FN),HN=function(t){function n(n){var i;return(i=t.call(this)||this).vH=new TN(n),i}return vt(n,t),n}(FN);!function(t){t.Bd="TextTrackListAddTrack",t.Fd="TextTrackListRemoveTrack",t.tl="TextTrackListChange"}(UN||(UN={}));var qN,WN=function(t){this.type=UN.Bd,this.textTrack=t},zN=function(t){this.type=UN.Fd,this.textTrack=t},jN=function(t){this.type=UN.tl,this.textTrack=t};!function(t){t.zd="TextTrackAddCue",t.$d="TextTrackRemoveCue",t.Gd="TextTrackEnterCue",t.Kd="TextTrackExitCue",t.Zd="TextTrackCueChange"}(qN||(qN={}));var $N,XN=function(t,n){this.type=qN.zd,this.textTrackCue=t,this.textTrackUid=n},GN=function(t,n){this.type=qN.$d,this.textTrackCue=t,this.textTrackUid=n},YN=function(t,n){this.type=qN.Gd,this.textTrackCue=t,this.textTrackUid=n},KN=function(t,n){this.type=qN.Kd,this.textTrackCue=t,this.textTrackUid=n},JN=function(t){this.type=qN.Zd,this.textTrackUid=t};!function(t){t.sy="TextTrackCueEnter",t.ay="TextTrackCueExit",t.cl="TextTrackCueUpdate"}($N||($N={}));var ZN=function(t){this.type=$N.sy,this.textTrackCue=t},QN=function(t){this.type=$N.ay,this.textTrackCue=t},tD=function(t){this.type=$N.cl,this.textTrackCue=t},nD=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.wH=function(t){var i=iD(t.cue),e=new ZN(i);n.messageDispatcher.lH(e).then()},this.gH=function(t){var i=iD(t.cue),e=new QN(i);n.messageDispatcher.lH(e).then()},this.yH=function(t){var i=iD(t.cue),e=new tD(i);n.messageDispatcher.lH(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.sH=function(t){t.addEventListener("enter",this.wH),t.addEventListener("exit",this.gH),t.addEventListener("update",this.yH)},n.ou=function(t){t.removeEventListener("enter",this.wH),t.removeEventListener("exit",this.gH),t.removeEventListener("update",this.yH)},t}();function iD(t){var n=dO(t,t.track.type);return delete n.track,n}var eD=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.mH=function(t){var n,e=iD(t.cue),r=new XN(e,t.cue.track.uid);i.messageDispatcher.lH(r).then(),null==(n=i.textTrackCueBridge)||n.sH(t.cue)},this._H=function(t){var n,e=iD(t.cue),r=new GN(e,t.cue.track.uid);i.messageDispatcher.lH(r).then(),null==(n=i.textTrackCueBridge)||n.ou(t.cue)},this.wH=function(t){var n=iD(t.cue),e=new YN(n,t.cue.track.uid);i.messageDispatcher.lH(e).then()},this.gH=function(t){var n=iD(t.cue),e=new KN(n,t.cue.track.uid);i.messageDispatcher.lH(e).then()},this.pH=function(t){var n=new JN(t.track.uid);i.messageDispatcher.lH(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new nD(e))}var n=t.prototype;return n.sH=function(t){t.addEventListener("addcue",this.mH),t.addEventListener("removecue",this._H),t.addEventListener("entercue",this.wH),t.addEventListener("exitcue",this.gH),t.addEventListener("cuechange",this.pH)},n.ou=function(t){t.removeEventListener("addcue",this.mH),t.removeEventListener("removecue",this._H),t.removeEventListener("entercue",this.wH),t.removeEventListener("exitcue",this.gH),t.removeEventListener("cuechange",this.pH)},n.initMessageDispatcher=function(t){return Et.Jn?new VN:Et.Zn&&void 0!==t?new HN(t):void 0},t}(),rD=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.aH=function(t){var n,i=new WN(t.track);e.messageDispatcher.lH(i).then(),null==(n=e.textTrackBridge)||n.sH(t.track)},this.hH=function(t){var n,i=new zN(t.track);e.messageDispatcher.lH(i).then(),null==(n=e.textTrackBridge)||n.ou(t.track)},this.bH=function(t){var n=new jN(t.track);e.messageDispatcher.lH(n).then()},this.kH=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.TH(i);r&&(this.textTrackBridge=new eD(r,i)),this.sH(),this.sdkEventBus=new NO,pO().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.kH)}var n=t.prototype;return n.sH=function(){this.textTracks.addEventListener("addtrack",this.aH),this.textTracks.addEventListener("removetrack",this.hH),this.textTracks.addEventListener("change",this.bH)},n.TH=function(t){return Et.Jn?new VN:Et.Zn&&void 0!==t?new HN(t):void 0},t}();PE(function(t){if(t.Hd.textTracks){var n=new HN(t.Nl);new rD(t.Hd.textTracks,n,t.Nl)}});var uD,sD,oD=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case uD.SH:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.tu(new cD(i));break;default:0}},n}(NO),cD=function(t){function n(n){var i;return(i=t.call(this,uD.SH)||this).detail=n,i}return vt(n,t),n}(Au);!function(t){t.SH="registerContentProtectionIntegration"}(uD||(uD={})),function(t){t.EH="certifiateRequest",t.RH="certifiateResponse",t.IH="licenseRequest",t.OH="licenseResponse",t.CH="extractFairplayContentId",t.NH="buildContentProtection",t.DH="registerContentProtectionCallback"}(sD||(sD={}));var aD,fD=function(t,n){this.type=sD.DH,this.value=t,this.integrationId=n};!function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(aD||(aD={}));var hD=function(t,n){this.type=sD.NH,this.value=t,this.integrationId=n},vD=function(t,n){this.type=sD.EH,this.value=t,this.integrationId=n},dD=function(t,n){this.type=sD.RH,this.value=t,this.integrationId=n},lD=function(t,n){this.type=sD.CH,this.value=t,this.integrationId=n},wD=function(t,n){this.type=sD.IH,this.value=t,this.integrationId=n},gD=function(t,n){this.type=sD.OH,this.value=t,this.integrationId=n},yD=function(){function t(t,n){this.AH=void 0,this.tE=void 0,this.AH=t,this.tE=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e=new vD(i,this.tE),c.prev=2,c.next=5,wr.awrap(this.AH.lH(e));case 5:if(!(r=c.sent)){c.next=16;break}if(u=JSON.parse(r),!this.PH(u)){c.next=13;break}return s=gr({},u),c.abrupt("return",s);case 13:if(!this.xH(u)){c.next=16;break}return o=new y(u),c.abrupt("return",o);case 16:throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw c.prev=19,c.t0=c.catch(2),new Eg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 22:case"end":return c.stop()}},null,this,[[2,19]],j)},i.onCertificateResponse=function(t){var i,e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new dD(e,this.tE),o.next=5,wr.awrap(this.AH.lH(r));case 5:if(!(u=o.sent)){o.next=11;break}return s=JSON.parse(u),o.abrupt("return",new y(s));case 11:throw new Eg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,j)},i.onLicenseRequest=function(t){var i,e,r,u,s,o,c;return wr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new wD(e,this.tE),a.prev=3,a.next=6,wr.awrap(this.AH.lH(r));case 6:if(!(u=a.sent)){a.next=17;break}if(s=JSON.parse(u),!this.PH(s)){a.next=14;break}return o={url:s.url,method:s.method,headers:s.headers,body:s.body?new y(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.xH(s)){a.next=17;break}return c=new y(s),a.abrupt("return",c);case 17:throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new Eg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],j)},i.onLicenseResponse=function(t){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=gr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new gD(r,this.tE),c.next=6,wr.awrap(this.AH.lH(u));case 6:if(!(s=c.sent)){c.next=12;break}return o=JSON.parse(s),c.abrupt("return",new y(o));case 12:throw new Eg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return c.stop()}},null,this,null,j)},i.extractFairplayContentId=function(t){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new lD(t,this.tE),r.next=3,wr.awrap(this.AH.lH(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",j.reject(new Eg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,j)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.PH=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.xH=function(t){return!!new y(t)},t}(),mD=function(){function t(t){this.AH=void 0,this.AH=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new yD(this.AH,t.integration),i=new hD({drmConfiguration:t},t.integration);return this.AH.lH(i),n},t}(),_D=function(t){function n(n){var i;return(i=t.call(this)||this).AH=void 0,i.AH=new HN(n),i}return vt(n,t),ft(n,[{key:"messageDispatcher",get:function(){return this.AH}}]),n}(function(){var t=this;this.NU=void 0,this.LH=function(n){var i=new mD(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,s={state:U_.sE.iE(r,u,i)};t.messageDispatcher.lH(new fD(s,r))},this.NU=new oD,pO().contentProtectionIntegration={sdkEventBus:this.NU},this.NU.addEventListener(uD.SH,this.LH)});PE(function(t){new _D(t.Hd.uid)}),n.ChromelessPlayer=function t(n,i){var e=ug(i),r=new(qE||(qE=DE(qE=KE(OE),pE.JL),qE=DE(qE,pE.ZL)),qE)(n,e),u=r.Hd;return r.zL(),r.RB(HE),v.defineProperty(u,"constructor",{value:t}),u=Fl(u),function(t){for(var n=0;n<AE.length;n++)(0,AE[n])(t)}(r),u},n.createGlobals=TO,n.features=[],n.getCueMirrorMap=bO,n.getGlobalId=kO,n.getSdkEventBridge=pO,n.playerSuiteVersion="2023.2.3",n.players=ZE,n.registerContentProtectionIntegration=QE,n.utils=JE,n.version="5.2.0",v.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
