/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 5.8.0 (5.8.0)
 Created: 2023-08-03T11:42:06.149Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,(function(t){"use strict";var n={exports:{}},e=(n.exports,t.window),i=t.document,r=t.location,u=t.navigator,o=t.setTimeout,s=t.clearTimeout,a=t.setInterval,c=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),_=v.create,p=v.defineProperty,b=v.getOwnPropertyDescriptor,k=v.getOwnPropertyNames,T=v.getPrototypeOf,S=v.prototype.hasOwnProperty,E=function(t,n){return function(){return t&&(n=(0,t[k(t)[0]])(t=0)),n}},I=function(t,n){return function(){return n||(0,t[k(t)[0]])((n={exports:{}}).exports,n),n.exports}},R=function(t,n,e,i){if(n&&"object"==typeof n||"function"==typeof n)for(var r,u=k(n),o=0,s=u.length;o<s;o++)r=u[o],S.call(t,r)||r===e||p(t,r,{get:function(t){return n[t]}.bind(null,r),enumerable:!(i=b(n,r))||i.enumerable});return t},N=function(t,n,e){return e=null!=t?_(T(t)):{},R(!n&&t&&t.__esModule?e:p(e,"default",{value:t,enumerable:!0}),t)};function O(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var C,A,D,P,x,B,L,M,F,U,V,H,q,z,W,j,G,Y,X,$=E({"../../../web/node_modules/@swc/helpers/esm/_type_of.js":function(){ki(),Vt()}});function K(t){var n=this.constructor;return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){return n.reject(e)}))}))}function J(t){return new this((function(n,e){if(!t||void 0===t.length)return e(new h((void 0===t?"undefined":O(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var r=i.length;function u(t,e){if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,(function(n){u(t,n)}),(function(e){i[t]={status:"rejected",reason:e},0==--r&&n(i)}))}i[t]={status:"fulfilled",value:e},0==--r&&n(i)}for(var o=0;o<i.length;o++)u(o,i[o])}))}function Z(t){return Boolean(t&&void 0!==t.length)}function Q(){}function tt(t){if(!(this instanceof tt))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],ot(t,this)}function nt(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,tt.I((function(){var e=1===t.o?n.onFulfilled:n.onRejected;if(null!==e){var i;try{i=e(t.g)}catch(t){return void it(n.promise,t)}et(n.promise,i)}else(1===t.o?et:it)(n.promise,t.g)}))):t.p.push(n)}function et(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof tt)return t.o=3,t.g=n,void rt(t);if("function"==typeof e)return void ot((i=e,r=n,function(){i.apply(r,arguments)}),t)}t.o=1,t.g=n,rt(t)}catch(n){it(t,n)}var i,r}function it(t,n){t.o=2,t.g=n,rt(t)}function rt(t){2===t.o&&0===t.p.length&&tt.I((function(){t.l||tt.R(t.g)}));for(var n=0,e=t.p.length;n<e;n++)nt(t,t.p[n]);t.p=null}function ut(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function ot(t,n){var e=!1;try{t((function(t){e||(e=!0,et(n,t))}),(function(t){e||(e=!0,it(n,t))}))}catch(t){if(e)return;e=!0,it(n,t)}}function st(t){return new H(V,{reason:t,promise:A.reject(t).catch((function(){})),cancelable:!0})}function at(t){var n=new q(V,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function ct(t){var n=i.createEvent("CustomEvent");return n.initCustomEvent(V,!1,!0,{reason:t}),n}var ft,ht,vt,dt,lt,wt,gt,yt,mt,_t,pt,bt,kt,Tt,St,Et,It,Rt,Nt,Ot,Ct,At,Dt,Pt,xt,Bt,Lt,Mt,Ft,Ut=E({"../../../web/node_modules/@opentelly/promise-polyfill/dist/index.js":function(){var n,e,i,r,s;ki(),Vt(),$(),C=o,tt.prototype.catch=function(t){return this.then(null,t)},tt.prototype.then=function(t,n){var e=new this.constructor(Q);return nt(this,new ut(t,n,e)),e},tt.prototype.finally=K,tt.all=function(t){return new tt((function(n,e){if(!Z(t))return e(new h("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var r=i.length;function u(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(n){u(t,n)}),e)}i[t]=o,0==--r&&n(i)}catch(t){e(t)}}for(var o=0;o<i.length;o++)u(o,i[o])}))},tt.allSettled=J,tt.resolve=function(t){return t&&"object"==typeof t&&t.constructor===tt?t:new tt((function(n){n(t)}))},tt.reject=function(t){return new tt((function(n,e){e(t)}))},tt.race=function(t){return new tt((function(n,e){if(!Z(t))return e(new h("Promise.race accepts an array"));for(var i=0,r=t.length;i<r;i++)tt.resolve(t[i]).then(n,e)}))},tt.I="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){C(t,0)},tt.R=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},A=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),D=u?u.userAgent:"",P=D.match(/Firefox\/([0-9]+)/i),x=null!=P,B=P?Number(P[1]):0,L=D.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),M=null!=L,F=L?Number(L[3]):0,(n=function(t){this.C=0,this.P=0,this.B=[],this.M=t}).prototype.N=function(t){var n=this.length();this.F(n+1);var e=this.P+n&this.M-1;this.B[e]=t,this.C=n+1},n.prototype.push=function(t){var n=this.length()+1;if(this.M<n)this.N(t);else{var e=this.P+n-1,i=this.M-1;this.B[e&i]=t,this.C=n}},n.prototype.shift=function(){var t=this.P,n=this.B[t];return this.B[t]=void 0,this.P=t+1&this.M-1,this.C--,n},n.prototype.length=function(){return this.C},n.prototype.F=function(t){this.M<t&&this.U(this.M<<1)},n.prototype.U=function(t){var n=this.M;this.M=t;var e=this.P+this.C&n-1;!function(t,n,e,i){for(var r=0;r<i;++r)t[r+e]=t[r+n],t[r+n]=void 0}(this.B,0,n,e)},U=n,V="unhandledrejection",H=t.PromiseRejectionEvent,q=t.CustomEvent,z=function(t){return(z=function(){try{var t=A.resolve(),n="error",e=new H(V,{reason:n,promise:t});return V===e.type&&n===e.reason}catch(t){}return!1}()?st:function(){try{var t="error",n=new q(V,{detail:{reason:t}});return V===n.type&&t===n.detail.reason}catch(t){}return!1}()?at:ct)(t)},j=x&&B<60||M&&F<15,A&&!j?(G=A,function(){}):(G=tt,Y=null!==(W=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var e=A;if(e&&"function"==typeof e.resolve){var i=e.resolve();return function(t){return i.then(t)}}}())&&void 0!==W?W:tt.I,e=Y,i=new U(16),r=!1,(X={H:function(t){i.push(t),r||(r=!0,e(s))},V:s=function(){for(;i.length()>0;)i.shift()();r=!1}}).V,tt.I=X.H,tt.R=function(n){try{var e=z(n);if(!t.dispatchEvent(e)||e.defaultPrevented)return}catch(t){}o((function(){throw new f("Unhandled promise rejection: ".concat(n))}),0)})}}),Vt=E({"../../../web/src/util/polyfill/Promise.ts":function(){Ut()}});function Ht(){}function qt(t){return"object"==typeof t&&null!==t||"function"==typeof t}function zt(t){return t.slice()}function Wt(t){return!1!==function(t){if("number"!=typeof t)return!1;if(ht(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function jt(t,n,e){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,e)}function Gt(t,n,e,i){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new h(r+" is not a method");switch(e){case 0:return function(){return Xt(r,t,i)};case 1:return function(n){var e=[n].concat(i);return Xt(r,t,e)}}}return function(){return Zt(void 0)}}function Yt(t,n,e){var i=t[n];if(void 0!==i)return jt(i,t,e)}function Xt(t,n,e){try{return Zt(jt(t,n,e))}catch(t){return Qt(t)}}function $t(t){if(t=Number(t),ht(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Kt(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new h("size property of a queuing strategy must be a function");return function(n){return t(n)}}function Jt(t){return new dt(t)}function Zt(t){return wt(t)}function Qt(t){return gt(t)}function tn(t,n,e){return lt.call(t,n,e)}function nn(t,n,e){tn(tn(t,n,e),void 0,vt)}function en(t,n){nn(t,n)}function rn(t,n){nn(t,void 0,n)}function un(t,n,e){return tn(t,n,e)}function on(t){tn(t,void 0,vt)}function sn(t,n,e){var i=null;!0===e&&(i=v.prototype);var r=v.create(i);return r.value=t,r.done=n,r}function an(t,n){t.W=!0,t.j=n,n.G=t,"readable"===n.o?vn(t):"closed"===n.o?function(t){vn(t),wn(t)}(t):dn(t,n.Y)}function cn(t,n){return ti(t.j,n)}function fn(t){"readable"===t.j.o?ln(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){dn(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.j.G=void 0,t.j=void 0}function hn(t){return new h("Cannot "+t+" a stream using a released reader")}function vn(t){t.X=Jt((function(n,e){t.K=n,t.J=e}))}function dn(t,n){vn(t),ln(t,n)}function ln(t,n){on(t.X),t.J(n),t.K=void 0,t.J=void 0}function wn(t){t.K(void 0),t.K=void 0,t.J=void 0}function gn(t,n){void 0===n&&(n=!1);var e=new pt(t);return e.W=n,e}function yn(t){return Jt((function(n,e){var i={Z:n,nt:e};t.G.et.push(i)}))}function mn(t,n,e){var i=t.G;i.et.shift().Z(sn(n,e,i.W))}function _n(t){return t.G.et.length}function pn(t){var n=t.G;return void 0!==n&&!!bn(n)}function bn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"et")}function kn(t){var n=t.j;return n.it=!0,"closed"===n.o?Zt(sn(void 0,!0,t.W)):"errored"===n.o?Qt(n.Y):n.rt[_t]()}function Tn(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}function Sn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"ut")}function En(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function In(t){var n=t.ot.shift();return t.st-=n.size,t.st<0&&(t.st=0),n.value}function Rn(t,n,e){if(!Wt(e=Number(e)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.ot.push({value:n,size:e}),t.st+=e}function Nn(t){t.ot=new yt,t.st=0}function On(t){return new Rt(t)}function Cn(t){t.o="writable",t.Y=void 0,t.ct=void 0,t.ft=void 0,t.ht=new yt,t.vt=void 0,t.dt=void 0,t.wt=void 0,t.yt=void 0,t._t=!1}function An(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"ft")}function Dn(t){return void 0!==t.ct}function Pn(t,n){var e=t.o;if("closed"===e||"errored"===e)return Zt(void 0);if(void 0!==t.yt)return t.yt.bt;var i=!1;"erroring"===e&&(i=!0,n=void 0);var r=Jt((function(e,r){t.yt={bt:void 0,Z:e,nt:r,kt:n,Tt:i}}));return t.yt.bt=r,!1===i&&Ln(t,n),r}function xn(t){var n=t.o;if("closed"===n||"errored"===n)return Qt(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var e,i=Jt((function(n,e){var i={Z:n,nt:e};t.dt=i})),r=t.ct;return void 0!==r&&!0===t._t&&"writable"===n&&he(r),Rn(e=t.ft,"close",0),Kn(e),i}function Bn(t,n){"writable"!==t.o?Mn(t):Ln(t,n)}function Ln(t,n){var e=t.ft;t.o="erroring",t.Y=n;var i=t.ct;void 0!==i&&Wn(i,n),!1===function(t){if(void 0===t.vt&&void 0===t.wt)return!1;return!0}(t)&&!0===e.St&&Mn(t)}function Mn(t){t.o="errored",t.ft[Et]();var n=t.Y;if(t.ht.forEach((function(t){t.nt(n)})),t.ht=new yt,void 0!==t.yt){var e=t.yt;if(t.yt=void 0,!0===e.Tt)return e.nt(n),void Un(t);nn(t.ft[St](e.kt),(function(){e.Z(),Un(t)}),(function(n){e.nt(n),Un(t)}))}else Un(t)}function Fn(t){return void 0!==t.dt||void 0!==t.wt}function Un(t){void 0!==t.dt&&(t.dt.nt(t.Y),t.dt=void 0);var n=t.ct;void 0!==n&&ue(n,t.Y)}function Vn(t,n){var e=t.ct;void 0!==e&&n!==t._t&&(!0===n?function(t){se(t)}(e):he(e)),t._t=n}function Hn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Et")}function qn(t){return xn(t.Et)}function zn(t,n){"pending"===t.It?ue(t,n):function(t,n){re(t,n)}(t,n)}function Wn(t,n){"pending"===t.Rt?fe(t,n):function(t,n){ae(t,n)}(t,n)}function jn(t){var n=t.Et,e=new h("Writer was released and can no longer be used to monitor the stream's closedness");Wn(t,e),zn(t,e),n.ct=void 0,t.Et=void 0}function Gn(t,n){var e=t.Et,i=e.ft,r=function(t,n){try{return t.Nt(n)}catch(n){return Jn(t,n),1}}(i,n);if(e!==t.Et)return Qt(ee("write to"));var u=e.o;if("errored"===u)return Qt(e.Y);if(!0===Fn(e)||"closed"===u)return Qt(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Qt(e.Y);var o=function(t){return Jt((function(n,e){var i={Z:n,nt:e};t.ht.push(i)}))}(e);return function(t,n,e){var i={chunk:n};try{Rn(t,i,e)}catch(n){return void Jn(t,n)}var r=t.Ot;if(!1===Fn(r)&&"writable"===r.o){Vn(r,Zn(t))}Kn(t)}(i,n,r),o}function Yn(t,n,e,i,r,u,o,s){n.Ot=t,t.ft=n,n.ot=void 0,n.st=void 0,Nn(n),n.St=!1,n.Nt=s,n.Ct=o,n.At=i,n.Dt=r,n.Pt=u;var a=Zn(n);Vn(t,a),nn(Zt(e()),(function(){n.St=!0,Kn(n)}),(function(e){n.St=!0,Bn(t,e)}))}function Xn(t){t.At=void 0,t.Dt=void 0,t.Pt=void 0,t.Nt=void 0}function $n(t){return t.Ct-t.st}function Kn(t){var n=t.Ot;if(!1!==t.St&&void 0===n.vt)if("erroring"!==n.o){if(0!==t.ot.length){var e=t.ot.peek().value;"close"===e?function(t){var n=t.Ot;(function(t){t.wt=t.dt,t.dt=void 0})(n),In(t);var e=t.Dt();Xn(t),nn(e,(function(){!function(t){t.wt.Z(void 0),t.wt=void 0,"erroring"===t.o&&(t.Y=void 0,void 0!==t.yt&&(t.yt.Z(),t.yt=void 0)),t.o="closed";var n=t.ct;void 0!==n&&oe(n)}(n)}),(function(t){!function(t,n){t.wt.nt(n),t.wt=void 0,void 0!==t.yt&&(t.yt.nt(n),t.yt=void 0),Bn(t,n)}(n,t)}))}(t):function(t,n){var e=t.Ot;(function(t){t.vt=t.ht.shift()})(e),nn(t.At(n),(function(){!function(t){t.vt.Z(void 0),t.vt=void 0}(e);var n=e.o;if(In(t),!1===Fn(e)&&"writable"===n){var i=Zn(t);Vn(e,i)}Kn(t)}),(function(n){"writable"===e.o&&Xn(t),function(t,n){t.vt.nt(n),t.vt=void 0,Bn(t,n)}(e,n)}))}(t,e.chunk)}}else Mn(n)}function Jn(t,n){"writable"===t.Ot.o&&Qn(t,n)}function Zn(t){return $n(t)<=0}function Qn(t,n){var e=t.Ot;Xn(t),Ln(e,n)}function te(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ne(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function ee(t){return new h("Cannot "+t+" a stream using a released writer")}function ie(t){t.X=Jt((function(n,e){t.K=n,t.J=e,t.It="pending"}))}function re(t,n){ie(t),ue(t,n)}function ue(t,n){on(t.X),t.J(n),t.K=void 0,t.J=void 0,t.It="rejected"}function oe(t){t.K(void 0),t.K=void 0,t.J=void 0,t.It="resolved"}function se(t){t.xt=Jt((function(n,e){t.Bt=n,t.Lt=e})),t.Rt="pending"}function ae(t,n){se(t),fe(t,n)}function ce(t){se(t),he(t)}function fe(t,n){on(t.xt),t.Lt(n),t.Bt=void 0,t.Lt=void 0,t.Rt="rejected"}function he(t){t.Bt(void 0),t.Bt=void 0,t.Lt=void 0,t.Rt="fulfilled"}function ve(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}function de(t,n,e,i,r,u){var o=gn(t),s=On(n);t.it=!0;var a=!1,c=Zt(void 0);return Jt((function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var e=new Ct("Aborted","AbortError"),u=[];!1===i&&u.push((function(){return"writable"===n.o?Pn(n,e):Zt(void 0)})),!1===r&&u.push((function(){return"readable"===t.o?ti(t,e):Zt(void 0)})),p((function(){return G.all(u.map((function(t){return t()})))}),!0,e)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(_(t,o.X,(function(t){!1===i?p((function(){return Pn(n,t)}),!0,t):b(!0,t)})),_(n,s.X,(function(n){!1===r?p((function(){return ti(t,n)}),!0,n):b(!0,n)})),l=t,w=o.X,g=function(){!1===e?p((function(){return function(t){var n=t.Et,e=n.o;return!0===Fn(n)||"closed"===e?Zt(void 0):"errored"===e?Qt(n.Y):qn(t)}(s)})):b()},"closed"===l.o?g():en(w,g),!0===Fn(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");!1===r?p((function(){return ti(t,y)}),!0,y):b(!0,y)}function m(){var t=c;return tn(c,(function(){return t!==c?m():void 0}))}function _(t,n,e){"errored"===t.o?e(t.Y):rn(n,e)}function p(t,e,i){function r(){nn(t(),(function(){return k(e,i)}),(function(t){return k(!0,t)}))}!0!==a&&(a=!0,"writable"===n.o&&!1===Fn(n)?en(m(),r):r())}function b(t,e){!0!==a&&(a=!0,"writable"===n.o&&!1===Fn(n)?en(m(),(function(){return k(t,e)})):k(t,e))}function k(t,n){jn(s),fn(o),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}on(Jt((function(t,n){!function e(i){i?t():tn(!0===a?Zt(!0):tn(s.xt,(function(){return tn(kn(o),(function(t){return!0===t.done||(c=tn(Gn(s,t.value),void 0,Ht),!1)}))})),e,n)}(!1)})))}))}function le(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Mt")}function we(t){!1!==ge(t)&&(!0!==t.Ft?(t.Ft=!0,nn(t.Ut(),(function(){t.Ft=!1,!0===t.Vt&&(t.Vt=!1,we(t))}),(function(n){pe(t,n)}))):t.Vt=!0)}function ge(t){var n=t.Mt;return!1!==ke(t)&&(!1!==t.St&&(!0===Qe(n)&&_n(n)>0||be(t)>0))}function ye(t){t.Ut=void 0,t.Ht=void 0,t.Nt=void 0}function me(t){var n=t.Mt;t.qt=!0,0===t.ot.length&&(ye(t),ni(n))}function _e(t,n){var e=t.Mt;if(!0===Qe(e)&&_n(e)>0)mn(e,n,!1);else{var i=void 0;try{i=t.Nt(n)}catch(n){throw pe(t,n),n}try{Rn(t,n,i)}catch(n){throw pe(t,n),n}}we(t)}function pe(t,n){var e=t.Mt;"readable"===e.o&&(Nn(t),ye(t),ei(e,n))}function be(t){var n=t.Mt.o;return"errored"===n?null:"closed"===n?0:t.Ct-t.st}function ke(t){var n=t.Mt.o;return!1===t.qt&&"readable"===n}function Te(t,n,e,i,r,u,o){n.Mt=t,n.ot=void 0,n.st=void 0,Nn(n),n.St=!1,n.qt=!1,n.Vt=!1,n.Ft=!1,n.Nt=o,n.Ct=u,n.Ut=i,n.Ht=r,t.rt=n,nn(Zt(e()),(function(){n.St=!0,we(n)}),(function(t){pe(n,t)}))}function Se(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Ee(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"zt")}function Ie(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Wt")}function Re(t){!1!==function(t){var n=t.zt;if("readable"!==n.o)return!1;if(!0===t.qt)return!1;if(!1===t.St)return!1;if(!0===pn(n)&&_n(n)>0)return!0;if(!0===Ge(n)&&je(n)>0)return!0;if(Ve(t)>0)return!0;return!1}(t)&&(!0!==t.Ft?(t.Ft=!0,nn(t.Ut(),(function(){t.Ft=!1,!0===t.Vt&&(t.Vt=!1,Re(t))}),(function(n){Ue(t,n)}))):t.Vt=!0)}function Ne(t,n){var e=!1;"closed"===t.o&&(e=!0);var i=Oe(n);"default"===n.readerType?mn(t,i,e):function(t,n,e){var i=t.G;i.jt.shift().Z(sn(n,e,i.W))}(t,i,e)}function Oe(t){var n=t.bytesFilled,e=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/e)}function Ce(t,n,e,i){t.ot.push({buffer:n,byteOffset:e,byteLength:i}),t.st+=i}function Ae(t,n){var e=n.elementSize,i=n.bytesFilled-n.bytesFilled%e,r=d.min(t.st,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,o=u-u%e,s=r,a=!1;o>i&&(s=o-n.bytesFilled,a=!0);for(var c,f,h,v,l,w=t.ot;s>0;){var g=w.peek(),m=d.min(s,g.byteLength),_=n.byteOffset+n.bytesFilled;c=n.buffer,f=_,h=g.buffer,v=g.byteOffset,l=m,new y(c).set(new y(h,v,l),f),g.byteLength===m?w.shift():(g.byteOffset+=m,g.byteLength-=m),t.st-=m,De(t,m,n),s-=m}return a}function De(t,n,e){xe(t),e.bytesFilled+=n}function Pe(t){0===t.st&&!0===t.qt?(Fe(t),ni(t.zt)):Re(t)}function xe(t){void 0!==t.Gt&&(t.Gt.Wt=void 0,t.Gt.Yt=void 0,t.Gt=void 0)}function Be(t){for(;t.Xt.length>0;){if(0===t.st)return;var n=t.Xt.peek();!0===Ae(t,n)&&(Me(t),Ne(t.zt,n))}}function Le(t,n){var e=t.Xt.peek();if("closed"===t.zt.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var e=t.zt;if(!0===Ge(e))for(;je(e)>0;)Ne(e,Me(t))}(t,e)}else!function(t,n,e){if(e.bytesFilled+n>e.byteLength)throw new RangeError("bytesWritten out of range");if(De(t,n,e),!(e.bytesFilled<e.elementSize)){Me(t);var i=e.bytesFilled%e.elementSize;if(i>0){var r=e.byteOffset+e.bytesFilled,u=e.buffer.slice(r-i,r);Ce(t,u,0,u.byteLength)}e.buffer=e.buffer,e.bytesFilled-=i,Ne(t.zt,e),Be(t)}}(t,n,e);Re(t)}function Me(t){var n=t.Xt.shift();return xe(t),n}function Fe(t){t.Ut=void 0,t.Ht=void 0}function Ue(t,n){var e=t.zt;"readable"===e.o&&(!function(t){xe(t),t.Xt=new yt}(t),Nn(t),Fe(t),ei(e,n))}function Ve(t){var n=t.zt.o;return"errored"===n?null:"closed"===n?0:t.Ct-t.st}function He(t,n,e){var i=v.create(xt.prototype);var r=Gt(n,"pull",0,[i]),u=Gt(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===Dt(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,e,i,r,u,o){n.zt=t,n.Vt=!1,n.Ft=!1,n.Gt=void 0,n.ot=n.st=void 0,Nn(n),n.qt=!1,n.St=!1,n.Ct=$t(u),n.Ut=i,n.Ht=r,n.$t=o,n.Xt=new yt,t.rt=n,nn(Zt(e()),(function(){n.St=!0,Re(n)}),(function(t){Ue(n,t)}))}(t,i,(function(){return Yt(n,"start",[i])}),r,u,e,o)}function qe(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function ze(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function We(t){return Jt((function(n,e){var i={Z:n,nt:e};t.G.jt.push(i)}))}function je(t){return t.G.jt.length}function Ge(t){var n=t.G;return void 0!==n&&!!Ye(n)}function Ye(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"jt")}function Xe(t,n){var e=t.j;return e.it=!0,"errored"===e.o?Qt(e.Y):function(t,n){var e=t.zt,i=1;n.constructor!==DataView&&(i=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:i,ctor:r,readerType:"byob"};if(t.Xt.length>0)return t.Xt.push(u),We(e);if("closed"===e.o)return Zt(sn(new r(u.buffer,u.byteOffset,0),!0,e.G.W));if(t.st>0){if(!0===Ae(t,u)){var o=Oe(u);return Pe(t),Zt(sn(o,!1,e.G.W))}if(!0===t.qt){var s=new h("Insufficient bytes to fill elements in the given buffer");return Ue(t,s),Qt(s)}}t.Xt.push(u);var a=We(e);return Re(t),a}(e.rt,n)}function $e(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Ke(t,n,e,i,r){void 0===i&&(i=1),void 0===r&&(r=function(){return 1});var u=v.create(Lt.prototype);return Je(u),Te(u,v.create(At.prototype),t,n,e,i,r),u}function Je(t){t.o="readable",t.G=void 0,t.Y=void 0,t.it=!1}function Ze(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"rt")}function Qe(t){return void 0!==t.G}function ti(t,n){return t.it=!0,"closed"===t.o?Zt(void 0):"errored"===t.o?Qt(t.Y):(ni(t),un(t.rt[mt](n),Ht))}function ni(t){t.o="closed";var n=t.G;void 0!==n&&(bn(n)&&(n.et.forEach((function(t){t.Z(sn(void 0,!0,n.W))})),n.et=new yt),wn(n))}function ei(t,n){t.o="errored",t.Y=n;var e=t.G;void 0!==e&&(bn(e)?(e.et.forEach((function(t){t.nt(n)})),e.et=new yt):(e.jt.forEach((function(t){t.nt(n)})),e.jt=new yt),ln(e,n))}function ii(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function ri(t,n,e,i,r,u){function o(){return n}t.Kt=function(t,n,e,i,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var o=v.create(It.prototype);return Cn(o),Yn(o,v.create(Nt.prototype),t,n,e,i,r,u),o}(o,(function(n){return function(t,n){var e=t.Jt;if(!0===t._t){return un(t.Zt,(function(){var i=t.Kt;if("erroring"===i.o)throw i.Y;return vi(e,n)}))}return vi(e,n)}(t,n)}),(function(){return function(t){var n=t.Qt,e=t.Jt,i=e.tn();return fi(e),un(i,(function(){if("errored"===n.o)throw n.Y;var t=n.rt;!0===ke(t)&&me(t)}),(function(e){throw oi(t,e),n.Y}))}(t)}),(function(n){return function(t,n){return oi(t,n),Zt(void 0)}(t,n)}),e,i),t.Qt=Ke(o,(function(){return function(t){return ai(t,!1),t.Zt}(t)}),(function(n){return si(t,n),Zt(void 0)}),r,u),t._t=void 0,t.Zt=void 0,t.nn=void 0,ai(t,!0),t.Jt=void 0}function ui(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Jt")}function oi(t,n){pe(t.Qt.rt,n),si(t,n)}function si(t,n){fi(t.Jt),Jn(t.Kt.ft,n),!0===t._t&&ai(t,!1)}function ai(t,n){void 0!==t.Zt&&t.nn(),t.Zt=Jt((function(n){t.nn=n})),t._t=n}function ci(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"en")}function fi(t){t.rn=void 0,t.tn=void 0}function hi(t,n){var e=t.en,i=e.Qt.rt;if(!1===ke(i))throw new h("Readable side is not in a state that permits enqueue");try{_e(i,n)}catch(t){throw si(e,t),e.Qt.Y}(function(t){return!0!==ge(t)})(i)!==e._t&&ai(e,!0)}function vi(t,n){return un(t.rn(n),void 0,(function(n){throw oi(t.en,n),n}))}function di(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function li(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}var wi,gi,yi,mi,_i,pi,bi=E({"../../../core/node_modules/web-streams-polyfill/dist/ponyfill.mjs":function(){var t;ki(),Vt(),ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"},ht=Number.isNaN||function(t){return t!=t},vt=Ht,dt=G,lt=G.prototype.then,wt=G.resolve.bind(dt),gt=G.reject.bind(dt),16384,yt=function(){function t(){this.un=0,this.sn=0,this.P={an:[],cn:void 0},this.fn=this.P,this.un=0,this.sn=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.sn},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.fn,e=n;16383===n.an.length&&(e={an:[],cn:void 0}),n.an.push(t),e!==n&&(this.fn=e,n.cn=e),++this.sn},t.prototype.shift=function(){var t=this.P,n=t,e=this.un,i=e+1,r=t.an,u=r[e];return 16384===i&&(n=t.cn,i=0),--this.sn,this.un=i,t!==n&&(this.P=n),r[e]=void 0,u},t.prototype.forEach=function(t){for(var n=this.un,e=this.P,i=e.an;!(n===i.length&&void 0===e.cn||n===i.length&&(n=0,0===(i=(e=e.cn).an).length));)t(i[n]),++n},t.prototype.peek=function(){var t=this.P,n=this.un;return t.an[n]},t}(),mt=ft("[[CancelSteps]]"),_t=ft("[[PullSteps]]"),pt=function(){function t(t){if(!1===Ze(t))throw new h("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Qe(t))throw new h("This stream has already been locked for exclusive reading by another reader");an(this,t),this.et=new yt}return v.defineProperty(t.prototype,"closed",{get:function(){return bn(this)?this.X:Qt(Tn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return bn(this)?void 0===this.j?Qt(hn("cancel")):cn(this,t):Qt(Tn("cancel"))},t.prototype.read=function(){return bn(this)?void 0===this.j?Qt(hn("read from")):kn(this):Qt(Tn("read"))},t.prototype.releaseLock=function(){if(!bn(this))throw Tn("releaseLock");if(void 0!==this.j){if(this.et.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");fn(this)}},t}(),"symbol"==typeof ft.asyncIterator&&((bt={})[ft.asyncIterator]=function(){return this},kt=bt,v.defineProperty(kt,ft.asyncIterator,{enumerable:!1})),Tt={next:function(){if(!1===Sn(this))return Qt(En("next"));var t=this.ut;return void 0===t.j?Qt(hn("iterate")):un(kn(t),(function(n){var e=n.done;return e&&fn(t),sn(n.value,e,!0)}))},return:function(t){if(!1===Sn(this))return Qt(En("next"));var n=this.ut;if(void 0===n.j)return Qt(hn("finish iterating"));if(n.et.length>0)return Qt(new h("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.hn){var e=cn(n,t);return fn(n),un(e,(function(){return sn(t,!0,!0)}))}return fn(n),Zt(sn(t,!0,!0))}},void 0!==kt&&v.setPrototypeOf(Tt,kt),v.defineProperty(Tt,"next",{enumerable:!1}),v.defineProperty(Tt,"return",{enumerable:!1}),St=ft("[[AbortSteps]]"),Et=ft("[[ErrorSteps]]"),It=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Cn(this);var e=n.size,i=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Kt(e);void 0===i&&(i=1),function(t,n,e,i){var r=v.create(Nt.prototype),u=Gt(n,"write",1,[r]),o=Gt(n,"close",0,[]),s=Gt(n,"abort",1,[]);Yn(t,r,(function(){return Yt(n,"start",[r])}),u,o,s,e,i)}(this,t,i=$t(i),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===An(this))throw te("locked");return Dn(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===An(this)?Qt(te("abort")):!0===Dn(this)?Qt(new h("Cannot abort a stream that already has a writer")):Pn(this,t)},t.prototype.close=function(){return!1===An(this)?Qt(te("close")):!0===Dn(this)?Qt(new h("Cannot close a stream that already has a writer")):!0===Fn(this)?Qt(new h("Cannot close an already-closing stream")):xn(this)},t.prototype.getWriter=function(){if(!1===An(this))throw te("getWriter");return On(this)},t}(),Rt=function(){function t(t){if(!1===An(t))throw new h("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Dn(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Et=t,t.ct=this;var n,e=t.o;if("writable"===e)!1===Fn(t)&&!0===t._t?se(this):ce(this),ie(this);else if("erroring"===e)ae(this,t.Y),ie(this);else if("closed"===e)ce(this),ie(n=this),oe(n);else{var i=t.Y;ae(this,i),re(this,i)}}return v.defineProperty(t.prototype,"closed",{get:function(){return!1===Hn(this)?Qt(ne("closed")):this.X},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Hn(this))throw ne("desiredSize");if(void 0===this.Et)throw ee("desiredSize");return t=this.Et,"errored"===(n=t.o)||"erroring"===n?null:"closed"===n?0:$n(t.ft);var t,n},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return!1===Hn(this)?Qt(ne("ready")):this.xt},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Hn(this)?Qt(ne("abort")):void 0===this.Et?Qt(ee("abort")):function(t,n){return Pn(t.Et,n)}(this,t)},t.prototype.close=function(){if(!1===Hn(this))return Qt(ne("close"));var t=this.Et;return void 0===t?Qt(ee("close")):!0===Fn(t)?Qt(new h("Cannot close an already-closing stream")):qn(this)},t.prototype.releaseLock=function(){if(!1===Hn(this))throw ne("releaseLock");void 0!==this.Et&&jn(this)},t.prototype.write=function(t){return!1===Hn(this)?Qt(ne("write")):void 0===this.Et?Qt(ee("write to")):Gn(this,t)},t}(),Nt=function(){function t(){throw new h("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1==(!!qt(n=this)&&!!v.prototype.hasOwnProperty.call(n,"Ot")))throw new h("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var n;"writable"===this.Ot.o&&Qn(this,t)},t.prototype[St]=function(t){var n=this.Pt(t);return Xn(this),n},t.prototype[Et]=function(){Nn(this)},t}(),Ot="undefined"!=typeof DOMException?DOMException:void 0,Ct=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Ot)?Ot:((t=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t),At=function(){function t(){throw new h}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===le(this))throw Se("desiredSize");return be(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===le(this))throw Se("close");if(!1===ke(this))throw new h("The stream is not in a state that permits close");me(this)},t.prototype.enqueue=function(t){if(!1===le(this))throw Se("enqueue");if(!1===ke(this))throw new h("The stream is not in a state that permits enqueue");return _e(this,t)},t.prototype.error=function(t){if(!1===le(this))throw Se("error");pe(this,t)},t.prototype[mt]=function(t){Nn(this);var n=this.Ht(t);return ye(this),n},t.prototype[_t]=function(){var t=this.Mt;if(this.ot.length>0){var n=In(this);return!0===this.qt&&0===this.ot.length?(ye(this),ni(t)):we(this),Zt(sn(n,!1,t.G.W))}var e=yn(t);return we(this),e},t}(),Dt=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&d.floor(t)===t},Pt=function(){function t(){throw new h("ReadableStreamBYOBRequest cannot be used directly")}return v.defineProperty(t.prototype,"view",{get:function(){if(!1===Ie(this))throw qe("view");return this.Yt},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Ie(this))throw qe("respond");if(void 0===this.Wt)throw new h("This BYOB request has been invalidated");this.Yt.buffer,function(t,n){if(!1===Wt(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Le(t,n)}(this.Wt,t)},t.prototype.respondWithNewView=function(t){if(!1===Ie(this))throw qe("respond");if(void 0===this.Wt)throw new h("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");t.buffer,function(t,n){var e=t.Xt.peek();if(e.byteOffset+e.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(e.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");e.buffer=n.buffer,Le(t,n.byteLength)}(this.Wt,t)},t}(),xt=function(){function t(){throw new h("ReadableByteStreamController constructor cannot be used directly")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ee(this))throw ze("byobRequest");if(void 0===this.Gt&&this.Xt.length>0){var t=this.Xt.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),e=v.create(Pt.prototype);!function(t,n,e){t.Wt=n,t.Yt=e}(e,this,n),this.Gt=e}return this.Gt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ee(this))throw ze("desiredSize");return Ve(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ee(this))throw ze("close");if(!0===this.qt)throw new h("The stream has already been closed; do not close it again!");var t=this.zt.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.zt;if(t.st>0)t.qt=!0;else{if(t.Xt.length>0&&t.Xt.peek().bytesFilled>0){var e=new h("Insufficient bytes to fill elements in the given buffer");throw Ue(t,e),e}Fe(t),ni(n)}}(this)},t.prototype.enqueue=function(t){if(!1===Ee(this))throw ze("enqueue");if(!0===this.qt)throw new h("stream is closed or draining");var n=this.zt.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new h("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var e=t.zt,i=n.buffer,r=n.byteOffset,u=n.byteLength,o=i;!0===pn(e)?0===_n(e)?Ce(t,o,r,u):mn(e,new y(o,r,u),!1):!0===Ge(e)?(Ce(t,o,r,u),Be(t)):Ce(t,o,r,u),Re(t)}(this,t)},t.prototype.error=function(t){if(!1===Ee(this))throw ze("error");Ue(this,t)},t.prototype[mt]=function(t){this.Xt.length>0&&(this.Xt.peek().bytesFilled=0);Nn(this);var n=this.Ht(t);return Fe(this),n},t.prototype[_t]=function(){var t=this.zt;if(this.st>0){var n=this.ot.shift();this.st-=n.byteLength,Pe(this);var e=void 0;try{e=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Qt(t)}return Zt(sn(e,!1,t.G.W))}var i=this.$t;if(void 0!==i){var r=void 0;try{r=new ArrayBuffer(i)}catch(t){return Qt(t)}var u={buffer:r,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Xt.push(u)}var o=yn(t);return Re(this),o},t}(),Bt=function(){function t(t){if(!Ze(t))throw new h("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ee(t.rt))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Qe(t))throw new h("This stream has already been locked for exclusive reading by another reader");an(this,t),this.jt=new yt}return v.defineProperty(t.prototype,"closed",{get:function(){return Ye(this)?this.X:Qt($e("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ye(this)?void 0===this.j?Qt(hn("cancel")):cn(this,t):Qt($e("cancel"))},t.prototype.read=function(t){return Ye(this)?void 0===this.j?Qt(hn("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Qt(new h("view must have non-zero byteLength")):Xe(this,t)):Qt(new h("view must be an array buffer view")):Qt($e("read"))},t.prototype.releaseLock=function(){if(!Ye(this))throw $e("releaseLock");if(void 0!==this.j){if(this.jt.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");fn(this)}},t}(),Lt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Je(this);var e=n.size,i=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==e)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===i&&(i=0),He(this,t,i=$t(i))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var u=Kt(e);void 0===i&&(i=1),function(t,n,e,i){var r=v.create(At.prototype),u=Gt(n,"pull",0,[r]),o=Gt(n,"cancel",1,[]);Te(t,r,(function(){return Yt(n,"start",[r])}),u,o,e,i)}(this,t,i=$t(i),u)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ze(this))throw ii("locked");return Qe(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Ze(this)?Qt(ii("cancel")):!0===Qe(this)?Qt(new h("Cannot cancel a stream that already has a reader")):ti(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Ze(this))throw ii("getReader");if(void 0===n)return gn(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var e=new Bt(t);return e.W=n,e}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var e=t.writable,i=t.readable,r=void 0===n?{}:n,u=r.preventClose,o=r.preventAbort,s=r.preventCancel,a=r.signal;if(!1===Ze(this))throw ii("pipeThrough");if(!1===An(e))throw new h("writable argument to pipeThrough must be a WritableStream");if(!1===Ze(i))throw new h("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==a&&!ve(a))throw new h("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Qe(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Dn(e))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return on(de(this,e,u,o,s,a)),i},t.prototype.pipeTo=function(t,n){var e=void 0===n?{}:n,i=e.preventClose,r=e.preventAbort,u=e.preventCancel,o=e.signal;return!1===Ze(this)?Qt(ii("pipeTo")):!1===An(t)?Qt(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(i=Boolean(i),r=Boolean(r),u=Boolean(u),void 0===o||ve(o)?!0===Qe(this)?Qt(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Dn(t)?Qt(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):de(this,t,i,r,u,o):Qt(new h("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Ze(this))throw ii("tee");var t=function(t,n){var e,i,r,u,o,s=gn(t),a=!1,c=!1,f=!1,h=Jt((function(t){o=t}));function v(){return!0===a||(a=!0,on(un(kn(s),(function(t){if(a=!1,!0===t.done)return!1===c&&me(r.rt),void(!1===f&&me(u.rt));var n=t.value,e=n,i=n;!1===c&&_e(r.rt,e),!1===f&&_e(u.rt,i)})))),Zt(void 0)}function d(){}return r=Ke(d,v,(function(n){if(c=!0,e=n,!0===f){var r=zt([e,i]),u=ti(t,r);o(u)}return h})),u=Ke(d,v,(function(n){if(f=!0,i=n,!0===c){var r=zt([e,i]),u=ti(t,r);o(u)}return h})),rn(s.X,(function(t){pe(r.rt,t),pe(u.rt,t)})),[r,u]}(this);return zt(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,e=void 0!==n&&n;if(!1===Ze(this))throw ii("getIterator");return function(t,n){void 0===n&&(n=!1);var e=gn(t),i=v.create(Tt);return i.ut=e,i.hn=Boolean(n),i}(this,e)},t}(),"symbol"==typeof ft.asyncIterator&&v.defineProperty(Lt.prototype,ft.asyncIterator,{value:Lt.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0}),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Mt=function(){function t(t,n,e){void 0===t&&(t={}),void 0===n&&(n={}),void 0===e&&(e={});var i=n.size,r=n.highWaterMark,u=e.size,o=e.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=Kt(i);if(void 0===r&&(r=1),r=$t(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=Kt(u);void 0===o&&(o=0),o=$t(o),ri(this,Jt((function(t){a=t})),r,s,o,c),function(t,n){var e=v.create(Ft.prototype),i=function(t){try{return hi(e,t),Zt(void 0)}catch(t){return Qt(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new h("transform is not a method");i=function(t){return Xt(r,n,[t,e])}}var u=Gt(n,"flush",0,[e]);!function(t,n,e,i){n.en=t,t.Jt=n,n.rn=e,n.tn=i}(t,e,i,u)}(this,t);var f=Yt(t,"start",[this.Jt]);a(f)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!1===ui(this))throw li("readable");return this.Qt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!1===ui(this))throw li("writable");return this.Kt},enumerable:!0,configurable:!0}),t}(),Ft=function(){function t(){throw new h("TransformStreamDefaultController instances cannot be created directly")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ci(this))throw di("desiredSize");return be(this.en.Qt.rt)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ci(this))throw di("enqueue");hi(this,t)},t.prototype.error=function(t){if(!1===ci(this))throw di("error");var n;n=t,oi(this.en,n)},t.prototype.terminate=function(){if(!1===ci(this))throw di("terminate");var t,n;t=this.en,!0===ke(n=t.Qt.rt)&&me(n),si(t,new h("TransformStream terminated"))},t}()}}),ki=E({"../../../core/src/util/polyfill/ReadableStream.ts":function(){bi()}});var Ti=E({"../../../web/src/dom/DOMEnvironment.ts":function(){ki(),Vt()}}),Si=I({"src/tvOS/DOMEnvironment.ts":function(n){ki(),Vt(),Ti();var e,i={vn:function(){function t(){this.dn=[]}var n=t.prototype;return n.ln=function(){},n.wn=function(t){return{gn:function(){return G.resolve()},yn:function(){}}},n.mn=function(t){throw new f("Not implemented")},n._n=function(t){return G.resolve()},n.pn=function(t){return G.resolve()},n.bn=function(t){},n.kn=function(){},t}(),Tn:function(){function t(){}var n=t.prototype;return n.Sn=function(){return G.resolve("all")},n.En=function(){},n.kn=function(){},t}(),In:{Rn:function(t){getActiveDocument().addEventListener("unload",t)},Nn:function(t){getActiveDocument().removeEventListener("unload",t)}},On:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:n,parent:n,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};Element.prototype.style={},wi=(e=i).vn,gi=e.Tn,yi=e.In,mi=e.On,_i=mi&&mi.location,pi=mi&&mi.navigator}});function Ei(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function Ii(t,n,e){return n&&Ei(t.prototype,n),e&&Ei(t,e),t}var Ri=E({"../../../web/node_modules/@swc/helpers/esm/_create_class.js":function(){ki(),Vt()}});function Ni(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var Oi=E({"../../../web/node_modules/@swc/helpers/esm/_array_like_to_array.js":function(){ki(),Vt()}});var Ci=E({"../../../web/node_modules/@swc/helpers/esm/_array_without_holes.js":function(){ki(),Vt(),Oi()}});var Ai=E({"../../../web/node_modules/@swc/helpers/esm/_iterable_to_array.js":function(){ki(),Vt()}});var Di=E({"../../../web/node_modules/@swc/helpers/esm/_non_iterable_spread.js":function(){ki(),Vt()}});function Pi(t,n){if(t){if("string"==typeof t)return Ni(t,n);var e=v.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Ni(t,n):void 0}}var xi=E({"../../../web/node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js":function(){ki(),Vt(),Oi()}});function Bi(t){return function(t){if(Array.isArray(t))return Ni(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Pi(t)||function(){throw new h("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Li,Mi=E({"../../../web/node_modules/@swc/helpers/esm/_to_consumable_array.js":function(){ki(),Vt(),Ci(),Ai(),Di(),xi()}}),Fi=I({"../../node_modules/json-stringify-safe/stringify.js":function(t,n){function e(t,n){var e=[],i=[];return null==n&&(n=function(t,n){return e[0]===n?"[Circular ~]":"[Circular ~."+i.slice(0,e.indexOf(n)).join(".")+"]"}),function(r,u){if(e.length>0){var o=e.indexOf(this);~o?e.splice(o+1):e.push(this),~o?i.splice(o,1/0,r):i.push(r),~e.indexOf(u)&&(u=n.call(this,r,u))}else e.push(u);return null==t?u:t.call(this,r,u)}}ki(),Vt(),(n.exports=function(t,n,i,r){return JSON.stringify(t,e(n,r),i)}).getSerialize=e}}),Ui=I({"../../../core/node_modules/xmlchars/xml/1.0/ed5.js":function(t){ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),Vi=I({"../../../core/node_modules/xmlchars/xml/1.1/ed2.js":function(t){ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),Hi=I({"../../../core/node_modules/xmlchars/xmlns/1.0/ed3.js":function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}ki(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),qi=I({"../../../core/node_modules/saxes/saxes.js":function(t){ki(),Vt(),Ri(),Mi(),v.defineProperty(t,"__esModule",{value:!0}),t.SaxesParser=t.EVENTS=void 0;var n=Ui(),e=Vi(),i=Hi(),r=n.isS,u=n.isChar,o=n.isNameStartChar,s=n.isNameChar,a=n.S_LIST,c=n.NAME_RE,h=e.isChar,d=i.isNCNameStartChar,w=i.isNCNameChar,g=i.NC_NAME_RE,y="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",_={__proto__:null,xml:y,xmlns:m},p={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b=-1,k=-2,T=13,S=33,E=10,I=60,R=61,N=62,O=63,C=93,A=function(t){return 34===t||39===t},D=[34,39],P=Bi(D).concat([91,N]),x=Bi(D).concat([I,C]),B=[R,O].concat(Bi(a)),L=Bi(a).concat([N,38,I]);function M(t,n,e){switch(n){case"xml":e!==y&&t.fail("xml prefix must be bound to "+y+".");break;case"xmlns":e!==m&&t.fail("xmlns prefix must be bound to "+m+".")}switch(e){case m:t.fail(""===n?"the default namespace may not be set to "+e+".":'may not assign a prefix (even "xmlns") to the URI '+m+".");break;case y:switch(n){case"xml":break;case"":t.fail("the default namespace may not be set to "+e+".");break;default:t.fail("may not assign the xml namespace to another prefix.")}}}var F=function(t){return g.test(t)},U=function(t){return c.test(t)};t.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var V={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"},H=function(){function t(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;var n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=d,this.nameCheck=w,this.isName=F,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},_);var e=this.opt.additionalNamespaces;null!=e&&(!function(t,n){for(var e=0,i=v.keys(n);e<i.length;e++){var r=i[e];M(t,r,n[r])}}(this,e),v.assign(this.ns,e))}else this.nameStartCheck=o,this.nameCheck=s,this.isName=U,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}var n=t.prototype;return n._init=function(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];var n=this.fragmentOpt;this.state=n?T:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;var e=this.opt.defaultXMLVersion;if(void 0===e){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");e="1.0"}this.setXMLVersion(e),this.positionAtNewLine=0,this.doctype=!1,this.Cn=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(p),null===(t=this.readyHandler)||void 0===t||t.call(this)},n.on=function(t,n){this[V[t]]=n},n.off=function(t){this[V[t]]=void 0},n.makeError=function(t){var n,e=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(e.length>0&&(e+=":"),e+=this.line+":"+this.column),e.length>0&&(e+=": "),new f(e+t)},n.fail=function(t){var n=this.makeError(t),e=this.errorHandler;if(void 0===e)throw n;return e(n),this},n.write=function(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");var n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=""+this.carriedFromPrevious+t,this.carriedFromPrevious=void 0);var e=t.length,i=t.charCodeAt(e-1);!n&&(13===i||i>=55296&&i<=56319)&&(this.carriedFromPrevious=t[e-1],e--,t=t.slice(0,e));var r=this.stateTable;for(this.chunk=t,this.i=0;this.i<e;)r[this.state].call(this);return this.chunkPosition+=e,n?this.end():this},n.close=function(){return this.write(null)},n.getCode10=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return b;var e=t.charCodeAt(n);if(this.column++,e<55296){if(e>=32||9===e)return e;switch(e){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:return t.charCodeAt(n+1)===E&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),e}}if(e>56319)return e>=57344&&e<=65533||this.fail("disallowed character."),e;var i=65536+1024*(e-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i},n.getCode11=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return b;var e=t.charCodeAt(n);if(this.column++,e<55296){if(e>31&&e<127||e>159&&8232!==e||9===e)return e;switch(e){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:var i=t.charCodeAt(n+1);i!==E&&133!==i||(this.i=n+2);case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),e}}if(e>56319)return e>=57344&&e<=65533||this.fail("disallowed character."),e;var r=65536+1024*(e-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r},n.getCodeNorm=function(){var t=this.getCode();return t===k?E:t},n.unget=function(){this.i=this.prevI,this.column--},n.captureTo=function(t){for(var n=this.i,e=this.chunk;;){var i=this.getCode(),r=i===k,u=r?E:i;if(u===b||t.includes(u))return this.text+=e.slice(n,this.prevI),u;r&&(this.text+=e.slice(n,this.prevI)+"\n",n=this.i)}},n.captureToChar=function(t){for(var n=this.i,e=this.chunk;;){var i=this.getCode();switch(i){case k:this.text+=e.slice(n,this.prevI)+"\n",n=this.i,i=E;break;case b:return this.text+=e.slice(n),!1}if(i===t)return this.text+=e.slice(n,this.prevI),!0}},n.captureNameChars=function(){for(var t=this.chunk,n=this.i;;){var e=this.getCode();if(e===b)return this.name+=t.slice(n),b;if(!s(e))return this.name+=t.slice(n,this.prevI),e===k?E:e}},n.skipSpaces=function(){for(;;){var t=this.getCodeNorm();if(t===b||!r(t))return t}},n.setXMLVersion=function(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)},n.sBegin=function(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1},n.sBeginWhitespace=function(){var t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case I:if(this.state=15,0!==this.text.length)throw new f("no-empty text at start");break;case b:break;default:this.unget(),this.state=T,this.xmlDeclPossible=!1}},n.sDoctype=function(){var t,n=this.captureTo(P);switch(n){case N:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=T,this.doctype=!0;break;case b:break;default:this.text+=String.fromCodePoint(n),91===n?this.state=4:A(n)&&(this.state=3,this.q=n)}},n.sDoctypeQuote=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)},n.sDTD=function(){var t=this.captureTo(x);t!==b&&(this.text+=String.fromCodePoint(t),t===C?this.state=2:t===I?this.state=6:A(t)&&(this.state=5,this.q=t))},n.sDTDQuoted=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)},n.sDTDOpenWaka=function(){var t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case O:this.state=11;break;default:this.state=4}},n.sDTDOpenWakaBang=function(){var t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?8:4,this.openWakaBang="")},n.sDTDComment=function(){this.captureToChar(45)&&(this.text+="-",this.state=9)},n.sDTDCommentEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8},n.sDTDCommentEnded=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===N?this.state=4:(this.fail("malformed comment."),this.state=8)},n.sDTDPI=function(){this.captureToChar(O)&&(this.text+="?",this.state=12)},n.sDTDPIEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===N&&(this.state=4)},n.sText=function(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()},n.sEntity=function(){var t=this.i,n=this.chunk;t:for(;;)switch(this.getCode()){case k:this.entity+=n.slice(t,this.prevI)+"\n",t=this.i;break;case 59:var e=this.entityReturnState,i=this.entity+n.slice(t,this.prevI);this.state=e;var r=void 0;""===i?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(i),this.entity=""),e===T&&void 0===this.textHandler||(this.text+=r);break t;case b:this.entity+=n.slice(t);break t}},n.sOpenWaka=function(){var t=this.getCode();if(o(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case O:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=T,this.xmlDeclPossible=!1}},n.sOpenWakaBang=function(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}},n.sComment=function(){this.captureToChar(45)&&(this.state=18)},n.sCommentEnding=function(){var t,n=this.getCodeNorm();45===n?(this.state=19,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(n),this.state=17)},n.sCommentEnded=function(){var t=this.getCodeNorm();t!==N?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(t),this.state=17):this.state=T},n.sCData=function(){this.captureToChar(C)&&(this.state=21)},n.sCDataEnding=function(){var t=this.getCodeNorm();t===C?this.state=22:(this.text+="]"+String.fromCodePoint(t),this.state=20)},n.sCDataEnding2=function(){var t,n=this.getCodeNorm();switch(n){case N:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=T;break;case C:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(n),this.state=20}},n.sPIFirstChar=function(){var t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):t===O||r(t)?(this.fail("processing instruction without a target."),this.state=t===O?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)},n.sPIRest=function(){for(var t=this.chunk,n=this.i;;){var e=this.getCodeNorm();if(e===b)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);var i=e===O;i||r(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=i?S:27):this.state=i?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}},n.sPIBody=function(){if(0===this.text.length){var t=this.getCodeNorm();t===O?this.state=26:r(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(O)&&(this.state=26)},n.sPIEnding=function(){var t,n=this.getCodeNorm();if(n===N){var e=this.piTarget;"xml"===e.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:e,body:this.text}),this.piTarget=this.text="",this.state=T}else n===O?this.text+="?":(this.text+="?"+String.fromCodePoint(n),this.state=25);this.xmlDeclPossible=!1},n.sXMLDeclNameStart=function(){var t=this.skipSpaces();t!==O?t!==b&&(this.state=28,this.name=String.fromCodePoint(t)):this.state=S},n.sXMLDeclName=function(){var t=this.captureTo(B);if(t===O)return this.state=S,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(r(t)||t===R){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail("expected the name "+this.xmlDeclExpects[0]+".");break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=t===R?30:29}},n.sXMLDeclEq=function(){var t=this.getCodeNorm();if(t===O)return this.state=S,void this.fail("XML declaration is incomplete.");r(t)||(t!==R&&this.fail("value required."),this.state=30)},n.sXMLDeclValueStart=function(){var t=this.getCodeNorm();if(t===O)return this.state=S,void this.fail("XML declaration is incomplete.");r(t)||(A(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)},n.sXMLDeclValue=function(){var t=this.captureTo([this.q,O]);if(t===O)return this.state=S,this.text="",void this.fail("XML declaration is incomplete.");if(t!==b){var n=this.text;switch(this.text="",this.name){case"version":this.xmlDeclExpects=["encoding","standalone"];var e=n;this.xmlDecl.version=e,/^1\.[0-9]+$/.test(e)?this.opt.forceXMLVersion||this.setXMLVersion(e):this.fail("version number must match /^1\\.[0-9]+$/.");break;case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=32}},n.sXMLDeclSeparator=function(){var t=this.getCodeNorm();t!==O?(r(t)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=S},n.sXMLDeclEnding=function(){var t;this.getCodeNorm()===N?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=T):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1},n.sOpenTag=function(){var t,n=this.captureNameChars();if(n!==b){var e=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case N:this.openTag();break;case 47:this.state=35;break;default:r(n)||this.fail("disallowed character in tag name."),this.state=36}}},n.sOpenTagSlash=function(){this.getCode()===N?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)},n.sAttrib=function(){var t=this.skipSpaces();t!==b&&(o(t)?(this.unget(),this.state=37):t===N?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))},n.sAttribName=function(){var t=this.captureNameChars();t===R?this.state=39:r(t)?this.state=38:t===N?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==b&&this.fail("disallowed character in attribute name.")},n.sAttribNameSawWhite=function(){var t=this.skipSpaces();switch(t){case b:return;case R:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",t===N?this.openTag():o(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}},n.sAttribValue=function(){var t=this.getCodeNorm();A(t)?(this.q=t,this.state=40):r(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())},n.sAttribValueQuoted=function(){for(var t=this.q,n=this.chunk,e=this.i;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(e,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=n.slice(e,this.prevI),this.state=14,void(this.entityReturnState=40);case E:case k:case 9:this.text+=n.slice(e,this.prevI)+" ",e=this.i;break;case I:return this.text+=n.slice(e,this.prevI),void this.fail("disallowed character.");case b:return void(this.text+=n.slice(e))}},n.sAttribValueClosed=function(){var t=this.getCodeNorm();r(t)?this.state=36:t===N?this.openTag():47===t?this.state=35:o(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")},n.sAttribValueUnquoted=function(){var t=this.captureTo(L);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case I:this.fail("disallowed character.");break;case b:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===N?this.openTag():this.state=36}},n.sCloseTag=function(){var t=this.captureNameChars();t===N?this.closeTag():r(t)?this.state=44:t!==b&&this.fail("disallowed character in closing tag.")},n.sCloseTagSawWhite=function(){switch(this.skipSpaces()){case N:this.closeTag();break;case b:break;default:this.fail("disallowed character in closing tag.")}},n.handleTextInRoot=function(){var t=this.i,n=this.forbiddenState,e=this.chunk,i=this.textHandler;t:for(;;)switch(this.getCode()){case I:if(this.state=15,void 0!==i){var r=this.text,u=e.slice(t,this.prevI);0!==r.length?(i(r+u),this.text=""):0!==u.length&&i(u)}n=0;break t;case 38:this.state=14,this.entityReturnState=T,void 0!==i&&(this.text+=e.slice(t,this.prevI)),n=0;break t;case C:switch(n){case 0:n=1;break;case 1:n=2;break;case 2:break;default:throw new f("impossible state")}break;case N:2===n&&this.fail('the string "]]>" is disallowed in char data.'),n=0;break;case k:void 0!==i&&(this.text+=e.slice(t,this.prevI)+"\n"),t=this.i,n=0;break;case b:void 0!==i&&(this.text+=e.slice(t));break t;default:n=0}this.forbiddenState=n},n.handleTextOutsideRoot=function(){var t=this.i,n=this.chunk,e=this.textHandler,i=!1;t:for(;;){var u=this.getCode();switch(u){case I:if(this.state=15,void 0!==e){var o=this.text,s=n.slice(t,this.prevI);0!==o.length?(e(o+s),this.text=""):0!==s.length&&e(s)}break t;case 38:this.state=14,this.entityReturnState=T,void 0!==e&&(this.text+=n.slice(t,this.prevI)),i=!0;break t;case k:void 0!==e&&(this.text+=n.slice(t,this.prevI)+"\n"),t=this.i;break;case b:void 0!==e&&(this.text+=n.slice(t));break t;default:r(u)||(i=!0)}}i&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))},n.pushAttribNS=function(t,n){var e,i=this.qname(t),r=i.prefix,u=i.local,o={name:t,prefix:r,local:u,value:n};if(this.attribList.push(o),null===(e=this.attributeHandler)||void 0===e||e.call(this,o),"xmlns"===r){var s=n.trim();"1.0"===this.currentXMLVersion&&""===s&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[u]=s,M(this,u,s)}else if("xmlns"===t){var a=n.trim();this.topNS[""]=a,M(this,"",a)}},n.pushAttribPlain=function(t,n){var e,i={name:t,value:n};this.attribList.push(i),null===(e=this.attributeHandler)||void 0===e||e.call(this,i)},n.end=function(){var t,n;this.sawRoot||this.fail("document must contain a root element.");for(var e=this.tags;e.length>0;){var i=e.pop();this.fail("unclosed tag: "+i.name)}0!==this.state&&this.state!==T&&this.fail("unexpected end.");var r=this.text;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Cn=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this},n.resolve=function(t){var n,e,i=this.topNS[t];if(void 0!==i)return i;for(var r=this.tags,u=r.length-1;u>=0;u--)if(void 0!==(i=r[u].ns[t]))return i;return void 0!==(i=this.ns[t])?i:null===(e=(n=this.opt).resolvePrefix)||void 0===e?void 0:e.call(n,t)},n.qname=function(t){var n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};var e=t.slice(n+1),i=t.slice(0,n);return(""===i||""===e||e.includes(":"))&&this.fail("malformed name: "+t+"."),{prefix:i,local:e}},n.processAttribsNS=function(){var t,n=this.attribList,e=this.tag,i=this.qname(e.name),r=i.prefix,u=i.local;e.prefix=r,e.local=u;var o=e.uri=null!==(t=this.resolve(r))&&void 0!==t?t:"";if(""!==r&&("xmlns"===r&&this.fail('tags may not have "xmlns" as prefix.'),""===o&&(this.fail("unbound namespace prefix: "+JSON.stringify(r)+"."),e.uri=r)),0!==n.length){for(var s=e.attributes,a=new Set,c=0;c<n.length;c++){var f=n[c],h=f.name,v=f.prefix,d=f.local,l=void 0,w=void 0;""===v?(l="xmlns"===h?m:"",w=h):(void 0===(l=this.resolve(v))&&(this.fail("unbound namespace prefix: "+JSON.stringify(v)+"."),l=v),w="{"+l+"}"+d),a.has(w)&&this.fail("duplicate attribute: "+w+"."),a.add(w),f.uri=l,s[h]=f}this.attribList=[]}},n.processAttribsPlain=function(){for(var t=this.attribList,n=this.tag.attributes,e=0;e<t.length;e++){var i=t[e],r=i.name,u=i.value;void 0!==n[r]&&this.fail("duplicate attribute: "+r+"."),n[r]=u}this.attribList=[]},n.openTag=function(){var t;this.processAttribs();var n=this.tags,e=this.tag;e.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),n.push(e),this.state=T,this.name=""},n.openSelfClosingTag=function(){var t,n,e;this.processAttribs();var i=this.tags,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(e=i[i.length-1])&&void 0!==e?e:null)&&(this.closedRoot=!0),this.state=T,this.name=""},n.closeTag=function(){var t=this.tags,n=this.name;if(this.state=T,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");for(var e=this.closeTagHandler,i=t.length;i-- >0;){var r=this.tag=t.pop();if(this.topNS=r.ns,null==e||e(r),r.name===n)break;this.fail("unexpected close tag.")}0===i?this.closedRoot=!0:i<0&&(this.fail("unmatched closing tag: "+n+"."),this.text+="</"+n+">")},n.parseEntity=function(t){if("#"!==t[0]){var n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),"&"+t+";")}var e=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?e=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(e=l(t.slice(1),10)),this.isChar(e)?String.fromCodePoint(e):(this.fail("malformed character entity."),"&"+t+";")},Ii(t,[{key:"closed",get:function(){return this.Cn}},{key:"position",get:function(){return this.chunkPosition+this.i}},{key:"columnIndex",get:function(){return this.position-this.positionAtNewLine}}]),t}();t.SaxesParser=H}}),zi={};!function(t,n){for(var e in n)p(t,e,{get:n[e],enumerable:!0})}(zi,{ChromelessPlayer:function(){return XC},ErrorCategory:function(){return xd},ErrorCode:function(){return Dd},Player:function(){return XC},createGlobals:function(){return MA},features:function(){return KC},getCueMirrorMap:function(){return BA},getGlobalId:function(){return LA},getSdkEventBridge:function(){return xA},playerSuiteVersion:function(){return ZC},players:function(){return QC},registerContentProtectionIntegration:function(){return tA},utils:function(){return $C},version:function(){return JC}}),n.exports=(Li=zi,R(p({},"__esModule",{value:!0}),Li)),ki(),Vt(),ki(),Vt();var Wi,ji,Gi;N(Si());function Yi(t,n){return(Yi=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function Xi(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Yi(t,n)}function $i(t){Wi=t}ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri(),Mi(),ki(),Vt(),Mi(),ki(),Vt(),Ri(),ki(),Vt(),(Gi=ji||(ji={})).An="web",Gi.Dn="android",Gi.Pn="android-tv",Gi.xn="ios",Gi.Bn="tvos",Gi.Ln="chromecast";var Ki=u?u.userAgent:"",Ji=Ki.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Zi=Ki.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Qi=Ki.match(/Android ([0-9\.]+)/i),tr=Ki.match(/Windows NT ([0-9\.]+)/i),nr=Ki.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),er=Ki.match(/Firefox\/([0-9\.]+)/i),ir=Ki.match(/OPR\/(\d+\.\d+)/i),rr=Ki.match(/Tizen ([0-9\.]+)/i),ur=Ki.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),or=function(){function n(){this.Mn=Boolean("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.Fn=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Ki)||/(macintosh|mac(?=_powerpc)\s)/i.test(Ki),this.Un=/Windows NT/i.test(Ki),this.Vn=tr?w(tr[1]):0,this.Hn=/Android/i.test(Ki),this.qn=Qi?w(Qi[1]):0,this.zn=/windows phone (8|8\.1)/i.test(Ki),this.Wn=/iPhone/i.test(Ki),this.jn=/iPad/i.test(Ki),this.Gn=this.Fn&&this.Mn&&!this.jn,this.Yn=/iPod/i.test(Ki),this.Xn=/Mobile Safari/i.test(Ki),this.$n=/EOS.*STB/i.test(Ki),this.Kn=(this.Wn||this.jn||this.Gn||this.Yn)&&!this.zn,this.Jn=ur?w(ur[2]):0,this.Zn=this.zn||this.Kn||this.Hn||this.Xn,this.Qn=/CriOS/i.test(Ki),this.te=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Qn,this.ee=this.te&&/Edg\//i.test(u.userAgent),this.ie=Zi?l(Zi[1],10):0,this.re=Boolean(t.chrome||/Chrome/i.test(Ki)||/CriOS/i.test(Ki)),this.ue=Ji?l(Ji[1],10):0,this.oe=/SMART-TV.*Tizen/i.test(Ki),this.se=rr?w(rr[1]):0,this.ae=/webos|web0s/i.test(Ki),this.ce=/VIZIO/i.test(Ki),this.fe=/Edge\/\d+/i.test(Ki),this.he=/Trident/i.test(Ki),this.ve=this.he&&!t.ActiveXObject&&"ActiveXObject"in t,this.de=/Vivaldi/i.test(Ki),this.we=/Firefox/i.test(Ki)&&!/Seamonkey/i.test(Ki),this.ye=er?w(er[1]):0,this.me=/Safari/i.test(Ki)&&!/Chrome/i.test(Ki)&&!this.zn&&!this.oe,this._e=nr?w(nr[2]):0,this.pe=Boolean(ir),this.be=ir?w(ir[1]):0,this.ke=/CrKey/.test(Ki),this.Te=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(Ki),this.Se="tvos"===ji.Pn,this.Ee="tvos"===ji.Dn,this.Ie=this.Ee||this.Se,this.Re="tvos"===ji.xn,this.Ne="tvos"===ji.Bn,this.Oe="tvos"===ji.Ln}return Ii(n,[{key:"Ce",get:function(){return this.Mn}},{key:"Ae",get:function(){return this.Fn}},{key:"De",get:function(){return this.Un}},{key:"Pe",get:function(){return this.Vn}},{key:"xe",get:function(){return this.Hn}},{key:"Be",get:function(){return this.qn}},{key:"Le",get:function(){return this.zn}},{key:"Me",get:function(){return this.Wn}},{key:"Fe",get:function(){return this.jn}},{key:"Ue",get:function(){return this.Gn}},{key:"Ve",get:function(){return this.Yn}},{key:"He",get:function(){return this.Kn}},{key:"qe",get:function(){return this.Jn}},{key:"ze",get:function(){return this.$n}},{key:"We",get:function(){return this.Xn}},{key:"je",get:function(){return this.Zn}},{key:"Ge",get:function(){return this.Qn}},{key:"Ye",get:function(){return this.te}},{key:"Xe",get:function(){return this.ue}},{key:"$e",get:function(){return this.ee}},{key:"Ke",get:function(){return this.ie}},{key:"Je",get:function(){return this.oe}},{key:"Ze",get:function(){return this.se}},{key:"Qe",get:function(){return this.ae}},{key:"ti",get:function(){return this.ce}},{key:"ni",get:function(){return this.fe}},{key:"ei",get:function(){return this.he}},{key:"ii",get:function(){return this.ve}},{key:"ri",get:function(){return this.de}},{key:"ui",get:function(){return this.we}},{key:"oi",get:function(){return this.ye}},{key:"si",get:function(){return this.me}},{key:"ai",get:function(){return this._e}},{key:"ci",get:function(){return this.pe}},{key:"fi",get:function(){return this.be}},{key:"hi",get:function(){return this.ke}},{key:"vi",get:function(){return this.Te}},{key:"di",get:function(){return!(!this.Qe&&!this.Je)&&this.Xe<=56}},{key:"li",get:function(){return this.Se}},{key:"wi",get:function(){return this.Ee}},{key:"gi",get:function(){return this.Ie}},{key:"yi",get:function(){return this.Re}},{key:"mi",get:function(){return this.Ne}},{key:"_i",get:function(){return this.Oe}},{key:"pi",get:function(){return this.re}}]),n}();or.bi=new or;var sr=or.bi;ki(),Vt();var ar={}.hasOwnProperty,cr={}.toString;function fr(t){return null!=t}function hr(t){return void 0===t}var vr=Array.isArray||function(t){return"[object Array]"===cr.call(t)};function dr(t){return lr(t)&&ar.call(t,"length")&&_r(t.length)}function lr(t){return"object"==typeof t&&null!==t}function wr(t){return lr(t)&&t.constructor&&t.constructor===v}function gr(t){return"string"==typeof t}function yr(t){return"boolean"==typeof t}function mr(t){return Boolean(t)&&"function"==typeof t.then}function _r(t){return"number"==typeof t}ki(),Vt();var pr=function(){},br=function(t){return t},kr=!(sr.ei&&!sr.ii),Tr=t.console;function Sr(t){if(lr(t))try{return JSON.stringify(t)}catch(t){}return t}function Er(t){return t.map(Sr).join(" ")}function Ir(t){var n=Tr&&Tr[t];return n?n.bind&&kr?n.bind(Tr):function(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];Tr[t](Er(e))}:void 0}var Rr,Nr=Ir("log")||pr,Or=Ir("warn")||Nr.bind(void 0,"WARNING:"),Cr=Ir("error")||Nr.bind(void 0,"ERROR:"),Ar=(Rr=Tr&&Tr.assert)?Rr.bind&&kr?Rr.bind(Tr):function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];Tr.assert(t,Er(e))}:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];t||Cr.apply(void 0,["Assertion failed:"].concat(Bi(e)))};ki(),Vt(),ki(),Vt(),ki(),Vt();var Dr=null;try{Dr=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Pr(t,n,e){this.low=0|t,this.high=0|n,this.unsigned=!!e}function xr(t){return!0===(t&&t.ki)}function Br(t){var n=d.clz32(t&-t);return t?31-n:n}Pr.prototype.ki,v.defineProperty(Pr.prototype,"ki",{value:!0}),Pr.isLong=xr;var Lr={},Mr={};function Fr(t,n){var e,i,r;return n?(r=0<=(t>>>=0)&&t<256)&&(i=Mr[t])?i:(e=Vr(t,0,!0),r&&(Mr[t]=e),e):(r=-128<=(t|=0)&&t<128)&&(i=Lr[t])?i:(e=Vr(t,t<0?-1:0,!1),r&&(Lr[t]=e),e)}function Ur(t,n){if(g(t))return n?$r:Xr;if(n){if(t<0)return $r;if(t>=jr)return tu}else{if(t<=-Gr)return nu;if(t+1>=Gr)return Qr}return t<0?Ur(-t,n).neg():Vr(t%Wr|0,t/Wr|0,n)}function Vr(t,n,e){return new Pr(t,n,e)}Pr.fromInt=Fr,Pr.fromNumber=Ur,Pr.fromBits=Vr;var Hr=d.pow;function qr(t,n,e){if(0===t.length)throw f("empty string");if("number"==typeof n?(e=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?$r:Xr;if((e=e||10)<2||36<e)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw f("interior hyphen");if(0===i)return qr(t.substring(1),n,e).neg();for(var r=Ur(Hr(e,8)),u=Xr,o=0;o<t.length;o+=8){var s=d.min(8,t.length-o),a=l(t.substring(o,o+s),e);if(s<8){var c=Ur(Hr(e,s));u=u.mul(c).add(Ur(a))}else u=(u=u.mul(r)).add(Ur(a))}return u.unsigned=n,u}function zr(t,n){return"number"==typeof t?Ur(t,n):"string"==typeof t?qr(t,n):Vr(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Pr.fromString=qr,Pr.fromValue=zr;var Wr=4294967296,jr=Wr*Wr,Gr=jr/2,Yr=Fr(1<<24),Xr=Fr(0);Pr.ZERO=Xr;var $r=Fr(0,!0);Pr.UZERO=$r;var Kr=Fr(1);Pr.ONE=Kr;var Jr=Fr(1,!0);Pr.UONE=Jr;var Zr=Fr(-1);Pr.NEG_ONE=Zr;var Qr=Vr(-1,2147483647,!1);Pr.MAX_VALUE=Qr;var tu=Vr(-1,-1,!0);Pr.MAX_UNSIGNED_VALUE=tu;var nu=Vr(0,-2147483648,!1);Pr.MIN_VALUE=nu;var eu=Pr.prototype;eu.toInt=function(){return this.unsigned?this.low>>>0:this.low},eu.toNumber=function(){return this.unsigned?(this.high>>>0)*Wr+(this.low>>>0):this.high*Wr+(this.low>>>0)},eu.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(nu)){var n=Ur(t),e=this.div(n),i=e.mul(n).sub(this);return e.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=Ur(Hr(t,6),this.unsigned),u=this,o="";;){var s=u.div(r),a=(u.sub(s.mul(r)).toInt()>>>0).toString(t);if((u=s).isZero())return a+o;for(;a.length<6;)a="0"+a;o=""+a+o}},eu.getHighBits=function(){return this.high},eu.getHighBitsUnsigned=function(){return this.high>>>0},eu.getLowBits=function(){return this.low},eu.getLowBitsUnsigned=function(){return this.low>>>0},eu.getNumBitsAbs=function(){if(this.isNegative())return this.eq(nu)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},eu.isZero=function(){return 0===this.high&&0===this.low},eu.eqz=eu.isZero,eu.isNegative=function(){return!this.unsigned&&this.high<0},eu.isPositive=function(){return this.unsigned||this.high>=0},eu.isOdd=function(){return 1==(1&this.low)},eu.isEven=function(){return 0==(1&this.low)},eu.equals=function(t){return xr(t)||(t=zr(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},eu.eq=eu.equals,eu.notEquals=function(t){return!this.eq(t)},eu.neq=eu.notEquals,eu.ne=eu.notEquals,eu.lessThan=function(t){return this.comp(t)<0},eu.lt=eu.lessThan,eu.lessThanOrEqual=function(t){return this.comp(t)<=0},eu.lte=eu.lessThanOrEqual,eu.le=eu.lessThanOrEqual,eu.greaterThan=function(t){return this.comp(t)>0},eu.gt=eu.greaterThan,eu.greaterThanOrEqual=function(t){return this.comp(t)>=0},eu.gte=eu.greaterThanOrEqual,eu.ge=eu.greaterThanOrEqual,eu.compare=function(t){if(xr(t)||(t=zr(t)),this.eq(t))return 0;var n=this.isNegative(),e=t.isNegative();return n&&!e?-1:!n&&e?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},eu.comp=eu.compare,eu.negate=function(){return!this.unsigned&&this.eq(nu)?nu:this.not().add(Kr)},eu.neg=eu.negate,eu.add=function(t){xr(t)||(t=zr(t));var n=this.high>>>16,e=65535&this.high,i=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,a=0,c=0,f=0,h=0;return f+=(h+=r+(65535&t.low))>>>16,c+=(f+=i+s)>>>16,a+=(c+=e+o)>>>16,a+=n+u,Vr((f&=65535)<<16|(h&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},eu.subtract=function(t){return xr(t)||(t=zr(t)),this.add(t.neg())},eu.sub=eu.subtract,eu.multiply=function(t){if(this.isZero())return this;if(xr(t)||(t=zr(t)),Dr)return Vr(Dr.mul(this.low,this.high,t.low,t.high),Dr.get_high(),this.unsigned);if(t.isZero())return this.unsigned?$r:Xr;if(this.eq(nu))return t.isOdd()?nu:Xr;if(t.eq(nu))return this.isOdd()?nu:Xr;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Yr)&&t.lt(Yr))return Ur(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,e=65535&this.high,i=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,a=65535&t.low,c=0,f=0,h=0,v=0;return h+=(v+=r*a)>>>16,f+=(h+=i*a)>>>16,h&=65535,f+=(h+=r*s)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=i*s)>>>16,f&=65535,c+=(f+=r*o)>>>16,c+=n*a+e*s+i*o+r*u,Vr((h&=65535)<<16|(v&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},eu.mul=eu.multiply,eu.divide=function(t){if(xr(t)||(t=zr(t)),t.isZero())throw f("division by zero");var n,e,i;if(Dr)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Vr((this.unsigned?Dr.div_u:Dr.div_s)(this.low,this.high,t.low,t.high),Dr.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?$r:Xr;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return $r;if(t.gt(this.shru(1)))return Jr;i=$r}else{if(this.eq(nu))return t.eq(Kr)||t.eq(Zr)?nu:t.eq(nu)?Kr:(n=this.shr(1).div(t).shl(1)).eq(Xr)?t.isNegative()?Kr:Zr:(e=this.sub(t.mul(n)),i=n.add(e.div(t)));if(t.eq(nu))return this.unsigned?$r:Xr;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=Xr}for(e=this;e.gte(t);){n=d.max(1,d.floor(e.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:Hr(2,r-48),o=Ur(n),s=o.mul(t);s.isNegative()||s.gt(e);)s=(o=Ur(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=Kr),i=i.add(o),e=e.sub(s)}return i},eu.div=eu.divide,eu.modulo=function(t){return xr(t)||(t=zr(t)),Dr?Vr((this.unsigned?Dr.rem_u:Dr.rem_s)(this.low,this.high,t.low,t.high),Dr.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},eu.mod=eu.modulo,eu.rem=eu.modulo,eu.not=function(){return Vr(~this.low,~this.high,this.unsigned)},eu.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},eu.clz=eu.countLeadingZeros,eu.countTrailingZeros=function(){return this.low?Br(this.low):Br(this.high)+32},eu.ctz=eu.countTrailingZeros,eu.and=function(t){return xr(t)||(t=zr(t)),Vr(this.low&t.low,this.high&t.high,this.unsigned)},eu.or=function(t){return xr(t)||(t=zr(t)),Vr(this.low|t.low,this.high|t.high,this.unsigned)},eu.xor=function(t){return xr(t)||(t=zr(t)),Vr(this.low^t.low,this.high^t.high,this.unsigned)},eu.shiftLeft=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Vr(0,this.low<<t-32,this.unsigned)},eu.shl=eu.shiftLeft,eu.shiftRight=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Vr(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},eu.shr=eu.shiftRight,eu.shiftRightUnsigned=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Vr(32===t?this.high:this.high>>>t-32,0,this.unsigned)},eu.shru=eu.shiftRightUnsigned,eu.shr_u=eu.shiftRightUnsigned,eu.rotateLeft=function(t){var n;return xr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Vr(this.high,this.low,this.unsigned):t<32?(n=32-t,Vr(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),Vr(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},eu.rotl=eu.rotateLeft,eu.rotateRight=function(t){var n;return xr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Vr(this.high,this.low,this.unsigned):t<32?(n=32-t,Vr(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),Vr(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},eu.rotr=eu.rotateRight,eu.toSigned=function(){return this.unsigned?Vr(this.low,this.high,!1):this},eu.toUnsigned=function(){return this.unsigned?this:Vr(this.low,this.high,!0)},eu.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},eu.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},eu.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Pr.fromBytes=function(t,n,e){return e?Pr.fromBytesLE(t,n):Pr.fromBytesBE(t,n)},Pr.fromBytesLE=function(t,n){return new Pr(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Pr.fromBytesBE=function(t,n){return new Pr(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var iu=Pr;ki(),Vt();var ru=d.pow(2,-52);function uu(t,n,e){return d.min(d.max(t,n),e)}function ou(t,n,e){return t===n||d.abs(t-n)<=e}function su(t,n){for(var e=t,i=n;0!==i;){var r=e%i;e=i,i=r}return e<0?-e:e}function au(){return Date.now()||(new Date).getTime()}function cu(t){return t/1e3}var fu,hu,vu=1/6;iu.fromNumber(9007199254740991);function du(t){return 1===t.Ti}function lu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}ki(),Vt(),Ri(),ki(),Vt(),(hu=fu||(fu={}))[hu.Si=1]="Si",hu[hu.Ei=2]="Ei",hu[hu.Ii=3]="Ii",hu[hu.Ri=4]="Ri",hu[hu.Ni=9]="Ni",ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri();var wu=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];f.apply(this,n)};(wu.prototype=v.create(f.prototype)).constructor=wu;var gu=function(t){function n(n,e){var i;return(i=t.call(this)||this).message=n||"Unknown error",i.cause=e,f.captureStackTrace&&f.captureStackTrace(lu(i),i.constructor),i}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"BaseError"}}]),n}(wu),yu=function(t){function n(n){return t.call(this,"Invalid XML",n)}return Xi(n,t),n}(gu),mu=function(){function t(){}return t.prototype.Oi=function(t){var n,e=new DOMParser;try{n=e.parseFromString(t,"text/xml")}catch(t){throw new yu(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new yu;return new Eu(n)},t}(),_u=function(){function t(t){this.Ci=t}var n=t.prototype;return n.Ai=function(t){return this.Ci.isEqualNode(t.Ci)},n.Di=function(n){return new t(this.Ci.cloneNode(n))},Ii(t,[{key:"Ti",get:function(){return fu.Ei}},{key:"Pi",get:function(){var t;return null!=(t=this.Ci.localName)?t:Nu(this.Ci.nodeName)}},{key:"xi",get:function(){return this.Ci.nodeName}},{key:"Bi",get:function(){var t;return null!=(t=this.Ci.namespaceURI)?t:void 0}},{key:"Li",get:function(){var t;return null!=(t=this.Ci.prefix)?t:void 0}},{key:"Mi",get:function(){return this.Ci.nodeValue}}]),t}(),pu=function(){function t(t){this.Fi=void 0,this.Ui=t}var n=t.prototype;return n.Vi=function(t){return this.Hi.filter((function(n){return Iu(n)&&n.qi===t}))},n.zi=function(t,n){return this.Hi.filter((function(e){return Iu(e)&&e.Pi===n&&e.Bi===t}))},n.Wi=function(t){this.Ui.appendChild(t.ji),this.Fi&&this.Fi.push(t)},n.Ai=function(t){return this.Ui.isEqualNode(t.ji)},Ii(t,[{key:"Hi",get:function(){return void 0===this.Fi&&(this.Fi=function(t){for(var n=[],e=0;e<t.length;e++){var i=Ru(t.item(e));i&&n.push(i)}return n}(this.Ui.childNodes)),this.Fi}},{key:"Gi",get:function(){return this.Hi.filter(Iu)}},{key:"ji",get:function(){return this.Ui}}]),t}(),bu=function(t){function n(n){return t.call(this,n)}Xi(n,t);var e=n.prototype;return e.Yi=function(t){if(this.Ui.hasAttribute(t))return this.Ui.getAttribute(t)},e.Xi=function(t,n){if(this.Ui.hasAttributeNS(t,n))return this.Ui.getAttributeNS(t,n)},e.$i=function(t){this.Ui.removeAttribute(t)},e.Ki=function(t,n){this.Ui.removeAttributeNS(t,n)},e.Ji=function(t,n){this.Ui.setAttribute(t,n)},e.Zi=function(t,n,e){this.Ui.setAttributeNS(t,n,e)},e.Di=function(t){return new n(this.Ui.cloneNode(t))},Ii(n,[{key:"Ti",get:function(){return fu.Si}},{key:"Pi",get:function(){var t;return null!=(t=this.Ui.localName)?t:Nu(this.Ui.nodeName)}},{key:"Bi",get:function(){var t;return null!=(t=this.Ui.namespaceURI)?t:void 0}},{key:"Li",get:function(){var t;return null!=(t=this.Ui.prefix)?t:void 0}},{key:"qi",get:function(){return this.Ui.nodeName}},{key:"Qi",get:function(){return function(t){for(var n=[],e=0;e<t.length;e++)n.push(new _u(t.item(e)));return n}(this.Ui.attributes)}},{key:"tr",get:function(){return this.Ui.textContent}}]),n}(pu),ku=function(){function t(t){this.Ui=t}return t.prototype.Ai=function(t){return this.nr===t.nr},Ii(t,[{key:"nr",get:function(){return this.Ui.nodeValue}},{key:"ji",get:function(){return this.Ui}}]),t}(),Tu=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n.prototype.Di=function(t){return new n(this.Ui.cloneNode(t))},Ii(n,[{key:"Ti",get:function(){return fu.Ii}}]),n}(ku),Su=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n.prototype.Di=function(t){return new n(this.Ui.cloneNode(t))},Ii(n,[{key:"Ti",get:function(){return fu.Ri}}]),n}(ku),Eu=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n.prototype.Di=function(t){return new n(this.Ui.cloneNode(t))},Ii(n,[{key:"Ti",get:function(){return fu.Ni}},{key:"er",get:function(){return new bu(this.Ui.documentElement)}}]),n}(pu);function Iu(t){return du(t)}function Ru(t){switch(t.nodeType){case fu.Si:return new bu(t);case fu.Ii:return new Tu(t);case fu.Ri:return new Su(t)}}function Nu(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function Ou(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function Cu(t,n){var e=function(t,n){var e=t.length;if(e<=1)return t;for(var i=new Array(e),r=1;r<e;r*=2){Au(t,n,r,i);var u=t;t=i,i=u}return t}(t,n);return e!==t&&Au(e,null,t.length,t),t}function Au(t,n,e,i){var r,u,o,s,a,c=t.length,f=0,h=2*e;for(r=0;r<c;r+=h)for(o=(u=r+e)+e,u>c&&(u=c),o>c&&(o=c),s=r,a=u;;)if(s<u&&a<o)n(t[s],t[a])<=0?i[f++]=t[s++]:i[f++]=t[a++];else if(s<u)i[f++]=t[s++];else{if(!(a<o))break;i[f++]=t[a++]}}ki(),Vt();var Du=/[a-zA-Z]/,Pu=/[0-9]/,xu=/[0-9a-fA-F]/,Bu=/^0x/i,Lu=/^[0-9]+$/,Mu=/^[0-9a-fA-F]+$/,Fu=/^[0-7]+$/,Uu=v.prototype.toString,Vu=Array.isArray||function(t){return"[object Array]"===Uu.call(t)},Hu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function qu(t){return Vu(t)?t:Array.from(t)}function zu(t){return t>=65&&t<=90}function Wu(t){return zu(t)||function(t){return t>=97&&t<=122}(t)}function ju(t){return t>=48&&t<=57}function Gu(t){return ju(t)||Wu(t)}function Yu(t){return ju(t)||t>=65&&t<=70||t>=97&&t<=102}function Xu(t){return zu(t)?t+32:t}function $u(t){return ju(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ku(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Ju=d.min,Zu=String.fromCharCode;function Qu(t){for(var n=t.length,e=[],i=0;i<n;i+=16384){var r=Ju(i+16384,n);e.push(Zu.apply(null,t.slice(i,r)))}return e.join("")}var to=2147483647,no=/[^\0-\x7E]/,eo=/[\x2E\u3002\uFF0E\uFF61]/g,io={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ro=d.floor,uo=String.fromCharCode;function oo(t){throw new RangeError(io[t])}function so(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}var ao,co,fo,ho=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},vo=function(t,n,e){var i=0;for(t=e?ro(t/700):t>>1,t+=ro(t/n);t>455;i+=36)t=ro(t/35);return ro(i+36*t/(t+38))},lo=function(t){return function(t,n){var e=t.split("@"),i="";e.length>1&&(i=e[0]+"@",t=e[1]);var r=function(t,n){for(var e=[],i=t.length;i--;)e[i]=n(t[i]);return e}((t=t.replace(eo,".")).split("."),n).join(".");return i+r}(t,(function(t){return no.test(t)?"xn--"+function(t){for(var n=[],e=(t=so(t)).length,i=128,r=0,u=72,o=0,s=t;o<s.length;o++){var a=s[o];a<128&&n.push(uo(a))}var c=n.length,f=c;for(c&&n.push("-");f<e;){for(var h=to,v=0,d=t;v<d.length;v++){var l=d[v];l>=i&&l<h&&(h=l)}var w=f+1;h-i>ro((to-r)/w)&&oo("overflow"),r+=(h-i)*w,i=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<i&&++r>to&&oo("overflow"),m==i){for(var _=r,p=36;;p+=36){var b=p<=u?1:p>=u+26?26:p-u;if(_<b)break;var k=_-b,T=36-b;n.push(uo(ho(b+k%T,0))),_=ro(k/T)}n.push(uo(ho(_,0))),u=vo(r,w,f==c),r=0,++f}}++r,++i}return n.join("")}(t):t}))};function wo(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return Qu(n)}function go(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function yo(t,n){return t>>n&63|128}function mo(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(go(t),n.push(t>>12&15|224),n.push(yo(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(yo(t,12)),n.push(yo(t,6))),n.push(63&t|128)):n.push(t)}function _o(t){for(var n=[],e=0;e<t.length;e++){mo(t[e],n)}return n}function po(){if(fo>=co)throw new f("Invalid byte index");var t=255&ao[fo];if(fo++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function bo(){var t,n;if(fo>co)throw new f("Invalid byte index");if(fo===co)return!1;if(t=255&ao[fo],fo++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|po())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|po()<<6|po())>=2048)return go(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|po()<<12|po()<<6|po())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function ko(t){return[37,Ku(t>>4),Ku(15&t)]}function To(t){return function(t){return t>=0&&t<=31}(t)||t>126}function So(t){return To(t)||32===t||34===t||60===t||62===t||96===t}function Eo(t){return So(t)||35===t||63===t||123===t||125===t}function Io(t){return Eo(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Ro(t){return t<33||t>126||34===t||35===t||60===t||62===t}function No(t){return Ro(t)||39===t}function Oo(t,n){if(!n(t))return[t];for(var e=_o([t]),i=[],r=0;r<e.length;r++){var u=e[r];i.push.apply(i,ko(u))}return i}function Co(t,n){for(var e=[],i=0,r=so(t);i<r.length;i++){var u=r[i];e.push.apply(e,Oo(u,n))}return wo(e)}function Ao(t){return function(t){for(var n=[],e=t.length,i=0;i<e;i++){var r=t[i];if(37===r&&i+2<e&&Yu(t[i+1])&&Yu(t[i+2])){var u=$u(t[i+1])<<4|$u(t[i+2]);n.push(u),i+=2}else n.push(r)}return n}(_o(t))}function Do(t){return wo(function(t){ao=t.slice(),co=ao.length,fo=0;for(var n,e=[];!1!==(n=bo());)e.push(n);return e}(Ao(so(t))))}function Po(t){var n,e,i,r,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new h;c+=2,a=s+=1}for(;c<u;){if(8===s)throw new h("Too many groups");if(":"!==t[c]){for(var f=0,v=0;v<4&&c<u&&xu.test(t[c]);)f=f<<4|l(t[c],16),c+=1,v+=1;if("."===t[c]){if(0===v)throw new h;if(c-=v,s>6)throw new h;for(var d=0;c<u;){var w=null;if(d>0){if(!("."===t[c]&&d<4))throw new h;c+=1}if(!Pu.test(t[c]))throw new h;for(;c<u&&Pu.test(t[c]);){var g=l(t[c],10);if(null===w)w=g;else{if(0===w)throw new h;if((w=10*w+g)>255)throw new h}c+=1}o[s]=o[s]<<8|w,2!==(d+=1)&&4!==d||(s+=1)}if(4!==d)throw new h;break}if(":"===t[c]){if((c+=1)===u)throw new h}else if(c<u)throw new h;o[s]=f,s+=1}else{if(null!==a)throw new h("Too many :: groups");c+=1,a=s+=1}}if(null!==a){var y=s-a;for(s=7;0!==s&&y>0;)i=a+y-1,r=void 0,r=(n=o)[e=s],n[e]=n[i],n[i]=r,s-=1,y-=1}else if(8!==s)throw new h;return o}function xo(t){var n=10,e=Lu;return Bu.test(t)?(t=t.slice(2),n=16,e=Mu):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,e=Fu),""===t?0:e.test(t)?l(t,n):void 0}var Bo={ir:4},Lo=/[\0\t\n\r #%/:?@\[\\\]]/,Mo=/[\0\t\n\r #/:?@\[\\\]]/;function Fo(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{ir:2,rr:Po(t.slice(1,-1))}}if(!n)return function(t){if(Mo.test(t))throw new h("Invalid code point in opaque host");var n=Co(t,To);return""===n?Bo:{ir:3,B:n}}(t);var e=function(t){return function(t){return lo(t.toLowerCase())}(t)}(Do(t));if(Lo.test(e))throw new h("Invalid code point in host");var i=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var e=[],i=0;i<n.length;i++){var r=n[i];if(""===r)return;var u=xo(r);if(void 0===u)return;e.push(u)}for(var o=0;o<e.length-1;o++)if(e[o]>255)throw new h;if(e[e.length-1]>=d.pow(256,5-e.length))throw new h;for(var s=e.pop(),a=0;a<e.length;a++)s+=e[a]*d.pow(256,3-a);return s}}(e);return void 0!==i?{ir:1,rr:i}:""===e?Bo:{ir:0,ur:e}}function Uo(t){switch(t.ir){case 0:return t.ur;case 1:return function(t){for(var n=[],e=t,i=1;i<=4;i++)n.push(""+(255&e)),4!==i&&n.push("."),e>>>=8;return n.reverse().join("")}(t.rr);case 2:return"["+function(t){for(var n="",e=function(t){for(var n=0,e=0,i=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(i=u),r++):(r>e&&(n=i,e=r),r=0);return r>e&&(n=i,e=r),e>1?n:null}(t),i=!1,r=0;r<8;r++){if(i){if(0===t[r])continue;i=!1}e!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",i=!0)}return n}(t.rr)+"]";case 3:return t.B;case 4:return""}}var Vo=/\+/g;function Ho(t){for(var n=t.split("&"),e=[],i=0;i<n.length;i++){var r=n[i];if(""!==r){var u=r.indexOf("="),o=void 0,s=void 0;-1!==u?(o=r.slice(0,u),s=r.slice(u+1)):(o=r,s=""),o=o.replace(Vo," "),s=s.replace(Vo," ");var a=Do(o),c=Do(s);e.push([a,c])}}return e}function qo(t){for(var n="",e=0;e<t.length;e++){var i=t[e];e>0&&(n+="&"),n+=zo(_o(so(i[0])))+"="+zo(_o(so(i[1])))}return n}function zo(t){for(var n,e=[],i=0;i<t.length;i++){var r=t[i];32===r?e.push(43):42===(n=r)||45===n||46===n||95===n||Gu(n)?e.push(r):e.push.apply(e,ko(r))}return Qu(e)}var Wo=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function jo(t){var n=""+t,e=Wo.exec(n);return e?function(t,n){for(var e=t.length,i=[],r=n;r<e;r++){var u=t.charCodeAt(r);if(Yo(u))if(Xo(u)||r===e-1)i.push(Go);else{var o=t.charCodeAt(r+1);Xo(o)?(i.push(u,o),r++):i.push(Go)}else i.push(u)}return t.slice(0,n)+Qu(i)}(n,e.index):n}var Go=65533,Yo=function(t){return 55296==(63488&t)},Xo=function(t){return 0!=(1024&t)};function $o(t,n){var e=t[0],i=n[0];return e===i?0:e<i?-1:1}function Ko(t){t.sr.length=0}function Jo(t,n){!function(t,n){for(var e=0;e<n.length;e++)t[e]=n[e];t.length=n.length}(t.sr,Ho(n))}function Zo(t){if(t.ar){var n=qo(t.sr);""===n&&(n=null),t.ar.ar.cr=n}}var Qo=function(){function t(t){if(void 0===t&&(t=void 0),this.ar=null,null==t)this.sr=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Qo&&Vu(u.sr)&&(!Hu||u[Symbol.iterator]===ts))this.sr=t.sr.slice();else if(function(t){return null!=t&&(!!Vu(t)||!!Hu&&"function"==typeof t[Symbol.iterator])}(t)){this.sr=[];for(var n=0,e=qu(t);n<e.length;n++){var i=qu(e[n]);if(2!==i.length)throw new h("Invalid name-value pair");this.sr.push([jo(i[0]),jo(i[1])])}}else for(var r in this.sr=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.sr.push([jo(r),jo(t[r])]);else(t=jo(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.sr=Ho(t);var u}var n=t.prototype;return n.append=function(t,n){t=jo(t),n=jo(n),this.sr.push([t,n]),Zo(this)},n.delete=function(t){t=jo(t);for(var n=this.sr,e=0;e<n.length;){n[e][0]===t?n.splice(e,1):e++}Zo(this)},n.get=function(t){t=jo(t);for(var n=this.sr,e=0;e<n.length;e++){var i=n[e];if(i[0]===t)return i[1]}return null},n.getAll=function(t){t=jo(t);for(var n=this.sr,e=[],i=0;i<n.length;i++){var r=n[i];r[0]===t&&e.push(r[1])}return e},n.has=function(t){t=jo(t);for(var n=this.sr,e=0;e<n.length;e++){if(n[e][0]===t)return!0}return!1},n.set=function(t,n){t=jo(t),n=jo(n);for(var e=this.sr,i=!1,r=0;r<e.length;){var u=e[r];u[0]===t?i?e.splice(r,1):(u[1]=n,i=!0,r++):r++}i||e.push([t,n]),Zo(this)},n.sort=function(){Cu(this.sr,$o),Zo(this)},n.toString=function(){return qo(this.sr)},n.entries=function(){return new rs(this.sr,ns)},n.keys=function(){return new rs(this.sr,es)},n.values=function(){return new rs(this.sr,is)},n.forEach=function(t){var n=this;this.sr.forEach((function(e){return t(e[1],e[0],n)}))},t}(),ts=Qo.prototype.entries;Hu&&(Qo.prototype[Symbol.iterator]=ts);var ns=function(t){return[t[0],t[1]]},es=function(t){return t[0]},is=function(t){return t[1]},rs=function(){function t(t,n){this.hr=0,this.sr=t,this.dr=n}return t.prototype.next=function(){return this.hr<this.sr.length?{done:!1,value:this.dr(this.sr[this.hr++])}:{done:!0,value:void 0}},t}(),us="null";var os=v.create(null);os.ftp=21,os.file=0,os.gopher=70,os.http=80,os.https=443,os.ws=80,os.wss=443;var ss=/^(?:\.|%2e)$/i,as=/^(?:\.|%2e){2}$/i;function cs(t){return ss.test(t)}function fs(t){return as.test(t)}function hs(t){return void 0!==os[t]}function vs(t){return hs(t.wr)}function ds(t){return""!==t.gr||""!==t.yr}function ls(t){var n=t.length;if(!(n>=2))return!1;if(!gs(t.slice(0,2)))return!1;if(2!==n){var e=t[2];if(47!==e&&92!==e&&63!==e&&35!==e)return!1}return!0}function ws(t){return 2===t.length&&Du.test(t[0])&&(":"===t[1]||"|"===t[1])}function gs(t){return 2===t.length&&ws(Qu(t))}function ys(t){return ws(t)&&":"===t[1]}function ms(t){var n=t.mr;0!==n.length&&("file"===t.wr&&1===n.length&&ys(n[0])||n.pop())}function _s(t){return null===t._r||Bo===t._r||t.pr||"file"===t.wr}var ps=-1,bs=/\t|\n|\r/g,ks=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Ts(t,n,e,i){void 0===e&&(e=null),void 0===i&&(i=null),e||(e=new Es,t=t.replace(ks,""));var r=null!==i?i:0;n=n||null;for(var u=[],o=!1,s=!1,a=!1,c=so(t=t.replace(bs,"")),f=c.length,v=0;v<=f;){var d=v<f?c[v]:ps;switch(r){case 0:if(!Wu(d)){if(null===i){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(Xu(d)),r=1;break;case 1:if(Gu(d)||43===d||45===d||46===d)u.push(Xu(d));else{if(58!==d){if(null===i){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=wo(u);if(null!==i){if(hs(e.wr)&&!hs(w))return;if(!hs(e.wr)&&hs(w))return;if((ds(e)||null!==e.br)&&"file"===w)return;if("file"===e.wr&&(e._r===Bo||null===e._r))return}if(e.wr=w,null!==i)return void(vs(e)&&e.br===os[e.wr]&&(e.br=null));u.length=0,"file"===e.wr?r=13:vs(e)&&n&&n.wr===e.wr?r=3:vs(e)?r=7:47===c[v+1]?(r=4,v+=1):(e.pr=!0,e.mr.push(""),r=18)}break;case 2:if(!n||n.pr&&35!==d)throw new h("Invalid scheme");n.pr&&35===d?(e.wr=n.wr,e.mr=n.mr.slice(),e.cr=n.cr,e.kr="",e.pr=!0,r=20):"file"!==n.wr?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===c[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:e.wr=n.wr,ps===d?(e.gr=n.gr,e.yr=n.yr,e._r=n._r,e.br=n.br,e.mr=n.mr.slice(),e.cr=n.cr):47===d?r=6:63===d?(e.gr=n.gr,e.yr=n.yr,e._r=n._r,e.br=n.br,e.mr=n.mr.slice(),e.cr="",r=19):35===d?(e.gr=n.gr,e.yr=n.yr,e._r=n._r,e.br=n.br,e.mr=n.mr.slice(),e.cr=n.cr,e.kr="",r=20):92===d&&vs(e)?r=6:(e.gr=n.gr,e.yr=n.yr,e._r=n._r,e.br=n.br,e.mr=n.mr.slice(),e.mr.pop(),r=17,v-=1);break;case 6:!vs(e)||47!==d&&92!==d?47===d?r=9:(e.gr=n.gr,e.yr=n.yr,e._r=n._r,e.br=n.br,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==c[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){o&&u.unshift(37,52,48),o=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||a){var m=wo(Oo(y,Io));a?e.yr+=m:e.gr+=m}else a=!0}u.length=0}else if(ps===d||47===d||63===d||35===d||vs(e)&&92===d){if(o&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==i&&"file"===e.wr)v-=1,r=15;else if(58!==d||s)if(ps===d||47===d||63===d||35===d||vs(e)&&92===d){if(v-=1,vs(e)&&0===u.length)throw new h("Invalid host");if(null!==i&&0===u.length&&(ds(e)||null!==e.br))return;var _=Fo(wo(u),vs(e));if(e._r=_,u.length=0,r=16,null!==i)return}else 91===d?s=!0:93===d&&(s=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=Fo(wo(u),vs(e));if(e._r=p,u.length=0,r=12,11===i)return}break;case 12:if(ju(d))u.push(d);else{if(!(ps===d||47===d||63===d||35===d||vs(e)&&92===d||null!==i))throw new h("Invalid port");if(0!==u.length){var b=l(wo(u),10);if(b>65535)throw new h("Invalid port");e.br=b===os[e.wr]?null:b,u.length=0}if(null!==i)return;r=16,v-=1}break;case 13:e.wr="file",47===d||92===d?r=14:n&&"file"===n.wr?ps===d?(e._r=n._r,e.mr=n.mr.slice(),e.cr=n.cr):63===d?(e._r=n._r,e.mr=n.mr.slice(),e.cr="",r=19):35===d?(e._r=n._r,e.mr=n.mr.slice(),e.cr=n.cr,e.kr="",r=20):(ls(c.slice(v))||(e._r=n._r,e.mr=n.mr.slice(),ms(e)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.wr&&!ls(c.slice(v))&&(ys(n.mr[0])?e.mr.push(n.mr[0]):e._r=n._r),r=17,v-=1);break;case 15:if(ps===d||47===d||92===d||63===d||35===d)if(v-=1,null===i&&gs(u))r=17;else if(0===u.length){if(e._r=Bo,null!==i)return;r=16}else{var k=Fo(wo(u),vs(e));if(0===k.ir&&"localhost"===k.ur&&(k=Bo),e._r=k,null!==i)return;u.length=0,r=16}else u.push(d);break;case 16:vs(e)?(r=17,47!==d&&92!==d&&(v-=1)):null===i&&63===d?(e.cr="",r=19):null===i&&35===d?(e.kr="",r=20):ps!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(ps===d||47===d||vs(e)&&92===d||null===i&&(63===d||35===d)){var T=wo(u);if(fs(T)?(ms(e),47===d||vs(e)&&92===d||e.mr.push("")):!cs(T)||47===d||vs(e)&&92===d?cs(T)||("file"===e.wr&&0===e.mr.length&&gs(u)&&(Bo!==e._r&&null!==e._r&&(e._r=Bo),u[1]=58,T=wo(u)),e.mr.push(T)):e.mr.push(""),u.length=0,"file"===e.wr&&(ps===d||63===d||35===d))for(;e.mr.length>1&&""===e.mr[0];)e.mr.shift();63===d?(e.cr="",r=19):35===d&&(e.kr="",r=20)}else u.push.apply(u,Oo(d,Eo));break;case 18:63===d?(e.cr="",r=19):35===d?(e.kr="",r=20):ps!==d&&(e.mr[0]+=wo(Oo(d,To)));break;case 19:null===i&&35===d?(e.kr="",r=20):ps!==d&&(e.cr+=wo(Oo(d,vs(e)?No:Ro)));break;case 20:ps===d||0===d||(e.kr+=wo(Oo(d,So)))}v++}return e}function Ss(t,n,e,i){try{Ts(t,n,e,i)}catch(t){}}var Es=function(){this.wr="",this.gr="",this.yr="",this._r=null,this.br=null,this.mr=[],this.cr=null,this.kr=null,this.pr=!1};function Is(t){switch(t.wr){case"blob":var n;try{n=Ts(t.mr[0],null)}catch(t){return us}return Is(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return e=t.wr,i=t._r,r=t.br,e+"://"+Uo(i)+(null===r?"":":"+r);case"file":default:return us}var e,i,r}var Rs,Ns=function(){function t(t,n){var e,i,r=null;if(null!=n)if(null!=(e=n)&&e instanceof Ns&&"object"==typeof e.ar)r=n.ar;else try{r=Ts(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{i=Ts(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var u=i.cr;this.ar=i,this.cr=function(t){var n=new Qo;return null!==t&&Jo(n,t),n}(u),this.cr.ar=this}var n,e,i,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(e=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var e=t.wr+":";if(null!==t._r?(e+="//",ds(t)&&(e+=t.gr,""!==t.yr&&(e+=":"+t.yr),e+="@"),e+=Uo(t._r),null!==t.br&&(e+=":"+t.br)):null===t._r&&"file"===t.wr&&(e+="//"),t.pr)e+=t.mr[0];else for(var i=0,r=t.mr;i<r.length;i++)e+="/"+r[i];return null!==t.cr&&(e+="?"+t.cr),n||null===t.kr||(e+="#"+t.kr),e}(this.ar)},set:function(t){var n;try{n=Ts(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.ar=n,Ko(this.cr);var e=this.ar.cr;null!==e&&Jo(this.cr,e)}},{key:"origin",get:function(){return Is(this.ar)}},{key:"protocol",get:function(){return this.ar.wr+":"},set:function(t){Ss(t+":",null,this.ar,0)}},{key:"username",get:function(){return this.ar.gr},set:function(t){_s(this.ar)||(this.ar.gr=Co(t,Io))}},{key:"password",get:function(){return this.ar.yr},set:function(t){_s(this.ar)||(this.ar.yr=Co(t,Io))}},{key:"host",get:function(){var t=this.ar,n=t._r;if(null===n)return"";var e=t.br,i=Uo(n);return null!==e&&(i+=":"+e),i},set:function(t){this.ar.pr||Ss(t,null,this.ar,10)}},{key:"hostname",get:function(){var t=this.ar._r;return null===t?"":Uo(t)},set:function(t){this.ar.pr||Ss(t,null,this.ar,11)}},{key:"port",get:function(){var t=this.ar.br;return null===t?"":""+t},set:function(t){_s(this.ar)||(""===t?this.ar.br=null:Ss(t,null,this.ar,12))}},{key:"pathname",get:function(){var t=this.ar.mr;return this.ar.pr?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ar.pr||(this.ar.mr.length=0,Ss(t,null,this.ar,16))}},{key:"search",get:function(){var t=this.ar.cr;return null===t||""===t?"":"?"+t},set:function(t){t=jo(t);var n=this.ar;if(""===t)return n.cr=null,void Ko(this.cr);"?"===t[0]&&(t=t.slice(1)),n.cr="",Ss(t,null,n,19),Jo(this.cr,t)}},{key:"searchParams",get:function(){return this.cr}},{key:"hash",get:function(){var t=this.ar.kr;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ar.kr="",Ss(t,null,this.ar,20)):this.ar.kr=null}}])&&Ou(n.prototype,e),i&&Ou(n,i),t}();function Os(t){return t.document&&t.document.baseURI||t.location.href||""}function Cs(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function As(t,n){var e=n.style;if(e)for(var i in t)e[i]=t[i]}function Ds(){return void 0!==i?i.createElement("video"):void 0}function Ps(){return Rs||(Rs=Ds()),Rs}ki(),Vt(),Ti(),Ti(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var xs=!!("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Bs=Ps(),Ls=!(!Bs||!Bs.webkitShowPlaybackTargetPicker),Ms=function(){function t(){this.Tr=void 0,this.Sr=!1,this.Ce=xs,this.je=!1,this.Er=!0}var n=t.prototype;return n.Ir=function(){return 0},n.Rr=function(t,n){return!0},n.Nr=function(t){return t>=2*vu},Ii(t,[{key:"Or",get:function(){return void 0===this.Tr&&(this.Tr=this.Ir()),this.Tr}},{key:"Cr",get:function(){return!sr.vi}},{key:"Ar",get:function(){if(e.screen)return{width:e.screen.width,height:e.screen.height}}},{key:"Dr",get:function(){return e.devicePixelRatio||1}},{key:"Pr",get:function(){return Ls}},{key:"Br",get:function(){return!1}},{key:"Lr",get:function(){return!0}},{key:"Mr",get:function(){return sr.si||sr.He}},{key:"Fr",get:function(){return!0}},{key:"Ur",get:function(){return!0}},{key:"Vr",get:function(){return!1}},{key:"Hr",get:function(){}},{key:"qr",get:function(){return!0}},{key:"zr",get:function(){return!1}},{key:"Wr",get:function(){return!1}},{key:"jr",get:function(){return sr.ti}}]),t}();ki(),Vt();var Fs=function(){var t=Ds();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(sr.Ue)return!1;var t=Ds();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Us=function(t){function n(n){var e;return(e=t.call(this)||this).Gr=n,e.Gr&&(e.Sr=e.Gr.Sr,e.Ce=e.Gr.Ce,e.Er=Fs&&e.Gr.Er),e}Xi(n,t);var e=n.prototype;return e.Ir=function(){return this.Gr?this.Gr.Or:t.prototype.Ir.call(this)},e.Rr=function(n,e){return this.Gr?this.Gr.Rr(n,e):t.prototype.Rr.call(this,n,e)},e.Nr=function(n){return this.Gr?this.Gr.Nr(n):t.prototype.Nr.call(this,n)},Ii(n,[{key:"Hr",get:function(){var t;return null==(t=this.Gr)?void 0:t.Hr}},{key:"qr",get:function(){var t,n;return null==(n=null==(t=this.Gr)?void 0:t.qr)||n}}]),n}(Ms),Vs=function(t){function n(n){var e;return(e=t.call(this,n)||this).Sr=!0,e.je=!0,e}return Xi(n,t),Ii(n,[{key:"Vr",get:function(){return sr.He}}]),n}(Us);Ti();var Hs=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Ir=function(){return mi.MediaSource?t.prototype.Ir.call(this):1},Ii(n,[{key:"Vr",get:function(){return!0}}]),n}(Vs);ki(),Vt(),Ri();var qs=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Rr=function(n,e){return t.prototype.Rr.call(this,n,e)},Ii(n,[{key:"Br",get:function(){return sr.Ze<3}},{key:"Lr",get:function(){return sr.Ze>=3}},{key:"Ar",get:function(){var t=this;return e.tizen&&!this.Yr&&e.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var e=n.resolutionWidth,i=n.resolutionHeight;1===e&&1===i||(t.Yr={width:e,height:i})})),this.Yr}},{key:"zr",get:function(){return sr.Ze<3}},{key:"Wr",get:function(){return!0}}]),n}(Us);ki(),Vt();var zs=function(t){function n(){return t.call(this)}return Xi(n,t),n}(Ms);ki(),Vt(),Ri();var Ws=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Rr=function(t,n){if(t&&t.Xr&&n&&n.Xr){var e=js(t.Xr,"mp4a.40.2")&&js(n.Xr,"mp4a.40.5"),i=js(t.Xr,"mp4a.40.5")&&js(n.Xr,"mp4a.40.2"),r=js(t.Xr,"mp4a.40.2")&&js(n.Xr,"mp4a.40.34"),u=js(t.Xr,"mp4a.40.34")&&js(n.Xr,"mp4a.40.2"),o=js(t.Xr,"mp4a.40.5")&&js(n.Xr,"mp4a.40.34"),s=js(t.Xr,"mp4a.40.34")&&js(n.Xr,"mp4a.40.5");return!(e||i||r||u||o||s)}return!0},Ii(n,[{key:"Hr",get:function(){if(sr.Ae)return 4096}}]),n}(zs);function js(t,n){return t.indexOf(n)>-1}ki(),Vt();var Gs=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Nr=function(t){return t>=2},n}(zs);ki(),Vt();var Ys=function(t){function n(){var n;return(n=t.call(this)||this).Sr=sr.ai>=11,n.Er=sr.si&&!(sr.He&&sr.ai<10),n}return Xi(n,t),n}(zs);ki(),Vt(),Ri();var Xs=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),Ii(n,[{key:"Ar",get:function(){var t=this;return e.webOS&&!this.Yr&&e.webOS.deviceInfo((function(n){t.Yr={width:n.screenWidth,height:n.screenHeight}})),this.Yr}},{key:"Fr",get:function(){return!1}},{key:"Wr",get:function(){return!0}}]),n}(Us);ki(),Vt(),Ri();var $s=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),Ii(n,[{key:"qr",get:function(){return!sr.De||(sr.$e?92!==sr.Ke:sr.Xe>=100)}}]),n}(zs);ki(),Vt(),Ri();var Ks=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),Ii(n,[{key:"Vr",get:function(){return!0}}]),n}(Us),Js=function(){function n(){var n;this.$r=new mu,this.Kr=new Zs,this.Jr=(n=sr.ui?new Ws:sr.ni||sr.ei?new Gs:sr.si?new Ys:sr.Ye?new $s:new zs,sr.He?new Hs(n):sr.je?new Vs(n):sr.Je?new qs(n):sr.Qe?new Xs(n):sr.Ae?new Ks(n):new Us(n)),this.Zr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Qr=function(){return t.performance.now()}:this.Qr=au}var e=n.prototype;return e.tu=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Nr.apply(void 0,Bi(n))},e.nu=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Or.apply(void 0,Bi(n))},e.eu=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Cr.apply(void 0,Bi(n))},e.iu=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];Ar.apply(void 0,[t].concat(Bi(e)))},e.ru=function(t,n){return o(t,n)},e.uu=function(t,n){return a(t,n)},e.ou=function(t){s(t)},e.su=function(t){c(t)},e.Oi=function(t){return this.$r.Oi(t)},e.au=function(){return this.cu.au()},e.fu=function(){return this.cu.fu()},e.hu=function(){return this.cu.hu()},e.vu=function(){return this.cu.vu()},e.du=function(){return this.cu.du()},e.lu=function(t,n){return this.cu.lu(t,n)},e.wu=function(t){return this.cu.wu(t)},e.gu=function(t,n){var e;return void 0===n&&(n=Os(mi)),e="object"!=typeof n||n instanceof Ns?n:n.href,new Ns(t,e)},e.yu=function(n,e){if(void 0===e&&(e=Os(mi)),this.Zr){var i=gr(e)?e:e.toString();return new t.URL(n,i).href}return this.gu(n,e).href},Ii(n,[{key:"mu",get:function(){return this.Kr}},{key:"_u",get:function(){return this.Jr}},{key:"pu",get:function(){return{bu:u&&u.userAgent.match(/Android /i)?"Android":"other",ku:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Tu",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Su",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),Zs=function(){function t(){}return Ii(t,[{key:"Eu",get:function(){return u.oscpu}},{key:"_u",get:function(){return u.platform}},{key:"Iu",get:function(){return u.vendor}},{key:"Ru",get:function(){return u.vendorSub}}]),t}();function Qs(t,n,e,i,r,u,o){try{var s=t[u](o),a=s.value}catch(t){return void e(t)}s.done?n(a):G.resolve(a).then(i,r)}function ta(t){return function(){var n=this,e=arguments;return new G((function(i,r){var u=t.apply(n,e);function o(t){Qs(u,i,r,o,s,"next",t)}function s(t){Qs(u,i,r,o,s,"throw",t)}o(void 0)}))}}function na(){return(na=v.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)v.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}function ea(t,n){var e,i,r,u,o=function(t){return function(n){return s([t,n])}},s=function(u){if(e)throw new h("Generator is already executing.");for(;a;)try{if(e=1,i&&(r=2&u[0]?i.return:u[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,u[1])).done)return r;switch(i=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){a.label=u[1];break}if(6===u[0]&&a.label<r[1]){a.label=r[1],r=u;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(u);break}r[2]&&a.ops.pop(),a.trys.pop();continue}u=n.call(t,a)}catch(t){u=[6,t],i=0}finally{e=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}},a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function ia(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,r,u=[],o=!0,s=!1;try{for(e=e.call(t);!(o=(i=e.next()).done)&&(u.push(i.value),!n||u.length!==n);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==e.return||e.return()}finally{if(s)throw r}}return u}}(t,n)||Pi(t,n)||function(){throw new h("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(){var t=v.create(null);return t.Nu=void 0,delete t.Nu,t}function ua(){return new aa}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),xi();var oa,sa="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,aa=sa||(oa=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=v.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ra(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ra(),this.size=0},n.keys=function(){return new oa(this.data,(function(t,n){return n}))},n.values=function(){return new oa(this.data,(function(t,n){return t[n]}))},n.entries=function(){return new oa(this.data,(function(t,n){return[n,t[n]]}))},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var ca,fa,ha,va=sa||(ca=function(){function t(t,n){this.Ou=t,this.Cu=n}return t.prototype.next=function(){var t=this.Ou.next();return t.done?t:{value:this.Cu(t.value),done:!1}},t}(),function(){function t(){this.Au=ua()}var n=t.prototype;return n.get=function(t){return this.Au.get(""+t)},n.set=function(t,n){return this.Au.set(""+t,n),this},n.has=function(t){return this.Au.has(""+t)},n.delete=function(t){return this.Au.delete(""+t)},n.clear=function(){this.Au.clear()},n.keys=function(){return new ca(this.Au.keys(),(function(t){return Number(t)}))},n.values=function(){return this.Au.values()},n.entries=function(){return new ca(this.Au.entries(),(function(t){var n=ia(t,2),e=n[0],i=n[1];return[Number(e),i]}))},n.forEach=function(t){this.Au.forEach((function(n,e){t(n,Number(e))}))},Ii(t,[{key:"size",get:function(){return this.Au.size}}]),t}());Ti(),ki(),Vt(),ki(),Vt(),(ha=fa||(fa={})).Du="9a04f079-9840-4286-ab92-e65be0885f95",ha.Pu="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ha.xu="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ha.Bu="94ce86fb-07ff-4f43-adb8-93d2fa968ca2";var da,la,wa="cenc",ga="sinf",ya="skd",ma="9a04f079-9840-4286-ab92-e65be0885f95",_a="urn:uuid:"+ma,pa="com.microsoft.playready",ba="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ka="urn:uuid:"+ba,Ta="com.widevine.alpha",Sa="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Ea="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Ia="urn:uuid:"+Ea,Ra="com.apple.fps.1_0";ki(),Vt(),(la=da||(da={})).Du="playready",la.Pu="widevine",la.Bu="fairplay",la.xu="clearkey",la.Lu="aes128";var Na={Mu:da.Du,Fu:pa,Uu:"cenc",Vu:ma,Hu:_a,qu:"PlayReady"},Oa={Mu:da.Pu,Fu:Ta,Uu:"cenc",Vu:ba,Hu:ka,qu:"Widevine"},Ca={Mu:da.Bu,Fu:Ra,Uu:"skd",Vu:Ea,Hu:Ia,qu:"FairPlay"},Aa=(da.Bu,{Mu:da.xu,Fu:"org.w3.clearkey",Uu:"cenc",Vu:Sa,Hu:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",qu:"ClearKey"});function Da(t,n,e){return t.split(n).join(e)}function Pa(t,n){return null!=t&&-1!==t.indexOf(n)}function xa(t,n){return null!=t&&t.substr(0,n.length)===n}function Ba(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function La(t,n){return t.toUpperCase()===n.toUpperCase()}function Ma(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return Ua(n)}ki(),Vt(),Mi();var Fa=16384;function Ua(t){var n,e=t.length;if(e<=Fa)return(n=String).fromCharCode.apply(n,Bi(t));for(var i=[],r=0;r<e;r+=Fa){var u;i.push((u=String).fromCharCode.apply(u,Bi(t.slice(r,r+Fa))))}return i.join("")}var Va=sr.Ye&&sr.Xe>=42||sr.ui&&sr.oi>=38||sr.ni||sr.ii||sr.ci&&sr.fi>=29;function Ha(t,n){return Pa(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[na({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[na({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var qa,za,Wa=function(){function t(t){this.zu=ua(),this.Wu=void 0,this.ju=t}var n=t.prototype;return n.du=function(){return this.wu(Oa)},n.fu=function(){return this.wu(Aa)},n.vu=function(){return this.wu(Na)},n.hu=function(){return this.wu(Ca)},n.wu=function(t){var n=t.Hu,e=this.zu.get(n);if(e)return e;var i=this.lu(t,'video/mp4; codecs="avc1.42000a"');return this.zu.set(n,i),i},n.lu=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,e.ju.Gu(t.Fu,[Ha(n,!0)])];case 1:return i.sent(),[2,!0];case 2:i.sent(),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,e.ju.Gu(t.Fu,[Ha(n,!1)])];case 4:return i.sent(),[2,!0];case 5:return i.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.au=function(){return this.Wu||(this.Wu=this.Yu()),this.Wu},n.Yu=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return"https:"===_i.protocol?[2,!1]:Va?[4,t.fu()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function ja(t,n){var e=function(t,n){var e=t,i=e.length;if(i<=1)return e;for(var r=new Array(i),u=1;u<i;u*=2){Ga(e,n,u,r);var o=e;e=r,r=o}return e}(t,n);return e!==t&&Ga(e,void 0,t.length,t),t}function Ga(t,n,e,i){var r,u,o,s,a,c=t.length,f=0,h=2*e;for(u=0;u<c;u+=h)for(r=(o=u+e)+e,o>c&&(o=c),r>c&&(r=c),s=u,a=o;;)if(s<o&&a<r)n&&n(t[s],t[a])<=0?i[f++]=t[s++]:i[f++]=t[a++];else if(s<o)i[f++]=t[s++];else{if(!(a<r))break;i[f++]=t[a++]}}ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(za=qa||(qa={}))[za.Xu=0]="Xu",za[za.$u=1]="$u",za[za.Ku=-1]="Ku";var Ya=function(t,n){return(0|t)-(0|n)},Xa=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1};function $a(t,n,e){return ou(t,n,e)?0:Xa(t,n)}var Ka=function(t,n){return function(t,n){if(t===n)return!0;var e=d.abs(t-n);return e<ru||e<d.max(d.abs(t),d.abs(n))*ru}(t,n)?0:Xa(t,n)};function Ja(t,n,e){var i=function(t,n,e){for(var i=0;i<t.length;i+=1){var r=t[i];if(n.call(e,r,i,t))return i}return-1}(t,n,e);return-1===i?void 0:t[i]}function Za(t,n,e){var i=function(t,n,e){for(var i=t.length-1;i>=0;i-=1){var r=t[i];if(n.call(e,r,i,t))return i}return-1}(t,n,e);return-1===i?void 0:t[i]}function Qa(t,n){var e=t.indexOf(n);return-1!==e&&(tc(t,e),!0)}function tc(t,n){t.splice(n,1)}function nc(t,n){return-1!==t.indexOf(n)}function ec(t){t.length=0}ki(),Vt(),Ri(),ki(),Vt(),Ri();var ic=function(){function t(){this.Ju=!1,this.Zu=!1,this.Qu=[],this.eo=[]}var n=t.prototype;return n.io=function(){if(!this.Ju&&!this.Zu){this.Ju=!0;for(var t=0,n=this.Qu.slice();t<n.length;t++){(0,n[t])()}this.ro()}},n.ro=function(){if(!this.Zu){this.Zu=!0;for(var t=0,n=this.eo.slice();t<n.length;t++){(0,n[t])()}ec(this.Qu),ec(this.eo)}},n.uo=function(t){this.Zu||this.Qu.push(t)},n.oo=function(t){this.Zu||Qa(this.Qu,t)},n.so=function(t){this.Zu||this.eo.push(t)},n.ao=function(t){this.Zu||Qa(this.eo,t)},t}(),rc=function(){function t(){this.co=new ic}var n=t.prototype;return n.fo=function(){this.co.io()},n.ro=function(){this.co.ro()},n.ho=function(t){var n=this.co;if(!n.Ju)if(t.Ju)n.io();else if(!n.Zu&&!t.Zu){var e=function(){i(),n.io()},i=function(){t.oo(e),t.ao(i),n.oo(e),n.ao(i)};t.uo(e),t.so(i),n.uo(e),n.so(i)}},n.vo=function(){var n=new t,e=new t,i=n.do,r=e.do,u=this.co,o=function(){i.Ju&&r.Zu||r.Ju&&i.Zu?u.io():i.Zu&&r.Zu&&u.ro()};i.uo(o),r.uo(o),i.so(o),r.so(o),n.ho(u),e.ho(u);return u.so((function(){i.oo(o),r.oo(o),i.ao(o),r.ao(o)})),[n,e]},Ii(t,[{key:"do",get:function(){return this.co}}]),t}(),uc=function(t){function n(n,e){return t.call(this,n||"Aborted",e)}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"AbortError"}}]),n}(gu);function oc(t){return t instanceof f&&"AbortError"===t.name}function sc(t){if(t&&t.Ju)throw new uc}function ac(t){if(oc(t))throw t}function cc(t){if(!oc(t))throw t}function fc(t,n){return n?new G((function(e,i){if(n.Ju)return t.catch(pr),i(new uc);var r=function(){n.oo(r),i(new uc)};n.uo(r),t.then((function(t){n.oo(r),e(t)}),(function(t){n.oo(r),i(t)}))})):t}function hc(t,n){return t.then((function(t){return n.ro(),t}),(function(t){throw n.ro(),t}))}ki(),Vt();var vc=G.resolve();function dc(t){vc.then(t)}function lc(t){t.then(pr,pr)}function wc(t){return gc.apply(this,arguments)}function gc(){return(gc=ta((function(t){var n;return ea(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,G.all(t)];case 1:return[2,e.sent()];case 2:return n=e.sent(),[4,G.all(t.map((function(t){return t.catch(pr)})))];case 3:throw e.sent(),n;case 4:return[2]}}))}))).apply(this,arguments)}function yc(t,n){return new G((function(e,i){if(void 0!==n&&n.Ju)i(new uc);else{var r=Wi.ru((function(){void 0!==n&&n.oo(u),e()}),t),u=function(){Wi.ou(r),i(new uc)};void 0!==n&&n.uo(u)}}))}function mc(t){return t&&"function"!=typeof t?t.slice():t}function _c(t,n,e){if(e)if("function"==typeof e)e.call(t,n);else for(var i=0;i<e.length;i++){e[i].call(t,n)}}var pc=function(){function t(t){var n=this;this.lo=ra(),this.wo=void 0,this.yo=function(t){n.mo(t)},this._o=t||this}var n=t.prototype;return n.po=function(t,n){if("function"==typeof n)if("string"==typeof t)this.bo(t,n);else for(var e=0;e<t.length;e++){var i=t[e];this.bo(i,n)}},n.bo=function(t,n){var e=this.lo[t];e?"function"==typeof e?this.lo[t]=[e,n]:e.push(n):this.lo[t]=n},n.ko=function(t){if("function"==typeof t){var n=this.wo;n?"function"==typeof n?this.wo=[n,t]:n.push(t):this.wo=t}},n.To=function(){this.lo=ra(),this.wo=void 0},n.mo=function(t){var n=mc(this.lo[t.type]),e=mc(this.wo);_c(this._o,t,n),_c(this._o,t,e)},n.So=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Eo(t,n);else for(var e=0;e<t.length;e++){var i=t[e];this.Eo(i,n)}},n.Eo=function(t,n){var e=this.lo[t];e&&("function"==typeof e?e===n&&(this.lo[t]=void 0):Qa(e,n))},n.Io=function(t){if("string"==typeof t)this.lo[t]=void 0;else for(var n=0;n<t.length;n++){var e=t[n];this.lo[e]=void 0}},n.Ro=function(t){var n=this.wo;n&&("function"==typeof n?n===t&&(this.wo=void 0):Qa(n,t))},n.No=function(t,n){var e=this;return new G((function(i,r){if(n&&n.Ju)return r(new uc);var u=function(t){s(),i(t)},o=function(){s(),r(new uc)},s=function(){e.So(t,u),n&&n.oo(o)};e.po(t,u),n&&n.uo(o)}))},t}(),bc=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.mo=function(n){var e=this;dc((function(){t.prototype.mo.call(e,n)}))},n}(pc);ki(),Vt(),ki(),Vt();var kc,Tc,Sc=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ec=["cenc"],Ic=["cbcs","cbcs-1-9"],Rc=function(t){function n(n){var e;return(e=t.call(this,"Co")||this).Oo=n,e}return Xi(n,t),n}(Sc),Nc=function(t){function n(n,e,i,r){var u;return(u=t.call(this,"Ao")||this).Oo=n,u.Do=e,u.Ao=i,u.Po=r,u}return Xi(n,t),n}(Sc),Oc=function(t){function n(){return t.call(this,"xo")}return Xi(n,t),n}(Sc);(Tc=kc||(kc={})).Bo="Lo",Tc.Mo="Fo";var Cc=function(t){function n(n,e){var i;return(i=t.call(this,"Lo")||this).Uu=n,i.Uo=e,i}return Xi(n,t),n}(Sc);ki(),Vt(),Ri();var Ac=new y([0]).buffer,Dc=function(){function t(){this.Vo=[]}var n=t.prototype;return n.Ho=function(t){for(var n=0,e=this.Vo;n<e.length;n++){if(e[n][0]===t)return!0}return!1},n.qo=function(t){for(var n=0,e=this.Vo;n<e.length;n++){var i=e[n];if(i[0]===t)return i[1]}},n.zo=function(t,n){this.Vo.forEach((function(n){return t(n[1],n[0])}),n)},n.Wo=function(t,n){this.Vo.push([t,n])},n.jo=function(){ec(this.Vo)},Ii(t,[{key:"Go",get:function(){return this.Vo.length}}]),t}();ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var Pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),xc=/[\t\n\f\r ]/g;function Bc(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Lc()}function Lc(){throw new f("Invalid base64 input")}function Mc(t){var n=t;xc.test(n)&&(n=n.replace(xc,""));var e=n.length;e%4==0&&e>=1&&"="===n[e-1]&&(e>=2&&"="===n[e-2]?e-=2:e-=1,n=n.substr(0,e));var i=e%4;if(1===i)return Lc();for(var r,u=0===i?0:4-i,o=new y(function(t,n){return 3*(t+n)/4-n}(e,u)),s=u>0?e-4:e,a=0,c=0;a<s;a+=4)r=Bc(n.charCodeAt(a))<<18|Bc(n.charCodeAt(a+1))<<12|Bc(n.charCodeAt(a+2))<<6|Bc(n.charCodeAt(a+3)),o[c++]=r>>16&255,o[c++]=r>>8&255,o[c++]=255&r;return 2===u?(r=Bc(n.charCodeAt(a))<<2|Bc(n.charCodeAt(a+1))>>4,o[c++]=255&r):1===u&&(r=Bc(n.charCodeAt(a))<<10|Bc(n.charCodeAt(a+1))<<4|Bc(n.charCodeAt(a+2))>>2,o[c++]=r>>8&255,o[c++]=255&r),o}function Fc(t,n,e){for(var i,r,u,o=[],s=n;s<e;s+=3)o.push((i=t[s],r=t[s+1],u=t[s+2],Pc[i>>2]+Pc[(3&i)<<4|r>>4]+Pc[(15&r)<<2|u>>6]+Pc[63&u]));return o.join("")}function Uc(t){for(var n=t.length,e=n%3,i=[],r=n-e,u=0;u<r;u+=16383)i.push(Fc(t,u,d.min(r,u+16383)));if(1===e){var o=t[n-1];i.push(Pc[o>>2]+Pc[(3&o)<<4]+"==")}else if(2===e){var s=t[n-2],a=t[n-1];i.push(Pc[s>>2]+Pc[(3&s)<<4|a>>4]+Pc[(15&a)<<2]+"=")}return i.join("")}var Vc=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Hc=ArrayBuffer.isView||function(t){return t&&nc(Vc,cr.call(t))};function qc(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var e=0;e<t.length;e+=1)if(t[e]!==n[e])return!1;return!0}(new y(t),new y(n))}function zc(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return function(t,n){for(var e=new y(n),i=0,r=0;r<t.length;r++){var u=t[r];e.set(u,i),i+=u.byteLength}return e}(t,n)}function Wc(t){return Mc(t).buffer}function jc(t){return Uc(new y(t))}function Gc(t){return Uc(yf(t))}ki(),Vt(),Ri();var Yc=function(){function t(t){void 0===t&&(t=0),this.Yo=t}var n=t.prototype;return n.Xo=function(t){this.Yo+=t},n.$o=function(t){this.Yo=t},n.Ko=function(){return new t(this.Jo)},Ii(t,[{key:"Jo",get:function(){return this.Yo}}]),t}();function Xc(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function $c(t,n){return t>>n&63|128}function Kc(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Xc(t),n.push(t>>12&15|224),n.push($c(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push($c(t,12)),n.push($c(t,6))),n.push(63&t|128)):n.push(t)}function Jc(t,n){if(n.Jo>=t.length)throw new f("Invalid byte index");var e=255&t[n.Jo];if(n.Xo(1),128==(192&e))return 63&e;throw new f("Invalid continuation byte")}function Zc(t,n){var e=n.Jo;if(e>t.length)throw new f("Invalid byte index");if(e===t.length)return!1;var i=255&t[e];if(n.Xo(1),0==(128&i))return i;if(192==(224&i)){var r=(31&i)<<6|Jc(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&i)){var u=(15&i)<<12|Jc(t,n)<<6|Jc(t,n);if(u>=2048)return Xc(u),u;throw new f("Invalid continuation byte")}if(240==(248&i)){var o=(7&i)<<18|Jc(t,n)<<12|Jc(t,n)<<6|Jc(t,n);if(o>=65536&&o<=1114111)return o}throw new f("Invalid UTF-8 detected")}ki(),Vt(),ki(),Vt();var Qc=function(){function t(t){this.Zo=t}return t.prototype.Qo=function(t){return function(t,n){return(t&n)===n}(this.Zo,t)},t}();function tf(t,n){var e=t.getUint8(n.Jo);return n.Xo(1),e}function nf(t,n,e){t.setUint8(n.Jo,e),n.Xo(1)}function ef(t,n,e){var i=Tf(Ef(t),n.Jo,n.Jo+e);return n.Xo(i.byteLength),i}function rf(t,n,e){return n.Jo+e<=t.byteLength}function uf(t,n,e){void 0===e&&(e=!1);var i=t.getUint16(n.Jo,e);return n.Xo(2),i}function of(t,n,e,i){void 0===i&&(i=!1),t.setUint16(n.Jo,e,i),n.Xo(2)}function sf(t,n,e){void 0===e&&(e=!1);var i=t.getUint32(n.Jo,e);return n.Xo(4),i}function af(t,n,e,i){void 0===i&&(i=!1),t.setUint32(n.Jo,e,i),n.Xo(4)}function cf(t,n,e){void 0===e&&(e=!1);var i=sf(t,n,e),r=sf(t,n,e),u=e?r:i,o=e?i:r;return iu.fromBits(o,u,!0)}function ff(t,n){return function(t,n){return df(t,n,!0)}(t,n)}function hf(t,n,e){return Ua(Cf(ef(t,n,e)))}function vf(t,n){var e,i=tf(t,n);return 0==(128&i)?e=i:192==(224&i)?e=64*(31&i)+(63&tf(t,n)):224==(240&i)?e=4096*(15&i)+64*(63&tf(t,n))+(63&tf(t,n)):240==(248&i)&&(e=262144*(7&i)+4096*(63&tf(t,n))+64*(63&tf(t,n))+(63&tf(t,n))),e}function df(t,n,e){for(var i=[];n.Jo<t.byteLength;){var r=tf(t,n);if(e&&!r)break;i.push(r)}return Ua(i)}function lf(t,n,e,i){for(var r=[];n.Jo+2<=t.byteLength;){var u=uf(t,n,e);if(i&&!u)break;r.push(u)}return Ua(r)}function wf(t,n,e,i){void 0===i&&(i=!1);for(var r=e.length,u=0;u<r;u+=1){of(t,n,e.charCodeAt(u),i)}}function gf(t){return df(Sf(t),new Af,!1)}function yf(t){var n=new y(t.length);return function(t,n,e){for(var i=e.length,r=0;r<i;r+=1)nf(t,n,e.charCodeAt(r))}(Sf(n),new Af,t),n}function mf(t,n){return void 0===n&&(n=!1),lf(Sf(t),new Af,n,!1)}function _f(t,n){void 0===n&&(n=!1);var e=new y(2*t.length);return wf(Sf(e),new Af,t,n),e}function pf(t,n){return function(t,n,e){var i=[];(function(t,n){return n.Jo+3<=t.byteLength&&239===t.getUint8(n.Jo)&&187===t.getUint8(n.Jo+1)&&191===t.getUint8(n.Jo+2)})(t,n)&&n.Xo(3);for(;n.Jo<t.byteLength;){var r=vf(t,n);if(void 0===r)break;if(e&&0===r)break;i.push(r)}return Ma(i)}(t,n,!0)}function bf(t){return Ma(function(t,n){var e,i=[],r=new Af;if(!n){if(!1===(e=Zc(t,r)))return i;65279===e||i.push(e)}for(;!1!==(e=Zc(t,r));)i.push(e);return i}(Ef(t)))}function kf(t){return new y(function(t){for(var n=[],e=0;e<t.length;e++)Kc(t[e],n);return n}(function(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}(t)))}function Tf(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),new y(t.buffer,t.byteOffset+n,e-n)}function Sf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ef(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function If(t){return t instanceof ArrayBuffer||Hc(t)}function Rf(t){return t instanceof ArrayBuffer?new y(t):Ef(t)}function Nf(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),t.slice?t.slice(n,e):Of(Tf(t,n,e))}function Of(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function Cf(t){return[].slice.call(t)}var Af=function(){function t(t){void 0===t&&(t=0),this.Yo=t}var n=t.prototype;return n.Xo=function(t){this.Yo+=t},n.$o=function(t){this.Yo=t},n.Ko=function(){return new t(this.Jo)},n.ts=function(){return new Yc(this.Jo<<3)},Ii(t,[{key:"Jo",get:function(){return this.Yo}}]),t}();ki(),Vt();var Df=function(){function t(){var t=this;this.es=new G((function(n,e){t.Z=n,t.nt=e}))}var n=t.prototype;return n.rs=function(t){this.Z&&(this.Z(t),this.ro())},n.us=function(t){this.nt&&(this.nt(t),this.ro())},n.fo=function(){this.es.catch(pr),this.us(new uc)},n.ho=function(t){var n=this;t.then((function(t){return n.rs(t)}),(function(t){return n.us(t)}))},n.ro=function(){this.Z=void 0,this.nt=void 0},t}();function Pf(){return new y([8,4]).buffer}function xf(t,n){return t===pa?function(t){if(t.byteLength<2*Bf.length)return t;if(mf(new DataView(t,0,2*Bf.length),!0)===Bf)return t;return n=t,e='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',_f('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+jc(n)+e,!0).buffer;var n,e}(n):n}ki(),Vt();var Bf="<PlayReady";ki(),Vt(),ki(),Vt();var Lf=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,r)||this).os=e,u.ss=i,u}return Xi(n,t),n}(gu);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Mf=function(t,n){return(Mf=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)v.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)};function Ff(t,n){var e=function(){this.constructor=t};if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");Mf(t,n),t.prototype=null===n?v.create(n):(e.prototype=n.prototype,new e)}function Uf(t,n,e){return t.indexOf?t.indexOf(n,e):Array.prototype.indexOf.call(t,n,e)}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Vf;(Vf=function(t,n){this.cs=t,this.fs=n}).prototype.get=function(t){var n=this.cs.get(t);if(0===this.fs||void 0===n)return n;var e=this.cs.get(t+1)||0,i=n&(1<<8-this.fs)-1,r=e>>8-this.fs;return(i<<this.fs)+r},Vf.prototype.getBit=function(t){if(!(t<0)){var n=this.cs.get(d.floor((t+this.fs)/8));if(void 0!==n)return(n&1<<7-this.fs-t%8)>0?1:0}},v.defineProperty(Vf.prototype,"bitLength",{get:function(){return this.cs.bitLength-this.fs},enumerable:!1,configurable:!0}),v.defineProperty(Vf.prototype,"length",{get:function(){return this.cs.length},enumerable:!1,configurable:!0});ki(),Vt(),ki(),Vt();d.pow(2,-52);function Hf(t,n,e){return d.min(d.max(t,n),e)}function qf(t,n){return t>>8-n}function zf(t,n){return t&(1<<n)-1}var Wf,jf=(Wf=function(t){this.hs=t,this.vs=0,this.ds=0},v.defineProperty(Wf.prototype,"totalBitsRead",{get:function(){return 8*this.vs+this.ds},enumerable:!1,configurable:!0}),v.defineProperty(Wf.prototype,"done",{get:function(){return this.vs===this.hs.length&&0===this.ds},enumerable:!1,configurable:!0}),v.defineProperty(Wf.prototype,"location",{get:function(){return{byte:this.vs,bit:this.ds}},enumerable:!1,configurable:!0}),Wf.prototype.copy=function(){var t=new Wf(this.hs);return t.seek(this.vs,this.ds),t},Wf.prototype.canReadBits=function(t){return 8*this.vs+t+this.ds<=8*this.hs.length},Wf.prototype.canReadBytes=function(t){return 0===this.ds?this.vs+t<=this.hs.length:this.vs+t<this.hs.length},Wf.prototype.incBit=function(){this.ds++,this.ds>7&&(this.vs++,this.ds=0)},Wf.prototype.seek=function(t,n){this.vs=t,this.ds=n},Wf.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.hs.get(this.vs)>>7-this.ds&1},Wf.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},Wf.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.ds)return this.hs.get(this.vs++);var t=zf(this.hs.get(this.vs),8-this.ds),n=qf(this.hs.get(this.vs+1),this.ds);return this.vs++,t<<this.ds|n},Wf.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],e=0;e<t;e++)n.push(this.readBit());return n},Wf.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.ds&&t%8==0)for(var e=t-8;e>=0;e-=8)n|=this.readByte()<<e;else for(e=t-1;e>=0;e--)n|=this.readBit()<<e;return n},Wf.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0==(n&1<<t-1)?n:n-d.pow(2,t)},Wf.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},Wf.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},Wf.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.ds+t;this.vs+=n>>3,this.ds=7&n},Wf.prototype.readBool=function(){return this.readBit()>0},Wf.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],e=0;e<t;e++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},Wf);ki(),Vt(),ki(),Vt(),ki(),Vt();var Gf,Yf=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},Xf=((Gf=function(){this.ls=[],this.gs=[],this.C=0}).from=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=new Gf,i=0,r=t;i<r.length;i++){var u=r[i];e.pushRange(u)}return e},Gf.prototype.pushRange=function(t,n,e){if(void 0===n&&(n=0),void 0===e&&(e=t.length),e<0)throw new f("The buffer length must be positive.");if(0!==e){if(0===this.gs.length)this.gs.push(0);else{var i=this.gs[this.gs.length-1]+this.ls[this.ls.length-1].length;this.gs.push(i)}this.ls.push(t.subarray(n,n+e)),this.C+=e}},Gf.prototype.concat=function(t){var n=new Gf;return n.pushRange(this.join()),n.pushRange(t.join()),n},Gf.prototype.copy=function(t,n,e,i){if(void 0===n&&(n=0),void 0===e&&(e=0),void 0===i&&(i=this.length),n<0||e<0||i<0)throw new RangeError;return this.slice(e,i).copyInternal(t,n)},Gf.prototype.copyInternal=function(t,n){for(var e=0,i=n,r=0,u=this.ls;r<u.length;r++){var o=u[r];t.set(o,i),e+=o.length,i+=o.length}return e},Gf.prototype.clear=function(){this.ls=[],this.gs=[],this.C=0},Gf.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),e=t-this.gs[n];return this.ls[n][e]}},v.defineProperty(Gf.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),Gf.prototype.indexOf=function(t){if(this.ls.length<1)return-1;if(this.ls.length>1){var n=this.join();this.clear(),this.pushRange(n)}var e=this.ls[0];return"number"==typeof t?Uf(e,t):"undefined"!=typeof Buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var e=n[0],i=n.length,r=t.length-i,u=0;u<=r&&!((u=Uf(t,e,u))<0||u>r);u++){for(var o=u+1,s=u+i,a=1;o<s&&t[o]===n[a];o++,a++);if(o===s)return u}return-1}(e,t)},Gf.prototype.findContainingBufferIndex=function(t){return function(t,n,e){if(0!==t.length){var i=0,r=t.length-1;if(1!==e(t[i],n)){if(1===e(n,t[r]))return r;for(;i!==r;){var u=d.ceil((i+r)/2);e(t[u],n)<=0?i=u:r=u-1}return i}}}(this.gs,t,Yf)},Gf.prototype.join=function(){if(1===this.ls.length)return this.ls[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(Gf.prototype,"length",{get:function(){return this.C},enumerable:!1,configurable:!0}),v.defineProperty(Gf.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),Gf.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var e=0,i=0;i<n;i++)e+=this.get(t+i)*d.pow(2,8*(n-i-1));return e},Gf.prototype.slice=function(t,n){void 0===n&&(n=this.length);var e=Hf(t,0,this.length),i=Hf(n,0,this.length);if(e>i)return new Gf;if(e===i)return new Gf;for(var r=new Gf,u=this.findContainingBufferIndex(e),o=this.ls[u],s=e,a=s-this.gs[u];s+o.length-a<i;)r.pushRange(o,a,o.length-a),u+=1,a=(s+=o.length-a)-this.gs[u],o=this.ls[u];var c=i-s;return r.pushRange(o,a,c),r},Gf.prototype.trim=function(){if(0===this.length)return new Gf;for(var t=this.length-1,n=this.ls.length-1,e=this.ls[n],i=e.length-1;t>=0&&n>=0&&0===e[i];){if(0===i){if(0===n)return new Gf;n-=1,i=(e=this.ls[n]).length-1}else i-=1;t-=1}return this.slice(0,t+1)},Gf),$f=function(){function t(n){this.ys=n||t.BUFFER_CHUNK_SIZE,this.Cn=!1,this._s=new Xf,this.hs=new y(this.ys),this.ps=0,this.bs=0,this.ds=7}return t.prototype.closeByte=function(){this.hs[this.ps++]=this.bs,this.ps>=this.ys&&this.closeBuffer(),this.bs=0,this.ds=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.ps&&(this._s.pushRange(this.hs,0,this.ps),t&&(this.hs=new y(this.ys)),this.ps=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.ds},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Cn)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Cn=!0,this._s},t.prototype.writeBit=function(t){if(this.Cn)throw new f("Cannot write to a closed BitWriter.");this.bs|=t<<this.ds,0===this.ds?this.closeByte():this.ds--},t.prototype.writeByte=function(t){if(this.Cn)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.bs=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.ds;this.bs|=qf(t,n+1),this.closeByte(),this.bs=zf(t,8-n)<<n+1,this.ds=n},t.prototype.writeBits=function(t){for(var n=0,e=t;n<e.length;n++){var i=e[n];this.writeBit(i)}},t.prototype.writeBytes=function(t){if(this.Cn)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.ps+t.length<=this.ys?(this.hs.set(t,this.ps),this.ps+=t.length,this.ps===this.ys&&this.closeBuffer()):(this.closeBuffer(),this._s.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.ds;this.bs|=qf(t[0],n+1),this.closeByte();for(var e=1;e<t.length;e++){var i=zf(t[e-1],8-n),r=qf(t[e],n+1);this.bs=i<<n+1|r,this.closeByte()}this.bs=zf(t[t.length-1],8-n)<<n+1,this.ds=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var e=n-8;e>=0;e-=8)this.writeByte(t>>e&255);else for(e=n-1;e>=0;e--)this.writeBool((t&1<<e)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,e=0;e<n-1;e++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}(t),e=0;e<n.length;e++)this.writeByte(n[e])},t.BUFFER_CHUNK_SIZE=1024,t}();ki(),Vt();var Kf,Jf,Zf=((Kf=function(t){this.rb=new Xf,this.ct=t}).prototype.closeWriter=function(){void 0!==this.ct&&(this.rb=this.rb.concat(this.ct.close()),this.ct=void 0)},v.defineProperty(Kf.prototype,"writer",{get:function(){return void 0===this.ct&&(this.ct=new $f),this.ct},enumerable:!1,configurable:!0}),Kf.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},Kf.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},Kf),Qf=((Jf=function(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}).prototype.serializeCommonBoxHeader=function(t){var n=this.getSize(),e=n>=Jf.LARGE_SIZE/8,i=16===this.boxType.length;t.writeUInt(e?1:n,32),t.writeString(i?"uuid":this.boxType),e&&(t.writeUInt(d.floor(n/Jf.LARGE_SIZE),32),t.writeUInt(n%Jf.LARGE_SIZE,32)),i&&t.writeString(this.boxType)},Jf.prototype.getSize=function(){var t=8+(this.boxType.length>4?16:0),n=this.getBoxContentSize()+t;return n>=Jf.LARGE_SIZE/8&&(n+=8),n},Jf.prototype.serialize=function(){var t=new Zf;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},Jf.LARGE_SIZE=d.pow(2,32),Jf);function th(t,n){return t instanceof iu?64===n:t<d.pow(2,n)}function nh(t,n){return d.round(t*d.pow(2,n))}function eh(t,n){for(var e=0;e<n.length;e++)t.writeByte(n[e])}function ih(t,n){return t/d.pow(2,n)}ki(),Vt();var rh,uh,oh=(Ff(uh=function(t,n,e){var i=rh.call(this,t)||this;if(i.version=n,!th(n,8))throw new f("the provided version cannot fit in 8 bits.");return i.flags=e,i},rh=Qf),v.defineProperty(uh.prototype,"flags",{get:function(){return this.ks},set:function(t){this.ks=t},enumerable:!1,configurable:!0}),uh.prototype.getBoxContentSize=function(){return 4},uh.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},uh.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},uh);ki(),Vt(),ki(),Vt();var sh=function(t){var n=function(n,e){var i=t.call(this,n)||this;return i.data=e,i};return Ff(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Xf.from(this.data))},n}(Qf);ki(),Vt(),ki(),Vt();var ah,ch=((ah=function(t){void 0===t&&(t=0),this.offset=t}).prototype.shift=function(t){this.offset+=t},ah.prototype.seek=function(t){this.offset=t},ah.prototype.clone=function(){return new ah(this.offset)},ah);ki(),Vt();var fh=16384;function hh(t){var n=t.length;if(n<=fh)return String.fromCharCode.apply(String,t);for(var e=[],i=0;i<n;i+=fh)e.push(String.fromCharCode.apply(String,t.slice(i,i+fh)));return e.join("")}var vh,dh=((vh=function(t){this.raw=t}).prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},vh);function lh(t,n){var e=t.getUint8(n.offset);return n.shift(1),e}function wh(t,n,e){var i=kh(Th(t),n.offset,n.offset+e);return n.shift(i.byteLength),i}function gh(t,n,e){return n.offset+e<=t.byteLength}function yh(t,n,e){void 0===e&&(e=!1);var i=t.getUint32(n.offset,e);return n.shift(4),i}function mh(t,n,e){void 0===e&&(e=!1);var i=yh(t,n,e),r=yh(t,n,e),u=e?r:i,o=e?i:r;return iu.fromBits(o,u,!0)}function _h(t,n,e){var i,r=wh(t,n,e);return hh((i=r,[].slice.call(i)))}function ph(t,n){var e,i=lh(t,n);return 0==(128&i)?e=i:192==(224&i)?e=64*(31&i)+(63&lh(t,n)):224==(240&i)?e=4096*(15&i)+64*(63&lh(t,n))+(63&lh(t,n)):240==(248&i)&&(e=262144*(7&i)+4096*(63&lh(t,n))+64*(63&lh(t,n))+(63&lh(t,n))),e}function bh(t,n){return function(t,n,e){var i=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=ph(t,n);if(void 0===r)break;if(e&&0===r)break;i.push(r)}return function(t){for(var n=[],e=0,i=t;e<i.length;e++){var r=i[e];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return hh(n)}(i)}(t,n,!0)}function kh(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=t.byteLength),new y(t.buffer,t.byteOffset+n,e-n)}function Th(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Sh,Eh=((Sh=function(t){void 0===t&&(t=0),this.offset=t}).prototype.shift=function(t){this.offset+=t},Sh.prototype.seek=function(t){this.offset=t},Sh.prototype.clone=function(){return new Sh(this.offset)},Sh.prototype.toBit=function(){return new ch(this.offset<<3)},Sh);ki(),Vt();var Ih,Rh=((Ih=function(t,n){this.data=t,this.cursor=n}).prototype.nextUint8=function(){return lh(this.data,this.cursor)},Ih.prototype.nextUint16=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getUint16(n.offset,e);return n.shift(2),i}(this.data,this.cursor)},Ih.prototype.nextInt16=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt16(n.offset,e);return n.shift(2),i}(this.data,this.cursor)},Ih.prototype.nextUint32=function(){return yh(this.data,this.cursor)},Ih.prototype.nextInt32=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt32(n.offset,e);return n.shift(4),i}(this.data,this.cursor)},Ih.prototype.nextInt64=function(){return function(t,n,e){void 0===e&&(e=!1);var i=yh(t,n,e),r=yh(t,n,e),u=e?r:i,o=e?i:r;return iu.fromBits(o,u,!1)}(this.data,this.cursor)},Ih.prototype.nextUint64=function(){return mh(this.data,this.cursor)},Ih.prototype.nextUint8Array=function(t){return wh(this.data,this.cursor,t)},Ih.prototype.nextUint32Array=function(t){return function(t,n,e){for(var i=[],r=0;r<e;r++)i.push(yh(t,n));return i}(this.data,this.cursor,t)},Ih.prototype.nextChars=function(t){return _h(this.data,this.cursor,t)},Ih.prototype.nextUTF8String=function(){return bh(this.data,this.cursor)},Ih.prototype.skip=function(t){this.cursor.shift(t)},Ih.prototype.clone=function(){return new Ih(this.data,this.cursor.clone())},Ih);function Nh(t,n){return t.type===n}function Oh(t){var n=function(t,n){var e=[];for(;n.offset<t.byteLength;){var i=Ch(t,n);if(!i.complete)return{complete:!1,boxes:e};e.push(i.box)}return{complete:!0,boxes:e}}(t.data,t.cursor);if(!n.complete)throw new f("Data incomplete");return n.boxes}function Ch(t,n){var e=n.offset,i=function(t,n){var e=n.offset;if(!gh(t,n,8)){return{complete:!1,neededOffset:u=n.offset+8}}var i=yh(t,n),r=_h(t,n,4);if(1===i){if(!gh(t,n,8)){var u=n.offset+8;return n.seek(e),{complete:!1,neededOffset:u}}i=mh(t,n).toNumber()}if("uuid"===r){if(!gh(t,n,16)){u=n.offset+16;return n.seek(e),{complete:!1,neededOffset:u}}r=_h(t,n,16)}var o=n.offset;return{complete:!0,header:{type:r,size:i,headerSize:o-e}}}(t,n);if(!i.complete)return i;var r=i.header,u=r.size;0===u&&(u=t.byteLength-e);var o=e+u;if(o>t.byteLength){var s=o;return n.seek(e),{complete:!1,neededOffset:s}}var a,c,f,h={type:r.type,offset:e,data:new Rh((a=t,c=e,f=o,void 0===c&&(c=0),void 0===f&&(f=a.byteLength),new DataView(a.buffer,a.byteOffset+c,f-c)),new Eh(r.headerSize))};return n.seek(o),{complete:!0,box:h}}function Ah(t){return{version:t>>24,flags:new dh(16777215&t)}}function Dh(t,n){var e,i,r,u;return 1===n?(e=t.nextUint64(),i=t.nextUint64(),r=t.nextUint32(),u=t.nextUint64()):(e=t.nextUint32(),i=t.nextUint32(),r=t.nextUint32(),u=t.nextUint32()),{creation:e,modification:i,scale:r,duration:u}}function Ph(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function xh(t){var n=t.nextUint32Array(9);return{a:ih(n[0],16),b:ih(n[1],16),u:ih(n[2],30),c:ih(n[3],16),d:ih(n[4],16),v:ih(n[5],30),x:ih(n[6],16),y:ih(n[7],16),w:ih(n[8],30)}}function Bh(t){return new sh(t.type,kh(Th(t.data.data),t.data.cursor.offset))}var Lh=function(t){var n=function(n,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",i,r)||this;return u.name=e,u.handlerType=n,u};return Ff(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.Ts},set:function(t){this.Ts=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(e=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==e?e:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(oh);function Mh(t){var n=t.data,e=Ah(n.nextUint32()),i=e.version,r=e.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var o=n.nextUTF8String();return new Lh(u,o,i,r.raw)}!function(t){var n=function(){return t.call(this,"mdir")||this};Ff(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Lh);ki(),Vt(),ki(),Vt(),ki(),Vt();var Fh,Uh=((Fh=function(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}).prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(Fh.prototype,"tag",{get:function(){return this.Ss},set:function(t){if(!th(t,8))throw new f("Provided tag does not fit in 8 bits.");this.Ss=t},enumerable:!1,configurable:!0}),Fh.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},Fh.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,e=this.encodeSize(this.getDescriptorSize());n<e.length;n++){var i=e[n];t.writer.writeByte(i)}this.serializeDescriptorContent(t)},Fh);ki(),Vt();!function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s={});var a=t.call(this,4,s.fixed28BitMode)||this;return a.upStream=i,a.decoderSpecificInfo=o,a.objectTypeIndication=n,a.streamType=e,a.bufferSizeDb=r,a.maxBitrate=u.max,a.avgBitrate=u.avg,a};Ff(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Es},set:function(t){if(!th(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.Es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.Is},set:function(t){if(!th(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Rs},set:function(t){if(!th(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.Rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Ns},set:function(t){if(!th(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Os},set:function(t){if(!th(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.Os=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,e=this.decoderSpecificInfo;n<e.length;n++){e[n].serialize(t)}}}(Uh);ki(),Vt();!function(t){var n=function(n,e){void 0===e&&(e={});var i=t.call(this,5,e.fixed28BitMode)||this;return i.data=n,i};Ff(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Xf.from(this.data))}}(Uh);ki(),Vt(),ki(),Vt();var Vh=function(t){var n=function(n){void 0===n&&(n=!1);var e=t.call(this,6,n)||this;return e.predefined=2,e};return Ff(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Uh);!function(t){var n=function(n,e,i,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=i,u.esId=n,u.streamPriority=e,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Vh(r.fixed28BitMode),u};Ff(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.Cs},set:function(t){if(!th(t,16))throw new f("Provided esId does not fit in 16 bits.");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.As},set:function(t){if(!th(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Ds},set:function(t){if(t&&!th(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Ps},set:function(t){if(t&&!th(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.Ps=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Uh);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Hh=function(t){var n=function(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n};return Ff(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),e=0,i=this.boxes;e<i.length;e++){var r=i[e];n=n.concat(r.serialize())}return n},n}(Qf),qh=function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};return Ff(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Hh),zh=function(t){var n=function(n,e){var i=t.call(this,n)||this;return i.dataReferenceIndex=e,i};return Ff(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.xs},set:function(t){if(!th(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(qh),Wh=function(t){var n=function(n,e,i,r){var u,o,s=this;return(s=t.call(this,n,e)||this).extra=r,s.channelCount=null!==(u=i.channelCount)&&void 0!==u?u:2,s.sampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:16,s.sampleRate=i.sampleRate,s};return Ff(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.Bs},set:function(t){if(!th(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Ls},set:function(t){if(!th(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Ms},set:function(t){if(!th(nh(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ms=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(e=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(nh(this.sampleRate,16),32),this.extra&&eh(n.writer,this.extra)},n}(zh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stco",0,0)||this;return e.entries=n,e};Ff(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Fs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"clap")||this;return e.cleanApertureWidthN=n.cleanApertureWidthN,e.cleanApertureWidthD=n.cleanApertureWidthD,e.cleanApertureHeightN=n.cleanApertureHeightN,e.cleanApertureHeightD=n.cleanApertureHeightD,e.horizOffN=n.horizOffN,e.horizOffD=n.horizOffD,e.vertOffN=n.vertOffN,e.vertOffD=n.vertOffD,e};Ff(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Us},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Vs},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Hs},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.Hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.qs},set:function(t){if(!th(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.zs},set:function(t){if(!th(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Ws},set:function(t){if(!th(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.js},set:function(t){if(!th(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Gs},set:function(t){if(!th(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.Gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Qf);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"ctts",n,0)||this;return i.entries=e,i};Ff(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Fs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t.sampleCount,32)||!th(t.sampleOffset,32)})))throw new f("Not all entries can be represented in 64 bits.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"url ",0,void 0===n?1:0)||this;return e.location=n,e};Ff(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ys},set:function(t){this.flags=void 0===t?1:0,this.Ys=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(oh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"urn ",0,i)||this;return r.name=n,r.location=e,r};Ff(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ys},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ys=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(oh);ki(),Vt();!function(t){var n=function(){return t.call(this,"dinf")||this};Ff(n,t)}(qh);ki(),Vt(),ki(),Vt();var jh=function(t){var n=function(n,e,i){var r=t.call(this,n)||this;if(r.version=e,!th(e,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=i,r};return Ff(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.ks},set:function(t){this.ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Hh);!function(t){var n=function(){return t.call(this,"dref",0,0)||this};Ff(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(jh);ki(),Vt(),ki(),Vt();var Gh=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"elst",e,i)||this;return r.entries=n,r};return Ff(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Fs},set:function(t){for(var n=0,e=t;n<e.length;n++){var i=e[n];if(!th(i.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!th(i.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!th(i.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(i.mediaRateFraction&&!th(i.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(oh),Yh=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Ff(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,e=0,i=this.entries;e<i.length;e++){var r=i[e];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Gh),Xh=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Ff(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,e=0,i=this.entries;e<i.length;e++){var r=i[e];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Gh);function $h(t){for(var n=t.data,e=Ah(n.nextUint32()),i=e.version,r=e.flags,u=n.nextUint32(),o=[],s=0;s<u;s++){var a=void 0,c=void 0;0===i?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var f=n.nextInt16(),h=n.nextInt16();o.push({segmentDuration:a,mediaTime:c,mediaRateFraction:h,mediaRateInteger:f})}return 0===i?new Yh(o,r.raw):new Xh(o,r.raw)}var Kh=function(t){var n=function(){return t.call(this,"edts")||this};return Ff(n,t),n}(qh);function Jh(t){for(var n=new Kh,e=0,i=Oh(t.data);e<i.length;e++){var r=i[e];Nh(r,"elst")?n.boxes.push($h(r)):n.boxes.push(Bh(r))}return n}ki(),Vt(),ki(),Vt();var Zh=function(t){var n=function(n,e,i,r){var u=t.call(this,n)||this;return u.majorBrand=e,u.minorVersion=i,u.compatibleBrands=r,u};return Ff(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Xs},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.$s},set:function(t){if(!th(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Ks},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.Ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,e=this.compatibleBrands;n<e.length;n++){var i=e[n];t.writer.writeString(i)}},n}(Qf);!function(t){var n=function(n,e,i){return t.call(this,"ftyp",n,e,i)||this};Ff(n,t)}(Zh);ki(),Vt();!function(t){var n=function(n,e){void 0===e&&(e="free");var i=t.call(this,e)||this;return i.data=n,i};Ff(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Xf.from(this.data))}}(Qf);ki(),Vt(),ki(),Vt();var Qh=function(t){var n=function(n,e,i,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",i,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=e,u};return Ff(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Js},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Zs},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Qs},set:function(t){if(!th(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.ta},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ta=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.na},set:function(t){if(!iv(t))throw new f("Expected an ISO-639-2/T language code");this.na=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var e=0,i=this.language;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(oh),tv=function(t){var n=function(n,e,i){return void 0===i&&(i=0),t.call(this,n,e,0,i)||this};return Ff(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Qh),nv=function(t){var n=function(n,e,i){return void 0===i&&(i=0),t.call(this,n,e,1,i)||this};return Ff(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Qh);function ev(t){var n=t.data,e=Ah(n.nextUint32()),i=e.version,r=e.flags,u=Dh(n,i),o=new jf(Xf.from(n.nextUint8Array(2)));o.skipBits(1);for(var s=[],a=0;a<3;a++)s.push(o.readUInt(5));var c=s.map((function(t){return String.fromCharCode(t+96)})).join("");return iv(c)||(c="und"),n.skip(2),0===i?new tv(u,c,r.raw):new nv(u,c,r.raw)}function iv(t){return/^[a-z]{3}$/.test(t)}var rv=function(t){var n=function(){return t.call(this,"mdia")||this};return Ff(n,t),n}(qh);function uv(t){for(var n=new rv,e=0,i=Oh(t.data);e<i.length;e++){var r=i[e];Nh(r,"mdhd")?n.boxes.push(ev(r)):Nh(r,"hdlr")?n.boxes.push(Mh(r)):n.boxes.push(Bh(r))}return n}ki(),Vt();!function(t){var n=function(){var n=t.call(this,"mdat")||this;return n.data=new Xf,n};Ff(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(Qf);ki(),Vt();!function(t){var n=function(){return t.call(this,"minf")||this};Ff(n,t)}(qh);ki(),Vt();var ov,sv;!function(t){var n=function(n){var e=t.call(this,"meta",0,0)||this;return e.handler=n,e};Ff(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(jh);ki(),Vt(),ki(),Vt(),(sv=ov||(ov={})).VIDEO="vide",sv.AUXILIARY_VIDEO="auxv",sv.AUDIO="soun",sv.METADATA="meta",sv.HINT="hint",sv.TEXT="text",sv.SUBTITLE="subt",sv.FONT="fdsm",ki(),Vt();var av,cv,fv,hv,vv={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function dv(t,n){n.writer.writeUInt(nh(t.a,16),32),n.writer.writeUInt(nh(t.b,16),32),n.writer.writeUInt(nh(0,30),32),n.writer.writeUInt(nh(t.c,16),32),n.writer.writeUInt(nh(t.d,16),32),n.writer.writeUInt(nh(0,30),32),n.writer.writeUInt(nh(t.x,16),32),n.writer.writeUInt(nh(t.y,16),32),n.writer.writeUInt(nh(1,30),32)}function lv(t,n){var e,i,r,u;n.writer.writeUInt(null!==(e=t.isLeading)&&void 0!==e?e:av.UNKNOWN,2),n.writer.writeUInt(null!==(i=t.sampleDependsOn)&&void 0!==i?i:fv.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:fv.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:fv.UNKNOWN,2)}function wv(t,n){var e,i,r;n.writer.writeUInt(0,4),lv(t,n),n.writer.writeUInt(null!==(e=t.samplePaddingValue)&&void 0!==e?e:0,3),n.writer.writeBool(null!==(i=t.sampleIsNonSyncSample)&&void 0!==i&&i),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}ki(),Vt(),(cv=av||(av={}))[cv.UNKNOWN=0]="UNKNOWN",cv[cv.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",cv[cv.NO=2]="NO",cv[cv.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY",(hv=fv||(fv={}))[hv.UNKNOWN=0]="UNKNOWN",hv[hv.YES=1]="YES",hv[hv.NO=2]="NO",hv[hv.RESERVED=3]="RESERVED",ki(),Vt(),ki(),Vt();var gv=function(){};ki(),Vt(),ki(),Vt(),ki(),Vt();var yv=function(t){var n=function(n,e,i){var r=t.call(this,"pssh",n,0)||this;return r.systemId=e,r.data=i,r};return Ff(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.ea},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.ea=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.B},set:function(t){if(!th(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.B=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Xf.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Xf.from(this.data))},n}(oh),mv=function(t){var n=function(n,e){return t.call(this,0,n,e)||this};return Ff(n,t),n}(yv),_v=function(t){var n=function(n,e,i){var r=t.call(this,1,n,e)||this;return r.kIds=i,r};return Ff(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.ia},set:function(t){if(!th(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new f("Not all provided key ids are 16 bytes long.");this.ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,e=this.kIds;n<e.length;n++){var i=e[n];t.concat(Xf.from(i))}},n}(yv);function pv(t){var n=t.data.nextUint8();t.data.skip(3);var e=t.data.nextUint8Array(16),i=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)i.push(t.data.nextUint8Array(16));var o=t.data.nextUint32(),s=t.data.nextUint8Array(o);return 1===n?new _v(e,s,i):new mv(e,s)}ki(),Vt(),ki(),Vt();var bv=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"mehd",e,i)||this;return r.fragmentDuration=n,r};return Ff(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.ra},set:function(t){if(!th(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.ra=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(oh),kv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Ff(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(bv),Tv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Ff(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(bv);function Sv(t){var n=t.data,e=Ah(n.nextUint32()),i=e.version,r=e.flags;return 0===i?new kv(n.nextUint32(),r.raw):new Tv(n.nextUint64(),r.raw)}ki(),Vt();var Ev=function(t){var n=function(n,e,i,r){void 0===e&&(e={}),void 0===i&&(i=0),void 0===r&&(r=0);var u,o,s,a=this;return(a=t.call(this,"trex",i,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==e?void 0:e.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(o=e.sampleDuration)&&void 0!==o?o:0,a.defaultSampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:0,a.defaultSampleFlags=e.sampleFlags,a};return Ff(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ua},set:function(t){if(!th(t,32))throw new f("Provided track id does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.oa},set:function(t){if(!th(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.oa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.sa},set:function(t){if(!th(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.sa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.aa},set:function(t){if(!th(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.aa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.ca},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!th(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!th(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.ca=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var e;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),wv(null!==(e=this.defaultSampleFlags)&&void 0!==e?e:{},n)},n}(oh);function Iv(t){var n=t.data,e=Ah(n.nextUint32()),i=e.version,r=e.flags,u=n.nextUint32(),o=n.nextUint32(),s=n.nextUint32(),a=n.nextUint32(),c=Ph(new jf(Xf.from(n.nextUint8Array(4))));return new Ev(u,{sampleDescriptionIndex:o,sampleDuration:s,sampleSize:a,sampleFlags:c},i,r.raw)}var Rv=function(t){var n=function(){return t.call(this,"mvex")||this};return Ff(n,t),n}(qh);function Nv(t){for(var n=new Rv,e=0,i=Oh(t.data);e<i.length;e++){var r=i[e];Nh(r,"mehd")?n.boxes.push(Sv(r)):Nh(r,"trex")?n.boxes.push(Iv(r)):n.boxes.push(Bh(r))}return n}ki(),Vt();var Ov=function(t){function n(e,i,r,u,o){void 0===o&&(o=0);var s,a,c,f=this;return(f=t.call(this,"mvhd",u,o)||this).creationTime=e.creation,f.modificationTime=e.modification,f.timescale=e.scale,f.duration=e.duration,f.rate=null!==(s=r.rate)&&void 0!==s?s:n.DEFAULT_RATE,f.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,f.matrix=null!==(c=r.matrix)&&void 0!==c?c:vv,f.fa=i,f}return Ff(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Js},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Zs},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Qs},set:function(t){if(!th(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.ta},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ta=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.ha},set:function(t){if(!th(nh(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.ha=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.va},set:function(t){if(!th(nh(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.va=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.da},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.da=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.fa},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!th(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(nh(this.rate,16),32),n.writer.writeUInt(nh(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),dv(this.matrix,n);for(var e=0;e<6;e++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(oh),Cv=function(t){var n=function(n,e,i,r){return void 0===i&&(i={}),void 0===r&&(r=0),t.call(this,n,e,i,0,r)||this};return Ff(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Ov),Av=function(t){var n=function(n,e,i,r){return void 0===i&&(i={}),void 0===r&&(r=0),t.call(this,n,e,i,1,r)||this};return Ff(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Ov);function Dv(t){var n=t.data,e=Ah(n.nextUint32()),i=e.version,r=e.flags,u=Dh(n,i),o=ih(n.nextUint32(),16),s=ih(n.nextUint16(),8);n.skip(2),n.skip(8);var a=xh(n);n.skip(24);var c=n.nextUint32();return 0===i?new Cv(u,c,{rate:o,volume:s,matrix:a},r.raw):new Av(u,c,{rate:o,volume:s,matrix:a},r.raw)}ki(),Vt(),ki(),Vt();var Pv=function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s={});var a,c,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,e,i,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(e=null==t?void 0:t.trackInMovie)||void 0===e||e,trackInPreview:null===(i=null==t?void 0:t.trackInPreview)||void 0===i||i,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(s))||this).creationTime=e.creation,h.modificationTime=e.modification,h.trackId=i,h.duration=e.duration,h.volume=r,h.width=u,h.height=o,h.layer=null!==(a=s.layer)&&void 0!==a?a:0,h.alternateGroup=null!==(c=s.alternateGroup)&&void 0!==c?c:0,h.matrix=null!==(f=s.matrix)&&void 0!==f?f:vv,h};return Ff(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Js},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Zs},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ua},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!th(t,32))throw new f("trackId cannot exceed 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.ta},set:function(t){if(!th(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ta=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.va},set:function(t){if(!th(nh(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.va=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.la},set:function(t){if(!th(nh(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.la=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.wa},set:function(t){if(!th(nh(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.wa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.ga},set:function(t){if(!th(t,16))throw new f("Provided layer does not fit in 16 bits.");this.ga=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.ya},set:function(t){if(!th(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.ya=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.da},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.da=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(nh(this.volume,8),16),n.writer.writeUInt(0,16),dv(this.matrix,n),n.writer.writeUInt(nh(this.width,16),32),n.writer.writeUInt(nh(this.height,16),32)},n}(oh),xv=function(t){var n=function(n,e,i,r,u,o){return t.call(this,0,n,e,i,r,u,o)||this};return Ff(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Pv),Bv=function(t){var n=function(n,e,i,r,u,o){return t.call(this,1,n,e,i,r,u,o)||this};return Ff(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Pv);function Lv(t){var n,e,i,r,u=t.data,o=Ah(u.nextUint32()),s=o.version,a=o.flags,c=a.isSet(8),f=a.isSet(4),h=a.isSet(2),v=a.isSet(1);0===s?(n=u.nextUint32(),e=u.nextUint32(),i=u.nextUint32(),u.skip(4),r=u.nextUint32()):(n=u.nextUint64(),e=u.nextUint64(),i=u.nextUint32(),u.skip(4),r=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),w=ih(u.nextInt16(),8);u.skip(2);var g=xh(u),y=ih(u.nextUint32(),16),m=ih(u.nextUint32(),16);return 0===s?new xv({creation:n,modification:e,duration:r},i,w,y,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:f,trackInMovie:h}):new Bv({creation:n,modification:e,duration:r},i,w,y,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:f,trackInMovie:h})}var Mv=function(t){var n=function(){return t.call(this,"trak")||this};return Ff(n,t),n}(qh);function Fv(t){for(var n=new Mv,e=0,i=Oh(t.data);e<i.length;e++){var r=i[e];Nh(r,"tkhd")?n.boxes.push(Lv(r)):Nh(r,"mdia")?n.boxes.push(uv(r)):Nh(r,"edts")?n.boxes.push(Jh(r)):n.boxes.push(Bh(r))}return n}var Uv=function(t){var n=function(){return t.call(this,"moov")||this};return Ff(n,t),n}(qh);ki(),Vt(),ki(),Vt(),ki(),Vt();var Vv=function(t){var n=function(n,e,i){void 0===i&&(i=0);var r=t.call(this,"tfdt",e,i)||this;return r.baseMediaDecodeTime=n,r};return Ff(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.ma},set:function(t){if(!th(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(oh),Hv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,0,e)||this};return Ff(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Vv),qv=function(t){var n=function(n,e){return void 0===e&&(e=0),t.call(this,n,1,e)||this};return Ff(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Vv);function zv(t){var n=t.data,e=Ah(n.nextUint32()),i=e.version,r=e.flags;return 0===i?new Hv(n.nextUint32(),r.raw):new qv(n.nextUint64(),r.raw)}ki(),Vt();var Wv=function(t){var n=function(n,e){void 0===e&&(e=0);var i=t.call(this,"tfhd",e,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return i.trackId=n.trackId,i.baseDataOffset=n.baseDataOffset,i.sampleDescriptionIndex=n.sampleDescriptionIndex,i.defaultSampleDuration=n.defaultSampleDuration,i.defaultSampleSize=n.defaultSampleSize,i.defaultSampleFlags=n.defaultSampleFlags,i};return Ff(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ua},set:function(t){if(!th(t,32))throw new f("Provided track id does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this._a},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!th(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.pa},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!th(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.pa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.sa},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!th(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.sa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.aa},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!th(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.aa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.ca},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!th(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!th(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.ca=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&wv(this.defaultSampleFlags,n)},n}(oh);function jv(t){var n=t.data,e=n.nextUint8(),i=new jf(Xf.from(n.nextUint8Array(3)));i.skipBits(6);var r=Boolean(i.readBit()),u=Boolean(i.readBit());i.skipBits(10);var o=Boolean(i.readBit()),s=Boolean(i.readBit()),a=Boolean(i.readBit());i.skipBits(1);var c=Boolean(i.readBit()),f=Boolean(i.readBit()),h=n.nextUint32(),v=f?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=a?n.nextUint32():void 0,w=s?n.nextUint32():void 0,g=o?Ph(new jf(Xf.from(n.nextUint8Array(4)))):void 0;return new Wv({trackId:h,defaultBaseIsMoof:r,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:w,defaultSampleFlags:g},e)}ki(),Vt();var Gv=function(t){var n=function(n,e,i){var r=t.call(this,"trun",n,function(t){var n,e,i,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(e=t.sampleSizePresent)&&void 0!==e&&e,sampleFlagsPresent:null!==(i=t.sampleFlagsPresent)&&void 0!==i&&i,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(e))||this;return r.dataOffset=e.dataOffset,r.samples=i,r.firstSampleFlags=e.firstSampleFlags,r};return Ff(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.ba},set:function(t){if(t&&!th(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.ba=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.ka},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!th(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!th(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.ka=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.Ta},set:function(t){var n,e;if(!th(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var i=0,r=t;i<r.length;i++){var u=r[i];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!th(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!th(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!th(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(e=u.flags)||void 0===e?void 0:e.sampleDegradationPriority)&&!th(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!th(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&wv(this.firstSampleFlags,n);for(var e=0,i=this.samples;e<i.length;e++){var r=i[e];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&wv(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(oh);function Yv(t){var n=t.data,e=n.nextUint8(),i=new jf(Xf.from(n.nextUint8Array(3)));i.skipBits(12);var r=Boolean(i.readBit()),u=Boolean(i.readBit()),o=Boolean(i.readBit()),s=Boolean(i.readBit());i.skipBits(5);var a=Boolean(i.readBit());i.skipBits(1);var c=Boolean(i.readBit()),f=n.nextUint32(),h={sampleDurationPresent:s,sampleSizePresent:o,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:r};c&&(h.dataOffset=n.nextInt32()),a&&(h.firstSampleFlags=Ph(new jf(Xf.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<f;d++){var l={};s&&(l.duration=n.nextUint32()),o&&(l.size=n.nextUint32()),u&&(l.flags=Ph(new jf(Xf.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===e?n.nextUint32():n.nextInt32()),v.push(l)}return new Gv(e,h,v)}var Xv=function(t){var n=function(){return t.call(this,"traf")||this};return Ff(n,t),n}(qh);function $v(t){for(var n=new Xv,e=0,i=Oh(t.data);e<i.length;e++){var r=i[e];Nh(r,"tfhd")?n.boxes.push(jv(r)):Nh(r,"tfdt")?n.boxes.push(zv(r)):Nh(r,"trun")?n.boxes.push(Yv(r)):n.boxes.push(Bh(r))}return n}var Kv=function(t){var n=function(){return t.call(this,"moof")||this};return Ff(n,t),n}(qh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"mfhd",0,0)||this;return e.sequenceNumber=n,e};Ff(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Sa},set:function(t){if(!th(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(oh);ki(),Vt();var Jv=function(t){var n=function(n){var e=t.call(this,"frma")||this;return e.codingName=n,e};return Ff(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.Ea},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Qf);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"pasp")||this;return i.hSpacing=n,i.vSpacing=e,i};Ff(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Ia},set:function(t){if(!th(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Ra},set:function(t){if(!th(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Qf);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,n)||this;return r.sample=e,r.sinf=i,r};Ff(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(qh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"sinf")||this;return r.schm=e,r.schi=i,r.frma=new Jv(n),r};Ff(n,t),n.prototype.getBoxContentSize=function(){var t,n,e,i;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(i=null===(e=this.schi)||void 0===e?void 0:e.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Qf);ki(),Vt();var Zv=function(t){var n=function(n,e,i){var r=t.call(this,"saio",n,void 0===i?0:1)||this;return r.entries=e,r.explicitAuxInfoType=i,r};return Ff(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Fs},set:function(t){var n=this;if(!th(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!th(t,n.bitSize)})))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Na},set:function(t){if(void 0===t)this.flags=0;else{if(!th(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!th(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(oh);(function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Ff(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,e=this.entries;n<e.length;n++){var i=e[n];t.writer.writeUInt(i,32)}}})(Zv),function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Ff(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,e=this.entries;n<e.length;n++){var i=e[n];t.writer.writeUInt(i.getHighBitsUnsigned(),32),t.writer.writeUInt(i.getLowBitsUnsigned(),32)}}}(Zv);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"saiz",0,void 0===i?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=e,r.explicitAuxInfoType=i,r};Ff(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Oa},set:function(t){if(!th(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.Oa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Ca},set:function(t){if(!th(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!th(t,8)})))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.Ca=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Na},set:function(t){if(void 0===t)this.flags=0;else{if(!th(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!th(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var e=0,i=this.sampleInfoSizes;e<i.length;e++){var r=i[e];n.writer.writeByte(r)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"sdtp",0,0)||this;return e.samples=n,e};Ff(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var e=0,i=this.samples;e<i.length;e++){lv(i[e],n)}}}(oh);ki(),Vt();!function(t){var n=function(n){return t.call(this,"stsd",n,0)||this};Ff(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(jh);ki(),Vt();var Qv=function(t){var n=function(n,e,i){var r=t.call(this,"sgpd",n,0)||this;return r.entries=i,r.groupingType=e,r};return Ff(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.Aa},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.Aa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(oh);(function(t){var n=function(n,e){return t.call(this,0,n,e)||this};Ff(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(Qv),function(t){var n=function(n,e,i){var r=t.call(this,1,n,i)||this;return r.defaultLength=e,r};Ff(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Da},set:function(t){if(!th(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.Da=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Qv),function(t){var n=function(n,e,i,r){void 0===r&&(r=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,e,i)||this).defaultSampleDescriptionIndex=r,u};Ff(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.oa},set:function(t){if(!th(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.oa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Qv);ki(),Vt();(function(t){var n=function(n){void 0===n&&(n=[]);var e=t.call(this,"stsz",0,0)||this;return e.sampleSizes=n,e};Ff(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Pa},set:function(t){if(!th(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!th(t,32)})))throw new f("Not all sampleSizes can be represented in 32 bits.");this.Pa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var e=0,i=this.sampleSizes;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}})(oh),function(t){var n=function(n,e){void 0===n&&(n=0),void 0===e&&(e=0);var i=t.call(this,"stsz",0,0)||this;return i.defaultSampleSize=n,i.samples=e,i};Ff(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.aa},set:function(t){if(!th(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.aa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.Ta},set:function(t){if(!th(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(oh);ki(),Vt();!function(t){var n=function(){return t.call(this,"stbl")||this};Ff(n,t)}(qh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stsc",0,0)||this;return e.entries=n,e};Ff(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Fs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t.firstChunk,32)||!th(t.sampleDescriptionIndex,32)||!th(t.samplesPerChunk,32)})))throw new f("Not all entries can be represented in 96 bits.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(oh);ki(),Vt();!function(t){var n=function(){return t.call(this,"schi")||this};Ff(n,t)}(qh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"schm",0,void 0===i?0:1)||this;return r.schemeType=n,r.schemeVersion=e,r.schemeUri=i,r};Ff(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.xa},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.xa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.Ba},set:function(t){if(!th(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.Ba=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.La},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.La=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(oh);ki(),Vt();var td=function(t){var n=function(n,e,i,r,u,o,s){void 0===s&&(s=0);var a=t.call(this,"sidx",n,s)||this;return a.referenceId=e,a.timescale=i,a.earliestPresentationTime=r,a.firstOffset=u,a.references=o,a};return Ff(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.Ma},set:function(t){if(!th(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.Ma=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Qs},set:function(t){if(!th(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.Fa},set:function(t){if(!th(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.Fa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.Ua},set:function(t){if(!th(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.Ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this.Va},set:function(t){if(!th(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,e=t;n<e.length;n++){var i=e[n];if(!th(i.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!th(i.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!th(i.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!th(i.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var e=0,i=this.references;e<i.length;e++){var r=i[e];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(oh),nd=function(t){var n=function(n,e,i,r,u,o){return void 0===o&&(o=0),t.call(this,0,n,e,i,r,u,o)||this};return Ff(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(td),ed=function(t){var n=function(n,e,i,r,u,o){return void 0===o&&(o=0),t.call(this,1,n,e,i,r,u,o)||this};return Ff(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(td);ki(),Vt();!function(t){var n=function(n,e,i){return t.call(this,"styp",n,e,i)||this};Ff(n,t)}(Zh);ki(),Vt();!function(t){var n=function(n){void 0===n&&(n=0);var e=t.call(this,"smhd",0,0)||this;return e.balance=n,e};Ff(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.Ha},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!th(nh(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(nh(this.balance,8),16),n.writer.writeUInt(0,16)}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stss",0,0)||this;return e.entries=n,e};Ff(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Fs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"stts",0,0)||this;return e.entries=n,e};Ff(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Fs},set:function(t){if(!th(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!th(t.sampleCount,32)||!th(t.sampleDelta,32)})))throw new f("Not all entries can be represented in 64 bits.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var e=0,i=this.entries;e<i.length;e++){var r=i[e];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(oh);ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"trep",0,0)||this;return e.trackId=n,e};Ff(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ua},set:function(t){if(!th(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(jh);ki(),Vt();!function(t){var n=function(){return t.call(this,"udta")||this};Ff(n,t)}(qh);ki(),Vt();var id={red:0,green:0,blue:0};!function(t){var n=function(n,e){void 0===n&&(n=0),void 0===e&&(e=id);var i=t.call(this,"vmhd",0,1)||this;return i.graphicsMode=n,i.opColor=e,i};Ff(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.qa},set:function(t){if(!th(t.red,16)||!th(t.green,16)||!th(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(oh);ki(),Vt();var rd=function(t){var n=function(n,e,i,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var o,s,a,c,f,h=this;return(h=t.call(this,n,e)||this).width=i.width,h.height=i.height,h.horizontalResolution=null!==(o=i.horizontal)&&void 0!==o?o:72,h.verticalResolution=null!==(s=i.vertical)&&void 0!==s?s:72,h.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",h.frameCount=null!==(c=r.frameCount)&&void 0!==c?c:1,h.depth=null!==(f=r.depth)&&void 0!==f?f:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h};return Ff(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.la},set:function(t){if(!th(t,16))throw new f("Provided width does not fit in 16 bits.");this.la=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.wa},set:function(t){if(!th(t,16))throw new f("Provided height does not fit in 16 bits.");this.wa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.za},set:function(t){if(!th(nh(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.za=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Wa},set:function(t){if(!th(nh(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Wa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.ja},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.ja=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.Ga},set:function(t){if(!th(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.Ga=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Ya},set:function(t){if(!th(t,16))throw new f("Provided depth does not fit in 16 bits.");this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,e,i,r,u,o;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(e=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==e?e:0)+(null!==(r=null===(i=this.pasp)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)+(null!==(o=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==o?o:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(nh(this.horizontalResolution,16),32),n.writer.writeUInt(nh(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var e=0;e<31-this.compressorName.length;e++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&eh(n.writer,this.extra)},n}(zh);ki(),Vt(),ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"esds",0,0)||this;return e.esDescriptor=n,e};Ff(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(Xf.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(oh);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"mp4a",n,i)||this;return r.esd=e,r};Ff(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Wh);ki(),Vt();!function(t){var n=function(n,e,i,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,e,r)||this;return u.esDescriptor=i,u};Ff(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(rd);ki(),Vt();!function(t){var n=function(n,e){var i=t.call(this,"mp4s",n)||this;return i.esDescriptor=e,i};Ff(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(zh);ki(),Vt(),ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"avcC")||this;return e.decoderConfig=n,e};Ff(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Qf);ki(),Vt();var ud;ud=function(t,n,e,i,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=e,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=i,this.ppsSets=r},v.defineProperty(ud.prototype,"version",{get:function(){return this.Xa},set:function(t){if(!th(t,8))throw new f("Provided version does not fit in 8 bits.");this.Xa=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"profileIndication",{get:function(){return this.$a},set:function(t){if(!th(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.$a=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"profileCompatibility",{get:function(){return this.Ka},set:function(t){if(!th(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.Ka=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"levelIndication",{get:function(){return this.Ja},set:function(t){if(!th(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.Ja=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"spsSets",{get:function(){return this.Za},set:function(t){if(!th(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.Za=t},enumerable:!1,configurable:!0}),v.defineProperty(ud.prototype,"ppsSets",{get:function(){return this.Qa},set:function(t){if(!th(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.Qa=t},enumerable:!1,configurable:!0}),ud.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},ud.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,e=this.spsSets;n<e.length;n++){var i=e[n];t.writer.writeUInt(i.length,16),t.concat(Xf.from(i))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var o=u[r];t.writer.writeUInt(o.length,16),t.concat(Xf.from(o))}};ki(),Vt();!function(t){var n=function(n,e,i,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var o=t.call(this,"avc1",n,e,r)||this;return o.configurationBox=i,o.bitrateBox=u,o};Ff(n,t),n.prototype.getBoxContentSize=function(){var n,e;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(e=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(rd);ki(),Vt();!function(t){var n=function(n,e,i){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=e,r.avg=i,r};Ff(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Rs},set:function(t){if(!th(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.Rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.tc},set:function(t){if(!th(t,32))throw new f("Provided max does not fit in 32 bits.");this.tc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.nc},set:function(t){if(!th(t,32))throw new f("Provided avg does not fit in 32 bits.");this.nc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Qf);ki(),Vt(),ki(),Vt(),ki(),Vt();var od=function(t){var n=function(n,e){var i,r,u,o,s=this;if(s=t.call(this,"tenc",n,0)||this,e.perSampleIvSize>0&&(null!==(r=null===(i=e.constantIv)||void 0===i?void 0:i.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return s.kId=e.kId,s.isProtected=null!==(u=e.isProtected)&&void 0!==u?u:1,e.perSampleIvSize>0?s.perSampleIvSize=e.perSampleIvSize:s.constantIv=null!==(o=e.constantIv)&&void 0!==o?o:new y(0),s};return Ff(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.ec},set:function(t){if(!th(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.ec=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.ic},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.ic=t,this.rc=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.uc},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.uc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.rc},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.rc=t,this.ic=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),eh(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),eh(t.writer,this.constantIv))},n}(oh),sd=(function(t){var n=function(n){return t.call(this,0,n)||this};Ff(n,t)}(od),function(t){var n=function(n){var e=t.call(this,1,n)||this;return e.cryptByteBlocks=n.cryptByteBlock,e.skipByteBlocks=n.skipByteBlock,e};return Ff(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.oc},set:function(t){if(!th(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.oc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.sc},set:function(t){if(!th(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.sc=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(od));!function(t){var n=function(n){var e=t.call(this)||this;return e.tencBox=new sd(n),e};Ff(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(gv);function ad(t){return void 0!==t.iv}function cd(t){return void 0!==t.subsamples}ki(),Vt();!function(t){var n=function(n){var e=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return e.samples=n,e};Ff(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.Ta},set:function(t){var n;if(!th(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var e=0,i=t;e<i.length;e++){var r=i[e];if(ad(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=cd(r)),!0===n&&!cd(r)||!1===n&&cd(r))throw new f("Mix of samples with and without subsamples detected.");if(cd(r)){if(!th(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];if(!th(s.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!th(s.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,e=0,i=this.samples;e<i.length;e++){var r=i[e];ad(r)&&(n+=r.iv.length),cd(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var e=0,i=this.samples;e<i.length;e++){var r=i[e];if(ad(r)&&eh(n.writer,r.iv),cd(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];n.writer.writeUInt(s.clearData,16),n.writer.writeUInt(s.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(oh);ki(),Vt(),ki(),Vt();!function(t){var n=function(n,e,i,r,u){var o=t.call(this,"emsg",0,0)||this;return o.schemeIdUri=n,o.value=e,o.data=u,o.id=i,o.timescale=r.timescale,o.presentationTimeDelta=r.presentationTimeDelta,o.eventDuration=r.eventDuration,o};Ff(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Qs},set:function(t){if(!th(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.ac},set:function(t){if(!th(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.ac=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.cc},set:function(t){if(!th(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.cc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.fc},set:function(t){if(!th(t,32))throw new f("The provided id does not fit in 32 bits.");this.fc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Xf.from(this.data))}}(oh);ki(),Vt(),ki(),Vt(),ki(),Vt();var fd;(fd=function(){this.boxes=[]}).prototype.serialize=function(){for(var t=new Zf,n=0,e=this.boxes;n<e.length;n++){var i=e[n];t.concat(i.serialize())}return t.toRangedBuffer()};function hd(t,n){return function(e){var i,r=function(t,n){for(var e=t.data,i=t.cursor;i.offset<e.byteLength;){var r=Ch(e,i);if(!r.complete)return;if(Nh(r.box,n))return r.box}}(new Rh((i=e,new DataView(i.buffer,i.byteOffset,i.byteLength)),new Eh),t);if(!r)throw new f("".concat(t," box not found"));return n(r)}}hd("moov",(function(t){for(var n=new Uv,e=0,i=Oh(t.data);e<i.length;e++){var r=i[e];Nh(r,"mvhd")?n.boxes.push(Dv(r)):Nh(r,"trak")?n.boxes.push(Fv(r)):Nh(r,"mvex")?n.boxes.push(Nv(r)):Nh(r,"pssh")?n.boxes.push(pv(r)):n.boxes.push(Bh(r))}return n})),hd("sidx",(function(t){var n,e,i=t.data,r=Ah(i.nextUint32()),u=r.version,o=r.flags,s=i.nextUint32(),a=i.nextUint32();0===u?(n=i.nextUint32(),e=i.nextUint32()):(n=i.nextUint64(),e=i.nextUint64()),i.skip(2);for(var c=i.nextUint16(),f=[],h=0;h<c;h++){var v=new jf(Xf.from(i.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),w=v.readUInt(32),g=Boolean(v.readBit()),y=v.readUInt(3),m=v.readUInt(28);f.push({referenceType:d,referencedSize:l,subsegmentDuration:w,startsWithSap:g,sapType:y,sapDeltaTime:m})}return 0===u?new nd(s,a,n,e,f,o.raw):new ed(s,a,n,e,f,o.raw)})),hd("moof",(function(t){for(var n=new Kv,e=0,i=Oh(t.data);e<i.length;e++){var r=i[e];Nh(r,"traf")?n.boxes.push($v(r)):Nh(r,"pssh")?n.boxes.push(pv(r)):n.boxes.push(Bh(r))}return n}));var vd=hd("pssh",pv),dd=function(t){function n(n,e){var i;(i=t.call(this)||this).hc=n,i.vc=e,i.dc=!1,i.lc=function(){i.wc()},i.gc=function(t){i.mo(new Nc(lu(i),t.messageType,xf(i.vc,t.message)))},i.yc=function(){i.dc=!0,i.mc.Go>0&&(i.mc.jo(),i.mo(new Rc(lu(i)))),i.hc.removeEventListener("keystatuseschange",i.lc),i.hc.removeEventListener("message",i.gc)},i.hc.addEventListener("keystatuseschange",i.lc),i.hc.addEventListener("message",i.gc),i.mc=new Dc;var r=[];return i.hc.closed&&r.push(G.resolve(i.hc.closed)),i._c=new Df,r.push(i._c.es),i.X=G.race(r).then(i.yc,i.yc),i.wc(),i}Xi(n,t);var e=n.prototype;return e.bc=function(){if(this.dc)return this.X;var t=[];return t.push(G.resolve(this.hc.close())),t.push(yc(1e3)),this._c.ho(G.race(t).catch(ld)),this.dc=!0,this.X},e.kc=function(t,n,e){if(sr.ze){var i=vd(Rf(n));if(1===i.version)n=new mv(i.systemId,i.data).serialize().join()}return G.resolve(this.hc.generateRequest(t,n)).catch(ld)},e.Tc=function(t){return G.resolve(this.hc.load(t)).catch(ld)},e.Sc=function(){return G.resolve(this.hc.remove()).catch(ld)},e.Ec=function(t){return G.resolve(this.hc.update(t)).catch(ld)},e.wc=function(){var t=this;this.mc.jo(),this.hc.keyStatuses.forEach((function(n,e){t.Ic(e,n)})),this.mo(new Rc(this))},e.Ic=function(t,n){if("string"==typeof t){var e=t;t=n,n=e}var i=Rf(t);if(this.vc===pa&&16===i.byteLength){var r=Sf(i),u=r.getUint32(0,!0),o=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,o,!1),r.setUint16(6,s,!1)}this.vc===pa&&"status-pending"===n&&(n="usable"),this.mc.Wo(i,n)},Ii(n,[{key:"Rc",get:function(){return this.X}},{key:"Nc",get:function(){return this.hc.expiration}},{key:"Oc",get:function(){return this.mc}},{key:"Cc",get:function(){return this.hc.sessionId}}]),n}(pc);function ld(t){var n;if(t.message){var e=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);e&&(n=0|l(e[1],16))}throw new Lf(t.message,void 0,n,t)}var wd=function(){function t(t,n,e){this.Ac=t,this.Dc=n,this.Pc=e}var n=t.prototype;return n.xc=function(t){var n=this;return ta((function(){return ea(this,(function(e){return[2,new dd(n.Ac.createSession(t),n.Dc)]}))}))()},n.Bc=function(t){return G.resolve(this.Ac.setServerCertificate(t))},n.Lc=function(t){return G.resolve(t.setMediaKeys(this.Ac))},n.Mc=function(t){return G.resolve(t.setMediaKeys(null))},n.Fc=function(){return G.resolve()},t}(),gd=function(){function t(t,n,e){this.Uc=t,this.vc=n,this.Vc=e}var n=t.prototype;return n.Hc=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return[4,t.Uc.createMediaKeys()];case 1:return n=e.sent(),[2,new wd(n,t.vc,t.Vc)]}}))}))()},n.qc=function(){return this.Vc},Ii(t,[{key:"Dc",get:function(){return this.Uc.keySystem}}]),t}();function yd(t){var n=t.trim(),e=n.indexOf(";");return e<0?n:n.substr(0,e).trim()}function md(t,n,e,i){var r=!1;if(!(i.persistentState&&"optional"!==i.persistentState||i.distinctiveIdentifier&&"optional"!==i.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label,zc:i.zc},o=!1;if(i.audioCapabilities){var s=i.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));s.length&&(u.audioCapabilities=s.filter((function(i){return _d(t,n,e,i)})),o=!0,u.audioCapabilities.length&&(r=!0))}if(i.videoCapabilities){var a=i.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(i){return _d(t,n,e,i)})),o=!0,u.videoCapabilities.length&&(r=!0))}return o||(r=t(e,"video/mp4")),r?u:void 0}}function _d(t,n,e,i){return!!i.contentType&&(!(i.encryptionScheme&&!nc(n,i.encryptionScheme))&&(!i.robustness&&t(e,yd(i.contentType))))}function pd(t){if(t.videoCapabilities)for(var n=0,e=t.videoCapabilities;n<e.length;n++){var i=e[n];if(i.contentType)return i.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var o=u[r];if(o.contentType)return o.contentType}}function bd(t){for(var n=[],e=0;e<t.length;e++){var i=t[e];i.encryptionScheme&&n.push({contentType:i.contentType,robustness:i.robustness})}return t.concat(n)}function kd(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Td))||!(!t.videoCapabilities||!t.videoCapabilities.some(Td))}function Td(t){return!t.robustness}function Sd(t,n){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.robustness?e.push(r):e.push(na({},r,{robustness:n}))}return e}ki(),Vt(),ki(),Vt();var Ed=function(){function t(){}return t.prototype.Gu=function(t,n){return ta((function(){var e,i,r,o,s,a,c;return ea(this,(function(f){switch(f.label){case 0:for(n=n.filter((function(t){return!t.zc})),e=0;e<n.length;e++)(i=n[e]).audioCapabilities&&(i.audioCapabilities=bd(i.audioCapabilities)),i.videoCapabilities&&(i.videoCapabilities=bd(i.videoCapabilities));if(t!==Ta||!n.some(kd))return[3,4];r=n.map((function(t){return function(t,n){return na({},t,{videoCapabilities:t.videoCapabilities?Sd(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?Sd(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,u.requestMediaKeySystemAccess(t,r)];case 2:return o=f.sent(),s=o.getConfiguration(),[2,new gd(o,t,s)];case 3:return f.sent(),[3,4];case 4:return[4,u.requestMediaKeySystemAccess(t,n)];case 5:return a=f.sent(),c=a.getConfiguration(),[2,new gd(a,t,c)]}}))}))()},t.Wc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}();ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),Ri();var Id=function(t){function n(n,e){var i;return(i=t.call(this)||this).jc=n,i.Gc=e,i.dc=!1,i.Yc=void 0,i.Xc=void 0,i.$c=void 0,i.yc=function(){i.dc=!0,i.Kc.rs(void 0),i.$c&&(i.$c.removeEventListener("mskeyclose",i.yc),i.$c.removeEventListener("mskeymessage",i.Jc),i.$c.removeEventListener("mskeyerror",i.Zc),i.$c.removeEventListener("mskeyadded",i.Qc))},i.Jc=function(t){i.Xc&&(i.Xc.rs(void 0),i.Xc=void 0),i.mo(new Nc(lu(i),"license-request",Of(t.message).buffer,t.destinationURL||void 0))},i.Zc=function(){var t=i.$c&&i.$c.error;if(t){var n=new Lf("Unknown CDM error",t.code,t.systemCode);if(i.Xc)i.Xc.us(n),i.Xc=void 0;else if(i.Yc)i.Yc.us(n),i.Yc=void 0;else switch(n.os){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:i.tf("output-not-allowed");break;default:i.tf("internal-error")}}},i.Qc=function(){i.Xc&&(i.tf("usable"),i.Xc.rs(void 0),i.Xc=void 0),i.Yc&&(i.tf("usable"),i.Yc.rs(void 0),i.Yc=void 0)},i.Kc=new Df,i.nf=new Dc,i}Xi(n,t);var e=n.prototype;return e.kc=function(t,n,e){var i=this;return ta((function(){return ea(this,(function(t){switch(t.label){case 0:return i.ef(),i.Xc=new Df,i.xc(Rf(n),e),[4,i.Xc.es];case 1:return t.sent(),[2]}}))}))()},e.xc=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var e,i=n&&n.playready&&n.playready.if;return(e=n?this.jc.createSession(this.Gc,t,i):this.jc.createSession(this.Gc,t)).addEventListener("mskeyclose",this.yc),e.addEventListener("mskeymessage",this.Jc),e.addEventListener("mskeyerror",this.Zc),e.addEventListener("mskeyadded",this.Qc),this.$c=e,this.tf("status-pending"),e},e.Tc=function(t){var n=this;return ta((function(){return ea(this,(function(t){return n.ef(),[2,!0]}))}))()},e.Ec=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:if(n.Yc=new Df,n.ef(),!n.$c)return[2,G.resolve()];if(0===(e=Rf(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.$c.update(e),[4,n.Yc.es];case 1:return i.sent(),[2]}}))}))()},e.bc=function(){return!this.dc&&this.$c&&(this.dc=!0,this.$c.close()),this.Kc.es},e.Sc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.ef(),[2]}))}))()},e.ef=function(){if(this.dc)throw new h("Already closing or closed.")},e.tf=function(t){this.nf.jo(),this.nf.Wo(Ac,t),this.mo(new Rc(this))},Ii(n,[{key:"Cc",get:function(){return this.$c&&this.$c.sessionId||""}},{key:"Nc",get:function(){return NaN}},{key:"Rc",get:function(){return this.Kc.es}},{key:"Oc",get:function(){return this.nf}}]),n}(pc),Rd=function(){function t(t,n,e){this.jc=t,this.Dc=n,this.Pc=e;var i=pd(e)||"video/mp4";this.Gc=yd(i)}var n=t.prototype;return n.xc=function(t){var n=this;return ta((function(){return ea(this,(function(t){return[2,new Id(n.jc,n.Gc)]}))}))()},n.Bc=function(t){return G.resolve(!1)},n.Lc=function(t){var n=this,e=function(){t.msSetMediaKeys(n.jc),t.removeEventListener("loadedmetadata",e)};return t.readyState>=1?t.msSetMediaKeys(this.jc):t.addEventListener("loadedmetadata",e),G.resolve()},n.Mc=function(t){return G.resolve()},n.Fc=function(){return G.resolve()},t}();Ti();var Nd=function(){function t(t,n){this.vc=t,this.rf=n}var n=t.prototype;return n.qc=function(){return this.rf},n.Hc=function(){var t=new mi.MSMediaKeys(this.vc);return G.resolve(new Rd(t,this.vc,this.rf))},Ii(t,[{key:"Dc",get:function(){return this.vc}}]),t}();Ti();var Od=function(){function t(){}return t.prototype.Gu=function(t,n){try{return G.resolve(function(t,n){if(!Cd())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=md(Ad,Ec,t,i);if(r)return new Nd(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.Wc=function(){return Cd()},t}();function Cd(){return void 0!==mi.MSMediaKeys&&"function"==typeof mi.MSMediaKeys.isTypeSupported}function Ad(t,n){return mi.MSMediaKeys.isTypeSupported(t,n)}ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),Ri();var Dd,Pd,xd,Bd,Ld=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).uf=n,r.Gc=e,r.sf=i,r.Kc=new Df,r.af=void 0,r.nf=new Dc,r.cf=void 0,r.ff=new Df,r.Zc=function(){var t=r.cf&&r.cf.error;if(t){var n=new Lf("Unknown CDM error",t.code,t.systemCode);r.af?(r.af.us(n),r.af=void 0):n.os===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.tf("output-not-allowed"):r.tf("internal-error"),r.mo(new Oc)}},r.Jc=function(t){r.mo(new Nc(lu(r),"license-request",Of(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Qc=function(){r.af&&(r.af.rs(void 0),r.af=void 0),r.tf("usable")},r}Xi(n,t);var e=n.prototype;return e.kc=function(t,n,e){var i=e&&e.fairplay&&e.fairplay.hf;if(!i)throw new h("Expected FairPlay contentId to be defined but was "+i+".");var r=Md(Rf(n),i,this.sf);return this.cf=this.uf.createSession(this.Gc,r),this.cf.addEventListener("webkitkeymessage",this.Jc,!1),this.cf.addEventListener("webkitkeyadded",this.Qc,!1),this.cf.addEventListener("webkitkeyerror",this.Zc,!1),this.tf("status-pending"),this.ff.rs(this.cf),this.ff=new Df,G.resolve()},e.Tc=function(t){return G.resolve(!0)},e.Ec=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:if(0===(e=Rf(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.af=new Df,(i=n.cf)?[3,2]:[4,n.ff.es];case 1:i=r.sent(),r.label=2;case 2:return i.update(e),[4,n.af.es];case 3:return r.sent(),[2]}}))}))()},e.bc=function(){var t,n=this.cf;return n&&(n.removeEventListener("webkitkeymessage",this.Jc,!1),n.removeEventListener("webkitkeyadded",this.Qc,!1),n.removeEventListener("webkitkeyerror",this.Zc,!1),n.close()),this.ff.fo(),null==(t=this.af)||t.fo(),this.Kc.rs(void 0),this.Kc.es},e.Sc=function(){return G.resolve(void 0)},e.tf=function(t){this.nf.jo(),this.nf.Wo(Ac,t),this.mo(new Rc(this))},Ii(n,[{key:"Cc",get:function(){return this.cf?this.cf.sessionId:""}},{key:"Nc",get:function(){return NaN}},{key:"Rc",get:function(){return this.Kc.es}},{key:"Oc",get:function(){return this.nf}}]),n}(pc);function Md(t,n,e){var i=bf(t),r=2*i.length,u=2*n.length,o=new ArrayBuffer(4+r+4+u+4+e.byteLength),s=new DataView(o),a=new Af;return af(s,a,r,!0),wf(s,a,i,!0),af(s,a,u,!0),wf(s,a,n,!0),af(s,a,e.byteLength,!0),function(t,n,e){Ef(t).set(Ef(e),n.Jo),n.Xo(e.byteLength)}(s,a,e),new y(o)}ki(),Vt(),Ri(),ki(),Vt(),(Pd=Dd||(Dd={}))[Pd.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Pd[Pd.LICENSE_ERROR=2e3]="LICENSE_ERROR",Pd[Pd.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Pd[Pd.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Pd[Pd.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Pd[Pd.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Pd[Pd.SOURCE_INVALID=3e3]="SOURCE_INVALID",Pd[Pd.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Pd[Pd.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Pd[Pd.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Pd[Pd.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Pd[Pd.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Pd[Pd.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Pd[Pd.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Pd[Pd.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Pd[Pd.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Pd[Pd.NETWORK_ERROR=6e3]="NETWORK_ERROR",Pd[Pd.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Pd[Pd.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Pd[Pd.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Pd[Pd.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Pd[Pd.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Pd[Pd.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Pd[Pd.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Pd[Pd.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Pd[Pd.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Pd[Pd.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Pd[Pd.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Pd[Pd.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Pd[Pd.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Pd[Pd.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Pd[Pd.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Pd[Pd.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Pd[Pd.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Pd[Pd.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Pd[Pd.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Pd[Pd.AD_ERROR=1e4]="AD_ERROR",Pd[Pd.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Pd[Pd.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",Pd[Pd.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",Pd[Pd.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",(Bd=xd||(xd={}))[Bd.CONFIGURATION=1]="CONFIGURATION",Bd[Bd.LICENSE=2]="LICENSE",Bd[Bd.SOURCE=3]="SOURCE",Bd[Bd.MANIFEST=4]="MANIFEST",Bd[Bd.MEDIA=5]="MEDIA",Bd[Bd.NETWORK=6]="NETWORK",Bd[Bd.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Bd[Bd.SUBTITLE=8]="SUBTITLE",Bd[Bd.VR=9]="VR",Bd[Bd.AD=10]="AD",Bd[Bd.FULLSCREEN=11]="FULLSCREEN",Bd[Bd.CACHE=12]="CACHE",(xd||(xd={})).fromCode=function(t){var n=d.floor(t/1e3);if(n in xd)return n;throw new h("Invalid error code: "+t)};var Fd=function(t){function n(n,e,i){var r;return(r=t.call(this,e,i)||this).code=n,r}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return xd.fromCode(this.code)}}]),n}(gu);var Ud=function(){function t(t,n,e){this.uf=t,this.Dc=n,this.Pc=e,this.sf=void 0;var i=pd(e)||"video/mp4";this.Gc=yd(i)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.uf},n.xc=function(t){var n=this;return ta((function(){return ea(this,(function(t){if(!n.sf)throw new Fd(Dd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new Ld(n.uf,n.Gc,n.sf)]}))}))()},n.Bc=function(t){return this.sf=Rf(t),G.resolve(!0)},n.Lc=function(t){return t.webkitSetMediaKeys(this.uf),G.resolve()},n.Mc=function(t){return t.webkitSetMediaKeys(null),G.resolve()},n.Fc=function(){return G.resolve()},t}();Ti();var Vd=function(){function t(t,n){this.vc=t,this.rf=n}var n=t.prototype;return n.qc=function(){return this.rf},n.Hc=function(){var t=new mi.WebKitMediaKeys(this.vc);return G.resolve(new Ud(t,this.vc,this.rf))},Ii(t,[{key:"Dc",get:function(){return this.vc}}]),t}();Ti();var Hd=function(){function t(){}return t.prototype.Gu=function(t,n){try{return G.resolve(function(t,n){if(t!==Ra)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!qd())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=md(zd,Ic,t,i);if(r)return new Vd(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.Wc=function(){return qd()},t}();function qd(){return void 0!==mi.WebKitMediaKeys&&"function"==typeof mi.WebKitMediaKeys.isTypeSupported}function zd(t,n){return mi.WebKitMediaKeys.isTypeSupported(t,n)}ki(),Vt();var Wd=function(){function t(t){this.vf=t}return t.prototype.Gu=function(t,n){var e=this;return ta((function(){var i,r,u;return ea(this,(function(o){switch(o.label){case 0:i=0,r=e.vf,o.label=1;case 1:if(!(i<r.length))return[3,6];u=r[i],o.label=2;case 2:return o.trys.push([2,4,,5]),[4,u.Gu(t,n)];case 3:return[2,o.sent()];case 4:return o.sent(),[3,5];case 5:return i++,[3,1];case 6:throw new h("Unsupported key system configuration for "+t)}}))}))()},t}();ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt();var jd=function(){function t(t){var n=this;this.df=[],this.lf=void 0,this.wf=new rc,this.gf=function(){return 0===n.df.length?n.yf?Gd(n.yf,n.wf.do).then(n.mf,n.mf):n.mf():n.df.shift()().then(n.gf)},this.mf=function(){if(0!==n.df.length)return n.gf();n.lf=void 0},this.yf=t}var n=t.prototype;return n._f=function(t,n){var e=this;return new G((function(i){var r=new rc;r.ho(e.wf.do),n&&r.ho(n);var u=function(){r.ro()};e.df.push((function(){var n=Gd(t,r.do);return i(n),n.then(u,u)})),e.lf||(e.lf=e.gf())}))},n.fo=function(){return this.pf(!0)},n.kn=function(){return this.yf=void 0,this.pf(!1)},n.pf=function(t){var n=this.lf;return this.wf.fo(),t&&(this.wf=new rc),G.resolve(n)},t}();function Gd(t,n){return new G((function(e){return e(t(n))}))}var Yd,Xd=new jd,$d=function(t){function n(n){var e;return(e=t.call(this)||this).vc=n,e.Xc=void 0,e.af=void 0,e.Cn=!1,e.bf=void 0,e.kf=void 0,e.Kc=new Df,e.Tf="",e.Sf=new Df,e.Ef=new Dc,e}Xi(n,t);var e=n.prototype;return e.If=function(){this.af&&(this.tf("usable"),this.af.rs(void 0),this.af=void 0)},e.Rf=function(t){var n=new Lf("Unknown CDM error",t.errorCode,t.systemCode);this.af?(this.af.us(n),this.af=void 0):this.Xc?(this.Xc.us(n),this.Xc=void 0):n.os===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.tf("output-restricted"):1===n.ss?this.tf("expired"):this.tf("internal-error")},e.Nf=function(t){0!==t.message.byteLength&&(this.Xc&&(this.Xc.rs(void 0),this.Xc=void 0),this.mo(new Nc(this,"license-request",xf(this.vc,Of(t.message).buffer),t.defaultURL||void 0)))},e.Of=function(t){this.kf||(this.kf=t,this.Sf.rs(t))},e.bc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.throwIfClosed(),t.af&&(t.af.us(void 0),t.af=void 0),t.Cn=!0,t.Kc.rs(void 0),[2]}))}))()},e.kc=function(t,n){var e=this;return ta((function(){var t;return ea(this,(function(i){switch(i.label){case 0:return e.throwIfClosed(),e.Xc=new Df,e.bf=Rf(n),(t=e.kf)?[3,2]:[4,e.Sf.es];case 1:t=i.sent(),i.label=2;case 2:return t.webkitGenerateKeyRequest(e.vc,e.bf),[4,e.Xc.es];case 3:return i.sent(),[2]}}))}))()},e.Tc=function(t){var n=this;return ta((function(){return ea(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},e.Sc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.throwIfClosed(),[2]}))}))()},e.Ec=function(t){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return n.throwIfClosed(),n.af=new Df,sr.Qe||sr.Je?[2,Xd._f(ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,n.doUpdate(t)];case 1:return e.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return e.sent(),[2]}}))}))()},e.doUpdate=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return void 0===n.af?[2]:(e=n.kf)?[3,2]:[4,n.Sf.es];case 1:e=i.sent(),i.label=2;case 2:return e.webkitAddKey(n.vc,Rf(t),n.bf,n.Cc),[4,n.af.es];case 3:return i.sent(),[2]}}))}))()},e.throwIfClosed=function(){if(this.Cn)throw new h("Already closing or closed.")},e.tf=function(t){this.Ef.jo(),this.Ef.Wo(Ac,t),this.mo(new Rc(this))},e.Cf=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:return(e=t.kf)?[3,2]:[4,t.Sf.es];case 1:e=i.sent(),i.label=2;case 2:if(!(n=e).webkitCancelKeyRequest)return[3,7];i.label=3;case 3:return i.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.vc,t.Tf),[3,7];case 4:return i.sent(),[3,7];case 5:return[4,yc(500)];case 6:return i.sent(),[7];case 7:return[2]}}))}))()},Ii(n,[{key:"Oc",get:function(){return this.Ef}},{key:"Cc",get:function(){return this.Tf},set:function(t){this.Tf=t}},{key:"Rc",get:function(){return this.Kc.es}},{key:"Nc",get:function(){return NaN}}]),n}(pc),Kd=function(){function t(t,n){var e=this;this.Dc=t,this.Pc=n,this.kf=void 0,this.Af=ua(),this.Df=[],this.Qc=function(t){var n=e.Pf(t.sessionId);n&&n.If()},this.xf=function(t){var n=e.Pf(t.sessionId);n&&n.Rf(t)},this.Bf=function(t){var n=e.Pf(t.sessionId);n&&n.Nf(t)}}var n=t.prototype;return n.Lc=function(t){return this.kf=t,this.kf.addEventListener("webkitkeyadded",this.Qc),this.kf.addEventListener("webkitkeyerror",this.xf),this.kf.addEventListener("webkitkeymessage",this.Bf),this.Af.forEach((function(n,e){return n.Of(t)})),this.Df.forEach((function(n){return n.Of(t)})),G.resolve()},n.Mc=function(t){return t.removeEventListener("webkitkeyadded",this.Qc),t.removeEventListener("webkitkeyerror",this.xf),t.removeEventListener("webkitkeymessage",this.Bf),this.kf=void 0,G.resolve()},n.Fc=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:n=t.Af.entries(),e=n.next(),i.label=1;case 1:return e.done?[3,3]:[4,e.value[1].Cf()];case 2:return i.sent(),e=n.next(),[3,1];case 3:return t.Af.clear(),[2]}}))}))()},n.xc=function(t,n,e){var i=this;return ta((function(){var t;return ea(this,(function(n){return t=new $d(i.Dc),i.kf&&t.Of(i.kf),i.Df.push(t),[2,t]}))}))()},n.Bc=function(t){return G.resolve(!1)},n.Pf=function(t){if(t){var n=this.Af.get(t);return n||((n=this.Df.shift())?(n.Cc=t,this.Af.set(t,n),n):void 0)}},t}(),Jd=function(){function t(t,n){this.Dc=t,this.Lf=n}var n=t.prototype;return n.Hc=function(){return G.resolve(new Kd(this.Dc,this.Lf))},n.qc=function(){return this.Lf},t}(),Zd=function(){function t(){}return t.prototype.Gu=function(t,n){try{return G.resolve(function(t,n){if(!Zd.Wc())throw new h("Unsupported key system "+t);for(var e=0;e<n.length;e++){var i=n[e],r=md(Qd,Ec,t,i);if(r)return new Jd(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.Wc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Qd(t,n){var e=Ps();return!(!e||!e.canPlayType||""===e.canPlayType(n,t))}function tl(){return Yd||(Yd=function(){var t=[];Hd.Wc()&&t.push(new Hd);Ed.Wc()&&t.push(new Ed);Od.Wc()&&t.push(new Od);Zd.Wc()&&t.push(new Zd);return new Wd(t)}()),Yd}ki(),Vt(),ki(),Vt();var nl=function(){function t(){this.Mf=ua()}var n=t.prototype;return n.jo=function(t){this.Mf.delete(t)},n.Ff=function(){this.Mf.clear()},n.qo=function(t){return this.Mf.get(t)},n.Uf=function(t,n){this.Mf.set(t,n)},t}(),el=function(){function t(){}return t.Vf=function(){return t.bi||(t.bi=il.Wc()?new il:new nl),t.bi},t.jo=function(n){t.Vf().jo(n)},t.Ff=function(){t.Vf().Ff()},t.qo=function(n){return t.Vf().qo(n)},t.Uf=function(n,e){t.Vf().Uf(n,e)},t}();el.bi=void 0;var il=function(n){function e(){return n.apply(this,arguments)}Xi(e,n);var i=e.prototype;return i.jo=function(n){t.sessionStorage.removeItem(n)},i.Ff=function(){t.sessionStorage.clear()},i.qo=function(n){return t.sessionStorage[n]},i.Uf=function(n,e){t.sessionStorage[n]=e},e.Wc=function(){var n="foobar";try{return t.sessionStorage.setItem(n,n),t.sessionStorage.removeItem(n),!0}catch(t){return!1}},e}(el);ki(),Vt(),ki(),Vt();var rl=function(){var n,e=t.Blob;if(e)try{return new e,n=e,function(t,e){return new n(t,e)}}catch(t){}var i,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return i=r,function(t,n){var e=new i;if(t)for(var r=0;r<t.length;r++){var u=t[r];e.append(u)}return e.getBlob(n&&n.type||"")}}();function ul(t,n,e){var r=rl([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),o=function(t,n){var e=t,i=e.indexOf("?");if(i>=0&&(e=e.substr(0,i)),e=e.substr(e.lastIndexOf("/")+1),n){var r=e.indexOf(".");r<0&&(r=e.length),e=e.substr(0,r)+n+e.substr(r)}return e}(t,e),s=i.createElement("a");s.href=u,s.download=o,i.body.appendChild(s),s.click(),i.body.removeChild(s),URL.revokeObjectURL(u)}ki(),Vt();var ol,sl,al,cl,fl="default",hl="unknown";ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),(sl=ol||(ol={})).Hf="qf",sl.zf="Wf",sl.jf="contentprotectionerror",sl.Gf="contentprotectionsuccess",sl.Yf="currentsourcechange",sl.Xf="destroy",sl.$f="durationchange",sl.Kf="emptied",sl.Bo="encrypted",sl.Jf="ended",sl.Zf="Qf",sl.th="nh",sl.eh="ih",sl.rh="loadstart",sl.uh="manifestupdate",sl.oh="nosupportedrepresentationfound",sl.sh="offline",sl.ah="online",sl.fh="pause",sl.hh="play",sl.dh="progress",sl.lh="ratechange",sl.wh="representationchange",sl.gh="resize",sl.yh="seeked",sl.mh="seeking",sl._h="segmentnotfound",sl.ph="bh",sl.kh="Th",sl.Sh="sourcechange",sl.Eh="timeupdate",sl.Ih="volumechange",sl.Rh="Nh",sl.Oh="metricschange",ki(),Vt(),ki(),Vt(),(cl=al||(al={})).Ch="arraybuffer",cl.Ah="json",cl.Dh="stream",cl.Ii="text",ki(),Vt();var vl=function(){function t(n){var e=this;this.Au={},n instanceof t?n.asList().forEach((function(t){var n=ia(t,2),i=n[0],r=n[1];e.append(i,r)})):Array.isArray(n)?n.forEach((function(t){e.append(t[0],t[1])})):n&&v.getOwnPropertyNames(n).forEach((function(t){e.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var e=t,i=n;e=dl(e),i=ll(i);var r=e.toLowerCase();if(this.Au.hasOwnProperty(r)){var u=this.Au[r],o=u[1];u[1]=o?o+", "+i:i}else this.Au[r]=[e,i]},n.delete=function(t){var n=dl(t).toLowerCase();delete this.Au[n]},n.get=function(t){var n=dl(t).toLowerCase();return this.Au.hasOwnProperty(n)?this.Au[n][1]:null},n.has=function(t){var n=dl(t).toLowerCase();return this.Au.hasOwnProperty(n)},n.set=function(t,n){var e=t,i=(e=dl(e)).toLowerCase();this.Au[i]=[e,ll(n)]},n.forEach=function(t,n){for(var e in this.Au)this.Au.hasOwnProperty(e)&&t.call(n,this.Au[e][1],e,this)},n.asList=function(){var t=[];for(var n in this.Au)if(this.Au.hasOwnProperty(n)){var e=ia(this.Au[n],2),i=e[0],r=e[1];t.push([i,r])}return t},n.Ph=function(){var t={};return this.forEach((function(n,e){t[e]=n})),t},n.xh=function(t){var n=this;t.forEach((function(t,e){n.append(e,t)}))},n.Bh=function(t){var n=this;t.forEach((function(t,e){n.set(e,t)}))},t}();function dl(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function ll(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),bi(),ki(),Vt(),Ri();var wl,gl,yl=function(t){function n(n){var e;return(e=t.call(this,""+n.join("\n"),n[0])||this).causes=n,e}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(gu);function ml(t){return n=[t],new Lt({start:function(t){for(var e=0;e<n.length;e++){var i=n[e];t.enqueue(i)}t.close()}});var n}function _l(t){return ml(new y(t))}function pl(t,n){return function(t,n){var e=n,i=t.getReader(),r=new Df,u=function(){o();var t=new uc;i.cancel(t).catch(pr),r.us(t)},o=function(){e&&(e.oo(u),e=void 0)};e&&(e.Ju?u():e.uo(u));var s=[],a=function(t){return t.done?(o(),G.resolve(s)):(s.push(t.value),G.resolve(i.read()).then(a))};return G.resolve(i.read()).then(a).then((function(t){o(),r.rs(t)}),(function(t){o(),r.us(t)})),r.es}(t,n).then((function(t){return zc(t).buffer}))}function bl(t,n){var e=n,i=new Mt,r=i.readable,u=i.writable,o=u.getWriter(),s=function(){e&&e.fo()};return o.closed.then(s,s),t.then((function(t){return e=void 0,o.releaseLock(),t.pipeTo(u).catch(pr)}),(function(t){return e=void 0,o.releaseLock(),u.abort(t).catch(pr)})),r}function kl(t){return bf(new y(t))}function Tl(t){return kf(t).buffer}ki(),Vt(),(gl=wl||(wl={}))[gl.Dh=0]="Dh",gl[gl.Lh=1]="Lh";var Sl="text/plain;charset=UTF-8",El=function(){function t(){}var n=t.prototype;return n.Mh=function(t){return this.Fh(t).then(JSON.parse)},n.Uh=function(t,n){switch(t){case al.Ch:return this.Vh(n);case al.Ah:return this.Mh(n);case al.Dh:return this.Hh();case al.Ii:return this.Fh(n);default:throw new h}},t}();function Il(t,n,e){if(t instanceof El)return t;if(t instanceof Lt)return function(t,n){return new Nl({Mu:0,Hh:t,qh:Rl(n)})}(t,e);var i=Rl(e),r=G.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{Mu:al.Ii,zh:t,qh:n||Sl};if(t instanceof ArrayBuffer||Hc(t))return{Mu:al.Ch,zh:Bl(t),qh:n};if(wr(t)||vr(t))return{Mu:al.Ah,zh:t,qh:n};throw new h("Unsupported BodyInit type")}return{Mu:al.Ii,zh:null,qh:n}}(t,i)}));return new Nl({Mu:1,es:r,Wh:n})}function Rl(t){return(t.get("content-type")||"").toLowerCase()}var Nl=function(t){function n(n){var e;return(e=t.call(this)||this).jh=!1,e.Gh=new Df,e.Gh.es.catch(pr),e.Yh(n),e}Xi(n,t);var e=n.prototype;return e.Xh=function(){return this.Gh.es},e.Fh=function(t){return this.$h(Ol,t)},e.Mh=function(t){return this.$h(Al,t)},e.Vh=function(t){return this.$h(Pl,t)},e.Hh=function(){return this.Kh(0===(t=this.Jh).Mu?t.Hh:bl(t.es.then(xl).then(_l),t.Wh));var t},e.$h=function(t,n){if(this.jh)return G.reject(new h("Already used"));this.jh=!0;var e=t(this.Jh,n);return this.Gh.ho(e.then(pr)),e},e.Kh=function(t){if(this.jh)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.jh=!0;var n=new Mt,e=G.resolve(t.pipeTo(n.writable));return this.Gh.ho(e),n.readable},e.Yh=function(t){this.Jh=t,1===t.Mu&&t.es.catch(pr)},e.Zh=function(){if(this.jh)throw new h("Already used");var t=function(t){if(0===t.Mu){var n=ia(t.Hh.tee(),2),e=n[0],i=n[1];return[{Mu:t.Mu,Hh:e,qh:t.qh},{Mu:t.Mu,Hh:i,qh:t.qh}]}var r=ia(t.Wh.vo(),2),u=r[0],o=r[1];return[{Mu:t.Mu,es:t.es,Wh:u},{Mu:t.Mu,es:t.es,Wh:o}]}(this.Jh),e=t[0],i=t[1];return this.Yh(e),new n(i)},Ii(n,[{key:"Qh",get:function(){return this.jh}}]),n}(El);function Ol(t,n){return 0===t.Mu?pl(t.Hh,n).then(kl):(n&&t.Wh.ho(n),hc(t.es.then(Cl),t.Wh))}function Cl(t){switch(t.Mu){case al.Ii:return G.resolve(t.zh||"");case al.Ch:return G.resolve(t.zh).then(kl);case al.Ah:return G.resolve(t.zh).then(JSON.stringify)}}function Al(t,n){return 0===t.Mu?Ol(t,n).then(JSON.parse):(n&&t.Wh.ho(n),hc(t.es.then(Dl),t.Wh))}function Dl(t){return t.Mu===al.Ah?G.resolve(t.zh):Cl(t).then(JSON.parse)}function Pl(t,n){return 0===t.Mu?pl(t.Hh,n):(n&&t.Wh.ho(n),hc(t.es.then(xl),t.Wh))}function xl(t){switch(t.Mu){case al.Ch:return G.resolve(t.zh);case al.Ii:case al.Ah:return Cl(t).then(Tl)}}function Bl(t){return t instanceof ArrayBuffer?t:Of(Ef(t)).buffer}function Ll(t){return t.tv>=200&&t.tv<=299||304===t.tv}var Ml,Fl,Ul,Vl,Hl,ql,zl,Wl,jl=function(t){function n(n,e){var i,r,u,o,s,a;e?(r=e.nv,u=e.ev,o=e.tv,s=e.rv,a=e.uv):(r=[],u=al.Ii,o=200,s="OK",a=!1);var c=n.ov,f=new vl(n.nv||r),h=n.ev||u,v=n.sv||(e&&e.ov===c?e.sv:c.av),d=e?e.cv:null,l=Il(void 0!==n.nr?n.nr:d,n.Wh||new rc,f);return(i=t.call(this,l)||this).nv=f,i.ov=c,i.sv=v,i.ev=h,i.tv=void 0!==n.tv?n.tv:o,i.rv=void 0!==n.rv?String(n.rv):s,i.uv=n.uv||a,i}Xi(n,t);var e=n.prototype;return e.nr=function(t){return this.Uh(this.ev,t)},e.Ko=function(){return new n({nr:this.Zh(),ov:this.ov},this)},n}(function(t){function n(n){var e;return(e=t.call(this)||this).cv=n,e}Xi(n,t);var e=n.prototype;return e.Xh=function(){return this.cv.Xh()},e.Fh=function(t){return this.cv.Fh(t)},e.Mh=function(t){return this.cv.Mh(t)},e.Vh=function(t){return this.cv.Vh(t)},e.Hh=function(){return this.cv.Hh()},e.Zh=function(){return this.cv.Zh()},Ii(n,[{key:"Qh",get:function(){return this.cv.Qh}}]),n}(El));ki(),Vt(),(Fl=Ml||(Ml={})).DELETE="DELETE",Fl.GET="GET",Fl.HEAD="HEAD",Fl.OPTIONS="OPTIONS",Fl.POST="POST",Fl.PUT="PUT",(Vl=Ul||(Ul={})).fv="",Vl.hv="manifest",Vl.vv="segment",Vl.dv="preload-hint",Vl.lv="content-protection",(ql=Hl||(Hl={})).fv="",ql.wv="initialization-segment",ql.gv="fairplay-license",ql.yv="fairplay-certificate",ql.mv="widevine-license",ql._v="widevine-certificate",ql.pv="playready-license",ql.bv="clearkey-license",ql.kv="aes128-key",(Wl=zl||(zl={})).fv="",Wl.Tv="audio",Wl.Sv="video",Wl.Ii="text",Wl.Ev="image";var Gl=function(t,n){var e,i,r,u,o,s,a,c,f,h,v,d,l=t.av;n?(e=n.zh,i=n.nv,r=n.Iv,u=n.ev,o=n.Rv,s=n.Nv,a=n.do,c=n.Mu,f=n.Ov,h=n.Cv,v=n.Av,d=n.Dv):(e=null,i={},r="GET",u=al.Ii,o=0,s=0,c="",f="",h="",v=!1),this.av=l,this.zh=t.zh||e,this.nv=new vl(t.nv||i),this.Iv=t.Iv||r,this.ev=t.ev||u,this.Rv=void 0!==t.Rv?Number(t.Rv)||0:o,this.Nv=void 0!==t.Nv?Number(t.Nv)||0:s,this.do=t.do||a||(new rc).do,this.Mu=t.Mu||c,this.Ov=t.Ov||f,this.Cv=t.Cv||h,this.Av=void 0!==t.Av?Boolean(t.Av):v,this.Dv=t.Dv||d},Yl=function(){function t(){}var n=t.prototype;return n.ov=function(t){var n=function(t){return new jl({nr:null,nv:{},ov:t,sv:t.av,ev:t.ev,tv:0,rv:ol.sh})}(new Gl(t));return G.resolve(n)},n.Pv=function(t){},n.kn=function(){},t}();var Xl=function(){function t(t,n){void 0===n&&(n=!0),this.xv=t,this.Bv=n}var n=t.prototype;return n.ov=function(t){var n=this.Lv(t);return this.xv.ov(n)},n.Pv=function(t){return this.xv.Pv(this.Mv(t))},n.Lv=function(n){var e=new Gl(n);if(!this.Bv){var i=t.Fv(e.av);e=new Gl({av:i},e)}return e},n.Mv=function(n){var e=n.av;return this.Bv||(e=t.Fv(e)),{av:e,zh:n.zh}},n.kn=function(){this.xv.kn()},t.Fv=function(t){return Wi.Tu&&xa(t,"http://")?t.replace(":","s:"):t},Ii(t,null,[{key:"Uv",get:function(){return t.Vv||(t.Vv=new t(new Yl)),t.Vv}}]),t}();function $l(t,n){for(var e=0,i=v.keys(n);e<i.length;e++){var r=i[e];t.searchParams.set(r,n[r])}}function Kl(t,n){var e=Wi.yu(t);return n&&!Ba(e,"/")&&(e+="/"),e}Xl.Vv=void 0,ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt();var Jl,Zl,Ql=/cache:(.+)?(?=&|$)/;function tw(t){if(!xa(t,"http://webcache.googleusercontent.com/search?q=cache:"))return"";var n=Wi.gu(t).search.match(Ql);return n&&n.length>1?n[1]:""}ki(),Vt(),Ri(),ki(),Vt(),Ri(),(Zl=Jl||(Jl={})).Hv="HttpOpenError",Zl.qv="HttpResponseError",Zl.zv="HttpTimeoutError";var nw=function(t){function n(n,e,i){var r;return(r=t.call(this,e,i)||this).Wv=n,r}return Xi(n,t),Ii(n,[{key:"ov",get:function(){return this.Wv}}]),n}(gu);var ew=function(t){function n(n,e){return t.call(this,n,"Error while opening "+n.av+". Invalid URL.",e)}return Xi(n,t),Ii(n,[{key:"name",get:function(){return Jl.Hv}}]),n}(nw);ki(),Vt(),Ri();var iw=function(t){function n(n,e,i){var r;return(r=t.call(this,n.ov,null!=i?i:function(t){return"Error while loading "+t.ov.av+", status code "+t.tv}(n),e)||this).jv=n,r}return Xi(n,t),Ii(n,[{key:"name",get:function(){return Jl.qv}},{key:"Gv",get:function(){return this.jv}}]),n}(nw);ki(),Vt(),Ri();var rw=function(t){function n(n,e){return t.call(this,n,function(t){return"Request for "+t.av+" timed out after "+t.Rv+" seconds."}(n),e)}return Xi(n,t),Ii(n,[{key:"name",get:function(){return Jl.zv}}]),n}(nw);ki(),Vt();var uw=function(t,n){return(uw=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function ow(t,n){function e(){this.constructor=t}uw(t,n),t.prototype=null===n?v.create(n):(e.prototype=n.prototype,new e)}var sw="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var aw=function(){var t=sw.Blob;if(t)try{return new t,function(t,n){return new sw.Blob(t,n)}}catch(t){}var n,e=sw.BlobBuilder||sw.WebKitBlobBuilder||sw.MozBlobBuilder||sw.MSBlobBuilder;return e?(n=e,function(t,e){var i=new n;if(t)for(var r=0,u=t;r<u.length;r++){var o=u[r];i.append(o)}return i.getBlob(e&&e.type||"")}):null}(),cw="function"==typeof Lt?Lt:void 0;function fw(t){return t&&"function"==typeof t.getReader}function hw(t){if("function"!=typeof t)return!1;try{var n=!1,e=new t({start:function(){n=!0}});return!!n&&fw(e)}catch(t){return!1}}var vw=function(){function t(t,n){this.G=t,this.Yv=n}return t.prototype.pull=function(t){var n=this;return this.G.read().then((function(e){n.Yv&&n.Yv(e),e.done?t.close():t.enqueue(e.value)}))},t.prototype.cancel=function(t){return this.G.cancel(t)},t}();function dw(t,n){return n.constructor===t?n:new t(new vw(n.getReader()),{highWaterMark:0})}var lw=function(){function t(t,n){this.Xv=t,this.$v=n}return t.prototype.pull=function(t){return this.Xv().then((function(n){t.enqueue(new y(n)),t.close()}))},t.prototype.cancel=function(t){this.$v&&this.$v(t)},t}();function ww(t,n,e){return new t(new lw(n,e),{highWaterMark:0})}var gw={searchParams:"URLSearchParams"in sw,iterable:"Symbol"in sw&&"iterator"in Symbol,blob:"FileReader"in sw&&!!aw,formData:"FormData"in sw,arrayBuffer:"ArrayBuffer"in sw,stream:hw(cw),streamRequest:"Request"in sw&&"body"in sw.Request.prototype,streamResponse:"Response"in sw&&"body"in sw.Response.prototype,abort:"AbortController"in sw&&"Request"in sw&&"signal"in sw.Request.prototype,encoding:"TextEncoder"in sw&&"TextDecoder"in sw,url:"URL"in sw&&function(t){try{return new sw.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in sw&&/Firefox\//.test(sw.navigator.userAgent)};function yw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function mw(t){return"string"!=typeof t&&(t=String(t)),t}function _w(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return gw.iterable&&(n[Symbol.iterator]=function(){return n}),n}var pw=function(){function t(t){var n=this;this.Au={};var e,i=function(t,e){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(e,t)};(e=t)&&"function"==typeof e.forEach?t.forEach(i):!function(t){return gw.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach((function(e){n.append(e,t[e])})):Array.from(t).forEach(i)}return t.prototype.append=function(t,n){t=yw(t),n=mw(n);var e=t.toLowerCase();if(this.Au.hasOwnProperty(e)){var i=this.Au[e],r=i[1];i[1]=r?r+", "+n:n}else this.Au[e]=[t,n]},t.prototype.delete=function(t){var n=yw(t).toLowerCase();delete this.Au[n]},t.prototype.get=function(t){var n=yw(t).toLowerCase();return this.Au.hasOwnProperty(n)?this.Au[n][1]:null},t.prototype.has=function(t){var n=yw(t).toLowerCase();return this.Au.hasOwnProperty(n)},t.prototype.set=function(t,n){var e=(t=yw(t)).toLowerCase();this.Au[e]=[t,mw(n)]},t.prototype.forEach=function(t,n){for(var e in this.Au)this.Au.hasOwnProperty(e)&&t.call(n,this.Au[e][1],e,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(n,e){t.push(e)})),_w(t)},t.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),_w(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(n,e){t.push([e,n])})),_w(t)},t.prototype.asList=function(){var t=[];for(var n in this.Au)if(this.Au.hasOwnProperty(n)){var e=this.Au[n],i=e[0],r=e[1];t.push([i,r])}return t},t}();function bw(){}gw.iterable&&(pw.prototype[Symbol.iterator]=pw.prototype.entries);var kw,Tw,Sw,Ew=d.min,Iw=String.fromCharCode;function Rw(t){for(var n=[],e=0,i=t;e<i.length;e++){var r=i[e];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,e=[],i=0;i<n;i+=16384){var r=Ew(i+16384,n);e.push(Iw.apply(null,t.slice(i,r)))}return e.join("")}(n)}function Nw(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ow(t,n){return t>>n&63|128}function Cw(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Nw(t),n.push(t>>12&15|224),n.push(Ow(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ow(t,12)),n.push(Ow(t,6))),n.push(63&t|128)):n.push(t)}function Aw(){if(Sw>=Tw)throw new f("Invalid byte index");var t=255&kw[Sw];if(Sw++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Dw(){var t,n;if(Sw>Tw)throw new f("Invalid byte index");if(Sw===Tw)return!1;if(t=255&kw[Sw],Sw++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Aw())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Aw()<<6|Aw())>=2048)return Nw(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Aw()<<12|Aw()<<6|Aw())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var Pw=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function xw(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Bw(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Lw(t){return t&&DataView.prototype.isPrototypeOf(t)}var Mw,Fw,Uw=ArrayBuffer.isView||function(t){return t&&(Pw.indexOf(v.prototype.toString.call(t))>-1||Lw(t))};function Vw(t){if(t.bodyUsed)return G.reject(new h("Already used"));t.bodyUsed=!0}function Hw(t){return new G((function(n,e){t.onload=function(){n(t.result)},t.onerror=function(){e(t.error)}}))}function qw(t){return gw.encoding?new sw.TextDecoder("utf-8").decode(new y(t)):Rw(function(t){Tw=(kw=t).length,Sw=0;for(var n,e=[];!1!==(n=Dw());)e.push(n);return e}(new y(t)))}function zw(t){return gw.encoding?(new sw.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],e=0,i=t;e<i.length;e++)Cw(i[e],n);return n}(function(t){for(var n=[],e=0,i=t.length;e<i;){var r=t.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var u=t.charCodeAt(e++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),e--)}else n.push(r)}return n}(t))).buffer}function Ww(t){var n=t.getReader(),e=[],i=function(t){var r=t.done,u=t.value;return r?G.resolve(e):(e.push(u),n.read().then(i))};return n.read().then(i)}function jw(t){return Ww(t).then((function(t){return function(t){for(var n=0,e=0,i=t;e<i.length;e++)n+=(a=i[e]).byteLength;for(var r=new y(n),u=0,o=0,s=t;o<s.length;o++){var a=s[o];r.set(a,u),u+=a.byteLength}return r}(t).buffer}))}function Gw(t){return t.slice?t.slice(0):Yw(new y(t))}function Yw(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Xw(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var e=t.split("="),i=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");n.append(decodeURIComponent(i),decodeURIComponent(r))}})),n}function $w(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.Kv===Mw.Jv){if(!n.Zv.tee)throw new f("could not clone ReadableStream body");var e=n.Zv.tee(),i=e[0],r=e[1];return n.body=i,n.Zv=i,n.Qv=i,r}return n.Kv===Mw.Ch?Gw(n.Zv):n.Kv===Mw.Lh?n.Zv.then($w):n.Qv}(Fw=Mw||(Mw={}))[Fw.Ii=0]="Ii",Fw[Fw.td=1]="td",Fw[Fw.nd=2]="nd",Fw[Fw.Ch=3]="Ch",Fw[Fw.Jv=4]="Jv",Fw[Fw.Lh=5]="Lh";var Kw=function(){function t(n,e){this.bodyUsed=!1;var i,r,u,o=this;if(this.Qv=n||null,n)if("string"==typeof n)this.Kv=Mw.Ii,this.Zv=n;else if((u=n)&&"function"==typeof u.then)this.Kv=Mw.Lh,this.Zv=G.resolve(n).then((function(n){return new t(n,e)})),this.Zv.catch(bw);else if(gw.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Kv=Mw.td,this.Zv=n;else if(gw.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Kv=Mw.nd,this.Zv=n;else if(gw.searchParams&&xw(n))this.Kv=Mw.Ii,this.Zv=n.toString();else if(gw.arrayBuffer&&(Bw(n)||Uw(n)))Lw(n)&&(this.Qv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Kv=Mw.Ch,this.Zv=Bw(i=n)?Gw(i):Yw(i);else{if(!gw.stream||!fw(n))throw new f("unsupported BodyInit type");n=dw(cw,n),this.Kv=Mw.Jv,this.Zv=n,this.Qv=n}else this.Kv=Mw.Ii,this.Zv="";this.ed="",e.has("content-type")?this.ed=(e.get("content-type")||"").toLowerCase():("string"==typeof n?this.ed="text/plain;charset=UTF-8":o.Kv===Mw.td&&o.Zv.type?this.ed=o.Zv.type:gw.searchParams&&xw(n)&&(this.ed="application/x-www-form-urlencoded;charset=UTF-8"),this.ed&&e.set("content-type",this.ed)),gw.stream&&(null==n?this.body=null:o.Kv===Mw.Jv?this.body=o.Zv:this.body=ww(cw,(function(){return o.arrayBuffer()}),(function(){o.bodyUsed=!0})))}return t.prototype.text=function(){var t,n,e,i=this,r=Vw(i);return r||(i.Kv===Mw.td?(t=i.Zv,n=new FileReader,e=Hw(n),n.readAsText(t),e):i.Kv===Mw.Ch?G.resolve(i.Zv).then(qw):i.Kv===Mw.Jv?jw(i.Zv).then(qw):i.Kv===Mw.Lh?i.Zv.then((function(t){return t.text()})):i.Kv===Mw.nd?G.reject(new f("could not read FormData body as text")):G.resolve(i.Zv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();gw.blob&&(Kw.prototype.blob=function(){var t,n,e=this,i=Vw(e);return i||(e.Kv===Mw.td?G.resolve(e.Zv):e.Kv===Mw.Ch?G.resolve(aw([e.Zv],{type:e.ed})):e.Kv===Mw.Jv?(t=e.Zv,n=e.ed,Ww(t).then((function(t){return aw(t,{type:n||""})}))):e.Kv===Mw.Lh?e.Zv.then((function(t){return t.blob()})):e.Kv===Mw.nd?G.reject(new f("could not read FormData body as Blob")):G.resolve(aw([e.Zv],{type:e.ed})))}),gw.arrayBuffer&&(Kw.prototype.arrayBuffer=function(){var t,n,e,i=this;return i.Kv===Mw.Ch?Vw(i)||G.resolve(i.Zv):i.Kv===Mw.td?Vw(i)||(t=i.Zv,n=new FileReader,e=Hw(n),n.readAsArrayBuffer(t),e):i.Kv===Mw.Jv?jw(i.Zv):i.Kv===Mw.Lh?Vw(i)||i.Zv.then((function(t){return t.arrayBuffer()})):i.Kv===Mw.nd?G.reject(new f("could not read FormData body as ArrayBuffer")):G.resolve(i.Zv).then(zw)}),gw.formData&&(Kw.prototype.formData=function(){var t=this;return t.Kv===Mw.nd?Vw(t)||G.resolve(t.Zv):t.text().then(Xw)});var Jw=[301,302,303,307,308],Zw=function(t){function n(n,e){var i=this,r=new pw((e=e||{}).headers);return(i=t.call(this,n||null,r)||this).type="default",i.status=void 0===e.status?200:e.status,i.ok=i.status>=200&&i.status<300,i.statusText=void 0!==e.statusText?String(e.statusText):"",i.headers=r,i.url=e.url||"",i}return ow(n,t),n.prototype.clone=function(){return new n($w(this),{status:this.status,statusText:this.statusText,headers:new pw(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,e){if(-1===Jw.indexOf(e))throw new RangeError("Invalid status code");return new n(null,{status:e,headers:{location:t}})},n}(Kw);var Qw,tg,ng=(function(t,n){function e(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),v.defineProperty(t,i.key,i)}}function u(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}function s(t){return(s=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function a(t,n){return(a=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,e){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var i=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(i){var r=v.getOwnPropertyDescriptor(i,n);return r.get?r.get.call(e):r.value}})(t,n,e||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){e(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var e=this.listeners[t],i=0,r=e.length;i<r;i++)if(e[i]===n)return void e.splice(i,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var e=function(e){o((function(){return e.call(n,t)}))},i=this.listeners[t.type],r=0,u=i.length;r<u;r++)e(i[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,i,r;return e(this,n),i=this,(t=!(r=s(n).call(this))||"object"!=typeof r&&"function"!=typeof r?c(i):r).listeners||d.call(c(t)),v.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(n,t),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(d),w=function(){function t(){e(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==i?i.createEvent?(t=i.createEvent("Event")).initEvent("abort",!1,!1):(t=i.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w}(Qw={exports:{}},Qw.exports),Qw.exports);(tg=ng)&&tg.__esModule&&v.prototype.hasOwnProperty.call(tg,"default")&&tg.default;ng.AbortSignal;var eg=ng.AbortController,ig=sw.DOMException;try{new ig}catch(t){(ig=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),ig.prototype.constructor=ig}var rg=eg;function ug(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var e=function(){n.removeEventListener("abort",e),t.signal.removeEventListener("abort",e),t.abort()};n.addEventListener("abort",e),t.signal.addEventListener("abort",e)}}function og(t,n,e){return new G((function(i,r){if(n.signal.aborted)return t.catch(bw),r(sg());var u=function(){n.signal.removeEventListener("abort",u),r(sg())};n.signal.addEventListener("abort",u),t.then((function(t){n.signal.removeEventListener("abort",u),i(t),e&&n.abort()}),(function(t){n.signal.removeEventListener("abort",u),r(t),e&&n.abort()}))}))}function sg(){return new ig("Aborted","AbortError")}var ag,cg,fg="moz-chunked-arraybuffer";function hg(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}(cg=ag||(ag={}))[cg.UNSENT=0]="UNSENT",cg[cg.OPENED=1]="OPENED",cg[cg.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",cg[cg.LOADING=3]="LOADING",cg[cg.DONE=4]="DONE";var vg=function(){function t(t,n){var e=this;this.rd=!1,this.Wv=t,this.ud=n,this.od=new m,this.sd=new G((function(t,n){e.fd=t,e.hd=n}))}return t.prototype.send=function(){var t=this;return this.vd().then((function(n){return t.dd(n,t.ud),t.sd}))},t.prototype.vd=function(){var t=this.Wv;return t.Kv===Mw.Jv?t.arrayBuffer():G.resolve(t.Qv)},t.prototype.ld=function(t){this.Wv.onprogress&&this.Wv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.wd=function(t){this.hd(t)},t.prototype.gd=function(){this.wd(new h("Network request failed"))},t.prototype.yd=function(){this.wd(new h("Network request failed"))},t.prototype.md=function(){this.wd(sg())},t.prototype.dd=function(t,n){var e=this,i=this.Wv,r=this.od,u=function(){return e._d()};if(i.signal.aborted)return this.md();r.onreadystatechange=function(){if(r.readyState>=ag.HEADERS_RECEIVED&&!e.rd){var t=function(t){var n=new pw;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),i=e.shift().trim();if(i){var r=e.join(":").trim();n.append(i,r)}})),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};e.rd=!0,e.pd(n)}},r.onprogress=function(t){return e.ld(t)},r.onload=function(){return e.bd()},r.onerror=function(){return e.gd()},r.ontimeout=function(){return e.yd()},r.onabort=function(){return e.md()},r.open(i.method,i.url,!0),r.withCredentials="include"===i.credentials,"responseType"in r&&n&&(r.responseType=n),i.headers.forEach((function(t,n){r.setRequestHeader(n,t)})),i.signal.addEventListener("abort",u),r.onloadend=function(){i.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype._d=function(){this.md(),this.od.abort()},t}(),dg=function(t){function n(n,e){var i=t.call(this,n,e)||this;return i.kd=void 0,i.Td=void 0,i}return ow(n,t),n.prototype.pd=function(t){var n=this;this.kd=new G((function(t,e){n.Td=t,n.Sd=e})),this.fd(new Zw(this.kd,t))},n.prototype.bd=function(){var t=this.od.response;if(null==t){var n=this.ud;""===n||"text"===n?t=this.od.responseText:"document"===n?t=this.od.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=aw([]))}this.Td(t)},n.prototype.wd=function(n){t.prototype.wd.call(this,n),this.Sd&&this.Sd(n)},n}(vg),lg=function(t){function n(n){var e=t.call(this,n,fg)||this;return e.Ed=void 0,e.Id=void 0,e.Rd=!1,e}return ow(n,t),n.prototype.pd=function(t){var n=this;this.Ed=new cw({start:function(t){n.Id=t},cancel:function(){n.Rd=!0,n._d()}}),this.fd(new Zw(this.Ed,t))},n.prototype.ld=function(n){this.Rd||this.Id.enqueue(new y(this.od.response)),t.prototype.ld.call(this,n)},n.prototype.bd=function(){this.Id.close()},n.prototype.wd=function(n){t.prototype.wd.call(this,n),this.Id&&!this.Rd&&(this.Rd=!0,this.Id.error(n))},n}(vg),wg=function(){var t=gw.firefox&&hg(fg);return wg=function(){return t},t},gg=function(){var t;return t=gw.arrayBuffer&&hg("arraybuffer")?"arraybuffer":gw.blob&&hg("blob")?"blob":"",gg=function(){return t},t};function yg(t){return(gw.stream&&wg()?new lg(t):new dg(t,gg())).send()}var mg=sw.fetch,_g=sw.Request,pg=(sw.Response,sw.AbortController);var bg=["http:","https:"];var kg=function(){try{if(gw.streamRequest){var t=new _g("about:blank",{body:"",method:"POST"}).body;if(t&&hw(t.constructor))return t.constructor}}catch(t){}}();function Tg(t,n,e){var i;if(gw.stream){var r=void 0;if(gw.streamResponse){var u=t.body;r=u&&dw(cw,u)}else r=ww(cw,(function(){return og(t.arrayBuffer(),n,!0)}),(function(){n.abort()}));r&&e&&(r=function(t,n,e){var i=0;return function(t,n,e){return new t(new vw(n.getReader(),e),{highWaterMark:0})}(cw,t,(function(t){var r=t.done,u=t.value;r?e=void 0===e?i:e:i+=u.byteLength,n(i,e)}))}(r,e,Sg(t.headers))),i=r}else{var o=og(t.arrayBuffer(),n,!0);e&&(o=function(t,n,e){return G.resolve().then((function(){return n(0,e),t})).then((function(t){var i=t.byteLength;return n(i,e=void 0===e?i:e),t}))}(o,e,Sg(t.headers))),i=o}return new Zw(i,t)}function Sg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Eg(t){var n=new rg;return t.signal&&ug(n,t.signal),function(t,n){var e,i,r=t;if(e=r.Kv===Mw.Jv?gw.streamRequest&&kg?G.resolve(dw(kg,r.Zv)):og(t.arrayBuffer(),n,!1):og(G.resolve(t.Qv),n,!1),gw.abort){var u=new pg;ug(u,n.signal),i=u.signal}return e.then((function(n){return new _g(t.url,{body:n||void 0,credentials:t.credentials,headers:(e=t.headers,(e instanceof pw?e:new pw(e)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:i});var e}))}(t,n).then((function(e){return mg(e).then((function(e){return Tg(e,n,t.onprogress)}))}))}var Ig=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Rg=function(t){function n(e,i){var r,u,o,s,a,c,f,v,d,l=this,w=(i=i||{}).body||null;if(e instanceof n){if(e.bodyUsed)throw new h("Already used");r=e.url,u=e.credentials,i.headers||(o=new pw(e.headers)),s=e.method,a=e.mode,c=e.referrer,f=e.referrerPolicy,v=e.signal,d=e.onprogress,w||null==e.Qv||(w=e.Qv,e.bodyUsed=!0)}else r=String(e),u="same-origin",s="GET",a="cors",c="about:client",f="",v=null,d=null;if(!i.headers&&o||(o=new pw(i.headers)),i&&(c="about:client",f=""),(l=t.call(this,w,o)||this).url=r,l.headers=o,l.credentials=i.credentials||u,l.method=function(t){var n=t.toUpperCase();return Ig.indexOf(n)>-1?n:t}(i.method||s),l.mode=i.mode||a,l.signal=i.signal||v||(new rg).signal,l.referrer=void 0!==i.referrer?i.referrer:c,l.referrerPolicy=void 0!==i.referrerPolicy?i.referrerPolicy:f,l.onprogress=i.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return ow(n,t),n.prototype.clone=function(){return new n(this,{body:$w(this)})},n}(Kw),Ng="function"==typeof mg&&gw.stream&&gw.streamResponse&&gw.url;function Og(t,n){return new G((function(e){var i=new Rg(t,n);e((Ng&&function(t){try{return bg.indexOf(new sw.URL(t,sw.location.href).protocol)>=0}catch(t){return!1}}(i.url)?Eg:yg)(i))}))}Og.polyfill=!0;var Cg=function(){function t(t){this.wf=new rc,this.jv=void 0,this.Nd=!1,this.Wv=t,this.wf.ho(t.do),this.Gv=this.Od()}var n=t.prototype;return n.Od=function(){var t=this;return ta((function(){var n,e,i,r,u,s,a,c,f;return ea(this,(function(h){switch(h.label){case 0:(n=t.Wv).Rv&&o((function(){t.Nd=!0,t.wf.fo()}),n.Rv);try{e=Og(n.av,{method:n.Iv,headers:n.nv.Ph(),body:n.zh,credentials:n.Av?"include":"same-origin",signal:Pg(t.wf.do),onprogress:n.Dv})}catch(t){throw new ew(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e];case 2:return i=h.sent(),[3,4];case 3:throw r=h.sent(),oc(u=t.Cd(r))&&t.wf.fo(),u;case 4:if(s=i.url||n.av,a=0===i.status&&"file:"===(v=s,Wi.gu(v).protocol)?200:i.status,c=new Ag(t,i,t.wf),f=new jl({nr:c,ov:n,ev:n.ev,nv:new vl(i.headers.asList()),tv:a,rv:i.statusText,sv:s}),t.jv=f,Ll(f))return[2,f];throw new iw(f)}var v}))}))()},n.Cd=function(t){return oc(t)?this.Nd?new rw(this.Wv):new uc(t.message,t):this.jv?new iw(this.jv,t):new ew(this.Wv,t)},t}(),Ag=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).Gh=new Df,r.Ad=n,r.Dd=e,r.wf=i,r.Gh.es.catch(pr),r}Xi(n,t);var e=n.prototype;return e.Xh=function(){return this.Gh.es},e.Fh=function(t){return this.$h(this.Dd.text(),t)},e.Vh=function(t){return this.$h(this.Dd.arrayBuffer(),t)},e.Hh=function(){var t=this.Dd.body;return t?this.Kh(t):bl(this.Vh().then(_l),this.wf)},e.Zh=function(){var t=this.Dd.clone(),e=ia(this.wf.vo(),2),i=e[0],r=e[1];return this.wf=i,new n(this.Ad,t,r)},e.$h=function(t,n){var e=this;n&&this.wf.ho(n);var i=G.resolve(t).catch((function(t){throw e.Ad.Cd(t)}));return i=hc(i,this.wf),this.Gh.ho(i.then(pr)),i},e.Kh=function(t){var n=this,e=new Mt,i=G.resolve(t.pipeTo(e.writable,{preventAbort:!0})).catch((function(t){var i=n.Ad.Cd(t);throw e.writable.abort(i).catch(pr),i}));return i=hc(i,this.wf),this.Gh.ho(i.then(pr)),e.readable},Ii(n,[{key:"Qh",get:function(){return this.Dd.bodyUsed}}]),n}(El),Dg="abort";function Pg(t){var n=new rg;if(t.Ju)n.abort();else if(!t.Zu){var e=function(){i(),n.abort()},i=function(){n.signal.removeEventListener(Dg,e),t.oo(e),t.ao(i)};n.signal.addEventListener(Dg,e),t.uo(e),t.so(i)}return n.signal}Ti(),ki(),Vt();var xg,Bg,Lg=function(){function t(){}var n=t.prototype;return n.ov=function(t){return new Cg(t).Gv},n.Pv=function(t){if(pi&&pi.sendBeacon)pi.sendBeacon(t.av,rl([t.zh],{type:t.qh}));else{var n=t.qh?{"Content-type":t.qh}:void 0;lc(this.ov(new Gl({Iv:Ml.POST,av:t.av,zh:t.zh,nv:n})))}},n.kn=function(){},t}(),Mg=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Pd=void 0,n.xd=Fg(),n.Bd=Ug(),n.Ld=Vg(),n.Md=void 0,n}return Xi(n,t),Ii(n,[{key:"cu",get:function(){return this.Pd||(this.Pd=new Wa(tl())),this.Pd}},{key:"Fd",get:function(){return this.xd}},{key:"Ud",get:function(){return this.Bd}},{key:"Vd",get:function(){return this.Ld}},{key:"Hd",get:function(){return!1}},{key:"qd",get:function(){return el.Vf()}},{key:"zd",get:function(){return{Wd:ul}}},{key:"jd",get:function(){return u.connection&&u.connection.effectiveType||fl}},{key:"Gd",get:function(){return u.connection&&u.connection.type||hl}},{key:"Yd",get:function(){return this.Md||(this.Md=new Xl(new Lg)),this.Md}}]),n}(Js);function Fg(){if(sr.ze)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}function Ug(){return sr.di||sr.ze}function Vg(){return(sr.di||sr.ze)&&!(sr.Je&&sr.Ze<3)}$i(new Mg),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),Mi(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),(Bg=xg||(xg={})).Xd="$d",Bg.Kd="Jd",ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri();var Hg=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).Zd=void 0,i}return Xi(n,t),Ii(n,[{key:"Qd",get:function(){return this.Zd||(this.Zd=this.tl()),this.Zd}}]),n}(Sc);function qg(t){return Boolean(t&&t.Qd)}var zg=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n}(Hg),Wg=function(t){function n(n){return t.call(this,n)}return Xi(n,t),n}(Sc),jg=function(t){function n(n){var e;return(e=t.call(this,xg.Xd)||this).nl=n,e}return Xi(n,t),n.prototype.tl=function(){return new Gg(this.nl.Qd)},n}(zg),Gg=function(t){function n(n){var e;return(e=t.call(this,"addtrack")||this).track=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var Yg,Xg,$g=function(t){function n(n){var e;return(e=t.call(this,xg.Kd)||this).nl=n,e}return Xi(n,t),n.prototype.tl=function(){return new Kg(this.nl.Qd)},n}(zg),Kg=function(t){function n(n){var e;return(e=t.call(this,"removetrack")||this).track=n,e}return Xi(n,t),n}(Wg);ki(),Vt(),(Xg=Yg||(Yg={})).il="ul",Xg.ol="sl",Xg.al="cl",Xg.fl="hl",Xg.vl="dl",Xg.ll="wl",Xg.gl="yl",Xg.ml="_l",Xg.pl="Ec",Xg.bl="kl",Xg.Tl="Sl",Xg.QUALITY_UNAVAILABLE="qualityunavailable",Xg.NO_QUALITY="noquality";var Jg=function(t){function n(){var n;return(n=t.call(this)||this).El=[],n.Zd=void 0,n}Xi(n,t);var e=n.prototype;return e.Il=function(t){return this.El[t]},e.Rl=function(t){return!(!t||nc(this.El,t))&&(this.El.push(t),this.Zd&&this.Zd.push(t.Qd),t.po(Yg.ll,this.yo),this.mo(new jg(t)),!0)},e.Nl=function(t){if(!t)return!1;var n=this.El.indexOf(t);return!(n<0)&&(tc(this.El,n),this.Zd&&tc(this.Zd,n),t.So(Yg.ll,this.yo),this.mo(new $g(t)),!0)},e.Ol=function(t){return nc(this.El,t)},e.Fc=function(){for(var t=this.El,n=t.length-1;n>=0;n-=1)this.Nl(t[n])},e.kn=function(){this.Fc(),this.To()},Ii(n,[{key:"Cl",get:function(){return this.El}},{key:"Qd",get:function(){return this.Zd||(this.Zd=this.tl()),this.Zd}},{key:"Al",get:function(){return this.El.length}}]),n}(pc);ki(),Vt();var Zg=function(t){function n(n){var e;return(e=t.call(this,Yg.ll)||this).nl=n,e}return Xi(n,t),n.prototype.tl=function(){return new Qg(this.nl.Qd)},n}(zg),Qg=function(t){function n(n){var e;return(e=t.call(this,"change")||this).track=n,e}return Xi(n,t),n}(Wg),ty=function(t){function n(){var n;return(n=t.call(this)||this).Dl=void 0,n.Pl=function(t){var e=t.nl;n.Rl(e)},n.xl=function(t){var e=t.nl;n.Nl(e)},n}Xi(n,t);var e=n.prototype;return e.Bl=function(t){t.po(xg.Xd,this.Pl),t.po(xg.Kd,this.xl)},e.Ll=function(t){t.So(xg.Xd,this.Pl),t.So(xg.Kd,this.xl)},e.kn=function(){this.Dl&&this.Dl.kn(),t.prototype.kn.call(this)},Ii(n,[{key:"Ml",get:function(){return this.Dl},set:function(t){var n=this.Dl;if(t!==n){if(n){this.Ll(n);for(var e=0,i=n.Cl;e<i.length;e++){var r=i[e];t&&t.Ol(r)||this.Nl(r)}}if(this.Dl=t,t){for(var u=[],o=0,s=t.Cl;o<s.length;o++){var a=s[o];this.Rl(a),this.Fl(a)&&u.push(a)}this.Bl(t);for(var c=0;c<u.length;c++){var f=u[c];f.mo(new Zg(f))}}}}}]),n}(Jg);ki(),Vt(),ki(),Vt(),ki(),Vt();var ny=v.freeze||br;function ey(t,n,e){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:e})}function iy(t,n){for(var e=0,i=v.getOwnPropertyNames(n);e<i.length;e++){var r=i[e];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function ry(t){if(wr(t)){var n={};for(var e in t)ar.call(t,e)&&(n[e]=ry(t[e]));return n}if(vr(t)){for(var i=new Array(t.length),r=0;r<i.length;r++)r in t&&(i[r]=ry(t[r]));return i}return t}function uy(t,n){return t===n||!(!t||!n)&&(!(!lr(t)||!lr(n))&&(dr(t)?!!dr(n)&&function(t,n){var e=t.length,i=n.length;if(e!==i)return!1;for(var r=0;r<e;r+=1)if(!uy(t[r],n[r]))return!1;return!0}(t,n):!dr(n)&&function(t,n){var e=v.keys(t),i=v.keys(n);if(!e||!i||e.length!==i.length)return!1;for(var r=0;r<e.length;r++){var u=e[r];if(!ar.call(n,u)||!uy(t[u],n[u]))return!1}return!0}(t,n)))}function oy(t,n){return t.constructor===n.constructor}function sy(t){for(var n={},e=0,i=v.keys(t);e<i.length;e++){var r=i[e],u=t[r];null!=u&&(n[r]=u)}return n}function ay(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function cy(t){return fr(t)?ay(t):void 0}function fy(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function hy(t){var n=fy(t);if(g(n))throw new f("Expected a valid number.");return n}function vy(t){return"string"==typeof t?t:""}function dy(t,n){if(!dr(t))return[];for(var e=0|t.length,i=new Array(e),r=0;r<e;r++)i[r]=n(t[r]);return i}function ly(t,n){return dr(t)?dy(t,n):n(t)}ki(),Vt();var wy,gy,yy=[xg.Xd,xg.Kd,Yg.ll];function my(t){var n,e=t.Cl.map((function(t){return t.Qd}));return e.item=function(n){var e=0|n,i=t.Il(e);return i&&i.Qd||void 0},e.addEventListener=function(t,e){n.po(t,e)},e.removeEventListener=function(t,e){n.So(t,e)},n=new bc(e),t.po(yy,(function(t){return n.mo(t.Qd)})),e}function _y(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function py(){}function by(t){var n,e=[Yg.pl,Yg.ll,Yg.bl,Yg.Tl,Yg.QUALITY_UNAVAILABLE],i={get activeQuality(){return t.Ul&&t.Ul.Qd},get enabled(){return t.Vl},set enabled(n){t.Vl=ay(n)},get id(){return t.Hl},get uid(){return t.ql},get kind(){return t.zl},get label(){return t.Wl},set label(n){t.Wl=vy(n)},get accessibility(){var n,e;return null!=(e=null==(n=t.jl)?void 0:n.map(_y))?e:[]},get language(){return t.Gl},get qualities(){return t.Yl.Qd},set targetQuality(n){var e;(e=n?function(t,n){for(var e=[],i=0,r=t.Yl.Cl;i<r.length;i++)for(var u=r[i],o=0;o<n.length;o++){var s=n[o];u.Qd===s&&e.push(u)}return e}(t,vr(n)?n:[n]):[]).length>0?t.Xl=e:t.Xl=void 0},get targetQuality(){if(t.Xl)return 1===t.Xl.length?t.Xl[0].Qd:t.Xl.map((function(t){return t.Qd}))},addEventListener:function(t,e){var i=ly(t,vy);n.po(i,e)},removeEventListener:function(t,e){var i=ly(t,vy);n.So(i,e)}};return n=new bc(i),t.po(e,(function(t){return n.mo(t.Qd)})),v.defineProperty(i,"constructor",{value:py}),i}function ky(){}function Ty(t){var n=my(t);return v.defineProperty(n,"constructor",{value:ky}),n}ki(),Vt(),(gy=wy||(wy={}))[gy.$l=0]="$l",gy[gy.Kl=1]="Kl",gy[gy.Jl=2]="Jl",gy[gy.Zl=3]="Zl",gy[gy.Ql=4]="Ql",gy[gy.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",gy[gy.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",gy[gy.tw=7]="tw";var Sy,Ey,Iy,Ry=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.tl=function(){return Ty(this)},e.Fl=function(t){return t.Vl},n}(ty);function Ny(){}function Oy(t){var n,e=[Yg.ll,Yg.pl,Yg.il,Yg.ol,Yg.al,Yg.fl,Yg.vl,Yg.gl,Yg.ml],i=[Iy.nw],r={get kind(){return t.zl},get label(){return t.Wl},set label(n){t.Wl=vy(n)},get language(){return t.Gl},get id(){return t.Hl},get uid(){return t.ql},get inBandMetadataTrackDispatchType(){return t.ew},get mode(){return t.iw},set mode(n){n!==Sy.rw&&n!==Sy.uw&&n!==Sy.ow||t.sw(n)},get forced(){return Boolean(t.aw)},get accessibility(){var n,e;return null!=(e=null==(n=t.jl)?void 0:n.map(_y))?e:[]},get type(){return t.Mu},get readyState(){return t.cw},get cues(){return t.iw===Sy.ow?null:t.fw.Qd},get activeCues(){return t.iw===Sy.ow?null:t.hw.Qd},get src(){return t.dw||""},addEventListener:function(t,e){var i=ly(t,vy);n.po(i,e)},removeEventListener:function(t,e){var i=ly(t,vy);n.So(i,e)}};return n=new bc(t),t.po(e,(function(t){return n.mo(t.Qd)})),t.po(i,(function(t){return n.mo(t)})),v.defineProperty(r,"constructor",{value:Ny}),r}function Cy(){}function Ay(t){var n=my(t);return v.defineProperty(n,"constructor",{value:Cy}),n}ki(),Vt(),ki(),Vt(),ki(),Vt(),(Ey=Sy||(Sy={})).ow="disabled",Ey.uw="hidden",Ey.rw="showing",ki(),Vt(),(Iy||(Iy={})).nw="error";var Dy=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.tl=function(){return Ay(this)},e.Fl=function(t){return t.iw===Sy.rw},n}(ty);ki(),Vt();var Py=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.ko=function(n){t.prototype.ko.call(this,n)},e.Ro=function(n){t.prototype.Ro.call(this,n)},n}(pc),xy=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n}(Py);ki(),Vt();var By=function(t){function n(){return t.call(this,ol.Zf)}return Xi(n,t),n}(Sc);ki(),Vt();var Ly=function(t){function n(n){var e;return(e=t.call(this,ol.Yf)||this).currentSource=n,e}return Xi(n,t),n}(Sc);function My(t,n,e){return n in t?v.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var Fy="theoplayer-stored-network-info",Uy=function(){function t(){}return t.lw=function(n,e){var i=t.ww(n,e);return i?t.gw(i):0},t.yw=function(){return Wi.jd||fl},t.mw=function(){return Wi.Gd||hl},t.ww=function(n,e){var i,r=null==(i=Wi.qd)?void 0:i.qo(e),u=r&&JSON.parse(r);if(u&&u[n])return t._w(u,n,e)},t.gw=function(t){var n=t.availableBandwidth;return n||0},t._w=function(n,e,i){if(!t.pw(n,e))return n[e];t.bw(n,e,i)},t.bw=function(t,n,e){var i;delete t[n],null==(i=Wi.qd)||i.Uf(e,JSON.stringify(t))},t.pw=function(t,n){var e=t[n].storedTimestamp;if(!e)return!1;var i=new Date(e),r=(new Date).getTime();return i.setMonth(i.getMonth()+1)<=r},t.kw=function(t,n,e,i){return na({},t,My({},n,{availableBandwidth:e,storedTimestamp:i}))},t.Tw=function(n){var e=t.yw();t.Sw(e,Fy,n,au())},t.Sw=function(n,e,i,r){var u,o,s=null==(u=Wi.qd)?void 0:u.qo(e),a=s?JSON.parse(s):void 0,c=t.kw(a,n,i,r);null==(o=Wi.qd)||o.Uf(e,JSON.stringify(c))},t.Ew=function(){var n=t.yw();return t.lw(n,Fy)},t}();ki(),Vt(),ki(),Vt();var Vy,Hy,qy,zy,Wy,jy,Gy,Yy,Xy,$y,Ky,Jy,Zy="1ADD53F3";function Qy(t){return{chromecast:function(t){return{appID:t&&t.appID?vy(t.appID):Zy}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return"auto";case"manual":return"manual";case"disabled":return"disabled";default:return"manual"}}(t?t.strategy:void 0)}}function tm(t){var n,e=Wy.Iw;return(n=t)&&Pa(n,"mpd")&&(e=Wy.Rw),function(t){return!!t&&Pa(t,"m3u8")}(t)&&(e=Wy.Nw),e}function nm(t){return lr(t)&&lr(t.ssai)&&"google-dai"===t.ssai.integration}function em(t){return lr(t)&&gr(t.integration)&&"verizon-media"===t.integration}function im(t){return lr(t)&&gr(t.integration)&&"mediatailor"===t.integration}function rm(t){if(gr(t))return!t;if(em(t))return!t.id;if(nm(t)){var n=t.ssai,e="live"===n.availabilityType&&n.assetKey,i="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(e&&i)}return!t.src}function um(t){return Boolean(lr(t)&&gr(t.src))}function om(t){return t.type===Wy.Ow||t.type===Wy.Cw}function sm(t){return gr(t)||um(t)||nm(t)||em(t)}function am(t){if(t){if(sm(t))return rm(t);for(var n=0;n<t.length;n++){if(!rm(t[n]))return!1}return!0}return!0}function cm(){return{crossOrigin:qy.Aw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function fm(){return na({},cm(),{src:void 0,type:Wy.Iw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function hm(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Gy.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Xy.NONE;case"midroll-and-postroll":default:return Xy.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=ay(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Gy.INSECURE;case"disabled":return Gy.DISABLED;case"enabled":default:return Gy.ENABLED}}(t.vpaidMode)),vr(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(gr)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:ay(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1};var n}(t.googleIma))),n}function vm(t){if(!dr(t))return[];for(var n=[],e=0;e<t.length;e++){var i=t[e];wr(i)&&n.push(i)}return n}function dm(t){return gr(t.src)}(Hy=Vy||(Vy={})).AUTO="auto",Hy.MANUAL="manual",Hy.DISABLED="disabled",ki(),Vt(),ki(),Vt(),(zy=qy||(qy={})).Aw="",zy.Dw="anonymous",zy.Pw="use-credentials",(jy=Wy||(Wy={})).Rw="application/dash+xml",jy.Nw="application/vnd.apple.mpegurl",jy.xw="application/x-mpegurl",jy.Iw="video/mp4",jy.Ow="application/vnd.theoplayer.hesp+json",jy.Cw="application/vnd.theo.hesp+json",ki(),Vt(),ki(),Vt(),(Yy=Gy||(Gy={})).ENABLED="enabled",Yy.INSECURE="insecure",Yy.DISABLED="disabled",ki(),Vt(),ki(),Vt(),($y=Xy||(Xy={})).NONE="none",$y.MIDROLL_AND_POSTROLL="midroll-and-postroll",ki(),Vt(),ki(),Vt(),(Jy=Ky||(Ky={}))[Jy.Bw=0]="Bw",Jy[Jy.Lw=1]="Lw",Jy[Jy.Mw=2]="Mw",Jy[Jy.Fw=3]="Fw",Jy[Jy.Uw=4]="Uw";var lm=function(t){function n(n,e){var i;return void 0===e&&(e=Ky.Bw),(i=t.call(this,ol.Kf)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var wm=function(t){function n(n){var e;return(e=t.call(this,ol.fh)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var gm,ym,mm=function(t){function n(n){var e;return(e=t.call(this,ol.hh)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),(ym=gm||(gm={})).Vw="canplay",ym.Hw="canplaythrough",ym.qw="loadeddata",ym.zw="loadedmetadata",ym.gl="readystatechange",ym.Ww="waiting",ym.jw="playing";var _m=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"],pm=function(t){function n(n,e){var i;return void 0===e&&(e=Ky.Lw),(i=t.call(this,gm.zw)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var bm=function(t){function n(n){var e;return(e=t.call(this,ol.$f)||this).duration=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var km=function(t){function n(n,e){var i;return(i=t.call(this,ol.lh)||this).currentTime=n,i.playbackRate=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var Tm=function(t){function n(n,e){var i;return(i=t.call(this,ol.Eh)||this).currentTime=n,i.currentProgramDateTime=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var Sm=function(t){function n(n){var e;return(e=t.call(this,ol.Jf)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var Em=function(t){function n(n,e){var i;return void 0===e&&(e=Ky.Mw),(i=t.call(this,gm.qw)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var Im=function(t){function n(n){var e;return(e=t.call(this,ol.mh)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var Rm=function(t){function n(n){var e;return(e=t.call(this,ol.yh)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var Nm=function(t){function n(n,e){var i;return(i=t.call(this,ol.Ih)||this).currentTime=n,i.volume=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var Om=function(t){function n(n,e){var i;return void 0===e&&(e=Ky.Fw),(i=t.call(this,gm.Vw)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var Cm=function(t){function n(n,e){var i;return void 0===e&&(e=Ky.Uw),(i=t.call(this,gm.Hw)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt();var Am=function(t){function n(n,e){var i;return(i=t.call(this,gm.gl)||this).currentTime=n,i.readyState=e,i}return Xi(n,t),n}(Sc);ki(),Vt(),Ri();var Dm=function(t){function n(n){var e;return(e=t.call(this,Iy.nw)||this).errorObject=n,e}return Xi(n,t),n.prototype.tl=function(){return this},Ii(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Hg);ki(),Vt();var Pm,xm,Bm,Lm,Mm={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function Fm(t){if(fr(t))return Um(dy(null==t?void 0:t.preferredAudioCodecs,vy),dy(null==t?void 0:t.preferredVideoCodecs,vy),cy(null==t?void 0:t.restrictToPlayerSize))}function Um(t,n,e){if(0!==t.length||0!==n.length||void 0!==e)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:e}}function Vm(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function Hm(t){switch(t){case"all":case"content":return t;default:return"none"}}function qm(t){var n,e,i,r,u,o=ry(t||{});return o.libraryLocation&&(o.libraryLocation=Kl(o.libraryLocation,!0)),o.isEmbeddable=Boolean(o.isEmbeddable),o.cast=Qy(o.cast),o.ads=hm(o.ads),o.analytics=vm(o.analytics),o.mutedAutoplay=Hm(o.mutedAutoplay),o.allowNativeFullscreen=Boolean(o.allowNativeFullscreen),o.allowMixedContent=Boolean(o.allowMixedContent),o.persistVolume=Boolean(o.persistVolume),o.liveOffset=(n=o.liveOffset,Number(n)||void 0),o.hlsDateRange=(e=o.hlsDateRange,Boolean(e)),o.retainPlaybackRateOnSourceChange=Boolean(o.retainPlaybackRateOnSourceChange),o.license=gr(i=o.license)?i:void 0,o.licenseUrl=function(t){if(!t)return;try{return Kl(t)}catch(t){return void Wi.nu("Invalid 'licenseUrl', falling back to default URL")}}(o.licenseUrl),o.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(o.vr),o.abr=Fm(o.abr),o.retryConfiguration=(r=o.retryConfiguration,u=na({},Mm),void 0!==r&&(void 0!==r.maxRetries&&(u.maxRetries=Number(r.maxRetries)),void 0!==r.minimumBackoff&&(u.minimumBackoff=Number(r.minimumBackoff)),void 0!==r.maximumBackoff&&(u.maximumBackoff=Number(r.maximumBackoff))),u),o.hideDeprecationWarnings=Boolean(o.hideDeprecationWarnings),o}function zm(t){return{Gw:t.Gw,Yw:t.Yw,Xw:t.Xw,xo:t.xo,$w:t.$w,Kw:t.Kw,Jw:t.Jw,Zw:t.Zw,cw:t.cw,Qw:t.Qw,tg:t.tg,ng:t.ng,eg:t.eg}}function Wm(t,n,e){if(n!==e){var i=n.Gw,r=n.Yw,u=n.Kw,o=n.Jw,s=n.Zw,a=n.cw,c=n.Qw,f=(n.ng,n.tg,n.eg),h=e.Gw,v=e.Yw,d=e.Xw,l=e.$w,w=e.Kw,y=e.Jw,m=e.Zw,_=e.cw,p=e.Qw,b=(e.ng,e.tg,e.eg);a!==Ky.Bw&&t.mo(new lm(h,_)),y&&!o?t.mo(new wm(h)):!y&&o&&t.mo(new mm(h)),_>=Ky.Lw&&t.mo(new pm(h,_)),v===r||g(v)&&g(r)||t.mo(new bm(v)),m!==s&&t.mo(new km(h,m)),h!==i&&t.mo(new Tm(h,void 0)),d&&t.mo(new Sm(h)),_>=Ky.Mw&&t.mo(new Em(h,_)),p&&!c?t.mo(new Im(h)):!p&&c&&t.mo(new Rm(h)),b===f&&w===u||t.mo(new Nm(h,b)),_>=Ky.Fw&&t.mo(new Om(h,_)),_>=Ky.Uw&&t.mo(new Cm(h,_)),_!==a&&t.mo(new Am(h,_)),l&&t.mo(new Dm(l))}}ki(),Vt(),ki(),Vt(),(xm=Pm||(Pm={})).Tv="audio",xm.Sv="video",xm.Ii="text",xm.Ev="image",xm.fv="unknown",(Lm=Bm||(Bm={})).NONE="none",Lm.ALL="all",Lm.CONTENT="content",ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt();var jm=.25,Gm={ig:.2,rg:.45,ug:.7,og:3,sg:t_,ag:n_},Ym={ig:.4,rg:.65,ug:1,og:3,sg:t_,ag:n_},Xm={ig:.4,rg:.7,ug:.9,og:3,sg:t_,ag:n_},$m={ig:.4,rg:.65,ug:1,og:3,sg:t_,ag:n_},Km={ig:.5,rg:1.125,ug:1.75,og:2.55,sg:t_,ag:n_};function Jm(){var t;return t=Wi._u.Mr?$m:Wi._u.Vr?Ym:Wi._u.Ur?"Android"===Wi.pu.bu?Xm:Gm:Km,Wi.pu.ku?function(t){if(Wi.pu.ku){var n=d.max(.65,t.ig),e=d.max(n+jm,t.rg),i=d.max(e+jm,t.ug);return{ig:n,rg:e,ug:i,og:d.max(i+jm,t.og),sg:t_,ag:n_}}return t}(t):t}ki(),Vt(),ki(),Vt();var Zm,Qm,t_=.92,n_=1.08;function e_(t){return{goLive:function(){return t.cg()},get isLive(){return t.fg},get currentServerLiveTime(){return t.hg},get currentLatency(){return t.vg},get latencies(){return t.dg},get latency(){return t.lg},set latency(n){if(!function(t){if(!lr(t))return!1;var n=t,e=fr(n.target)&&"number"==typeof n.target&&fr(n.windowEnd)&&"number"==typeof n.windowEnd&&fr(n.windowStart)&&"number"==typeof n.windowStart&&fr(n.maxOffset)&&"number"==typeof n.maxOffset,i=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return e&&i}(n))throw new f("Invalid latency configuration");t.lg=n},get manifest(){return t.wg},addEventListener:function(n,e){t.po(r_(n),e)},removeEventListener:function(n,e){t.So(r_(n),e)}}}(Qm=Zm||(Zm={}))[Qm.ow=0]="ow",Qm[Qm.gg=1]="gg",Qm[Qm.yg=2]="yg";var i_=["golive","latencyrecoveryseek"];function r_(t){var n=ly(t,vy);return(gr(n)?[n]:n).filter((function(t){return nc(i_,t)}))}var u_=function(t){function n(){var n,e;return(n=t.call(this)||this).Dl=void 0,n.Zd=void 0,n.mg={windowStart:(e=Jm()).ig,windowEnd:e.ug,target:e.rg,maxOffset:e.og},n.Dl=void 0,n}Xi(n,t);var e=n.prototype;return e.Bl=function(t){t.po(i_,this.yo)},e.Ll=function(t){t.So(i_,this.yo)},e.cg=function(){var t;null==(t=this.Dl)||t.cg()},e.kn=function(){this.To(),this.Dl&&this.Ll(this.Dl),this.Dl=void 0},Ii(n,[{key:"Ml",get:function(){return this.Dl},set:function(t){var n=this.Dl;t!==n&&(n&&this.Ll(n),t&&this.Bl(t),this.Dl=t,this.Dl&&(this.Dl.lg=this.mg))}},{key:"Qd",get:function(){return this.Zd||(this.Zd=e_(this)),this.Zd}},{key:"hg",get:function(){var t;return null==(t=this.Dl)?void 0:t.hg}},{key:"vg",get:function(){var t;return null==(t=this.Dl)?void 0:t.vg}},{key:"dg",get:function(){var t;return null==(t=this.Dl)?void 0:t.dg}},{key:"fg",get:function(){return!!this.Dl&&this.Dl.fg}},{key:"lg",get:function(){return this.Dl?this.Dl.lg:this.mg},set:function(t){this.Dl&&(this.Dl.lg=t),this.mg=t}},{key:"wg",get:function(){var t;return null==(t=this.Dl)?void 0:t.wg}}]),n}(pc),o_=function(t){function n(n){var e;return(e=t.call(this)||this)._g=[],e.pg=!1,e.bg=new Ry,e.kg=new Ry,e.Tg=new Dy,e.Sg=new u_,e.Eg=!1,e.Ig(n),n.ko(e.yo),e.Dl=n,e.bg.Ml=n.Rg,e.kg.Ml=n.Ng,e.Tg.Ml=n.Og,e.Sg.Ml=n.Cg,e}Xi(n,t);var e=n.prototype;return e.gn=function(){this.Dl.gn()},e.yn=function(){this.Dl.yn()},e.Ag=function(){var t=this;return ta((function(){return ea(this,(function(n){return[2,wc(t._g.map((function(t){return t.Ag()}))).then(pr)]}))}))()},e.Dg=function(){return this.Dl.Dg()},e.Pg=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return sc(n),[4,e.Dl.Pg(t,n)];case 1:return i.sent(),[2]}}))}))()},e.xg=function(){return this.Ml.xg()},e.Bg=function(){this.Ml.Bg()},e.Lg=function(){this.Ml.Lg()},e.En=function(){if(!this.pg){for(var t=0,n=this._g;t<n.length;t++){n[t].En()}this.pg=!0}},e.Mg=function(t){this.Dl.Mg(t)},e.Fg=function(){this.Dl.Fg()},e.Ug=function(){this.Dl.Ug()},e.Vg=function(){this.Dl.Vg()},e.Hg=function(){return this.Dl.Hg()},e.qg=function(){return this.Dl.qg()},e.zg=function(){for(var t=[],n=0,e=this._g;n<e.length;n++){var i,r=e[n];(i=t).push.apply(i,Bi(r.zg()))}return t},e.Wg=function(t){for(var n=!1,e=0,i=this._g;e<i.length;e++){n=i[e].Wg(t)||n}return n},e.mo=function(n){this.Wg(n)||t.prototype.mo.call(this,n)},e.Ig=function(t){this._g.push(t)},e.jg=function(t){Qa(this._g,t)},e.Gg=function(t){if(t!==this.Dl){var n=this.Dl;n.Fg(),n.Ro(this.yo);var e=zm(this),i=this.Yg,r=this.qg();this.Dl=t,this.bg.Ml=t.Rg,this.kg.Ml=t.Ng,this.Tg.Ml=t.Og,this.Sg.Ml=t.Cg,Wm(this,e,this);var u=this.Yg;u!==i&&this.mo(new Ly(u)),this.qg()!==r&&this.mo(new By),t.ko(this.yo),t.Mg(n)}},e.Xg=function(){},e.$g=function(){this.Dl.$g()},e.kn=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:t.To(),t.Dl.Fg(),n=0,e=t._g,i.label=1;case 1:return n<e.length?[4,e[n].kn()]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return t.bg.kn(),t.kg.kn(),t.Tg.kn(),t.Sg.kn(),[2]}}))}))()},e.Fc=function(){var t=this;return ta((function(){return ea(this,(function(n){return[2,wc(t._g.map((function(t){return t.Fc()}))).then(pr)]}))}))()},Ii(n,[{key:"Rg",get:function(){return this.bg}},{key:"Og",get:function(){return this.Tg}},{key:"Ng",get:function(){return this.kg}},{key:"Kg",get:function(){return this.Dl.Kg}},{key:"Jg",get:function(){return this.Dl.Jg},set:function(t){this.Dl.Jg=t}},{key:"Yg",get:function(){return this.Dl.Yg}},{key:"Gw",get:function(){return this.Dl.Gw},set:function(t){this.Dl.Gw=t}},{key:"Yw",get:function(){return this.Dl.Yw}},{key:"Zg",get:function(){return this.Dl.Zg}},{key:"Xw",get:function(){return this.Dl.Xw}},{key:"xo",get:function(){return this.Dl.xo}},{key:"$w",get:function(){return this.Dl.$w}},{key:"Cg",get:function(){return this.Sg}},{key:"Qg",get:function(){return this.Dl.Qg}},{key:"ty",get:function(){return function(t){for(var n=0,e=0,i=0,r=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var a=t[s];n+=a.ny,e+=a.ey,i+=a.iy,r+=a.uy,u+=a.oy,o.amountOfBufferedAudioSegments+=a.sy.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=a.sy.amountOfBufferedVideoSegments}return{ny:n,ey:e,iy:i,uy:r,oy:u,sy:o}}(this._g.map((function(t){return t.ty})))}},{key:"Kw",get:function(){return this.Dl.Kw},set:function(t){this.Dl.Kw=t}},{key:"hy",get:function(){return this.Dl.hy}},{key:"Jw",get:function(){return this.Dl.Jw}},{key:"Zw",get:function(){return this.Dl.Zw},set:function(t){this.Dl.Zw=t}},{key:"vy",get:function(){return this.Dl.vy}},{key:"ly",get:function(){return this.Dl.ly},set:function(t){this.Dl.ly=t}},{key:"cw",get:function(){return this.Dl.cw}},{key:"wy",get:function(){return this.Dl.wy}},{key:"Qw",get:function(){return this.Dl.Qw}},{key:"tg",get:function(){return this.Dl.tg}},{key:"ng",get:function(){return this.Dl.ng}},{key:"eg",get:function(){return this.Dl.eg},set:function(t){this.Dl.eg=t}},{key:"gy",get:function(){return this.Dl.gy}},{key:"yy",get:function(){return!1},set:function(t){}},{key:"Ml",get:function(){return this.Dl},set:function(t){this.Gg(t)}}]),n}(xy);ki(),Vt(),Ri(),ki(),Vt(),Ri();var s_,a_,c_=function(t){function n(n,e,i,r,u,o,s,a){var c;return(c=t.call(this,n,e,i)||this).url=r,c.status=u,c.statusText=o,c.response=s,c.systemCode=a,c}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Fd);(a_=s_||(s_={}))[a_.ABORTED=1]="ABORTED",a_[a_.NETWORK=2]="NETWORK",a_[a_.DECODE=3]="DECODE",a_[a_.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",a_[a_.ENCRYPTED=5]="ENCRYPTED",a_[a_.LICENSE_INVALID=6]="LICENSE_INVALID",a_[a_.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR";var f_=function(t){function n(n,e,i,r){var u;return(u=t.call(this,e)||this).code=n,u.message=null!=e?e:"Unknown error",u.cause=i,u.systemCode=r,f.captureStackTrace&&f.captureStackTrace(lu(u),u.constructor),u}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"MediaError"}}]),n}(wu);function h_(t){ey(t,"MEDIA_ERR_ABORTED",1),ey(t,"MEDIA_ERR_NETWORK",2),ey(t,"MEDIA_ERR_DECODE",3),ey(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),ey(t,"MEDIA_ERR_ENCRYPTED",5)}function v_(t){var n,e;return function(t){return t.category===xd.CONTENT_PROTECTION}(t)?new f_(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new f_(function(t){if(t===Dd.MEDIA_ABORTED)return 1;if(t===Dd.MANIFEST_LOAD_ERROR||t===Dd.MEDIA_LOAD_ERROR||t===Dd.SUBTITLE_LOAD_ERROR)return 2;if(t===Dd.MEDIA_DECODE_ERROR)return 3;if(t===Dd.MEDIA_NOT_SUPPORTED)return 4;var n=xd.fromCode(t);if(n===xd.NETWORK)return 2;if(n===xd.SOURCE)return 4;if(n===xd.LICENSE)return 6;if(n===xd.CONTENT_PROTECTION)return 5;if(n===xd.AD)return 7;return 3}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}h_(f_),h_(f_.prototype),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt();var d_=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.Rl=function(n){return t.prototype.Rl.call(this,n)},e.tl=function(){return Ty(this)},n}(Jg);ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt();var l_=function(){function t(){this.my=[],this.Zd=void 0}var n=t.prototype;return n._y=function(t){this.my.push(t),this.Zd&&this.Zd.push(t.Qd)},n.Sc=function(t){Qa(this.my,t),this.Zd&&Qa(this.Zd,t.Qd)},n.Il=function(t){return this.my[t]},n.py=function(t){return vr(t)?function(t,n){for(var e=0;e<n.length;e++)if(!nc(t,n[e]))return!1;return!0}(this.my,t):nc(this.my,t)},n.Fc=function(){ec(this.my),this.Zd&&ec(this.Zd)},Ii(t,[{key:"Cl",get:function(){return this.my}},{key:"Al",get:function(){return this.my.length}},{key:"Qd",get:function(){var t,n;return this.Zd||(this.Zd=((n=(t=this).Cl.map((function(t){return t.Qd}))).item=function(n){var e=0|n,i=t.Il(e);return i&&i.Qd||void 0},n)),this.Zd}}]),t}();ki(),Vt();var w_=function(t){function n(n){var e;return(e=t.call(this,Yg.pl)||this).nl=n,e}return Xi(n,t),n.prototype.tl=function(){return new g_(this.nl.Qd)},n}(zg),g_=function(t){function n(n){var e;return(e=t.call(this,"update")||this).track=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var y_=0;function m_(){return y_++}var __=0;var p_=0;var b_=0;var k_=function(t){function n(n){var e;return(e=t.call(this)||this).Mu=Pm.Tv,e.by=!1,e.Zd=void 0,e.ky=n,e.Ty=m_(),e.fc=b_+++"",e.Sy=n.label,e.my=new l_,e.Ey(),e}Xi(n,t);var e=n.prototype;return e.Iy=function(t){this.Vl=t},e.Ey=function(){this.Vl=this.Ry},Ii(n,[{key:"Ul",get:function(){}},{key:"Vl",get:function(){return this.by},set:function(t){this.by!==t&&(this.by=t,this.Ry=t,this.mo(new Zg(this)))}},{key:"Ry",get:function(){return this.ky.enabled},set:function(t){this.ky.enabled=t}},{key:"Qd",get:function(){return this.Zd||(this.Zd=by(this)),this.Zd}},{key:"Hl",get:function(){return this.fc}},{key:"ql",get:function(){return this.Ty}},{key:"zl",get:function(){return this.ky.kind}},{key:"Wl",get:function(){return this.Sy},set:function(t){t!==this.Sy&&(this.Sy=t,this.mo(new w_(this)))}},{key:"Gl",get:function(){return this.ky.language}},{key:"iw",get:function(){return this.Vl?"enabled":"disabled"}},{key:"Ny",get:function(){return this.ky}},{key:"Yl",get:function(){return this.my}},{key:"Xl",get:function(){},set:function(t){}}]),n}(pc);ki(),Vt(),Ri();var T_=0;var S_=function(t){function n(n){var e;return(e=t.call(this)||this).Mu=Pm.Sv,e.by=!1,e.Zd=void 0,e.ky=n,e.Ty=m_(),e.fc=T_+++"",e.my=new l_,e.Sy=n.label,e.Ey(),e}Xi(n,t);var e=n.prototype;return e.Ey=function(){this.Vl=this.Ry},e.Iy=function(t){this.Vl=t},Ii(n,[{key:"Ul",get:function(){}},{key:"Vl",get:function(){return this.by},set:function(t){this.by!==t&&(this.by=t,this.Ry=t,this.mo(new Zg(this)))}},{key:"Ry",get:function(){return!!this.ky.selected},set:function(t){this.ky.selected=t}},{key:"Qd",get:function(){return this.Zd||(this.Zd=by(this)),this.Zd}},{key:"Hl",get:function(){return this.fc}},{key:"ql",get:function(){return this.Ty}},{key:"zl",get:function(){return"main"}},{key:"Wl",get:function(){return this.Sy},set:function(t){t!==this.Sy&&(this.Sy=t,this.mo(new w_(this)))}},{key:"Gl",get:function(){return this.ky.language}},{key:"iw",get:function(){return this.Vl?"enabled":"disabled"}},{key:"Ny",get:function(){return this.ky}},{key:"Yl",get:function(){return this.my}},{key:"Xl",get:function(){},set:function(t){}}]),n}(pc);ki(),Vt();var E_,I_,R_,N_,O_,C_,A_,D_,P_=function(t){function n(n){var e;return(e=t.call(this,ol.Hf)||this).Qg=n,e}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),(I_=E_||(E_={}))[I_.NONE=0]="NONE",I_[I_.LOADING=1]="LOADING",I_[I_.LOADED=2]="LOADED",I_[I_.ERROR=3]="ERROR",ki(),Vt(),(N_=R_||(R_={})).DEFAULT="",N_.SRT="srt",N_.TTML="ttml",N_.WEBVTT="webvtt",N_.EMSG="emsg",N_.EVENT_STREAM="eventstream",N_.ID3="id3",N_.CEA608="cea608",N_.DATE_RANGE="daterange",ki(),Vt(),ki(),Vt(),(C_=O_||(O_={})).Oy="cue",C_.Cy="region",C_.Ay="stylesheet",ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(D_=A_||(A_={})).Dy="Py",D_.xy="By",D_.pl="Ec";var x_=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).Ly=e,i}return Xi(n,t),n}(zg),B_=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).cue=e,i}return Xi(n,t),n}(Wg);function L_(t){var n,e=[A_.Dy,A_.xy,A_.pl],i={get track(){return t.nl.Qd},get id(){return t.Hl},get uid(){return t.ql},get startTime(){return t.My},get endTime(){return t.Fy},get content(){return t.Uy},addEventListener:function(t,e){var i=ly(t,vy);n.po(i,e)},removeEventListener:function(t,e){var i=ly(t,vy);n.So(i,e)}};return n=new bc(i),t.po(e,(function(t){return n.mo(t.Qd)})),i}function M_(){}ki(),Vt(),Ri(),ki(),Vt();var F_=function(t){function n(n){return t.call(this,A_.pl,n)}return Xi(n,t),n.prototype.tl=function(){return new U_(this.Ly.Qd)},n}(x_),U_=function(t){function n(n){return t.call(this,"update",n)}return Xi(n,t),n}(B_),V_=.02;var H_=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this)||this).Zd=void 0,o.Vy=void 0,o.Hy=!1,o.qy=-1,o.Ty=p_++,o.zy=n,o.Wy=e,o.jy=i,o.Gy=Boolean(r),o.fc=null!=u?u:"",o}Xi(n,t);var e=n.prototype;return e.tl=function(){return L_(this)},e.Yy=function(t){return this===t||oy(this,t)&&(e=t,ou((n=this).My,e.My,V_)&&ou(n.Fy,e.Fy,V_)&&n.Hl===e.Hl);var n,e},e.kn=function(){this.To()},Ii(n,[{key:"My",get:function(){return this.zy},set:function(t){this.zy!==t&&(this.zy=t,this.mo(new F_(this)))}},{key:"Fy",get:function(){return this.Wy},set:function(t){this.Wy!==t&&(this.Wy=t,this.mo(new F_(this)))}},{key:"Hl",get:function(){return this.fc}},{key:"ql",get:function(){return this.Ty}},{key:"Qd",get:function(){return this.Zd||(this.Zd=this.tl()),this.Zd}},{key:"Xy",get:function(){return this.Hy},set:function(t){this.Hy=t}},{key:"nl",get:function(){return this.Vy},set:function(t){this.Vy=t}},{key:"Uy",get:function(){return this.jy},set:function(t){this.jy!==t&&(this.jy=t,this.mo(new F_(this)))}},{key:"$y",get:function(){return this.Gy},set:function(t){this.Gy=t}}]),n}(pc);var q_=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,i,r,u)||this).Ky="auto",o.Jy="start",o.Zy="auto",o.Qy="auto",o.tm=void 0,o.nm=!0,o.Go=100,o.im="center",o.rm="",o}return Xi(n,t),n.prototype.Yy=function(n){return this===n||oy(this,n)&&t.prototype.Yy.call(this,n)&&(i=n,(e=this).Uy===i.Uy&&e.Ky===i.Ky&&e.Jy===i.Jy&&e.Zy===i.Zy&&e.Qy===i.Qy&&e.tm===i.tm&&e.nm===i.nm&&e.Go===i.Go&&e.im===i.im&&e.rm===i.rm);var e,i},Ii(n,[{key:"Qd",get:function(){var t;return this.Zd||(this.Zd=iy(L_(t=this),{get align(){return t.im},get line(){return t.Ky},get lineAlign(){return t.Jy},get position(){return t.Zy},get positionAlign(){return t.Qy},get region(){return t.tm?t.tm.Qd:null},get size(){return t.Go},get snapToLines(){return t.nm},get text(){return t.Uy},get vertical(){return t.rm}})),this.Zd}},{key:"Mu",get:function(){return O_.Oy}}]),n}(H_);ki(),Vt(),Ri(),ki(),Vt();var z_=function(){function t(t,n,e,i,r,u,o,s){this.Hl=t,this.um=n,this.om=e,this.sm=i,this.am=r,this.fm=u,this.hm=o,this.vm=s}return Ii(t,[{key:"Qd",get:function(){var t;return this.Zd||(this.Zd=(t=this,{get id(){return t.Hl},get identifier(){return t.Hl},get lines(){return t.om},get regionAnchorX(){return t.sm},get regionAnchorY(){return t.am},get scrollValue(){return t.vm},get viewportAnchorX(){return t.fm},get viewportAnchorY(){return t.hm},get width(){return t.um}})),this.Zd}},{key:"Mu",get:function(){return O_.Cy}}]),t}();ki(),Vt(),ki(),Vt();var W_=1e6,j_=function(){function t(){}var n=t.prototype;return n.dm=function(t){return this.lm()*t},n.wm=function(t){return this.gm(t)>0},n.ym=function(t){return this.gm(t)>=0},n._m=function(t,n){return this.bm(t).pm(n)},n.Yy=function(t){return 0===this.gm(t)},n.km=function(t){return this.gm(t)<0},n.pm=function(t){return this.gm(t)<=0},n.Tm=function(){return this.Sm()?this.Em():this},n.Im=function(t){return this._y(t.Em())},n.bm=function(t){return this.Im(t).Tm()},t}();function G_(t,n){return t.Rm()?n.Rm()?qa.Xu:qa.$u:n.Rm()?qa.Ku:t.Nm()?n.Nm()&&t.Sm()===n.Sm()?qa.Xu:t.Sm()?qa.Ku:qa.$u:n.Sm()?qa.$u:qa.Ku}ki(),Vt(),ki(),Vt();var Y_=0x10000000000000000,X_=Y_*Y_,$_=X_/2,K_=function(){function t(t,n){this.Om=t,this.Cm=n}var n=t.prototype;return n.Am=function(){return this.Cm.unsigned},n.Dm=function(){return this.Om.isZero()&&this.Cm.isZero()},n.Sm=function(){return this.Cm.isNegative()},n.Pm=function(){return this.Am()?t.xm(this.Om,this.Cm,!1):this},n.Bm=function(){return this.Am()?this:t.xm(this.Om,this.Cm,!0)},n.Lm=function(){return this.Om},n.lm=function(){return this.Sm()?-this.Em().lm():this.Cm.toNumber()*Y_+this.Om.toUnsigned().toNumber()},n.Mm=function(){return this.Om.toInt()},n.Yy=function(t){return(this.Am()===t.Am()||this.Cm.getHighBits()>>>31!=1||t.Cm.getHighBits()>>>31!=1)&&(this.Cm.toUnsigned().eq(t.Cm.toUnsigned())&&this.Om.toUnsigned().eq(t.Om.toUnsigned()))},n.gm=function(t){if(this.Yy(t))return qa.Xu;var n=this.Sm(),e=t.Sm();if(n&&!e)return qa.Ku;if(!n&&e)return qa.$u;if(!this.Am())return this.Im(t).Sm()?qa.Ku:qa.$u;var i=this.Bm(),r=t.Bm(),u=r.Cm.comp(i.Cm);return u>0||0===u&&r.Om.gt(i.Om)?qa.Ku:qa.$u},n.km=function(t){return this.gm(t)<0},n.pm=function(t){return this.gm(t)<=0},n.Fm=function(t){return this.gm(t)>0},n.Um=function(t){return this.gm(t)>=0},n.Vm=function(){return new t(this.Om.not(),this.Cm.not())},n.Hm=function(n){return new t(this.Om.and(n.Om),this.Cm.and(n.Cm))},n.qm=function(n){return new t(this.Om.or(n.Om),this.Cm.or(n.Cm))},n.zm=function(n){var e=127&n;return 0===e?this:e<64?t.xm(this.Om.shl(e),this.Cm.shl(e).or(this.Om.shru(64-e)),this.Am()):t.xm(iu.ZERO,this.Om.shl(e-64),this.Am())},n.Wm=function(n){var e=127&n;return 0===e?this:e<64?t.xm(this.Om.shru(e).or(this.Cm.shl(64-e)),this.Cm.shr(e),this.Am()):t.xm(this.Cm.shr(e-64),this.Cm.isNegative()?iu.NEG_ONE:iu.ZERO,this.Am())},n.jm=function(n){var e=127&n;return 0===e?this:e<64?t.xm(this.Om.shru(e).or(this.Cm.shl(64-e)),this.Cm.shru(e),this.Am()):64===e?t.xm(this.Cm,iu.ZERO,this.Am()):t.xm(this.Cm.shru(e-64),iu.ZERO,this.Am())},n._y=function(n){var e=this.Cm.high>>>16,i=65535&this.Cm.high,r=this.Cm.low>>>16,u=65535&this.Cm.low,o=this.Om.high>>>16,s=65535&this.Om.high,a=this.Om.low>>>16,c=65535&this.Om.low,f=n.Cm.high>>>16,h=65535&n.Cm.high,v=n.Cm.low>>>16,d=65535&n.Cm.low,l=n.Om.high>>>16,w=65535&n.Om.high,g=n.Om.low>>>16,y=0,m=0,_=0,p=0,b=0,k=0,T=0,S=0;T+=(S+=c+(65535&n.Om.low))>>>16,S&=65535,k+=(T+=a+g)>>>16,T&=65535,b+=(k+=s+w)>>>16,k&=65535,p+=(b+=o+l)>>>16,b&=65535,_+=(p+=u+d)>>>16,p&=65535,m+=(_+=r+v)>>>16,_&=65535,y+=(m+=i+h)>>>16,m&=65535,y+=e+f,y&=65535;var E=this.Am(),I=iu.fromBits(_<<16|p,y<<16|m,E),R=iu.fromBits(T<<16|S,b<<16|k,E);return t.xm(R,I,E)},n.Im=function(t){return this._y(t.Em())},n.Em=function(){return this.Vm()._y(t.Gm)},n.Ym=function(n){if(this.Dm()||n.Dm())return this.Am()?t.Xm:t.$m;if(this.Sm())return n.Sm()?this.Em().Ym(n.Em()):this.Em().Ym(n).Em();if(n.Sm())return this.Ym(n.Em()).Em();if(this.Cm.isZero()&&0===this.Om.high&&n.Cm.isZero()&&0===n.Om.high)return t.Km(this.Om.multiply(n.Om));var e=iu.fromBits(4294967295,0,!0),i=this.Om.and(e),r=this.Om.shru(32),u=this.Cm.and(e),o=this.Cm.shru(32),s=n.Om.and(e),a=n.Om.shru(32),c=n.Cm.and(e),f=n.Cm.shru(32),h=iu.UZERO,v=iu.UZERO,d=iu.UZERO,l=iu.UZERO;h=h.add(i.mul(s)),v=v.add(h.shru(32)),h=h.and(e),v=v.add(r.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(e)).add(i.mul(a)),d=d.add(v.shru(32)),v=v.and(e),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(e)).add(r.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(e)).add(i.mul(c)),l=l.add(d.shru(32)),d=d.and(e),l=l.add(o.mul(s)).add(u.mul(a)).add(r.mul(c)).add(i.mul(f)).and(e);var w=iu.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=iu.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.xm(w,g,this.Am())},n.Jm=function(n){var e,i,r=n;if(r.Dm())throw new RangeError("division by zero");if(this.Dm())return this.Am()?[t.Xm,t.Xm]:[t.$m,t.$m];if(this.Am()){if(r.Am()||(r=r.Bm()),r.Fm(this))return[t.Xm,this];if(r.Fm(this.jm(1)))return[i=t.Zm,e=this.Im(r)];i=t.Xm}else{if(this.Yy(t.Qm)){if(r.Yy(t.Gm)||r.Yy(t.t_))return[t.Qm,t.$m];if(r.Yy(t.Qm))return[t.Gm,t.$m];var u=this.Wm(1).n_(r).zm(1);return u.Yy(t.$m)?i=r.Sm()?t.Gm:t.t_:(e=this.Im(r.Ym(u)),i=u._y(e.n_(r))),[i,e=this.Im(r.Ym(i))]}if(r.Yy(t.Qm))return this.Am()?[t.Xm,this]:[t.$m,this];var o,s;if(this.Sm())return r.Sm()?this.Em().Jm(r.Em()):(i=(o=ia(this.Em().Jm(r),2))[0],e=o[1],[i.Em(),e.Em()]);if(r.Sm())return i=(s=ia(this.Jm(r.Em()),2))[0],e=s[1],[i.Em(),e.Em()];i=t.$m}for(e=this;e.Um(r);){for(var a=d.max(1,d.floor(e.lm()/r.lm())),c=d.ceil(d.log(a)/d.LN2),f=c<=48?1:d.pow(2,c-48),h=t.e_(a),v=h.Ym(r);v.Sm()||v.Fm(e);)a-=f,v=(h=t.e_(a,this.Am())).Ym(r);h.Dm()&&(h=t.Gm),i=i._y(h),e=e.Im(v)}return[i,e]},n.n_=function(t){return this.Jm(t)[0]},n.i_=function(t){return this.Jm(t)[1]},n.toString=function(n){var e=n||10;if(e<2||e>36)throw new RangeError("radix");if(this.Dm())return"0";if(this.Sm()){if(this.Yy(t.Qm)){var i=t.e_(e),r=this.n_(i),u=r.Ym(i).Im(this);return r.toString(e)+u.Mm().toString(e)}return"-"+this.Em().toString(e)}for(var o=t.e_(d.pow(e,6),this.Am()),s=this,a="";;){var c=s.n_(o),f=(s.Im(c.Ym(o)).Mm()>>>0).toString(e);if((s=c).Dm())return f+a;for(;f.length<6;)f="0"+f;a=String(f)+a}},t.xm=function(n,e,i){return i?new t(n.toUnsigned(),e.toUnsigned()):new t(n.toSigned(),e.toSigned())},t.Km=function(n){return n.unsigned?new t(n,iu.UZERO):new t(n,n.isNegative()?iu.NEG_ONE:iu.ZERO)},t.e_=function(n,e){if(g(n))return e?t.Xm:t.$m;if(e){if(n<0)return t.Xm;if(n>=X_)return t.r_}else{if(n<=-$_)return t.Qm;if(n+1>=$_)return t.u_}return n<0?t.e_(-n,e).Em():t.xm(iu.fromNumber(n%Y_),iu.fromNumber(n/Y_),e)},t}();K_.$m=K_.Km(iu.ZERO),K_.Xm=K_.Km(iu.UZERO),K_.Gm=K_.Km(iu.ONE),K_.Zm=K_.Km(iu.UONE),K_.t_=K_.Km(iu.NEG_ONE),K_.u_=K_.xm(iu.NEG_ONE,iu.MAX_VALUE,!1),K_.r_=K_.xm(iu.MAX_UNSIGNED_VALUE,iu.MAX_UNSIGNED_VALUE,!0),K_.Qm=K_.xm(iu.ZERO,iu.MIN_VALUE,!1),ki(),Vt(),Ri();var J_=function(){function t(t,n){void 0===n&&(n=1),this.o_=t,this.s_=n}var n=t.prototype;return n._y=function(n){return this.s_>=n.s_?new t(this.o_+n.a_(this.s_).o_,this.s_):new t(this.a_(n.s_).o_+n.o_,n.s_)},n.wm=function(t){return t.km(this)},n.ym=function(t){return t.pm(this)},n.bm=function(n){return this.s_>=n.s_?new t(d.abs(this.o_-n.a_(this.s_).o_),this.s_):n.bm(this)},n._m=function(t,n){return this.bm(t).pm(n)},n.gm=function(t){return e=t,(n=this).s_>=e.s_?Ka(n.o_,e.a_(n.s_).o_):Ka(n.a_(e.s_).o_,e.o_);var n,e},n.Yy=function(t){return 0===this.gm(t)},n.km=function(t){return this.gm(t)<0},n.pm=function(t){return this.gm(t)<=0},n.a_=function(n){return new t(this.o_*(n/this.s_),n)},n.Im=function(n){return this.s_>=n.s_?new t(this.o_-n.a_(this.s_).o_,this.s_):new t(this.a_(n.s_).o_-n.o_,n.s_)},n.c_=function(n){return new t(this.o_*n,this.s_)},t.f_=function(n){return new t(d.ceil(n.o_),n.s_)},t.h_=function(n){return new t(d.floor(n.o_),n.s_)},t.v_=function(t,n){return t.ym(n)?t:n},t.d_=function(t,n){return t.pm(n)?t:n},Ii(t,[{key:"Nm",get:function(){return!isFinite(this.o_)}},{key:"l_",get:function(){return this.o_/this.s_}}]),t}();J_.w_=new J_(1/6,1),J_.$m=new J_(0),J_.g_=new J_(1/0),J_.y_=1e6;var Z_=function(t){function n(n,e){var i;return(i=t.call(this)||this).Mi=n.toSigned(),i.s_=e>>>0,i}Xi(n,t);var e=n.prototype;return e.Sm=function(){return this.Mi.isNegative()},e.Dm=function(){return 0!==this.s_&&this.Mi.isZero()},e.Nm=function(){return 0===this.s_&&!this.Mi.isZero()},e.Rm=function(){return 0===this.s_&&this.Mi.isZero()},e.lm=function(){if(0===this.s_)return this.Mi.isZero()?NaN:this.Mi.isNegative()?-1/0:1/0;var t=this.Mi.divide(this.s_),n=this.Mi.subtract(t.multiply(this.s_));return t.toNumber()+n.toNumber()/this.s_},e.Lm=function(){if(0===this.s_)throw new f("Failed to convert timestamp");return this.Mi},e.m_=function(){return new Date(0===this.s_?NaN:this.a_(1e3).Mi.toNumber())},e.__=function(){return new J_(0===this.s_?this.lm():this.Mi.toNumber(),this.s_)},e.a_=function(t,e){void 0===e&&(e=Q_.p_);var i=this.s_;if(i===t)return this;if(0===i)return this;var r=su(i,t);return new n(function(t,n,e){var i=ia(t.Jm(n),2),r=i[0],u=i[1];if(u.Dm())return r;if(e===Q_.p_)return u.Sm()?r.Im(K_.Gm):r;if(e===Q_.b_)return u.Sm()?r:r._y(K_.Gm);var o=u.Ym(K_.e_(2));return o.Sm()?o.Em().km(n)?r:r.Im(K_.Gm):o.km(n)?r:r._y(K_.Gm)}(K_.Km(this.Mi).Ym(K_.e_(t/r)),K_.e_(i/r),e).Lm(),t)},e.gm=function(t){if(this===t)return qa.Xu;if(0===this.s_||0===t.s_)return G_(this,t);if(this.Dm())return t.Dm()?qa.Xu:t.Sm()?qa.$u:qa.Ku;if(t.Dm())return this.Sm()?qa.Ku:qa.$u;var n=d.min(this.s_,t.s_),e=this.a_(n,Q_.k_).Mi,i=t.a_(n,Q_.k_).Mi;return e.compare(i)},e.Em=function(){return 0===this.s_?function(t){0;return t.Rm()?t:t.Sm()?Z_.T_:Z_.S_}(this):new n(this.Mi.negate(),this.s_)},e._y=function(t){if(0===this.s_||0===t.s_)return function(t,n){0;if(t.Rm()||n.Rm())return Z_.E_;if(t.Nm()&&n.Nm())return t.Sm()===n.Sm()?t:Z_.E_;return t.Nm()?t:n}(this,t);if(this.Dm())return t;if(t.Dm())return this;var e=d.max(this.s_,t.s_),i=this.a_(e,Q_.k_),r=t.a_(e,Q_.k_);return new n(i.Mi.add(r.Mi),e)},e.Ym=function(t){if(this.Rm()||g(t))return n.E_;if(this.Nm()||!isFinite(t)){if(this.Dm()||0===t)return n.E_;var e=this.Sm()?n.S_:n.T_;return t<0?e.Em():e}return this.Dm()?this:new n(0===t?iu.ZERO:this.Mi.multiply(t),this.s_)},e.n_=function(t){if(this.Rm()||g(t))return n.E_;if(this.Nm())return isFinite(t)?0===t?1/t<0?this.Em():this:t<0?this.Em():this:n.E_;if(!isFinite(t))return new n(iu.ZERO,this.s_);if(this.Dm())return 0===t?n.E_:new n(iu.ZERO,this.s_);if(0===t){var e=this.Sm()?n.S_:n.T_;return 1/t<0?e.Em():e}return new n(this.Mi.divide(t),this.s_)},e.I_=function(){return[this.Mi.low,this.Mi.high,this.s_]},n.R_=function(t,e){return void 0===e&&(e=W_),n.e_(t*e,e)},n.e_=function(t,e){return g(t)?n.E_:t===1/0?n.T_:t===-1/0?n.S_:new n(iu.fromNumber(t),e)},n.Km=function(t,e){return new n(t,e)},n.N_=function(t){return n.R_(t.l_,W_)},n.O_=function(t){return new n(iu.fromNumber(t.getTime()),1e3)},n.v_=function(t,n){return t.ym(n)?t:n},n.d_=function(t,n){return t.pm(n)?t:n},n.C_=function(t,e,i){return n.v_(e,n.d_(i,t))},n}(j_);Z_.$m=new Z_(iu.ZERO,W_),Z_.E_=new Z_(iu.ZERO,0),Z_.T_=new Z_(iu.ONE,0),Z_.S_=new Z_(iu.NEG_ONE,0),ki(),Vt(),Ri(),$();var Q_,tp,np=function(t){function n(n,e){var i;return(i=t.call(this)||this).Mi=BigInt.asIntN(64,n),i.s_=e>>>0,i}Xi(n,t);var e=n.prototype;return e.Sm=function(){return this.Mi<BigInt(0)},e.Dm=function(){return 0!==this.s_&&this.Mi===BigInt(0)},e.Nm=function(){return 0===this.s_&&this.Mi!==BigInt(0)},e.Rm=function(){return 0===this.s_&&this.Mi===BigInt(0)},e.lm=function(){if(0===this.s_)return this.Mi===BigInt(0)?NaN:this.Mi<BigInt(0)?-1/0:1/0;var t=this.Mi/BigInt(this.s_),n=this.Mi-t*BigInt(this.s_);return Number(t)+Number(n)/this.s_},e.Lm=function(){if(0===this.s_)throw new f("Failed to convert timestamp");return this.A_()},e.A_=function(){var t=this.Mi&BigInt(4294967295),n=this.Mi>>BigInt(32)&BigInt(4294967295);return iu.fromBits(Number(t),Number(n))},e.m_=function(){return new Date(0===this.s_?NaN:Number(this.a_(1e3).Mi))},e.__=function(){return new J_(0===this.s_?this.lm():Number(this.Mi),this.s_)},e.a_=function(t,e){void 0===e&&(e=Q_.p_);var i=this.s_;if(i===t)return this;if(0===i)return this;var r=su(i,t);return new n(function(t,n,e){var i=t/n,r=t-i*n;if(r===BigInt(0))return i;if(e===Q_.p_)return r<BigInt(0)?i-BigInt(1):i;if(e===Q_.b_)return r<BigInt(0)?i:i+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?i:i-BigInt(1):u<n?i:i+BigInt(1)}(this.Mi*BigInt(t/r),BigInt(i/r),e),t)},e.gm=function(t){if(this===t)return qa.Xu;if(0===this.s_||0===t.s_)return G_(this,t);if(this.Dm())return t.Dm()?qa.Xu:t.Sm()?qa.$u:qa.Ku;if(t.Dm())return this.Sm()?qa.Ku:qa.$u;var n=d.min(this.s_,t.s_),e=this.a_(n,Q_.k_).Mi,i=t.a_(n,Q_.k_).Mi;return e>i?qa.$u:e<i?qa.Ku:qa.Xu},e.Em=function(){return 0===this.s_?function(t){0;return t.Rm()?t:t.Sm()?np.T_:np.S_}(this):new n(-this.Mi,this.s_)},e._y=function(t){if(0===this.s_||0===t.s_)return function(t,n){0;if(t.Rm()||n.Rm())return np.E_;if(t.Nm()&&n.Nm())return t.Sm()===n.Sm()?t:np.E_;return t.Nm()?t:n}(this,t);if(this.Dm())return t;if(t.Dm())return this;var e=d.max(this.s_,t.s_),i=this.a_(e,Q_.k_),r=t.a_(e,Q_.k_);return new n(i.Mi+r.Mi,e)},e.Ym=function(t){if(this.Rm()||g(t))return n.E_;if(this.Nm()||!isFinite(t)){if(this.Dm()||0===t)return n.E_;var e=this.Sm()?n.S_:n.T_;return t<0?e.Em():e}return this.Dm()?this:new n(0===t?BigInt(0):this.Mi*BigInt(t),this.s_)},e.n_=function(t){if(this.Rm()||g(t))return n.E_;if(this.Nm())return isFinite(t)?0===t?1/t<0?this.Em():this:t<0?this.Em():this:n.E_;if(!isFinite(t))return new n(BigInt(0),this.s_);if(this.Dm())return 0===t?n.E_:new n(BigInt(0),this.s_);if(0===t){var e=this.Sm()?n.S_:n.T_;return 1/t<0?e.Em():e}return new n(this.Mi/BigInt(t),this.s_)},e.I_=function(){var t=this.A_();return[t.low,t.high,this.s_]},n.R_=function(t,e){return void 0===e&&(e=W_),n.e_(t*e,e)},n.e_=function(t,e){return g(t)?n.E_:t===1/0?n.T_:t===-1/0?n.S_:new n(BigInt(d.floor(t)),e)},n.Km=function(t,e){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),e)},n.N_=function(t){return n.R_(t.l_,W_)},n.O_=function(t){return n.e_(t.getTime(),1e3)},n.v_=function(t,n){return t.ym(n)?t:n},n.d_=function(t,n){return t.pm(n)?t:n},n.C_=function(t,e,i){return n.v_(e,n.d_(i,t))},Ii(n,null,[{key:"$m",get:function(){return n.D_||(n.D_=new n(BigInt(0),W_)),n.D_}},{key:"E_",get:function(){return n.P_||(n.P_=new n(BigInt(0),0)),n.P_}},{key:"T_",get:function(){return n.x_||(n.x_=new n(BigInt(1),0)),n.x_}},{key:"S_",get:function(){return n.B_||(n.B_=new n(BigInt(-1),0)),n.B_}}]),n}(j_);np.D_=void 0,np.P_=void 0,np.x_=void 0,np.B_=void 0,(tp=Q_||(Q_={}))[tp.p_=0]="p_",tp[tp.b_=1]="b_",tp[tp.k_=2]="k_";var ep=function(){try{return"function"==typeof BigInt&&"bigint"===O(BigInt(0))}catch(t){return!1}}()?np:Z_;ki(),Vt();var ip=d.pow(2,33);ep.e_(ip,9e4).n_(2);ki(),Vt();var rp,up,op,sp,ap,cp,fp,hp,vp,dp={L_:0,M_:1/0,F_:0},lp=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],wp=[" ","\t","\n","\f","\r"],gp=/^\d*$/,yp=/.*[0-9]+.*/,mp=/^[\d.-]+$/,_p=/(^\.|\.$)/,pp=/(\D\.|\.\D)/;function bp(t){var n=Da(t,"\0"," "),e=Da(n,"\r\n","\n");return Da(e,"\r","\n")}function kp(t,n,e){for(var i=e.Jo;e.Jo<t.length&&n(t.charAt(e.Jo));)e.Xo(1);return t.substring(i,e.Jo)}function Tp(t,n,e,i,r,u){for(var o,s=0,a=n.Jo,c="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(o=kp(t,(function(t){return"\n"!==t}),n),s++,n.Jo>=t.length?f=!0:n.Xo(1),Pa(o,"--\x3e")){if(i||1!==s&&(2!==s||h)){n.$o(a);break}h=!0,a=n.Jo,v=new q_(0,0,"",!1,c);try{Rp(o,r.U_,v,u),c=""}catch(t){Wi.nu(t),v=null}}else{if(""===o)break;i&&xa(o,"X-TIMESTAMP-MAP")&&(r.V_=Sp(o)),i||2!==s||e||(La("STYLE",c.replace(/ /g,""))?(d={Mu:O_.Ay},c=""):La("REGION",c.replace(/ /g,""))&&(l=new z_("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,a=n.Jo}if(v)return v.Uy=c,v;if(d);else if(l)return function(t,n){for(var e=t.split(/\s/),i=":",r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&Pa(u,i)&&u.charAt(0)!==i&&u.charAt(u.length-1)!==i){var o=u.indexOf(i),s=u.substring(0,o),a=u.substring(o+1,u.length);switch(s.toUpperCase()){case"ID":qp(a,n);break;case"WIDTH":jp(a,n);break;case"LINES":Wp(a,n);break;case"REGIONANCHOR":var c=Hp(a);c&&(n.sm=c[0],n.am=c[1]);break;case"VIEWPORTANCHOR":var f=Hp(a);f&&(n.fm=f[0],n.hm=f[1]);break;case"SCROLL":zp(a,n)}}}}(c,l),l;return null}function Sp(t){var n,e,i=t.split("=")[1].trim().split(","),r=Ep(i[0].trim(),"MPEGTS")?i[0]:i[1],u=Ep(i[0].trim(),"LOCAL")?i[0]:i[1];return{H_:(e=Number(r.split(/:(.*)/)[1].trim())||0,ep.e_(e,9e4)),q_:ep.R_(null!=(n=Cp(u.split(/:(.*)/)[1].trim(),new Af))?n:0)}}function Ep(t,n){return xa(t,n)}function Ip(t,n){t&&function(t){return"cue"===t.Mu}(t)?n.fw.push(t):t&&function(t){return"region"===t.Mu}(t)?n.U_.push(t):t&&function(t){return"stylesheet"===t.Mu}(t)&&n.z_.push(t)}function Rp(t,n,e,i){var r=new Af;if(Dp(t,r),e.My=Np(Cp(t,r),i),Dp(t,r),"--\x3e"!==t.substring(r.Jo,r.Jo+3))throw f("Something went wrong with parsing a WebVTT Cue");r.Xo(3),Dp(t,r),e.Fy=Np(Cp(t,r),i),function(t,n,e){for(var i=t.split(/\s/),r=":",u=0;u<i.length;u++){var o=i[u];if(0!==o.length&&Pa(o,r)&&o.charAt(0)!==r&&o.charAt(o.length-1)!==r){var s=o.indexOf(r),a=o.substring(0,s),c=o.substring(s+1,o.length);switch(a.toUpperCase()){case"REGION":Mp(c,n,e);break;case"VERTICAL":Up(c,n);break;case"D":Vp(c,n);break;case"LINE":case"L":Bp(c,n);break;case"POSITION":case"T":Lp(c,n);break;case"SIZE":case"S":Fp(c,n);break;case"ALIGN":case"A":xp(c,n)}}}}(t.substring(r.Jo,t.length),e,n)}function Np(t,n){return t+n.L_}function Op(t){return/^[0-9]$/.test(t)}function Cp(t,n){var e,i,r,u=Da(t,",","."),o=!1;if(n.Jo>=u.length||!Op(u.charAt(n.Jo)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var s=kp(u,Op,n),a=l(s,10);if((s.length>2||a>59)&&(o=!0),n.Jo>=u.length||":"!==u.charAt(n.Jo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Xo(1);var c=kp(u,Op,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(c,10);if(o||n.Jo<u.length&&":"===u.charAt(n.Jo)){if(n.Jo>=u.length||":"!==u.charAt(n.Jo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Xo(1);var v=kp(u,Op,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");e=a,i=h,r=l(v,10)}else e=0,i=a,r=h;if(n.Jo>=u.length||"."!==u.charAt(n.Jo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Xo(1);var d=kp(u,Op,n),w=l(d,10);if(h>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*e*60+60*i+r+w/1e3}function Ap(t){if(t.length<6)return!1;for(var n=0;n<lp.length;n++){if(xa(t,lp[n]))return!0}return!1}function Dp(t,n){for(;n.Jo<t.length&&(e=t.charAt(n.Jo),nc(wp,e));)n.Xo(1);var e}function Pp(t){var n=t.lastIndexOf("%");if(n>-1){var e=w(t.substring(0,n));if(!g(e)&&e>=0&&e<=100)return e}return null}function xp(t,n){var e=t.toLowerCase();switch(e){case"start":case"center":case"end":case"left":case"right":n.im=e;break;case"middle":n.im="center"}}function Bp(t,n){var e,i,r=t.indexOf(",");if(r>=0?(e=t.substring(0,r),i=t.substring(r+1,t.length)):(e=t,i=""),yp.test(e)){var u,o;if(Ba(e,"%")){var s=Pp(e);if(null===s)return;u=s,o=!1}else{if(!mp.test(e)||e.lastIndexOf("-")>0)return;var a=e.indexOf(".");if(a>=0&&(a!==e.lastIndexOf(".")||!pp.test(e)||_p.test(e)))return;if(u=w(e),g(u))return;o=!0}switch(n.Ky=u,n.nm=o,i=i.toLowerCase()){case"start":case"center":case"end":n.Jy=i;break;case"middle":n.Jy="center"}}}function Lp(t,n){var e,i,r=t.indexOf(",");r>=0?(e=t.substring(0,r),i=t.substring(r+1,t.length)):(e=t,i="");var u=Pp(e);if(null!==u)switch(n.Zy=u,i=i.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Qy=i;break;case"start":n.Qy="line-left";break;case"middle":n.Qy="center";break;case"end":n.Qy="line-right"}}function Mp(t,n,e){var i=Za(e,(function(n){return n.Hl===t}));void 0!==i&&(n.tm=i)}function Fp(t,n){var e=Pp(t);null!==e&&(n.Go=e)}function Up(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.rm="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.rm="lr";break;default:n.rm=""}}function Vp(t,n){"VERTICAL"===t.toUpperCase()?n.rm="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.rm="lr")}function Hp(t){if(t.indexOf(",")>=0){var n=Pp(t.substring(0,t.indexOf(","))),e=Pp(t.substring(t.indexOf(",")+1,t.length));return[uu(n||0,0,100),uu(e||100,0,100)]}return null}function qp(t,n){n.Hl=t}function zp(t,n){"up"===t.toLowerCase()&&(n.vm="up")}function Wp(t,n){gp.test(t)&&(n.om=l(t))}function jp(t,n){var e=Pp(t);null!==e&&(n.um=e)}ki(),Vt(),ki(),Vt(),ki(),Vt(),(up=rp||(rp={})).W_="moov",up.j_="mvhd",up.G_="trak",up.Y_="tkhd",up.X_="mdia",up.K_="mdhd",up.J_="hdlr",up.Z_="minf",up.Q_="stbl",up.tp="stsd",up.np="stsc",up.ep="mvex",up.ip="trex",up.rp="avc1",up.op="avcC",up.sp="hev1",up.ap="hvc1",up.cp="hvcC",up.fp="vp09",up.hp="vpcC",up.vp="av01",up.dp="av1C",up.lp="colr",up.wp="pasp",up.gp="mp4a",up.yp="esds",up.mp="wvtt",up._p="vttC",up.pp="vlab",up.bp="enca",up.kp="encv",up.Tp="moof",up.Sp="mfhd",up.Ep="traf",up.Ip="tfhd",up.Rp="trun",up.Np="tfdt",up.Op="senc",up.Cp="mdat",up.Ap="pssh",up.Dp="emsg",up.Pp="sidx",up.xp="styp",up.Bp="ftyp",up.Lp="sinf",up.Mp="frma",function(t){t.Sv="vide",t.Tv="soun",t.Fp="subt",t.Up="hint",t.Vp="meta",t.Hp="auxv"}(op||(op={})),(ap=sp||(sp={})).ON_SCREEN_COLOURS="nclx",ap.RESTRICTED_ICC_PROFILE="rICC",ap.UNRESTRICED_ICC_PROFILE="prof",(fp=cp||(cp={}))[fp.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",fp[fp.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",fp[fp.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",fp[fp.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",fp[fp.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",fp[fp.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",fp[fp.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",(vp=hp||(hp={}))[vp.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",vp[vp.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",vp[vp.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",vp[vp.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",vp[vp.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",vp[vp.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",ki(),Vt();var Gp=function(){function t(t,n){this.nr=t,this.qp=n}var n=t.prototype;return n.zp=function(){return tf(this.nr,this.qp)},n.Wp=function(){return uf(this.nr,this.qp)},n.jp=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt16(n.Jo,e);return n.Xo(2),i}(this.nr,this.qp)},n.Gp=function(){return sf(this.nr,this.qp)},n.Yp=function(){return function(t,n,e){void 0===e&&(e=!1);var i=t.getInt32(n.Jo,e);return n.Xo(4),i}(this.nr,this.qp)},n.Xp=function(){return cf(this.nr,this.qp)},n.$p=function(t){return ef(this.nr,this.qp,t)},n.Kp=function(t){return function(t,n,e){for(var i=[],r=0;r<e;r++)i.push(sf(t,n));return i}(this.nr,this.qp,t)},n.Jp=function(t){return hf(this.nr,this.qp,t)},n.Zp=function(){return pf(this.nr,this.qp)},n.Qp=function(t){this.qp.Xo(t)},n.Ko=function(){return new t(this.nr,this.qp.Ko())},t}();ki(),Vt(),Ri(),ki(),Vt();var Yp=function(t){function n(n,e){var i;return(i=t.call(this)||this).tb=n,i.nb=e,i}return Xi(n,t),Ii(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(gu),Xp=function(){function t(){}return t.eb=function(n){var e=n.nr,i=n.qp,r=t.ib(e,i,!1);if(!r.ub)throw new Yp(i.Jo,r.Gi);return r.Gi},t.ib=function(n,e,i){for(var r=[];e.Jo<n.byteLength;){var u=t.ob(n,e,i);if(!u.ub)return{ub:!1,Gi:r};r.push(u.sb)}return{ub:!0,Gi:r}},t.ab=function(n,e){var i=t.ob(n,e,!1);if(!i.ub)throw new Yp(e.Jo);return i.sb},t.cb=function(n,e){for(var i=n.nr,r=n.qp;r.Jo<i.byteLength;){var u=t.ob(i,r,!1);if(!u.ub)return;if(u.sb.Mu===e)return u.sb}},t.ob=function(n,e,i){var r=e.Jo,u=t.fb(n,e);if(!u.ub)return u;var o=u.hb,s=o.Go;if(0===s){if(i)return e.$o(r),{ub:!1,vb:1/0};s=n.byteLength-r}var a=r+s;if(a>n.byteLength){var c=a;return e.$o(r),{ub:!1,vb:c}}var f,h,v,d={Mu:o.Mu,Jo:r,nr:new Gp((f=n,h=r,v=a,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new Af(o.lb))};return e.$o(a),{ub:!0,sb:d}},t.fb=function(t,n){var e=n.Jo;if(!rf(t,n,8))return{ub:!1,vb:n.Jo+8};var i=sf(t,n),r=hf(t,n,4);if(1===i){if(!rf(t,n,8)){var u=n.Jo+8;return n.$o(e),{ub:!1,vb:u}}i=cf(t,n).toNumber()}if("uuid"===r){if(!rf(t,n,16)){var o=n.Jo+16;return n.$o(e),{ub:!1,vb:o}}r=hf(t,n,16)}return{ub:!0,hb:{Mu:r,Go:i,lb:n.Jo-e}}},t.wb=function(t,n,e){var i=t.nr,r=t.qp,u=Tf(Ef(i),r.Jo,i.byteLength);return e&&(u=Of(u)),r.Xo(u.byteLength),{Mu:n,nr:u}},t.gb=function(n,e,i){var r=Zp(n.Gp());return{Mu:e,yb:r.version,mb:r.flags,nr:t.wb(n,e,i).nr}},t}();function $p(t,n){var e=Kp(t,n);if(!e)throw new f("Missing "+n+" atom");return e}function Kp(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.Mu===n)return i.nr}}function Jp(t,n){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.Mu===n&&e.push(r.nr)}return e}function Zp(t){return{version:t>>24,flags:new Qc(16777215&t)}}var Qp=function(){function t(){}return t._b=function(n){for(var e=[],i=Xp.eb(new Gp(n,new Af)),r=0;r<i.length;r++){var u=i[r],o=t.pb(u);o&&e.push(o)}return e},t.bb=function(t){return Xp.ib(t,new Af,!1).Gi.some(this.kb)},t.Tb=function(n){return Jp(Xp.eb(new Gp(n,new Af)),rp.Ap).map(t.Sb)},t.Eb=function(n){return Jp(Xp.eb(n.nr),rp.Ap).map(t.Sb)},t.kb=function(t){return t.Mu===rp.Bp||t.Mu===rp.xp||t.Mu===rp.W_||t.Mu===rp.Tp||t.Mu===rp.Cp||t.Mu===rp.Pp||t.Mu===rp.Dp},t.pb=function(n){switch(n.Mu){case rp.W_:return t.Ib(n.nr);case rp.Tp:return t.Rb(n.nr,n.Jo);case rp.Cp:return t.Nb(n.nr);case rp.Pp:return t.Ob(n.nr);case rp.Dp:return t.Cb(n.nr)}},t.Ib=function(n){var e=Xp.eb(n),i=$p(e,rp.j_),r=Jp(e,rp.G_),u=Kp(e,rp.ep),o=t.Ab(i),s=r.map(t.Db),a=u?t.Pb(u):void 0;return{Mu:rp.W_,hb:o,xb:s,Bb:a}},t.Ab=function(t){var n=Zp(t.Gp()),e=n.version,i=n.flags,r=1===e?t.Xp():t.Gp(),u=1===e?t.Xp():t.Gp(),o=t.Gp(),s=1===e?t.Xp():t.Gp(),a=t.Gp(),c=t.Wp()>>8;t.Qp(2),t.Qp(8);var f=t.Kp(9);t.Qp(24);var h=t.Gp();return{Mu:rp.j_,yb:e,mb:i,Lb:r,Mb:u,s_:o,Yw:s,Fb:a,eg:c,Ub:f,Vb:h}},t.Db=function(n){var e=Xp.eb(n),i=$p(e,rp.Y_),r=$p(e,rp.X_),u=t.Hb(i),o=t.qb(r);return{Mu:rp.G_,hb:u,zb:o}},t.Hb=function(t){var n=Zp(t.Gp()),e=n.version,i=n.flags,r=1===e?t.Xp():t.Gp(),u=1===e?t.Xp():t.Gp(),o=t.Gp();t.Qp(4);var s=1===e?t.Xp():t.Gp();t.Qp(8);var a=t.jp(),c=t.jp(),f=t.jp()/d.pow(2,8);t.Qp(2);var h=t.Kp(9),v=t.Gp()/d.pow(2,16),l=t.Gp()/d.pow(2,16);return{Mu:rp.Y_,Wb:i.Qo(1),jb:i.Qo(2),Gb:i.Qo(4),Lb:r,Mb:u,Yb:o,Yw:s,Xb:a,$b:c,eg:f,Ub:h,um:v,Kb:l}},t.qb=function(n){var e=Xp.eb(n),i=$p(e,rp.K_),r=$p(e,rp.J_),u=$p(e,rp.Z_),o=t.Jb(i),s=t.Zb(r),a=t.Qb(u);return{Mu:rp.X_,hb:o,tk:s,nk:a}},t.Jb=function(t){var n=Zp(t.Gp()),e=n.version,i=n.flags,r=1===e?t.Xp():t.Gp(),u=1===e?t.Xp():t.Gp(),o=t.Gp(),s=1===e?t.Xp():t.Gp();t.Wp();return t.Qp(2),{Mu:rp.K_,yb:e,mb:i,Lb:r,Mb:u,s_:o,Yw:s}},t.Zb=function(t){var n=Zp(t.Gp()),e=n.version,i=n.flags;t.Qp(4);var r=t.Jp(4);t.Qp(12);var u=t.Zp();return{Mu:rp.J_,yb:e,mb:i,ek:r,xi:u}},t.Qb=function(n){var e=$p(Xp.eb(n),rp.Q_),i=t.ik(e);return{Mu:rp.Z_,rk:i}},t.ik=function(n){var e=$p(Xp.eb(n),rp.tp),i=t.uk(e);return{Mu:rp.Q_,sk:i}},t.uk=function(n){for(var e=Zp(n.Gp()),i=e.version,r=e.flags,u=(n.Gp(),[]),o=Xp.eb(n),s=0;s<o.length;s++){var a=o[s],c=t.ak(a.nr,a.Mu);c&&u.push(c)}return{Mu:rp.tp,yb:i,mb:r,ck:u}},t.ak=function(n,e){var i=t.fk(n,e);return i||((i=t.hk(n,e))||(e===rp.mp?t.vk(n):void 0))},t.fk=function(n,e){return e===rp.gp?t.dk(n):e===rp.bp?t.lk(n):void 0},t.hk=function(n,e){return e===rp.rp?t.wk(n):e===rp.sp||e===rp.ap?t.gk(n,e):e===rp.fp?t.yk(n,e):e===rp.vp?t.mk(n,e):e===rp.kp?t._k(n):void 0},t.pk=function(t,n){return t.Qp(6),{Mu:n,bk:t.Wp()}},t.kk=function(n,e){var i=t.pk(n,e);n.Qp(8);var r=n.Wp(),u=n.Wp();return n.Qp(2),n.Qp(2),na({},i,{Tk:r,Sk:u,Ek:n.Gp()>>>16})},t.Ik=function(n,e){var i=t.pk(n,e);n.Qp(2),n.Qp(2),n.Qp(12);var r=n.Wp(),u=n.Wp(),o=n.Gp(),s=n.Gp();n.Qp(4);var a=n.Wp();n.Qp(32);var c=n.Wp();return n.Qp(2),na({},i,{um:r,Kb:u,Rk:o,Nk:s,Ok:a,Ck:c})},t.dk=function(n){var e=t.kk(n,rp.gp),i=$p(Xp.eb(n),rp.yp);return na({},e,{Ak:t.Dk(i)})},t.vk=function(n){var e=t.pk(n,rp.mp),i=Xp.eb(n),r=$p(i,rp._p),u=t.Pk(r),o=Kp(i,rp.pp);return na({},e,{xk:u,Bk:o?t.Lk(o):o})},t.Pk=function(t){return{Mu:rp._p,Pc:t.Zp()}},t.Lk=function(t){return{Mu:rp.pp,Wl:t.Zp()}},t.Dk=function(t){return Xp.gb(t,rp.yp,!0)},t.wk=function(n){var e=t.Ik(n,rp.rp),i=Xp.eb(n),r=$p(i,rp.op),u=Kp(i,rp.wp);return na({},e,{Mk:t.Fk(r),Uk:u?t.Vk(u):void 0})},t.gk=function(n,e){var i=t.Ik(n,e),r=$p(Xp.eb(n),rp.cp);return na({},i,{Hk:t.qk(r)})},t.yk=function(n,e){var i=t.Ik(n,e),r=$p(Xp.eb(n),rp.hp);return na({},i,{zk:t.Wk(r)})},t.mk=function(n,e){var i=t.Ik(n,e),r=Xp.eb(n),u=$p(r,rp.dp),o=t.jk(u),s=Kp(r,rp.lp);return na({},i,{Gk:o,Yk:s?t.Xk(s):void 0})},t._k=function(n){var e=n.Ko(),i=t.Ik(n,rp.kp),r=$p(Xp.eb(n),rp.Lp),u=t.$k(r);return na({},i,{Kk:t.hk(e,u.Zk.Jk),Qk:u})},t.lk=function(n){var e=n.Ko(),i=t.kk(n,rp.bp),r=$p(Xp.eb(n),rp.Lp),u=t.$k(r);return na({},i,{Kk:t.fk(e,u.Zk.Jk),Qk:u})},t.$k=function(n){var e=$p(Xp.eb(n),rp.Mp),i=t.tT(e);return{Mu:rp.Lp,Zk:i}},t.tT=function(t){var n=t.Jp(4);return{Mu:rp.Mp,Jk:n}},t.Fk=function(t){return Xp.wb(t,rp.op,!0)},t.qk=function(t){return Xp.wb(t,rp.cp,!0)},t.Wk=function(t){return Xp.wb(t,rp.hp,!0)},t.jk=function(t){return Xp.wb(t,rp.dp,!0)},t.Xk=function(t){var n=t.Jp(4);switch(n){case"nclx":return{nT:sp.ON_SCREEN_COLOURS,eT:t.Wp(),iT:t.Wp(),rT:t.Wp(),uT:0!=(128&t.zp())};case"rICC":return{nT:sp.RESTRICTED_ICC_PROFILE};case"prof":return{nT:sp.UNRESTRICED_ICC_PROFILE};default:throw f("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.Vk=function(t){var n=t.Gp(),e=t.Gp();return{Mu:rp.wp,oT:n,sT:e}},t.Pb=function(n){var e=Jp(Xp.eb(n),rp.ip).map(t.aT);return{Mu:rp.ep,xb:e}},t.aT=function(t){var n=Zp(t.Gp()),e=n.version,i=n.flags,r=t.Gp(),u=t.Gp(),o=t.Gp(),s=t.Gp(),a=t.Gp();return{Mu:rp.ip,yb:e,mb:i,Yb:r,cT:u,fT:o,hT:s,vT:a}},t.Rb=function(n,e){var i=Xp.eb(n),r=$p(i,rp.Sp),u=Jp(i,rp.Ep),o=t.dT(r),s=u.map(t.lT);return{Mu:rp.Tp,wT:e,hb:o,xb:s}},t.dT=function(t){var n=Zp(t.Gp()),e=n.version,i=n.flags,r=t.Gp();return{Mu:rp.Sp,yb:e,mb:i,gT:r}},t.lT=function(n){var e=Xp.eb(n),i=$p(e,rp.Ip),r=Jp(e,rp.Rp),u=Kp(e,rp.Np),o=t.yT(i),s=r.map((function(n){return t.mT(n,o)})),a=u?t._T(u):void 0;return{Mu:rp.Ep,hb:o,pT:s,bT:a}},t.yT=function(t){var n=Zp(t.Gp()),e=n.version,i=n.flags,r=t.Gp(),u=i.Qo(cp.BASE_DATA_OFFSET_PRESENT)?t.Xp():void 0,o=i.Qo(cp.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Gp():void 0,s=i.Qo(cp.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Gp():void 0,a=i.Qo(cp.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Gp():void 0,c=i.Qo(cp.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Gp():void 0;return{Mu:rp.Ip,yb:e,mb:i,Yb:r,kT:u,TT:o,fT:s,hT:a,vT:c}},t.mT=function(n,e){for(var i=Zp(n.Gp()),r=i.version,u=i.flags,o=n.Gp(),s=u.Qo(hp.DATA_OFFSET_PRESENT)?n.Yp():void 0,a=u.Qo(hp.FIRST_SAMPLE_FLAGS_PRESENT)?n.Gp():void 0,c=[],f=0;f<o;f++){var h=t.ST(n,u,r,e);0===f&&void 0!==a&&(h.mb=a),c.push(h)}return{Mu:rp.Rp,yb:r,mb:u,ET:o,wT:s,IT:a,RT:c}},t.ST=function(t,n,e,i){return{Yw:n.Qo(hp.SAMPLE_DURATION_PRESENT)?t.Gp():i.fT,Go:n.Qo(hp.SAMPLE_SIZE_PRESENT)?t.Gp():i.hT,mb:n.Qo(hp.SAMPLE_FLAGS_PRESENT)?t.Gp():i.vT,NT:n.Qo(hp.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===e?t.Gp():t.Yp():void 0}},t.Cb=function(t){var n=t.nr,e=t.qp,i=Zp(sf(n,e)),r=i.version,u=i.flags;if(1===r){var o=sf(n,e),s=cf(n,e),a=sf(n,e),c=sf(n,e),f=ff(n,e),h=ff(n,e),v=Nf(Ef(n),e.Jo,n.byteLength);return e.Xo(v.byteLength),{Mu:rp.Dp,yb:r,mb:u,OT:f,Mi:h,s_:o,CT:s,AT:a,Hl:c,DT:v}}var d=ff(n,e),l=ff(n,e),w=sf(n,e),g=sf(n,e),y=sf(n,e),m=sf(n,e),_=Nf(Ef(n),e.Jo,n.byteLength);return e.Xo(_.byteLength),{Mu:rp.Dp,mb:u,yb:r,OT:d,Mi:l,s_:w,PT:g,AT:y,Hl:m,DT:_}},t.Nb=function(t){return Xp.wb(t,rp.Cp,!1)},t.Sb=function(n){var e=n.nr,i=n.qp,r=Of(Ef(e)).buffer,u=Zp(sf(e,i)),o=u.version,s=u.flags,a=t.xT(e,i),c=[];if(o>0)for(var f=sf(e,i),h=0;h<f;h++){var v=ef(e,i,16);c.push(v)}var d=sf(e,i),l=new y(r,i.Jo,d);return i.Xo(e.byteLength),{Mu:rp.Ap,yb:o,mb:s,BT:a,LT:c,MT:d,nr:l,FT:r}},t.xT=function(t,n){for(var e="",i=0;i<4;i++){var r=tf(t,n).toString(16);e+=1===r.length?"0"+r:r}e+="-";for(var u=0;u<2;u++){var o=tf(t,n).toString(16);e+=1===o.length?"0"+o:o}e+="-";for(var s=0;s<2;s++){var a=tf(t,n).toString(16);e+=1===a.length?"0"+a:a}e+="-";for(var c=0;c<2;c++){var f=tf(t,n).toString(16);e+=1===f.length?"0"+f:f}e+="-";for(var h=0;h<6;h++){var v=tf(t,n).toString(16);e+=1===v.length?"0"+v:v}return e.toLowerCase()},t.Ob=function(t){var n,e,i=t.nr,r=t.qp,u=Zp(sf(i,r)),o=u.version,s=u.flags,a=sf(i,r),c=sf(i,r);0===o?(n=iu.fromBits(sf(i,r),0,!0),e=iu.fromBits(sf(i,r),0,!0)):(n=cf(i,r),e=cf(i,r)),r.Xo(2);for(var f=uf(i,r),h=[],v=0;v<f;v+=1){var d=sf(i,r),l=d>>31&1,w=2147483647&d,g=sf(i,r),y=sf(i,r),m=y>>31&1,_=y>>28&7,p=268435455&y;h.push({UT:l,VT:w,Yw:g,HT:m,qT:_,zT:p})}return{Mu:rp.Pp,yb:o,mb:s,WT:a,s_:c,jT:n,GT:e,YT:f,XT:h}},t._T=function(t){var n,e=t.nr,i=t.qp,r=Zp(sf(e,i)),u=r.version,o=r.flags;return n=0===u?iu.fromBits(sf(e,i),0,!0):cf(e,i),{Mu:rp.Np,yb:u,mb:o,bT:n}},t}();function tb(t){return t&&"ji"in t?t.ji:t}ki(),Vt(),Ri(),ki(),Vt();var nb=function(t){function n(n,e,i,r,u,o,s){var a;return(a=t.call(this,n,e,i,r)||this).$T=u,a.KT=o,a.JT=s||void 0,a}return Xi(n,t),n.prototype.Yy=function(n){return this===n||!!oy(this,n)&&(!!t.prototype.Yy.call(this,n)&&(!!uy(this.ZT,n.ZT)&&(!!uy(this.U_,n.U_)&&(this.QT&&n.QT?!!this.QT.Ai(n.QT)&&(this.Uy&&n.Uy?this.Uy.Ai(n.Uy):this.Uy===n.Uy):this.QT===n.QT))))},Ii(n,[{key:"ZT",get:function(){return this.$T}},{key:"U_",get:function(){return this.KT}},{key:"QT",get:function(){return this.JT}},{key:"Qd",get:function(){var t;return this.Zd||(this.Zd=iy(L_(t=this),{get styles(){return t.ZT},get regions(){return t.U_},get metadata(){return tb(t.QT)},get content(){return tb(t.Uy)}})),this.Zd}}]),n}(H_);ki(),Vt(),Ri();var eb=function(){function t(t,n,e){this.tS=t,this.nS=n,du(e)?this.Yt=function(t,n,e){for(var i=0,r=["begin","end","dur"];i<r.length;i++){var u=r[i];e.$i(u)}return e}(0,0,e):this.Yt=e}return Ii(t,[{key:"eS",get:function(){return this.Yt.Di(!0)}},{key:"My",get:function(){return this.tS}},{key:"Fy",get:function(){return this.nS}}]),t}();ki(),Vt(),Mi();var ib="http://www.w3.org/XML/1998/namespace";function rb(t,n){return function(t,n){var e=t.Gi.slice(),i=[];for(;e.length>0;){var r,u=e.shift();if(n(u))i.push(u);else(r=e).push.apply(r,Bi(u.Gi))}return i}(t,(function(t){return t.qi===n}))}function ub(t){for(var n={},e=0,i=t.Qi;e<i.length;e++){var r=i[e];n[r.Pi]=r.Mi}return n}var ob=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,sb=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,ab="http://www.w3.org/ns/ttml";function cb(t,n,e){return void 0===e&&(e=dp),function(t,n,e){var i,r=[];try{i=Wi.Oi(t)}catch(t){return r}var u=i.er;if("tt"!==u.Pi)return r;var o=u&&u.zi(ab,"head")[0],s=u&&u.zi(ab,"body")[0];if(!s||!o)return r;for(var a=function(t){for(var n={},e=t.zi(ab,"styling")[0],i=e&&e.zi(ab,"style")||[],r=0;r<i.length;r++){var u=i[r];n[u.Xi(ib,"id")]=ub(u)}return n}(o),c=function(t,n){var e=ry(t),i=db(n.Yi("tts:extent"));if(!i)return e;for(var r=0,u=v.keys(e);r<u.length;r++){var o=u[r],s=db(e[o].extent);if(s){var a=hb(s[0],i[0]),c=hb(s[1],i[1]);e[o].extent=a+" "+c}var f=db(e[o].origin);if(f){var h=hb(f[0],i[0]),d=hb(f[1],i[1]);e[o].origin=h+" "+d}}return e}(function(t){for(var n={},e=t.zi(ab,"layout")[0],i=e&&e.zi(ab,"region")||[],r=0;r<i.length;r++){var u=i[r],o=u.Xi(ib,"id");if(o){n[o]=ub(u);var s=gb(u);for(var a in s)ar.call(s,a)&&(n[o][a]=s[a])}}return n}(o),u),f=o.zi(ab,"metadata")[0],h=lb(s,e.L_,e.M_,e.F_),d=0;d<h.length;d++){var l=h[d],w=fb(c,l);r.push(new nb(l.My,l.Fy,l.eS,!1,a,w,f))}return r}(t,0,e)}function fb(t,n){for(var e=yb(n.eS),i={},r=0;r<e.length;r++){var u=e[r];i[u]=t[u]}return i}function hb(t,n){var e=vb(t),i=vb(n);if(e&&i&&e===i){var r=Number(t.slice(0,-e.length)),u=Number(n.slice(0,-i.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function vb(t){return Ba(t,"px")?"px":Ba(t,"em")?"em":Ba(t,"c")?"c":Ba(t,"%")?"%":void 0}function db(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function lb(t,n,e,i){var r,u=function(n){var e=function(t,n,e){for(var i=[],r=0;r<e.length;r++){var u=e[r].My,o=e[r].Fy;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&i.push(e[r])}return i}(l[n],l[n+1],a);if(e.length<=0&&function(t){if(du(t)){var n=t.Pi.toUpperCase(),e=Boolean(t.Yi("smpte:backgroundImage"));return"BR"===n||e}return t.Ti===fu.Ii}(t)){var i=t.Di(!1);c.push(new eb(l[n],l[n+1],i))}else if(e.length>0){var r=t.Di(!1);e.forEach((function(t){return r.Wi(t.eS)})),c.push(new eb(l[n],l[n+1],r))}},o=n,s=e,a=[],c=[];if(du(t)){var f,h;o=null!=(f=wb(t.Yi("begin"),i))?f:o,r=wb(t.Yi("dur"),0),s=null!=(h=wb(t.Yi("end"),i))?h:void 0!==r?o+r:s;for(var v=t.Hi,d=0;d<v.length;d++)("body"===t.Pi||"div"===t.Pi)&&v[d].Ti>1||(a=a.concat(lb(v[d],o,s,i)))}for(var l=function(t,n,e){var i=[];i.push(t,n);for(var r=0;r<e.length;r++){var u=e[r];i.push(u.My,u.Fy)}i.sort(Xa);for(var o=i.length,s=0;s<o-1;s++)i[s+1]===i[s]&&(tc(i,s+1),s--,o=i.length);return i}(o,s,a),w=0;w<l.length-1;w++)u(w);return c}function wb(t,n){if(t){if(ob.test(t)){var e=ob.exec(t);if(!e)return;var i=Number(e[1])||0,r=Number(e[2])||0,u=Number(e[3])||0,o=e[6];return 3600*i+60*r+u+(o?Number(o)*d.pow(.1,o.length):0)+n}if(sb.test(t)){var s=sb.exec(t);if(!s)return;var a,c=Number(s[1]);switch(s[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a+n}}}function gb(t){for(var n={},e=t.Vi("style")||[],i=0;i<e.length;i++){var r=ub(e[i]);for(var u in r)ar.call(r,u)&&(n[u]=r[u])}return n}function yb(t){var n,e=[];if(du(t)){(n=t.Yi("region"))&&e.push(n);for(var i=t.Hi,r=0;r<i.length;r++)e=e.concat(yb(i[r]))}return e}function mb(t){var n=function(t){try{return Wi.Oi(t).er}catch(t){}}(t);return"tt"===(null==n?void 0:n.Pi)}ki(),Vt(),ki(),Vt();var _b,pb,bb=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.Rl=function(n){return t.prototype.Rl.call(this,n)},e.Nl=function(n){var e=t.prototype.Nl.call(this,n);return e&&(n.iw=Sy.ow),e},e.tl=function(){return Ay(this)},n}(Jg);ki(),Vt(),ki(),Vt(),(pb=_b||(_b={})).Fp="subtitles",pb.iS="captions",pb.rS="descriptions",pb.uS="chapters",pb.Vp="metadata",pb.oS="thumbnails";var kb=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function Tb(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&nc(kb,t)}(n)?n:n?"metadata":"subtitles"}ki(),Vt();var Sb,Eb,Ib=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,u)||this).url=i,o.status=r,o}return Xi(n,t),n}(Fd);function Rb(t,n){return t===_b.oS||t===_b.Vp&&n===_b.oS}function Nb(t,n,e,i){for(var r=0,u=t.fw.Cl;r<u.length;r++){var o=u[r];if(o.My>e)break;n<=o.Fy&&i.push(o)}}function Ob(t,n){return Ya(t.ql,n.ql)}function Cb(t,n){var e=n,i=0;if(function(t){return t instanceof nw}(t)&&t.name===Jl.Hv)e=t.ov.av;else if(function(t){return t instanceof iw}(t)){var r=t.Gv;if(e=r.sv,0===(i=r.tv))return new Ib(Dd.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,i,t)}return new Ib(Dd.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,i,t)}function Ab(t,n,e,i){var r=function(t){switch(t){case R_.WEBVTT:return"WebVTT";case R_.SRT:return"SRT";case R_.TTML:return"TTML";default:return""}}(t);return new Ib(Dd.SUBTITLE_PARSE_ERROR,"Could not parse the "+(r?r+" ":"")+"subtitle file.",n,e,i)}function Db(t){return Ap(bp(t))?R_.WEBVTT:mb(t)?R_.TTML:R_.SRT}function Pb(t,n){for(var e=[],i=0,r=t.fw.Cl;i<r.length;i++){var u=r[i];if(u.Fy<=n)e.push(u);else if(u.My>=n)break}for(var o=0;o<e.length;o++){var s=e[o];t.sS(s)}}ki(),Vt(),(Eb=Sb||(Sb={})).aS="vtt",Eb.mp="wvtt",Eb.cS="stpp";var xb=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).xb=new bb,n.fS=function(t){var e=t.nl;n.hS(e)},n}Xi(n,t);var e=n.prototype;return e.Rl=function(t){t.po(Yg.ll,this.fS),this.xb.Rl(t),this.hS(t)},e.Nl=function(t){t.So(Yg.ll,this.fS),t.iw=Sy.ow,this.xb.Nl(t)},e.vS=function(t){},e.dS=function(t){},e.hS=function(t){t.iw!==Sy.ow?this.vS(t):this.dS(t)},e.lS=function(){for(var t=0,n=this.xb.Cl;t<n.length;t++){var e=n[t];e.So(Yg.ll,this.fS),e.kn()}},e.wS=function(t){if(t>0)for(var n=0,e=this.xb.Cl;n<e.length;n++){Pb(e[n],t)}},e.Fc=function(){return this.lS(),this.xb.Fc(),G.resolve()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.To(),[4,t.Fc()];case 1:return n.sent(),t.xb.kn(),[2]}}))}))()},n}(pc);ki(),Vt(),Ri();var Bb=function(t){function n(n){var e;return(e=t.call(this,Iy.nw)||this).errorObject=n,e}return Xi(n,t),n.prototype.tl=function(){return this},Ii(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Hg),Lb=function(t){function n(n,e){var i;return(i=t.call(this)||this).gS=new rc,i.yS=n,i.mS=e,i}Xi(n,t);var e=n.prototype;return e._S=function(t){if(t.src){var n=t.kind||_b.Fp,e=this.yS.pS(n,t.id,t.label,t.srclang,t.default);return e.dw=Kl(t.src),this.Rl(e),e}},e.bS=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a,c,f,h,v;return ea(this,(function(d){switch(d.label){case 0:t.cw=E_.LOADING,i=new Gl({av:t.dw,ev:al.Ii,Iv:Ml.GET,do:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,e.mS.ov(i)];case 2:return o=d.sent(),u=o.tv,[4,o.Fh()];case 3:return r=d.sent(),[3,5];case 4:return ac(s=d.sent()),t.cw=E_.ERROR,t.mo(new Bb(Cb(s,t.dw))),[2];case 5:try{for(a=Db(r),t.Mu=a,c=[],a===R_.WEBVTT||a===R_.SRT?(f=function(t,n){void 0===n&&(n=dp);var e={fw:[],U_:[],z_:[]},i=bp(t),r=new Af;if(Ap(i),kp(i,(function(t){return"\n"!==t}),r),r.Jo>=i.length)return e;for(r.Xo(1),"\n"!==i.charAt(r.Jo)?Ip(Tp(i,r,!1,!0,e,n),e):r.Xo(1),kp(i,(function(t){return"\n"===t}),r);r.Jo<i.length;)Ip(Tp(i,r,!1,!1,e,n),e),kp(i,(function(t){return"\n"===t}),r);return e}(r),c=f.fw):a===R_.TTML&&(c=cb(r)),h=0;h<c.length;h++)v=c[h],t.kS(v)}catch(n){return ac(n),t.cw=E_.ERROR,t.mo(new Bb(Ab(t.Mu,t.dw,u,n))),[2]}return t.cw=E_.LOADED,[2]}}))}))()},e.vS=function(t){nc(this.xb.Cl,t)&&t.cw===E_.NONE&&this.bS(t,this.gS.do).catch(cc)},e.Tc=function(){},e.Fc=function(){var n=this;return ta((function(){var e,i,r;return ea(this,(function(u){switch(u.label){case 0:for(n.gS.fo(),n.gS=new rc,e=0,i=n.xb.Cl;e<i.length;e++)r=i[e],n.yS.TS(r);return[4,t.prototype.Fc.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(xb);function Mb(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.zl===n&&i.SS)return i}}function Fb(t,n){Ub(Mb(t.Cl,n))}function Ub(t){void 0!==t&&(t.iw=Sy.rw)}function Vb(t,n){Ub(Mb(t.Cl,n)||function(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(i.zl===n)return i}}(t.Cl,n))}function Hb(t){for(var n=0;n<kb.length;n++){var e=kb[n];e===_b.uS?Vb(t,e):Fb(t,e)}}ki(),Vt(),ki(),Vt();var qb,zb,Wb=function(t){function n(){return t.call(this,ol.gh)}return Xi(n,t),n}(Sc);Ti(),ki(),Vt(),ki(),Vt(),(zb=qb||(qb={}))[zb.ES=0]="ES",zb[zb.IS=1]="IS",ki(),Vt(),Ri(),ki(),Vt();var jb=function(t){function n(n){var e;return(e=t.call(this,gm.Ww)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var Gb=function(t){function n(n){var e;return(e=t.call(this,gm.jw)||this).currentTime=n,e}return Xi(n,t),n}(Sc),Yb=(gm.gl,gm.jw,ol.hh,ol.fh,function(t){function n(n,e){var i;return void 0===e&&(e=!1),(i=t.call(this)||this).RS=n,i.NS=e,i.OS=Ky.Bw,i.CS=!0,i.AS=!1,i.DS=!1,i.PS=function(t){var n=i.RS.cw;n!==i.OS&&i.mo(new Am(t.currentTime,n)),n===Ky.Bw&&(i.AS=!1,i.DS=!1),i.xS(n),i.BS(n),i.LS(n),i.maybeDispatchCanPlayThroughEvent(n),i.MS(n),i.FS(n),i.OS=n},i.US=function(){i.FS(i.OS),i.MS(i.OS),i.CS=i.RS.Jw},i.VS=function(){i.CS=i.RS.Jw},i.HS=function(t){i.mo(new Gb(t.currentTime))},i.RS.po(gm.gl,i.PS),i.RS.po(ol.hh,i.US),i.RS.po(ol.fh,i.VS),i.NS&&i.RS.po(gm.jw,i.HS),i}Xi(n,t);var e=n.prototype;return e.xS=function(t){!this.DS&&t>=Ky.Lw&&(this.DS=!0,this.mo(new pm(this.RS.Gw,t)))},e.BS=function(t){!this.AS&&t>=Ky.Mw&&(this.AS=!0,this.mo(new Em(this.RS.Gw,t)))},e.MS=function(t){this.NS||(t>=Ky.Fw&&this.OS<Ky.Fw&&!this.RS.Jw||this.qS&&t>=Ky.Fw)&&this.mo(new Gb(this.RS.Gw))},e.FS=function(t){!this.zS(t)||this.RS.Xw||this.RS.xo||this.mo(new jb(this.RS.Gw))},e.LS=function(t){this.OS<=Ky.Mw&&t>=Ky.Fw&&this.mo(new Om(this.RS.Gw,t))},e.maybeDispatchCanPlayThroughEvent=function(t){t===Ky.Uw&&this.mo(new Cm(this.RS.Gw,t))},e.zS=function(t){var n=!this.RS.Jw&&t<=Ky.Mw,e=!this.CS&&this.OS<=Ky.Mw;return n&&!e},e.Fc=function(){this.OS=Ky.Bw,this.CS=!0,this.AS=!1,this.DS=!1},e.kn=function(){this.To(),this.NS&&this.RS.So(gm.jw,this.HS),this.RS.So(ol.hh,this.US),this.RS.So(ol.fh,this.VS),this.RS.So(gm.gl,this.PS)},Ii(n,[{key:"qS",get:function(){return!this.RS.Jw&&this.CS}}]),n}(pc));ki(),Vt(),ki(),Vt();var Xb="titanium",$b="conax",Kb="ezdrm",Jb="irdeto",Zb="vudrm",Qb="verimatrix",tk="keyos",nk="drmtoday",ek="expressplay",ik="azure",rk="xstream",uk="vimond",ok="axinom",sk="uplynk",ak="comcast",ck="custom";ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri();var fk=function(){function t(t,n,e,i,r){this.WS=void 0,this.Dc=t,this.jS=n,this.GS=e,this.mS=i,this.YS=r,this.XS=this.$S(n)}var n=t.prototype;return n.KS=function(){return this.WS},n.JS=function(t){this.WS=t},n.ZS=function(){return this.XS.licenseAcquisitionURL||this.KS()},n.QS=function(t){return G.resolve()},n.tE=function(t,n){return G.resolve(void 0)},n.nE=function(t,n,e,i){var r=this;return ta((function(){var u,o;return ea(this,(function(s){switch(s.label){case 0:if(""===(u=r.eE(t,n,e,i)).av)throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");s.label=1;case 1:return s.trys.push([1,4,,6]),[4,r.Yd.ov(u)];case 2:return[4,s.sent().Uh(n)];case 3:return[2,s.sent()];case 4:return ac(o=s.sent()),[4,r.iE(o,u.av,i)];case 5:return s.sent(),[2];case 6:return[2]}}))}))()},n.eE=function(t,n,e,i){var r=this.rE().Ph(),u=this.Av,o={av:this.uE(),ev:n,nv:r,zh:t,Av:u,Iv:Ml.POST,Rv:0,do:i,Mu:Ul.lv,Ov:e};return new Gl(o)},n.oE=function(t,n){return G.resolve(t)},n.sE=function(t,n,e,i){return G.resolve(t)},n.rE=function(){return new vl(this.XS.headers||{})},n.iE=function(t,n,e){return ta((function(){return ea(this,(function(n){throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.uE=function(t,n){var e=n,i=this.XS.queryParameters;if(!e){var r=this.ZS();if(!r)return"";e=r}if(i||t){var u=Wi.gu(e);t&&$l(u,t),i&&$l(u,i),e=u.href}return e},n.aE=function(t,n){return hk(t)},n.cE=function(t){return new y(t)},n.fE=function(t,n,e){var i=this;return ta((function(){var r,u;return ea(this,(function(o){switch(o.label){case 0:return[4,i.aE(t,e)];case 1:return r=o.sent(),[4,i.nE(r,i.YS,n,e)];case 2:return u=o.sent(),[2,i.cE(u)]}}))}))()},n.kn=function(){},Ii(t,[{key:"Yd",get:function(){return this.mS}},{key:"hE",get:function(){return!1}},{key:"vE",get:function(){var t=this.XS.certificate;if(t)return gr(t)?Mc(t):Rf(t)}},{key:"dE",get:function(){return!1}},{key:"Av",get:function(){return Boolean(this.XS.useCredentials)}}]),t}();function hk(t){return G.resolve(Of(t).buffer)}var vk,dk,lk=function(t){function n(n,e,i,r){return t.call(this,Oa,n,e,i,r)}Xi(n,t);var e=n.prototype;return e.$S=function(t){return t.widevine||{}},e.lE=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){return e.vE?[2,e.vE]:[2,e.wE(new y(t),n)]}))}))()},e.wE=function(n,e){return t.prototype.fE.call(this,n,Hl.mv,e)},n}(fk);function wk(t,n){if(null==t)return{};var e,i,r={},u=v.keys(t);for(i=0;i<u.length;i++)e=u[i],n.indexOf(e)>=0||(r[e]=t[e]);return r}function gk(t){return fr(t.token&&t.deviceId)}function yk(t){var n,e=null==(n=t.fairplay)?void 0:n.headers;return void 0!==e&&fr(e.PreAuthorization)}function mk(t){var n=t;return gk(n)&&""!==n.token&&""!==n.deviceId&&!yk(n)}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(dk=vk||(vk={})).gE=!1,dk.yE=!1,dk.mE=!1,dk._E=!1,dk.LOG_ADS_DETAILS=!1,dk.LOG_CHROMECAST_DETAILS=!1,dk.LOG_CUSTOM_DRM=!1,dk.LOG_BUFFERING_VIDEO_MAIN=!1,dk.LOG_BUFFERING_VIDEO_SELECTION=!1,dk.LOG_BUFFERING_AUDIO_MAIN=!1,dk.LOG_BUFFERING_AUDIO_SELECTION=!1,dk.pE=!1,dk.bE=!1,dk.LOG_LCEVC_DETAILS=!1,ki(),Vt(),Ri();var _k,pk,bk=function(){function t(t,n,e){this.kE=t,this.vc=n,this.TE=e}return t.prototype.SE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var e=t.onCertificateResponse;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var i=t.onLicenseRequest;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.TE.build(t))},Ii(t,[{key:"EE",get:function(){return this.kE}},{key:"Dc",get:function(){return this.vc}}]),t}();ki(),Vt(),(pk=_k||(_k={})).FAILED="FAILED",pk.OVERRIDDEN="OVERRIDDEN",pk.SUCCEEDED="SUCCEEDED";var kk=function(){function t(){this.IE=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,e){switch(this.RE(t,n,e)){case _k.FAILED:throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case _k.OVERRIDDEN:var i=Hk(n);Wi.nu("Warning: Overwriting an earlier registered integration for "+t+" and "+i+".");break;case _k.SUCCEEDED:Hk(n);0}},n.RE=function(t,n,e){var i=Hk(n);if(!i)return _k.FAILED;for(var r=_k.SUCCEEDED,u=0,o=this.IE.slice();u<o.length;u++){var s=o[u];s.EE===t&&s.Dc===i&&(r=_k.OVERRIDDEN,Qa(this.IE,s))}return this.IE.push(new bk(t,i,e)),r},n.NE=function(t,n){return void 0!==this.OE(t,n)},n.CE=function(t,n,e){var i=this.OE(t,n);if(!i)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return i.SE(e)},n.OE=function(t,n){for(var e=0,i=this.IE;e<i.length;e++){var r=i[e];if(r.EE===t&&(!n||r.Dc===n))return r}},t}();kk.AE=new kk;var Tk={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Sk(t){if(!t)return!0;var n=t.licenseAcquisitionURL,e=t.certificateURL,i=t.keys,r=t.headers,u=t.useCredentials,o=t.queryParameters;return!(n||e||i||r||u||o)}function Ek(t){return t&&void 0!==t.licenseAcquisitionURL}var Ik,Rk,Nk=Ek,Ok=Ek;function Ck(t){if(!t)return!0;if(xk(t))return!1;var n=t.fairplay,e=t.playready,i=t.widevine,r=t.clearkey,u=t.aes128;return Sk(n)&&Sk(e)&&Sk(i)&&Sk(r)&&Sk(u)}function Ak(t){var n=mk(t),e=function(t){var n,e=t;return yk(e)&&""!==(null==(n=e.fairplay)?void 0:n.headers.PreAuthorization)&&!gk(e)}(t);return(!n||!e)&&(n||e)}function Dk(t){return t.integration===Jb}function Pk(t){var n=t;if(!n)return!1;if(Ck(n))return!1;var e=n.fairplay,i=n.playready,r=n.widevine,u=n.clearkey;if(xk(t))return!0;if(e&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(e))return!1;if(i&&!Nk(i))return!1;if(r&&!Ok(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(kk.AE.NE(n.integration))return!0;switch(n.integration){case Xb:if(!function(t){return t.integration===Xb&&(Bk(t)||Lk(t))}(t))return!1;break;case Zb:if(!Mk(t))return!1;break;case Qb:if(!function(t){return t.integration===Qb}(t))return!1;break;case Jb:if(!Dk(t))return!1;break;case $b:if(!Ak(t))return!1;break;case Kb:if(!function(t){return t.integration===Kb}(t))return!1;break;case tk:if(!xk(t))return!1;break;case nk:if(!function(t){var n=t;return n.integration===nk&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case ek:if(!function(t){return t.integration===ek}(t))return!1;break;case rk:if(!Fk(t))return!1;break;case uk:if(!function(t){return t.integration===uk}(t))return!1;break;case ok:if(!Uk(t))return!1;break;case ik:if(!function(t){var n=t;return n.integration===ik&&void 0!==n.token}(t))return!1;break;case sk:if(!function(t){return t.integration===sk}(t))return!1;break;case ak:if(!function(t){var n=t;return n&&fr(n.releasePid)&&fr(n.accountId)&&fr(n.token)}(t))return!1;break;case ck:return!0;default:return!1}}return!0}function xk(t){return t.integration===tk}function Bk(t){return void 0!==t.authToken}function Lk(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Mk(t){var n=t;return n.integration===Zb&&void 0!==n.token}function Fk(t){var n=t;return n&&n.integration===rk&&gr(n.ticketAcquisitionURL)&&gr(n.streamId)}function Uk(t){var n=t;return n.integration===ok&&void 0!==n.token}function Vk(t,n){var e,i,r,u=n[t],o=null!=(e=null==u?void 0:u.licenseAcquisitionURL)?e:Tk[t],s=null!=(i=null==u?void 0:u.customdata)?i:n.customdata,a=s?{customData:s}:{},c=na({},null!=(r=null==u?void 0:u.headers)?r:{},a),f=null!=u?u:{};f.customdata;return na({},wk(f,["customdata"]),{licenseAcquisitionURL:o,headers:c})}function Hk(t){switch(t.toLowerCase()){case"widevine":case ka:return ka;case"playready":case _a:return _a;case"fairplay":case Ia:return Ia}}function qk(t,n){switch(t){case wa:return function(t){for(var n={},e=Qp.Tb(new DataView(t)),i=0;i<e.length;i++){var r=e[i];n[r.BT]=r.FT}return n}(n);case ga:case ya:return function(t){return My({},Ea,t)}(n);default:throw new Fd(Dd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}(Rk=Ik||(Ik={})).Pu="Widevine",Rk.Du="PlayreadyV2",Rk.DE="PlayreadyV2",Rk.PE="PlayreadyV3",Rk.Bu="Fairplay";var zk={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Wk(t,n){var e,i,r,u,o=zk[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=Wi.mu)?void 0:e._u,OSVersion:null==(i=Wi.mu)?void 0:i.Eu,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(r=Wi.mu)?void 0:r.Iu,DeviceModel:null==(u=Wi.mu)?void 0:u.Ru}}}function jk(t,n){if(!t.accountName)throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function Gk(t,n,e){var i;if(Bk(t))i={AuthToken:t.authToken,Payload:n};else{if(!Lk(t))throw jk(t,e);i={LatensRegistration:Wk(t,e),Payload:n}}return Gc(JSON.stringify(i))}function Yk(t,n,e){return Xk.apply(this,arguments)}function Xk(){return(Xk=ta((function(t,n,e){var i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:if(!(i=t.Gv))throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);r=i,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.Mh(e)];case 2:return u=s.sent(),o=$k(u),[3,4];case 3:return s.sent(),o="",[3,4];case 4:throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,r.ov.av,r.tv,r.rv,o)}}))}))).apply(this,arguments)}function $k(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}ki(),Vt();var Kk=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Ah)||this).xE=void 0,r}Xi(n,t);var e=n.prototype;return e.iE=function(t,n,e){return Yk(t,n,e)},e.QS=function(t){return this.xE?fc(this.xE.es,t):(this.xE=new Df,G.resolve())},e.aE=function(t,n){var e=this;return ta((function(){var n,i;return ea(this,(function(r){if(!(n=e.jS))throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return i=Uc(t),[2,Gk(n,i,Ik.Pu)]}))}))()},e.cE=function(t){if(!t.license)throw new c_(Dd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Mc(t.license)},e.BE=function(t){return G.resolve(new y(t))},e.lE=function(t,n){var e=this;return ta((function(){var i,r;return ea(this,(function(u){switch(u.label){case 0:return e.LE(),[4,e.aE(t,n)];case 1:return i=u.sent(),[4,e.nE(i,al.Ch,Hl._v,n)];case 2:return r=u.sent(),[4,e.BE(r)];case 3:return[2,u.sent()]}}))}))()},e.wE=function(n,e){var i=this;return ta((function(){var r;return ea(this,(function(u){switch(u.label){case 0:return[4,t.prototype.wE.call(i,n,e)];case 1:return r=u.sent(),i.LE(),[2,r]}}))}))()},e.LE=function(){this.xE||(this.xE=new Df),this.xE.rs()},e.kn=function(){this.xE&&this.xE.fo(),t.prototype.kn.call(this)},n.ME=function(){return Wi._u.Fr?"required":"optional"},n}(lk);ki(),Vt(),Ri();var Jk=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Ch)||this).JS("https://widevine-proxy.drm.technology/proxy"),r}return Xi(n,t),n.prototype.aE=function(t,n){var e=this;return ta((function(){var n,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return[4,hk(t)];case 1:if(n=o.sent(),i=e.GS,r=Cf(new y(n)),!(u=e.FE))throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:r,kid:i})]}}))}))()},Ii(n,[{key:"FE",get:function(){if(Mk(this.jS))return this.jS.token}}]),n}(lk);function Zk(t,n){var e=n||{};return t.ticket&&t.sessionId&&(e=na({},e,{SessionId:t.sessionId,Ticket:t.ticket})),na({},e,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}ki(),Vt(),ki(),Vt();var Qk=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Ch)||this).JS("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return Xi(n,t),n.prototype.uE=function(n,e){var i=n;return Dk(this.jS)&&(i=Zk(this.jS,i)),t.prototype.uE.call(this,i,e)},n}(lk);ki(),Vt(),ki(),Vt();var tT="Conax-Custom-Data";function nT(t,n,e){var i=t&&Ak(t)&&t;if(i&&!e.has(tT)){var r=mk(i)?i.token:void 0,u=mk(i)?i.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});e.set(tT,o)}return e}var eT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Ch)||this).JS("https://connect.conax.com:8094/license"),r}return Xi(n,t),n.prototype.rE=function(){var n=t.prototype.rE.call(this);return nT(this.jS,"Widevine",n)},n}(lk);function iT(t){var n=gf(new y(t));return Mc(JSON.parse(n).license)}function rT(t){return"string"==typeof t.token?t.token:Gc(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function uT(t,n,e){var i;return i=e.token?"x-dt-auth-token":"dt-custom-data",t.set(i,n),t}ki(),Vt(),Ri(),ki(),Vt();var oT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i,al.Ch)||this).JS("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}Xi(n,t);var e=n.prototype;return e.cE=function(t){return iT(t)},e.rE=function(){return uT(t.prototype.rE.call(this),this.FE,this.jS)},Ii(n,[{key:"FE",get:function(){return rT(this.jS)}}]),n}(lk);ki(),Vt();var sT=function(t){function n(n,e,i){return t.call(this,n,e,i,al.Ch)}return Xi(n,t),n.prototype.rE=function(){var n=t.prototype.rE.call(this),e=this.jS.token;return n.set("Authorization","Bearer "+e),n},n}(lk);function aT(t,n,e,i){return cT.apply(this,arguments)}function cT(){return(cT=ta((function(t,n,e,i){var r,u,o,s,a,c;return ea(this,(function(f){switch(f.label){case 0:if(!Fk(t))throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(r=new vl).append("Cache-Control","no-cache"),r.append("Content-Type","application/json"),(u=t.sessionId)&&r.append("XSSESSION",u),o=t.streamId,s=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:s,streamId:o},c={av:t.ticketAcquisitionURL,ev:al.Ah,nv:r,Iv:Ml.POST,zh:JSON.stringify(a),do:i},[4,e.ov(c)];case 1:return[4,f.sent().Mh()];case 2:return[2,f.sent()]}}))}))).apply(this,arguments)}ki(),Vt(),ki(),Vt();var fT=function(t){function n(n,e,i){return t.call(this,n,e,i,al.Ah)}Xi(n,t);var e=n.prototype;return e.rE=function(){var n=t.prototype.rE.call(this);return n.set("Content-Type","application/json"),n},e.aE=function(n,e){var i=this;return ta((function(){var r,u,o;return ea(this,(function(s){switch(s.label){case 0:return r=jc(n.buffer),[4,aT(i.jS,"widevine_modular",i.Yd,e)];case 1:return u=s.sent(),i.JS(u.licenseServerUrl),o=yf(JSON.stringify({payload:r,ticket:u.ticket})),[2,t.prototype.aE.call(i,o,e)]}}))}))()},e.cE=function(t){return Mc(t.license)},n}(lk);ki(),Vt();var hT=function(t){function n(n,e,i){return t.call(this,n,e,i,al.Ch)}return Xi(n,t),n.prototype.rE=function(){if(!Uk(this.jS))throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.rE.call(this);return n.set("X-AxDRM-Message",this.jS.token),n},n}(lk);function vT(t){for(var n=new y(2*t.length),e=0;e<t.length;e+=1)n[2*e]=t.charCodeAt(e),n[2*e+1]=0;return n}ki(),Vt();var dT=function(t){function n(n,e,i){var r;return(r=t.call(this,Na,n,e,i,al.Ch)||this).UE=void 0,r}Xi(n,t);var e=n.prototype;return e.$S=function(t){return t.playready||{}},e.rE=function(){var n=new vl(this.UE);return n.Bh(t.prototype.rE.call(this)),n},e.VE=function(t){return t.length>=1&&t[0].Hi.length>0},e.tE=function(n){var e=this.jS.playready.customData;if(e){var i=vT(e),r=vT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Uc(i)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return G.resolve({playready:{if:r}})}return t.prototype.tE.call(this,n)},e.aE=function(t,n){var e=this;return ta((function(){var n;return ea(this,(function(i){switch(i.label){case 0:return[4,hk(t)];case 1:return n=i.sent(),[2,e.HE(n)]}}))}))()},e.HE=function(t){var n=this;return ta((function(){var e,i,r,u,o,s,a,c,f,h,v,d,l,w,g,y;return ea(this,(function(m){var _,p,b;r=null,u=new DataView(t),_=u,p=new Af,void 0===(b=!0)&&(b=!1),o=lf(_,p,b,!0);try{s=Wi.Oi(o)}catch(t){return[2,r]}for(a=null==(e=s.Vi("PlayReadyKeyMessage")[0])?void 0:e.Vi("LicenseAcquisition")[0],f=null!=(c=null==a?void 0:a.Vi("Challenge"))?c:[],n.VE(f)&&(r=Wc(f[0].tr)),h=new vl,d=null!=(v=null==(i=null==a?void 0:a.Vi("HttpHeaders")[0])?void 0:i.Vi("HttpHeader"))?v:[],l=0;l<d.length;l++)w=d[l],g=w.Vi("name")[0].tr,y=w.Vi("value")[0].tr,h.append(g,y);return n.UE=h,[2,r]}))}))()},e.lE=function(t,n){return G.resolve(t)},e.wE=function(n,e){return t.prototype.fE.call(this,n,Hl.pv,e)},n}(fk);ki(),Vt(),ki(),Vt(),Ri();var lT=function(){function t(n){this.qE=n,this.Xa=t.zE(n)}return t.prototype.WE=function(){var t={};if(this.Xa===Ik.PE){var n={LatensRegistration:Wk(this.qE,Ik.PE)};t["X-TITANIUM-DRM-CDATA"]=Gc(JSON.stringify(n))}return t},t.zE=function(t){return"3"===t.version?Ik.PE:Ik.DE},Ii(t,[{key:"jE",get:function(){return this.Xa}},{key:"zc",get:function(){return this.Xa===Ik.DE}}]),t}();var wT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).GE=new lT(r.jS),r}Xi(n,t);var e=n.prototype;return e.tE=function(t){var n=this.jS;if(!this.jS)throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Lk(n)){var e={};return e.playready={if:gT(n,this.GE.jE)},G.resolve(e)}return G.reject(jk(n,Ik.Du))},e.rE=function(){var n=new vl(this.GE.WE());return n.Bh(t.prototype.rE.call(this)),n},e.iE=function(t,n,e){return ta((function(){var i,r,u,o,s,a,c,f;return ea(this,(function(h){switch(h.label){case 0:if(!(i=t.Gv))throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i.Vh(e)];case 2:return o=h.sent(),s=gf(new y(o)),(a=Wi.Oi(s))&&(c=rb(a,"CustomData")).length>0&&(r=JSON.parse(c[0].tr),u=null==(f=r.DrmErr)?void 0:f.desc),[3,4];case 3:return h.sent(),[3,4];case 4:throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,i.tv,i.rv,u)}}))}))()},e.VE=function(t){if(1!==t.length)throw new c_(Dd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(dT);function gT(t,n){var e=Wk(t,n),i=e.DeviceInfo.FormatVersion,r=Gc('<LatensRegistration formatversion="'+i+'"><AccountName>'+e.AccountName+"</AccountName><CustomerName>"+e.CustomerName+"</CustomerName><PortalID>"+e.PortalId+'</PortalID><DeviceInfo formatversion="'+i+'"><DeviceType>'+e.DeviceInfo.DeviceType+"</DeviceType><OSType>"+e.DeviceInfo.OSType+"</OSType><OSVersion>"+e.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+e.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+e.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+e.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+e.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+e.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=_f(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return _f('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Uc(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}ki(),Vt(),Ri();var yT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).JS("https://playready-license.drm.technology/rightsmanager.asmx"),r}Xi(n,t);var e=n.prototype;return e.VE=function(t){if(1!==t.length)throw new c_(Dd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.uE=function(n,e){var i=na({},n||{},{token:this.FE});return t.prototype.uE.call(this,i,e)},Ii(n,[{key:"FE",get:function(){if(Mk(this.jS))return this.jS.token}}]),n}(dT);ki(),Vt();var mT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).JS("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return Xi(n,t),n.prototype.uE=function(n,e){var i=n;return Dk(this.jS)&&(i=Zk(this.jS,i)),t.prototype.uE.call(this,i,e)},n}(dT);ki(),Vt();var _T=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).JS("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return Xi(n,t),n.prototype.rE=function(){var n=t.prototype.rE.call(this);return nT(this.jS,"PlayReady",n)},n}(dT);ki(),Vt(),Ri();var pT,bT,kT=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e,i)||this).JS("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}Xi(n,t);var e=n.prototype;return e.cE=function(n){return 1===(xa(gf(new y(n)),"<?xml")?0:1)?iT(n):t.prototype.cE.call(this,new y(n))},e.rE=function(){return uT(t.prototype.rE.call(this),this.FE,this.jS)},Ii(n,[{key:"FE",get:function(){return rT(this.jS)}}]),n}(dT);(bT=pT||(pT={}))[bT.YE=0]="YE",bT[bT.Mh=1]="Mh",ki(),Vt();var TT=function(t){function n(n,e,i){return t.call(this,n,e,i)}Xi(n,t);var e=n.prototype;return e.rE=function(){var n=t.prototype.rE.call(this);return this.XE&&n.set("Ticket",this.XE),n.set("Content-Type","text/xml"),n},e.aE=function(n,e){var i=this;return ta((function(){var r;return ea(this,(function(u){switch(u.label){case 0:return[4,aT(i.jS,"playready",i.Yd,e)];case 1:return r=u.sent(),i.JS(r.licenseServerUrl),i.XE=r.ticket,[2,t.prototype.aE.call(i,n,e)]}}))}))()},n}(dT);ki(),Vt();var ST,ET,IT=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.rE=function(){if(!Uk(this.jS))throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.rE.call(this);return n.set("X-AxDRM-Message",this.jS.token),n},n}(dT);ki(),Vt(),Ri(),ki(),Vt(),(ET=ST||(ST={})).Ah="application/json",ET.$E="application/x-www-form-urlencoded",ET.KE="application/octet-stream",ET.Ii="text/plain;charset=UTF-8";var RT=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n.Dc,e,i,r,u)||this).JE="",o.ZE=void 0,o.QE=n.tI,o}Xi(n,t);var e=n.prototype;return e.nI=function(){return this.XS.certificateURL||this.ZE},e.eI=function(t){this.ZE=t},e.aE=function(t){return G.resolve(this.iI(t,this.JE))},e.iI=function(t,n){return"spc="+encodeURIComponent(Uc(t))+"&assetId="+encodeURIComponent(n)},e.$S=function(t){return t.fairplay||{}},e.rI=function(t){var n=t.indexOf("?");if(n>=0)return G.resolve(t.substr(n+1));var e=t.split("skd://").pop();if(e){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e))return G.resolve(e)}var i=t.split("/");return G.resolve(i[i.length-1])},e.tE=function(t){var n=this;return ta((function(){var e,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return i=null!=(e=n.QE)?e:bf(new y(t)),[4,n.rI(i)];case 1:return r=o.sent(),n.JE=r,(u={}).fairplay={hf:r},[2,u]}}))}))()},e.rE=function(){var n=t.prototype.rE.call(this);return n.set("Content-Type",this.uI),n},e.lE=function(t,n){var e=this;return ta((function(){return ea(this,(function(t){switch(t.label){case 0:return e.vE?[2,e.vE]:[4,e.oI(n)];case 1:return[2,t.sent()]}}))}))()},e.wE=function(n,e){return t.prototype.fE.call(this,n,Hl.gv,e)},e.sI=function(t){var n=this.nI(),e=this.rE(),i={av:n,ev:al.Ch,nv:e,Iv:Ml.GET,Av:!1,zh:null,Rv:0,do:t,Mu:Ul.lv,Ov:Hl.yv};return new Gl(i)},e.oI=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return e=n.sI(t),[4,n.Yd.ov(e)];case 1:return[4,r.sent().Vh()];case 2:return i=r.sent(),[2,new y(i)]}}))}))()},e.cE=function(t){var n;if("string"==typeof t){var e=t.trim();"<ckc>"===e.substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6)),n=Mc(e)}else n=new y(t);return n},e.uE=function(n,e){var i=t.prototype.uE.call(this,n,e);return xa(i,"skd:")&&(i=i.substr("skd:".length)),i},Ii(n,[{key:"dE",get:function(){return!0}},{key:"uI",get:function(){return ST.$E}}]),n}(fk);ki(),Vt(),Ri();var NT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Ch)}Xi(n,t);var e=n.prototype;return e.rI=function(n){var e=n.split("://",1);return"skd"!==e[0].slice(-3).toLowerCase()?G.resolve(""):(e=n.split(";",2)).length>1?G.resolve(e[1]):G.resolve(t.prototype.rI.call(this,n))},e.aE=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.cE=function(t){return new y(t)},e.uE=function(n,e){var i=n||{};return i.p1=au(),t.prototype.uE.call(this,i,e)},Ii(n,[{key:"uI",get:function(){return ST.KE}}]),n}(RT);ki(),Vt(),Ri();var OT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Ch)||this).JS("https://fairplay-license.drm.technology/license"),u.eI("https://fairplay-license.drm.technology/certificate"),u}Xi(n,t);var e=n.prototype;return e.iI=function(t,n){var e={token:this.FE,contentId:n,payload:Uc(t)};return JSON.stringify(e)},e.cE=function(t){return new y(t)},e.rE=function(){var n=t.prototype.rE.call(this);return n.set("x-vudrm-token",this.FE),n},Ii(n,[{key:"uI",get:function(){return ST.Ah}},{key:"FE",get:function(){if(!Mk(this.jS))throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.jS.token}}]),n}(RT);ki(),Vt();var CT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",AT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",DT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Ch)}return Xi(n,t),n.prototype.cE=function(n){var e=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new c_(Dd.CONTENT_PROTECTION_LICENSE_INVALID,CT)}if(!n)throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,AT);return n}(gf(new DataView(n)));return t.prototype.cE.call(this,e)},n}(RT);ki(),Vt(),Ri();var PT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Ah)}Xi(n,t);var e=n.prototype;return e.aE=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){if(!(e=n.jS))throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return i=Uc(t),[2,Gk(e,i,Ik.Bu)]}))}))()},e.cE=function(t){try{var n;if(gr(t)){var e=t.trim();n=JSON.parse(e)}else n=t;if(n.license){var i=Wc(n.license);return new y(i)}throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new c_(Dd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.iE=function(t,n,e){return Yk(t,n,e)},Ii(n,[{key:"uI",get:function(){return ST.Ah}}]),n}(RT);ki(),Vt(),Ri();var xT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Ch)||this).JS("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.eI("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}Xi(n,t);var e=n.prototype;return e.nI=function(){var n=t.prototype.nI.call(this);if(!n)return n;var e=Wi.gu(n),i=this.jS;return Dk(i)&&$l(e,{accountId:i.accountId,applicationId:i.applicationId||""}),e.href},e.rI=function(n){return Dk(this.jS)?G.resolve(this.jS.contentId):t.prototype.rI.call(this,n)},e.aE=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.cE=function(t){return new y(t)},e.uE=function(n,e){var i=n;return Dk(this.jS)&&(i=function(t,n){return na({},Zk(t,n),{KeyId:t.keyId})}(this.jS,i)),t.prototype.uE.call(this,i,e)},Ii(n,[{key:"uI",get:function(){return ST.KE}}]),n}(RT);ki(),Vt();var BT=function(t){function n(n,e,i,r){var u;if(u=t.call(this,n,e,i,r,al.Ii)||this,!Ak(e))throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.JS("https://connect.conax.com:8097/license"),u}Xi(n,t);var e=n.prototype;return e.rE=function(){var n=t.prototype.rE.call(this);return nT(this.jS,"FairPlay",n)},e.oI=function(t){var n=this;return ta((function(){var e,i,r;return ea(this,(function(u){switch(u.label){case 0:return e=n.nI(),i={av:e,ev:al.Ch,nv:{},Iv:Ml.GET,Av:!1,zh:null,Rv:0,do:t,Mu:Ul.lv,Ov:Hl.yv},[4,n.Yd.ov(i)];case 1:return[4,u.sent().Vh()];case 2:return r=u.sent(),[2,new y(r)]}}))}))()},e.aE=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.rI=function(t){var n,e=t.indexOf("?");return 0===t.indexOf("skd://")?(n=e>=0?t.substring("skd://".length,e):t.substring("skd://".length),G.resolve(gf(Mc(n)))):G.resolve("unknown")},e.cE=function(t){try{var n=JSON.parse(t);return new y(Wc(n.CkcMessage))}catch(t){throw new f("CFLRW-66")}},n}(RT);ki(),Vt();var LT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Ii)||this).JS(Tk[da.Bu]),u}Xi(n,t);var e=n.prototype;return e.rI=function(t){return xa(t,"skd://")?G.resolve(t.substring("skd://".length,40)):G.reject(new c_(Dd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.iI=function(t,n){return"spc="+Uc(t)+"&assetId="+n},n}(RT);ki(),Vt(),Ri();var MT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Ii)||this).JS("https://lic.drmtoday.com/license-server-fairplay/"),u}Xi(n,t);var e=n.prototype;return e.iI=function(t,n){var e="spc="+encodeURIComponent(Uc(t))+"&"+encodeURI(n);return"persistent"===this.XS.licenseType?e+"&offline=true":e},e.rE=function(){return uT(t.prototype.rE.call(this),this.FE,this.jS)},Ii(n,[{key:"FE",get:function(){return rT(this.jS)}}]),n}(RT);ki(),Vt(),Ri();var FT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Ch)}Xi(n,t);var e=n.prototype;return e.rI=function(t){var n=t;return xa(n,"skd:")&&(n="http:"+n.substring(4)),xa(n,"http:")||xa(n,"https:")?G.resolve(Wi.gu(n).hostname):G.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},e.aE=function(t){return ta((function(){return ea(this,(function(n){return[2,t]}))}))()},e.cE=function(t){return new y(t)},Ii(n,[{key:"uI",get:function(){return ST.KE}}]),n}(RT);ki(),Vt();var UT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Ii)}return Xi(n,t),n.prototype.rE=function(){var n=t.prototype.rE.call(this),e=this.jS.token;return n.set("Authorization","Bearer "+e),n},n}(RT);ki(),Vt(),Ri();var VT=function(t){function n(n,e,i,r){var u=t.call(this,n,e,i,r,al.Ah);if(!Fk(e))throw new f("Invalid Xstream DRM configuration");return u}Xi(n,t);var e=n.prototype;return e.oI=function(t){var n=this;return ta((function(){var e,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return e=n.nI(),i=n.rE(),r={av:e,ev:al.Ah,nv:i,Iv:Ml.POST,do:t,Mu:Ul.lv,Ov:Hl.yv},[4,n.Yd.ov(r)];case 1:return[4,o.sent().Mh()];case 2:return u=o.sent(),[2,new y(Mc(u.certificate))]}}))}))()},e.wE=function(t,n,e){void 0===e&&(e=al.Ii);var i=this;return ta((function(){var e,r,u,o;return ea(this,(function(s){switch(s.label){case 0:return e=Uc(t),[4,aT(i.jS,"fairplay",i.Yd,n)];case 1:return r=s.sent(),u=yf(JSON.stringify({spc:e,ticket:r.ticket})),o={av:i.ZS(),ev:al.Ah,nv:i.rE(),Iv:Ml.POST,zh:u,Rv:0,do:n,Mu:Ul.lv,Ov:Hl.gv},[4,i.Yd.ov(o)];case 2:return[4,s.sent().Mh()];case 3:return[2,Mc(s.sent().licence)]}}))}))()},Ii(n,[{key:"uI",get:function(){return ST.Ah}}]),n}(RT);ki(),Vt();var HT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Ii)}Xi(n,t);var e=n.prototype;return e.iI=function(t,n){return Uc(t)},e.cE=function(n){if(0===n.length)throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.cE.call(this,n)},e.rE=function(){var n=t.prototype.rE.call(this);return n.set("Content-Type","text/plain"),n},n}(RT);ki(),Vt(),Ri();var qT=function(t){function n(n,e,i,r){return t.call(this,n,e,i,r,al.Ch)}Xi(n,t);var e=n.prototype;return e.iI=function(t,n){return t},e.cE=function(t){return new y(t)},e.rE=function(){if(!Uk(this.jS))throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.rE.call(this);return n.set("X-AxDRM-Message",this.jS.token),n},Ii(n,[{key:"uI",get:function(){return ST.Ah}}]),n}(RT);ki(),Vt(),Ri();var zT=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Ah)||this).aI=void 0,u}Xi(n,t);var e=n.prototype;return e.iI=function(t,n){var e={spc:Uc(t)};return JSON.stringify(e)},e.rI=function(t){var n=Wi.gu(t);return this.aI=t,n.searchParams.has("b")?G.resolve(n.searchParams.get("b")):G.reject(new c_(Dd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.uE=function(n,e){var i=this.ZS();return!i&&this.aI&&(i=this.aI),i&&(i=i.replace("skd://","https://")),t.prototype.uE.call(this,n,e||i)},e.cE=function(t){try{var n;if((n=gr(t)?JSON.parse(t.trim()):t).ckc)return Mc(n.ckc)}catch(t){throw new c_(Dd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Ii(n,[{key:"uI",get:function(){return ST.Ii}}]),n}(RT);ki(),Vt(),ki(),Vt(),ki(),Vt();var WT=function(){function t(t,n){this.cI=t,this.fI=n}var n=t.prototype;return n.hI=function(t){return this.cI(t)},n.vI=function(t,n){throw new h(n+" must be "+this.fI+". (Received: "+t+")")},t}(),jT=(new WT((function(t){return!0}),"any"),new WT(_r,"a number")),GT=new WT(gr,"a string"),YT=new WT(yr,"a boolean");new WT((function(t){return"[object Date]"===cr.call(t)}),"a date"),new WT(hr,"undefined"),new WT(lr,"an object"),new WT((function(t){return null===t}),"null"),new WT((function(t){return null==t}),"null or undefined");var XT,$T=(XT={responseCode:jT,isException:YT,description:GT,title:GT,correlationId:GT},{hI:function(t){if(!lr(t))return!1;for(var n=0,e=v.keys(XT);n<e.length;n++){var i=e[n];if(!XT[i].hI(t[i]))return!1}return!0},vI:function(t,n){if(!lr(t))throw new h(n+" must be an object.");for(var e=0,i=v.keys(XT);e<i.length;e++){var r=i[e],u=XT[r];if(!u.hI(t[r]))return u.vI(t[r],n+"."+String(r))}throw new h}});function KT(t,n,e,i,r){return JT.apply(this,arguments)}function JT(){return(JT=ta((function(t,n,e,i,r){return ea(this,(function(u){switch(u.label){case 0:return[4,QT(ZT(t,n,e,r),i)];case 1:return[2,u.sent()]}}))}))).apply(this,arguments)}function ZT(t,n,e,i){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=Wi.gu(t);return $l(e,n),e.toString()}(e,r)),o=new vl({});o.append("Content-Type","application/json");var s=Uc(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{av:u,ev:al.Ii,nv:o,Iv:Ml.POST,zh:JSON.stringify(a),do:i,Mu:Ul.lv,Ov:Hl.gv}}function QT(t,n){return tS.apply(this,arguments)}function tS(){return(tS=ta((function(t,n){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.ov(t)];case 1:return[4,i.sent().Mh()];case 2:if(e=i.sent(),$T.hI(e))throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,e.description,void 0,t.av,e.responseCode);return[2,Mc(e.getFairplayLicenseResponse.ckcResponse)]}}))}))).apply(this,arguments)}var nS=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,r,al.Ch)||this).dI=e,u}Xi(n,t);var e=n.prototype;return e.rI=function(n){var e=n.replace("FairPlay",this.dI.releasePid);return t.prototype.rI.call(this,e)},e.wE=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return[4,KT(t,e.dI,e.ZS(),e.Yd,n)];case 1:return[2,i.sent()]}}))}))()},n}(RT);ki(),Vt();var eS=function(t){function n(n,e,i){return t.call(this,Aa,n,e,i,al.Ch)}Xi(n,t);var e=n.prototype;return e.$S=function(t){return t.clearkey||{}},e.nE=function(n,e,i,r){var u=this;return ta((function(){var e,o;return ea(this,(function(s){if(e=u.XS,u.ZS())return[2,t.prototype.nE.call(u,n,u.YS,i,r)];if(e.keys&&e.keys.length)return o={keys:e.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,yf(JSON.stringify(o)).buffer];throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},e.lE=function(t,n){return G.resolve(new y(0))},e.wE=function(n,e){return t.prototype.fE.call(this,n,Hl.bv,e)},n}(fk);ki(),Vt();var iS=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n}(lk);ki(),Vt(),ki(),Vt();var rS={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function uS(t,n,e){return oS.apply(this,arguments)}function oS(){return(oS=ta((function(t,n,e){var i,r,u;return ea(this,(function(o){switch(o.label){case 0:return i=pS(n),(r=t.onCertificateRequest)&&"function"==typeof r?[4,fc(G.resolve(r.call(t,i)),e)]:[2,G.resolve(n)];case 1:return If(u=o.sent())?[2,Rf(u)]:[2,_S(na({},rS,u))]}}))}))).apply(this,arguments)}function sS(t,n,e,i,r){return aS.apply(this,arguments)}function aS(){return(aS=ta((function(t,n,e,i,r){var u,o;return ea(this,(function(s){switch(s.label){case 0:return u=t.onCertificateResponse,o=mS(n,e,i),u&&"function"==typeof u?[4,fc(G.resolve(u.call(t,o)),r)]:[2,G.resolve(n)];case 1:return[2,Rf(s.sent())]}}))}))).apply(this,arguments)}function cS(t,n,e,i){return fS.apply(this,arguments)}function fS(){return(fS=ta((function(t,n,e,i){var r;return ea(this,(function(u){switch(u.label){case 0:return[4,dS(t,n,e,i)];case 1:return(r=u.sent())instanceof ArrayBuffer?[2,r]:[2,_S(r)]}}))}))).apply(this,arguments)}function hS(t,n,e,i,r,u){return vS.apply(this,arguments)}function vS(){return(vS=ta((function(t,n,e,i,r,u){var o;return ea(this,(function(s){switch(s.label){case 0:return o=yS(e,r),[4,wS(t,new y(n),o,i,u)];case 1:return[2,Rf(s.sent())]}}))}))).apply(this,arguments)}function dS(t,n,e,i){return lS.apply(this,arguments)}function lS(){return(lS=ta((function(t,n,e,i){var r,u,o;return ea(this,(function(s){switch(s.label){case 0:return r=null==t?void 0:t.onLicenseRequest,u=yS(n,e),r&&"function"==typeof r?[4,fc(G.resolve(r.call(t,u)),i)]:[2,G.resolve(u)];case 1:return If(o=s.sent())?[2,Rf(o).buffer]:[2,na({fairplaySkdUrl:void 0},rS,o)]}}))}))).apply(this,arguments)}function wS(t,n,e,i,r){return gS.apply(this,arguments)}function gS(){return(gS=ta((function(t,n,e,i,r){var u,o;return ea(this,(function(s){switch(s.label){case 0:return u=null==t?void 0:t.onLicenseResponse,o=mS(n,e,i),u&&"function"==typeof u?[4,fc(G.resolve(u.call(t,o)),r)]:[2,G.resolve(n)];case 1:return[2,Rf(s.sent())]}}))}))).apply(this,arguments)}function yS(t,n){return na({},pS(t),{fairplaySkdUrl:n})}function mS(t,n,e){return{url:e.sv,status:e.tv,statusText:e.rv,headers:e.nv.Ph(),body:t,request:n}}function _S(t){return new Gl({av:t.url,Iv:t.method,nv:t.headers,zh:t.body,Av:t.useCredentials})}function pS(t){var n;return{url:t.av,body:null!=(n=bS(t.zh))?n:null,headers:t.nv.Ph(),method:t.Iv,useCredentials:t.Av}}function bS(t){if(t)return"string"==typeof t?kf(t):t instanceof ArrayBuffer?new y(t):Hc(t)?Ef(t):void 0}var kS=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i)||this).lI=r,u}Xi(n,t);var e=n.prototype;return e.lE=function(t,n){return G.resolve(t)},e.wE=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return[4,e.HE(Of(t).buffer)];case 1:return i=c.sent(),r=e.eE(i,al.Ch,Hl.pv,n),[4,cS(e.lI,r,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new y(u)];if(""===u.av)throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,e.Yd.ov(u)];case 4:return[4,(o=c.sent()).Vh(n)];case 5:return s=c.sent(),[4,hS(e.lI,s,r,o,void 0,n)];case 6:return[2,c.sent()];case 7:throw ac(a=c.sent()),new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(dT);ki(),Vt();var TS=function(t){function n(n,e,i,r){var u;return(u=t.call(this,n,e,i,al.Ch)||this).lI=r,u}Xi(n,t);var e=n.prototype;return e.lE=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return e.vE?[2,e.vE]:(i=e.eE(t,al.Ch,Hl._v,n),[4,uS(e.lI,i,n)]);case 1:if((r=c.sent())instanceof y)return[2,r];if(""===r.av)throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,e.Yd.ov(r)];case 3:return[4,(u=c.sent()).Vh(n)];case 4:return o=c.sent(),[3,6];case 5:throw ac(s=c.sent()),new c_(Dd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",s);case 6:return a=yS(i,void 0),[4,sS(e.lI,new y(o),a,u,n)];case 7:return[2,c.sent()]}}))}))()},e.wE=function(t,n){var e=this;return ta((function(){var i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return i=e.eE(t,al.Ch,Hl.mv,n),[4,cS(e.lI,i,void 0,n)];case 1:if((r=a.sent())instanceof ArrayBuffer)return[2,new y(r)];if(""===r.av)throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Yd.ov(r)];case 3:return[4,(u=a.sent()).Vh(n)];case 4:return o=a.sent(),[4,hS(e.lI,o,i,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw ac(s=a.sent()),new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",s);case 7:return[2]}}))}))()},n}(iS);ki(),Vt();var SS,ES,IS=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,n,e,i,r,al.Ch)||this).lI=u,o}Xi(n,t);var e=n.prototype;return e.lE=function(t,n){var e=this;return ta((function(){var t,i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return e.vE?[2,e.vE]:(t=e.sI(n),[4,uS(e.lI,t,n)]);case 1:if(i=a.sent(),Hc(i))return[2,i];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Yd.ov(i)];case 3:return[4,(r=a.sent()).Vh()];case 4:return u=a.sent(),o=yS(t,void 0),[4,sS(e.lI,new y(u),o,r,n)];case 5:return[2,a.sent()];case 6:throw ac(s=a.sent()),new c_(Dd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",s);case 7:return[2]}}))}))()},e.wE=function(t,n){var e=this;return ta((function(){var i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return i=e.eE(t,al.Ch,Hl.gv,n),[4,cS(e.lI,i,e.wI,n)];case 1:if((r=a.sent())instanceof ArrayBuffer)return[2,new y(r)];if(""===r.av)throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,e.Yd.ov(r)];case 3:return[4,(u=a.sent()).Vh(n)];case 4:return o=a.sent(),[4,hS(e.lI,o,i,u,e.wI,n)];case 5:return[2,a.sent()];case 6:throw ac(s=a.sent()),new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",s);case 7:return[2]}}))}))()},e.rI=function(n){var e;return this.wI=n,(null==(e=this.lI)?void 0:e.extractFairplayContentId)?G.resolve(this.lI.extractFairplayContentId(n)):t.prototype.rI.call(this,n)},n}(RT),RS=function(){function t(){}var n=t.prototype;return n.gI=function(t,n,e,i){switch(t.Dc.Mu){case da.Pu:return this.yI(n,e,i);case da.Du:return this.mI(n,e,i);case da.Bu:return this._I(t,n,e,i);case da.xu:default:return this.pI(n,e,i)}},n.yI=function(t,n,e){var i=function(t){return t.integration===ck&&gr(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(i&&kk.AE.NE(i,ka)){var r=kk.AE.CE(i,ka,t);return new TS(t,n,e,r)}switch(i){case Xb:return new Kk(t,n,e);case Zb:return new Jk(t,n,e);case Jb:return new Qk(t,n,e);case $b:return new eT(t,n,e);case nk:return new oT(t,n,e);case ik:return new sT(t,n,e);case rk:return new fT(t,n,e);case ok:return new hT(t,n,e);case tk:default:return new iS(t,n,e,al.Ch)}},n.mI=function(t,n,e){var i=t.integration;if(i&&kk.AE.NE(i,_a)){var r=kk.AE.CE(i,_a,t);return new kS(t,n,e,r)}switch(i){case Xb:return new wT(t,n,e);case Zb:return new yT(t,n,e);case Jb:return new mT(t,n,e);case $b:return new _T(t,n,e);case nk:return new kT(t,n,e);case rk:return new TT(t,n,e);case ok:return new IT(t,n,e);case tk:default:return new dT(t,n,e)}},n._I=function(t,n,e,i){var r=n.integration;if(r&&kk.AE.NE(r,Ia)){var u=kk.AE.CE(r,Ia,n);return new IS(t,n,e,i,u)}switch(r){case Kb:return new NT(t,n,e,i);case Zb:return new OT(t,n,e,i);case Qb:return new DT(t,n,e,i);case Xb:return new PT(t,n,e,i);case Jb:return new xT(t,n,e,i);case $b:return new BT(t,n,e,i);case tk:return new LT(t,n,e,i);case nk:return new MT(t,n,e,i);case ek:return new FT(t,n,e,i);case ik:return new UT(t,n,e,i);case rk:return new VT(t,n,e,i);case uk:return new HT(t,n,e,i);case ok:return new qT(t,n,e,i);case sk:return new zT(t,n,e,i);case ak:return new nS(t,n,e,i);default:return new RT(t,n,e,i,al.Ii)}},n.pI=function(t,n,e){return new eS(t,n,e)},n.bI=function(t){return t.Mu===da.Du||t.Mu===da.Pu||t.Mu===da.Bu||t.Mu===da.xu},n.zc=function(t,n){var e;if(t.Mu!==da.Du)return!1;if(fr(null==(e=n.playready)?void 0:e.customData))return!0;var i=n.integration;return(!i||!kk.AE.NE(i,Ia))&&(i===Xb&&new lT(n).zc)},n.ME=function(t,n){if(t.Mu===da.Pu){var e=n.integration;if(!e||!kk.AE.NE(e,Ia))return e===Xb?Kk.ME():void 0}},t}();ki(),Vt(),ki(),Vt(),(ES=SS||(SS={}))[ES.kI=0]="kI",ES[ES.TI=1]="TI",ES[ES.SI=2]="SI",ES[ES.EI=3]="EI",ES[ES.II=4]="II",ES[ES.Nw=5]="Nw",ES[ES.RI=6]="RI",ES[ES.NI=7]="NI",ES[ES.Cw=8]="Cw",ES[ES.OI=9]="OI",ES[ES.CI=10]="CI",ki(),Vt(),Ri();var NS=function(){function t(){}return t.prototype.AI=function(t){},Ii(t,[{key:"DI",get:function(){return 0}},{key:"xI",get:function(){return 0}}]),t}();ki(),Vt();var OS=function(){function t(t,n){void 0===n&&(n=new RS),this.qE=void 0,this.mS=t,this.BI=n}var n=t.prototype;return n.LI=function(t){this.qE=t},n.ME=function(t){var n=this.qE;if(void 0!==n)return this.BI.ME(t,n)},n.zc=function(t){var n=this.qE;return void 0!==n&&this.BI.zc(t,n)},n.MI=function(t){var n={Dc:t.Dc,FI:t.FI||[],tI:t.tI},e=this.BI.gI(n,this.qE||{},t.GS,this.mS);return new CS(e)},t}(),CS=function(){function t(t){this.UI=t}var n=t.prototype;return n.QS=function(t){return this.UI.QS(t)},n.tE=function(t,n,e){return this.UI.tE(n,e)},n.dE=function(){return this.UI.dE||void 0!==this.UI.vE},n.lE=function(t,n){return this.UI.lE(t,n)},n.wE=function(t,n,e){return n&&this.UI.JS(n),this.UI.wE(t,e)},n.ro=function(){this.UI.kn()},t}();ki(),Vt();var AS=function(t){function n(n){var e;(e=t.call(this)||this).VI=[],e.HI=function(t){e.Rl(t.nl)},e.qI=function(t){var n=t.nl;e.zI(n)||e.Nl(n)};for(var i=0;i<n.length;i++){var r=n[i];e.WI(r)}return e}Xi(n,t);var e=n.prototype;return e.WI=function(t){this.VI.push(t);for(var n=0,e=t.Cl;n<e.length;n++){var i=e[n];this.Rl(i)}this.jI(t)},e.GI=function(t){Qa(this.VI,t),this.YI(t);for(var n=0,e=t.Cl;n<e.length;n++){var i=e[n];this.zI(i)||this.Nl(i)}},e.zI=function(t){for(var n=0,e=this.VI;n<e.length;n++){if(e[n].Ol(t))return!0}return!1},e.jI=function(t){t.po(xg.Xd,this.HI),t.po(xg.Kd,this.qI)},e.YI=function(t){t.So(xg.Xd,this.HI),t.So(xg.Kd,this.qI)},e.kn=function(){for(;this.VI.length>0;)this.GI(this.VI[0]);t.prototype.kn.call(this)},e.tl=function(){return Ay(this)},n}(Jg);function DS(t){return{get enabled(){return t.Vl},set enabled(n){t.Vl=ay(n)},get currentLatency(){return t.vg},get streamConfiguration(){if(void 0!==t.XI)return function(t){return{get minimumOffset(){return t.ig},get maximumOffset(){return t.ug},get targetOffset(){return t.rg},get forceSeekOffset(){return t.og},get minimumPlaybackRate(){return t.sg},get maximumPlaybackRate(){return t.ag}}}(t.XI)},get configuration(){return function(t){return{get minimumOffset(){return t.ig},set minimumOffset(n){t.ig=fy(n)},get maximumOffset(){return t.ug},set maximumOffset(n){t.ug=fy(n)},get targetOffset(){return t.rg},set targetOffset(n){t.rg=fy(n)},get forceSeekOffset(){return t.og},set forceSeekOffset(n){t.og=fy(n)},get minimumPlaybackRate(){return t.sg},set minimumPlaybackRate(n){t.sg=fy(n)},get maximumPlaybackRate(){return t.ag},set maximumPlaybackRate(n){t.ag=fy(n)},update:function(n){t.Ec(function(t){var n={};void 0!==t.minimumOffset&&(n.ig=fy(t.minimumOffset));void 0!==t.maximumOffset&&(n.ug=fy(t.maximumOffset));void 0!==t.targetOffset&&(n.rg=fy(t.targetOffset));void 0!==t.forceSeekOffset&&(n.og=fy(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.sg=fy(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.ag=fy(t.maximumPlaybackRate));return n}(n))}}}(t.Pc)}}}ki(),Vt(),Ri(),ki(),Vt();var PS,xS=function(){function t(){this.$I={og:0,ug:0,ag:0,ig:0,sg:0,rg:0,Ec:pr}}return Ii(t,[{key:"Qd",get:function(){return null!=this.Zd||(this.Zd=DS(this)),this.Zd}},{key:"Vl",get:function(){return!1},set:function(t){}},{key:"vg",get:function(){}},{key:"XI",get:function(){}},{key:"Pc",get:function(){return this.$I}}]),t}();function BS(){return PS||(PS=mi&&mi.document&&mi.document.createElement("video")),PS}var LS=!(!mi||!mi.TextTrack),MS=function(t){function n(n,e,i,r,u,o,s){var a;return void 0===o&&(o=new RS),void 0===s&&(s=tl()),(a=t.call(this)||this).KI=void 0,a.JI=void 0,a.ZI=void 0,a.QI=new NS,a.tR=new xS,a.nR=function(t){var n=t.xo,e=n.code,i=new Fd(function(t){switch(t){case 1:return Dd.MEDIA_ABORTED;case 2:return Dd.NETWORK_ERROR;case 3:return Dd.MEDIA_DECODE_ERROR;case 4:return Dd.SOURCE_NOT_SUPPORTED;case 5:return Dd.CONTENT_PROTECTION_ERROR;case 6:return Dd.LICENSE_ERROR;case 7:return Dd.AD_ERROR}}(e),"Something went wrong during native playback.",n),r=new f_(e,i.message,n.message);a.eR(i,r)},a.iR=function(){a.mo(new Tm(a.Gw,a.Jg))},a.rR=function(t){a.Jw||(a.uR=void 0),a.mo(t)},a.oR=function(t){a.uR=void 0},a.sR=function(){a.mo(new P_(a.Qg))},a.aR=function(){a.ng>0&&a.tg>0&&a.mo(new Wb)},a.cR=function(t){a.bg.Rl(new k_(t.track))},a.fR=function(t){var n=US(a.bg,t.track);n&&a.bg.Nl(n)},a.hR=function(){a.vR(a.bg)},a.dR=function(t){a.kg.Rl(new S_(t.track))},a.lR=function(t){var n=US(a.kg,t.track);n&&a.kg.Nl(n)},a.wR=function(){a.vR(a.kg)},a.gR=function(t){a.mo(t),a.eR(t.errorObject,v_(t.errorObject))},a.yR=e,a.mS=i,a.ju=s,a.mR=a.yR.wn(Pm.Sv),a._R=a.mR.pR.preload,a.bR=new Yb(a.mR,!0),a.bR.po(_m,a.yo),a.kR=new OS(i,o),a.mR.TR=a.kR,a.SR(),a.bg=new d_,a.kg=new d_,a.ER(),a.IR=new Lb(a.mR,a.mS),a.Tg=new AS([a.mR.Og]),a.Ug(),a}Xi(n,t);var e=n.prototype;return e.Vg=function(){this.mR.Vg()},e.Ug=function(){this.mR.Ug()},e.Pg=function(t,n,e){var i=this;return ta((function(){var r;return ea(this,(function(u){switch(u.label){case 0:return sc(e),r={Mu:qb.ES,dw:t.src,qh:t.type,RR:i.NR(t),ly:i._R,OR:t.crossOrigin,CR:n.metadata&&n.metadata.title},i.kR.LI(t.contentProtection),[4,i.mR.Tc(r)];case 1:return i.KI=u.sent(),sc(e),n.textTracks&&i.AR(n.textTracks),Hb(i.Og),[2]}}))}))()},e.AR=function(t){for(var n=0;n<t.length;n++){var e=t[n];if(this.mR.DR()&&sr.He&&LS&&!Rb(e.kind,e.label)&&this.PR(e)){var i,r=null!=(i=e.kind)?i:_b.Fp;this.mR.xR(e.src,r,e.label,e.srclang,e.default)}else{if(void 0===e.src)continue;this.IR._S(e)}}},e.PR=function(t){return!t.format||"webvtt"===t.format},e.gn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.mR.gn()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.LR?[3,5]:[4,t.mR.No(ol.dh)];case 4:return n.sent(),[3,3];case 5:return[2]}}))}))()},e.yn=function(){this.mR.yn()},e.xg=function(){return void 0!==this.mR.pR.webkitShowPlaybackTargetPicker},e.Bg=function(){this.mR.pR.webkitShowPlaybackTargetPicker&&this.mR.pR.webkitShowPlaybackTargetPicker()},e.Lg=function(){this.mR.pR.webkitShowPlaybackTargetPicker&&this.mR.pR.webkitShowPlaybackTargetPicker()},e.Hg=function(){return this.mR.pR},e.qg=function(){return this.mR.MR},e.Fc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.JI=void 0,t.ZI=void 0,t.KI=void 0,[4,t.IR.Fc()];case 1:return n.sent(),t.mR.FR(),[4,t.mR.Fc()];case 2:return n.sent(),t.bR.Fc(),t.ly=t._R,t.Rg.Fc(),t.Ng.Fc(),t.uR=void 0,[2]}}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.Fc()];case 1:return n.sent(),t.To(),t.UR(),t.HR(),t.bR.kn(),t.mR.TR=void 0,[4,t.yR.pn(t.mR)];case 2:return n.sent(),t.bg.kn(),t.kg.kn(),t.Tg.kn(),[4,t.IR.kn()];case 3:return n.sent(),[2]}}))}))()},e.SR=function(){this.mR.po(ol.hh,this.yo),this.mR.po(ol.fh,this.yo),this.mR.po(ol.Eh,this.iR),this.mR.po(ol.dh,this.yo),this.mR.po(ol.rh,this.yo),this.mR.po(ol.mh,this.yo),this.mR.po(ol.yh,this.rR),this.mR.po(ol.Jf,this.yo),this.mR.po(ol.lh,this.yo),this.mR.po(ol.Ih,this.yo),this.mR.po(ol.$f,this.yo),this.mR.po(ol.gh,this.aR),this.mR.po(gm.jw,this.oR),this.mR.po(Iy.nw,this.nR),this.mR.po(ol.Gf,this.yo),this.mR.po(ol.jf,this.gR),this.mR.pR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.sR)},e.UR=function(){this.mR.So(ol.hh,this.yo),this.mR.So(ol.fh,this.yo),this.mR.So(ol.Eh,this.iR),this.mR.So(ol.dh,this.yo),this.mR.So(ol.rh,this.yo),this.mR.So(ol.mh,this.yo),this.mR.So(ol.yh,this.rR),this.mR.So(ol.Jf,this.yo),this.mR.So(ol.lh,this.yo),this.mR.So(ol.Ih,this.yo),this.mR.So(ol.$f,this.yo),this.mR.So(ol.gh,this.aR),this.mR.So(gm.jw,this.oR),this.mR.So(Iy.nw,this.nR),this.mR.So(ol.Gf,this.yo),this.mR.So(ol.jf,this.gR),this.mR.pR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.sR)},e.NR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Dc:Ca,qR:[{initDataTypes:[Ca.Uu],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.ER=function(){var t=this.mR.pR.audioTracks,n=this.mR.pR.videoTracks;t&&(t.addEventListener("addtrack",this.cR),t.addEventListener("removetrack",this.fR),t.addEventListener("change",this.hR)),n&&(n.addEventListener("addtrack",this.dR),n.addEventListener("removetrack",this.lR),n.addEventListener("change",this.wR))},e.HR=function(){var t=this.mR.pR.audioTracks,n=this.mR.pR.videoTracks;t&&(t.removeEventListener("addtrack",this.cR),t.removeEventListener("removetrack",this.fR),t.removeEventListener("change",this.hR)),n&&(n.removeEventListener("addtrack",this.dR),n.removeEventListener("removetrack",this.lR),n.removeEventListener("change",this.wR))},e.vR=function(t){for(var n=0;n<t.Al;n++){t.Il(n).Ey()}},e.Xg=function(){this.mR.Xg()},e.$g=function(){},e.eR=function(t,n){this.JI||(this.JI=n,this.ZI=t,this.mo(new Dm(t)))},Ii(n,[{key:"LR",get:function(){var t=this.mR.Kg,n=this.Gw;return t.zR(n,.01)}},{key:"Rg",get:function(){return this.bg}},{key:"Kg",get:function(){return this.mR.Kg.WR()}},{key:"Jg",get:function(){return this.mR.Jg},set:function(t){t&&this.mR.jR(t)}},{key:"Gw",get:function(){return void 0!==this.uR?this.uR:this.mR.Gw},set:function(t){this.Qg&&(this.uR=t),this.mR.$o(t)}},{key:"Yw",get:function(){return this.mR.Yw}},{key:"Xw",get:function(){return this.mR.Xw}},{key:"xo",get:function(){return this.JI}},{key:"$w",get:function(){return this.ZI}},{key:"Cg",get:function(){}},{key:"Qg",get:function(){return this.mR.Qg}},{key:"ty",get:function(){return na({},{ny:0,ey:0,iy:0,uy:0,oy:0,sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.mR.GR())}},{key:"Kw",get:function(){return this.mR.Kw},set:function(t){this.mR.Kw=t}},{key:"hy",get:function(){return!0}},{key:"Jw",get:function(){return this.mR.Jw}},{key:"Zw",get:function(){return this.mR.Zw},set:function(t){this.mR.Zw=t}},{key:"vy",get:function(){return this.mR.pR.played}},{key:"ly",get:function(){return this._R},set:function(t){this._R=t,this.KI&&(this.KI.ly=t)}},{key:"cw",get:function(){return this.mR.cw}},{key:"wy",get:function(){return this.mR.wy.WR()}},{key:"Qw",get:function(){return this.mR.Qw}},{key:"YR",get:function(){return this.mR.YR}},{key:"Og",get:function(){return this.Tg}},{key:"Ng",get:function(){return this.kg}},{key:"tg",get:function(){return this.mR.tg}},{key:"ng",get:function(){return this.mR.ng}},{key:"eg",get:function(){return this.mR.eg},set:function(t){this.mR.eg=t}},{key:"gy",get:function(){return this.tR}},{key:"yy",get:function(){return this.mR.yy},set:function(t){this.mR.yy=t}},{key:"XR",get:function(){return this.QI}}]),n}(Py);var FS=function(){function t(){this.$R=SS.CI}var n=t.prototype;return n.SE=function(t,n,e,i,r,u){return new MS(t,n,e,i,r)},n.KR=function(t,n){return function(t){return!t.type||!(!BS().canPlayType||!BS().canPlayType(t.type))}(t)},n.JR=function(){return!1},t}();function US(t,n){for(var e=0,i=t.Cl;e<i.length;e++){var r=i[e];if(r.Ny===n)return r}}var VS=function(){function t(){this.ZR=new FS,this.QR=[]}var n=t.prototype;return n.tN=function(t){this.QR.push(t)},n.SE=function(t,n,e,i,r,u){for(var o=this.ZR.SE(t,n,e,i,r,u),s=0,a=this.QR;s<a.length;s++){o=(0,a[s])(o,e,i)}return o},n.KR=function(t,n){return this.ZR.KR(t,n)},n.JR=function(){return!1},t.nN=function(){return this.bi},Ii(t,[{key:"$R",get:function(){return this.ZR.$R}}]),t}();function HS(t,n){return Ya(t.$R,n.$R)}VS.bi=new VS,ki(),Vt(),ki(),Vt();var qS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eN=VS.nN(),n}Xi(n,t);var e=n.prototype;return e.iN=function(t){this.eN=t},e.rN=function(){return this.eN},e.uN=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:i=0,c.label=1;case 1:return i<t.length?(r=t[i],[4,e.oN(r,n)]):[3,4];case 2:if(u=c.sent())return[2,{sN:r,aN:u}];c.label=3;case 3:return i++,[3,1];case 4:for(o=e.eN,s=0;s<t.length;s++)if(a=t[s],o.KR(a,n))return[2,{sN:a,aN:o}];return[2,{sN:t[0],aN:o}]}}))}))()},n}(function(){function t(){this.cN=[]}var n=t.prototype;return n.fN=function(t){this.cN.push(t),this.cN.sort(HS)},n.oN=function(t,n){var e=this;return ta((function(){var i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:i=0,r=e.cN,a.label=1;case 1:return i<r.length?(u=r[i],mr(o=u.KR(t,n))?[4,o]:[3,3]):[3,6];case 2:return s=a.sent(),[3,4];case 3:s=Boolean(o),a.label=4;case 4:if(s)return[2,u];a.label=5;case 5:return i++,[3,1];case 6:return[2,void 0]}}))}))()},t}());qS.bi=new qS,Ti(),ki(),Vt(),Ti();var zS,WS,jS=function(){function t(t){var n,e;this.hN=mi&&mi.document&&mi.document.createElement("div"),n=this.hN,(e=n.style).position="absolute",e.left="0",e.right="0",e.top="0",e.bottom="0",e.width="100%",e.height="100%",t.appendChild(this.hN)}return t.prototype.kn=function(){Cs(this.hN)},t}();function GS(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";case"none":default:return"none"}}ki(),Vt(),Ri(),ki(),Vt(),(WS=zS||(zS={})).CI="",WS.vN="none",WS.Vp="metadata",WS.dN="auto";var YS=[Iy.nw,ol.Kf,ol.Bo,ol.Oh,ol.Hf,ol.Zf,ol.sh,ol.ah,ol.ph,ol.kh,gm.Vw,gm.Hw,gm.qw,gm.zw,gm.gl,gm.Ww,gm.jw,ol.jf,ol.Gf,ol.$f,ol.Jf,ol.rh,ol.uh,ol.hh,ol.dh,ol.fh,ol.lh,ol.gh,ol.mh,ol.yh,ol.Eh,ol.Ih,ol.wh,ol.oh,ol._h],XS=function(t){function n(n,e){var i;return(i=t.call(this)||this).lN=void 0,i.wN=void 0,i._R=zS.vN,i.gN=void 0,i.yN=!0,i.bg=new Ry,i.kg=new Ry,i.Tg=new Dy,i.Sg=new u_,i.mN=n,i._N=e,i._N.ly=i.ly,i.pN(),i}Xi(n,t);var e=n.prototype;return e.yn=function(){this._N.yn()},e.gn=function(){var t=this._N.gn();mr(t)&&lc(t)},e.Ag=function(){return this.Pg(void 0)},e.En=function(){},e.Wg=function(t){return!1},e.pN=function(){this.bg.Ml=this._N.Rg,this.kg.Ml=this._N.Ng,this.Tg.Ml=this._N.Og,this.Sg.Ml=this._N.Cg,this._N.po(YS,this.yo)},e.bN=function(){this._N.So(YS,this.yo),this.bg.Ml=void 0,this.kg.Ml=void 0,this.Tg.Ml=void 0,this.Sg.Ml=void 0},e.Dg=function(){return this.gN},e.Pg=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return sc(n),e.gN=t,t?am(i=t.sources.filter(dm))?[2]:[4,e.mN.uN(i,t)]:[2];case 1:return r=c.sent(),sc(n),u=r.sN,o=r.aN,s=e.qg(),a=zm(e),e.lN!==o||e.xo?(e.bN(),[4,e._N.kn()]):[3,3];case 2:c.sent(),sc(n),e.lN=o,e._N=e.kN(o),function(t,n){t.Kw!==n.Kw&&(t.Kw=n.Kw);t.eg!==n.eg&&(t.eg=n.eg);t.Zw!==n.Zw&&(t.Zw=n.Zw)}(e._N,a),Wm(e,a,e),e.pN(),c.label=3;case 3:return e._N.ly=e.ly,e.yN?e._N.Ug():e._N.Vg(),[4,e._N.Pg(u,t,n)];case 4:return c.sent(),sc(n),e.TN(u),e.qg()!==s&&e.mo(new By),[2]}}))}))()},e.TN=function(t){this.wN!==t&&(this.wN=t,this.mo(new Ly(t)))},e.xg=function(){return this._N.xg()},e.Bg=function(){this._N.Bg()},e.Lg=function(){this._N.Lg()},e.qg=function(){return this._N.qg()},e.Xg=function(){this._N.Xg()},e.$g=function(){this._N.$g()},e.Fc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.gN=void 0,t.TN(void 0),[4,t._N.Fc()];case 1:return n.sent(),[2]}}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.To(),[4,t.Fc()];case 1:return n.sent(),[4,t._N.kn()];case 2:return n.sent(),t.bg.kn(),t.kg.kn(),t.Tg.kn(),t.Sg.kn(),[2]}}))}))()},e.Ug=function(){this.yN=!0,this._N.Ug()},e.Vg=function(){this.yN=!1,this._N.Vg()},Ii(n,[{key:"Rg",get:function(){return this.bg}},{key:"Kg",get:function(){return this._N.Kg}},{key:"xo",get:function(){return this._N.xo}},{key:"$w",get:function(){return this._N.$w}},{key:"Jg",get:function(){return this._N.Jg},set:function(t){this._N.Jg=t}},{key:"Yg",get:function(){return this.wN}},{key:"Gw",get:function(){return this._N.Gw},set:function(t){this._N.Gw=t}},{key:"Yw",get:function(){return this._N.Yw}},{key:"Xw",get:function(){return this._N.Xw}},{key:"Cg",get:function(){return this.Sg}},{key:"Qg",get:function(){return this._N.Qg}},{key:"ty",get:function(){return this._N.ty}},{key:"Kw",get:function(){return this._N.Kw},set:function(t){this._N.Kw=t}},{key:"hy",get:function(){return this._N.hy}},{key:"Jw",get:function(){return this._N.Jw}},{key:"Zw",get:function(){return this._N.Zw},set:function(t){this._N.Zw=t}},{key:"vy",get:function(){return this._N.vy}},{key:"ly",get:function(){return this._R},set:function(t){this._R=t,this._N&&(this._N.ly=this._R)}},{key:"cw",get:function(){return this._N.cw}},{key:"wy",get:function(){return this._N.wy}},{key:"Qw",get:function(){return this._N.Qw}},{key:"Og",get:function(){return this.Tg}},{key:"tg",get:function(){return this._N.tg}},{key:"Ng",get:function(){return this.kg}},{key:"ng",get:function(){return this._N.ng}},{key:"eg",get:function(){return this._N.eg},set:function(t){this._N.eg=t}},{key:"gy",get:function(){return this._N.gy}},{key:"XR",get:function(){return this._N.XR}}]),n}(pc);ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),Ri();var $S,KS,JS=function(t){function n(n,e){var i;return(i=t.call(this)||this).Al=n.length>>1,i.SN=n,i.EN=e||function(t){for(var n=new Array(2*t),e=0,i=0;e<t;e+=1,i+=2)n[i]=!0,n[i+1]=!1;return n}(i.Al),i}Xi(n,t);var e=n.prototype;return e.IN=function(t){return this.SN[2*t]},e.RN=function(t){return this.EN[2*t]},e.NN=function(t){return this.SN[2*t+1]},e.ON=function(t){return this.EN[2*t+1]},Ii(n,[{key:"CN",get:function(){return this.SN.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Yy=function(t,n){return 0===this.gm(t,n)},n.Fm=function(t,n){return this.gm(t,n)>0},n.Um=function(t,n){return this.gm(t,n)>=0},n.km=function(t,n){return this.gm(t,n)<0},n.pm=function(t,n){return this.gm(t,n)<=0},n.d_=function(t,n){return this.km(t,n)?t:n},n.v_=function(t,n){return this.Fm(t,n)?t:n},n.AN=function(t,n,e){return e?this.pm(t,n):this.km(t,n)},n.WR=function(){var t=this;return{get length(){return t.Al},start:function(n){var e=0|n;return t.DN(e),t.PN(t.IN(e))},end:function(n){var e=0|n;return t.DN(e),t.PN(t.NN(e))}}},n.xN=function(){for(var t=new Array(2*this.Al),n=new Array(2*this.Al),e=0;e<this.Al;e++)t[2*e]=this.IN(e),t[2*e+1]=this.NN(e),n[2*e]=!0,n[2*e+1]=!0;return this.BN(t,n)},n.DN=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.Al)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.Al+")")},n.LN=function(t){if(0===this.Al)return this.MN();if(this.zR(t))return t;if(this.pm(t,this.IN(0)))return this.IN(0);if(this.Um(t,this.NN(this.Al-1)))return this.NN(this.Al-1);for(var n,e=this.FN(),i=0;i<this.Al;i++){var r=this.IN(i),u=this.bm(r,t);this.km(u,e)&&(n=r,e=u);var o=this.NN(i),s=this.bm(this.NN(i),t);this.km(s,e)&&(n=o,e=s)}return n},n.UN=function(t){for(var n=0,e=0,i=[],r=[];n<this.Al&&e<t.Al;){var u=this.IN(n),o=this.NN(n),s=this.RN(n),a=this.ON(n),c=t.IN(e),f=t.NN(e),h=t.RN(e),v=t.ON(e),d=this.v_(u,c),l=this.d_(o,f),w=void 0;w=this.Yy(u,c)?s&&h:this.Yy(d,u)?s:h;var g=void 0;g=this.Yy(o,f)?a&&v:this.Yy(l,o)?a:v,(this.km(d,l)||w&&g&&this.Yy(d,l))&&(i.push(d,l),r.push(w,g));var y=this.gm(this.NN(n),t.NN(e));0===y?(n+=1,e+=1):y<0?n+=1:e+=1}return this.BN(i,r)},n.VN=function(){var t=this.HN(),n=t.Al;if(0===n)return this.BN([t.qN(),t.FN()],[!1,!1]);var e=[],i=[],r=t.IN(0);t.Yy(r,t.qN())||(e.push(t.qN(),r),i.push(!1,!t.RN(0)));for(var u=0;u<n-1;u++)e.push(t.NN(u),t.IN(u+1)),i.push(!t.ON(u),!t.RN(u+1));var o=t.NN(n-1);return t.Yy(o,t.FN())||(e.push(o,t.FN()),i.push(!t.ON(n-1),!1)),t.BN(e,i)},n.zN=function(t){for(var n=0,e=0,i=this.Al,r=t.Al,u=new Array(2*(i+r)),o=new Array(2*(i+r)),s=0;n<i&&e<r;){var a=this.IN(n),c=this.NN(n),f=t.IN(e),h=t.NN(e);this.km(a,f)||this.Yy(a,f)&&this.km(c,h)?(u[s]=a,u[s+1]=c,o[s]=this.RN(n),o[s+1]=this.ON(n),n++):(u[s]=f,u[s+1]=h,o[s]=t.RN(e),o[s+1]=t.ON(e),e++),s+=2}for(;n<i;)u[s]=this.IN(n),u[s+1]=this.NN(n),o[s]=this.RN(n),o[s+1]=this.ON(n),n++,s+=2;for(;e<r;)u[s]=t.IN(e),u[s+1]=t.NN(e),o[s]=t.RN(e),o[s+1]=t.ON(e),e++,s+=2;return this.BN(u,o)},n.WN=function(t){void 0===t&&(t=this.MN());var n=this.Al;if(n<2)return this;for(var e=[],i=[],r=this.IN(0),u=this.NN(0),o=this.RN(0),s=this.ON(0),a=1;a<n;a++){var c=this.IN(a),f=this.NN(a),h=this.RN(a),v=this.ON(a);this.km(r,c)&&this.Fm(u,f)||(this.Yy(r,c)&&(o=h=o||h),this.Yy(u,f)&&(s=v=s||v),this.AN(c,this._y(u,t),s||h)?(u=f,s=v):(e.push(r,u),i.push(o,s),r=c,u=f,o=h,s=v))}return e.push(r,u),i.push(o,s),this.BN(e,i).HN()},n.HN=function(){for(var t=[],n=[],e=0;e<this.Al;e++){var i=this.IN(e),r=this.NN(e),u=this.RN(e),o=this.ON(e);this.Yy(i,r)?(u||o)&&(t.push(i,r),n.push(!0,!0)):(t.push(i,r),n.push(u,o))}return this.BN(t,n)},n.jN=function(t){return this.Al?t.Al?this.zN(t).WN():this:t},n.GN=function(t){var n=this.HN(),e=t.HN(),i=n.VN(),r=e.VN(),u=i.UN(e),o=r.UN(n);return u.jN(o)},n.Xo=function(t){if(this.Yy(t,this.MN()))return this;for(var n=[],e=[],i=0;i<this.Al;i++){var r=this._y(this.IN(i),t),u=this._y(this.NN(i),t);n.push(r,u),e.push(this.RN(i),this.ON(i))}return this.BN(n,e)},n.YN=function(t){return 0===this.Al||0===t.Al?this:this.HN().UN(t.HN().VN())},n.zR=function(t,n){return this.XN(t,n)>=0},n.$N=function(t,n,e,i,r){return this.KN(t,n,e,i,r)>=0},n.JN=function(t,n,e,i,r){return this.ZN(t,n,e,i,r)>=0},n.QN=function(t){if(t.Al!==this.Al)return!1;for(var n=0;n<this.Al;n++)if(!this.Yy(this.IN(n),t.IN(n))||!this.Yy(this.NN(n),t.NN(n))||this.RN(n)!==t.RN(n)||this.ON(n)!==t.ON(n))return!1;return!0},n.tO=function(t){for(var n=[],e=[],i=0;i<this.Al;i++){var r=this.IN(i),u=this.NN(i),o=this.RN(i),s=this.ON(i);t(r,u,o,s)&&(n.push(r,u),e.push(o,s))}return this.BN(n,e)},n.ZN=function(t,n,e,i,r){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===r&&(r=this.MN());for(var u=this.Im(t,r),o=this._y(n,r),s=0;s<this.Al;s+=1)if(this.AN(this.IN(s),o,!i||this.RN(s))&&this.AN(u,this.NN(s),!e||this.ON(s)))return s;return-1},n.KN=function(t,n,e,i,r){void 0===e&&(e=!0),void 0===i&&(i=!1),void 0===r&&(r=this.MN());for(var u=this._y(t,r),o=this.Im(n,r),s=0;s<this.Al;s+=1)if(this.AN(this.IN(s),u,!e||this.RN(s))&&this.AN(o,this.NN(s),!i||this.ON(s)))return s;return-1},n.XN=function(t,n){return this.KN(t,t,!0,!0,n)},n.nO=function(t,n){void 0===n&&(n=this.MN());for(var e=this._y(t,n),i=this.Al-1;i>=0;i-=1)if(this.AN(this.IN(i),e,this.RN(i)))return i;return-1},n.eO=function(t,n){void 0===n&&(n=this.MN());for(var e=this.Im(t,n),i=0;i<this.Al;i+=1)if(this.AN(e,this.NN(i),this.ON(i)))return i;return-1},n.iO=function(t,n){void 0===n&&(n=this.MN());for(var e=this._y(t,n),i=0;i<this.Al;i+=1)if(this.Fm(this.IN(i),e))return i;return-1},n.rO=function(t){return this.DN(t),this.BN([this.IN(t),this.NN(t)],[this.RN(t),this.ON(t)])},n.uO=function(t,n){var e=this.XN(t,n);return e<0?void 0:this.rO(e)},Ii(t,[{key:"oO",get:function(){for(var t=this.MN(),n=0;n<this.Al;n++){var e=this.Im(this.NN(n),this.IN(n));t=this._y(t,e)}return t}}]),t}()),ZS=function(t){function n(n,e){return t.call(this,n,e)}Xi(n,t);var e=n.prototype;return e.gm=function(t,n){return t<n?qa.Ku:t===n?qa.Xu:qa.$u},e._y=function(t,n){return t+n},e.Im=function(t,n){return t-n},e.bm=function(t,n){return d.abs(t-n)},e.MN=function(){return 0},e.FN=function(){return 1/0},e.qN=function(){return-1/0},e.BN=function(t,e){return new n(t,e)},e.PN=function(t){return t},n.sO=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t.start(i),t.end(i));return new n(e)},n.aO=function(t){for(var e=[],i=[],r=0;r<t.Al;r++)e.push(t.IN(r).l_),e.push(t.NN(r).l_),i.push(t.RN(r)),i.push(t.ON(r));return new n(e,i)},n.cO=function(t){return new n([t,t],[!0,!0])},n.fO=function(t,e){return t<=e?new n([t,e]):n.hO()},n.hO=function(){return QS},n}(JS),QS=new ZS([]);ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),(KS=$S||($S={})).ll="fullscreenchange",KS.vO="fullscreensupportchange",KS.nw="fullscreenerror";var tE=function(t){function n(){return t.call(this,$S.nw)}return Xi(n,t),n}(Sc),nE=new(function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.Py=function(){this.mo(new tE)},e.By=function(){},e.kn=function(){this.To()},Ii(n,[{key:"dO",get:function(){return!1}},{key:"lO",get:function(){return!1}}]),n}(pc)),eE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).yR=void 0,n.mR=void 0,n}Xi(n,t);var e=n.prototype;return e.Hg=function(){var t;return null==(t=this.mR)?void 0:t.pR},e.kn=function(){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return e.sent(),n.mR?[4,n.yR.pn(n.mR)]:[3,3];case 2:e.sent(),n.mR=void 0,e.label=3;case 3:return[2]}}))}))()},Ii(n,[{key:"wO",set:function(t){this.yR=t,this.mR=t.wn(Pm.Sv)}}]),n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).gO=0,n.yO=!1,n.mO=!0,n._O=1,n.pO=!1,n.va=1,n.Rg=new d_,n.Kg=ZS.hO().WR(),n.Yw=NaN,n.Xw=!1,n.xo=void 0,n.$w=void 0,n.Cg=void 0,n.Qg=!1,n.hy=!0,n.vy=ZS.hO().WR(),n.ly=zS.vN,n.cw=Ky.Bw,n.wy=ZS.hO().WR(),n.YR=void 0,n.Og=new bb,n.tg=0,n.Ng=new d_,n.ng=0,n.gy=new xS,n.QI=new NS,n}Xi(n,t);var e=n.prototype;return e.Ug=function(){},e.Vg=function(){},e.gn=function(){this.mO&&(this.mO=!1,this.mo(new mm(this.Gw)),this.mo(new jb(this.Gw)))},e.yn=function(){this.mO||(this.mO=!0,this.mo(new Tm(this.Gw,this.Jg)),this.mo(new wm(this.Gw)))},e.Pg=function(t,n){return G.resolve()},e.xg=function(){return!1},e.Bg=function(){},e.Lg=function(){},e.qg=function(){return nE},e.Xg=function(){},e.$g=function(){},e.Fc=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.gO=0,t.pO=!1,t.yn(),t.mo(new lm(t.gO)),[2]}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){return t.To(),t.Rg.kn(),t.Og.kn(),t.Ng.kn(),[2]}))}))()},Ii(n,[{key:"Jg",get:function(){},set:function(t){}},{key:"Gw",get:function(){return this.gO},set:function(t){this.gO!==t&&(this.gO=t,this.pO=!0,this.mo(new Im(this.Gw)))}},{key:"ty",get:function(){return{ny:0,ey:0,iy:0,uy:0,oy:0,sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Kw",get:function(){return this.yO},set:function(t){this.yO!==t&&(this.yO=t,this.mo(new Nm(this.Gw,this.eg)))}},{key:"Jw",get:function(){return this.mO}},{key:"Zw",get:function(){return this._O},set:function(t){this._O!==t&&(this._O=t,this.mo(new km(this.Gw,this.Zw)))}},{key:"Qw",get:function(){return this.pO}},{key:"eg",get:function(){return this.va},set:function(t){this.va!==t&&(this.va=t,this.mo(new Nm(this.Gw,this.eg)))}},{key:"yy",get:function(){return!1},set:function(t){}},{key:"XR",get:function(){return this.QI}}]),n}(pc)),iE=function(t){function n(n,e,i,r,u,o){var s,a=new eE;return(s=t.call(this,qS.bi,a)||this).bO=n,s.rf=e,s.mS=i,s.kO=r,s.TO=o,s.SO=new wi(u,s.TO),s.SO.bn(s.bO),a.wO=s.SO,s.EO=new jS(s.bO),s}Xi(n,t);var e=n.prototype;return e.En=function(){t.prototype.En.call(this),this.SO.ln()},e.Mg=function(t){var n,e,i,r;n=this,i=(e=t).eg,r=e.Kw,n.eg=i,n.Kw=r},e.Fg=function(){},e.kN=function(t){return t.SE(this.bO,this.SO,this.mS,this.rf,this.kO,this.TO)},e.Hg=function(){return this._N.Hg()},e.zg=function(){return this.SO.dn.map((function(t){return t.pR}))},e.ko=function(n){t.prototype.ko.call(this,n)},e.Ro=function(n){t.prototype.Ro.call(this,n)},e.kn=function(){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return e.sent(),n.SO.kn(),n.EO.kn(),[2]}}))}))()},Ii(n,[{key:"Zg",get:function(){return this.bO}},{key:"yy",get:function(){return this._N.yy},set:function(t){this._N.yy=t}}]),n}(XS);ki(),Vt(),Ri(),ki(),Vt();var rE=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).tR=new xS,r.bO=n,r.IO=e,r.RO=new d_,r.OO=new bb,r.CO=i,r}Xi(n,t);var e=n.prototype;return e.Wg=function(t){return!0},e.Vg=function(){},e.gn=function(){throw this.mo(new Dm(this.CO)),this.IO},e.yn=function(){},e.Dg=function(){},e.Pg=function(t,n){var e=this;return ta((function(){return ea(this,(function(t){throw sc(n),e.mo(new Dm(e.CO)),e.IO}))}))()},e.Ug=function(){},e.Ag=function(){return G.resolve()},e.Hg=function(){},e.qg=function(){return nE},e.zg=function(){return[]},e.En=function(){},e.Mg=function(t){},e.Fg=function(){},e.xg=function(){return!1},e.Bg=function(){},e.Lg=function(){},e.Xg=function(){},e.$g=function(){},e.Fc=function(){return G.resolve()},e.kn=function(){return this.To(),this.RO.kn(),this.OO.kn(),G.resolve()},Ii(n,[{key:"Rg",get:function(){return this.RO}},{key:"Kg",get:function(){return ZS.hO().WR()}},{key:"Jg",get:function(){return new Date(NaN)},set:function(t){}},{key:"Yg",get:function(){}},{key:"Gw",get:function(){return 0},set:function(t){}},{key:"Yw",get:function(){return 0}},{key:"Zg",get:function(){return this.bO}},{key:"Xw",get:function(){return!0}},{key:"xo",get:function(){return this.IO}},{key:"$w",get:function(){return this.CO}},{key:"Cg",get:function(){}},{key:"ty",get:function(){return{ny:0,ey:0,iy:0,uy:0,oy:0,sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Kw",get:function(){return!1},set:function(t){}},{key:"hy",get:function(){return!0}},{key:"Jw",get:function(){return!0}},{key:"Zw",get:function(){return 0},set:function(t){}},{key:"vy",get:function(){return ZS.hO().WR()}},{key:"ly",get:function(){return zS.vN},set:function(t){}},{key:"cw",get:function(){return Ky.Bw}},{key:"wy",get:function(){return ZS.hO().WR()}},{key:"Qw",get:function(){return!1}},{key:"Og",get:function(){return this.OO}},{key:"tg",get:function(){return 0}},{key:"Ng",get:function(){return this.RO}},{key:"ng",get:function(){return 0}},{key:"eg",get:function(){return 1},set:function(t){}},{key:"gy",get:function(){return this.tR}},{key:"yy",get:function(){return!1},set:function(t){}},{key:"Qg",get:function(){return!1}}]),n}(xy);function uE(t){if(t&&lr(t))return na({},t,{integration:oE(t.integration),fairplay:vE(t.fairplay),widevine:sE(t.widevine),playready:aE(t.playready),clearkey:dE(t.clearkey),aes128:lE(t.aes128),integrationParameters:wE(t.integrationParameters),preferredKeySystems:gE(t.preferredKeySystems)})}function oE(t){if(gr(t))return t}function sE(t){if(t&&lr(t))return{persistentState:cE(t.persistentState),distinctiveIdentifier:cE(t.distinctiveIdentifier),audioRobustness:fE(t.audioRobustness),videoRobustness:fE(t.videoRobustness),licenseAcquisitionURL:gr(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:hE(t.licenseType),headers:t.headers,useCredentials:!!yr(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:gr(t.certificate)||If(t.certificate)?t.certificate:void 0}}function aE(t){if(t){var n=sE(t);if(n)return na({},n,{customData:gr(t.customData)?t.customData:void 0})}}function cE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function fE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function hE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function vE(t){if(t){var n=sE(t);if(n)return na({},n,{certificateURL:gr(t.certificateURL)?t.certificateURL:void 0})}}function dE(t){if(t){var n=sE(t);if(n)return na({},n,{keys:vr(t.keys)?t.keys.map((function(t){return function(t){if(!t||!lr(t))return;var n=t.id,e=t.value;if(!gr(n)||!gr(e))return;return{id:n,value:e}}(t)})).filter(fr):void 0})}}function lE(t){if(lr(t))return{useCredentials:yr(t.useCredentials)?t.useCredentials:void 0}}function wE(t){if(lr(t))return t}function gE(t){return t&&vr(t)?t.map((function(t){return Hk(t)})).filter(fr):[ka,_a,Ia]}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var yE=function(t){function n(n){var e;return(e=t.call(this,"presentationmodechange")||this).presentationMode=n,e}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt();var mE,_E,pE=function(t){function n(n,e){var i;return void 0===e&&(e=!1),(i=t.call(this,n)||this).AO=[],i.DO=function(t){dc((function(){i.yo(t)}))},i.PO=e?i.DO:i.yo,i}Xi(n,t);var e=n.prototype;return e.xO=function(t){t.ko(this.PO),this.AO.push(t)},e.BO=function(t){t.Ro(this.PO),Qa(this.AO,t)},e.kn=function(){this.To();for(var t=0,n=this.AO;t<n.length;t++){n[t].Ro(this.PO)}ec(this.AO)},n}(Py),bE=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n}(pE);(_E=mE||(mE={})).INLINE="inline",_E.FULLSCREEN="fullscreen",_E.PICTURE_IN_PICTURE="picture-in-picture";var kE,TE,SE=function(t){function n(n){var e;return(e=t.call(this)||this).LO=!1,e.MO=!1,e.Zd=void 0,e.FO=function(){return e.UO()},e.VO=function(){return e.HO()},e.qO=n,e.zO=e.WO=e.jO=e.GO="inline",e.qO.po($S.ll,e.FO),e.qO.po($S.nw,e.VO),e.YO(),e}Xi(n,t);var e=n.prototype;return e.tl=function(){return t=this,e={get currentMode(){return t.XO()},requestMode:function(n){var e=IE(n);e&&t.$O(e)},supportsMode:function(n){var e=IE(n);return!!e&&t.KO(e)},addEventListener:function(t,e){n.po(t,e)},removeEventListener:function(t,e){n.So(t,e)}},(n=new pE(e,!0)).xO(t),e;var t,n,e},e.$O=function(t){this.JO(t,t)},e.JO=function(t,n){this.WO!==n&&(this.LO=!0,this.zO=t,this.ZO(n,this.WO),"fullscreen"!==t&&(this.jO=t),this.LO=!1,this.YO())},e.XO=function(){return this.MO?"fullscreen":"inline"},e.KO=function(t){switch(t){case"fullscreen":return this.qO.lO;case"inline":return!0}return!1},e.YO=function(){if(!this.LO){var t=this.WO,n=this.XO();this.WO=n,"fullscreen"!==n&&(this.GO=n),t!==n&&this.mo(new yE(n))}},e.ZO=function(t,n){var e="fullscreen"===t;this.MO=e,e!==this.qO.dO&&(e?this.qO.Py():this.qO.By())},e.UO=function(){if(!this.LO){var t=this.qO.dO;this.MO=t,t?this.JO("fullscreen","fullscreen"):t||"fullscreen"!==this.zO?this.YO():this.JO(this.jO,this.GO)}},e.HO=function(){this.UO(),this.mo(new Dm(new Fd(Dd.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.kn=function(){this.qO.kn(),this.To()},Ii(n,[{key:"Qd",get:function(){return this.Zd||(this.Zd=this.tl()),this.Zd}}]),n}(Py),EE={Gw:0,Yw:NaN,Xw:!1,xo:void 0,$w:void 0,Kw:!1,Jw:!0,Zw:1,cw:Ky.Bw,Qw:!1,tg:0,ng:0,eg:1};function IE(t){switch(t){case mE.INLINE:case mE.FULLSCREEN:case mE.PICTURE_IN_PICTURE:return t;default:return}}ki(),Vt(),Ri(),(TE=kE||(kE={})).DEFAULT="",TE.THEO="theo",TE.GOOGLE_IMA="google-ima",TE.SPOTX="spotx",TE.FREEWHEEL="freewheel",TE.MEDIATAILOR="mediatailor";var RE,NE,OE,CE,AE,DE,PE,xE,BE,LE,ME,FE,UE,VE,HE,qE=function(){function t(){this.QO=[]}var n=t.prototype;return n.tC=function(t){var n=this.nC.filter((function(n){return n.eC(t)}));if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.iC=function(t){this.QO.push(t)},Ii(t,[{key:"nC",get:function(){return this.QO}}]),t}();qE.bi=new qE,ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(NE=RE||(RE={})).jw="PLAYING",NE.yg="PAUSED",NE.rC="SEEK",NE.uC="STALLED",NE.oC="FAILED",NE.sC="INITIAL_BUFFERING",NE.aC="NO_ACCESS",(CE=OE||(OE={})).cC="HTTP_REQUEST_STATUS_CODE_1XX",CE.fC="HTTP_REQUEST_STATUS_CODE_2XX",CE.hC="HTTP_REQUEST_STATUS_CODE_3XX",CE.vC="HTTP_REQUEST_STATUS_CODE_4XX",CE.dC="HTTP_REQUEST_STATUS_CODE_5XX",CE.lC="BUFFER_LENGTH",CE.wC="BYTES_RECEIVED",CE.gC="SEGMENT_READ_BITRATE",CE.yC="SEGMENT_PROFILE_BITRATE",CE.mC="VIDEO_PROFILE_BITRATE",CE._C="NUMBER_OF_FRAMES_DROPPED",CE.pC="PLAYBACK_POSITION",CE.bC="NUMBER_OF_FRAMES_DECODED",CE.kC="PLAYBACK_DELTA_TO_ORIGIN",CE.TC="STREAM_DELTA_TO_ORIGIN",CE.SC="ORIGIN_TIMESTAMP",(DE=AE||(AE={})).EC="MANIFEST_URI",DE.IC="ASSET_DURATION",DE.RC="NUMBER_OF_CONTENT_PROFILES",DE.NC="CDN",DE.OC="CONTENT_TITLE",DE.CC="SERVICE_NAME",DE.AC="CONTENT_TYPE",DE.DC="CONTENT_DESCRIPTION",(PE||(PE={})).xC="shutdown_normal_shutdown",(BE=xE||(xE={})).BC="session/",BE.LC="content/",BE.MC="internalError/",BE.FC="drmError/",BE.UC="caError/",BE.VC="networkError/",(ME=LE||(LE={})).HC="userAction",ME.qC="endOfStreamReached",ki(),Vt(),ki(),Vt(),(UE=FE||(FE={})).PAUSE="zC",UE.RESUME="WC",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(HE=VE||(VE={})).UNAVAILABLE="unavailable",HE.AVAILABLE="available",HE.CONNECTING="connecting",HE.CONNECTED="connected";var zE,WE,jE,GE,YE,XE,$E,KE,JE,ZE,QE,tI,nI="agama";function eI(t){switch(t){case"":return zE.NONE;case"horizontal":return zE.HORIZONTAL;case"vertical":return zE.VERTICAL;default:throw new h}}function iI(t,n){if(n)return jE.PM360;if(null==t)return jE.NONE;switch(t){case"":return jE.NONE;case"360":return jE.PM360;case"180":return jE.PM180;default:throw new h("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}function rI(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!gr(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:cy(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?fy(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:cy(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:cy(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:cy(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards)}}function uI(t){if(!t||!gr(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function oI(t){if(null!==t)return t}function sI(t){var n={};if(!lr(t))return n;var e=t;for(var i in e)if(v.prototype.hasOwnProperty.call(e,i)){var r=e[i];gr(r)&&(n[i]=r)}return n}function aI(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:oI(t.streamActivityMonitorID),adTagParameters:lr(t.adTagParameters)?t.adTagParameters:{},authToken:oI(t.authToken),omidAccessModeRules:t.omidAccessModeRules?sI(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var i=t.videoID,r=t.contentSourceID;return i?r?na({},e,{availabilityType:"vod",videoID:i,contentSourceID:r}):void Wi.nu("A VOD DAI configuration was provided without valid contentSourceID which is required."):void Wi.nu("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?na({},e,{availabilityType:"live",assetKey:u}):void Wi.nu("A Live DAI configuration was provided without valid assetKey which is required.")}Wi.nu("A DAI configuration was provided without a valid availabilityType which is required.")}function cI(t){if(!Pk(t)||!t.integration)return t;switch(t.integration){case tk:return n=t,e=Vk(da.Pu,n),i=Vk(da.Du,n),r=n[da.Bu]&&Vk(da.Bu,n),na({integration:"keyos",widevine:e,playready:i},r?{fairplay:r}:{});default:return t}var n,e,i,r}ki(),Vt(),ki(),Vt(),(WE=zE||(zE={})).NONE="",WE.HORIZONTAL="horizontal",WE.VERTICAL="vertical",ki(),Vt(),(GE=jE||(jE={})).NONE="",GE.PM360="360",GE.PM180="180",ki(),Vt(),ki(),Vt(),ki(),Vt(),(XE=YE||(YE={})).dN="auto",XE.jC="always",XE.GC="never",XE.CLEAR_ONLY="clear-only",XE.SAME_DRM_ONLY="same-drm-only",ki(),Vt(),(KE=$E||($E={})).dN="auto",KE.YC="playlist",KE.XC="media",(ZE=JE||(JE={})).VERIZON_MEDIA="verizon-media",ZE.MEDIATAILOR="mediatailor",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(tI=QE||(QE={})).ASSET="asset",tI.CHANNEL="channel",tI.EVENT="event",ki(),Vt();var fI="https://content.uplynk.com";function hI(t){if(!t)return!0;var n,e,i=!(sm(n=t.sources)||dr(n)&&sm(n[0]))||am(t.sources),r=!t.ads||(!(e=t.ads)||vr(e)&&0===e.length),u=""!==t.poster&&!t.poster;return i&&r&&u}function vI(t){if(t&&t.sources)return dI(t.sources)}function dI(t){return gr(t)?t:um(t)?t.src:dr(t)&&t.length>0?dI(t[0]):void 0}function lI(t,n,e){return em(t)?function(t,n,e){var i=na({},cm(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:JE.VERIZON_MEDIA,id:"",prefix:fI,preplayParameters:{},playbackUrlParameters:{},assetType:QE.ASSET,contentProtected:!1,assetInfo:!0});i.id=function(t){if(gr(t))return t;if(dr(t)&&gr(t[0]))return t;if(lr(n=t)&&gr(n.userId)&&(dr(n.externalId)||gr(n.externalId)))return t;var n;return""}(t.id),t.preplayParameters&&(i.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(i.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(i.assetType=function(t){switch(t){case"channel":return QE.CHANNEL;case"event":return QE.EVENT;case"asset":default:return QE.ASSET}}(t.assetType));t.contentProtected&&(i.contentProtected=ay(t.contentProtected));t.assetInfo?i.assetInfo=ay(t.assetInfo):i.assetInfo="asset"===i.assetType;t.prefix&&(i.prefix=vy(t.prefix)||fI);return i.ping=function(t,n){var e=!1,i=!1,r=!1;n?(e=!!yr(n.adImpressions)&&n.adImpressions,i=!!yr(n.freeWheelVideoViews)&&n.freeWheelVideoViews,r=yr(n.linearAdData)?n.linearAdData:t!==QE.ASSET):t!==QE.ASSET&&(r=!0);return{adImpressions:e,freeWheelVideoViews:i,linearAdData:r}}(i.assetType,t.ping),i=yI(i=mI(i=gI(i,t),n,e),t,e)}(t,n,e):im(t)?function(t,n,e){var i;return na({},wI(t,n,e),{integration:JE.MEDIATAILOR,adParams:null!=(i=t.adParams)?i:{}})}(t,n,e):wI(t,n,e)}function wI(t,n,e){var i=fm(),r=n&&(n.contentProtection||n.drm);if(gr(t)){if(i.src=t,i.type=tm(t),r){var u=uE(r);i.contentProtection=cI(u)}}else if(um(t)||nm(t)){i.src=t.src,i.type=t.type||tm(t.src),i.isAdvertisement=t.isAdvertisement;var o=om(t)?t.hesp:void 0;void 0!==o&&(i.hesp=o),im(t)&&(i.integration=t.integration);var s=uE(t.contentProtection||t.drm||r);i.contentProtection=cI(s),t.ssai&&(i.ssai=function(t){switch(t.integration){case"google-dai":return aI(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),i=gI(i,t)}return i=yI(i=mI(i,n,e),t,e)}function gI(t,n){var e,i;n.useCredentials?t.crossOrigin=qy.Pw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case qy.Dw:case qy.Pw:return t;default:return qy.Aw}}(n.crossOrigin)),gr(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=ay(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=ay(n.useNativePlayback)),n.dash&&(t.dash=rI(n.dash)),n.hls&&(t.hls={discontinuityAlignment:uI(null==(e=n.hls)?void 0:e.discontinuityAlignment),useLegacy:(i=null==e?void 0:e.useLegacy,fr(i)?Boolean(i):void 0)}),n.lcevc&&(t.lcevc=ay(n.lcevc));var r=cy(n.experimentalRendering);void 0!==r&&(t.experimentalRendering=r);var u=cy(n.nativeUiRendering);return void 0!==u&&(t.nativeUiRendering=u),t}function yI(t,n,e){return t.abr=function(t,n){var e;if(fr(t)||fr(n))return Um(Vm(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),Vm(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(e=null==t?void 0:t.restrictToPlayerSize)?e:null==n?void 0:n.restrictToPlayerSize)}(gr(n)?void 0:Fm(n.abr),null==e?void 0:e.abr),t}function mI(t,n,e){var i,r=n&&n.timeServer;return e&&e.liveOffset&&!fr(t.liveOffset)&&(t.liveOffset=e.liveOffset),e&&e.hlsDateRange&&!fr(t.hlsDateRange)&&(t.hlsDateRange=e.hlsDateRange),t.crossOrigin===qy.Aw&&(null==n||null==(i=n.vr)?void 0:i[360])&&(t.crossOrigin=qy.Dw),t.useCredentials=t.crossOrigin===qy.Pw,gr(r)&&!t.timeServer&&(t.timeServer=r),t}function _I(t){var n={src:""};if(t&&t.src){if(n.src=vy(t.src),"default"in t&&(n.default=ay(t.default)),n.kind=Tb(t.kind),function(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var e=t.srclang;"string"==typeof e&&""!==e&&(n.srclang=e)}if("label"in t){var i=t.label;"string"==typeof i&&""!==i&&(n.label=i)}}return n}function pI(t,n){if(wr(t))try{return n.tC(t).$C(t)}catch(t){return}}function bI(t){return gr(t.sources)&&""!==t.sources||lr(t.sources)&&gr(t.sources.src)}function kI(t){return t.integration===kE.SPOTX&&!g(t.id)}function TI(t){return"freewheel"===t.integration}function SI(t,n,e){if(void 0===e&&(e=qE.bi),hI(t))return{sources:[fm()]};var i=ry(t);if(i.sources=function(t,n,e){if(sm(t))return[lI(t,n,e)];if(dr(t)&&sm(t[0])){for(var i=[],r=0;r<t.length;r++){var u=t[r];i.push(lI(u,n,e))}return i}return[fm()]}(i.sources,i,n),"contentProtection"in i&&delete i.contentProtection,"drm"in i&&delete i.drm,"ads"in i){var r=function(t,n){if(!dr(t))return[];for(var e=[],i=0;i<t.length;i++){var r=t[i];(r=pI(r,n))&&(bI(r)||kI(r)||TI(r))&&e.push(r)}return e}(i.ads,e);0===r.length?delete i.ads:i.ads=r}var u,o,s,a,c=!am(i.sources),f=i.ads&&i.ads.length>0;if(c&&!f?delete i.ads:f&&!c&&(i.sources=[]),"textTracks"in i){var h=function(t){if(!dr(t))return[];for(var n=[],e=0;e<t.length;e++){var i=t[e];""!==(i=_I(i)).src&&n.push(i)}return n}(i.textTracks);0===h.length?delete i.textTracks:i.textTracks=h}if("poster"in i&&(i.poster=vy(i.poster)),"vr"in i&&(i.vr=(u=i.vr,(s=u||{}).stereoMode=function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(o=s.stereoMode)?o:"",{panoramaMode:iI(s.panoramaMode,Boolean(s[360])),stereoMode:s.stereoMode?eI(s.stereoMode):zE.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in i||(null==n?void 0:n.analytics)){var v=vm(i.analytics),d=n&&n.analytics||[];i.analytics=function(t,n){for(var e=function(e){var r=n[e];!t.some((function(t){return t.integration===r.integration}))&&r.integration!==nI&&i.push(r)},i=ry(t),r=0;r<n.length;r++)e(r);return i}(v,d)}return"mutedAutoplay"in i&&(i.mutedAutoplay=Hm(i.mutedAutoplay)),"timeServer"in i&&delete i.timeServer,"playAdsAfterTime"in i&&(i.playAdsAfterTime=fy(i.playAdsAfterTime)),i.blockContentIfAdError=void 0!==(a=i.blockContentIfAdError)&&"boolean"==typeof a&&Boolean(a),i}Ti(),ki(),Vt(),ki(),Vt(),ki(),Vt();var EI,II=((EI=function(t){this.JC=t}).prototype.KC=function(t){var n,e,i,r,u,o,s,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.JC.charAt(64);for(n=0;n<t.length;n+=4)e=(s=this.JC.indexOf(t.charAt(n))<<18|this.JC.indexOf(t.charAt(n+1))<<12|(u=this.JC.indexOf(t.charAt(n+2)))<<6|(o=this.JC.indexOf(t.charAt(n+3))))>>>16&255,i=s>>>8&255,r=255&s,a[n/4]=String.fromCharCode(e,i,r),64===o&&(a[n/4]=String.fromCharCode(e,i)),64===u&&(a[n/4]=String.fromCharCode(e));return a.join("")},EI.prototype.ZC=function(t,n){var e,i,r,u,o,s,a,c=[],f="";if((s=t.length%3)>0)for(;s++<3;)f+=this.JC.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(e=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=e>>12&63,u=e>>6&63,o=63&e,c[s/3]=this.JC.charAt(i)+this.JC.charAt(r)+this.JC.charAt(u)+this.JC.charAt(o);return a=(a=c.join("")).slice(0,a.length-f.length),n||(a+=f),a},EI.q_=new EI(function(){var t,n,e,i,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],e=0;e<n.length;e+=1)i=n.charAt(e),-1===r.indexOf(i)&&r.push(i);return r.join("")}()),EI.QC=new EI(EI.q_.KC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),EI);function RI(t){return"string"==typeof t}function NI(t){return"number"==typeof t}ki(),Vt(),ki(),Vt(),ki(),Vt();var OI={}.toString;var CI,AI=Array.isArray||function(t){return"[object Array]"===OI.call(t)};function DI(t,n){return AI(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(CI||(CI={}));var PI,xI,BI=v.keys(CI).map((function(t){return CI[t]}));function LI(t){return-1!==BI.indexOf(t)}(xI=PI||(PI={})).HESP="hesp",xI.MULTIVIEW="multiview";var MI,FI=v.keys(PI).map((function(t){return PI[t]}));function UI(t){return-1!==FI.indexOf(t)}function VI(t){try{var n=II.QC.KC(t),e=JSON.parse(n);if(!function(t,n){var e,i=function(t){return"object"==typeof t&&null!==t}(t),r=RI(t.key),u=RI(t.customer_id),o=NI(t.generation_date),s=NI(t.expiration_date),a=DI(t.domains_page,RI),c=DI(t.domains_source,RI),f=DI(t.sdks,n?LI:RI),h=(v=t.send_impression,"boolean"==typeof v);var v;t.features?e=DI(t.features,n?UI:RI):(e=!0,t.features=[]);if(!(i&&r&&u&&o&&s&&a&&c&&f&&h&&e))return!1;return!0}(e,!1))throw new f("The provided license could not be decoded correctly.");return e}catch(t){throw new f("The provided license could not be decoded correctly.")}}function HI(){return MI||(MI={av:_i.href,tA:mi.parent&&mi.parent!==e,nA:jI()}),MI}var qI,zI,WI=["http:","https:","ftp:","ws:","wss:"];function jI(){try{return mi.top.location.href}catch(t){return mi&&mi.document&&mi.document.referrer}}(zI=qI||(qI={}))[zI.eA=0]="eA",zI[zI.iA=1]="iA",zI[zI.rA=2]="rA";var GI,YI,XI=function(t,n,e,i,r,u,o,s,a){void 0===r&&(r=[]),void 0===u&&(u=""),void 0===o&&(o=Date.now()),void 0===s&&(s=[]),void 0===a&&(a=!0),this.uA=t,this.oA=n,this.sA=e,this.aA=i,this.cA=r,this.fA=u,this.hA=o,this.vA=s,this.dA=a};(YI=GI||(GI={})).iA="expired",YI.lA="invaliddomain",YI.wA="invalidsource",YI.gA="invalidfeature",YI.nw="error";var $I=function(){function t(t,n,e){this.yA=t,this.mA=n,this.Ys=e,this._A=nR(this.Ys)}var n=t.prototype;return n.pA=function(t,n){var e=[];sm(t.sources)?e=[t.sources]:dr(t.sources)&&(e=t.sources),this.bA(t,e,n),this.kA(e,n)},n.bA=function(t,n,e){var i=this;if(!hI(t)&&0!==e.sA.length&&!ZI(e.sA)&&!n.every((function(t){return i.TA(t,e)}))){var r="invalidsource",u=rR.SA(r);throw new Fd(KI(r),u)}},n.kA=function(t,n){for(var e=0;e<t.length;e++){var i=t[e];um(i)&&om(i)&&this.EA([PI.HESP],n)}},n.IA=function(n){return this.RA(n.vA)&&this.NA(n)?t.OA(n.aA)?0:1:2},n.EA=function(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(!nc(n.cA,i)){var r="invalidfeature",u=rR.CA(r,i);throw new Fd(KI(r),u)}}},n.RA=function(t){var n=this;return 0===t.length||t.some((function(t){return n.AA(t)}))},n.AA=function(t){return"tvos"===function(t){switch(t){case CI.ANDROID:return ji.Dn;case CI.ANDROIDTV:case CI.FIRETV:return ji.Pn;case CI.IOS:return ji.xn;case CI.TVOS:return ji.Bn;case CI.CHROMECAST:case CI.CHROMECASTCAF:return ji.Ln;default:return ji.An}}(t)},n.NA=function(t){return!(this._A&&0!==t.oA.length&&!ZI(t.oA))||!!(this._A&&this.DA(t.oA)&&this.PA(t.oA))},n.DA=function(t){return QI(this.Ys.av,t)},n.PA=function(t){if(!this.Ys.tA)return!0;if(this.yA)return!0;var n=this.xA();return!!n&&QI(n,t)},n.xA=function(){if(this.Ys.tA){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ys.nA?this.Ys.nA:void 0}},n.TA=function(n,e){return!!t.BA(n,e.sA)},t.OA=function(t){var n=Number(new Date);return!!t&&n<=t},t.BA=function(t,n){return QI(this.LA(t),n)},t.LA=function(t){return gr(t)?t:um(t)&&t.src||""},t}();function KI(t){switch(t){case"invaliddomain":return Dd.LICENSE_INVALID_DOMAIN;case"invalidsource":return Dd.LICENSE_INVALID_SOURCE;case"expired":return Dd.LICENSE_EXPIRED;case"invalidfeature":return Dd.LICENSE_INVALID_FEATURE;case"error":return Dd.LICENSE_ERROR}}function JI(t,n){var e=t,i=n;if(!e)return!1;if("*"===(i=i.trim()))return!0;if(i===(e=e.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+r+o+r+o+r+o+"\\)"),a=i.match(s),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var f=new RegExp("^"+a[1]+r+c(a[2])+r+c(a[3])+r+c(a[4])+"$");return null!==e.match(f)}return i="."+i,-1!==e.indexOf(i,e.length-i.length)}function ZI(t){return t.some((function(t){return"*"===t}))}function QI(t,n){var e=Wi.gu(t);if(!tR(e))return!0;for(var i=0;i<n.length;i++){var r=n[i];if(JI(e.hostname,r))return!0;if(JI(tw(t),r))return!0}return!1}function tR(t){return-1!==WI.indexOf(t.protocol)}function nR(t){var n=Wi.gu(t.av);return tR(n)&&!JI(n.hostname,"localhost")&&!function(t){return JI(t.hostname,"theoplayer.doubleclick.net")}(n)}var eR,iR,rR=function(){function t(){}return t.CA=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.SA=function(t){return"invaliddomain"===t?this.MA:"invalidsource"===t?this.FA:"expired"===t?this.UA:"invalidfeature"===t?this.VA:this.HA},t}();function uR(t){var n=[t.gT,t.qA,t.zA];switch(t.qA){case 1:n.push(t.dw);break;case 4:n.push(t.Gw),n.push(t.xo);break;case 5:n.push(t.xo)}return n}rR.HA="The license for this player is invalid.",rR.UA="The usage license for this video player has expired.",rR.MA="The current domain is incompatible with the license for this player.",rR.FA="The provided video source is incompatible with the license for this player.",rR.VA="The requested feature is not available with the license for this player.",ki(),Vt(),Ri(),ki(),Vt(),(iR=eR||(eR={}))[iR.WA=1]="WA",iR[iR.jA=4]="jA",iR[iR.GA=5]="GA",ki(),Vt();var oR,sR=new Array(256);for(oR=0;oR<256;oR+=1)sR[oR]=(oR<16?"0":"")+oR.toString(16);function aR(){var t=au(),n=(4294967296*d.random()|0)+t&3029421624,e=(4294967296*d.random()|0)+t&3595553209,i=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return sR[255&n]+sR[n>>>8&255]+sR[n>>>16&255]+sR[n>>>24&255]+"-"+sR[255&e]+sR[e>>>8&255]+"-"+sR[e>>>16&15|64]+sR[e>>>24&255]+"-"+sR[63&i|128]+sR[i>>>8&255]+"-"+sR[i>>>16&255]+sR[i>>>24&255]+sR[255&r]+sR[r>>>8&255]+sR[r>>>16&255]+sR[r>>>24&255]}function cR(){return Wi.Qr()}ki(),Vt(),ki(),Vt(),ki(),Vt();var fR,hR="theoplayer-session-id";function vR(){if(!fR){var t=el.qo(hR);t?fR=t:(fR=aR(),el.Uf(hR,fR))}return fR}ki(),Vt(),Ti(),ki(),Vt();var dR=/[^\x00-\x7E]/g;function lR(t){return"\\u"+function(t,n,e){void 0===e&&(e=" ");var i=e,r=(0|n)-t.length;return r<=0?t:(r>i.length&&(i+=function(t,n){var e=0|n;if(0===t.length||0===e)return"";for(var i=t,r="";1==(1&e)&&(r+=i),0!=(e>>>=1);)i+=i;return r}(i,r/i.length)),i.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var wR="https://license.theoplayer.com";function gR(t){var n,e,i,r,u,o=(n=function(t){return[t.YA,t.Cc,t.uA,t.yb,t.XA,t.$A,t.KA.map(uR)]}(t),e=[],i=n,r=function(t,n){if(lr(n)){if(-1!==e.indexOf(n))return null;e.push(n)}return n},JSON.stringify(i,r,u).replace(dR,lR));return II.QC.ZC(o)}var yR=function(){function t(t,n,e,i,r,u){void 0===i&&(i=II.q_),void 0===r&&(r=0),void 0===u&&(u=1);var o=this;this.Xa=t,this.mS=n,this.JA=e,this.ZA=i,this.QA=r,this.tD=u,this.nD=[],this.eD=null,this.iD=0,this.rD="unknown",this.Sa=0,this.uD=function(){cR()-o.iD>6e4&&o.V()},this.oD=function(){o.V(!0)},yi.Rn(this.oD),this.sD=a(this.uD,6e4)}var n=t.prototype;return n.aD=function(){return Boolean(this.XA)},n.cD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.JA.fD()];case 1:return i.sent().dA?(e={qA:eR.WA,zA:au(),dw:t},[4,n.hD(e)]):[2];case 2:return i.sent(),[2]}}))}))()},n.vD=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){switch(r.label){case 0:return i={qA:eR.jA,zA:au(),Gw:n,xo:t},[4,e.hD(i)];case 1:return r.sent(),[2]}}))}))()},n.dD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return e={qA:eR.GA,zA:au(),xo:t},[4,n.hD(e)];case 1:return i.sent(),[2]}}))}))()},n.hD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.JA.fD()];case 1:return e=i.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.ZA.ZC(e.uA)&&t.qA!==eR.GA?[2]:(t.qA===eR.WA?n.lD():n.aD()||n.lD(),t.gT=n.Sa++,n.nD.push(t),(r=t.qA)!==eR.WA&&r!==eR.GA?[3,3]:[4,n.V()]);case 2:return i.sent(),[3,5];case 3:return n.nD.length>n.QA?[4,n.wD()]:[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}var r}))}))()},n.V=function(t){void 0===t&&(t=!1);var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return n.nD.length>0?[4,n.wD(t)]:[3,2];case 1:return e.sent(),[3,0];case 2:return[2]}}))}))()},n.gD=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.JA.fD()];case 1:return e=i.sent(),[2,{YA:au(),Cc:vR(),uA:n.ZA.ZC(e.uA)||"dev",yb:n.Xa,XA:n.eD,$A:n.rD,KA:t}]}}))}))()},n.wD=function(t){void 0===t&&(t=!1);var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return e=n.nD.splice(0,n.tD),[4,n.gD(e)];case 1:return i=r.sent(),t?n.Pv(i):n.yD(i),n.iD=cR(),[2]}}))}))()},n.yD=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:e=gR(t),i=new Gl({av:wR,zh:e,Av:!1,ev:al.Ii,nv:{"Content-Type":ST.$E},Rv:4e3,Iv:Ml.POST}),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,n.mS.ov(i)];case 2:return[4,r.sent().Vh()];case 3:return r.sent(),[3,5];case 4:return r.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+e,[3,5];case 5:return[2]}}))}))()},n.Pv=function(t){var n=gR(t);this.mS.Pv({av:wR,zh:n,qh:ST.$E})},n.lD=function(){this.aD()&&this.V(),this.eD=aR(),this.Sa=0},n.kn=function(){yi.Nn(this.oD),c(this.sD),this.V()},Ii(t,[{key:"KA",get:function(){return this.nD}},{key:"XA",get:function(){return this.eD}}]),t}();ki(),Vt(),Ri(),Mi(),ki(),Vt(),Mi();var mR=sr.ei||sr.He&&sr.ai<13;function _R(t,n,e){var i=t.getImageData(n,e,1,1).data;return 0===i[0]&&0===i[1]&&0===i[2]&&0===i[3]}var pR=function(){function t(t){this.Zd=void 0,this.mD=void 0,this.aN=t}var n=t.prototype;return n._D=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];var r;if(!t||!t.drawImage)return!1;var u=this.aN.Hg();return!!u&&((r=t).drawImage.apply(r,[u].concat(Bi(e))),!0)},n.pD=function(t,n,e,r,u,o){if(!t||!t.texImage2D)return!1;var s=this.aN,a=s.Hg();if(!a)return!1;if(mR){this.mD||(this.mD=i.createElement("canvas"));var c=this.mD,h=c.getContext("2d"),v=s.ng,d=s.tg,l=c.width,w=c.height;h.clearRect(0,0,c.width,c.height),l===v&&w===d||(c.width=v,c.height=d),h.drawImage(a,0,0,v,d);var g=!1;v>0&&_R(h,v-1,0)&&(c.width=l,g=!0),d>0&&_R(h,0,d-1)&&(c.height=w,g=!0),g&&h.drawImage(a,0,0,v,d),a=c}try{t.texImage2D(n,e,r,u,o,a)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},Ii(t,[{key:"Qd",get:function(){return this.Zd||(this.Zd=(t=this,{drawImage:function(n){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var u;return(u=t)._D.apply(u,[n].concat(Bi(i)))},texImage2D:function(n,e,i,r,u,o){return t.pD(n,e,i,r,u,o)}}));var t}}]),t}();ki(),Vt(),Ri(),ki(),Vt();var bR=function(t){function n(n,e){var i;return(i=t.call(this,"bD")||this).um=n,i.Kb=e,i}return Xi(n,t),n.prototype.tl=function(){return new kR(this.um,this.Kb)},n}(Hg),kR=function(t){function n(n,e){var i;return(i=t.call(this,"dimensionchange")||this).width=n,i.height=e,i}return Xi(n,t),n}(Sc);ki(),Vt(),Ri(),ki(),Vt();var TR=function(t,n){this.Zg=t,this.kD=n};Ti();var SR=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).TD=0,i.SD=0,i.ED=function(t){if(t.length>0){var n=t[t.length-1].contentRect;i.SD=n.width,i.TD=n.height,i.kD(i.SD,i.TD)}},i.RD=new mi.ResizeObserver(i.ED),i.RD.observe(i.Zg),i}return Xi(n,t),n.prototype.kn=function(){this.RD.disconnect()},Ii(n,[{key:"ND",get:function(){return this.TD}},{key:"OD",get:function(){return this.SD}}]),n}(TR);ki(),Vt(),Ri(),ki(),Vt();var ER=0;var IR,RR=s,NR=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,OR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;NR&&OR||(NR=function(t){var n=cR(),e=d.max(0,16-(n-ER)),i=o((function(){return t(n+e)}),e);return ER=n+e,i},OR=RR),NR=NR.bind(t),OR=OR.bind(t),ki(),Vt(),Ti();var CR=["Webkit","Moz","O","ms"],AR=(function(){var t=!1;try{if(void 0!==mi&&"function"==typeof mi.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});mi.addEventListener("testPassiveEventSupport",pr,n),mi.removeEventListener("testPassiveEventSupport",pr,n)}}catch(t){}}(),ua());function DR(t){return AR.has(t)||AR.set(t,function(t){var n=(IR||(IR=mi&&mi.document&&mi.document.createElement("span")),IR);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<CR.length;i++){var r=CR[i]+e;if(void 0!==n.style[r])return r}return t}(t)),AR.get(t)}function PR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function xR(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[DR("transition")]="0s"}var BR=function(t){function n(n,r,u){var s;(s=t.call(this,n,r)||this).CD=0,s.SD=NaN,s.TD=NaN,s.DD=void 0,s.Fc=function(){s.PD.style.width="100000px",s.PD.style.height="100000px",s.xD.scrollLeft=1e5,s.xD.scrollTop=1e5,s.BD.scrollLeft=1e5,s.BD.scrollTop=1e5,0===s.BD.scrollTop&&NR(s.Fc)},s.LD=function(){var t=s.OD,n=s.ND;s.kD(t,n),s.SD=t,s.TD=n,s.Fc(),s.CD=0},s.MD=function(){if(!s.CD){var t=s.OD,n=s.ND;t===s.SD&&n===s.TD||(s.CD=NR(s.LD))}},s.FD=function(){s.DD||(s.DD=o(s.UD,66))},s.UD=function(){s.DD=void 0,s.VD()},s.VD=function(){s.MD()};var a=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==a||(n.style.position="relative");var c,f=i.createElement("div");return s.HD=f,s.xD=i.createElement("div"),s.PD=i.createElement("div"),s.BD=i.createElement("div"),s.qD=i.createElement("div"),PR(s.xD),PR(s.BD),xR(s.PD),xR(c=s.qD),c.style.width="200%",c.style.height="200%",f.appendChild(s.xD),f.appendChild(s.BD),s.xD.appendChild(s.PD),s.BD.appendChild(s.qD),n.appendChild(f),s.xD.addEventListener("scroll",s.MD),s.BD.addEventListener("scroll",s.MD),e&&e.addEventListener("resize",s.FD),s.MD(),s}return Xi(n,t),n.prototype.kn=function(){OR(this.CD),this.CD=0,this.xD.removeEventListener("scroll",this.MD),this.BD.removeEventListener("scroll",this.MD),Cs(this.HD),e&&e.removeEventListener("resize",this.FD)},Ii(n,[{key:"ND",get:function(){return this.Zg.getBoundingClientRect().height||this.TD||0}},{key:"OD",get:function(){return this.Zg.getBoundingClientRect().width||this.SD||0}}]),n}(TR);Ti();var LR=function(t){function n(n){var e;return(e=t.call(this)||this).RD=void 0,e.ED=function(t,n){e.mo(new bR(t,n))},e.Zg=n,e}Xi(n,t);var e=n.prototype;return e.Lc=function(t){this.RD||("function"==typeof mi.ResizeObserver?this.RD=new SR(this.Zg,this.ED):this.RD=new BR(this.Zg,this.ED,t))},e.kn=function(){this.To(),this.RD&&(this.RD.kn(),this.RD=void 0)},Ii(n,[{key:"ND",get:function(){return this.RD?this.RD.ND:0}},{key:"OD",get:function(){return this.RD?this.RD.OD:0}}]),n}(pc);ki(),Vt(),Ri(),ki(),Vt();var MR=function(t){function n(){return t.call(this,$S.ll)}return Xi(n,t),n}(Sc);ki(),Vt();!function(){if(i)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var e=t[n];if(e[1]in i)return{zD:e[0],WD:e[1],jD:e[2],GD:e[3],YD:e[4],XD:e[5]}}}();ki(),Vt();var FR=function(t){function n(){return t.call(this,$S.vO)}return Xi(n,t),n}(Sc),UR=function(t){function n(n,e){var i;return(i=t.call(this)||this).$D=!1,i.KD=function(){return i.Ec()},i.FO=function(t){i.$D||i.mo(t)},i.aN=n,i.JD=e,i.ZD=nE,i.QD(),i.aN.po(ol.Zf,i.KD),i.Ec(),i}Xi(n,t);var e=n.prototype;return e.Py=function(){this.JD&&this.ZD.Py()},e.By=function(){this.ZD.By()},e.QD=function(){this.ZD.po($S.ll,this.FO),this.ZD.po($S.nw,this.yo)},e.tP=function(){this.ZD.So($S.ll,this.FO),this.ZD.So($S.nw,this.yo)},e.Ec=function(){var t=this.ZD,n=this.aN.qg();if(t!==n){this.$D=!0;var e=this.dO,i=this.lO;e&&this.By(),this.tP(),this.ZD=n,this.QD(),e&&!this.dO&&this.lO?this.Py():this.By(),this.$D=!1,i!==this.lO&&this.mo(new FR),e!==this.dO&&this.mo(new MR)}},e.kn=function(){this.To(),this.tP(),this.aN.So(ol.Zf,this.KD)},Ii(n,[{key:"lO",get:function(){return!!this.JD&&this.ZD.lO}},{key:"dO",get:function(){return this.ZD.dO}}]),n}(pc);function VR(t){var n;return{get url(){return t.av},get method(){return t.Iv},get headers(){return n||(n=t.nv.Ph()),n},get body(){return t.zh},get useCredentials(){return t.Av},get type(){return t.Mu},get subType(){return t.Ov},get mediaType(){return t.Cv},get responseType(){return t.ev}}}function HR(t){switch(t.toLowerCase()){case"arraybuffer":return al.Ch;case"json":return al.Ah;case"stream":return al.Dh;case"text":default:return al.Ii}}function qR(t){switch(t.toUpperCase()){case"POST":return Ml.POST;case"PUT":return Ml.PUT;case"DELETE":return Ml.DELETE;case"HEAD":return Ml.HEAD;case"OPTIONS":return Ml.OPTIONS;case"GET":default:return Ml.GET}}function zR(t){switch(t.toLowerCase()){case"manifest":return Ul.hv;case"segment":return Ul.vv;case"preload-hint":return Ul.dv;case"content-protection":return Ul.lv;default:return Ul.fv}}function WR(t){switch(t.toLowerCase()){case"initialization-segment":return Hl.wv;case"fairplay-license":return Hl.gv;case"fairplay-certificate":return Hl.yv;case"widevine-license":return Hl.mv;case"widevine-certificate":return Hl._v;case"playready-license":return Hl.pv;case"clearkey-license":return Hl.bv;case"aes128-key":return Hl.kv;default:return Hl.fv}}function jR(t){switch(t.toLowerCase()){case"audio":return zl.Tv;case"video":return zl.Sv;case"text":return zl.Ii;case"image":return zl.Ev;case"":default:return zl.fv}}ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),Ri();var GR=function(){function t(t,n){this.nP=t,this.eP=n,this.iP=new Df,this.rP=[],this.Zd=void 0,this.uP=!1,this.jv=void 0,this.oP=0}var n=t.prototype;return n.ub=function(){this.uP=!0,this.iP.rs(null)},n.sP=function(){this.iP.us(new yl(this.rP))},n.aP=function(t){if(!this.cP)throw new h("Cannot respond more than once");if(!lr(t))throw new h("Expected valid response");this.jv=this.fP(t),this.ub()},n.hP=function(){try{var t=this.eP(this.Qd);t?this.vP(t):this.dP||this.lP||this.ub()}catch(t){this.rP.push(t),this.sP()}},n.vP=function(t){if(this.lP)throw new f("Request has been redirected or a response already exists");if(mr(t))this.wP(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new Df;try{var e=t((function(t){t?n.us(t):n.rs(void 0)}));mr(e)&&n.ho(e)}catch(t){n.us(t)}this.wP(n.es)}},n.wP=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n.oP++,[4,t];case 1:return i.sent(),n.oP--,n.dP||n.lP||(n.rP.length?n.sP():n.ub()),[3,3];case 2:return e=i.sent(),n.oP--,n.rP.push(e),n.dP||n.lP||n.sP(),[3,3];case 3:return[2]}}))}))()},Ii(t,[{key:"gP",get:function(){return this.iP.es}},{key:"Qd",get:function(){return this.Zd||(this.Zd=this.yP()),this.Zd}},{key:"lP",get:function(){return this.uP}},{key:"cP",get:function(){return!this.uP}},{key:"dP",get:function(){return this.oP>0}},{key:"Gv",get:function(){return this.jv}}]),t}(),YR=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e)||this).mP=i,r.hP(),r}Xi(n,t);var e=n.prototype;return e.yP=function(){return e=VR((t=this).ov),{get closed(){return!t.cP},get request(){return e},get url(){return t.av},get status(){return t.tv},get statusText(){return t.rv},get headers(){return n||(n=t.nv.Ph()),n},get body(){return t.zh},respondWith:function(n){return t.aP(n)},waitUntil:function(n){return t.vP(n)}};var t,n,e},e.fP=function(t){return n._P(t,this.nP,this.mP)},n._P=function(t,n,e){var i=void 0===t.body?e:t.body;return new jl({nr:i,ov:n.ov,ev:n.ov.ev,nv:t.headers,tv:t.status,rv:t.statusText,sv:t.url,uv:!0},n)},Ii(n,[{key:"zh",get:function(){return this.mP}},{key:"nv",get:function(){return this.nP.nv}},{key:"ov",get:function(){return this.nP.ov}},{key:"Gv",get:function(){return this.jv}},{key:"tv",get:function(){return this.nP.tv}},{key:"rv",get:function(){return this.nP.rv}},{key:"av",get:function(){return this.nP.sv}}]),n}(GR);ki(),Vt(),Ri();var XR=function(t){function n(n,e,i){var r;return(r=t.call(this,n,e)||this).pP=void 0,r.bP=i,r.hP(),r}Xi(n,t);var e=n.prototype;return e.yP=function(){return t=this,{get url(){return t.av},get method(){return t.Iv},get headers(){return n||(n=t.nv.Ph()),n},get body(){return t.zh},get closed(){return!t.cP},get useCredentials(){return t.Av},get type(){return t.Mu},get subType(){return t.Ov},get mediaType(){return t.Cv},get responseType(){return t.ev},redirect:function(n){return t.kP(n)},respondWith:function(n){return t.aP(n)},waitUntil:function(n){return t.vP(n)}};var t,n},e.fP=function(t){var n=this.nP.zh,e=new jl({nr:n,nv:{},ov:this.nP,sv:this.nP.av,ev:this.nP.ev,tv:200,rv:"OK"});return YR._P(t,e,n)},e.kP=function(t){if(!this.cP)throw new h("Cannot redirect, already redirected or has a response");var n;n=gr(t)?{url:t}:t,this.pP=function(t,n){return new Gl({av:void 0===t.url?n.av:t.url,Iv:void 0!==t.method?qR(t.method):void 0,nv:t.headers,zh:t.body,Av:t.useCredentials,Mu:void 0!==t.type?zR(t.type):void 0,Ov:void 0!==t.subType?WR(t.subType):void 0,Cv:void 0!==t.mediaType?jR(t.mediaType):void 0,ev:void 0!==t.responseType?HR(t.responseType):void 0},n)}(n,this.nP),this.ub()},Ii(n,[{key:"zh",get:function(){return this.nP.zh}},{key:"cP",get:function(){return this.bP&&!this.uP}},{key:"nv",get:function(){return this.nP.nv}},{key:"Iv",get:function(){return this.nP.Iv}},{key:"TP",get:function(){return this.pP}},{key:"Gv",get:function(){return this.jv}},{key:"ev",get:function(){return this.nP.ev}},{key:"Rv",get:function(){return this.nP.Rv}},{key:"Nv",get:function(){return this.nP.Nv}},{key:"do",get:function(){return this.nP.do}},{key:"Mu",get:function(){return this.nP.Mu}},{key:"Ov",get:function(){return this.nP.Ov}},{key:"Cv",get:function(){return this.nP.Cv}},{key:"av",get:function(){return this.nP.av}},{key:"Av",get:function(){return this.nP.Av}},{key:"Dv",get:function(){return this.nP.Dv}}]),n}(GR);var $R=function(t){function n(n,e){var i;void 0===e&&(e=!0);var r=new KR(n);return(i=t.call(this,r,e)||this).SP=r,i}Xi(n,t);var e=n.prototype;return e.EP=function(t){this.SP.EP(t)},e.IP=function(t){this.SP.IP(t)},e.RP=function(t){this.SP.RP(t)},e.NP=function(t){this.SP.NP(t)},e.OP=function(t){this.SP.OP(t)},n}(Xl),KR=function(){function t(t){this.CP=[],this.AP=[],this.xv=t}var n=t.prototype;return n.ov=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,n.DP(t,t.do)];case 1:return e=r.sent(),[3,5];case 2:return(i=r.sent())instanceof nw?[4,n.PP(i,t.do)]:[3,4];case 3:return[2,r.sent()];case 4:throw i;case 5:return[4,n.xP(e,t.do)];case 6:if(Ll(e=r.sent()))return[2,e];throw new iw(e)}}))}))()},n.Pv=function(t){return this.xv.Pv(t)},n.DP=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:sc(n),i=t,u=0,o=e.CP.slice(),c.label=1;case 1:if(!(u<o.length))return[3,7];if(s=o[u],sc(n),(a=new XR(i,s,!r)).lP)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.gP];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.TP&&!r?i=a.TP:a.Gv&&!r&&(r=a.Gv),c.label=6;case 6:return u++,[3,1];case 7:return r?[2,r]:[2,e.xv.ov(i)]}}))}))()},n.PP=function(t,n){var e=this;return ta((function(){var i,r;return ea(this,(function(u){switch(u.label){case 0:return i=t instanceof iw?t.Gv:new jl({nr:null,ov:t.ov,tv:0,rv:""}),[4,e.xP(i,n)];case 1:if((r=u.sent())===i)throw t;if(Ll(r))return[2,r];throw new iw(r)}}))}))()},n.xP=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:i=t,r=0,u=e.AP.slice(),c.label=1;case 1:return r<u.length?(o=u[r],sc(n),[4,G.resolve(i.Ko().nr(n))]):[3,8];case 2:if(s=c.sent(),(a=new YR(i,o,s)).lP)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.gP];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:i=a.Gv||i,c.label=7;case 7:return r++,[3,1];case 8:return[2,i]}}))}))()},n.EP=function(t){this.CP.unshift(t)},n.IP=function(t){this.CP.push(t)},n.RP=function(t){Qa(this.CP,t)},n.NP=function(t){this.AP.unshift(t)},n.OP=function(t){Qa(this.AP,t)},n.kn=function(){this.xv.kn(),ec(this.CP),ec(this.AP)},t}();ki(),Vt(),Ri();var JR,ZR,QR=function(t){function n(n,e,i){var r;return(r=t.call(this,e)||this).BP=n,r.mS=e,r.kO=i,r.LP=function(t){r.mo(t)},r.MP=function(t){r.mo(t)},r.BP.po(ol.ah,r.LP),r.BP.po(ol.sh,r.MP),r}Xi(n,t);var e=n.prototype;return e.FP=function(t){this.kO.FP(t)},e.EP=function(t){this.mS.EP(t)},e.RP=function(t){this.mS.RP(t)},e.NP=function(t){this.mS.NP(t)},e.OP=function(t){this.mS.OP(t)},e.kn=function(){this.To(),this.BP.So(ol.ah,this.LP),this.BP.So(ol.sh,this.MP)},Ii(n,[{key:"Qd",get:function(){var t;return this.Zd||(this.Zd=(t=this,{get online(){return t.hy},get estimator(){return n=t.UP,{get bandwidth(){return n.DI},get roundTripTime(){return n.xI}};var n},setEstimator:function(n){t.FP(function(t){if(t)return{get DI(){return hy(t.bandwidth)},get xI(){return hy(t.roundTripTime)},AI:function(n){return function(t){if(t)return{VP:function(n){t.markRequestStart(n)},HP:function(n){t.markResponseStart(n)},qP:function(n,e){t.markResponseData(n,e)},zP:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(VR(n)))}}}(n))},addRequestInterceptor:function(n){t.EP(n)},removeRequestInterceptor:function(n){t.RP(n)},addResponseInterceptor:function(n){t.NP(n)},removeResponseInterceptor:function(n){t.OP(n)},addEventListener:function(n,e){t.po(n,e)},removeEventListener:function(n,e){t.So(n,e)}})),this.Zd}},{key:"hy",get:function(){return this.BP.hy}},{key:"UP",get:function(){return this.kO.UP}}]),n}(pc);ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),(ZR=JR||(JR={})).PERFORMANCE="performance",ZR.QUALITY="quality",ZR.BANDWIDTH="bandwidth",ki(),Vt();ki(),Vt();var tN={type:JR.BANDWIDTH};function nN(t){var n,e,i,r=ry(tN);return gr(t)?r.type=eN(t):lr(t)&&function(t){switch(t){case JR.PERFORMANCE:case JR.QUALITY:case JR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=eN(t.type)),lr(t)&&lr(t.metadata)&&(r.metadata=(n=t.metadata,e={},i=fy(n.bitrate),g(i)||(e.bitrate=i),e)),r}function eN(t){switch(t){case"bandwidth":return JR.BANDWIDTH;case"performance":return JR.PERFORMANCE;case"quality":return JR.QUALITY}}function iN(t){return{get strategy(){return{metadata:(n=t.WP).metadata,type:n.type};var n},set strategy(n){t.WP=nN(n)},get targetBuffer(){return t.jP},set targetBuffer(n){var e=fy(n);g(e)||(t.jP=e)},get bufferLookbackWindow(){return t.GP},set bufferLookbackWindow(n){var e=fy(n);g(e)||(t.GP=e<=0?30:e)},get maxBufferLength(){return t.YP}}}ki(),Vt();var rN=function(t){function n(n){var e;return(e=t.call(this,"XP")||this).jP=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var uN=function(t){function n(n){var e;return(e=t.call(this,"$P")||this).WP=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var oN=function(t){function n(n){var e;return(e=t.call(this,"KP")||this).GP=n,e}return Xi(n,t),n}(Sc),sN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Zd=iN(lu(n)),n.JP=tN,n.ZP=20,n.QP=30,n.tx=1/0,n.nx=void 0,n}Xi(n,t);var e=n.prototype;return e.ix=function(t){this.ux=t},e.FP=function(t){this.nx=t},e.ox=function(t){var n=d.min(t,.8*this.tx);if(n=d.max(10,n),this.tx===n)return!1;var e=this.sx;this.tx=n;var i=this.sx;return i!==e&&this.mo(new rN(i)),!0},Ii(n,[{key:"hx",get:function(){switch(this.JP.type){case JR.PERFORMANCE:return 0;case JR.QUALITY:return 1/0;case JR.BANDWIDTH:return this.JP.metadata&&void 0!==this.JP.metadata.bitrate?this.JP.metadata.bitrate:8*Uy.Ew();default:return 8*Uy.Ew()}}},{key:"Qd",get:function(){return this.Zd}},{key:"WP",get:function(){return this.JP},set:function(t){this.JP=t,this.mo(new uN(t))}},{key:"jP",get:function(){return this.ZP},set:function(t){this.ZP=t,this.mo(new rN(t))}},{key:"sx",get:function(){return d.min(this.ZP,this.tx)}},{key:"GP",get:function(){return this.QP},set:function(t){this.QP=t,this.mo(new oN(t))}},{key:"YP",get:function(){return this.tx}},{key:"UP",get:function(){var t;return null!=(t=this.nx)?t:this.ux.XR}}]),n}(pc);Ti(),ki(),Vt(),Ri(),ki(),Vt();var aN=function(t){function n(){return t.call(this,"wl")}return Xi(n,t),n.prototype.tl=function(){return new cN},n}(Hg),cN=function(t){function n(){return t.call(this,"change")}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt();var fN=function(t){function n(n,e,i){var r;(r=t.call(this,i)||this).vx=function(t){qg(t)&&dc((function(){r.mo(t.Qd)}))},r.lx=n,r.nD=e;for(var u=0,o=r.nD;u<o.length;u++){var s=o[u];r.lx.po(s,r.vx)}return r}return Xi(n,t),n.prototype.kn=function(){this.To();for(var t=0,n=this.nD;t<n.length;t++){var e=n[t];this.lx.So(e,this.vx)}},n}(pc),hN=function(t){function n(n,e){var i;return(i=t.call(this,e)||this).vx=function(t){qg(t)&&dc((function(){i.mo(t.Qd)}))},i.lx=n,i.lx.ko(i.vx),i}return Xi(n,t),n.prototype.kn=function(){this.To(),this.lx.Ro(this.vx)},n}(Py);var vN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).zy=0,n.Wy=1/0,n}Xi(n,t);var e=n.prototype;return e.Fc=function(){0===this.zy&&this.Wy===1/0||(this.zy=0,this.Wy=1/0,this.mo(new aN))},e.wx=function(){return new ZS([this.My,this.Fy],[!0,!0])},Ii(n,[{key:"My",get:function(){return this.zy},set:function(t){if(this.Fy<=t)throw new f("Start time of a clip should be smaller than the end time.");this.zy!==t&&(this.zy=t,this.mo(new aN))}},{key:"Fy",get:function(){return this.Wy},set:function(t){if(t<=this.My)throw new f("End time of a clip should be larger than the start time.");this.Wy!==t&&(this.Wy=t,this.mo(new aN))}},{key:"Qd",get:function(){var t,n,e;return this.Zd||(this.Zd=(e={get startTime(){return t.My},set startTime(n){t.My=n},get endTime(){return t.Fy},set endTime(n){t.Fy=n},addEventListener:function(t,e){n.po(t,e)},removeEventListener:function(t,e){n.So(t,e)}},n=new hN(t=this,e),e)),this.Zd}}]),n}(Py);ki(),Vt(),Ri(),ki(),Vt(),Ri();var dN=function(t){function n(n){var e;return(e=t.call(this)||this).gx=n,e.yx=function(t){e.mx(t)||e.mo(t)},e.gx.ko(e.yx),e}Xi(n,t);var e=n.prototype;return e._x=function(){return this.gx.Rg},e.zg=function(){return this.gx.zg()},e.bx=function(){return this.gx.Kg},e.kx=function(){return this.gx.Yg},e.Tx=function(){return this.gx.Jg},e.Sx=function(t){this.gx.Jg=t},e.Ex=function(){return this.gx.Gw},e.Ix=function(t){this.gx.Gw=t},e.Rx=function(){return this.gx.Yw},e.Nx=function(){return this.gx.Zg},e.Ox=function(){return this.gx.Xw},e.Cx=function(){return this.gx.xo},e.Ax=function(){return this.gx.$w},e.Dx=function(){return this.gx.Qg},e.Px=function(){return this.gx.Kw},e.xx=function(t){this.gx.Kw=t},e.Bx=function(){return this.gx.hy},e.Lx=function(){return this.gx.Jw},e.Mx=function(){return this.gx.Zw},e.Fx=function(t){this.gx.Zw=t},e.Ux=function(){return this.gx.vy},e.Vx=function(){return this.gx.ly},e.Hx=function(t){this.gx.ly=t},e.qx=function(){return this.gx.cw},e.zx=function(){return this.gx.wy},e.Wx=function(){return this.gx.Qw},e.Dg=function(){return this.gx.Dg()},e.Pg=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:return sc(n),[4,e.gx.Pg(t,n)];case 1:return i.sent(),[2]}}))}))()},e.jx=function(){return this.gx.Og},e.Gx=function(){return this.gx.tg},e.Yx=function(){return this.gx.Ng},e.Xx=function(){return this.gx.ng},e.$x=function(){return this.gx.eg},e.Kx=function(t){this.gx.eg=t},e.qg=function(){return this.gx.qg()},e.Hg=function(){return this.gx.Hg()},e.Mg=function(t){this.gx.Mg(t)},e.Fg=function(){this.gx.Fg()},e.Vg=function(){this.gx.Vg()},e.En=function(){this.gx.En()},e.yn=function(){this.gx.yn()},e.gn=function(){this.gx.gn()},e.Ug=function(){this.gx.Ug()},e.Ag=function(){return this.gx.Ag()},e.xg=function(){return this.gx.xg()},e.Bg=function(){this.gx.Bg()},e.Lg=function(){this.gx.Lg()},e.Fc=function(){return this.gx.Fc()},e.kn=function(){return this.gx.kn()},e.Xg=function(){this.gx.Xg()},e.$g=function(){this.gx.$g()},e.Wg=function(t){return this.gx.Wg(t)},e.mx=function(t){return!1},Ii(n,[{key:"Rg",get:function(){return this._x()}},{key:"Kg",get:function(){return this.bx()}},{key:"Jg",get:function(){return this.Tx()},set:function(t){this.Sx(t)}},{key:"Yg",get:function(){return this.kx()}},{key:"Gw",get:function(){return this.Ex()},set:function(t){this.Ix(t)}},{key:"Yw",get:function(){return this.Rx()}},{key:"Zg",get:function(){return this.Nx()}},{key:"Xw",get:function(){return this.Ox()}},{key:"xo",get:function(){return this.Cx()}},{key:"$w",get:function(){return this.Ax()}},{key:"Cg",get:function(){return this.gx.Cg}},{key:"Qg",get:function(){return this.Dx()}},{key:"ty",get:function(){return this.gx.ty}},{key:"Kw",get:function(){return this.Px()},set:function(t){this.xx(t)}},{key:"hy",get:function(){return this.Bx()}},{key:"Jw",get:function(){return this.Lx()}},{key:"Zw",get:function(){return this.Mx()},set:function(t){this.Fx(t)}},{key:"vy",get:function(){return this.Ux()}},{key:"ly",get:function(){return this.Vx()},set:function(t){this.Hx(t)}},{key:"cw",get:function(){return this.qx()}},{key:"wy",get:function(){return this.zx()}},{key:"Qw",get:function(){return this.Wx()}},{key:"Og",get:function(){return this.jx()}},{key:"tg",get:function(){return this.Gx()}},{key:"Ng",get:function(){return this.Yx()}},{key:"ng",get:function(){return this.Xx()}},{key:"eg",get:function(){return this.$x()},set:function(t){this.Kx(t)}},{key:"gy",get:function(){return this.gx.gy}},{key:"yy",get:function(){return this.gx.yy},set:function(t){this.gx.yy=t}}]),n}(xy),lN=function(t){function n(e,i){var r;return(r=t.call(this,e)||this).Jx=!1,r.Zx=void 0,r.Qx=!1,r.tB=function(){r.nB(),r.eB()},r.iR=function(){r.iB(),r.eB(),r.rB&&r.Gw>=r.uB.Fy-n.oB&&!r.Xw&&(r.Zx=NR(r.iR))},r.sB=function(){r.Qx=!0},r.aB=function(){r.Qx&&(r.Qx=!1,r.eB())},r.uB=i,r.uB.po("wl",r.tB),r.gx.po("timeupdate",r.iR),r}Xi(n,t);var e=n.prototype;return e.Ix=function(n){var e=this.uB.wx().LN(n);t.prototype.Ix.call(this,e),this.eB()},e.Ox=function(){return t.prototype.Ox.call(this)||this.Jx},e.zx=function(){return ZS.sO(t.prototype.zx.call(this)).UN(this.uB.wx()).WR()},e.gn=function(){this.Ox()?this.Ix(this.cB.start(0)):this.nB(),t.prototype.gn.call(this),this.eB()},e.Pg=function(n,e){var i=this;return ta((function(){return ea(this,(function(r){switch(r.label){case 0:return sc(e),i.Jx=!1,i.uB.Fc(),[4,t.prototype.Pg.call(i,n,e)];case 1:return r.sent(),[2]}}))}))()},e.kn=function(){return this.uB.So("wl",this.tB),this.gx.So("timeupdate",this.iR),this.iB(),t.prototype.kn.call(this)},e.mx=function(n){switch(n.type){case"seeking":return this.mo(n),this.sB(),!0;case"seeked":case"emptied":return this.mo(n),this.aB(),!0;case"ended":if(this.rB)return!0}return t.prototype.mx.call(this,n)},e.iB=function(){this.Zx&&(OR(this.Zx),this.Zx=void 0)},e.eB=function(){var t=this.Gw,e=this.rB&&t>=this.uB.Fy-n.w_;this.Jx&&!e?(this.Jx=!1,this.Jw&&this.gn()):this.Jx||!e||this.Qw||this.Qx||(this.Jx=!0,this.mo(new Sm(t)),this.yn())},e.nB=function(){if(this.Yw!==1/0){var t=this.cB,e=ZS.sO(t).LN(this.Gw);ou(this.Gw,e,n.w_)||this.Ix(e)}},Ii(n,[{key:"cB",get:function(){return this.zx().length?this.zx():this.uB.wx().WR()}},{key:"rB",get:function(){return this.uB.Fy<this.Yw}}]),n}(dN);lN.oB=1,lN.w_=.001,ki(),Vt(),Ri();var wN=function(){function t(){this.fB=!1}return Ii(t,[{key:"hB",get:function(){return this.fB},set:function(t){this.fB=t}}]),t}();ki(),Vt();var gN=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).vB=!1,i.dB=!1,i.fB=e,i}Xi(n,t);var e=n.prototype;return e.Ox=function(){return!this.fB.hB&&t.prototype.Ox.call(this)},e.yn=function(){this.dB=!0,t.prototype.yn.call(this)},e.gn=function(){this.dB=!1,t.prototype.gn.call(this)},e.mx=function(n){if(this.fB.hB)switch(n.type){case"ended":return this.Gw=0,this.dB||(this.Qw?this.vB=!0:this.gn()),!0;case"seeked":this.vB&&(this.vB=!1,this.gn());break;case"pause":if(this.vB||t.prototype.Ox.call(this))return!0}return t.prototype.mx.call(this,n)},n}(dN);ki(),Vt(),Ri(),ki(),Vt();var yN=function(){function t(t){var n;this._N=t,this.Zd=(n=this,{get currentBandwidthEstimate(){return n.uy},get corruptedVideoFrames(){return n.ey},get droppedVideoFrames(){return n.ny},get totalBytesLoaded(){return n.oy},get bufferedSegments(){return n.sy}})}return Ii(t,[{key:"Qd",get:function(){return this.Zd}},{key:"ey",get:function(){return this._N.lB.ty.ey}},{key:"uy",get:function(){return this._N.lB.ty.uy}},{key:"ny",get:function(){return this._N.lB.ty.ny}},{key:"wB",get:function(){throw new f("Not implemented")}},{key:"gB",get:function(){throw new f("Not implemented")}},{key:"oy",get:function(){return this._N.lB.ty.oy}},{key:"iy",get:function(){return this._N.lB.ty.iy}},{key:"sy",get:function(){return this._N.lB.ty.sy}}]),t}();ki(),Vt(),Ri(),ki(),Vt();var mN=function(t){function n(){return t.call(this,"yB")}return Xi(n,t),n.prototype.tl=function(){return new _N},n}(Hg),_N=function(t){function n(){return t.call(this,"castingchange")}return Xi(n,t),n}(Sc);ki(),Vt();var pN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).mB=[],n._B=!1,n.Zd=void 0,n.pB=function(){var t=n._B,e=n.bB;t!==e&&(n._B=e,n.mo(new mN))},n}Xi(n,t);var e=n.prototype;return e.kB=function(t){this.mB.push(t),t.po("statechange",this.pB)},e.kn=function(){for(var t=0,n=this.mB;t<n.length;t++){n[t].So("statechange",this.pB)}ec(this.mB)},Ii(n,[{key:"bB",get:function(){return this.mB.some((function(t){return t.bB}))}},{key:"Qd",get:function(){var t,n,e;return this.Zd||(this.Zd=(e={get casting(){return t.bB},addEventListener:function(t,e){n.po(t,e)},removeEventListener:function(t,e){n.So(t,e)}},n=new fN(t=this,["yB"],e),e)),this.Zd}}]),n}(pc);ki(),Vt(),ki(),Vt();var bN=function(){function t(){}return t.TB=function(t,n){return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e=new Gl({av:t,ev:al.Ii,Iv:Ml.GET}),[4,n.ov(e)];case 1:return[4,i.sent().nr()];case 2:return[2,i.sent().trim()];case 3:return oc(i.sent()),[2,void 0];case 4:return[2]}}))}))()},t.SB=function(t){try{var n=VI(t);return new XI(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new Fd(Dd.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.EB=function(t){void 0===t&&(t=II.q_),Wi.nu("The baked-in license is used. Please update the configuration with your license.");var n=t.KC('.$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl""'),e=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.KC(n)})),i=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.KC(n)})),r=Number(new Date(Number(t.KC('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.KC(n)}));return new XI(n,e,i,r,u)},t.convertLicenseToDummyLicense=function(t){return new XI(t.uA,t.oA,t.sA,864e13,t.cA,t.fA,Date.now(),t.vA,t.dA)},t}();ki(),Vt();var kN=function(){function t(){}return t.Vf=function(){return t.bi||(t.bi=TN.Wc()?new TN:new nl),t.bi},t.jo=function(n){t.Vf().jo(n)},t.Ff=function(){t.Vf().Ff()},t.qo=function(n){return t.Vf().qo(n)},t.Uf=function(n,e){t.Vf().Uf(n,e)},t.IB=function(n){var e=t.qo(n);if(void 0!==e)return w(e)},t.RB=function(n){return"true"===t.qo(n)},t}();kN.bi=void 0;var TN=function(n){function e(){return n.apply(this,arguments)}Xi(e,n);var i=e.prototype;return i.jo=function(n){t.localStorage.removeItem(n)},i.Ff=function(){t.localStorage.clear()},i.qo=function(n){return t.localStorage[n]},i.Uf=function(n,e){t.localStorage[n]=e},e.Wc=function(){var n="foobar";try{return t.localStorage.setItem(n,n),t.localStorage.removeItem(n),!0}catch(t){}return!1},e}(kN),SN="https://validate.theoplayer.com/1/",EN=72e5,IN=d.floor(14399999*d.random()-EN),RN="THEOplayer.license",NN=function(){function t(t,n,e,i,r,u){this.mS=t,this.NB=n,this.OB=e,this.JA=i,this.CB=r,this.Ys=u,this._A=nR(u)}var n=t.prototype;return n.AB=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return[4,t.DB(t.CB.license,t.CB.licenseUrl)];case 1:return n=e.sent(),t.JA.PB(n),[2]}}))}))()},n.DB=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a,c,f;return ea(this,(function(h){switch(h.label){case 0:return i=n,t?r=bN.SB(t):i||(r=bN.EB()),i||(i=SN+r.uA),u=e.xB(),r?(o=e.NB.IA(r))!==qI.eA?[3,3]:e.BB(r.aA)&&e.BB(null==u?void 0:u.aA)?[4,e.LB(i)]:[3,2]:[3,3];case 1:if(s=h.sent())return[2,s];h.label=2;case 2:return[2,r];case 3:return u?e.NB.IA(u)!==qI.eA?[3,6]:e.BB(null==u?void 0:u.aA)?[4,e.LB(i)]:[3,5]:[3,7];case 4:if(a=h.sent())return[2,a];h.label=5;case 5:return[2,u];case 6:kN.jo(RN),h.label=7;case 7:return[4,bN.TB(i,e.mS)];case 8:if(c=h.sent()){if(f=bN.SB(c),e.NB.IA(f)===qI.eA)return kN.Uf(RN,c),[2,f];kN.jo(RN)}else if(!e._A&&r&&o===qI.iA&&i===SN+r.uA)return[2,bN.convertLicenseToDummyLicense(r)];if(!r&&!f)throw new Fd(Dd.LICENSE_ERROR,"The given license is invalid!");return e.MB(null!=r?r:f,new Fd(Dd.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.pA=function(t){var n=this;return ta((function(){var e,i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return[4,n.JA.fD()];case 1:return e=c.sent(),n.BB(e.aA)?(r=null!=(i=n.CB.licenseUrl)?i:SN+e.uA,[4,n.LB(r)]):[3,3];case 2:(u=c.sent())&&(n.JA.PB(u),e=u),c.label=3;case 3:try{if((o=n.NB.IA(e))===qI.rA)throw s=GI.lA,new Fd(KI(s),rR.SA(s));if(o===qI.iA)throw a=GI.iA,new Fd(KI(a),rR.SA(a));n.NB.pA(t,e)}catch(t){n.FB(t)}return[2]}}))}))()},n.EA=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return[4,n.JA.fD()];case 1:e=i.sent();try{n.NB.EA(t,e)}catch(t){n.FB(t)}return[2]}}))}))()},n.LB=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,bN.TB(t,n.mS)];case 1:return void 0===(e=r.sent())?[2,void 0]:(i=bN.SB(e),n.NB.IA(i)===qI.eA?(kN.Uf(RN,e),[2,i]):[2,void 0]);case 2:return r.sent(),[2,void 0];case 3:return[2]}}))}))()},n.BB=function(t){return!t||Number(new Date)+2592e5+IN>=t},n.xB=function(){var t=kN.qo(RN);if(t)return bN.SB(t)},n.MB=function(t,n){this.JA.PB(t),this.FB(n)},n.FB=function(t){throw Cr(t.message),this.OB.dD(t.message),t},t}();ki(),Vt(),Ri();var ON=function(){function t(){this.UB=new Df}var n=t.prototype;return n.PB=function(t){this.VB=t,this.UB.rs()},n.fD=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.VB?[2,G.resolve(t.VB)]:[4,t.UB.es];case 1:return n.sent(),[2,t.VB]}}))}))()},Ii(t,[{key:"HB",get:function(){return this.VB}}]),t}();ki(),Vt(),Ri(),ki(),Vt();var CN=function(t){function n(){return t.call(this,"wl")}return Xi(n,t),n.prototype.tl=function(){return new AN},n}(Hg),AN=function(t){function n(){return t.call(this,"change")}return Xi(n,t),n}(Sc);function DN(t){var n,e={get fontFamily(){return t.qB},set fontFamily(n){t.qB=n},get fontColor(){return t.zB},set fontColor(n){t.zB=n},get fontSize(){return t.WB},set fontSize(n){t.WB=n},get backgroundColor(){return t.jB},set backgroundColor(n){t.jB=n},get windowColor(){return t.GB},set windowColor(n){t.GB=n},get edgeStyle(){return t.YB},set edgeStyle(n){t.YB=n},get marginTop(){return t.XB},set marginTop(n){t.XB=n},get marginBottom(){return t.$B},set marginBottom(n){t.$B=n},get marginLeft(){return t.KB},set marginLeft(n){t.KB=n},get marginRight(){return t.JB},set marginRight(n){t.JB=n},addEventListener:function(t,e){var i=ly(t,vy);n.po(i,e)},removeEventListener:function(t,e){var i=ly(t,vy);n.So(i,e)}};return n=new bc(e),t.po(["wl"],(function(t){return n.mo(t.Qd)})),e}ki(),Vt();var PN={qB:void 0,zB:void 0,WB:void 0,jB:void 0,GB:void 0,YB:void 0,ZB:void 0,XB:void 0,$B:void 0,KB:void 0,JB:void 0},xN="THEOplayer.textTrackStyle.",BN=function(t){function n(){var e;return(e=t.call(this)||this).Zd=void 0,e.QB=n.tL(),e}return Xi(n,t),n.prototype.Ec=function(t){this.QB=na({},this.QB,t),n.nL(this.QB),this.mo(new CN)},n.tL=function(){var t=na({},PN);return t.qB=kN.qo(xN+"fontFamily")||t.qB,t.zB=kN.qo(xN+"fontColor")||t.zB,t.WB=kN.qo(xN+"fontSize")||t.WB,t.jB=kN.qo(xN+"backgroundColor")||t.jB,t.GB=kN.qo(xN+"windowColor")||t.GB,t.YB=kN.qo(xN+"edgeStyle")||t.YB,t},n.nL=function(t){kN.Uf(xN+"fontFamily",t.qB||""),kN.Uf(xN+"fontColor",t.zB||""),kN.Uf(xN+"fontSize",t.WB||""),kN.Uf(xN+"backgroundColor",t.jB||""),kN.Uf(xN+"windowColor",t.GB||""),kN.Uf(xN+"edgeStyle",t.YB||"")},Ii(n,[{key:"eL",get:function(){return this.QB}},{key:"qB",get:function(){return this.QB.qB},set:function(t){this.Ec({qB:t})}},{key:"zB",get:function(){return this.QB.zB},set:function(t){this.Ec({zB:t})}},{key:"WB",get:function(){return this.QB.WB},set:function(t){this.Ec({WB:t})}},{key:"jB",get:function(){return this.QB.jB},set:function(t){this.Ec({jB:t})}},{key:"GB",get:function(){return this.QB.GB},set:function(t){this.Ec({GB:t})}},{key:"YB",get:function(){return this.QB.YB},set:function(t){this.Ec({YB:t})}},{key:"ZB",get:function(){return this.QB.ZB}},{key:"XB",get:function(){return this.QB.XB},set:function(t){this.Ec({XB:t})}},{key:"$B",get:function(){return this.QB.$B},set:function(t){this.Ec({$B:t})}},{key:"JB",get:function(){return this.QB.JB},set:function(t){this.Ec({JB:t})}},{key:"KB",get:function(){return this.QB.KB},set:function(t){this.Ec({KB:t})}},{key:"Qd",get:function(){return this.Zd||(this.Zd=DN(this)),this.Zd}}]),n}(pc);ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();ol.hh,ol.fh,gm.jw,ol.Eh,ol.dh,ol.rh,ol.mh,ol.yh,ol.Jf,ol.lh,ol.Ih,ol.$f,gm.gl,ol.gh,Iy.nw,kc.Bo,kc.Mo,ol.Gf,ol.jf,ol.Rh,ol.th,ol.eh;var LN,MN,FN,UN,VN={iL:!1};ki(),Vt(),(LN||(LN={})).rL="uL",(FN=MN||(MN={}))[FN.oL=0]="oL",FN[FN.Dh=1]="Dh",FN[FN.sL=2]="sL",ki(),Vt(),ki(),Vt(),(UN||(UN={})).qC="aL",ki(),Vt();var HN=function(t){function n(n){var e;return(e=t.call(this,ol.dh)||this).currentTime=n,e}return Xi(n,t),n}(Sc);ki(),Vt();var qN,zN,WN,jN,GN,YN,XN,$N,KN,JN,ZN,QN=function(t){function n(){return t.call(this,ol.rh)}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),(qN||(qN={})).cL="fL",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(WN=zN||(zN={}))[WN.hL=0]="hL",WN[WN.vL=1]="vL",WN[WN.dL=2]="dL",ki(),Vt(),ki(),Vt(),ki(),Vt(),(GN=jN||(jN={}))[GN.lL=3]="lL",GN[GN.wL=4]="wL",GN[GN.gL=5]="gL",(XN=YN||(YN={}))[XN.yL=64]="yL",XN[XN.mL=103]="mL",XN[XN._L=107]="_L",ki(),Vt(),ki(),Vt(),(KN=$N||($N={}))[KN.pL=0]="pL",KN[KN.bL=1]="bL",KN[KN.mL=2]="mL",KN[KN.kL=5]="kL",KN[KN.TL=34]="TL",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(ZN=JN||(JN={}))[ZN.SL=1]="SL",ZN[ZN.EL=2]="EL",ZN[ZN.IL=3]="IL",ZN[ZN.RL=4]="RL",ZN[ZN.NL=5]="NL",ZN[ZN.OL=6]="OL",ZN[ZN.CL=7]="CL",ZN[ZN.AL=8]="AL",ZN[ZN.DL=9]="DL",ki(),Vt();sr.si;ki(),Vt(),ki(),Vt(),ki(),Vt();ki(),Vt();ol.hh,ol.fh,ol.mh,ol.yh,ol.th,ol.eh,ol.Jf,ol.lh,gm.gl,Iy.nw;ki(),Vt();var tO,nO;sr.ni||sr.ei;(nO=tO||(tO={})).PL="closed",nO.Hv="open",nO.Jf="ended",ki(),Vt(),ki(),Vt();ol.Ih,ol.lh,ol.mh,ol.th,ol.hh,ol.fh;ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();gm.gl,ol.hh,ol.fh,ol.mh,ol.yh,ol.th,ol.eh,ol.Jf,Iy.nw;function eO(t,n){return t.My<=n&&t.Fy>n}function iO(t,n){return function(t,n){return $a(t.My,n.My,V_)}(t,n)||function(t,n){return $a(t.Fy,n.Fy,V_)}(t,n)}function rO(t,n){var e=function(t,n,e,i,r,u,o){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,a=o-1;s<=a;){var c=s+(a-s>>1),f=i(e(t[c]),n);if(f<0)s=c+1;else if(f>0)a=c-1;else{if(!(r&&c>u&&0===i(e(t[c-1]),n)))return c;a=c-1}}return~s}(t,n,br,iO,!0);if(e<0)return e;for(;e<t.length&&iO(n,t[e])===qa.Xu;e++)if(t[e].Yy(n))return e;return-(e+1)}function uO(t){var n=t.nl;if(!n)return-1;if(t instanceof H_)return n.xL(t);var e=n.fw;if(!e)return-1;var i=rO(e.Cl,t);return i>=0?i:-1}ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri();var oO=function(){function t(t){this.Zd=void 0,this.BL=t}var n=t.prototype;return n.tl=function(){return function(t){for(var n=[],e=0;e<t.Al;e++)n[e]=t.qo(e).Qd;return n.item=function(n){var e=0|n,i=t.qo(e);return i&&i.Qd||void 0},v.defineProperty(n,"constructor",{value:M_}),n}(this)},n.py=function(t){for(var n=this.BL,e=n.length-1;e>=0;e-=1){var i=n[e];if(t.Yy(i))return!0}return!1},n.qo=function(t){return this.BL[t]},Ii(t,[{key:"Cl",get:function(){return this.BL}},{key:"Al",get:function(){return this.BL.length}},{key:"Qd",get:function(){if(this.Zd){var t=this.BL;this.Zd.length=t.length;for(var n=0;n<t.length;n++)this.Zd[n]=t[n].Qd}else this.Zd=this.tl();return this.Zd}}]),t}();ki(),Vt();var sO=function(t){function n(n,e){var i;return(i=t.call(this,Yg.gl)||this).nl=n,i.cw=e,i}return Xi(n,t),n.prototype.tl=function(){return new aO(this.nl.Qd,this.cw)},n}(zg),aO=function(t){function n(n,e){var i;return(i=t.call(this,"readystatechange")||this).track=n,i.readyState=e,i}return Xi(n,t),n}(Wg);ki(),Vt();var cO=function(t){function n(n){var e;return(e=t.call(this,Yg.ml)||this).nl=n,e}return Xi(n,t),n.prototype.tl=function(){return new fO(this.nl.Qd)},n}(zg),fO=function(t){function n(n){var e;return(e=t.call(this,"typechange")||this).track=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var hO=function(t){function n(n){var e;return(e=t.call(this,Yg.il)||this).Ly=n,e}return Xi(n,t),n.prototype.tl=function(){return new vO(this.Ly.Qd)},n}(zg),vO=function(t){function n(n){var e;return(e=t.call(this,"addcue")||this).cue=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var dO=function(t){function n(n){var e;return(e=t.call(this,Yg.ol)||this).Ly=n,e}return Xi(n,t),n.prototype.tl=function(){return new lO(this.Ly.Qd)},n}(zg),lO=function(t){function n(n){var e;return(e=t.call(this,"removecue")||this).cue=n,e}return Xi(n,t),n}(Wg),wO=function(t){function n(n,e,i,r,u,o,s,a,c){var f;return(f=t.call(this)||this).Ty=m_(),f.LL=!1,f.zO=Sy.ow,f.ML=E_.NONE,f.FL=void 0,f.BL=[],f.UL=[],f.VL=0,f.HL=0,f.fc=e||"",f.qL=a||"",f.zL=n,f.na=r||"",f.LL=Boolean(u),f.WL=Boolean(s),f.ir=o||R_.DEFAULT,f.Sy=i||"",f.jL=c||[],f.GL=new oO(f.BL),f.YL=new oO(f.UL),f}Xi(n,t);var e=n.prototype;return e.XL=function(t){return Ja(this.GL.Cl,(function(n){return n.Hl===t}))},e.tl=function(){return Oy(this)},e.JO=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}(t);n!==this.iw&&(this.zO=n,n===Sy.ow&&(this.UL.forEach((function(t){t.Xy=!1})),ec(this.UL),this.HL=0),this.mo(new Zg(this)))},e.kS=function(t){if(t&&!t.nl){var n=rO(this.fw.Cl,t);if(!(n>=0)){t.nl=this;var e=-(n+1);this.BL.splice(e,0,t),this.$L(e),t.qy=e,e<this.HL&&(this.HL=e),this.mo(new hO(t))}}},e.sS=function(t){if(t&&t.nl===this){var n=this.xL(t);if(!(n<0)){t.Xy=!1;var e=this.UL,i=rO(e,t);i>=0&&tc(e,i),tc(this.BL,n),this.$L(n),t.qy=-1,this.HL>n&&--this.HL,this.mo(new dO(t))}}},e.KL=function(t,n){var e=this.UL,i=this.BL,r=this.HL,u=!1;n&&(r=0);for(var o=e.length-1;o>=0;o--){eO(e[o],t)||(u=!0,tc(e,o))}for(;r<i.length&&i[r].My<=t;){var s=i[r];if(0===t)break;eO(s,t)&&!nc(e,s)&&(u=!0,e.push(s)),r++}u&&ja(e,iO),this.HL=r},e.xL=function(t){return(-1===t.qy||t.qy>=this.VL)&&this.JL(),t.qy},e.JL=function(){for(var t=this.BL,n=this.VL;n<t.length;n++)t[n].qy=n;this.VL=t.length},e.$L=function(t){t<this.VL&&(this.VL=t)},e.sw=function(t){this.aw||(this.iw=t)},e.kn=function(){this.To();for(var t=this.BL.slice(),n=0;n<t.length;n++){t[n].kn()}ec(this.BL),ec(this.UL)},Ii(n,[{key:"hw",get:function(){return this.YL}},{key:"fw",get:function(){return this.GL}},{key:"SS",get:function(){return this.LL},set:function(t){this.LL=t}},{key:"aw",get:function(){return this.WL}},{key:"Qd",get:function(){return this.Zd||(this.Zd=this.tl()),this.Zd}},{key:"Hl",get:function(){return this.fc}},{key:"ql",get:function(){return this.Ty}},{key:"ew",get:function(){return this.qL},set:function(t){this.qL=t}},{key:"zl",get:function(){return this.zL}},{key:"Wl",get:function(){return this.Sy},set:function(t){t!==this.Sy&&(this.Sy=t,this.mo(new w_(this)))}},{key:"Gl",get:function(){return this.na}},{key:"jl",get:function(){return this.jL}},{key:"iw",get:function(){return this.zO},set:function(t){this.JO(t)}},{key:"cw",get:function(){return this.ML},set:function(t){this.ML!==t&&(this.ML=t,this.mo(new sO(this,this.ML)))}},{key:"dw",get:function(){return this.FL},set:function(t){this.FL=t}},{key:"Mu",get:function(){return this.ir},set:function(t){this.ir!==t&&(this.ir=t,this.mo(new cO(this)))}}]),n}(pc);ki(),Vt(),ki(),Vt(),ki(),Vt();var gO=function(t){function n(n,e){var i;return(i=t.call(this,A_.Dy,n)||this).o_=e,i}return Xi(n,t),n.prototype.tl=function(){return new yO(this.Ly.Qd)},n}(x_),yO=function(t){function n(n){return t.call(this,"enter",n)}return Xi(n,t),n}(B_);ki(),Vt();var mO=function(t){function n(n,e){var i;return(i=t.call(this,A_.xy,n)||this).o_=e,i}return Xi(n,t),n.prototype.tl=function(){return new _O(this.Ly.Qd)},n}(x_),_O=function(t){function n(n){return t.call(this,"exit",n)}return Xi(n,t),n}(B_);ki(),Vt();var pO=function(t){function n(n){var e;return(e=t.call(this,Yg.al)||this).Ly=n,e}return Xi(n,t),n.prototype.tl=function(){return new bO(this.Ly.Qd)},n}(zg),bO=function(t){function n(n){var e;return(e=t.call(this,"entercue")||this).cue=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var kO=function(t){function n(n){var e;return(e=t.call(this,Yg.fl)||this).Ly=n,e}return Xi(n,t),n.prototype.tl=function(){return new TO(this.Ly.Qd)},n}(zg),TO=function(t){function n(n){var e;return(e=t.call(this,"exitcue")||this).cue=n,e}return Xi(n,t),n}(Wg);ki(),Vt();var SO,EO,IO,RO,NO=function(t){function n(n){var e;return(e=t.call(this,Yg.vl)||this).nl=n,e}return Xi(n,t),n.prototype.tl=function(){return new OO(this.nl.Qd)},n}(zg),OO=function(t){function n(n){var e;return(e=t.call(this,"cuechange")||this).track=n,e}return Xi(n,t),n}(Wg);function CO(t,n,e){for(var i=t[n].My,r=n;r>=0&&t[r].My===i;r--)t[r].Fy=e}ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(EO=SO||(SO={}))[EO.ISO_8859_1=0]="ISO_8859_1",EO[EO.UTF16_BOM=1]="UTF16_BOM",EO[EO.UTF16=2]="UTF16",EO[EO.UTF8=3]="UTF8",(RO=IO||(IO={}))[RO.V22=2]="V22",RO[RO.V23=3]="V23",RO[RO.V24=4]="V24",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();function AO(t,n){return Xa(t.o_,n.o_)||function(t,n){return t.nl===n.nl?Ya(uO(t),uO(n)):Ob(t.nl,n.nl)}(t.Ly,n.Ly)||function(t,n){return t===n?qa.Xu:t===A_.Dy?qa.Ku:qa.$u}(t.type,n.type)}var DO=function(){function t(t,n){var e=this;this.Tg=[],this.ZL=0,this.QL=0,this.tM=[],this.nM=[],this.eM=!1,this.iM=!1,this.rM=void 0,this.uM=function(){e.ZL=0,e.oM(),e.sM()},this.aM=function(){e.oM(),e.sM()},this.cM=function(){e.iM=!0,e.rM=e._N.Gw,e.fM()},this.hM=function(){e.oM(),e.sM()},this.vM=function(){e.dM(),e.oM(),e.sM()},this.lM=function(t){nc(e.nM,t.Ly)||e.nM.push(t.Ly),e.wM()},this.gM=function(t){Qa(e.tM,t.Ly),Qa(e.nM,t.Ly),e.wM()},this.yM=n,this._N=t,t.po(ol.Eh,this.aM),t.po(ol.hh,this.aM),t.po(gm.jw,this.aM),t.po(ol.fh,this.aM),t.po(ol.mh,this.cM),t.po(ol.yh,this.hM),this.wM()}var n=t.prototype;return n.Fc=function(){ec(this.tM);for(var t=0,n=this.Tg.slice();t<n.length;t++){var e=n[t];this.Nl(e)}this.fM(),this.ZL=0,this.QL=0,this.eM=!1,this.iM=!1,this.rM=void 0},n.Rl=function(t){if(!nc(this.Tg,t)){if(this.Tg.push(t),t.po(Yg.il,this.lM),t.po(Yg.ol,this.gM),t.po(Yg.ll,this.vM),t.fw.Al>0){for(var n=0,e=t.fw.Cl;n<e.length;n++){var i=e[n];this.nM.push(i)}this.wM()}this.dM()}},n.Nl=function(t){if(Qa(this.Tg,t)){if(t.So(Yg.il,this.lM),t.So(Yg.ol,this.gM),t.So(Yg.ll,this.vM),t.fw.Al>0){for(var n=0,e=t.fw.Cl;n<e.length;n++){var i=e[n];Qa(this.tM,i),Qa(this.nM,i)}this.wM()}this.dM()}},n.dM=function(){this.eM=this.Tg.some((function(t){return t.iw!==Sy.ow}))},n.sM=function(){this._N.Qw||this._N.Jw?this.fM():this.wM()},n.wM=function(){this.eM&&(this.ZL||(this.ZL=this.yM.H(this.uM)))},n.fM=function(){this.ZL&&(this.yM.mM(this.ZL),this.ZL=0)},n.oM=function(){if(this.eM&&!this._N.Qw){var t,n=this.Tg,e=this.QL,i=null!=(t=this.rM)?t:this._N.Gw,r=i-e<-.1,u=this.iM||r;u&&i>e&&i-e<.1&&(u=!1),this.iM=!1,this.rM=void 0;for(var o,s=[],a=0;a<n.length;a++){var c=n[a];if(c.iw!==Sy.ow){c.KL(i,u);for(var f=0,h=c.hw.Cl;f<h.length;f++){var v=h[f];s.push(v)}}}if(u)o=this.tM;else{o=[];for(var l=0;l<n.length;l++){var w=n[l];w.iw!==Sy.ow&&Nb(w,e-vu,i,o)}}for(var g=o.length-1;g>=0;g--)nc(s,o[g])&&tc(o,g);var y=[];if(!u)for(var m=o.length-1;m>=0;m--){var _=o[m];_.My>e&&_.Fy<=i&&(y.push(_),tc(o,m))}for(var p=0,b=this.nM;p<b.length;p++){Qa(y,b[p])}ec(this.nM);for(var k=[],T=[],S=0;S<y.length;S++){var E=y[S];E.Xy||k.push(new gO(E,E.My)),k.push(new mO(E,d.max(E.My,E.Fy))),E.Xy=!1}for(var I=0;I<o.length;I++){var R=o[I];R.Xy&&(k.push(new mO(R,d.max(R.My,R.Fy))),R.Xy=!1)}for(var N=0;N<s.length;N++){var O=s[N];O.Xy||(k.push(new gO(O,O.My)),O.Xy=!0)}k.sort(AO);for(var C=0;C<k.length;C++){var A=k[C],D=A.Ly;D.mo(A);var P=D.nl;P&&(A.type===A_.Dy?P.mo(new pO(D)):P.mo(new kO(D)),nc(T,P)||T.push(P))}T.sort(Ob);for(var x=0;x<T.length;x++){var B=T[x];B.mo(new NO(B))}this.QL=i,this.tM=s}},n.kn=function(){this.Fc(),this._N.So(ol.Eh,this.aM),this._N.So(ol.hh,this.aM),this._N.So(gm.jw,this.aM),this._N.So(ol.fh,this.aM),this._N.So(ol.mh,this.cM),this._N.So(ol.yh,this.hM)},t}();ki(),Vt();var PO=function(){function t(){}var n=t.prototype;return n.H=function(t){return NR(t)},n.mM=function(t){OR(t)},t}(),xO=new PO,BO=function(t){function n(n,e){return void 0===e&&(e=xO),t.call(this,n,e)}return Xi(n,t),n}(DO);ki(),Vt(),ki(),Vt(),Ri();var LO=function(t){function n(n,e,i){return t.call(this,n,1/0,e,!1,i)}return Xi(n,t),n.prototype.Yy=function(n){return this===n||oy(this,n)&&t.prototype.Yy.call(this,n)&&(e=n,this.Uy===e.Uy);var e},Ii(n,[{key:"Qd",get:function(){return this.Zd||(this.Zd=L_(this)),this.Zd}}]),n}(H_);ki(),Vt(),ki(),Vt();var MO=function(t){function n(n,e,i){return void 0===i&&(i=R_.DEFAULT),t.call(this,_b.Vp,"",e||"","",!1,i,!1,n)}return Xi(n,t),n}(wO),FO=function(t){function n(n,e){var i;return(i=t.call(this,n,e)||this).Mu=R_.ID3,i}Xi(n,t);var e=n.prototype;return e.kS=function(n){!function(t,n){if(0!==n.length){var e=n.length-1;if(n[e].My<t.My)CO(n,e,t.My);else{var i=n[0];if(i.My>t.My)t.Fy=i.My;else{var r=rO(n,t);if(!(r>=0)){var u=-(r+1),o=u-1;if(o>=0&&n[o].My<t.My&&CO(n,o,t.My),u<n.length){var s=n[u];t.Fy=s.My}}}}}}(n,this.BL),t.prototype.kS.call(this,n)},e.tl=function(){return Oy(this)},n}(MO);ki(),Vt();var UO=function(t){function n(n,e){var i;(i=t.call(this)||this).yS=n,i._M=e,i.pM=new va;var r=lu(i);return i.HI=ta((function(t){var n;return ea(this,(function(e){switch(e.label){case 0:return(n=t.nl).Mu?[3,2]:[4,n.No(Yg.ml)];case 1:e.sent(),e.label=2;case 2:if(n.Mu!==R_.ID3)return[2];e.label=3;case 3:return 0!==n.fw.Al?[3,5]:[4,n.No(Yg.il)];case 4:return e.sent(),[3,3];case 5:return r.bM(n),[2]}}))})),i.qI=function(t){var n=t.nl;if(n.Mu===R_.ID3&&i.pM.has(n.ql)){var e=i.pM.get(n.ql);i.Nl(e),i.yS.TS(e),n.So(Yg.il,i.kM)}},i.kM=function(t){VO(t.Ly)&&i.TM(t.Ly)},i.SM(),i}Xi(n,t);var e=n.prototype;return e.SM=function(){this._M.po(xg.Xd,this.HI),this._M.po(xg.Kd,this.qI)},e.EM=function(){this._M.So(xg.Xd,this.HI),this._M.So(xg.Kd,this.qI)},e.bM=function(t){var n=t.fw.Cl[0];if(VO(n)){var e=function(t){var n=t.match(HO);if(!n)return;return{nl:n[1],Gl:n[2]}}(n.Uy.description),i=e.nl,r=e.Gl;if(!this.IM(i,r)){var u=this.yS.pS(_b.Fp,t.Hl,i,r,!1,R_.TTML);this.Rl(u),this.pM.set(t.ql,u);for(var o=0,s=t.fw.Cl;o<s.length;o++){var a=s[o];VO(a)&&this.TM(a)}t.po(Yg.il,this.kM)}}},e.IM=function(t,n){return this.xb.Cl.some((function(e){return e.Wl===t&&e.Gl===n}))},e.TM=function(t){if(t.nl)for(var n=this.pM.get(t.nl.ql),e=cb(t.Uy.text,0,{L_:0,M_:1/0,F_:t.My}),i=0;i<e.length;i++){var r=e[i];n.kS(r)}},e.Fc=function(){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:for(e=0,i=n._M.Cl;e<i.length;e++)i[e].So(Yg.il,n.kM);for(r=0,u=n.xb.Cl;r<u.length;r++)o=u[r],n.yS.TS(o);return n.pM.clear(),[4,t.prototype.Fc.call(n)];case 1:return s.sent(),[2]}}))}))()},e.kn=function(){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return n.EM(),[4,t.prototype.kn.call(n)];case 1:return e.sent(),[2]}}))}))()},n}(xb);function VO(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Uy)&&HO.test(n.description);var n}var HO=/^Track:(.+),Lang:(.+)$/;ki(),Vt(),Ri(),ki(),Vt(),Ri();var qO=function(t){function n(n){var e;return(e=t.call(this,ol.jf)||this).errorObject=n,e}return Xi(n,t),Ii(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Sc);ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var zO=function(t){function n(){return t.call(this,ol.Gf)}return Xi(n,t),n}(Sc);ki(),Vt();var WO=function(t){function n(n){var e;return(e=t.call(this,"Nh")||this).RM=n,e}return Xi(n,t),n}(Sc),jO=new jd,GO=function(t){function n(n){var e;return(e=t.call(this,"bc")||this).session=n,e}return Xi(n,t),n}(Sc),YO=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).NM=n,r.OM=e,r.CM=i,r.AM=!1,r.DM=!1,r.wf=new rc,r.gc=function(t){if(!r.wf.do.Ju)switch(t.Do){case"license-request":case"license-renewal":r.oE(t.Ao,t.Po).catch((function(t){return r.Zc(t)}));break;default:r.Zc(new c_(Dd.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Do))}},r.PM=function(t){r.NM.Oc.zo((function(t,n){switch(t){case"usable":Wi.ru((function(){r.DM=!0,r.mo(new zO)}),100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":r.mo(new WO(n))}}))},r.xM=function(t){r.Zc(new c_(Dd.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.po("Ao",r.gc),n.po("Co",r.PM),n.po("xo",r.xM),n.Rc.then((function(){return r.BM()})),r}Xi(n,t);var e=n.prototype;return e.kc=function(){var t=this;return this.AM=!0,jO._f((function(n){return t.LM(n)}),this.wf.do)},e.LM=function(t){var n=this;return ta((function(){var e,i,r,u;return ea(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),sc(t),[4,n.OM.QS(t)];case 1:return o.sent(),[4,n.OM.tE(n.CM.Uu,n.CM.Uo,t)];case 2:return e=o.sent(),[4,n.NM.kc(n.CM.Uu,n.CM.Uo,e)];case 3:return o.sent(),[3,5];case 4:throw ac(i=o.sent()),r=i instanceof Lf?i.ss:void 0,u=new c_(Dd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",i,void 0,void 0,void 0,void 0,r),n.Zc(u),u;case 5:return[2]}}))}))()},e.oE=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return qc(t,Pf())}(t)?[4,e.OM.lE(new y(t),e.wf.do)]:[3,2];case 1:return i=c.sent(),[3,4];case 2:return[4,e.OM.wE(new y(t),n,e.wf.do)];case 3:i=c.sent(),c.label=4;case 4:return[3,6];case 5:if(oc(r=c.sent()))return[2];throw r;case 6:if(e.wf.do.Ju)return[2];u=e.MM,o=new Df,e.MM=o,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,e.NM.Ec(i)];case 8:return c.sent(),[4,yc(100)];case 9:return c.sent(),[3,14];case 10:throw s=c.sent(),a=s instanceof Lf?s.ss:void 0,new c_(Dd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.es];case 12:c.sent(),c.label=13;case 13:return o.rs(),e.MM===o&&(e.MM=void 0),[7];case 14:return[2]}}))}))()},e.Zc=function(t){var n=t instanceof c_?t:new c_(Dd.CONTENT_PROTECTION_ERROR,t.message,t);this.mo(new qO(n)),this.bc()},e.BM=function(){this.NM.So("Ao",this.gc),this.NM.So("Co",this.PM),this.NM.So("xo",this.xM),this.DM=!1,this.wf.fo(),this.mo(new GO(this))},e.bc=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:t.To(),e.label=1;case 1:return void 0===(n=t.MM)?[3,3]:[4,n.es];case 2:e.sent(),e.label=3;case 3:if(t.MM!==n)return[3,1];e.label=4;case 4:return t.BM(),[4,t.NM.bc().catch(pr)];case 5:return e.sent(),[2]}}))}))()},n}(pc);ki(),Vt();var XO=[ol.Gf,ol.jf,ol.Rh],$O=function(t){function n(n,e,i){var r;return(r=t.call(this)||this).FM=[],r.UM=void 0,r.VM=[],r.HM=function(t){t.session.So(XO,r.yo),t.session.So("bc",r.HM),Qa(r.FM,t.session)},r.vc=n,r.Ac=e,r.qM=i,r}Xi(n,t);var e=n.prototype;return e.dE=function(){return this.qM.dE()},e.zM=function(t){return this.UM||(this.UM=this.WM(t)),this.UM},e.WM=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return sc(t),[4,n.qM.lE(new y(Pf()),t)];case 1:if(e=i.sent(),sc(t),!n.Ac)throw new f("Invalid MediaKeys when setting ServerCertificate");return[4,n.Ac.Bc(e.buffer)];case 2:return i.sent(),[2]}}))}))()},e.jM=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:if(!n.Ac)throw new f("Invalid MediaKeys when creating KeySession");r.label=1;case 1:return r.trys.push([1,,3,4]),n.VM.push(t),[4,n.Ac.xc("temporary")];case 2:return e=r.sent(),i=new YO(e,n.qM,t),n.FM.push(i),i.po(XO,n.yo),i.po("bc",n.HM),[2,i];case 3:return Qa(n.VM,t),[7];case 4:return[2]}}))}))()},e.GM=function(t){if(t.YM)return!1;for(var n=0,e=this.FM;n<e.length;n++){if(KO(e[n].CM,t))return!0}for(var i=0,r=this.VM;i<r.length;i++){if(KO(r[i],t))return!0}return!1},e.kn=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return t.Ac=void 0,t.To(),n=t.FM.slice(),ec(t.FM),[4,G.all(n.map((function(t){return t.bc()})))];case 1:return e.sent(),t.qM.ro(),[2]}}))}))()},Ii(n,[{key:"Dc",get:function(){return this.vc}}]),n}(pc);function KO(t,n){return!t.YM&&t.Uu===n.Uu&&qc(t.Uo,n.Uo)}var JO=function(t){function n(n){var e;(e=t.call(this)||this).wf=new rc,e.XM=new jd,e.rf=void 0,e.qM=void 0,e.KI=void 0,e.vc=void 0;var i=lu(e);return e.$M=ta((function(t){var n;return ea(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.KM(t.Uu,t.Uo,i.wf.do)];case 1:return e.sent(),[3,3];case 2:return oc(n=e.sent())||i.Zc(n),[3,3];case 3:return[2]}}))})),e.mR=n,e.mR.po(kc.Bo,e.$M),e}Xi(n,t);var e=n.prototype;return e.Tc=function(t,n){this.KI=t,this.JM(n)},e.JM=function(t){this.rf=t,this.ZM(this.wf.do).catch(cc)},e.ZM=function(t){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return Wi._u.Lr?[4,n.QM(t)]:[3,2];case 1:if(e.sent())return[2];e.label=2;case 2:return n.rf&&n.rf.tF?[4,n.nF(t)]:[3,4];case 3:return[2,e.sent()];case 4:return[2]}}))}))()},e.QM=function(t){var n=this;return ta((function(){var e,i,r,u,o,s,a,c,f,h,v;return ea(this,(function(d){switch(d.label){case 0:if(!(null==(e=n.rf)?void 0:e.RR))return[2,!1];r=!1,o=0,s=null!=(u=null==(i=n.rf)?void 0:i.RR)?u:[],d.label=1;case 1:if(!(o<s.length))return[3,9];a=s[o],f=0,h=null!=(c=a.FI)?c:[],d.label=2;case 2:if(!(f<h.length))return[3,7];v=h[f],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.KM(a.Dc.Uu,v,t)];case 4:return d.sent(),r=!0,[3,6];case 5:return ac(d.sent()),[3,6];case 6:return f++,[3,2];case 7:if(r)return[2,!0];d.label=8;case 8:return o++,[3,1];case 9:return[2,!1]}}))}))()},e.KM=function(t,n,e){var i=this;return ta((function(){var r,u,o,s,a,c,f,h,v,d;return ea(this,(function(l){switch(l.label){case 0:if(sc(e),!n.byteLength)return[2];if(!i.rf||!i.rf.RR.length)throw new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==wa&&t!==ya&&t!==ga)return[2];r=qk(t,n),u=i.rf.RR,s=0,l.label=1;case 1:if(!(s<u.length))return[3,11];if(a=u[s],sc(e),!(c=r[a.Dc.Vu])||a.Dc.Uu!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,i.eF(a,e)];case 3:return(f=l.sent()).dE()?[4,f.zM()]:[3,5];case 4:l.sent(),l.label=5;case 5:return h=i.mR.Qg,v={Uu:a.Dc.Uu,Uo:c,YM:h},i.iF(f,v)?[4,f.jM(v)]:[3,8];case 6:return[4,l.sent().kc()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return ac(d=l.sent()),o=d,[3,10];case 10:return s++,[3,1];case 11:return[4,Wi.au()];case 12:throw l.sent()?new c_(Dd.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o):new c_(Dd.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o)}}))}))()},e.nF=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:if(!(i=null==(e=n.rf)?void 0:e.RR))return[2];r=0,s.label=1;case 1:if(!(r<i.length))return[3,8];u=i[r],sc(t),s.label=2;case 2:return s.trys.push([2,6,,7]),[4,n.eF(u,t)];case 3:return(o=s.sent()).dE()?[4,o.zM()]:[3,5];case 4:s.sent(),s.label=5;case 5:return[2];case 6:return ac(s.sent()),[3,7];case 7:return r++,[3,1];case 8:return[2]}}))}))()},e.iF=function(t,n){return Wi._u.Br||this.mR.rF.iL||!t.GM(n)},e.eF=function(t,n){var e=this;return this.XM._f((function(n){return e.uF(t,n)}),n)},e.uF=function(t,n){var e=this;return ta((function(){var i,r,u,o,s,a;return ea(this,(function(c){switch(c.label){case 0:if(sc(n),!e.rf||!e.qM||!e.KI)throw new f("Not initialized");if(e.vc){if(e.vc.Dc!==t.Dc)throw new f("Internal key system error");return[2,e.vc]}return i=e.qM,u=na({},t,{qR:t.qR.map((function(n){return na({},n,{persistentState:null!=(r=n.persistentState)?r:i.ME(t.Dc),zc:n.zc||i.zc(t.Dc)})}))}),[4,e.KI.oF(u.Dc,u.qR)];case 1:return o=c.sent(),s=i.MI(u),(a=new $O(u.Dc,o,s)).po([ol.Gf,ol.jf,ol.Rh],e.yo),e.vc=a,[2,a]}}))}))()},e.Zc=function(t){var n=t instanceof c_?t:new c_(Dd.CONTENT_PROTECTION_ERROR,t.message,t);this.mo(new qO(n))},e.Fc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.KI=void 0,t.rf=void 0,t.wf.fo(),t.wf=new rc,[4,t.sF()];case 1:return n.sent(),[2]}}))}))()},e.sF=function(){var t=this;return ta((function(){var n;return ea(this,(function(e){switch(e.label){case 0:return[4,t.XM.fo()];case 1:return e.sent(),(n=t.vc)?(n.So(ol.Rh,t.yo),t.vc=void 0,[4,n.kn()]):[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))()},e.ro=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.To(),t.mR.So(kc.Bo,t.$M),[4,t.Fc()];case 1:return n.sent(),[4,t.XM.kn()];case 2:return n.sent(),[2]}}))}))()},Ii(n,[{key:"aF",get:function(){var t;return null==(t=this.vc)?void 0:t.Dc}},{key:"TR",get:function(){return this.qM},set:function(t){this.qM=t}}]),n}(pc);ki(),Vt(),ki(),Vt(),ki(),Vt();sr.ni||sr.ei,sr.pi,sr.si,sr.si&&sr.He;ki(),Vt(),Ri();var ZO,QO,tC,nC;new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Zd=void 0,n}return Xi(n,t),Ii(n,[{key:"Qd",get:function(){return this.Zd||(this.Zd=DN(this)),this.Zd}},{key:"qB",get:function(){}},{key:"zB",get:function(){}},{key:"WB",get:function(){}},{key:"jB",get:function(){}},{key:"GB",get:function(){}},{key:"YB",get:function(){}},{key:"ZB",get:function(){}},{key:"XB",get:function(){}},{key:"$B",get:function(){}},{key:"KB",get:function(){}},{key:"JB",get:function(){}}]),n}(pc));ki(),Vt(),ki(),Vt(),Ti(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(QO=ZO||(ZO={})).cF='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',QO.fF='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',QO.hF='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',QO.vF='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',(nC=tC||(tC={})).BLACK="#000000",nC.WHITE="#FFFFFF",nC.GREEN="#00ff00",nC.BLUE="#0000ff",nC.CYAN="#00ffff",nC.RED="#ff0000",nC.YELLOW="#ffff00",nC.MAGENTA="#ff00ff",nC.TRANSPARENT="transparent";var eC,iC,rC,uC;(function(t){var n=ua();for(var e in t)ar.call(t,e)&&n.set(e,t[e])})({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif"}),tC.WHITE,tC.TRANSPARENT,tC.TRANSPARENT;ki(),Vt(),ki(),Vt(),Ti(),(iC=eC||(eC={})).dF="Data",iC.lF="Tag",iC.wF="StartTag",iC.gF="StartTagClass",iC.yF="StartTagAnnotation",iC.mF="CharRefInAnnotation",iC._F="EndTag",iC.pF="TimestampTag",(uC=rC||(rC={})).bF="string",uC.kF="starttag",uC.TF="endtag",uC.SF="timestamp",ki(),Vt(),ki(),Vt();var oC,sC,aC,cC;tC.WHITE,tC.TRANSPARENT;(sC=oC||(oC={}))[sC.POS_X=0]="POS_X",sC[sC.NEG_X=1]="NEG_X",sC[sC.POS_Y=2]="POS_Y",sC[sC.NEG_Y=3]="NEG_Y",ki(),Vt(),ki(),Vt(),ki(),Vt(),(cC=aC||(aC={})).FONT_REGULAR="regular",cC.FONT_UNDERLINE="underline",cC.FONT_ITALICS="italics",cC.FONT_UNDERLINE_ITALICS="underline-italics";var fC,hC,vC,dC;tC.WHITE,ZO.hF,tC.BLACK,tC.WHITE,tC.WHITE,tC.GREEN,tC.GREEN,tC.BLUE,tC.BLUE,tC.CYAN,tC.CYAN,tC.RED,tC.RED,tC.YELLOW,tC.YELLOW,tC.MAGENTA,tC.MAGENTA,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE,tC.WHITE;ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(hC=fC||(fC={})).EF="HELLO",hC.IF="HI_THERE",hC.RF="INITIALIZE",hC.NF="APPEND_INIT",hC.OF="APPEND_DATA",hC.CF="ACK",hC.AF="REMOVE",hC.DF="DESTROY_SESSION",ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(dC=vC||(vC={})).Tv="audio",dC.Sv="video",dC.Vp="metadata",ki(),Vt();var lC=J_.$m,wC=new J_(-1/0),gC=J_.g_,yC=new(function(t){function n(n,e){return t.call(this,n,e)}Xi(n,t);var e=n.prototype;return e.gm=function(t,n){return t.km(n)?qa.Ku:t.Yy(n)?qa.Xu:qa.$u},e._y=function(t,n){return t._y(n)},e.Im=function(t,n){return t.Im(n)},e.bm=function(t,n){return t.bm(n)},e.MN=function(){return lC},e.FN=function(){return gC},e.qN=function(){return wC},e.BN=function(t,e){return new n(t,e)},e.PN=function(t){return t.l_},n.sO=function(t){for(var e=[],i=0;i<t.length;i++)e.push(new J_(t.start(i)),new J_(t.end(i)));return new n(e)},n.PF=function(t){for(var e=[],i=[],r=0;r<t.Al;r++)e.push(new J_(t.IN(r))),e.push(new J_(t.NN(r))),i.push(t.RN(r)),i.push(t.ON(r));return new n(e,i)},n.cO=function(t){return new n([t,t],[!0,!0])},n.fO=function(t,e){return t.pm(e)?new n([t,e]):n.hO()},n.hO=function(){return yC},n}(JS))([]);Pm.Tv,Pm.Sv;function mC(t,n){if(n.Er){var e=t.muted;t.muted=!0,t.muted=!1,t.muted=e}else if(t.paused){var i=t.play();mr(i)&&lc(i),t.pause()}}ki(),Vt(),ki(),Vt();var _C,pC,bC,kC,TC=function(){function t(t){this.mS=t}var n=t.prototype;return n.ov=function(t){return this.mS.ov(t)},n.Pv=function(t){this.mS.Pv(t)},n.kn=function(){this.mS.kn()},t}(),SC=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).kO=e,i}return Xi(n,t),n.prototype.ov=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:return e=new Gl(t),(i=n.kO.UP.AI(e))?(i.VP(Wi.Qr()/1e3),[4,n.mS.ov(t)]):[2,n.mS.ov(e)];case 1:return r=s.sent(),i.HP(Wi.Qr()/1e3),u=r.Hh().pipeThrough(new Mt(new EC(i))),o={nr:u,ov:r.ov},[2,new jl(o,r)]}}))}))()},n}(TC),EC=function(){function t(t){this.xF=t}var n=t.prototype;return n.start=function(t){this.UB=t},n.transform=function(t){this.xF.qP(Wi.Qr()/1e3,t),this.UB.enqueue(t)},n.flush=function(){this.xF.zP(Wi.Qr()/1e3)},t}(),IC=function(t){function n(n,e){var i;(i=t.call(this)||this).BF=!1,i.pg=!1,i.LF=!1,i.MF=function(t){if(!i.LF){i.LF=!0;var n=i.FF,e=v_(t);i.lB.Ml=new rE(i.Zg,e,t),lc(n.kn())}},i.UF=function(t){i.mo(t.Qd)},i.VF=function(t){t.type!==ol.ah&&t.type!==ol.sh&&i.mo(t)};var r=fy(e.uid);g(r)?i.Ty=__++:i.Ty=r,i.Pc=e;var u=Wi.Yd,o=new ON;i.HF=new yR("5.8.0",u,o),i.kO=new sN;var s=new SC(u,i.kO);i.Yd=new $R(s,e.allowMixedContent),i.NB=new $I(e.isEmbeddable,"5.8.0",HI()),i.qF=new NN(u,i.NB,i.HF,o,e,HI()),i.qF.AB().catch(i.MF),i.zF=new LR(n),i.zF.po("bD",i.UF),i.TO=new BN,i.uB=new vN,i.fB=new wN;var a=new iE(n,e,i.Yd,i.kO,i.zF,i.TO);i.kO.ix(a);var c=a;return c=new lN(c,i.WF),c=new gN(c,i.hB),i.FF=c,i.lB=new o_(i.FF),i.lB.ko(i.VF),i.jF=new yN(lu(i)),i.GF=new QR(i.lB,i.Yd,i.kO),i.YF=new pR(lu(i)),i.XF=new UR(i.lB,e.allowNativeFullscreen),i.KF=new SE(i.XF),i.zF.Lc(),i.SO=new wi(i.zF,i.TO,1,[Pm.Sv]),i.JF=new gi(i.SO),i.ZF=new pN,i}Xi(n,t);var e=n.prototype;return e.xx=function(t){this.lB.Kw=t,t||this.Jw||this.En()},e.Kx=function(t){this.lB.eg=t},e.QF=function(){Wm(this,EE,this)},e.gn=function(){this.lB.gn()},e.yn=function(){this.lB.yn()},e.Pg=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){switch(r.label){case 0:return t?(e.qF.pA(t).catch(e.MF),i=function(t){t.sources;var n=t.sources.filter((function(t){return hr(t.integration)}));return t.sources=n,t}(t),[4,e.lB.Pg(i,n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},e.En=function(){if(!this.pg){this.lB.En(),this.JF.En();for(var t=this.Zg.getElementsByTagName("video"),n=0;n<t.length;n++){var e=t[n];"Advertisement"===e.title&&mC(e,Wi._u)}this.pg=!0}},e.dO=function(){return this.KF.XO()===mE.FULLSCREEN},e.Ug=function(){this.lB.Ug()},e.Vg=function(){this.lB.Vg()},e.Hg=function(){return this.lB.Hg()},e.Fc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.lB.Ag()];case 1:return n.sent(),[4,t.lB.Fc()];case 2:return n.sent(),[2]}}))}))()},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.To(),t.ZF.kn(),t.Yd.kn(),t.GF.kn(),t.XF.kn(),t.KF.kn(),t.zF.kn(),t.HF.kn(),t.JF.kn(),t.SO.kn(),[4,t.lB.kn()];case 1:return n.sent(),[2]}}))}))()},Ii(n,[{key:"tU",get:function(){return this.kO}},{key:"Eg",get:function(){return this.BF},set:function(t){this.BF=t,this.lB.Eg=t}},{key:"nU",get:function(){return this.JF}},{key:"Rg",get:function(){return this.lB.Rg}},{key:"eU",get:function(){return this.ZF}},{key:"iU",get:function(){return this.zF}},{key:"Cg",get:function(){return this.lB.Cg}},{key:"ty",get:function(){return this.jF}},{key:"rU",get:function(){return this.GF}},{key:"Og",get:function(){return this.lB.Og}},{key:"uU",get:function(){return this.TO}},{key:"Ng",get:function(){return this.lB.Ng}},{key:"Kg",get:function(){return this.lB.Kg}},{key:"WF",get:function(){return this.uB}},{key:"hB",get:function(){return this.fB}},{key:"Gw",get:function(){return this.lB.Gw},set:function(t){this.lB.Gw=t}},{key:"Jg",get:function(){return this.lB.Jg},set:function(t){this.lB.Jg=t}},{key:"Yg",get:function(){return this.lB.Yg}},{key:"Yw",get:function(){return this.lB.Yw}},{key:"Zg",get:function(){return this.lB.Zg}},{key:"Xw",get:function(){return this.lB.Xw}},{key:"xo",get:function(){return this.lB.xo}},{key:"$w",get:function(){return this.lB.$w}},{key:"Kw",get:function(){return this.lB.Kw},set:function(t){var n=Boolean(t);this.xx(n)}},{key:"Jw",get:function(){return this.lB.Jw}},{key:"Zw",get:function(){return this.lB.Zw},set:function(t){this.lB.Zw=t}},{key:"vy",get:function(){return this.lB.vy}},{key:"ly",get:function(){return this.lB.ly},set:function(t){this.lB.ly=GS(t)}},{key:"cw",get:function(){return this.lB.cw}},{key:"wy",get:function(){return this.lB.wy}},{key:"Qw",get:function(){return this.lB.Qw}},{key:"ql",get:function(){return this.Ty}},{key:"tg",get:function(){return this.lB.tg}},{key:"ng",get:function(){return this.lB.ng}},{key:"eg",get:function(){return this.lB.eg},set:function(t){var n=uu(Number(t),0,1)||0;this.Kx(n)}},{key:"gy",get:function(){return this.lB.gy}}]),n}(xy);ki(),Vt(),(pC=_C||(_C={}))[pC.oU=0]="oU",pC[pC.sU=1]="sU",(kC=bC||(bC={}))[kC.aU=0]="aU";var RC={};function NC(t,n){var e=t;if(RC[n])for(var i=0,r=RC[n];i<r.length;i++){e=(0,r[i])(e)}return e}var OC=[];function CC(t){OC.push(t)}ki(),Vt();var AC=t.CustomEvent;var DC=function(){try{var t=new AC("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var e=i.createEvent("CustomEvent");return e.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),e};ki(),Vt(),ki(),Vt(),Ri();var PC=function(){function t(t,n){var e=this;this.cU=!1,this.fU=function(t){e.hU.vD(t.error,e.Gw)},this.vU=function(){e.hU.cD(e.dU),e._N.removeEventListener("playing",e.vU),e.cU=!1},this.lU=function(){e.cU||(e._N.addEventListener("playing",e.vU),e.cU=!0)},this.hU=n,this._N=t,this._N.addEventListener("error",this.fU),this._N.addEventListener("sourcechange",this.lU),this.lU()}return t.prototype.Fc=function(){},Ii(t,[{key:"Gw",get:function(){var t=this._N.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"dU",get:function(){return this._N.src||""}}]),t}();CC((function(t){new PC(t.Qd,t.HF)})),ki(),Vt();var xC,BC,LC="theoplayer-stored-volume",MC="theoplayer-stored-mutedstate";xC=function(t){return function(t){function n(n,e){var i;if(i=t.call(this,n,e)||this,e.persistVolume){var r=kN.IB(LC);(void 0===r||g(r))&&(r=1);var u=kN.RB(MC)||!1;i.eg=r,i.Kw=u}return i}Xi(n,t);var e=n.prototype;return e.xx=function(n){this.Pc.persistVolume&&kN.Uf(MC,""+Boolean(n)),t.prototype.xx.call(this,n)},e.Kx=function(n){this.Pc.persistVolume&&kN.Uf(LC,""+Number(n)),t.prototype.Kx.call(this,n)},n}(t)},BC=_C.sU,(RC[BC]||(RC[BC]=[])).push(xC),ki(),Vt(),Ri();var FC=new(function(){function t(){this.wU=[],this.Zd=void 0}var n=t.prototype;return n.Il=function(t){return this.wU[t]},n.gU=function(t){this.wU.push(t),this.Qd.push(t.Qd)},n.Sc=function(t){var n=this.wU.indexOf(t);n<0||(tc(this.wU,n),this.Zd&&tc(this.Zd,n))},n.yU=function(t){for(var n=0,e=this.wU;n<e.length;n++){var i=e[n];if(i.ql===t)return i}},Ii(t,[{key:"Al",get:function(){return this.wU.length}},{key:"Qd",get:function(){return this.Zd||(this.Zd=function(t){for(var n=[],e=0;e<t.Al;e++)n[e]=t.Il(e).Qd;return n.getPlayerByUID=function(n){var e=t.yU(n);return e&&e.Qd},n}(this)),this.Zd}}]),t}());ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var UC=function(t){function n(n){var e;return(e=t.call(this,ol.Sh)||this).source=n,e}return Xi(n,t),n}(Sc);ki(),Vt(),Ri();var VC=function(t){function n(){var n;return(n=t.call(this)||this).gO=0,n.mO=!0,n.pO=!1,n._O=1,n}Xi(n,t);var e=n.prototype;return e.gn=function(){this.mO&&(this.mO=!1,this.mo(new mm(this.Gw)),this.mo(new jb(this.Gw)))},e.yn=function(){this.mO||(this.mO=!0,this.mo(new Tm(this.Gw,this.Jg)),this.mo(new wm(this.Gw)))},e.Fc=function(){this.gO=0,this.pO=!1,this._O=1,this.yn(),this.mo(new lm(this.gO))},e.kn=function(){this.To()},e.Vg=function(){},e.Ug=function(){},Ii(n,[{key:"Jg",get:function(){},set:function(t){}},{key:"Gw",get:function(){return this.gO},set:function(t){this.pO&&this.gO===t||(this.gO=t,this.pO=!0,this.mo(new Im(this.Gw)))}},{key:"Jw",get:function(){return this.mO}},{key:"Zw",get:function(){return this._O},set:function(t){this._O!==t&&(this._O=t,this.mo(new km(this.Gw,this.Zw)))}},{key:"cw",get:function(){return Ky.Bw}},{key:"Qw",get:function(){return this.pO}}]),n}(Py);ki(),Vt();var HC=function(t){function n(){return t.call(this,ol.Xf)}return Xi(n,t),n}(Sc);ki(),Vt(),Ri(),Ti();var qC,zC={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},WC={visibility:"hidden"},jC={visibility:"visible"},GC=function(){function t(t){var n,e=this;this.mU=!1,this._U=function(t){var n;e.mU=!1,e.pU=null==(n=t.source)?void 0:n.poster,e.Ec()},this.US=function(){e.mU=!0,e.Vg()},this._N=t,this.pN(),this.hN=((n=mi&&mi.document&&mi.document.createElement("div")).className="theoplayer-poster",As(zC,n),n),t.Zg.appendChild(this.hN)}var n=t.prototype;return n.Ec=function(){var t=this._N.Jw,n=this.mU;this.av?this.hN.style.backgroundImage='url("'+(this.av.replace(/[\\"]/g,(function(t){return"\\"+t}))+'")'):this.hN.style.backgroundImage="",t&&this.av&&!n?this.Ug():this.Vg()},n.Ug=function(){As(WC,this._N.Zg),As(jC,this.hN)},n.Vg=function(){As(WC,this.hN),As(jC,this._N.Zg)},n.pN=function(){this._N.po("sourcechange",this._U),this._N.po("play",this.US)},n.kn=function(){this._N.So("sourcechange",this._U),this._N.So("play",this.US),Cs(this.hN)},Ii(t,[{key:"av",get:function(){return void 0!==this.pU?this.pU:void 0!==this.bU?this.bU:void 0}},{key:"kU",set:function(t){this.bU=t,this.Ec()}}]),t}();function YC(t){return function(n){function e(e,i){var r;return(r=n.call(this,e)||this).gN=void 0,r.JI=void 0,r.IO=void 0,r.TU=function(t){t.type!==ol.lh&&r.SU.push(t)},r.EU=new t(e,i),r.IU=new VC,r._N=r.EU,r.RU=new GC(lu(r)),r.XM=new jd,r.NU=!1,r.SU=[],r.yN=!0,r.pN(),r}Xi(e,n);var i=e.prototype;return i._f=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){return[2,e.XM._f(t,n).catch(cc)]}))}))()},i.OU=function(t,n){var e=this;return ta((function(){return ea(this,(function(i){switch(i.label){case 0:sc(n),e.EU.ko(e.TU),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,e.EU.Pg(t,n)];case 2:return i.sent(),[3,4];case 3:return e.EU.Ro(e.TU),[7];case 4:return[2]}}))}))()},i.CU=function(){var t=this;return ta((function(){var n,e;return ea(this,(function(i){switch(i.label){case 0:return(n=t.Dg())&&!hI(n)&&t.Eg&&t.Jw?(e=n.mutedAutoplay||t.Pc.mutedAutoplay,[4,t.nU.Sn(t.Kw)]):[2];case 1:switch(i.sent()){case"all":t.AU();break;case"muted":(t.Kw||e===Bm.ALL)&&(t.Kw=!0,t.gn())}return[2]}}))}))()},i.Pg=function(t){var n=this.gN;n&&!hI(n)&&this.mo(new lm(0,0)),this.Fc(),this.gN=t;var e=this;lc(this._f(ta((function(n){var i;return ea(this,(function(r){switch(r.label){case 0:sc(n),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,e.OU(t,n)];case 2:return r.sent(),[3,5];case 3:return i=r.sent(),e.gN=void 0,e.eR(function(t,n){return t instanceof Fd?t:t instanceof f?new Fd(n,t.message,t):new Fd(n,String(t))}(i,Dd.SOURCE_NOT_SUPPORTED)),[2];case 4:return e.DU(e.EU),[7];case 5:return e.mo(new UC(e.Dg())),[4,e.CU()];case 6:return r.sent(),[2]}}))}))))},i.Ix=function(t){this._N.Gw=t},i.Cx=function(){var t;return null!=(t=this.IO)?t:this.EU.xo},i.Ax=function(){var t;return null!=(t=this.JI)?t:this.EU.$w},i.eR=function(t){void 0===this.Ax()&&(this.JI=t,this.IO=v_(t),this.mo(new Dm(t)))},i.gn=function(){this._N.gn()},i.AU=function(){this.Kw||this.En(),this.gn()},i.En=function(){this.EU.En()},i.yn=function(){this._N.yn()},i.Ag=function(){this.Pg(void 0)},i.Ug=function(){this.yN=!0,this._N.Ug()},i.Vg=function(){this.yN=!1,this._N.Vg()},i.QF=function(){this.EU.QF()},i.Kx=function(t){this.EU.Kx(t)},i.xx=function(t){this.EU.xx(t)},i.PU=function(t){this.xU=t,t.gU(this)},i.dO=function(){return this.EU.dO()},i.Dg=function(){return this.gN},i.Hg=function(){return this.EU.Hg()},i.Ex=function(){return this.EU.Gw},i.Rx=function(){return this.EU.Yw},i.bx=function(){return this.EU.Kg},i.Ux=function(){return this.EU.vy},i.zx=function(){return this.EU.wy},i.Fc=function(){this.gN=void 0,this.JI=void 0,this.IO=void 0,ec(this.SU),this.IU.Fc(),this.DU(this.IU),this.XM.fo();var t=this;lc(this.XM._f(ta((function(n){return ea(this,(function(e){switch(e.label){case 0:return sc(n),[4,t.EU.Fc()];case 1:return e.sent(),[2]}}))}))))},i.kn=function(){this.mo(new HC),this.RU.kn(),this.bN(),this.Fc();var t=this;lc(this._f(ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.EU.kn()];case 1:return n.sent(),t.xU&&(t.xU.Sc(t),t.xU=void 0),t.XM.kn(),[2]}}))})))),this.To()},i.DU=function(t){if(this._N!==t){var n=this._N.Jw,e=this._N.Gw,i=this._N.Zw,r=this._N.Qw;this.bN(),t===this.EU?((r||t.Gw!==e)&&(t.Gw=e),t.Zw!==i&&(t.Zw=i),n?t.yn():t.gn()):this.Pc.retainPlaybackRateOnSourceChange?t.Zw=i:1!==i&&this.mo(new km(this.Ex(),1)),this._N=t,this.pN();for(var u=0,o=this.SU;u<o.length;u++){var s=o[u];this.mo(s)}ec(this.SU),this.yN?t.Ug():t.Vg()}},i.pN=function(){this._N.ko(this.yo)},i.bN=function(){this._N.Ro(this.yo)},i.tl=function(){return t=this,i=function(n){e=n;var i=SI(n,t.Pc);t.Pg(i)},r={get abr(){return t.tU.Qd},get audioTracks(){return t.Rg.Qd},get autoplay(){return t.Eg},set autoplay(n){t.Eg=Boolean(n)},get buffered(){return t.bx()},get canvas(){return t.YF.Qd},get clip(){return t.WF.Qd},get currentProgramDateTime(){var n;return null!=(n=t.Jg)?n:null},set currentProgramDateTime(n){t.Jg=null!=n?n:void 0},get currentTime(){return t.Ex()},set currentTime(n){t.Ix(Number(n))},get duration(){return t.Rx()},get element(){return t.Zg},get ended(){return t.Xw},get error(){return t.Cx()},get errorObject(){return t.Ax()},get loop(){return t.hB.hB},set loop(n){t.hB.hB=Boolean(n)},get metrics(){return t.ty.Qd},get muted(){return t.Kw},set muted(n){t.xx(n)},get network(){return t.rU.Qd},get paused(){return t.Jw},get playbackRate(){return t.Zw},set playbackRate(n){var e=Number(n);if(e<0)throw new RangeError("playbackRate must be a positive number");t.Zw=e},get played(){return t.Ux()},get poster(){return t.BU},set poster(n){t.BU=vy(n)},get preload(){return t.ly},set preload(n){t.ly=n},get presentation(){return t.KF.Qd},get readyState(){return t.cw},get seekable(){return t.zx()},get seeking(){return t.Qw},get source(){return e},set source(t){i(t)},get src(){return vI(t.Dg())},set src(t){i({sources:t})},get textTracks(){return t.Og.Qd},get textTrackStyle(){return t.uU.Qd},get uid(){return t.ql},get videoHeight(){return t.tg},get videoTracks(){return t.Ng.Qd},get videoWidth(){return t.ng},get volume(){return t.eg},set volume(n){t.Kx(Number(n))},get latency(){return t.gy.Qd},destroy:function(){t.kn(),t=null,e=void 0},play:function(){t.AU()},pause:function(){t.yn()},stop:function(){e=void 0,t.Ag()},prepareWithUserAction:function(){t.En()},addEventListener:function(t,e){n.po(t,e)},removeEventListener:function(t,e){n.So(t,e)},setSource:function(t){i(t)}},(n=new bE(r,!0)).xO(t),n.po("destroy",(function(){n.kn()})),r;var t,n,e,i,r},Ii(e,[{key:"HF",get:function(){return this.EU.HF}},{key:"YF",get:function(){return this.EU.YF}},{key:"Pc",get:function(){return this.EU.Pc}},{key:"FF",get:function(){return this.EU.FF}},{key:"Yd",get:function(){return this.EU.Yd}},{key:"MR",get:function(){return this.EU.XF}},{key:"KF",get:function(){return this.EU.KF}},{key:"zF",get:function(){return this.EU.zF}},{key:"lB",get:function(){return this.EU.lB}},{key:"tU",get:function(){return this.EU.tU}},{key:"Eg",get:function(){return this.EU.Eg},set:function(t){this.EU.Eg=t,this.CU()}},{key:"nU",get:function(){return this.EU.nU}},{key:"Rg",get:function(){return this.EU.Rg}},{key:"eU",get:function(){return this.EU.eU}},{key:"iU",get:function(){return this.EU.zF}},{key:"Qd",get:function(){return this.Zd||(this.Zd=this.tl()),this.Zd}},{key:"Cg",get:function(){return this.EU.Cg}},{key:"ty",get:function(){return this.EU.ty}},{key:"rU",get:function(){return this.EU.rU}},{key:"Og",get:function(){return this.EU.Og}},{key:"uU",get:function(){return this.EU.uU}},{key:"Ng",get:function(){return this.EU.Ng}},{key:"WF",get:function(){return this.EU.WF}},{key:"hB",get:function(){return this.EU.hB}},{key:"Jg",get:function(){return this._N.Jg},set:function(t){this._N.Jg=t}},{key:"Yg",get:function(){return this.EU.Yg}},{key:"Zg",get:function(){return this.EU.Zg}},{key:"Xw",get:function(){return this.EU.Xw}},{key:"Kw",get:function(){return this.EU.Kw},set:function(t){this.EU.Kw=t}},{key:"Jw",get:function(){return this._N.Jw}},{key:"BU",get:function(){return this.RU.av||""},set:function(t){this.RU.kU=t}},{key:"Zw",get:function(){return this.EU.Zw},set:function(t){this._N.Zw=t}},{key:"ly",get:function(){return this.EU.ly},set:function(t){this.EU.ly=GS(t)}},{key:"cw",get:function(){return this._N.cw}},{key:"Qw",get:function(){return this._N.Qw}},{key:"ql",get:function(){return this.EU.ql}},{key:"tg",get:function(){return this.EU.tg}},{key:"ng",get:function(){return this.EU.ng}},{key:"eg",get:function(){return this.EU.eg},set:function(t){this.EU.eg=t}},{key:"gy",get:function(){return this.EU.gy}}]),e}(xy)}function XC(t,n){var e=qm(n),i=new(qC||(qC=NC(qC=YC(IC),_C.oU),qC=NC(qC,_C.sU)),qC)(t,e),r=i.Qd;return i.QF(),i.PU(FC),v.defineProperty(r,"constructor",{value:XC}),r=ny(r),function(t){for(var n=0;n<OC.length;n++)(0,OC[n])(t)}(i),r}dc((function(){t.dispatchEvent&&t.dispatchEvent(DC("theoplayerready"))})),ki(),Vt();var $C={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Uc(t)},n.decode=function(t){return Mc(t)},t}())};ki(),Vt();var KC=JSON.parse("[]"),JC="5.8.0",ZC="2023.4.1",QC=FC.Qd,tA=kk.AE.registerContentProtectionIntegration.bind(kk.AE);ki(),Vt(),Ti(),ki(),Vt();var nA=function(){};ki(),Vt();var eA=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}();ki(),Vt(),ki(),Vt();var iA=N(Fi());function rA(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],e=0;e<t.length;e++)n[e]={start:t.start(e),end:t.end(e)};return n}(n):n}function uA(t){return JSON.stringify(t,iA.getSerialize(rA))}ki(),Vt(),ki(),Vt(),Ri();var oA,sA,aA=N(qi()),cA=function(){function t(){}return t.prototype.Oi=function(t){var n=function(t){r[r.length-1].Wi(t)},e=new aA.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new gA,r=[i];return e.on("text",(function(t){r.length>1&&n(new lA(t))})),e.on("cdata",(function(t){n(new wA(t))})),e.on("opentag",(function(t){for(var e=t.local,i=t.uri,u=t.prefix,o=new vA({Pi:e,Bi:""===i?void 0:i,LU:""===u?void 0:u}),s=t.attributes,a=0,c=v.keys(s);a<c.length;a++){var f=s[c[a]],h=f.prefix,d=f.local,l=f.uri,w=f.value,g=new fA({Pi:d,Mi:w,Bi:""===l?void 0:l,LU:""===h?void 0:h});o.MU(g)}n(o),r.push(o)})),e.on("closetag",(function(){r.pop()})),e.on("error",(function(t){throw new yu(t)})),e.write(t).close(),i},t}(),fA=function(){function t(t){this.FU=t.Pi,this.g=t.Mi,this.UU=t.Bi,this.VU=t.LU}var n=t.prototype;return n.Ai=function(t){return this===t||!!mA(this,t)&&(this.FU===t.FU&&this.UU===t.UU&&this.VU===t.VU&&this.g===t.g)},n.Di=function(){return new t({Pi:this.Pi,Mi:this.Mi,Bi:this.Bi,LU:this.Li})},Ii(t,[{key:"Ti",get:function(){return fu.Ei}},{key:"Pi",get:function(){return this.FU}},{key:"xi",get:function(){return void 0===this.VU?this.FU:this.VU+":"+this.FU}},{key:"Bi",get:function(){return this.UU}},{key:"Li",get:function(){return this.VU}},{key:"Mi",get:function(){return this.g}}]),t}(),hA=function(){function t(){this.Fi=[]}var n=t.prototype;return n.Vi=function(t){return this.Fi.filter((function(n){return yA(n)&&n.qi===t}))},n.zi=function(t,n){return this.Fi.filter((function(e){return yA(e)&&e.Pi===n&&e.Bi===t}))},n.Wi=function(t){this.Fi.push(t)},Ii(t,[{key:"Hi",get:function(){return this.Fi}},{key:"Gi",get:function(){return this.Fi.filter(yA)}}]),t}(),vA=function(t){function n(n){var e;return(e=t.call(this)||this).HU=[],e.FU=n.Pi,e.UU=n.Bi,e.VU=n.LU,e}Xi(n,t);var e=n.prototype;return e.qU=function(t){for(var n=0,e=this.Hi;n<e.length;n++){var i=e[n];yA(i)?i.qU(t):t.push(i.nr)}},e.Xi=function(t,n){for(var e=0,i=this.HU;e<i.length;e++){var r=i[e];if(r.Pi===n&&r.Bi===t)return r.Mi}},e.Yi=function(t){for(var n=0,e=this.HU;n<e.length;n++){var i=e[n];if(i.xi===t)return i.Mi}},e.MU=function(t){this.HU.push(t)},e.$i=function(t){for(var n=0;n<this.HU.length;n++)if(this.HU[n].xi===t)return void this.HU.splice(n,1)},e.Ki=function(t,n){for(var e=0;e<this.HU.length;e++)if(this.HU[e].Pi===n&&this.HU[e].Bi===t)return void this.HU.splice(e,1)},e.Ji=function(t,n){this.$i(t),this.MU(new fA({Pi:t,Mi:n}))},e.Zi=function(t,n,e){this.$i(n);var i=n.split(":");this.MU(new fA({Pi:i[i.length-1],Mi:e,Bi:t,LU:i.length>1?i[0]:void 0}))},e.Di=function(t){var e=new n({Pi:this.Pi,Bi:this.Bi,LU:this.Li});return this.Qi.forEach((function(t){return e.MU(t.Di())})),t&&this.Hi.forEach((function(n){return e.Wi(n.Di(t))})),e},e.Ai=function(t){return this===t||!!mA(this,t)&&(this.FU===t.FU&&this.VU===t.VU&&this.UU===t.UU&&(_A(this.Qi,t.Qi)&&_A(this.Hi,t.Hi)))},Ii(n,[{key:"Ti",get:function(){return fu.Si}},{key:"Qi",get:function(){return this.HU}},{key:"Pi",get:function(){return this.FU}},{key:"Bi",get:function(){return this.UU}},{key:"Li",get:function(){return this.VU}},{key:"qi",get:function(){return void 0===this.VU?this.FU:this.VU+":"+this.FU}},{key:"tr",get:function(){var t=[];return this.qU(t),t.join("")}}]),n}(hA),dA=function(){function t(t){this.B=t}return Ii(t,[{key:"nr",get:function(){return this.B}}]),t}(),lA=function(t){function n(n){return t.call(this,n)}Xi(n,t);var e=n.prototype;return e.Di=function(){return new n(this.nr)},e.Ai=function(t){return this===t||!!mA(this,t)&&this.nr===t.nr},Ii(n,[{key:"Ti",get:function(){return fu.Ii}}]),n}(dA),wA=function(t){function n(n){return t.call(this,n)}Xi(n,t);var e=n.prototype;return e.Di=function(){return new n(this.nr)},e.Ai=function(t){return this===t||!!mA(this,t)&&this.nr===t.nr},Ii(n,[{key:"Ti",get:function(){return fu.Ri}}]),n}(dA),gA=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.Di=function(t){var e=new n;return t&&this.Hi.forEach((function(n){return e.Wi(n.Di(t))})),e},e.Ai=function(t){return this===t||!!mA(this,t)&&_A(this.Hi,t.Hi)},Ii(n,[{key:"Ti",get:function(){return fu.Ni}},{key:"er",get:function(){return this.Gi[0]}}]),n}(hA);function yA(t){return du(t)}function mA(t,n){return t.Ti===n.Ti}function _A(t,n){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!t[e].Ai(n[e]))return!1;return!0}function pA(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:na({},t,{adBreak:na({},t.adBreak,{ads:t.adBreak.ads.map((function(t){t.adBreak;return wk(t,["adBreak"])}))})})}function bA(t){return void 0===t.ads?t:na({},t,{ads:t.ads.map((function(t){t.adBreak;return wk(t,["adBreak"])}))})}function kA(t){return"string"==typeof t.date?new Date(t.date):t.date}function TA(t){var n;return t.cue.track?(n=EA(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=EA(t.cue,""),n}function SA(t){var n=[];return function t(e){if(Array.isArray(e))return e.map(t);if("object"==typeof e&&null!==e&&v.keys(e).length){if(n.includes(e))return"[Circular ~]";n.push(e);var i=v.entries(e);return v.fromEntries(i.map((function(e){var i=ia(e,2),r=i[0],u=i[1],o=t(u);return"object"==typeof u&&null!==u&&"[Circular ~]"!==o&&n.pop(u),[r,o]})))}return e}(t)}function EA(t,n){var e={};switch(e.content=t.content,e.endTime=t.endTime,e.startTime=t.startTime,e.id=t.id,e.uid=t.uid,n){case"webvtt":e.align=t.align,e.line=t.line,e.lineAlign=t.lineAlign,e.position=t.position,e.positionAlign=t.positionAlign,e.region=t.region,e.size=t.size,e.snapToLines=t.snapToLines,e.text=t.text,e.vertical=t.vertical;break;case"ttml":e.content=RA(t.content).innerHTML;for(var i=t.content,r={};i.firstChild&&i.firstChild.outerHTML;){(new cA).Oi(i.firstChild.outerHTML).er.Qi.forEach((function(t){r[t.Pi]=t.Mi})),i=i.firstChild}e.ttmlAttributes=r;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if(OA(s)){var a=IA(s);u[o]={type:"daterange-ca-type_arraybuffer",value:a}}else CA(s)?u[o]={type:"daterange-ca-type_number",value:s}:u[o]={type:"daterange-ca-type_string",value:String(s)}}e.attributedClass=String(t.class),e.startDate=t.startDate,e.endDate=t.endDate,e.duration=t.duration,e.plannedDuration=t.plannedDuration,e.endOnNext=t.endOnNext,e.scte35Cmd=IA(t.scte35Cmd),e.scte35Out=IA(t.scte35Out),e.scte35In=IA(t.scte35In),e.customAttributes=u}return e}function IA(t){if(void 0!==t)return Uc(t)}function RA(t){var n=t.children;if(0!==n.length)for(var e=0;e<n.length;e++){var i=n.item(e);return"image"===i.nodeName||"smpte:image"===i.nodeName?i:RA(i)}}function NA(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var e=[];if(t.cues)for(var i=0;i<t.cues.length;i++){var r=t.cues[i];e.push(EA(r,t.type))}n.cues=e;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(EA(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function OA(t){return"object"==typeof t&&null!==t}function CA(t){return"number"==typeof t}(sA=oA||(oA={})).bF="daterange-ca-type_string",sA.zU="daterange-ca-type_number",sA.WU="daterange-ca-type_arraybuffer";var AA={cue:function(t){var n={};switch(n.date=kA(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=TA(t)}return n},textTrack:function(t){var n={};switch(n.date=kA(t),n.type=t.type,t.type){case"addcue":var e=t.cue;BA().register(e);var i=xA()[LA()].eventListeners;t.cue.addEventListener("enter",(function(t){i.InternalCueHelperEvent(t)})),t.cue.addEventListener("exit",(function(t){i.InternalCueHelperEvent(t)})),t.cue.addEventListener("update",(function(t){i.InternalCueHelperEvent(t)}));case"removecue":case"entercue":case"exitcue":n.cue=TA(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var o=t.track.activeCues[u];r.push(EA(o,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,e={track:NA(t.track),date:kA(t),type:t.type},i=null==(n=t.track)?void 0:n.cues,r=BA();if(i)switch(t.type){case"addtrack":i.forEach(r.register);break;case"removetrack":i.forEach((function(t){return r.remove(t.uid)}))}return e},default:function(t){var n={};switch(n.date=kA(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case ol.Ih:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=na({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=NA(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=bA(t.ad);break;case"adloaded":case"adimpression":n.ad=pA(t.ad);break;case"adskip":n.ad=pA(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.jU&&(n.jU=t.jU),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=pA(t.ad)}return SA(n)},minimizeCueHelper:function(t){var n={};return n.date=kA(t),n.type=t.type,n.cue=TA(t),n.track={uid:t.cue.track.uid},n},adReplacer:pA,adBreakReplacer:bA,removeCircularReferences:SA},DA=function(){this.stringify=uA,this.minimize=AA};function PA(){return mi.self}function xA(){return PA().THEOplayerBridge}function BA(){return PA().THEOCueMirrorMap}function LA(){return PA().THEOplayerGlobalID}function MA(){var t=PA();if(t.THEOplayerBridge){var n=new nA;t.THEOplayerBridge=iy(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new nA;t.THEOplayerUtils||(t.THEOplayerUtils=new DA),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new eA)}MA(),ki(),Vt(),ki(),Vt(),ki(),Vt(),Ri();var FA=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Oi=function(t){var n,e=new DOMParser;try{n=e.parseFromString(t,"text/xml")}catch(t){throw new yu(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new yu;return new UA(n)},n}(mu),UA=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Di=function(t){return new n(this.Ui.cloneNode(t))},Ii(n,[{key:"Hi",get:function(){return void 0===this.Fi&&(this.Fi=qA(this.Ui.childNodes)),this.Fi}},{key:"er",get:function(){return new VA(this.Ui.documentElement)}}]),n}(Eu),VA=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.Di=function(t){var e=new n(this.Ui.cloneNode(t));return e.Qi.length<1&&this.Qi.length>0&&this.Qi.forEach((function(t){e.Ji(t.xi,t.Mi)})),e},Ii(n,[{key:"Hi",get:function(){return void 0===this.Fi&&(this.Fi=qA(this.Ui.childNodes)),this.Fi}}]),n}(bu);function HA(t){switch(t.nodeType){case fu.Si:return new VA(t)}return Ru(t)}function qA(t){for(var n=[],e=0;e<t.length;e++){var i=HA(t.item(e));i&&n.push(i)}return n}$i(new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).GU=new FA,n}return Xi(n,t),n.prototype.Oi=function(t){return this.GU.Oi(t)},n}(Mg))),ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var zA=function(t){function n(n,e){var i;return(i=t.call(this,n)||this).type=n,i.detail=e,i}return Xi(n,t),n}(Sc),WA=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.dispatchEvent=function(t,n){this.mo(new zA(t,n))},e.addEventListener=function(t,n){this.po(t,n)},e.removeEventListener=function(t,n){this.So(t,n)},n}(xy);ki(),Vt(),Ri();var jA=function(t){function n(n,e){var i;return(i=t.call(this)||this).YU=function(t){i.$U.XU("THEOplayerABRSetTargetBuffer",t.jP),i.mo(t)},i.KU=function(t){i.$U.XU("THEOplayerABRSetStrategy",t.WP),i.mo(t)},i.$U=n,i.JU=e,i.JU.po("XP",i.YU),i.JU.po("$P",i.KU),i}return Xi(n,t),n.prototype.ox=function(t){return this.JU.ox(t)},Ii(n,[{key:"hx",get:function(){switch(this.WP.type){case JR.PERFORMANCE:return 1;case JR.QUALITY:return 0;case JR.BANDWIDTH:var t;return(null==(t=this.WP.metadata)?void 0:t.bitrate)&&!g(this.WP.metadata.bitrate)?this.WP.metadata.bitrate:0;default:return 0}}},{key:"Qd",get:function(){return this.JU.Qd}},{key:"WP",get:function(){return this.JU.WP},set:function(t){this.JU.WP=t}},{key:"jP",get:function(){return this.JU.jP},set:function(t){this.JU.jP=t}},{key:"sx",get:function(){return this.JU.sx}},{key:"GP",get:function(){return this.JU.GP},set:function(t){this.JU.GP=t}},{key:"YP",get:function(){return this.JU.YP}},{key:"UP",get:function(){return this.JU.UP}}]),n}(pc);ki(),Vt(),Ri(),ki(),Vt(),Ri();var GA,YA,XA=function(){function t(t,n,e){this.Ac=void 0,this.rf=t,this.ju=e,this.kf=n}var n=t.prototype;return n.TS=function(t){throw new f("Not implemented yet.")},n.oF=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){switch(r.label){case 0:return[4,e.ju.Gu(t.Fu,n)];case 1:return[4,r.sent().Hc()];case 2:return i=r.sent(),[4,e.ZU(i)];case 3:return r.sent(),[2,i]}}))}))()},n.QU=function(t){return!1},n.JM=function(t){return G.resolve(void 0)},n.ro=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.ZU(void 0)];case 1:return n.sent(),[2]}}))}))()},n.ZU=function(t){var n=this;return ta((function(){return ea(this,(function(e){switch(e.label){case 0:return[4,n.tV(t)];case 1:return e.sent(),[2]}}))}))()},n.tV=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){switch(i.label){case 0:return(e=n.Ac)?[4,e.Mc(n.kf)]:[3,2];case 1:i.sent(),n.Ac=void 0,i.label=2;case 2:return t?[4,t.Lc(n.kf)]:[3,4];case 3:i.sent(),n.Ac=t,i.label=4;case 4:return[2]}}))}))()},n.pS=function(t,n,e){throw new f("Not implemented yet.")},Ii(t,[{key:"Pc",get:function(){return this.rf}},{key:"ly",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"wy",get:function(){return new ZS([0,1/0])}},{key:"Og",get:function(){throw new f("Not implemented yet.")}},{key:"nV",get:function(){throw new f("Not implemented yet")}},{key:"Ng",get:function(){throw new f("Not implemented yet.")}},{key:"eV",get:function(){throw new f("Not implemented yet")}},{key:"iV",get:function(){throw new f("Not implemented yet")}}]),t}();ki(),Vt(),(YA=GA||(GA={})).rV="webkitneedkey",YA.uV="webkitkeymessage",YA.oV="webkitkeyerror",YA.sV="webkitkeyflowdone";var $A=function(t){function n(n,e){var i;return(i=t.call(this,"webkitneedkey")||this).initData=n,i.sessionId=e,i}return Xi(n,t),n}(Sc),KA=function(t){function n(n,e){var i;return(i=t.call(this,"webkitkeymessage")||this).message=n,i.destinationURL=e,i}return Xi(n,t),n}(Sc),JA=function(t){function n(){return t.call(this,"webkitkeyerror")}return Xi(n,t),n}(Sc),ZA=function(t){function n(){return t.call(this,"webkitkeyflowdone")}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt(),Ri(),ki(),Vt(),Ri();var QA=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this)||this).Gc=n,o.vc=e,o.aV=i,o.Tf=r,o.sf=u,o.Kc=new Df,o.af=void 0,o.nf=new Dc,o.ff=new Df,o.cV=function(t){o.af?(o.af.us(void 0),o.af=void 0):o.tf("internal-error"),o.mo(new Oc)},o.fV=function(t){o.mo(new Nc(lu(o),"license-request",Of(t.message).buffer,t.destinationURL||void 0))},o.hV=function(t){o.af&&(o.af.rs(void 0),o.af=void 0)},o}Xi(n,t);var e=n.prototype;return e.kc=function(t,n,e){var i=this;return ta((function(){var t;return ea(this,(function(r){switch(r.label){case 0:if(!(t=e&&e.fairplay&&e.fairplay.hf))throw new h("Expected FairPlay contentId to be defined but was "+t+".");return[4,i.vV(Rf(n),t)];case 1:return r.sent(),i.tf("usable"),i.ff.rs(),i.ff=new Df,[2]}}))}))()},e.Tc=function(t){return ta((function(){return ea(this,(function(t){return[2,!0]}))}))()},e.Ec=function(t){var n=this;return ta((function(){var e;return ea(this,(function(i){if(0===(e=Rf(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.af=new Df,n.aV.Ec(n.Tf,e),[2,n.af.es]}))}))()},e.bc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.ff];case 1:return n.sent(),t.aV.So(GA.uV,t.fV),t.aV.So(GA.oV,t.cV),t.aV.So(GA.sV,t.hV),t.ff.fo(),t.Kc.rs(void 0),[2,t.Kc.es]}}))}))()},e.Sc=function(){return ta((function(){return ea(this,(function(t){return[2]}))}))()},e.vV=function(t,n){var e=this;return ta((function(){var i;return ea(this,(function(r){return i=Md(t,n,e.sf),e.aV.po(GA.uV,e.fV),e.aV.po(GA.oV,e.cV),e.aV.po(GA.sV,e.hV),e.aV.jM(e.Tf,i),[2]}))}))()},e.tf=function(t){this.nf.jo(),this.nf.Wo(Ac,t),this.mo(new Rc(this))},Ii(n,[{key:"Cc",get:function(){return this.Tf}},{key:"Nc",get:function(){return NaN}},{key:"Rc",get:function(){return this.Kc.es}},{key:"Oc",get:function(){return this.nf}}]),n}(pc),tD=function(){function t(t,n,e){this.dV=void 0,this.Tf=void 0,this.sf=void 0,this.aV=t,this.vc=n,this.rf=e;var i=pd(e)||"video/mp4";this.Gc=yd(i)}var n=t.prototype;return n.xc=function(t){var n=this;return ta((function(){var t;return ea(this,(function(e){if(!n.sf)throw new Fd(Dd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return t=new QA(n.Gc,n.vc,n.aV,n.Tf,n.sf),n.dV=t,[2,t]}))}))()},n.Bc=function(t){return this.sf=Rf(t),G.resolve(!0)},n.Lc=function(t){var n=this;return ta((function(){return ea(this,(function(e){return t.webkitSetMediaKeys(n),[2]}))}))()},n.Mc=function(t){return ta((function(){return ea(this,(function(n){return t.webkitSetMediaKeys(null),[2]}))}))()},n.createSession=function(){throw new f("Whoops.")},Ii(t,[{key:"Dc",get:function(){return this.vc}},{key:"Pc",get:function(){return this.rf}},{key:"sessionId",set:function(t){this.Tf=t}}]),t}(),nD=function(){function t(t,n,e){this.lV=t,this.vc=n,this.rf=e}var n=t.prototype;return n.qc=function(){return this.rf},n.Hc=function(){var t=this;return ta((function(){return ea(this,(function(n){return[2,new tD(t.lV,t.vc,t.rf)]}))}))()},Ii(t,[{key:"Dc",get:function(){return this.vc}}]),t}(),eD=function(){function t(t){this.lV=t}return t.prototype.Gu=function(t,n){var e=this;return ta((function(){var i,r,u;return ea(this,(function(o){for(i=0;i<n.length;i++)if(r=n[i],u=md(iD,Ic,t,r))return[2,new nD(e.lV,t,u)];throw new h("Unsupported key system configuration for "+t)}))}))()},t}();function iD(t,n){return t===Ra}ki(),Vt();var rD=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.iF=function(t,n){return!0},n}(JO),uD=function(t){function n(n,e,i){var r;return void 0===i&&(i=new eD(e)),(r=t.call(this)||this).KI=void 0,r.wV=new jd,r.gV=!1,r.uf=null,r.yV={ny:0,ey:0,iy:0,uy:0,oy:0,sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.mV=function(t){"boolean"==typeof t.detail.casting&&(r.gV=t.detail.casting,r.mo(new P_(r.gV)))},r._V=function(t){r.Tf=t.sessionId,r.uf&&(r.uf.sessionId=r.Tf);var n=t.initData;if(n){var e=function(t){try{var n=Sf(t),e=new Af;return yf(mf(ef(n,e,sf(n,e,!0)),!0))}catch(t){return}}(n);if(!e)return;r.mo(new Cc(ya,e))}else r.mo(new Cc(ya,new ArrayBuffer(0)))},r.pV=n,r.lV=e,r.lV.po(GA.rV,r._V),r.ju=i,r.bV=new rD(lu(r)),r.kV(),r}Xi(n,t);var e=n.prototype;return e.TV=function(t){for(var n=0;n<t.length;n++){var e=t[n];if(e.Mu===qb.ES)return e}},e.ro=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.Fc()];case 1:return n.sent(),t.To(),t.SV(),t.lV.So(GA.rV,t._V),[4,t.bV.ro()];case 2:return n.sent(),[2]}}))}))()},e.Vg=function(){throw new f("Not implemented yet")},e.pS=function(t,n,e,i,r,u,o,s,a){throw new f("Not implemented yet")},e.DR=function(){return!1},e.xR=function(t,n,e,i,r){throw new f("Not implemented yet")},e.TS=function(t){throw new f("Not implemented yet")},e.FR=function(){throw new f("Not implemented yet")},e.Tc=function(t){var n=this;return ta((function(){return ea(this,(function(e){return[2,n.wV._f(ta((function(e){var i;return ea(this,(function(r){if(t.Mu===qb.ES)return sc(e),i=new XA(t,n,n.ju),n.KI=i,n.bV.Tc(i,t),[2,i];throw new f("Could not create non-static media source")}))})))]}))}))()},e.yn=function(){throw new f("Not implemented yet")},e.gn=function(){throw new f("Not implemented yet")},e.Fc=function(){this.wV.fo();var t=this;return this.wV._f(ta((function(){return ea(this,(function(n){switch(n.label){case 0:return void 0===t.KI?[3,2]:[4,t.KI.ro()];case 1:n.sent(),t.KI=void 0,n.label=2;case 2:return[4,t.bV.Fc()];case 3:return n.sent(),[2]}}))})))},e.$o=function(t,n,e){throw new f("Not implemented yet")},e.jR=function(t){throw new f("Not implemented yet")},e.Ug=function(){throw new f("Not implemented yet")},e.GR=function(){return this.yV},e.kV=function(){this.pV.addEventListener("airPlayIsCasting",this.mV)},e.SV=function(){this.pV.removeEventListener("airPlayIsCasting",this.mV)},e.webkitSetMediaKeys=function(t){this.uf=t||null,this.uf&&(this.uf.sessionId=this.Tf)},e.EV=function(){},e.IV=function(){throw new f("Not implemented yet")},e.RV=function(){throw new f("Not implemented yet")},Ii(n,[{key:"Jg",get:function(){throw new f("Not implemented yet")}},{key:"Kg",get:function(){throw new f("Not implemented yet")}},{key:"Gw",get:function(){throw new f("Not implemented yet")}},{key:"iU",get:function(){throw new f("Not implemented yet")}},{key:"Yw",get:function(){throw new f("Not implemented yet")}},{key:"Xw",get:function(){throw new f("Not implemented yet")}},{key:"xo",get:function(){throw new f("Not implemented yet")}},{key:"Kb",get:function(){throw new f("Not implemented yet")}},{key:"Qg",get:function(){return this.gV}},{key:"Kw",get:function(){throw new f("Not implemented yet")}},{key:"Jw",get:function(){throw new f("Not implemented yet")}},{key:"Zw",get:function(){throw new f("Not implemented yet")}},{key:"vy",get:function(){throw new f("Not implemented yet")}},{key:"cw",get:function(){throw new f("Not implemented yet")}},{key:"wy",get:function(){throw new f("Not implemented yet")}},{key:"Qw",get:function(){throw new f("Not implemented yet")}},{key:"NV",get:function(){throw new f("Not implemented yet")}},{key:"OV",get:function(){throw new f("Not implemented yet")}},{key:"eg",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"um",get:function(){throw new f("Not implemented yet")}},{key:"MR",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.uf}},{key:"rF",get:function(){return VN}},{key:"Og",get:function(){throw new f("Not implemented yet")}},{key:"uU",get:function(){throw new f("Not implemented yet")}},{key:"YR",get:function(){throw new f("Not implemented yet")}},{key:"CV",get:function(){return!0}},{key:"TR",get:function(){return this.bV.TR},set:function(t){this.bV.TR=t}},{key:"AV",get:function(){},set:function(t){}},{key:"aF",get:function(){return this.bV.aF}}]),n}(Py);ki(),Vt();var oD=function(t){function n(n){var e;return(e=t.call(this,ol.Oh)||this).yV=n,e}return Xi(n,t),n}(Sc);ki(),Vt(),ki(),Vt(),Ri(),ki(),Vt();var sD=function(t){function n(n,e){var i,r=aD(e,n.Yw,n.YR,n.DV);return(i=t.call(this,e,r,void 0,!1,n.Hl)||this).PV=n.xV,i.BV=n.YR,i.LV=n.DV,i.ta=n.Yw,i.MV=n.FV,i.UV=Boolean(n.VV),i.HV=n.qV||{},i.zV=n.WV,i.jV=n.GV,i.YV=n.XV,i.$V(),i.KV(),i}Xi(n,t);var e=n.prototype;return e.Ec=function(t){var n=!1;void 0===this.PV&&void 0!==t.xV&&(n=!0,this.PV=t.xV),void 0===this.LV&&void 0!==t.DV&&(n=!0,this.LV=t.DV),void 0===this.ta&&void 0!==t.Yw&&(n=!0,this.ta=t.Yw),void 0===this.MV&&void 0!==t.FV&&(n=!0,this.MV=t.FV),!this.UV&&t.VV&&(n=!0,this.UV=t.VV),n=this.updateCustomAttributes(t,n),void 0===this.zV&&void 0!==t.WV&&(n=!0,this.zV=t.WV),void 0===this.jV&&void 0!==t.GV&&(n=!0,this.jV=t.GV),void 0===this.YV&&void 0!==t.XV&&(n=!0,this.YV=t.XV),this.$V(),this.KV(),this.JV(),n&&this.mo(new F_(this))},e.updateCustomAttributes=function(t,n){var e=n;if(t.qV)for(var i=0,r=v.keys(t.qV);i<r.length;i++){var u=r[i];void 0===this.HV[u]&&(e=!0,this.HV[u]=t.qV[u])}return e},e.$V=function(){this.ta&&!this.LV&&(this.LV=new Date(this.BV.getTime()+1e3*this.ta))},e.KV=function(){this.LV&&!this.ta&&(this.ta=cu(this.LV.getTime()-this.BV.getTime()))},e.JV=function(){this.Wy===1/0&&(this.LV||this.ta)&&(this.Wy=aD(this.zy,this.ta,this.BV,this.LV))},Ii(n,[{key:"Qd",get:function(){var t;return this.Zd||(this.Zd=iy(L_(t=this),{get content(){return t.Uy},get class(){return t.xV},get startDate(){return t.YR},get endDate(){return t.DV},get duration(){return t.Yw},get plannedDuration(){return t.FV},get endOnNext(){return t.VV},get scte35Cmd(){return t.WV},get scte35Out(){return t.GV},get scte35In(){return t.XV},get customAttributes(){return t.qV}})),this.Zd}},{key:"xV",get:function(){return this.PV}},{key:"YR",get:function(){return this.BV}},{key:"DV",get:function(){return this.LV}},{key:"Yw",get:function(){return this.ta}},{key:"FV",get:function(){return this.MV}},{key:"VV",get:function(){return this.UV}},{key:"WV",get:function(){return this.zV}},{key:"GV",get:function(){return this.jV}},{key:"XV",get:function(){return this.YV}},{key:"qV",get:function(){return this.HV}}]),n}(H_);function aD(t,n,e,i){return fr(n)?t+n:i?t+(cu(i.getTime())-cu(e.getTime())):1/0}var cD,fD=function(t){function n(){return t.call(this,void 0,void 0,R_.DATE_RANGE)}Xi(n,t);var e=n.prototype;return e.Ec=function(t,n){!function(t,n,e){for(var i=function(e){var i=r[e],u=Ja(n,(function(t){return t.Hl===i.Hl}));u?i.Ec(u):t.sS(i)},r=t.fw.Cl,u=r.length-1;u>=0;u--)i(u);for(var o=0;o<n.length;o++){var s=n[o],a=s.YR;if(void 0!==a&&!t.XL(s.Hl)){var c=e(a);t.kS(new sD(s,c))}}}(this,function(t){for(var n=ua(),e=[],i=0;i<t.length;i++){var r=t[i];if(n.has(r.Hl)){var u=n.get(r.Hl),o=na({},u,sy(r),{qV:na({},u.qV,r.qV)});n.set(r.Hl,o)}else n.set(r.Hl,r),e.push(r.Hl)}return e.map((function(t){return n.get(t)}))}(t),n)},e.kS=function(n){var e,i,r;e=this.fw.Cl,i=n,(r=Za(e,(function(t){return t.xV===i.xV})))&&r.VV&&r.Ec({Hl:r.Hl,DV:i.YR}),t.prototype.kS.call(this,n)},n}(MO);function hD(t){switch(t.type){case"daterange-ca-type_string":return t.value;case"daterange-ca-type_number":return fy(t.value);case"daterange-ca-type_arraybuffer":return Mc(t.value);default:return}}function vD(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}ki(),Vt(),function(t){t.bF="daterange-ca-type_string",t.zU="daterange-ca-type_number",t.WU="daterange-ca-type_arraybuffer"}(cD||(cD={})),ki(),Vt(),ki(),Vt(),Ri();var dD=function(t){function n(n,e,i,r,u){var o;return(o=t.call(this,r,e,i)||this).fI=n,o.ZV=u,o}return Xi(n,t),Ii(n,[{key:"name",get:function(){return this.fI}},{key:"timestamp",get:function(){return this.ZV}}]),n}(Fd);ki(),Vt();var lD=function(t){function n(n,e,i,r,u,o,s,a){var c;return(c=t.call(this,n,e,i,r,a)||this).url=u,c.status=o,c.errorComment=s,c}return Xi(n,t),n}(dD);ki(),Vt(),Ri();var wD=function(){function t(t,n){this.Tg=new bb,this.QV=new DO(t,n)}var n=t.prototype;return n.pS=function(t,n,e,i,r,u,o,s){var a=new wO(t,n,e,i,r,u,o,void 0,s);return this.Tg.Rl(a),this.QV.Rl(a),a},n.TS=function(t){this.Tg.Nl(t),this.QV.Nl(t),t.kn()},n.Fc=function(){for(var t=0,n=this.Tg.Cl.slice();t<n.length;t++){n[t].kn()}this.Tg.Fc(),this.QV.Fc()},n.kn=function(){this.Fc(),this.Tg.kn(),this.QV.kn()},Ii(t,[{key:"Og",get:function(){return this.Tg}}]),t}(),gD=function(t){function n(n,e,i,r,u){var o;(o=t.call(this)||this).gO=0,o.tH=!1,o.JI=void 0,o.ZI=void 0,o.mO=!0,o._O=1,o.nH=ZS.hO(),o.eH=ZS.hO(),o.yO=!1,o.iH=ZS.hO(),o.ML=Ky.Bw,o.OS=Ky.Bw,o.yV={ny:0,ey:0,iy:0,uy:0,oy:0,sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.KI=void 0,o.QI=new NS,o.tR=new xS;var s=lu(o);o.setCurrentTime=ta((function(t){return ea(this,(function(n){switch(n.label){case 0:return s.wy.length?[3,2]:(s.gO=t,[4,s.pV.No("seekablechange")]);case 1:n.sent(),n.label=2;case 2:return s.gO=s.updateCurrentTime(t),s.$U.XU("THEOplayerSetCurrentTime",s.gO),s.pO=!0,s.mo(new Im(s.gO)),[2]}}))})),o.rH=function(t){if(t.detail){for(var n=t.detail.buffered,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.nH=new ZS(e),o.mo(new HN(o.Gw))}},o.uH=function(t){o.ML=t.detail.readyState,o.mo(new Om(+t.detail.currentTime,o.cw)),o.oH()},o.sH=function(t){o.ML=t.detail.readyState,o.mo(new Cm(+t.detail.currentTime,o.cw)),o.oH()},o.aH=function(t){if(t.detail){var n=+t.detail.duration;o.ta=n,o.mo(new bm(o.Yw))}},o.cH=function(t){t.detail&&(o.tH=!0,o.mo(new Sm(+t.detail.currentTime)))},o.nR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,e=JSON.parse(t.detail.errorObject);vD(n=e)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.ZI=new lD(e.name,e.message,void 0,e.code,e.url,e.status,e.errorComment,e.timestamp),o.JI=v_(o.ZI),o.mo(new Dm(o.ZI))):vD(e)&&(o.ZI=new dD(e.name,e.message,void 0,e.code,e.timestamp),o.JI=v_(o.ZI),o.mo(new Dm(o.ZI)))}},o.fH=function(t){o.mo(new QN)},o.hH=function(t){o.ML=t.detail.readyState,o.mo(new Em(+t.detail.currentTime,o.cw)),o.oH()};var a=lu(o);o.vH=ta((function(t){return ea(this,(function(n){switch(n.label){case 0:return a.wy.length?[3,2]:[4,a.pV.No("seekablechange")];case 1:n.sent(),n.label=2;case 2:return a.ML=t.detail.readyState,a.mo(new pm(+t.detail.currentTime,a.cw)),a.oH(),[2]}}))})),o.dH=function(t){t.detail&&o.mO&&(o.mO=!1,o.mo(new mm(+t.detail.currentTime)))},o.lH=function(t){t.detail&&(o.mO||(o.mO=!0,o.mo(new wm(+t.detail.currentTime))))},o.wH=function(t){if(t.detail){for(var n=t.detail.played,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.iH=new ZS(e)}},o.gH=function(t){t.detail&&o.mo(new Gb(+t.detail.currentTime))},o.yH=function(t){t.detail&&(o._O=t.detail.playbackRate,o.mo(new km(+t.detail.currentTime,o._O)))},o.mH=function(t){if(t.detail){for(var n=t.detail.seekable,e=[],i=0;i<n.length;i++){var r=n[i];e.push(r.start,r.end)}o.eH=new ZS(e)}},o._H=function(t){t.detail&&(o.gO=+t.detail.currentTime,o.pO=!1,o.mo(new Tm(o.gO,o.pH)),o.mo(new Rm(o.gO)))},o.bH=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.ta&&(o.tH=!1),o.pO=!0,o.mo(new Im(n))}},o.kH=function(t){t.detail&&(t.detail.currentDate&&(o.pH=new Date(1e3*t.detail.currentDate)),o.gO=+t.detail.currentTime,o.mo(new Tm(o.gO,o.pH)))},o.TH=function(t){o.SH=t.detail.height,o.EH=t.detail.width},o.IH=function(t){t.detail&&o.mo(new jb(+t.detail.currentTime))},o.RH=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.Rg.Rl(new k_(n))},o.NH=function(t){for(var n,e,i=t.detail.lang,r=t.detail.label,u=0;u<o.bg.Al;u++){var s=o.Rg.Il(u);s.Gl==i&&s.Wl==r?e=o.bg.Il(u):1==s.Vl&&(n=o.bg.Il(u))}e&&n&&(e.Vl=!0,n.Vl=!1)},o.OH=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.Ng.Rl(new S_(n))},o.CH=function(t){var n,e=t.detail.kind,i=t.detail.type;e===_b.Vp&&i===R_.ID3?(n=new FO("",t.detail.label)).iw=Sy.uw:e===_b.Vp&&i===R_.DATE_RANGE?(n=new fD,o.AH=n):n=new wO(e,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,i),o.DH.Rl(n),o.QV.Rl(n)},o.PH=function(t){for(var n=0,e=t.detail;n<e.length;n++){var i=e[n],r=i.Id3FrameId,u=void 0;if("PRIV"===r)u={id:r,ownerIdentifier:i.Id3_PRIV_ownerIdentifier,data:i.Id3_PRIV_data};else if("TXXX"===r||"TXX"===r){u={id:r,text:i.Id3FrameText,description:i.Id3FrameDescription}}else{u={id:r,text:i.Id3FrameText}}var s=new LO(fy(i.startTime),u,i.uid),a=o.xH();a&&a.kS(s)}},o.BH=function(t){for(var n=0,e=t.detail;n<e.length;n++){var i,r=e[n],u=new q_(fy(r.startTime),fy(r.endTime),r.content,!1),s=null!=(i=o.LH(_b.Fp))?i:o.LH(_b.iS);s&&(s.Mu=R_.WEBVTT,s.kS(u))}},o.MH=function(t){t.type===ol.jf&&(o.JI=v_(t.errorObject)),o.yo(t)},o.FH=function(t){t.detail&&(o.yV.ey=t.detail.corruptedVideoFrames,o.yV.ny=t.detail.droppedVideoFrames,o.mo(new oD(o.ty)))},o.UH=function(t){var n=function(t){var n=t.detail,e=[];return n.forEach((function(t){var n={Hl:t.id};if(void 0!==t.startDate&&(n.YR=new Date(t.startDate)),void 0!==t.endDate&&(n.DV=new Date(t.endDate)),void 0!==t.customAttributes){var i={};for(var r in t.customAttributes){var u=hD(t.customAttributes[r]);void 0!==u&&(i[r]=u)}n.qV=i}void 0!==t.scte35Cmd&&(n.WV=Mc(t.scte35Cmd)),void 0!==t.scte35In&&(n.XV=Mc(t.scte35In)),void 0!==t.scte35Out&&(n.GV=Mc(t.scte35Out)),void 0!==t.startTime&&(n.My=t.startTime),n.xV=t.class,n.Yw=fy(t.duration),n.FV=fy(t.plannedDuration),e.push(n)})),e}(t);n.forEach((function(t){var e=null!=t.My?t.My:(new Date).getTime(),i=new sD(t,e);o.AH.kS(i),o.AH.Ec(n,e)}))};var c=r.uid;o.$U=o.getSdkBridge(c),o.pV=new WA,xA()[c].sdkEventBus=o.pV,o.bg=new d_,o.kg=new d_;var f=o.VH(i);return o.yS=new wD(lu(o),new PO),o.QV=new BO(lu(o)),o.IR=new Lb(o.yS,f),o.DH=new bb,o.HH=new UO(o.yS,o.DH),o.Tg=new AS([o.DH,o.IR.xb,o.HH.xb]),o.lV=o.getFairPlayControllerBridge(o.$U),o.mR=new uD(o.pV,o.lV),o.kR=new OS(f),o.mR.TR=o.kR,o.observeMediaElement(),o.ER(),o.kO=new jA(o.$U,u),o.kO.po("XP",(function(){o.$U.XU("THEOplayerSetPreferredForwardBufferDuration",o.kO.jP)})),o}Xi(n,t);var e=n.prototype;return e.qg=function(){return nE},e.Ug=function(){this.$U.XU("THEOplayerShow",{})},e.Vg=function(){this.$U.XU("THEOplayerHide",{})},e.qH=function(){var t=this;this.$U.XU("THEOplayerSetInitialPreferredPeakBitRate",this.kO.hx);var n=function(){t.$U.XU("THEOplayerSetInitialPreferredPeakBitRate",0),t.So("playing",n)};this.po("playing",n)},e.Pg=function(t,n){var e=this;return ta((function(){var i,r,u;return ea(this,(function(o){switch(o.label){case 0:return e.zH=t,i=na({},n,{sources:{src:t.src,type:Wy.Nw,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),e.$U.XU("THEOplayerSourceChange",i),r={Mu:qb.ES,dw:t.src,qh:t.type,RR:e.NR(t),OR:t.crossOrigin,CR:n.metadata&&n.metadata.title},e.kR.LI(t.contentProtection),[4,e.mR.Tc(r)];case 1:return e.KI=o.sent(),n.textTracks&&(u=n.textTracks.filter((function(t){return t.format!==R_.WEBVTT}))).length>0&&e.AR(u),Hb(e.Og),e.qH(),[2]}}))}))()},e.NR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Dc:Ca,qR:[{initDataTypes:[Ca.Uu],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.gn=function(){this.mO=!1,this.mo(new mm(this.Gw)),this.$U.XU("THEOplayerPlay",{})},e.yn=function(){this.mO=!0,this.mo(new wm(this.Gw)),this.$U.XU("THEOplayerPause",{})},e.Hg=function(){},e.Fc=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return t.gO=0,t.tH=!1,t.JI=void 0,t.ZI=void 0,t.mO=!0,t._O=1,t.ta=void 0,t.eH=ZS.hO(),t.nH=ZS.hO(),t.SH=void 0,t.EH=void 0,t.ML=Ky.Bw,t.OS=Ky.Bw,t.bg.Fc(),t.kg.Fc(),t.DH.Fc(),t.Tg.Fc(),[4,t.HH.Fc()];case 1:return n.sent(),[4,t.IR.Fc()];case 2:return n.sent(),t.yS.Fc(),t.QV.Fc(),t.zH=void 0,[4,t.mR.Fc()];case 3:return n.sent(),[2]}}))}))()},e.Bg=function(){this.$U.XU("THEOplayerShowAirPlayPicker",{})},e.Lg=function(){this.$U.XU("THEOplayerStopAirPlayPicker",{})},e.updateMetrics=function(t){this.ty.ey=t.ey,this.ty.ny=t.ny},e.kn=function(){var t=this;return ta((function(){return ea(this,(function(n){switch(n.label){case 0:return[4,t.Fc()];case 1:return n.sent(),t.To(),t.unobserveMediaElement(),t.HR(),t.mR.TR=void 0,[4,t.mR.ro()];case 2:return n.sent(),t.bg.kn(),t.kg.kn(),t.DH.kn(),t.Tg.kn(),[4,t.HH.kn()];case 3:return n.sent(),[4,t.IR.kn()];case 4:return n.sent(),t.yS.kn(),t.QV.kn(),[2]}}))}))()},e.AR=function(t){for(var n=0;n<t.length;n++){var e=t[n];this.IR._S(e)}},e.oH=function(){var t=this.OS,n=this.ML;t!==n&&(this.OS=n,this.mo(new Am(this.Gw,n)))},e.observeMediaElement=function(){this.mR.po(ol.Hf,this.yo),this.mR.po([ol.Gf,ol.jf],this.MH),this.pV.addEventListener("play",this.dH),this.pV.addEventListener("pause",this.lH),this.pV.addEventListener("seeking",this.bH),this.pV.addEventListener("seeked",this._H),this.pV.addEventListener("ratechange",this.yH),this.pV.addEventListener("durationchange",this.aH),this.pV.addEventListener("timeupdate",this.kH),this.pV.addEventListener("waiting",this.IH),this.pV.addEventListener("playing",this.gH),this.pV.addEventListener("ended",this.cH),this.pV.addEventListener("loadedmetadata",this.vH),this.pV.addEventListener("loadeddata",this.hH),this.pV.addEventListener("loadstart",this.fH),this.pV.addEventListener("canplay",this.uH),this.pV.addEventListener("canplaythrough",this.sH),this.pV.addEventListener("error",this.nR),this.pV.addEventListener("seekablechange",this.mH),this.pV.addEventListener("videosizechange",this.TH),this.pV.addEventListener("bufferedchange",this.rH),this.pV.addEventListener("playedchange",this.wH),this.pV.addEventListener("metricschange",this.FH),this.pV.addEventListener("addDateRangeCues",this.UH)},e.unobserveMediaElement=function(){this.mR.So(ol.Hf,this.yo),this.mR.So([ol.Gf,ol.jf],this.MH),this.pV.removeEventListener("play",this.dH),this.pV.removeEventListener("pause",this.lH),this.pV.removeEventListener("seeking",this.bH),this.pV.removeEventListener("seeked",this._H),this.pV.removeEventListener("ratechange",this.yH),this.pV.removeEventListener("durationchange",this.aH),this.pV.removeEventListener("timeupdate",this.kH),this.pV.removeEventListener("waiting",this.IH),this.pV.removeEventListener("playing",this.gH),this.pV.removeEventListener("ended",this.cH),this.pV.removeEventListener("loadedmetadata",this.vH),this.pV.removeEventListener("loadeddata",this.hH),this.pV.removeEventListener("loadstart",this.fH),this.pV.removeEventListener("canplay",this.uH),this.pV.removeEventListener("canplaythrough",this.sH),this.pV.removeEventListener("error",this.nR),this.pV.removeEventListener("seekablechange",this.mH),this.pV.removeEventListener("videosizechange",this.TH),this.pV.removeEventListener("bufferedchange",this.rH),this.pV.removeEventListener("playedchange",this.wH),this.pV.removeEventListener("metricschange",this.FH),this.pV.removeEventListener("addDateRangeCues",this.UH)},e.updateCurrentTime=function(t){var n=this.wy.start(0),e=this.wy.end(0);return d.min(d.max(t,n),e)},e.xH=function(){for(var t=0,n=this.Tg.Cl;t<n.length;t++){var e=n[t];if(e.zl===_b.Vp&&e.Mu===R_.ID3)return e}},e.LH=function(t){for(var n=0,e=this.Tg.Cl;n<e.length;n++){var i=e[n],r=i.iw===Sy.rw,u=i.zl===t;if(r&&u)return i}},e.ER=function(){this.pV.addEventListener("addaudiotrack",this.RH),this.pV.addEventListener("enableaudiotrack",this.NH),this.pV.addEventListener("addvideotrack",this.OH),this.pV.addEventListener("addtexttrack",this.CH),this.pV.addEventListener("addtexttrackid3cues",this.PH),this.pV.addEventListener("addtexttrackcues",this.BH)},e.HR=function(){this.pV.removeEventListener("addaudiotrack",this.RH),this.pV.removeEventListener("enableaudiotrack",this.NH),this.pV.removeEventListener("addvideotrack",this.OH),this.pV.removeEventListener("addtexttrack",this.CH),this.pV.removeEventListener("addtexttrackid3cues",this.PH),this.pV.removeEventListener("addtexttrackcues",this.BH)},e.Xg=function(){},e.$g=function(){},Ii(n,[{key:"Rg",get:function(){return this.bg}},{key:"Kg",get:function(){return this.nH.WR()}},{key:"Jg",get:function(){return this.pH?this.pH:null},set:function(t){this.$U.XU("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.pH=t}},{key:"Gw",get:function(){return this.gO},set:function(t){this.setCurrentTime(t)}},{key:"Yw",get:function(){return this.ta}},{key:"Xw",get:function(){return this.tH}},{key:"xo",get:function(){return this.JI}},{key:"$w",get:function(){return this.ZI}},{key:"Cg",get:function(){}},{key:"Qg",get:function(){return this.mR.Qg}},{key:"ty",get:function(){return this.yV}},{key:"Kw",get:function(){return this.yO},set:function(t){this.yO!==t&&(this.$U.XU("THEOplayerSetMuted",t),this.yO=t,this.mo(new Nm(this.Gw,t?0:1)))}},{key:"Jw",get:function(){return this.mO}},{key:"Zw",get:function(){return this._O},set:function(t){this.$U.XU("THEOplayerSetPlaybackRate",t),this._O=t}},{key:"vy",get:function(){return this.iH.WR()}},{key:"ly",get:function(){return zS.vN},set:function(t){}},{key:"cw",get:function(){return this.ML}},{key:"wy",get:function(){return this.eH.WR()}},{key:"Qw",get:function(){return this.pO}},{key:"YR",get:function(){}},{key:"Og",get:function(){return this.Tg}},{key:"tg",get:function(){return this.SH}},{key:"ng",get:function(){return this.EH}},{key:"eg",get:function(){return 1},set:function(t){}},{key:"gy",get:function(){return this.tR}},{key:"Ng",get:function(){return this.kg}},{key:"XR",get:function(){return this.QI}},{key:"yy",get:function(){return!1},set:function(t){}},{key:"hy",get:function(){return!0}}]),n}(Py),yD=function(){function t(){this.$R=SS.NI}var n=t.prototype;return n.KR=function(n,e){if(n.isAdvertisement)return!1;if(e.vr&&!e.vr.nativeVR&&(e.vr.panoramaMode===jE.PM360||e.vr.panoramaMode===jE.PM180))return!1;if((i=n.type)&&xa(i.toLowerCase(),Wy.Rw))return!1;var i,r=n.contentProtection;if(r&&!Ck(r)){if(!Pk(r))return!1;if(!t.WH(r))return!1}return!0},n.JR=function(){return!1},t.WH=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}();ki(),Vt();var mD=function(){function n(t){this.playerID=t}return n.prototype.XU=function(n,e){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var i={body:e,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(i)}},n}();ki(),Vt();var _D=function(t){function n(n){var e;return(e=t.call(this)||this).jH=function(t){var n=Mc(t.detail.initData),i=t.detail.sessionId;e.mo(new $A(n,i))},e.GH=function(t){var n=new y(Wc(t.detail.message)),i=t.detail.destinationURL;e.mo(new KA(n,i))},e.YH=function(t){e.mo(new JA)},e.forwardKeyFlowDone=function(t){e.mo(new ZA)},e.$U=n,e.pV=new WA,xA().fairplayController={sdkEventBus:e.pV},e.XH(),e}Xi(n,t);var e=n.prototype;return e.XH=function(){this.pV.addEventListener(GA.rV,this.jH),this.pV.addEventListener(GA.uV,this.GH),this.pV.addEventListener(GA.oV,this.YH),this.pV.addEventListener(GA.sV,this.forwardKeyFlowDone)},e.jM=function(t,n){var e={playerId:LA(),data:jc(n.buffer),sessionId:t};this.$U.XU("THEOplayerCreateKeySession",e)},e.Ec=function(t,n){var e={playerId:LA(),data:jc(n.buffer),sessionId:t};this.$U.XU("THEOplayerUpdateKey",e)},n}(Py);ki(),Vt();var pD,bD,kD,TD=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.ov=function(n){if(If(n.zh)){var e=Rf(n.zh);n.zh=gf(e)}return t.prototype.ov.call(this,n)},n}(TC),SD=function(t){function n(n,e,i,r,u){return t.call(this,n,e,i,r,u)}Xi(n,t);var e=n.prototype;return e.xg=function(){return!1},e.getSdkBridge=function(t){return new mD(t)},e.getFairPlayControllerBridge=function(t){return new _D(t)},e.VH=function(t){return new TD(t)},n}(gD);pD=new(function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.SE=function(t,n,e,i,r,u){return new SD(t,n,e,i,r)},n}(yD)),qS.bi.iN(pD),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(kD=bD||(bD={})).Xd="addtrack",kD.Kd="removetrack",kD.ll="change",kD.pl="update";var ED=function(t,n,e){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=e,this.type=bD.ll};ki(),Vt();var ID=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=bD.Xd};ki(),Vt();var RD=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=bD.Kd};ki(),Vt();var ND=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=bD.pl},OD=function(){function t(t,n,e){var i=this;this.$H=function(t){var n=new ED(i.type,t.track,i.mediaTracks);i.messageDispatcher.KH(n)},this.JH=function(t){var n=new ID(i.type,t.track);i.messageDispatcher.KH(n),t.track.addEventListener("update",i.ZH)},this.QH=function(t){var n=new RD(i.type,t.track);i.messageDispatcher.KH(n)},this.ZH=function(t){var n=new ND(i.type,t.track);i.messageDispatcher.KH(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=e,this.XH()}return t.prototype.XH=function(){this.mediaTracks.addEventListener("change",this.$H),this.mediaTracks.addEventListener("addtrack",this.JH),this.mediaTracks.addEventListener("removetrack",this.QH)},t}();ki(),Vt();var CD=function(){function t(t){this.tq=new mD(t)}return t.prototype.KH=function(t){this.tq.XU(t.type,uA(t))},t}();CC((function(t){if(t.Qd.audioTracks){var n=new CD(t.ql);new OD("audio",t.Qd.audioTracks,n)}if(t.Qd.videoTracks){var e=new CD(t.ql);new OD("video",t.Qd.videoTracks,e)}})),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt();var AD=function(){function t(){this.nq=e.webkit}return t.prototype.XU=function(t,n){this.nq.messageHandlers[t]&&this.nq.messageHandlers[t].postMessage(n)},t}();ki(),Vt(),ki(),Vt(),ki(),Vt();var DD,PD,xD="nativePromiseCallback",BD=function(t){function n(n){var e;return(e=t.call(this,xD)||this).detail=n,e}return Xi(n,t),n}(Sc);(PD=DD||(DD={})).RESOLVE="NATIVE_PROMISE_RESOLVE",PD.REJECT="NATIVE_PROMISE_REJECT";var LD=function(t){function n(){return t.apply(this,arguments)}Xi(n,t);var e=n.prototype;return e.dispatchEvent=function(t,n){this.mo(new BD(n))},e.addEventListener=function(t,n){this.po(t,n)},e.removeEventListener=function(t,n){this.So(t,n)},n}(WA),MD=N(Fi()),FD=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var e=t.promisesMap[n.detail.promiseId];if(!e)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case DD.RESOLVE:e.rs(n.detail.data);break;case DD.REJECT:e.us(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new LD;xA().nativePromise={sdkEventBus:n},n.addEventListener(xD,this.handleNativePromiseEvent)}return t.prototype.iq=function(n){var e;t.messageIdTracker+=1;var i=t.messageIdTracker.toString(),r=na({},n,{promiseId:i}),u=new Df;return this.promisesMap[i]=u,null==(e=this.tq)||e.XU(n.type,(0,MD.default)(r)),u.es},t}();FD.messageIdTracker=-1;var UD=function(t){function n(){var n;return(n=t.call(this)||this).tq=new AD,n}return Xi(n,t),n}(FD);ki(),Vt();var VD,HD,qD=function(t){function n(n){var e;return(e=t.call(this)||this).tq=new mD(n),e}return Xi(n,t),n}(FD);ki(),Vt(),ki(),Vt(),(HD=VD||(VD={})).Xd="TextTrackListAddTrack",HD.Kd="TextTrackListRemoveTrack",HD.ll="TextTrackListChange";var zD=function(t){this.textTrack=t,this.type=VD.Xd};ki(),Vt();var WD=function(t){this.textTrack=t,this.type=VD.Kd};ki(),Vt();var jD,GD,YD=function(t){this.textTrack=t,this.type=VD.ll};ki(),Vt(),ki(),Vt(),ki(),Vt(),(GD=jD||(jD={})).il="TextTrackAddCue",GD.ol="TextTrackRemoveCue",GD.al="TextTrackEnterCue",GD.fl="TextTrackExitCue",GD.vl="TextTrackCueChange";var XD=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=jD.il};ki(),Vt();var $D=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=jD.ol};ki(),Vt();var KD=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=jD.al};ki(),Vt();var JD=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=jD.fl};ki(),Vt();var ZD,QD,tP=function(t){this.textTrackUid=t,this.type=jD.vl};ki(),Vt(),ki(),Vt(),ki(),Vt(),(QD=ZD||(ZD={})).Dy="TextTrackCueEnter",QD.xy="TextTrackCueExit",QD.pl="TextTrackCueUpdate";var nP=function(t){this.textTrackCue=t,this.type=ZD.Dy};ki(),Vt();var eP=function(t){this.textTrackCue=t,this.type=ZD.xy};ki(),Vt();var iP=function(t){this.textTrackCue=t,this.type=ZD.pl},rP=function(){function t(t){var n=this;this.rq=function(t){var e=uP(t.cue),i=new nP(e);n.messageDispatcher.iq(i).then()},this.uq=function(t){var e=uP(t.cue),i=new eP(e);n.messageDispatcher.iq(i).then()},this.oq=function(t){var e=uP(t.cue),i=new iP(e);n.messageDispatcher.iq(i).then()},this.messageDispatcher=t}var n=t.prototype;return n.XH=function(t){t.addEventListener("enter",this.rq),t.addEventListener("exit",this.uq),t.addEventListener("update",this.oq)},n.Io=function(t){t.removeEventListener("enter",this.rq),t.removeEventListener("exit",this.uq),t.removeEventListener("update",this.oq)},t}();function uP(t){var n=EA(t,t.track.type);return delete n.track,n}var oP=function(){function t(t,n){var e=this;this.sq=function(t){var n,i=uP(t.cue),r=new XD(i,t.cue.track.uid);e.messageDispatcher.iq(r).then(),null==(n=e.textTrackCueBridge)||n.XH(t.cue)},this.aq=function(t){var n,i=uP(t.cue),r=new $D(i,t.cue.track.uid);e.messageDispatcher.iq(r).then(),null==(n=e.textTrackCueBridge)||n.Io(t.cue)},this.rq=function(t){var n=uP(t.cue),i=new KD(n,t.cue.track.uid);e.messageDispatcher.iq(i).then()},this.uq=function(t){var n=uP(t.cue),i=new JD(n,t.cue.track.uid);e.messageDispatcher.iq(i).then()},this.cq=function(t){var n=new tP(t.track.uid);e.messageDispatcher.iq(n).then()},this.messageDispatcher=t;var i=this.initMessageDispatcher(n);i&&(this.textTrackCueBridge=new rP(i))}var n=t.prototype;return n.XH=function(t){t.addEventListener("addcue",this.sq),t.addEventListener("removecue",this.aq),t.addEventListener("entercue",this.rq),t.addEventListener("exitcue",this.uq),t.addEventListener("cuechange",this.cq)},n.Io=function(t){t.removeEventListener("addcue",this.sq),t.removeEventListener("removecue",this.aq),t.removeEventListener("entercue",this.rq),t.removeEventListener("exitcue",this.uq),t.removeEventListener("cuechange",this.cq)},n.initMessageDispatcher=function(t){return sr.yi?new UD:sr.mi&&void 0!==t?new qD(t):void 0},t}(),sP=function(){function t(t,n,e){var i=this;this.JH=function(t){var n,e=new zD(t.track);i.messageDispatcher.iq(e).then(),null==(n=i.textTrackBridge)||n.XH(t.track)},this.QH=function(t){var n,e=new WD(t.track);i.messageDispatcher.iq(e).then(),null==(n=i.textTrackBridge)||n.Io(t.track)},this.fq=function(t){var n=new YD(t.track);i.messageDispatcher.iq(n).then()},this.hq=function(t){var n=t.detail.uid,e=t.detail.mode;i.textTracks.filter((function(t){return t.uid===n}))[0].mode=e},this.textTracks=t,this.messageDispatcher=n;var r=this.vq(e);r&&(this.textTrackBridge=new oP(r,e)),this.XH(),this.sdkEventBus=new WA,xA().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.hq)}var n=t.prototype;return n.XH=function(){this.textTracks.addEventListener("addtrack",this.JH),this.textTracks.addEventListener("removetrack",this.QH),this.textTracks.addEventListener("change",this.fq)},n.vq=function(t){return sr.yi?new UD:sr.mi&&void 0!==t?new qD(t):void 0},t}();CC((function(t){if(t.Qd.textTracks){var n=new qD(t.ql);new sP(t.Qd.textTracks,n,t.ql)}})),ki(),Vt(),Ri(),ki(),Vt(),ki(),Vt();var aP,cP,fP,hP=function(t){function n(){return t.apply(this,arguments)}return Xi(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case"registerContentProtectionIntegration":var e={integrationId:n.integrationId,keySystem:n.keySystem};this.mo(new vP(e));break;default:0}},n}(WA),vP=function(t){function n(n){var e;return(e=t.call(this,"registerContentProtectionIntegration")||this).detail=n,e}return Xi(n,t),n}(Sc);(aP||(aP={})).dq="registerContentProtectionIntegration",ki(),Vt(),ki(),Vt(),(fP=cP||(cP={})).lq="certifiateRequest",fP.wq="certifiateResponse",fP.gq="licenseRequest",fP.yq="licenseResponse",fP.mq="extractFairplayContentId",fP._q="buildContentProtection",fP.pq="registerContentProtectionCallback";var dP,lP,wP=function(t,n){this.value=t,this.integrationId=n,this.type=cP.pq};ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),ki(),Vt(),(lP=dP||(dP={})).GALLERY="gallery",lP.OVERLAY="overlay",lP.SPOTLIGHT="spotlight",ki(),Vt();var gP=function(t,n){this.value=t,this.integrationId=n,this.type=cP._q};ki(),Vt();var yP=function(t,n){this.value=t,this.integrationId=n,this.type=cP.lq};ki(),Vt();var mP=function(t,n){this.value=t,this.integrationId=n,this.type=cP.wq};ki(),Vt();var _P=function(t,n){this.value=t,this.integrationId=n,this.type=cP.mq};ki(),Vt();var pP=function(t,n){this.value=t,this.integrationId=n,this.type=cP.gq};ki(),Vt();var bP=function(t,n){this.value=t,this.integrationId=n,this.type=cP.yq},kP=function(){function t(t,n){this.bq=t,this.EE=n}var n=t.prototype;return n.onCertificateRequest=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:e=n.toCertificateRequestDTO(t),i=new yP(e,n.EE),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.bq.iq(i)];case 2:if(r=s.sent()){if(u=JSON.parse(r),n.kq(u))return[2,na({},u)];if(n.Tq(u))return[2,new y(u)]}throw new c_(Dd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 3:throw o=s.sent(),new c_(Dd.CONTENT_PROTECTION_CERTIFICATE_ERROR,o);case 4:return[2]}}))}))()},n.onCertificateResponse=function(t){var n=this;return ta((function(){var e,i,r,u,o;return ea(this,(function(s){switch(s.label){case 0:return e=n.toCertificateRequestDTO(t.request),i={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new mP(i,n.EE),[4,n.bq.iq(r)];case 1:if(u=s.sent())return o=JSON.parse(u),[2,new y(o)];throw new c_(Dd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse")}}))}))()},n.onLicenseRequest=function(t){var n=this;return ta((function(){var e,i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:e=n.toCertificateRequestDTO(t),i={url:e.url,method:e.method,headers:e.headers,body:e.body?Array.from(e.body):null,useCredentials:e.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new pP(i,n.EE),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.bq.iq(r)];case 2:if(u=a.sent()){if(o=JSON.parse(u),n.kq(o))return[2,{url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl}];if(n.Tq(o))return[2,new y(o)]}throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 3:throw s=a.sent(),new c_(Dd.CONTENT_PROTECTION_CERTIFICATE_ERROR,s);case 4:return[2]}}))}))()},n.onLicenseResponse=function(t){var n=this;return ta((function(){var e,i,r,u,o,s;return ea(this,(function(a){switch(a.label){case 0:return e=n.toCertificateRequestDTO(t.request),i=na({},e,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new bP(r,n.EE),[4,n.bq.iq(u)];case 1:if(o=a.sent())return s=JSON.parse(o),[2,new y(s)];throw new c_(Dd.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse")}}))}))()},n.extractFairplayContentId=function(t){var n=this;return ta((function(){var e,i;return ea(this,(function(r){switch(r.label){case 0:return e=new _P(t,n.EE),[4,n.bq.iq(e)];case 1:return(i=r.sent())?[2,i]:[2,G.reject(new c_(Dd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId"))]}}))}))()},n.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},n.kq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},n.Tq=function(t){return!!new y(t)},t}(),TP=function(){function t(t){this.bq=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new kP(this.bq,t.integration),e=new gP({drmConfiguration:t},t.integration);return this.bq.iq(e),n},t}(),SP=function(t){function n(n){var e;return(e=t.call(this)||this).bq=new qD(n),e}return Xi(n,t),Ii(n,[{key:"messageDispatcher",get:function(){return this.bq}}]),n}((function(){var t=this;this.Sq=function(n){var e=new TP(t.messageDispatcher),i=n.detail,r=i.integrationId,u=i.keySystem,o={state:kk.AE.RE(r,u,e)};t.messageDispatcher.iq(new wP(o,r))},this.pV=new hP,xA().contentProtectionIntegration={sdkEventBus:this.pV},this.pV.addEventListener(aP.dq,this.Sq)}));return CC((function(t){new SP(t.Qd.uid)})),ki(),Vt(),n.exports}));