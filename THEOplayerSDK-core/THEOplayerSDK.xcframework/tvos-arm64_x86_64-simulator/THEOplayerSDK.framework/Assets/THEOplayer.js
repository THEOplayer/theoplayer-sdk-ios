/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 6.0.0
 Created: 2023-09-13T13:55:55.493Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,(function(t){"use strict";var n={exports:{}},i=(n.exports,t.window),e=t.document,r=t.location,u=t.navigator,o=t.setTimeout,s=t.clearTimeout,c=t.setInterval,f=t.clearInterval,a=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),_=v.create,p=v.defineProperty,b=v.getOwnPropertyDescriptor,k=v.getOwnPropertyNames,T=v.getPrototypeOf,S=v.prototype.hasOwnProperty,E=function(t,n){return function(){return t&&(n=t(t=0)),n}},I=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},R=function(t,n,i,e){if(n&&"object"==typeof n||"function"==typeof n)for(var r,u=k(n),o=0,s=u.length;o<s;o++)r=u[o],S.call(t,r)||r===i||p(t,r,{get:function(t){return n[t]}.bind(null,r),enumerable:!(e=b(n,r))||e.enumerable});return t},N=function(t,n,i){return i=null!=t?_(T(t)):{},R(!n&&t&&t.__esModule?i:p(i,"default",{value:t,enumerable:!0}),t)};function C(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var O,A,D,P,x,B,L,M,F,U,V,H,q,z,W,j,G,Y,X,$=E((function(){Te(),Vt()}));function K(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function J(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new h((void 0===t?"undefined":C(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var o=i.then;if("function"==typeof o)return void o.call(i,(function(n){u(t,n)}),(function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)}))}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var o=0;o<e.length;o++)u(o,e[o])}))}function Z(t){return Boolean(t&&void 0!==t.length)}function Q(){}function tt(t){if(!(this instanceof tt))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],ot(t,this)}function nt(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,tt.I((function(){var i=1===t.o?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.g)}catch(t){return void et(n.promise,t)}it(n.promise,e)}else(1===t.o?it:et)(n.promise,t.g)}))):t.p.push(n)}function it(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof tt)return t.o=3,t.g=n,void rt(t);if("function"==typeof i)return void ot(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.o=1,t.g=n,rt(t)}catch(n){et(t,n)}}function et(t,n){t.o=2,t.g=n,rt(t)}function rt(t){2===t.o&&0===t.p.length&&tt.I((function(){t.l||tt.R(t.g)}));for(var n=0,i=t.p.length;n<i;n++)nt(t,t.p[n]);t.p=null}function ut(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function ot(t,n){var i=!1;try{t((function(t){i||(i=!0,it(n,t))}),(function(t){i||(i=!0,et(n,t))}))}catch(t){if(i)return;i=!0,et(n,t)}}function st(t){return new H(V,{reason:t,promise:A.reject(t).catch((function(){})),cancelable:!0})}function ct(t){var n=new q(V,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function ft(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(V,!1,!0,{reason:t}),n}var at,ht,vt,dt,lt,wt,gt,yt,mt,_t,pt,bt,kt,Tt,St,Et,It,Rt,Nt,Ct,Ot,At,Dt,Pt,xt,Bt,Lt,Mt,Ft,Ut=E((function(){var t;Te(),Vt(),$(),O=o,tt.prototype.catch=function(t){return this.then(null,t)},tt.prototype.then=function(t,n){var i=new this.constructor(Q);return nt(this,new ut(t,n,i)),i},tt.prototype.finally=K,tt.all=function(t){return new tt((function(n,i){if(!Z(t))return i(new h("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(n){u(t,n)}),i)}e[t]=o,0==--r&&n(e)}catch(t){i(t)}}for(var o=0;o<e.length;o++)u(o,e[o])}))},tt.allSettled=J,tt.resolve=function(t){return t&&"object"==typeof t&&t.constructor===tt?t:new tt((function(n){n(t)}))},tt.reject=function(t){return new tt((function(n,i){i(t)}))},tt.race=function(t){return new tt((function(n,i){if(!Z(t))return i(new h("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)tt.resolve(t[e]).then(n,i)}))},tt.I="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){O(t,0)},tt.R=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},A=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),D=u?u.userAgent:"",P=D.match(/Firefox\/([0-9]+)/i),x=null!=P,B=P?Number(P[1]):0,L=D.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),M=null!=L,F=L?Number(L[3]):0,(t=function(t){this.C=0,this.P=0,this.B=[],this.M=t}).prototype.N=function(t){var n=this.length();this.F(n+1);var i=this.P+n&this.M-1;this.B[i]=t,this.C=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.M<n)this.N(t);else{var i=this.P+n-1,e=this.M-1;this.B[i&e]=t,this.C=n}},t.prototype.shift=function(){var t=this.P,n=this.B[t];return this.B[t]=void 0,this.P=t+1&this.M-1,this.C--,n},t.prototype.length=function(){return this.C},t.prototype.F=function(t){this.M<t&&this.U(this.M<<1)},t.prototype.U=function(t){var n=this.M;this.M=t;var i=this.P+this.C&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.B,0,n,i)},U=t,V="unhandledrejection",H=self.PromiseRejectionEvent,q=self.CustomEvent,z=function(t){return(z=function(){try{var t=A.resolve(),n="error",i=new H(V,{reason:n,promise:t});return V===i.type&&n===i.reason}catch(t){}return!1}()?st:function(){try{var t="error",n=new q(V,{detail:{reason:t}});return V===n.type&&t===n.detail.reason}catch(t){}return!1}()?ct:ft)(t)},j=x&&B<60||M&&F<15,A&&!j?(G=A,function(){}):(G=tt,Y=null!==(W=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=A;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==W?W:tt.I,X=function(t){var n=new U(16),i=!1,e=function(){for(;n.length()>0;)n.shift()();i=!1};return{V:function(r){n.push(r),i||(i=!0,t(e))},H:e}}(Y),X.H,tt.I=X.V,tt.R=function(t){try{var n=z(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}o((function(){throw new a("Unhandled promise rejection: ".concat(t))}),0)})})),Vt=E((function(){Ut()}));function Ht(){}function qt(t){return"object"==typeof t&&null!==t||"function"==typeof t}function zt(t){return t.slice()}function Wt(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function jt(t){return!1!==function(t){if("number"!=typeof t)return!1;if(ht(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Gt(t,n,i){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Yt(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new h(r+" is not a method");switch(i){case 0:return function(){return $t(r,t,e)};case 1:return function(n){var i=[n].concat(e);return $t(r,t,i)}}}return function(){return Qt(void 0)}}function Xt(t,n,i){var e=t[n];if(void 0!==e)return Gt(e,t,i)}function $t(t,n,i){try{return Qt(Gt(t,n,i))}catch(t){return tn(t)}}function Kt(t){if(t=Number(t),ht(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Jt(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new h("size property of a queuing strategy must be a function");return function(n){return t(n)}}function Zt(t){return new dt(t)}function Qt(t){return wt(t)}function tn(t){return gt(t)}function nn(t,n,i){return lt.call(t,n,i)}function en(t,n,i){nn(nn(t,n,i),void 0,vt)}function rn(t,n){en(t,n)}function un(t,n){en(t,void 0,n)}function on(t,n,i){return nn(t,n,i)}function sn(t){nn(t,void 0,vt)}function cn(t,n,i){var e=null;!0===i&&(e=v.prototype);var r=v.create(e);return r.value=t,r.done=n,r}function fn(t,n){t.W=!0,t.j=n,n.G=t,"readable"===n.o?dn(t):"closed"===n.o?function(t){dn(t),gn(t)}(t):ln(t,n.Y)}function an(t,n){return ne(t.j,n)}function hn(t){"readable"===t.j.o?wn(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){ln(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.j.G=void 0,t.j=void 0}function vn(t){return new h("Cannot "+t+" a stream using a released reader")}function dn(t){t.X=Zt((function(n,i){t.K=n,t.J=i}))}function ln(t,n){dn(t),wn(t,n)}function wn(t,n){sn(t.X),t.J(n),t.K=void 0,t.J=void 0}function gn(t){t.K(void 0),t.K=void 0,t.J=void 0}function yn(t,n){void 0===n&&(n=!1);var i=new pt(t);return i.W=n,i}function mn(t){return Zt((function(n,i){var e={Z:n,nt:i};t.G.it.push(e)}))}function _n(t,n,i){var e=t.G;e.it.shift().Z(cn(n,i,e.W))}function pn(t){return t.G.it.length}function bn(t){var n=t.G;return void 0!==n&&!!kn(n)}function kn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"it")}function Tn(t){var n=t.j;return n.et=!0,"closed"===n.o?Qt(cn(void 0,!0,t.W)):"errored"===n.o?tn(n.Y):n.rt[_t]()}function Sn(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}function En(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"ut")}function In(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Rn(t){var n=t.ot.shift();return t.st-=n.size,t.st<0&&(t.st=0),n.value}function Nn(t,n,i){if(!jt(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.ot.push({value:n,size:i}),t.st+=i}function Cn(t){t.ot=new yt,t.st=0}function On(t){return new Rt(t)}function An(t){t.o="writable",t.Y=void 0,t.ct=void 0,t.ft=void 0,t.ht=new yt,t.vt=void 0,t.dt=void 0,t.wt=void 0,t.yt=void 0,t._t=!1}function Dn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"ft")}function Pn(t){return void 0!==t.ct}function xn(t,n){var i=t.o;if("closed"===i||"errored"===i)return Qt(void 0);if(void 0!==t.yt)return t.yt.bt;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=Zt((function(i,r){t.yt={bt:void 0,Z:i,nt:r,kt:n,Tt:e}}));return t.yt.bt=r,!1===e&&Mn(t,n),r}function Bn(t){var n=t.o;if("closed"===n||"errored"===n)return tn(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=Zt((function(n,i){var e={Z:n,nt:i};t.dt=e})),e=t.ct;return void 0!==e&&!0===t._t&&"writable"===n&&vi(e),function(t){Nn(t,"close",0),Jn(t)}(t.ft),i}function Ln(t,n){"writable"!==t.o?Fn(t):Mn(t,n)}function Mn(t,n){var i=t.ft;t.o="erroring",t.Y=n;var e=t.ct;void 0!==e&&jn(e,n),!1===function(t){if(void 0===t.vt&&void 0===t.wt)return!1;return!0}(t)&&!0===i.St&&Fn(t)}function Fn(t){t.o="errored",t.ft[Et]();var n=t.Y;if(t.ht.forEach((function(t){t.nt(n)})),t.ht=new yt,void 0!==t.yt){var i=t.yt;if(t.yt=void 0,!0===i.Tt)return i.nt(n),void Vn(t);en(t.ft[St](i.kt),(function(){i.Z(),Vn(t)}),(function(n){i.nt(n),Vn(t)}))}else Vn(t)}function Un(t){return void 0!==t.dt||void 0!==t.wt}function Vn(t){void 0!==t.dt&&(t.dt.nt(t.Y),t.dt=void 0);var n=t.ct;void 0!==n&&oi(n,t.Y)}function Hn(t,n){var i=t.ct;void 0!==i&&n!==t._t&&(!0===n?function(t){ci(t)}(i):vi(i)),t._t=n}function qn(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Et")}function zn(t){return Bn(t.Et)}function Wn(t,n){"pending"===t.It?oi(t,n):function(t,n){ui(t,n)}(t,n)}function jn(t,n){"pending"===t.Rt?hi(t,n):function(t,n){fi(t,n)}(t,n)}function Gn(t){var n=t.Et,i=new h("Writer was released and can no longer be used to monitor the stream's closedness");jn(t,i),Wn(t,i),n.ct=void 0,t.Et=void 0}function Yn(t,n){var i=t.Et,e=i.ft,r=function(t,n){try{return t.Nt(n)}catch(n){return Zn(t,n),1}}(e,n);if(i!==t.Et)return tn(ei("write to"));var u=i.o;if("errored"===u)return tn(i.Y);if(!0===Un(i)||"closed"===u)return tn(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return tn(i.Y);var o=function(t){return Zt((function(n,i){var e={Z:n,nt:i};t.ht.push(e)}))}(i);return function(t,n,i){var e={chunk:n};try{Nn(t,e,i)}catch(n){return void Zn(t,n)}var r=t.Ct;if(!1===Un(r)&&"writable"===r.o){Hn(r,Qn(t))}Jn(t)}(e,n,r),o}function Xn(t,n,i,e,r,u,o,s){n.Ct=t,t.ft=n,n.ot=void 0,n.st=void 0,Cn(n),n.St=!1,n.Nt=s,n.Ot=o,n.At=e,n.Dt=r,n.Pt=u;var c=Qn(n);Hn(t,c),en(Qt(i()),(function(){n.St=!0,Jn(n)}),(function(i){n.St=!0,Ln(t,i)}))}function $n(t){t.At=void 0,t.Dt=void 0,t.Pt=void 0,t.Nt=void 0}function Kn(t){return t.Ot-t.st}function Jn(t){var n=t.Ct;if(!1!==t.St&&void 0===n.vt)if("erroring"!==n.o){if(0!==t.ot.length){var i=function(t){return t.ot.peek().value}(t);"close"===i?function(t){var n=t.Ct;(function(t){t.wt=t.dt,t.dt=void 0})(n),Rn(t);var i=t.Dt();$n(t),en(i,(function(){!function(t){t.wt.Z(void 0),t.wt=void 0,"erroring"===t.o&&(t.Y=void 0,void 0!==t.yt&&(t.yt.Z(),t.yt=void 0)),t.o="closed";var n=t.ct;void 0!==n&&si(n)}(n)}),(function(t){!function(t,n){t.wt.nt(n),t.wt=void 0,void 0!==t.yt&&(t.yt.nt(n),t.yt=void 0),Ln(t,n)}(n,t)}))}(t):function(t,n){var i=t.Ct;(function(t){t.vt=t.ht.shift()})(i),en(t.At(n),(function(){!function(t){t.vt.Z(void 0),t.vt=void 0}(i);var n=i.o;if(Rn(t),!1===Un(i)&&"writable"===n){var e=Qn(t);Hn(i,e)}Jn(t)}),(function(n){"writable"===i.o&&$n(t),function(t,n){t.vt.nt(n),t.vt=void 0,Ln(t,n)}(i,n)}))}(t,i.chunk)}}else Fn(n)}function Zn(t,n){"writable"===t.Ct.o&&ti(t,n)}function Qn(t){return Kn(t)<=0}function ti(t,n){var i=t.Ct;$n(t),Mn(i,n)}function ni(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ii(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function ei(t){return new h("Cannot "+t+" a stream using a released writer")}function ri(t){t.X=Zt((function(n,i){t.K=n,t.J=i,t.It="pending"}))}function ui(t,n){ri(t),oi(t,n)}function oi(t,n){sn(t.X),t.J(n),t.K=void 0,t.J=void 0,t.It="rejected"}function si(t){t.K(void 0),t.K=void 0,t.J=void 0,t.It="resolved"}function ci(t){t.xt=Zt((function(n,i){t.Bt=n,t.Lt=i})),t.Rt="pending"}function fi(t,n){ci(t),hi(t,n)}function ai(t){ci(t),vi(t)}function hi(t,n){sn(t.xt),t.Lt(n),t.Bt=void 0,t.Lt=void 0,t.Rt="rejected"}function vi(t){t.Bt(void 0),t.Bt=void 0,t.Lt=void 0,t.Rt="fulfilled"}function di(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}function li(t,n,i,e,r,u){var o=yn(t),s=On(n);t.et=!0;var c=!1,f=Qt(void 0);return Zt((function(a,v){var d,l,w,g;if(void 0!==u){if(d=function(){var i=new Ot("Aborted","AbortError"),u=[];!1===e&&u.push((function(){return"writable"===n.o?xn(n,i):Qt(void 0)})),!1===r&&u.push((function(){return"readable"===t.o?ne(t,i):Qt(void 0)})),p((function(){return G.all(u.map((function(t){return t()})))}),!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(_(t,o.X,(function(t){!1===e?p((function(){return xn(n,t)}),!0,t):b(!0,t)})),_(n,s.X,(function(n){!1===r?p((function(){return ne(t,n)}),!0,n):b(!0,n)})),l=t,w=o.X,g=function(){!1===i?p((function(){return function(t){var n=t.Et,i=n.o;return!0===Un(n)||"closed"===i?Qt(void 0):"errored"===i?tn(n.Y):zn(t)}(s)})):b()},"closed"===l.o?g():rn(w,g),!0===Un(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");!1===r?p((function(){return ne(t,y)}),!0,y):b(!0,y)}function m(){var t=f;return nn(f,(function(){return t!==f?m():void 0}))}function _(t,n,i){"errored"===t.o?i(t.Y):un(n,i)}function p(t,i,e){function r(){en(t(),(function(){return k(i,e)}),(function(t){return k(!0,t)}))}!0!==c&&(c=!0,"writable"===n.o&&!1===Un(n)?rn(m(),r):r())}function b(t,i){!0!==c&&(c=!0,"writable"===n.o&&!1===Un(n)?rn(m(),(function(){return k(t,i)})):k(t,i))}function k(t,n){Gn(s),hn(o),void 0!==u&&u.removeEventListener("abort",d),t?v(n):a(void 0)}sn(Zt((function(t,n){!function i(e){e?t():nn(!0===c?Qt(!0):nn(s.xt,(function(){return nn(Tn(o),(function(t){return!0===t.done||(f=nn(Yn(s,t.value),void 0,Ht),!1)}))})),i,n)}(!1)})))}))}function wi(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Mt")}function gi(t){!1!==yi(t)&&(!0!==t.Ft?(t.Ft=!0,en(t.Ut(),(function(){t.Ft=!1,!0===t.Vt&&(t.Vt=!1,gi(t))}),(function(n){bi(t,n)}))):t.Vt=!0)}function yi(t){var n=t.Mt;return!1!==Ti(t)&&(!1!==t.St&&(!0===te(n)&&pn(n)>0||ki(t)>0))}function mi(t){t.Ut=void 0,t.Ht=void 0,t.Nt=void 0}function _i(t){var n=t.Mt;t.qt=!0,0===t.ot.length&&(mi(t),ie(n))}function pi(t,n){var i=t.Mt;if(!0===te(i)&&pn(i)>0)_n(i,n,!1);else{var e=void 0;try{e=t.Nt(n)}catch(n){throw bi(t,n),n}try{Nn(t,n,e)}catch(n){throw bi(t,n),n}}gi(t)}function bi(t,n){var i=t.Mt;"readable"===i.o&&(Cn(t),mi(t),ee(i,n))}function ki(t){var n=t.Mt.o;return"errored"===n?null:"closed"===n?0:t.Ot-t.st}function Ti(t){var n=t.Mt.o;return!1===t.qt&&"readable"===n}function Si(t,n,i,e,r,u,o){n.Mt=t,n.ot=void 0,n.st=void 0,Cn(n),n.St=!1,n.qt=!1,n.Vt=!1,n.Ft=!1,n.Nt=o,n.Ot=u,n.Ut=e,n.Ht=r,t.rt=n,en(Qt(i()),(function(){n.St=!0,gi(n)}),(function(t){bi(n,t)}))}function Ei(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Ii(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"zt")}function Ri(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Wt")}function Ni(t){!1!==function(t){var n=t.zt;if("readable"!==n.o)return!1;if(!0===t.qt)return!1;if(!1===t.St)return!1;if(!0===bn(n)&&pn(n)>0)return!0;if(!0===Yi(n)&&Gi(n)>0)return!0;if(Hi(t)>0)return!0;return!1}(t)&&(!0!==t.Ft?(t.Ft=!0,en(t.Ut(),(function(){t.Ft=!1,!0===t.Vt&&(t.Vt=!1,Ni(t))}),(function(n){Vi(t,n)}))):t.Vt=!0)}function Ci(t,n){var i=!1;"closed"===t.o&&(i=!0);var e=Oi(n);"default"===n.readerType?_n(t,e,i):function(t,n,i){var e=t.G;e.jt.shift().Z(cn(n,i,e.W))}(t,e,i)}function Oi(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Ai(t,n,i,e){t.ot.push({buffer:n,byteOffset:i,byteLength:e}),t.st+=e}function Di(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=d.min(t.st,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,o=u-u%i,s=r,c=!1;o>e&&(s=o-n.bytesFilled,c=!0);for(var f=t.ot;s>0;){var a=f.peek(),h=d.min(s,a.byteLength),v=n.byteOffset+n.bytesFilled;Wt(n.buffer,v,a.buffer,a.byteOffset,h),a.byteLength===h?f.shift():(a.byteOffset+=h,a.byteLength-=h),t.st-=h,Pi(t,h,n),s-=h}return c}function Pi(t,n,i){Bi(t),i.bytesFilled+=n}function xi(t){0===t.st&&!0===t.qt?(Ui(t),ie(t.zt)):Ni(t)}function Bi(t){void 0!==t.Gt&&(t.Gt.Wt=void 0,t.Gt.Yt=void 0,t.Gt=void 0)}function Li(t){for(;t.Xt.length>0;){if(0===t.st)return;var n=t.Xt.peek();!0===Di(t,n)&&(Fi(t),Ci(t.zt,n))}}function Mi(t,n){var i=t.Xt.peek();if("closed"===t.zt.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.zt;if(!0===Yi(i))for(;Gi(i)>0;)Ci(i,Fi(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Pi(t,n,i),!(i.bytesFilled<i.elementSize)){Fi(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=i.buffer.slice(r-e,r);Ai(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=e,Ci(t.zt,i),Li(t)}}(t,n,i);Ni(t)}function Fi(t){var n=t.Xt.shift();return Bi(t),n}function Ui(t){t.Ut=void 0,t.Ht=void 0}function Vi(t,n){var i=t.zt;"readable"===i.o&&(!function(t){Bi(t),t.Xt=new yt}(t),Cn(t),Ui(t),ee(i,n))}function Hi(t){var n=t.zt.o;return"errored"===n?null:"closed"===n?0:t.Ot-t.st}function qi(t,n,i){var e=v.create(xt.prototype);var r=Yt(n,"pull",0,[e]),u=Yt(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===Dt(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,u,o){n.zt=t,n.Vt=!1,n.Ft=!1,n.Gt=void 0,n.ot=n.st=void 0,Cn(n),n.qt=!1,n.St=!1,n.Ot=Kt(u),n.Ut=e,n.Ht=r,n.$t=o,n.Xt=new yt,t.rt=n,en(Qt(i()),(function(){n.St=!0,Ni(n)}),(function(t){Vi(n,t)}))}(t,e,(function(){return Xt(n,"start",[e])}),r,u,i,o)}function zi(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Wi(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function ji(t){return Zt((function(n,i){var e={Z:n,nt:i};t.G.jt.push(e)}))}function Gi(t){return t.G.jt.length}function Yi(t){var n=t.G;return void 0!==n&&!!Xi(n)}function Xi(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"jt")}function $i(t,n){var i=t.j;return i.et=!0,"errored"===i.o?tn(i.Y):function(t,n){var i=t.zt,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.Xt.length>0)return t.Xt.push(u),ji(i);if("closed"===i.o)return Qt(cn(new r(u.buffer,u.byteOffset,0),!0,i.G.W));if(t.st>0){if(!0===Di(t,u)){var o=Oi(u);return xi(t),Qt(cn(o,!1,i.G.W))}if(!0===t.qt){var s=new h("Insufficient bytes to fill elements in the given buffer");return Vi(t,s),tn(s)}}t.Xt.push(u);var c=ji(i);return Ni(t),c}(i.rt,n)}function Ki(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Ji(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=v.create(Lt.prototype);return Zi(u),Si(u,v.create(At.prototype),t,n,i,e,r),u}function Zi(t){t.o="readable",t.G=void 0,t.Y=void 0,t.et=!1}function Qi(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"rt")}function te(t){return void 0!==t.G}function ne(t,n){return t.et=!0,"closed"===t.o?Qt(void 0):"errored"===t.o?tn(t.Y):(ie(t),on(t.rt[mt](n),Ht))}function ie(t){t.o="closed";var n=t.G;void 0!==n&&(kn(n)&&(n.it.forEach((function(t){t.Z(cn(void 0,!0,n.W))})),n.it=new yt),gn(n))}function ee(t,n){t.o="errored",t.Y=n;var i=t.G;void 0!==i&&(kn(i)?(i.it.forEach((function(t){t.nt(n)})),i.it=new yt):(i.jt.forEach((function(t){t.nt(n)})),i.jt=new yt),wn(i,n))}function re(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function ue(t,n,i,e,r,u){function o(){return n}t.Kt=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var o=v.create(It.prototype);return An(o),Xn(o,v.create(Nt.prototype),t,n,i,e,r,u),o}(o,(function(n){return function(t,n){var i=t.Jt;if(!0===t._t){return on(t.Zt,(function(){var e=t.Kt;if("erroring"===e.o)throw e.Y;return de(i,n)}))}return de(i,n)}(t,n)}),(function(){return function(t){var n=t.Qt,i=t.Jt,e=i.tn();return he(i),on(e,(function(){if("errored"===n.o)throw n.Y;var t=n.rt;!0===Ti(t)&&_i(t)}),(function(i){throw se(t,i),n.Y}))}(t)}),(function(n){return function(t,n){return se(t,n),Qt(void 0)}(t,n)}),i,e),t.Qt=Ji(o,(function(){return function(t){return fe(t,!1),t.Zt}(t)}),(function(n){return ce(t,n),Qt(void 0)}),r,u),t._t=void 0,t.Zt=void 0,t.nn=void 0,fe(t,!0),t.Jt=void 0}function oe(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Jt")}function se(t,n){bi(t.Qt.rt,n),ce(t,n)}function ce(t,n){he(t.Jt),Zn(t.Kt.ft,n),!0===t._t&&fe(t,!1)}function fe(t,n){void 0!==t.Zt&&t.nn(),t.Zt=Zt((function(n){t.nn=n})),t._t=n}function ae(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"en")}function he(t){t.rn=void 0,t.tn=void 0}function ve(t,n){var i=t.en,e=i.Qt.rt;if(!1===Ti(e))throw new h("Readable side is not in a state that permits enqueue");try{pi(e,n)}catch(t){throw ce(i,t),i.Qt.Y}(function(t){return!0!==yi(t)})(e)!==i._t&&fe(i,!0)}function de(t,n){return on(t.rn(n),void 0,(function(n){throw se(t.en,n),n}))}function le(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function we(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}var ge,ye,me,_e,pe,be,ke=E((function(){var t;Te(),Vt(),at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"},ht=Number.isNaN||function(t){return t!=t},vt=Ht,dt=G,lt=G.prototype.then,wt=G.resolve.bind(dt),gt=G.reject.bind(dt),16384,yt=function(){function t(){this.un=0,this.sn=0,this.P={cn:[],fn:void 0},this.an=this.P,this.un=0,this.sn=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.sn},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.an,i=n;16383===n.cn.length&&(i={cn:[],fn:void 0}),n.cn.push(t),i!==n&&(this.an=i,n.fn=i),++this.sn},t.prototype.shift=function(){var t=this.P,n=t,i=this.un,e=i+1,r=t.cn,u=r[i];return 16384===e&&(n=t.fn,e=0),--this.sn,this.un=e,t!==n&&(this.P=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.un,i=this.P,e=i.cn;!(n===e.length&&void 0===i.fn||n===e.length&&(n=0,0===(e=(i=i.fn).cn).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.P,n=this.un;return t.cn[n]},t}(),mt=at("[[CancelSteps]]"),_t=at("[[PullSteps]]"),pt=function(){function t(t){if(!1===Qi(t))throw new h("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===te(t))throw new h("This stream has already been locked for exclusive reading by another reader");fn(this,t),this.it=new yt}return v.defineProperty(t.prototype,"closed",{get:function(){return kn(this)?this.X:tn(Sn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return kn(this)?void 0===this.j?tn(vn("cancel")):an(this,t):tn(Sn("cancel"))},t.prototype.read=function(){return kn(this)?void 0===this.j?tn(vn("read from")):Tn(this):tn(Sn("read"))},t.prototype.releaseLock=function(){if(!kn(this))throw Sn("releaseLock");if(void 0!==this.j){if(this.it.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");hn(this)}},t}(),"symbol"==typeof at.asyncIterator&&((bt={})[at.asyncIterator]=function(){return this},kt=bt,v.defineProperty(kt,at.asyncIterator,{enumerable:!1})),Tt={next:function(){if(!1===En(this))return tn(In("next"));var t=this.ut;return void 0===t.j?tn(vn("iterate")):on(Tn(t),(function(n){var i=n.done;return i&&hn(t),cn(n.value,i,!0)}))},return:function(t){if(!1===En(this))return tn(In("next"));var n=this.ut;if(void 0===n.j)return tn(vn("finish iterating"));if(n.it.length>0)return tn(new h("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.hn){var i=an(n,t);return hn(n),on(i,(function(){return cn(t,!0,!0)}))}return hn(n),Qt(cn(t,!0,!0))}},void 0!==kt&&v.setPrototypeOf(Tt,kt),v.defineProperty(Tt,"next",{enumerable:!1}),v.defineProperty(Tt,"return",{enumerable:!1}),St=at("[[AbortSteps]]"),Et=at("[[ErrorSteps]]"),It=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),An(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Jt(i);void 0===e&&(e=1),function(t,n,i,e){var r=v.create(Nt.prototype),u=Yt(n,"write",1,[r]),o=Yt(n,"close",0,[]),s=Yt(n,"abort",1,[]);Xn(t,r,(function(){return Xt(n,"start",[r])}),u,o,s,i,e)}(this,t,e=Kt(e),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===Dn(this))throw ni("locked");return Pn(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Dn(this)?tn(ni("abort")):!0===Pn(this)?tn(new h("Cannot abort a stream that already has a writer")):xn(this,t)},t.prototype.close=function(){return!1===Dn(this)?tn(ni("close")):!0===Pn(this)?tn(new h("Cannot close a stream that already has a writer")):!0===Un(this)?tn(new h("Cannot close an already-closing stream")):Bn(this)},t.prototype.getWriter=function(){if(!1===Dn(this))throw ni("getWriter");return On(this)},t}(),Rt=function(){function t(t){if(!1===Dn(t))throw new h("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Pn(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Et=t,t.ct=this;var n=t.o;if("writable"===n)!1===Un(t)&&!0===t._t?ci(this):ai(this),ri(this);else if("erroring"===n)fi(this,t.Y),ri(this);else if("closed"===n)ai(this),function(t){ri(t),si(t)}(this);else{var i=t.Y;fi(this,i),ui(this,i)}}return v.defineProperty(t.prototype,"closed",{get:function(){return!1===qn(this)?tn(ii("closed")):this.X},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===qn(this))throw ii("desiredSize");if(void 0===this.Et)throw ei("desiredSize");return function(t){var n=t.Et,i=n.o;return"errored"===i||"erroring"===i?null:"closed"===i?0:Kn(n.ft)}(this)},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return!1===qn(this)?tn(ii("ready")):this.xt},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===qn(this)?tn(ii("abort")):void 0===this.Et?tn(ei("abort")):function(t,n){return xn(t.Et,n)}(this,t)},t.prototype.close=function(){if(!1===qn(this))return tn(ii("close"));var t=this.Et;return void 0===t?tn(ei("close")):!0===Un(t)?tn(new h("Cannot close an already-closing stream")):zn(this)},t.prototype.releaseLock=function(){if(!1===qn(this))throw ii("releaseLock");void 0!==this.Et&&Gn(this)},t.prototype.write=function(t){return!1===qn(this)?tn(ii("write")):void 0===this.Et?tn(ei("write to")):Yn(this,t)},t}(),Nt=function(){function t(){throw new h("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!qt(t)&&!!v.prototype.hasOwnProperty.call(t,"Ct")}(this))throw new h("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Ct.o&&ti(this,t)},t.prototype[St]=function(t){var n=this.Pt(t);return $n(this),n},t.prototype[Et]=function(){Cn(this)},t}(),Ct="undefined"!=typeof DOMException?DOMException:void 0,Ot=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Ct)?Ct:((t=function(t,n){this.message=t||"",this.name=n||"Error",a.captureStackTrace&&a.captureStackTrace(this,this.constructor)}).prototype=v.create(a.prototype),v.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t),At=function(){function t(){throw new h}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===wi(this))throw Ei("desiredSize");return ki(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===wi(this))throw Ei("close");if(!1===Ti(this))throw new h("The stream is not in a state that permits close");_i(this)},t.prototype.enqueue=function(t){if(!1===wi(this))throw Ei("enqueue");if(!1===Ti(this))throw new h("The stream is not in a state that permits enqueue");return pi(this,t)},t.prototype.error=function(t){if(!1===wi(this))throw Ei("error");bi(this,t)},t.prototype[mt]=function(t){Cn(this);var n=this.Ht(t);return mi(this),n},t.prototype[_t]=function(){var t=this.Mt;if(this.ot.length>0){var n=Rn(this);return!0===this.qt&&0===this.ot.length?(mi(this),ie(t)):gi(this),Qt(cn(n,!1,t.G.W))}var i=mn(t);return gi(this),i},t}(),Dt=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&d.floor(t)===t},Pt=function(){function t(){throw new h("ReadableStreamBYOBRequest cannot be used directly")}return v.defineProperty(t.prototype,"view",{get:function(){if(!1===Ri(this))throw zi("view");return this.Yt},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Ri(this))throw zi("respond");if(void 0===this.Wt)throw new h("This BYOB request has been invalidated");this.Yt.buffer,function(t,n){if(!1===jt(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Mi(t,n)}(this.Wt,t)},t.prototype.respondWithNewView=function(t){if(!1===Ri(this))throw zi("respond");if(void 0===this.Wt)throw new h("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Xt.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Mi(t,n.byteLength)}(this.Wt,t)},t}(),xt=function(){function t(){throw new h("ReadableByteStreamController constructor cannot be used directly")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ii(this))throw Wi("byobRequest");if(void 0===this.Gt&&this.Xt.length>0){var t=this.Xt.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=v.create(Pt.prototype);!function(t,n,i){t.Wt=n,t.Yt=i}(i,this,n),this.Gt=i}return this.Gt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ii(this))throw Wi("desiredSize");return Hi(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ii(this))throw Wi("close");if(!0===this.qt)throw new h("The stream has already been closed; do not close it again!");var t=this.zt.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.zt;if(t.st>0)t.qt=!0;else{if(t.Xt.length>0&&t.Xt.peek().bytesFilled>0){var i=new h("Insufficient bytes to fill elements in the given buffer");throw Vi(t,i),i}Ui(t),ie(n)}}(this)},t.prototype.enqueue=function(t){if(!1===Ii(this))throw Wi("enqueue");if(!0===this.qt)throw new h("stream is closed or draining");var n=this.zt.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new h("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.zt,e=n.buffer,r=n.byteOffset,u=n.byteLength,o=e;!0===bn(i)?0===pn(i)?Ai(t,o,r,u):_n(i,new y(o,r,u),!1):!0===Yi(i)?(Ai(t,o,r,u),Li(t)):Ai(t,o,r,u),Ni(t)}(this,t)},t.prototype.error=function(t){if(!1===Ii(this))throw Wi("error");Vi(this,t)},t.prototype[mt]=function(t){this.Xt.length>0&&(this.Xt.peek().bytesFilled=0);Cn(this);var n=this.Ht(t);return Ui(this),n},t.prototype[_t]=function(){var t=this.zt;if(this.st>0){var n=this.ot.shift();this.st-=n.byteLength,xi(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return tn(t)}return Qt(cn(i,!1,t.G.W))}var e=this.$t;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return tn(t)}var u={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Xt.push(u)}var o=mn(t);return Ni(this),o},t}(),Bt=function(){function t(t){if(!Qi(t))throw new h("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ii(t.rt))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(te(t))throw new h("This stream has already been locked for exclusive reading by another reader");fn(this,t),this.jt=new yt}return v.defineProperty(t.prototype,"closed",{get:function(){return Xi(this)?this.X:tn(Ki("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Xi(this)?void 0===this.j?tn(vn("cancel")):an(this,t):tn(Ki("cancel"))},t.prototype.read=function(t){return Xi(this)?void 0===this.j?tn(vn("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?tn(new h("view must have non-zero byteLength")):$i(this,t)):tn(new h("view must be an array buffer view")):tn(Ki("read"))},t.prototype.releaseLock=function(){if(!Xi(this))throw Ki("releaseLock");if(void 0!==this.j){if(this.jt.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");hn(this)}},t}(),Lt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Zi(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),qi(this,t,e=Kt(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var u=Jt(i);void 0===e&&(e=1),function(t,n,i,e){var r=v.create(At.prototype),u=Yt(n,"pull",0,[r]),o=Yt(n,"cancel",1,[]);Si(t,r,(function(){return Xt(n,"start",[r])}),u,o,i,e)}(this,t,e=Kt(e),u)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===Qi(this))throw re("locked");return te(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Qi(this)?tn(re("cancel")):!0===te(this)?tn(new h("Cannot cancel a stream that already has a reader")):ne(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Qi(this))throw re("getReader");if(void 0===n)return yn(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Bt(t);return i.W=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,u=r.preventClose,o=r.preventAbort,s=r.preventCancel,c=r.signal;if(!1===Qi(this))throw re("pipeThrough");if(!1===Dn(i))throw new h("writable argument to pipeThrough must be a WritableStream");if(!1===Qi(e))throw new h("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==c&&!di(c))throw new h("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===te(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Pn(i))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return sn(li(this,i,u,o,s,c)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,u=i.preventCancel,o=i.signal;return!1===Qi(this)?tn(re("pipeTo")):!1===Dn(t)?tn(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),u=Boolean(u),void 0===o||di(o)?!0===te(this)?tn(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Pn(t)?tn(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):li(this,t,e,r,u,o):tn(new h("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Qi(this))throw re("tee");var t=function(t,n){var i,e,r,u,o,s=yn(t),c=!1,f=!1,a=!1,h=Zt((function(t){o=t}));function v(){return!0===c||(c=!0,sn(on(Tn(s),(function(t){if(c=!1,!0===t.done)return!1===f&&_i(r.rt),void(!1===a&&_i(u.rt));var n=t.value,i=n,e=n;!1===f&&pi(r.rt,i),!1===a&&pi(u.rt,e)})))),Qt(void 0)}function d(){}return r=Ji(d,v,(function(n){if(f=!0,i=n,!0===a){var r=zt([i,e]),u=ne(t,r);o(u)}return h})),u=Ji(d,v,(function(n){if(a=!0,e=n,!0===f){var r=zt([i,e]),u=ne(t,r);o(u)}return h})),un(s.X,(function(t){bi(r.rt,t),bi(u.rt,t)})),[r,u]}(this);return zt(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Qi(this))throw re("getIterator");return function(t,n){void 0===n&&(n=!1);var i=yn(t),e=v.create(Tt);return e.ut=i,e.hn=Boolean(n),e}(this,i)},t}(),"symbol"==typeof at.asyncIterator&&v.defineProperty(Lt.prototype,at.asyncIterator,{value:Lt.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0}),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Mt=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,u=i.size,o=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=Jt(e);if(void 0===r&&(r=1),r=Kt(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,f=Jt(u);void 0===o&&(o=0),o=Kt(o),ue(this,Zt((function(t){c=t})),r,s,o,f),function(t,n){var i=v.create(Ft.prototype),e=function(t){try{return ve(i,t),Qt(void 0)}catch(t){return tn(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new h("transform is not a method");e=function(t){return $t(r,n,[t,i])}}var u=Yt(n,"flush",0,[i]);!function(t,n,i,e){n.en=t,t.Jt=n,n.rn=i,n.tn=e}(t,i,e,u)}(this,t);var a=Xt(t,"start",[this.Jt]);c(a)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!1===oe(this))throw we("readable");return this.Qt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!1===oe(this))throw we("writable");return this.Kt},enumerable:!0,configurable:!0}),t}(),Ft=function(){function t(){throw new h("TransformStreamDefaultController instances cannot be created directly")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ae(this))throw le("desiredSize");return ki(this.en.Qt.rt)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ae(this))throw le("enqueue");ve(this,t)},t.prototype.error=function(t){if(!1===ae(this))throw le("error");!function(t,n){se(t.en,n)}(this,t)},t.prototype.terminate=function(){if(!1===ae(this))throw le("terminate");!function(t){var n=t.en,i=n.Qt.rt;!0===Ti(i)&&_i(i),ce(n,new h("TransformStream terminated"))}(this)},t}()})),Te=E((function(){ke()}));var Se=E((function(){Te(),Vt()})),Ee=I((function(t){Te(),Vt(),Se();var n,i={vn:function(){function t(){this.dn=[]}var n=t.prototype;return n.ln=function(){},n.wn=function(t){return{gn:function(){return G.resolve()},yn:function(){}}},n.mn=function(t){throw new a("Not implemented")},n._n=function(t){return G.resolve()},n.pn=function(t){return G.resolve()},n.bn=function(t){},n.kn=function(){},t}(),Tn:function(){function t(){}var n=t.prototype;return n.Sn=function(){return G.resolve("all")},n.En=function(){},n.kn=function(){},t}(),In:{Rn:function(t){getActiveDocument().addEventListener("unload",t)},Nn:function(t){getActiveDocument().removeEventListener("unload",t)}},Cn:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:t,parent:t,self:self,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};Element.prototype.style={},ge=(n=i).vn,ye=n.Tn,me=n.In,_e=n.Cn,pe=_e&&_e.location,be=_e&&_e.navigator}));function Ie(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function Re(t,n,i){return n&&Ie(t.prototype,n),i&&Ie(t,i),t}var Ne=E((function(){Te(),Vt()}));function Ce(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}var Oe=E((function(){Te(),Vt()}));var Ae=E((function(){Te(),Vt(),Oe()}));var De=E((function(){Te(),Vt()}));var Pe=E((function(){Te(),Vt()}));function xe(t,n){if(t){if("string"==typeof t)return Ce(t,n);var i=v.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ce(t,n):void 0}}var Be=E((function(){Te(),Vt(),Oe()}));function Le(t){return function(t){if(Array.isArray(t))return Ce(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||xe(t)||function(){throw new h("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Me,Fe=E((function(){Te(),Vt(),Ae(),De(),Pe(),Be()})),Ue=I((function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var o=i.indexOf(this);~o?i.splice(o+1):i.push(this),~o?e.splice(o,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}Te(),Vt(),(n.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i})),Ve=I((function(t){Te(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}})),He=I((function(t){Te(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}})),qe=I((function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Te(),Vt(),v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}})),ze=I((function(t){Te(),Vt(),Ne(),Fe(),v.defineProperty(t,"__esModule",{value:!0}),t.SaxesParser=t.EVENTS=void 0;var n=Ve(),i=He(),e=qe(),r=n.isS,u=n.isChar,o=n.isNameStartChar,s=n.isNameChar,c=n.S_LIST,f=n.NAME_RE,h=i.isChar,d=e.isNCNameStartChar,w=e.isNCNameChar,g=e.NC_NAME_RE,y="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",_={__proto__:null,xml:y,xmlns:m},p={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b=-1,k=-2,T=13,S=33,E=10,I=60,R=61,N=62,C=63,O=93,A=function(t){return 34===t||39===t},D=[34,39],P=Le(D).concat([91,N]),x=Le(D).concat([I,O]),B=[R,C].concat(Le(c)),L=Le(c).concat([N,38,I]);function M(t,n,i){switch(n){case"xml":i!==y&&t.fail("xml prefix must be bound to "+y+".");break;case"xmlns":i!==m&&t.fail("xmlns prefix must be bound to "+m+".")}switch(i){case m:t.fail(""===n?"the default namespace may not be set to "+i+".":'may not assign a prefix (even "xmlns") to the URI '+m+".");break;case y:switch(n){case"xml":break;case"":t.fail("the default namespace may not be set to "+i+".");break;default:t.fail("may not assign the xml namespace to another prefix.")}}}var F=function(t){return g.test(t)},U=function(t){return f.test(t)};t.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var V={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"},H=function(){function t(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;var n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=d,this.nameCheck=w,this.isName=F,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},_);var i=this.opt.additionalNamespaces;null!=i&&(!function(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];M(t,r,n[r])}}(this,i),v.assign(this.ns,i))}else this.nameStartCheck=o,this.nameCheck=s,this.isName=U,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}var n=t.prototype;return n._init=function(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];var n=this.fragmentOpt;this.state=n?T:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;var i=this.opt.defaultXMLVersion;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new a("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.On=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(p),null===(t=this.readyHandler)||void 0===t||t.call(this)},n.on=function(t,n){this[V[t]]=n},n.off=function(t){this[V[t]]=void 0},n.makeError=function(t){var n,i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=this.line+":"+this.column),i.length>0&&(i+=": "),new a(i+t)},n.fail=function(t){var n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this},n.write=function(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");var n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=""+this.carriedFromPrevious+t,this.carriedFromPrevious=void 0);var i=t.length,e=t.charCodeAt(i-1);!n&&(13===e||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));var r=this.stateTable;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this},n.close=function(){return this.write(null)},n.getCode10=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return b;var i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=32||9===i)return i;switch(i){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:return t.charCodeAt(n+1)===E&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;var e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e},n.getCode11=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return b;var i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&8232!==i||9===i)return i;switch(i){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:var e=t.charCodeAt(n+1);e!==E&&133!==e||(this.i=n+2);case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;var r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r},n.getCodeNorm=function(){var t=this.getCode();return t===k?E:t},n.unget=function(){this.i=this.prevI,this.column--},n.captureTo=function(t){for(var n=this.i,i=this.chunk;;){var e=this.getCode(),r=e===k,u=r?E:e;if(u===b||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=i.slice(n,this.prevI)+"\n",n=this.i)}},n.captureToChar=function(t){for(var n=this.i,i=this.chunk;;){var e=this.getCode();switch(e){case k:this.text+=i.slice(n,this.prevI)+"\n",n=this.i,e=E;break;case b:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}},n.captureNameChars=function(){for(var t=this.chunk,n=this.i;;){var i=this.getCode();if(i===b)return this.name+=t.slice(n),b;if(!s(i))return this.name+=t.slice(n,this.prevI),i===k?E:i}},n.skipSpaces=function(){for(;;){var t=this.getCodeNorm();if(t===b||!r(t))return t}},n.setXMLVersion=function(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)},n.sBegin=function(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1},n.sBeginWhitespace=function(){var t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case I:if(this.state=15,0!==this.text.length)throw new a("no-empty text at start");break;case b:break;default:this.unget(),this.state=T,this.xmlDeclPossible=!1}},n.sDoctype=function(){var t,n=this.captureTo(P);switch(n){case N:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=T,this.doctype=!0;break;case b:break;default:this.text+=String.fromCodePoint(n),91===n?this.state=4:A(n)&&(this.state=3,this.q=n)}},n.sDoctypeQuote=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)},n.sDTD=function(){var t=this.captureTo(x);t!==b&&(this.text+=String.fromCodePoint(t),t===O?this.state=2:t===I?this.state=6:A(t)&&(this.state=5,this.q=t))},n.sDTDQuoted=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)},n.sDTDOpenWaka=function(){var t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case C:this.state=11;break;default:this.state=4}},n.sDTDOpenWakaBang=function(){var t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?8:4,this.openWakaBang="")},n.sDTDComment=function(){this.captureToChar(45)&&(this.text+="-",this.state=9)},n.sDTDCommentEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8},n.sDTDCommentEnded=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===N?this.state=4:(this.fail("malformed comment."),this.state=8)},n.sDTDPI=function(){this.captureToChar(C)&&(this.text+="?",this.state=12)},n.sDTDPIEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===N&&(this.state=4)},n.sText=function(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()},n.sEntity=function(){var t=this.i,n=this.chunk;t:for(;;)switch(this.getCode()){case k:this.entity+=n.slice(t,this.prevI)+"\n",t=this.i;break;case 59:var i=this.entityReturnState,e=this.entity+n.slice(t,this.prevI);this.state=i;var r=void 0;""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===T&&void 0===this.textHandler||(this.text+=r);break t;case b:this.entity+=n.slice(t);break t}},n.sOpenWaka=function(){var t=this.getCode();if(o(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case C:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=T,this.xmlDeclPossible=!1}},n.sOpenWakaBang=function(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}},n.sComment=function(){this.captureToChar(45)&&(this.state=18)},n.sCommentEnding=function(){var t,n=this.getCodeNorm();45===n?(this.state=19,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(n),this.state=17)},n.sCommentEnded=function(){var t=this.getCodeNorm();t!==N?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(t),this.state=17):this.state=T},n.sCData=function(){this.captureToChar(O)&&(this.state=21)},n.sCDataEnding=function(){var t=this.getCodeNorm();t===O?this.state=22:(this.text+="]"+String.fromCodePoint(t),this.state=20)},n.sCDataEnding2=function(){var t,n=this.getCodeNorm();switch(n){case N:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=T;break;case O:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(n),this.state=20}},n.sPIFirstChar=function(){var t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):t===C||r(t)?(this.fail("processing instruction without a target."),this.state=t===C?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)},n.sPIRest=function(){for(var t=this.chunk,n=this.i;;){var i=this.getCodeNorm();if(i===b)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);var e=i===C;e||r(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?S:27):this.state=e?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}},n.sPIBody=function(){if(0===this.text.length){var t=this.getCodeNorm();t===C?this.state=26:r(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(C)&&(this.state=26)},n.sPIEnding=function(){var t,n=this.getCodeNorm();if(n===N){var i=this.piTarget;"xml"===i.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:i,body:this.text}),this.piTarget=this.text="",this.state=T}else n===C?this.text+="?":(this.text+="?"+String.fromCodePoint(n),this.state=25);this.xmlDeclPossible=!1},n.sXMLDeclNameStart=function(){var t=this.skipSpaces();t!==C?t!==b&&(this.state=28,this.name=String.fromCodePoint(t)):this.state=S},n.sXMLDeclName=function(){var t=this.captureTo(B);if(t===C)return this.state=S,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(r(t)||t===R){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail("expected the name "+this.xmlDeclExpects[0]+".");break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=t===R?30:29}},n.sXMLDeclEq=function(){var t=this.getCodeNorm();if(t===C)return this.state=S,void this.fail("XML declaration is incomplete.");r(t)||(t!==R&&this.fail("value required."),this.state=30)},n.sXMLDeclValueStart=function(){var t=this.getCodeNorm();if(t===C)return this.state=S,void this.fail("XML declaration is incomplete.");r(t)||(A(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)},n.sXMLDeclValue=function(){var t=this.captureTo([this.q,C]);if(t===C)return this.state=S,this.text="",void this.fail("XML declaration is incomplete.");if(t!==b){var n=this.text;switch(this.text="",this.name){case"version":this.xmlDeclExpects=["encoding","standalone"];var i=n;this.xmlDecl.version=i,/^1\.[0-9]+$/.test(i)?this.opt.forceXMLVersion||this.setXMLVersion(i):this.fail("version number must match /^1\\.[0-9]+$/.");break;case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=32}},n.sXMLDeclSeparator=function(){var t=this.getCodeNorm();t!==C?(r(t)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=S},n.sXMLDeclEnding=function(){var t;this.getCodeNorm()===N?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=T):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1},n.sOpenTag=function(){var t,n=this.captureNameChars();if(n!==b){var i=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case N:this.openTag();break;case 47:this.state=35;break;default:r(n)||this.fail("disallowed character in tag name."),this.state=36}}},n.sOpenTagSlash=function(){this.getCode()===N?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)},n.sAttrib=function(){var t=this.skipSpaces();t!==b&&(o(t)?(this.unget(),this.state=37):t===N?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))},n.sAttribName=function(){var t=this.captureNameChars();t===R?this.state=39:r(t)?this.state=38:t===N?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==b&&this.fail("disallowed character in attribute name.")},n.sAttribNameSawWhite=function(){var t=this.skipSpaces();switch(t){case b:return;case R:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",t===N?this.openTag():o(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}},n.sAttribValue=function(){var t=this.getCodeNorm();A(t)?(this.q=t,this.state=40):r(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())},n.sAttribValueQuoted=function(){for(var t=this.q,n=this.chunk,i=this.i;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=n.slice(i,this.prevI),this.state=14,void(this.entityReturnState=40);case E:case k:case 9:this.text+=n.slice(i,this.prevI)+" ",i=this.i;break;case I:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case b:return void(this.text+=n.slice(i))}},n.sAttribValueClosed=function(){var t=this.getCodeNorm();r(t)?this.state=36:t===N?this.openTag():47===t?this.state=35:o(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")},n.sAttribValueUnquoted=function(){var t=this.captureTo(L);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case I:this.fail("disallowed character.");break;case b:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===N?this.openTag():this.state=36}},n.sCloseTag=function(){var t=this.captureNameChars();t===N?this.closeTag():r(t)?this.state=44:t!==b&&this.fail("disallowed character in closing tag.")},n.sCloseTagSawWhite=function(){switch(this.skipSpaces()){case N:this.closeTag();break;case b:break;default:this.fail("disallowed character in closing tag.")}},n.handleTextInRoot=function(){var t=this.i,n=this.forbiddenState,i=this.chunk,e=this.textHandler;t:for(;;)switch(this.getCode()){case I:if(this.state=15,void 0!==e){var r=this.text,u=i.slice(t,this.prevI);0!==r.length?(e(r+u),this.text=""):0!==u.length&&e(u)}n=0;break t;case 38:this.state=14,this.entityReturnState=T,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=0;break t;case O:switch(n){case 0:n=1;break;case 1:n=2;break;case 2:break;default:throw new a("impossible state")}break;case N:2===n&&this.fail('the string "]]>" is disallowed in char data.'),n=0;break;case k:void 0!==e&&(this.text+=i.slice(t,this.prevI)+"\n"),t=this.i,n=0;break;case b:void 0!==e&&(this.text+=i.slice(t));break t;default:n=0}this.forbiddenState=n},n.handleTextOutsideRoot=function(){var t=this.i,n=this.chunk,i=this.textHandler,e=!1;t:for(;;){var u=this.getCode();switch(u){case I:if(this.state=15,void 0!==i){var o=this.text,s=n.slice(t,this.prevI);0!==o.length?(i(o+s),this.text=""):0!==s.length&&i(s)}break t;case 38:this.state=14,this.entityReturnState=T,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==i&&(this.text+=n.slice(t,this.prevI)+"\n"),t=this.i;break;case b:void 0!==i&&(this.text+=n.slice(t));break t;default:r(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))},n.pushAttribNS=function(t,n){var i,e=this.qname(t),r=e.prefix,u=e.local,o={name:t,prefix:r,local:u,value:n};if(this.attribList.push(o),null===(i=this.attributeHandler)||void 0===i||i.call(this,o),"xmlns"===r){var s=n.trim();"1.0"===this.currentXMLVersion&&""===s&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[u]=s,M(this,u,s)}else if("xmlns"===t){var c=n.trim();this.topNS[""]=c,M(this,"",c)}},n.pushAttribPlain=function(t,n){var i,e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)},n.end=function(){var t,n;this.sawRoot||this.fail("document must contain a root element.");for(var i=this.tags;i.length>0;){var e=i.pop();this.fail("unclosed tag: "+e.name)}0!==this.state&&this.state!==T&&this.fail("unexpected end.");var r=this.text;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.On=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this},n.resolve=function(t){var n,i,e=this.topNS[t];if(void 0!==e)return e;for(var r=this.tags,u=r.length-1;u>=0;u--)if(void 0!==(e=r[u].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)},n.qname=function(t){var n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};var i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail("malformed name: "+t+"."),{prefix:e,local:i}},n.processAttribsNS=function(){var t,n=this.attribList,i=this.tag,e=this.qname(i.name),r=e.prefix,u=e.local;i.prefix=r,i.local=u;var o=i.uri=null!==(t=this.resolve(r))&&void 0!==t?t:"";if(""!==r&&("xmlns"===r&&this.fail('tags may not have "xmlns" as prefix.'),""===o&&(this.fail("unbound namespace prefix: "+JSON.stringify(r)+"."),i.uri=r)),0!==n.length){for(var s=i.attributes,c=new Set,f=0;f<n.length;f++){var a=n[f],h=a.name,v=a.prefix,d=a.local,l=void 0,w=void 0;""===v?(l="xmlns"===h?m:"",w=h):(void 0===(l=this.resolve(v))&&(this.fail("unbound namespace prefix: "+JSON.stringify(v)+"."),l=v),w="{"+l+"}"+d),c.has(w)&&this.fail("duplicate attribute: "+w+"."),c.add(w),a.uri=l,s[h]=a}this.attribList=[]}},n.processAttribsPlain=function(){for(var t=this.attribList,n=this.tag.attributes,i=0;i<t.length;i++){var e=t[i],r=e.name,u=e.value;void 0!==n[r]&&this.fail("duplicate attribute: "+r+"."),n[r]=u}this.attribList=[]},n.openTag=function(){var t;this.processAttribs();var n=this.tags,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=T,this.name=""},n.openSelfClosingTag=function(){var t,n,i;this.processAttribs();var e=this.tags,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=T,this.name=""},n.closeTag=function(){var t=this.tags,n=this.name;if(this.state=T,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");for(var i=this.closeTagHandler,e=t.length;e-- >0;){var r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail("unmatched closing tag: "+n+"."),this.text+="</"+n+">")},n.parseEntity=function(t){if("#"!==t[0]){var n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),"&"+t+";")}var i=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?i=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(i=l(t.slice(1),10)),this.isChar(i)?String.fromCodePoint(i):(this.fail("malformed character entity."),"&"+t+";")},Re(t,[{key:"closed",get:function(){return this.On}},{key:"position",get:function(){return this.chunkPosition+this.i}},{key:"columnIndex",get:function(){return this.position-this.positionAtNewLine}}]),t}();t.SaxesParser=H})),We={};!function(t,n){for(var i in n)p(t,i,{get:n[i],enumerable:!0})}(We,{ChromelessPlayer:function(){return jN},ErrorCategory:function(){return td},ErrorCode:function(){return Qv},createGlobals:function(){return PC},features:function(){return YN},getCueMirrorMap:function(){return AC},getGlobalId:function(){return DC},getSdkEventBridge:function(){return OC},playerSuiteVersion:function(){return $N},players:function(){return KN},registerContentProtectionIntegration:function(){return JN},utils:function(){return GN},version:function(){return XN}}),n.exports=(Me=We,R(p({},"__esModule",{value:!0}),Me)),Te(),Vt(),Te(),Vt();var je,Ge;N(Ee());function Ye(t,n){return(Ye=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function Xe(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Ye(t,n)}function $e(t){je=t}Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Ne(),Fe(),Te(),Vt(),Fe(),Te(),Vt(),Ne(),Te(),Vt(),function(t){t.An="web",t.Dn="android",t.Pn="android-tv",t.xn="ios",t.Bn="tvos",t.Ln="chromecast"}(Ge||(Ge={}));var Ke=u?u.userAgent:"",Je=Ke.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Ze=Ke.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Qe=Ke.match(/Android ([0-9\.]+)/i),tr=Ke.match(/Windows NT ([0-9\.]+)/i),nr=Ke.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),ir=Ke.match(/Firefox\/([0-9\.]+)/i),er=Ke.match(/OPR\/(\d+\.\d+)/i),rr=Ke.match(/Tizen ([0-9\.]+)/i),ur=Ke.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),or=function(){function t(){this.Mn=Boolean("ontouchstart"in self||self.DocumentTouch&&e instanceof self.DocumentTouch||u&&u.msMaxTouchPoints),this.Fn=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Ke)||/(macintosh|mac(?=_powerpc)\s)/i.test(Ke),this.Un=/Windows NT/i.test(Ke),this.Vn=tr?w(tr[1]):0,this.Hn=/Android/i.test(Ke),this.qn=Qe?w(Qe[1]):0,this.zn=/windows phone (8|8\.1)/i.test(Ke),this.Wn=/iPhone/i.test(Ke),this.jn=/iPad/i.test(Ke),this.Gn=this.Fn&&this.Mn&&!this.jn,this.Yn=/iPod/i.test(Ke),this.Xn=/Mobile Safari/i.test(Ke),this.$n=/EOS\d*STB/i.test(Ke),this.Kn=/APP\d*STB/i.test(Ke),this.Jn=(this.Wn||this.jn||this.Gn||this.Yn)&&!this.zn,this.Zn=ur?w(ur[2]):0,this.Qn=this.zn||this.Jn||this.Hn||this.Xn,this.ti=/CriOS/i.test(Ke),this.ni=Boolean(self.chrome&&/google/i.test(u.vendor))||this.ti,this.ii=this.ni&&/Edg\//i.test(u.userAgent),this.ei=Ze?l(Ze[1],10):0,this.ri=Boolean(self.chrome||/Chrome/i.test(Ke)||/CriOS/i.test(Ke)),this.ui=Je?l(Je[1],10):0,this.oi=/SMART-TV.*Tizen/i.test(Ke),this.si=rr?w(rr[1]):0,this.ci=/webos|web0s/i.test(Ke),this.fi=/VIZIO/i.test(Ke),this.ai=/Edge\/\d+/i.test(Ke),this.hi=/Trident/i.test(Ke),this.vi=this.hi&&!self.ActiveXObject&&"ActiveXObject"in self,this.di=/Vivaldi/i.test(Ke),this.li=/Firefox/i.test(Ke)&&!/Seamonkey/i.test(Ke),this.wi=ir?w(ir[1]):0,this.gi=/Safari/i.test(Ke)&&!/Chrome/i.test(Ke)&&!this.zn&&!this.oi,this.yi=nr?w(nr[2]):0,this.mi=Boolean(er),this._i=er?w(er[1]):0,this.pi=/CrKey/.test(Ke),this.bi=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(Ke),this.ki="tvos"===Ge.Pn,this.Ti="tvos"===Ge.Dn,this.Si=this.Ti||this.ki,this.Ei="tvos"===Ge.xn,this.Ii="tvos"===Ge.Bn,this.Ri="tvos"===Ge.Ln}return Re(t,[{key:"Ni",get:function(){return this.Mn}},{key:"Ci",get:function(){return this.Fn}},{key:"Oi",get:function(){return this.Un}},{key:"Ai",get:function(){return this.Vn}},{key:"Di",get:function(){return this.Hn}},{key:"Pi",get:function(){return this.qn}},{key:"xi",get:function(){return this.zn}},{key:"Bi",get:function(){return this.Wn}},{key:"Li",get:function(){return this.jn}},{key:"Mi",get:function(){return this.Gn}},{key:"Fi",get:function(){return this.Yn}},{key:"Ui",get:function(){return this.Jn}},{key:"Vi",get:function(){return this.Zn}},{key:"Hi",get:function(){return this.$n||this.Kn}},{key:"qi",get:function(){return this.Xn}},{key:"zi",get:function(){return this.Qn}},{key:"Wi",get:function(){return this.ti}},{key:"ji",get:function(){return this.ni}},{key:"Gi",get:function(){return this.ui}},{key:"Yi",get:function(){return this.ii}},{key:"Xi",get:function(){return this.ei}},{key:"$i",get:function(){return this.oi}},{key:"Ki",get:function(){return this.si}},{key:"Ji",get:function(){return this.ci}},{key:"Zi",get:function(){return this.fi}},{key:"Qi",get:function(){return this.ai}},{key:"te",get:function(){return this.hi}},{key:"ie",get:function(){return this.vi}},{key:"ee",get:function(){return this.di}},{key:"re",get:function(){return this.li}},{key:"ue",get:function(){return this.wi}},{key:"oe",get:function(){return this.gi}},{key:"se",get:function(){return this.yi}},{key:"ce",get:function(){return this.mi}},{key:"fe",get:function(){return this._i}},{key:"ae",get:function(){return this.pi}},{key:"he",get:function(){return this.bi}},{key:"ve",get:function(){return!(!this.Ji&&!this.$i)&&this.Gi<=56}},{key:"de",get:function(){return this.ki}},{key:"we",get:function(){return this.Ti}},{key:"ye",get:function(){return this.Si}},{key:"me",get:function(){return this.Ei}},{key:"_e",get:function(){return this.Ii}},{key:"pe",get:function(){return this.Ri}},{key:"be",get:function(){return this.ri}}]),t}();or.ke=new or;var sr=or.ke;Te(),Vt();var cr={}.hasOwnProperty,fr={}.toString;function ar(t){return null!=t}function hr(t){return void 0===t}var vr=Array.isArray||function(t){return"[object Array]"===fr.call(t)};function dr(t){return lr(t)&&cr.call(t,"length")&&_r(t.length)}function lr(t){return"object"==typeof t&&null!==t}function wr(t){return lr(t)&&t.constructor&&t.constructor===v}function gr(t){return"string"==typeof t}function yr(t){return"boolean"==typeof t}function mr(t){return Boolean(t)&&"function"==typeof t.then}function _r(t){return"number"==typeof t}Te(),Vt();var pr=function(){},br=function(t){return t};function kr(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}var Tr=!(sr.te&&!sr.ie),Sr=self.console;function Er(t){if(lr(t))try{return JSON.stringify(t)}catch(t){}return t}function Ir(t){return t.map(Er).join(" ")}function Rr(t){var n=Sr&&Sr[t];return n?n.bind&&Tr?n.bind(Sr):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Sr[t](Ir(i))}:void 0}var Nr=Rr("log")||pr,Cr=Rr("warn")||Nr.bind(void 0,"WARNING:"),Or=Rr("error")||Nr.bind(void 0,"ERROR:"),Ar=function(){var t=Sr&&Sr.assert;return t?t.bind&&Tr?t.bind(Sr):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Sr.assert(t,Ir(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];t||Or.apply(void 0,["Assertion failed:"].concat(Le(i)))}}();Te(),Vt(),Te(),Vt(),Te(),Vt();var Dr=null;try{Dr=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(Me){}function Pr(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function xr(t){return!0===(t&&t.Te)}function Br(t){var n=d.clz32(t&-t);return t?31-n:n}Pr.prototype.Te,v.defineProperty(Pr.prototype,"Te",{value:!0}),Pr.isLong=xr;var Lr={},Mr={};function Fr(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=Mr[t])?e:(i=Vr(t,0,!0),r&&(Mr[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=Lr[t])?e:(i=Vr(t,t<0?-1:0,!1),r&&(Lr[t]=i),i)}function Ur(t,n){if(g(t))return n?$r:Xr;if(n){if(t<0)return $r;if(t>=jr)return tu}else{if(t<=-Gr)return nu;if(t+1>=Gr)return Qr}return t<0?Ur(-t,n).neg():Vr(t%Wr|0,t/Wr|0,n)}function Vr(t,n,i){return new Pr(t,n,i)}Pr.fromInt=Fr,Pr.fromNumber=Ur,Pr.fromBits=Vr;var Hr=d.pow;function qr(t,n,i){if(0===t.length)throw a("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?$r:Xr;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw a("interior hyphen");if(0===e)return qr(t.substring(1),n,i).neg();for(var r=Ur(Hr(i,8)),u=Xr,o=0;o<t.length;o+=8){var s=d.min(8,t.length-o),c=l(t.substring(o,o+s),i);if(s<8){var f=Ur(Hr(i,s));u=u.mul(f).add(Ur(c))}else u=(u=u.mul(r)).add(Ur(c))}return u.unsigned=n,u}function zr(t,n){return"number"==typeof t?Ur(t,n):"string"==typeof t?qr(t,n):Vr(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Pr.fromString=qr,Pr.fromValue=zr;var Wr=4294967296,jr=Wr*Wr,Gr=jr/2,Yr=Fr(1<<24),Xr=Fr(0);Pr.ZERO=Xr;var $r=Fr(0,!0);Pr.UZERO=$r;var Kr=Fr(1);Pr.ONE=Kr;var Jr=Fr(1,!0);Pr.UONE=Jr;var Zr=Fr(-1);Pr.NEG_ONE=Zr;var Qr=Vr(-1,2147483647,!1);Pr.MAX_VALUE=Qr;var tu=Vr(-1,-1,!0);Pr.MAX_UNSIGNED_VALUE=tu;var nu=Vr(0,-2147483648,!1);Pr.MIN_VALUE=nu;var iu=Pr.prototype;iu.toInt=function(){return this.unsigned?this.low>>>0:this.low},iu.toNumber=function(){return this.unsigned?(this.high>>>0)*Wr+(this.low>>>0):this.high*Wr+(this.low>>>0)},iu.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(nu)){var n=Ur(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=Ur(Hr(t,6),this.unsigned),u=this,o="";;){var s=u.div(r),c=(u.sub(s.mul(r)).toInt()>>>0).toString(t);if((u=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},iu.getHighBits=function(){return this.high},iu.getHighBitsUnsigned=function(){return this.high>>>0},iu.getLowBits=function(){return this.low},iu.getLowBitsUnsigned=function(){return this.low>>>0},iu.getNumBitsAbs=function(){if(this.isNegative())return this.eq(nu)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},iu.isZero=function(){return 0===this.high&&0===this.low},iu.eqz=iu.isZero,iu.isNegative=function(){return!this.unsigned&&this.high<0},iu.isPositive=function(){return this.unsigned||this.high>=0},iu.isOdd=function(){return 1==(1&this.low)},iu.isEven=function(){return 0==(1&this.low)},iu.equals=function(t){return xr(t)||(t=zr(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},iu.eq=iu.equals,iu.notEquals=function(t){return!this.eq(t)},iu.neq=iu.notEquals,iu.ne=iu.notEquals,iu.lessThan=function(t){return this.comp(t)<0},iu.lt=iu.lessThan,iu.lessThanOrEqual=function(t){return this.comp(t)<=0},iu.lte=iu.lessThanOrEqual,iu.le=iu.lessThanOrEqual,iu.greaterThan=function(t){return this.comp(t)>0},iu.gt=iu.greaterThan,iu.greaterThanOrEqual=function(t){return this.comp(t)>=0},iu.gte=iu.greaterThanOrEqual,iu.ge=iu.greaterThanOrEqual,iu.compare=function(t){if(xr(t)||(t=zr(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},iu.comp=iu.compare,iu.negate=function(){return!this.unsigned&&this.eq(nu)?nu:this.not().add(Kr)},iu.neg=iu.negate,iu.add=function(t){xr(t)||(t=zr(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=0,f=0,a=0,h=0;return a+=(h+=r+(65535&t.low))>>>16,f+=(a+=e+s)>>>16,c+=(f+=i+o)>>>16,c+=n+u,Vr((a&=65535)<<16|(h&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},iu.subtract=function(t){return xr(t)||(t=zr(t)),this.add(t.neg())},iu.sub=iu.subtract,iu.multiply=function(t){if(this.isZero())return this;if(xr(t)||(t=zr(t)),Dr)return Vr(Dr.mul(this.low,this.high,t.low,t.high),Dr.get_high(),this.unsigned);if(t.isZero())return this.unsigned?$r:Xr;if(this.eq(nu))return t.isOdd()?nu:Xr;if(t.eq(nu))return this.isOdd()?nu:Xr;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Yr)&&t.lt(Yr))return Ur(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=65535&t.low,f=0,a=0,h=0,v=0;return h+=(v+=r*c)>>>16,a+=(h+=e*c)>>>16,h&=65535,a+=(h+=r*s)>>>16,f+=(a+=i*c)>>>16,a&=65535,f+=(a+=e*s)>>>16,a&=65535,f+=(a+=r*o)>>>16,f+=n*c+i*s+e*o+r*u,Vr((h&=65535)<<16|(v&=65535),(f&=65535)<<16|(a&=65535),this.unsigned)},iu.mul=iu.multiply,iu.divide=function(t){if(xr(t)||(t=zr(t)),t.isZero())throw a("division by zero");var n,i,e;if(Dr)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Vr((this.unsigned?Dr.div_u:Dr.div_s)(this.low,this.high,t.low,t.high),Dr.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?$r:Xr;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return $r;if(t.gt(this.shru(1)))return Jr;e=$r}else{if(this.eq(nu))return t.eq(Kr)||t.eq(Zr)?nu:t.eq(nu)?Kr:(n=this.shr(1).div(t).shl(1)).eq(Xr)?t.isNegative()?Kr:Zr:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(nu))return this.unsigned?$r:Xr;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Xr}for(i=this;i.gte(t);){n=d.max(1,d.floor(i.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:Hr(2,r-48),o=Ur(n),s=o.mul(t);s.isNegative()||s.gt(i);)s=(o=Ur(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=Kr),e=e.add(o),i=i.sub(s)}return e},iu.div=iu.divide,iu.modulo=function(t){return xr(t)||(t=zr(t)),Dr?Vr((this.unsigned?Dr.rem_u:Dr.rem_s)(this.low,this.high,t.low,t.high),Dr.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},iu.mod=iu.modulo,iu.rem=iu.modulo,iu.not=function(){return Vr(~this.low,~this.high,this.unsigned)},iu.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},iu.clz=iu.countLeadingZeros,iu.countTrailingZeros=function(){return this.low?Br(this.low):Br(this.high)+32},iu.ctz=iu.countTrailingZeros,iu.and=function(t){return xr(t)||(t=zr(t)),Vr(this.low&t.low,this.high&t.high,this.unsigned)},iu.or=function(t){return xr(t)||(t=zr(t)),Vr(this.low|t.low,this.high|t.high,this.unsigned)},iu.xor=function(t){return xr(t)||(t=zr(t)),Vr(this.low^t.low,this.high^t.high,this.unsigned)},iu.shiftLeft=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Vr(0,this.low<<t-32,this.unsigned)},iu.shl=iu.shiftLeft,iu.shiftRight=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Vr(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},iu.shr=iu.shiftRight,iu.shiftRightUnsigned=function(t){return xr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Vr(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Vr(32===t?this.high:this.high>>>t-32,0,this.unsigned)},iu.shru=iu.shiftRightUnsigned,iu.shr_u=iu.shiftRightUnsigned,iu.rotateLeft=function(t){var n;return xr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Vr(this.high,this.low,this.unsigned):t<32?(n=32-t,Vr(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),Vr(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},iu.rotl=iu.rotateLeft,iu.rotateRight=function(t){var n;return xr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Vr(this.high,this.low,this.unsigned):t<32?(n=32-t,Vr(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),Vr(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},iu.rotr=iu.rotateRight,iu.toSigned=function(){return this.unsigned?Vr(this.low,this.high,!1):this},iu.toUnsigned=function(){return this.unsigned?this:Vr(this.low,this.high,!0)},iu.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},iu.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},iu.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Pr.fromBytes=function(t,n,i){return i?Pr.fromBytesLE(t,n):Pr.fromBytesBE(t,n)},Pr.fromBytesLE=function(t,n){return new Pr(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Pr.fromBytesBE=function(t,n){return new Pr(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var eu=Pr;Te(),Vt();var ru=d.pow(2,-52);function uu(t,n,i){return d.min(d.max(t,n),i)}function ou(t,n,i){return t===n||d.abs(t-n)<=i}function su(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function cu(){return Date.now()||(new Date).getTime()}function fu(t){return t/1e3}var au=1/6;eu.fromNumber(9007199254740991);function hu(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function vu(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){du(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&du(i,null,t.length,t),t}function du(t,n,i,e){var r,u,o,s,c,f=t.length,a=0,h=2*i;for(r=0;r<f;r+=h)for(o=(u=r+i)+i,u>f&&(u=f),o>f&&(o=f),s=r,c=u;;)if(s<u&&c<o)n(t[s],t[c])<=0?e[a++]=t[s++]:e[a++]=t[c++];else if(s<u)e[a++]=t[s++];else{if(!(c<o))break;e[a++]=t[c++]}}Te(),Vt();var lu=/[a-zA-Z]/,wu=/[0-9]/,gu=/[0-9a-fA-F]/,yu=/^0x/i,mu=/^[0-9]+$/,_u=/^[0-9a-fA-F]+$/,pu=/^[0-7]+$/,bu=v.prototype.toString,ku=Array.isArray||function(t){return"[object Array]"===bu.call(t)},Tu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Su(t){return ku(t)?t:Array.from(t)}function Eu(t,n,i){var e=t[n];t[n]=t[i],t[i]=e}function Iu(t){return t>=65&&t<=90}function Ru(t){return Iu(t)||function(t){return t>=97&&t<=122}(t)}function Nu(t){return t>=48&&t<=57}function Cu(t){return Nu(t)||Ru(t)}function Ou(t){return Nu(t)||t>=65&&t<=70||t>=97&&t<=102}function Au(t){return Iu(t)?t+32:t}function Du(t){return Nu(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Pu(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var xu=d.min,Bu=String.fromCharCode;function Lu(t){for(var n=t.length,i=[],e=0;e<n;e+=16384){var r=xu(e+16384,n);i.push(Bu.apply(null,t.slice(e,r)))}return i.join("")}var Mu=2147483647,Fu=/[^\0-\x7E]/,Uu=/[\x2E\u3002\uFF0E\uFF61]/g,Vu={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Hu=d.floor,qu=String.fromCharCode;function zu(t){throw new RangeError(Vu[t])}function Wu(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var ju,Gu,Yu,Xu=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},$u=function(t,n,i){var e=0;for(t=i?Hu(t/700):t>>1,t+=Hu(t/n);t>455;e+=36)t=Hu(t/35);return Hu(e+36*t/(t+38))},Ku=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Uu,".")).split("."),n).join(".");return e+r}(t,(function(t){return Fu.test(t)?"xn--"+function(t){for(var n=[],i=(t=Wu(t)).length,e=128,r=0,u=72,o=0,s=t;o<s.length;o++){var c=s[o];c<128&&n.push(qu(c))}var f=n.length,a=f;for(f&&n.push("-");a<i;){for(var h=Mu,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<h&&(h=l)}var w=a+1;h-e>Hu((Mu-r)/w)&&zu("overflow"),r+=(h-e)*w,e=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<e&&++r>Mu&&zu("overflow"),m==e){for(var _=r,p=36;;p+=36){var b=p<=u?1:p>=u+26?26:p-u;if(_<b)break;var k=_-b,T=36-b;n.push(qu(Xu(b+k%T,0))),_=Hu(k/T)}n.push(qu(Xu(_,0))),u=$u(r,w,a==f),r=0,++a}}++r,++e}return n.join("")}(t):t}))};function Ju(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Lu(n)}function Zu(t){if(t>=55296&&t<=57343)throw new a("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Qu(t,n){return t>>n&63|128}function to(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Zu(t),n.push(t>>12&15|224),n.push(Qu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Qu(t,12)),n.push(Qu(t,6))),n.push(63&t|128)):n.push(t)}function no(t){for(var n=[],i=0;i<t.length;i++){to(t[i],n)}return n}function io(){if(Yu>=Gu)throw new a("Invalid byte index");var t=255&ju[Yu];if(Yu++,128==(192&t))return 63&t;throw new a("Invalid continuation byte")}function eo(){var t,n;if(Yu>Gu)throw new a("Invalid byte index");if(Yu===Gu)return!1;if(t=255&ju[Yu],Yu++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|io())>=128)return n;throw new a("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|io()<<6|io())>=2048)return Zu(n),n;throw new a("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|io()<<12|io()<<6|io())>=65536&&n<=1114111)return n;throw new a("Invalid UTF-8 detected")}function ro(t){return[37,Pu(t>>4),Pu(15&t)]}function uo(t){return function(t){return t>=0&&t<=31}(t)||t>126}function oo(t){return uo(t)||32===t||34===t||60===t||62===t||96===t}function so(t){return oo(t)||35===t||63===t||123===t||125===t}function co(t){return so(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function fo(t){return t<33||t>126||34===t||35===t||60===t||62===t}function ao(t){return fo(t)||39===t}function ho(t,n){if(!n(t))return[t];for(var i=no([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,ro(u))}return e}function vo(t,n){for(var i=[],e=0,r=Wu(t);e<r.length;e++){var u=r[e];i.push.apply(i,ho(u,n))}return Ju(i)}function lo(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Ou(t[e+1])&&Ou(t[e+2])){var u=Du(t[e+1])<<4|Du(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(no(t))}function wo(t){return Ju(function(t){ju=t.slice(),Gu=ju.length,Yu=0;for(var n,i=[];!1!==(n=eo());)i.push(n);return i}(lo(Wu(t))))}function go(t){var n=t.length,i=[0,0,0,0,0,0,0,0],e=0,r=null,u=0;if(u<n&&":"===t[u]){if(!(u+1<n&&":"===t[u+1]))throw new h;u+=2,r=e+=1}for(;u<n;){if(8===e)throw new h("Too many groups");if(":"!==t[u]){for(var o=0,s=0;s<4&&u<n&&gu.test(t[u]);)o=o<<4|l(t[u],16),u+=1,s+=1;if("."===t[u]){if(0===s)throw new h;if(u-=s,e>6)throw new h;for(var c=0;u<n;){var f=null;if(c>0){if(!("."===t[u]&&c<4))throw new h;u+=1}if(!wu.test(t[u]))throw new h;for(;u<n&&wu.test(t[u]);){var a=l(t[u],10);if(null===f)f=a;else{if(0===f)throw new h;if((f=10*f+a)>255)throw new h}u+=1}i[e]=i[e]<<8|f,2!==(c+=1)&&4!==c||(e+=1)}if(4!==c)throw new h;break}if(":"===t[u]){if((u+=1)===n)throw new h}else if(u<n)throw new h;i[e]=o,e+=1}else{if(null!==r)throw new h("Too many :: groups");u+=1,r=e+=1}}if(null!==r){var v=e-r;for(e=7;0!==e&&v>0;)Eu(i,e,r+v-1),e-=1,v-=1}else if(8!==e)throw new h;return i}function yo(t){var n=10,i=mu;return yu.test(t)?(t=t.slice(2),n=16,i=_u):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=pu),""===t?0:i.test(t)?l(t,n):void 0}var mo={Se:4},_o=/[\0\t\n\r #%/:?@\[\\\]]/,po=/[\0\t\n\r #/:?@\[\\\]]/;function bo(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{Se:2,Ee:go(t.slice(1,-1))}}if(!n)return function(t){if(po.test(t))throw new h("Invalid code point in opaque host");var n=vo(t,uo);return""===n?mo:{Se:3,B:n}}(t);var i=function(t){return function(t){return Ku(t.toLowerCase())}(t)}(wo(t));if(_o.test(i))throw new h("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=yo(r);if(void 0===u)return;i.push(u)}for(var o=0;o<i.length-1;o++)if(i[o]>255)throw new h;if(i[i.length-1]>=d.pow(256,5-i.length))throw new h;for(var s=i.pop(),c=0;c<i.length;c++)s+=i[c]*d.pow(256,3-c);return s}}(i);return void 0!==e?{Se:1,Ee:e}:""===i?mo:{Se:0,Ie:i}}function ko(t){switch(t.Se){case 0:return t.Ie;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Ee);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Ee)+"]";case 3:return t.B;case 4:return""}}var To=/\+/g;function So(t){return 42===t||45===t||46===t||95===t||Cu(t)}function Eo(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),o=void 0,s=void 0;-1!==u?(o=r.slice(0,u),s=r.slice(u+1)):(o=r,s=""),o=o.replace(To," "),s=s.replace(To," ");var c=wo(o),f=wo(s);i.push([c,f])}}return i}function Io(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ro(no(Wu(e[0])))+"="+Ro(no(Wu(e[1])))}return n}function Ro(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];32===e?n.push(43):So(e)?n.push(e):n.push.apply(n,ro(e))}return Lu(n)}var No=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Co(t){var n=""+t,i=No.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(Ao(u))if(Do(u)||r===i-1)e.push(Oo);else{var o=t.charCodeAt(r+1);Do(o)?(e.push(u,o),r++):e.push(Oo)}else e.push(u)}return t.slice(0,n)+Lu(e)}(n,i.index):n}var Oo=65533,Ao=function(t){return 55296==(63488&t)},Do=function(t){return 0!=(1024&t)};function Po(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function xo(t){t.Re.length=0}function Bo(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Re,Eo(n))}function Lo(t){if(t.Ne){var n=Io(t.Re);""===n&&(n=null),t.Ne.Ne.Ce=n}}var Mo=function(){function t(t){if(void 0===t&&(t=void 0),this.Ne=null,null==t)this.Re=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof Mo&&!!ku(t.Re)&&(!Tu||t[Symbol.iterator]===Fo)}(t))this.Re=t.Re.slice();else if(function(t){return null!=t&&(!!ku(t)||!!Tu&&"function"==typeof t[Symbol.iterator])}(t)){this.Re=[];for(var n=0,i=Su(t);n<i.length;n++){var e=Su(i[n]);if(2!==e.length)throw new h("Invalid name-value pair");this.Re.push([Co(e[0]),Co(e[1])])}}else for(var r in this.Re=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.Re.push([Co(r),Co(t[r])]);else(t=Co(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Re=Eo(t)}var n=t.prototype;return n.append=function(t,n){t=Co(t),n=Co(n),this.Re.push([t,n]),Lo(this)},n.delete=function(t){t=Co(t);for(var n=this.Re,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Lo(this)},n.get=function(t){t=Co(t);for(var n=this.Re,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Co(t);for(var n=this.Re,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Co(t);for(var n=this.Re,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Co(t),n=Co(n);for(var i=this.Re,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),Lo(this)},n.sort=function(){vu(this.Re,Po),Lo(this)},n.toString=function(){return Io(this.Re)},n.entries=function(){return new qo(this.Re,Uo)},n.keys=function(){return new qo(this.Re,Vo)},n.values=function(){return new qo(this.Re,Ho)},n.forEach=function(t){var n=this;this.Re.forEach((function(i){return t(i[1],i[0],n)}))},t}(),Fo=Mo.prototype.entries;Tu&&(Mo.prototype[Symbol.iterator]=Fo);var Uo=function(t){return[t[0],t[1]]},Vo=function(t){return t[0]},Ho=function(t){return t[1]},qo=function(){function t(t,n){this.Oe=0,this.Re=t,this.Ae=n}return t.prototype.next=function(){return this.Oe<this.Re.length?{done:!1,value:this.Ae(this.Re[this.Oe++])}:{done:!0,value:void 0}},t}(),zo="null";var Wo=v.create(null);Wo.ftp=21,Wo.file=0,Wo.gopher=70,Wo.http=80,Wo.https=443,Wo.ws=80,Wo.wss=443;var jo=/^(?:\.|%2e)$/i,Go=/^(?:\.|%2e){2}$/i;function Yo(t){return jo.test(t)}function Xo(t){return Go.test(t)}function $o(t){return void 0!==Wo[t]}function Ko(t){return $o(t.De)}function Jo(t){return""!==t.Pe||""!==t.xe}function Zo(t){var n=t.length;if(!(n>=2))return!1;if(!ts(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Qo(t){return 2===t.length&&lu.test(t[0])&&(":"===t[1]||"|"===t[1])}function ts(t){return 2===t.length&&Qo(Lu(t))}function ns(t){return Qo(t)&&":"===t[1]}function is(t){var n=t.Be;0!==n.length&&("file"===t.De&&1===n.length&&ns(n[0])||n.pop())}function es(t){return null===t.Le||mo===t.Le||t.Me||"file"===t.De}var rs=-1,us=/\t|\n|\r/g,os=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ss(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new fs,t=t.replace(os,""));var r=null!==e?e:0;n=n||null;for(var u=[],o=!1,s=!1,c=!1,f=Wu(t=t.replace(us,"")),a=f.length,v=0;v<=a;){var d=v<a?f[v]:rs;switch(r){case 0:if(!Ru(d)){if(null===e){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(Au(d)),r=1;break;case 1:if(Cu(d)||43===d||45===d||46===d)u.push(Au(d));else{if(58!==d){if(null===e){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=Ju(u);if(null!==e){if($o(i.De)&&!$o(w))return;if(!$o(i.De)&&$o(w))return;if((Jo(i)||null!==i.Fe)&&"file"===w)return;if("file"===i.De&&(i.Le===mo||null===i.Le))return}if(i.De=w,null!==e)return void(Ko(i)&&i.Fe===Wo[i.De]&&(i.Fe=null));u.length=0,"file"===i.De?r=13:Ko(i)&&n&&n.De===i.De?r=3:Ko(i)?r=7:47===f[v+1]?(r=4,v+=1):(i.Me=!0,i.Be.push(""),r=18)}break;case 2:if(!n||n.Me&&35!==d)throw new h("Invalid scheme");n.Me&&35===d?(i.De=n.De,i.Be=n.Be.slice(),i.Ce=n.Ce,i.Ue="",i.Me=!0,r=20):"file"!==n.De?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===f[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:i.De=n.De,rs===d?(i.Pe=n.Pe,i.xe=n.xe,i.Le=n.Le,i.Fe=n.Fe,i.Be=n.Be.slice(),i.Ce=n.Ce):47===d?r=6:63===d?(i.Pe=n.Pe,i.xe=n.xe,i.Le=n.Le,i.Fe=n.Fe,i.Be=n.Be.slice(),i.Ce="",r=19):35===d?(i.Pe=n.Pe,i.xe=n.xe,i.Le=n.Le,i.Fe=n.Fe,i.Be=n.Be.slice(),i.Ce=n.Ce,i.Ue="",r=20):92===d&&Ko(i)?r=6:(i.Pe=n.Pe,i.xe=n.xe,i.Le=n.Le,i.Fe=n.Fe,i.Be=n.Be.slice(),i.Be.pop(),r=17,v-=1);break;case 6:!Ko(i)||47!==d&&92!==d?47===d?r=9:(i.Pe=n.Pe,i.xe=n.xe,i.Le=n.Le,i.Fe=n.Fe,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==f[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){o&&u.unshift(37,52,48),o=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var m=Ju(ho(y,co));c?i.xe+=m:i.Pe+=m}else c=!0}u.length=0}else if(rs===d||47===d||63===d||35===d||Ko(i)&&92===d){if(o&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===i.De)v-=1,r=15;else if(58!==d||s)if(rs===d||47===d||63===d||35===d||Ko(i)&&92===d){if(v-=1,Ko(i)&&0===u.length)throw new h("Invalid host");if(null!==e&&0===u.length&&(Jo(i)||null!==i.Fe))return;var _=bo(Ju(u),Ko(i));if(i.Le=_,u.length=0,r=16,null!==e)return}else 91===d?s=!0:93===d&&(s=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=bo(Ju(u),Ko(i));if(i.Le=p,u.length=0,r=12,11===e)return}break;case 12:if(Nu(d))u.push(d);else{if(!(rs===d||47===d||63===d||35===d||Ko(i)&&92===d||null!==e))throw new h("Invalid port");if(0!==u.length){var b=l(Ju(u),10);if(b>65535)throw new h("Invalid port");i.Fe=b===Wo[i.De]?null:b,u.length=0}if(null!==e)return;r=16,v-=1}break;case 13:i.De="file",47===d||92===d?r=14:n&&"file"===n.De?rs===d?(i.Le=n.Le,i.Be=n.Be.slice(),i.Ce=n.Ce):63===d?(i.Le=n.Le,i.Be=n.Be.slice(),i.Ce="",r=19):35===d?(i.Le=n.Le,i.Be=n.Be.slice(),i.Ce=n.Ce,i.Ue="",r=20):(Zo(f.slice(v))||(i.Le=n.Le,i.Be=n.Be.slice(),is(i)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.De&&!Zo(f.slice(v))&&(ns(n.Be[0])?i.Be.push(n.Be[0]):i.Le=n.Le),r=17,v-=1);break;case 15:if(rs===d||47===d||92===d||63===d||35===d)if(v-=1,null===e&&ts(u))r=17;else if(0===u.length){if(i.Le=mo,null!==e)return;r=16}else{var k=bo(Ju(u),Ko(i));if(0===k.Se&&"localhost"===k.Ie&&(k=mo),i.Le=k,null!==e)return;u.length=0,r=16}else u.push(d);break;case 16:Ko(i)?(r=17,47!==d&&92!==d&&(v-=1)):null===e&&63===d?(i.Ce="",r=19):null===e&&35===d?(i.Ue="",r=20):rs!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(rs===d||47===d||Ko(i)&&92===d||null===e&&(63===d||35===d)){var T=Ju(u);if(Xo(T)?(is(i),47===d||Ko(i)&&92===d||i.Be.push("")):!Yo(T)||47===d||Ko(i)&&92===d?Yo(T)||("file"===i.De&&0===i.Be.length&&ts(u)&&(mo!==i.Le&&null!==i.Le&&(i.Le=mo),u[1]=58,T=Ju(u)),i.Be.push(T)):i.Be.push(""),u.length=0,"file"===i.De&&(rs===d||63===d||35===d))for(;i.Be.length>1&&""===i.Be[0];)i.Be.shift();63===d?(i.Ce="",r=19):35===d&&(i.Ue="",r=20)}else u.push.apply(u,ho(d,so));break;case 18:63===d?(i.Ce="",r=19):35===d?(i.Ue="",r=20):rs!==d&&(i.Be[0]+=Ju(ho(d,uo)));break;case 19:null===e&&35===d?(i.Ue="",r=20):rs!==d&&(i.Ce+=Ju(ho(d,Ko(i)?ao:fo)));break;case 20:rs===d||0===d||(i.Ue+=Ju(ho(d,oo)))}v++}return i}function cs(t,n,i,e){try{ss(t,n,i,e)}catch(t){}}var fs=function(){this.De="",this.Pe="",this.xe="",this.Le=null,this.Fe=null,this.Be=[],this.Ce=null,this.Ue=null,this.Me=!1};function as(t){switch(t.De){case"blob":var n;try{n=ss(t.Be[0],null)}catch(t){return zo}return as(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+ko(n)+(null===i?"":":"+i)}(t.De,t.Le,t.Fe);case"file":default:return zo}}var hs,vs=function(){function t(t,n){var i,e=null;if(null!=n)if(function(t){return null!=t&&t instanceof vs&&"object"==typeof t.Ne}(n))e=n.Ne;else try{e=ss(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{i=ss(String(t),e)}catch(t){throw new h("Invalid URL: "+t.message)}var r=i.Ce;this.Ne=i,this.Ce=function(t){var n=new Mo;return null!==t&&Bo(n,t),n}(r),this.Ce.Ne=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&hu(t.prototype,n),i&&hu(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.De+":";if(null!==t.Le?(i+="//",Jo(t)&&(i+=t.Pe,""!==t.xe&&(i+=":"+t.xe),i+="@"),i+=ko(t.Le),null!==t.Fe&&(i+=":"+t.Fe)):null===t.Le&&"file"===t.De&&(i+="//"),t.Me)i+=t.Be[0];else for(var e=0,r=t.Be;e<r.length;e++)i+="/"+r[e];return null!==t.Ce&&(i+="?"+t.Ce),n||null===t.Ue||(i+="#"+t.Ue),i}(this.Ne)},set:function(t){var n;try{n=ss(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.Ne=n,xo(this.Ce);var i=this.Ne.Ce;null!==i&&Bo(this.Ce,i)}},{key:"origin",get:function(){return as(this.Ne)}},{key:"protocol",get:function(){return this.Ne.De+":"},set:function(t){cs(t+":",null,this.Ne,0)}},{key:"username",get:function(){return this.Ne.Pe},set:function(t){es(this.Ne)||(this.Ne.Pe=vo(t,co))}},{key:"password",get:function(){return this.Ne.xe},set:function(t){es(this.Ne)||(this.Ne.xe=vo(t,co))}},{key:"host",get:function(){var t=this.Ne,n=t.Le;if(null===n)return"";var i=t.Fe,e=ko(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Ne.Me||cs(t,null,this.Ne,10)}},{key:"hostname",get:function(){var t=this.Ne.Le;return null===t?"":ko(t)},set:function(t){this.Ne.Me||cs(t,null,this.Ne,11)}},{key:"port",get:function(){var t=this.Ne.Fe;return null===t?"":""+t},set:function(t){es(this.Ne)||(""===t?this.Ne.Fe=null:cs(t,null,this.Ne,12))}},{key:"pathname",get:function(){var t=this.Ne.Be;return this.Ne.Me?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ne.Me||(this.Ne.Be.length=0,cs(t,null,this.Ne,16))}},{key:"search",get:function(){var t=this.Ne.Ce;return null===t||""===t?"":"?"+t},set:function(t){t=Co(t);var n=this.Ne;if(""===t)return n.Ce=null,void xo(this.Ce);"?"===t[0]&&(t=t.slice(1)),n.Ce="",cs(t,null,n,19),Bo(this.Ce,t)}},{key:"searchParams",get:function(){return this.Ce}},{key:"hash",get:function(){var t=this.Ne.Ue;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ne.Ue="",cs(t,null,this.Ne,20)):this.Ne.Ue=null}}]),t}();function ds(t){return t.document&&t.document.baseURI||t.location.href||""}function ls(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ws(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function gs(){return void 0!==e?e.createElement("video"):void 0}function ys(){return hs||(hs=gs()),hs}Te(),Vt(),Se(),Se(),Te(),Vt(),Ne(),Te(),Vt(),Ne(),Te(),Vt(),Ne(),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt();var ms=!!("ontouchstart"in self||self.DocumentTouch&&e instanceof self.DocumentTouch)||!(!u||!u.msMaxTouchPoints),_s=ys(),ps=!(!_s||!_s.webkitShowPlaybackTargetPicker),bs=function(){function t(){this.Ve=void 0,this.He=!1,this.Ni=ms,this.zi=!1,this.qe=!0}var n=t.prototype;return n.ze=function(){return 0},n.We=function(t,n){return!0},n.je=function(t){return t>=2*au},Re(t,[{key:"Ge",get:function(){return void 0===this.Ve&&(this.Ve=this.ze()),this.Ve}},{key:"Ye",get:function(){return!sr.he}},{key:"Xe",get:function(){if(i.screen)return{width:i.screen.width,height:i.screen.height}}},{key:"$e",get:function(){return i.devicePixelRatio||1}},{key:"Ke",get:function(){return ps}},{key:"Je",get:function(){return!1}},{key:"Ze",get:function(){return!0}},{key:"Qe",get:function(){return sr.oe||sr.Ui}},{key:"tr",get:function(){return!0}},{key:"nr",get:function(){return!0}},{key:"ir",get:function(){return!1}},{key:"er",get:function(){}},{key:"rr",get:function(){return!0}},{key:"ur",get:function(){return!1}},{key:"sr",get:function(){return!1}},{key:"cr",get:function(){return sr.Zi}}]),t}();Te(),Vt();var ks=function(){var t=gs();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(sr.Mi)return!1;var t=gs();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ts=function(t){function n(n){var i;return(i=t.call(this)||this).ar=n,i.ar&&(i.He=i.ar.He,i.Ni=i.ar.Ni,i.qe=ks&&i.ar.qe),i}Xe(n,t);var i=n.prototype;return i.ze=function(){return this.ar?this.ar.Ge:t.prototype.ze.call(this)},i.We=function(n,i){return this.ar?this.ar.We(n,i):t.prototype.We.call(this,n,i)},i.je=function(n){return this.ar?this.ar.je(n):t.prototype.je.call(this,n)},Re(n,[{key:"er",get:function(){var t;return null==(t=this.ar)?void 0:t.er}},{key:"rr",get:function(){var t,n;return null==(n=null==(t=this.ar)?void 0:t.rr)||n}}]),n}(bs),Ss=function(t){function n(n){var i;return(i=t.call(this,n)||this).He=!0,i.zi=!0,i}return Xe(n,t),Re(n,[{key:"ir",get:function(){return sr.Ui}}]),n}(Ts);Se();var Es=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.ze=function(){return _e.MediaSource?t.prototype.ze.call(this):1},Re(n,[{key:"ir",get:function(){return!0}}]),n}(Ss);Te(),Vt(),Ne();var Is=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.We=function(n,i){return t.prototype.We.call(this,n,i)},Re(n,[{key:"Je",get:function(){return sr.Ki<3}},{key:"Ze",get:function(){return sr.Ki>=3}},{key:"Xe",get:function(){var t=this;return i.tizen&&!this.hr&&i.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,e=n.resolutionHeight;1===i&&1===e||(t.hr={width:i,height:e})})),this.hr}},{key:"ur",get:function(){return sr.Ki<3}},{key:"sr",get:function(){return!0}}]),n}(Ts);Te(),Vt();var Rs=function(t){function n(){return t.call(this)}return Xe(n,t),n}(bs);Te(),Vt(),Ne();var Ns=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.We=function(t,n){if(t&&t.dr&&n&&n.dr){var i=Cs(t.dr,"mp4a.40.2")&&Cs(n.dr,"mp4a.40.5"),e=Cs(t.dr,"mp4a.40.5")&&Cs(n.dr,"mp4a.40.2"),r=Cs(t.dr,"mp4a.40.2")&&Cs(n.dr,"mp4a.40.34"),u=Cs(t.dr,"mp4a.40.34")&&Cs(n.dr,"mp4a.40.2"),o=Cs(t.dr,"mp4a.40.5")&&Cs(n.dr,"mp4a.40.34"),s=Cs(t.dr,"mp4a.40.34")&&Cs(n.dr,"mp4a.40.5");return!(i||e||r||u||o||s)}return!0},Re(n,[{key:"er",get:function(){if(sr.Ci)return 4096}}]),n}(Rs);function Cs(t,n){return t.indexOf(n)>-1}Te(),Vt();var Os=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.je=function(t){return t>=2},n}(Rs);Te(),Vt();var As=function(t){function n(){var n;return(n=t.call(this)||this).He=sr.se>=11,n.qe=sr.oe&&!(sr.Ui&&sr.se<10),n}return Xe(n,t),n}(Rs);Te(),Vt(),Ne();var Ds=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),Re(n,[{key:"Xe",get:function(){var t=this;return i.webOS&&!this.hr&&i.webOS.deviceInfo((function(n){t.hr={width:n.screenWidth,height:n.screenHeight}})),this.hr}},{key:"tr",get:function(){return!1}},{key:"sr",get:function(){return!0}}]),n}(Ts);Te(),Vt(),Ne();var Ps=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),Re(n,[{key:"rr",get:function(){return!sr.Oi||(sr.Yi?92!==sr.Xi:sr.Gi>=100)}}]),n}(Rs);Te(),Vt(),Ne();var xs=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),Re(n,[{key:"ir",get:function(){return!0}}]),n}(Ts),Bs=function(){function t(){this.wr=new Ls,this.gr=function(){var t=function(){if(sr.re)return new Ns;if(sr.Qi||sr.te)return new Os;if(sr.oe)return new As;if(sr.ji)return new Ps;return new Rs}();return sr.Ui?new Es(t):sr.zi?new Ss(t):sr.$i?new Is(t):sr.Ji?new Ds(t):sr.Ci?new xs(t):new Ts(t)}(),this.yr=function(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}(),self.performance&&self.performance.now?this.mr=function(){return self.performance.now()}:this.mr=cu}var n=t.prototype;return n._r=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Nr.apply(void 0,Le(n))},n.pr=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Cr.apply(void 0,Le(n))},n.br=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Or.apply(void 0,Le(n))},n.kr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Ar.apply(void 0,[t].concat(Le(i)))},n.Tr=function(t,n){return o(t,n)},n.Sr=function(t,n){return c(t,n)},n.Er=function(t){s(t)},n.Ir=function(t){f(t)},n.Rr=function(){return this.Nr.Rr()},n.Cr=function(){return this.Nr.Cr()},n.Or=function(){return this.Nr.Or()},n.Ar=function(){return this.Nr.Ar()},n.Dr=function(){return this.Nr.Dr()},n.Pr=function(t,n){return this.Nr.Pr(t,n)},n.Br=function(t){return this.Nr.Br(t)},n.Lr=function(t,n){var i;return void 0===n&&(n=ds(_e)),i="object"!=typeof n||n instanceof vs?n:n.href,new vs(t,i)},n.Mr=function(t,n){if(void 0===n&&(n=ds(_e)),this.yr){var i=gr(n)?n:n.toString();return new self.URL(t,i).href}return this.Lr(t,n).href},Re(t,[{key:"Fr",get:function(){return this.wr}},{key:"Ur",get:function(){return this.gr}},{key:"Vr",get:function(){return{Hr:u&&u.userAgent.match(/Android /i)?"Android":"other",qr:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"zr",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"Wr",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),t}(),Ls=function(){function t(){}return Re(t,[{key:"jr",get:function(){return u.oscpu}},{key:"Ur",get:function(){return u.platform}},{key:"Gr",get:function(){return u.vendor}},{key:"Yr",get:function(){return u.vendorSub}}]),t}();function Ms(t,n,i,e,r,u,o){try{var s=t[u](o),c=s.value}catch(t){return void i(t)}s.done?n(c):G.resolve(c).then(e,r)}function Fs(t){return function(){var n=this,i=arguments;return new G((function(e,r){var u=t.apply(n,i);function o(t){Ms(u,e,r,o,s,"next",t)}function s(t){Ms(u,e,r,o,s,"throw",t)}o(void 0)}))}}function Us(){return(Us=v.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)v.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Vs(t,n){var i,e,r,u,o=function(t){return function(n){return s([t,n])}},s=function(u){if(i)throw new h("Generator is already executing.");for(;c;)try{if(i=1,e&&(r=2&u[0]?e.return:u[0]?e.throw||((r=e.return)&&r.call(e),0):e.next)&&!(r=r.call(e,u[1])).done)return r;switch(e=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,e=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){c.label=u[1];break}if(6===u[0]&&c.label<r[1]){c.label=r[1],r=u;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(u);break}r[2]&&c.ops.pop(),c.trys.pop();continue}u=n.call(t,c)}catch(t){u=[6,t],e=0}finally{i=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}},c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function Hs(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var e,r,u=[],o=!0,s=!1;try{for(i=i.call(t);!(o=(e=i.next()).done)&&(u.push(e.value),!n||u.length!==n);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==i.return||i.return()}finally{if(s)throw r}}return u}}(t,n)||xe(t,n)||function(){throw new h("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qs(){var t=v.create(null);return t.__=void 0,delete t.__,t}function zs(){return new js}Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Be();var Ws="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,js=Ws||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=v.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=qs(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=qs(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var Gs,Ys=Ws||function(){var t=function(){function t(t,n){this.$r=t,this.Kr=n}return t.prototype.next=function(){var t=this.$r.next();return t.done?t:{value:this.Kr(t.value),done:!1}},t}();return function(){function n(){this.Jr=zs()}var i=n.prototype;return i.get=function(t){return this.Jr.get(""+t)},i.set=function(t,n){return this.Jr.set(""+t,n),this},i.has=function(t){return this.Jr.has(""+t)},i.delete=function(t){return this.Jr.delete(""+t)},i.clear=function(){this.Jr.clear()},i.keys=function(){return new t(this.Jr.keys(),(function(t){return Number(t)}))},i.values=function(){return this.Jr.values()},i.entries=function(){return new t(this.Jr.entries(),(function(t){var n=Hs(t,2),i=n[0],e=n[1];return[Number(i),e]}))},i.forEach=function(t){this.Jr.forEach((function(n,i){t(n,Number(i))}))},Re(n,[{key:"size",get:function(){return this.Jr.size}}]),n}()}();Se(),Te(),Vt(),Te(),Vt(),function(t){t.Zr="9a04f079-9840-4286-ab92-e65be0885f95",t.Qr="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.tu="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.nu="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Gs||(Gs={}));var Xs,$s="cenc",Ks="sinf",Js="skd",Zs="9a04f079-9840-4286-ab92-e65be0885f95",Qs="urn:uuid:"+Zs,tc="com.microsoft.playready",nc="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ic="urn:uuid:"+nc,ec="com.widevine.alpha",rc="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",uc="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",oc="urn:uuid:"+uc,sc="com.apple.fps.1_0";Te(),Vt(),function(t){t.Zr="playready",t.Qr="widevine",t.nu="fairplay",t.tu="clearkey",t.iu="aes128"}(Xs||(Xs={}));var cc={eu:Xs.Zr,ru:tc,uu:"cenc",ou:Zs,su:Qs,cu:"PlayReady"},fc={eu:Xs.Qr,ru:ec,uu:"cenc",ou:nc,su:ic,cu:"Widevine"},ac={eu:Xs.nu,ru:sc,uu:"skd",ou:uc,su:oc,cu:"FairPlay"},hc=(Xs.nu,{eu:Xs.tu,ru:"org.w3.clearkey",uu:"cenc",ou:rc,su:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",cu:"ClearKey"});function vc(t,n,i){return t.split(n).join(i)}function dc(t,n){return null!=t&&-1!==t.indexOf(n)}function lc(t,n){return null!=t&&t.substr(0,n.length)===n}function wc(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function gc(t,n){return t.toUpperCase()===n.toUpperCase()}function yc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return _c(n)}Te(),Vt(),Fe();var mc=16384;function _c(t){var n,i=t.length;if(i<=mc)return(n=String).fromCharCode.apply(n,Le(t));for(var e=[],r=0;r<i;r+=mc){var u;e.push((u=String).fromCharCode.apply(u,Le(t.slice(r,r+mc))))}return e.join("")}var pc=sr.ji&&sr.Gi>=42||sr.re&&sr.ue>=38||sr.Qi||sr.ie||sr.ce&&sr.fe>=29;function bc(t,n){return dc(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Us({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Us({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var kc,Tc=function(){function t(t){this.fu=zs(),this.au=void 0,this.hu=t}var n=t.prototype;return n.Dr=function(){return this.Br(fc)},n.Cr=function(){return this.Br(hc)},n.Ar=function(){return this.Br(cc)},n.Or=function(){return this.Br(ac)},n.Br=function(t){var n=t.su,i=this.fu.get(n);if(i)return i;var e=this.Pr(t,'video/mp4; codecs="avc1.42000a"');return this.fu.set(n,e),e},n.Pr=function(t,n){var i=this;return Fs((function(){return Vs(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,7]),[4,i.hu.vu(t.ru,[bc(n,!0)])];case 1:return e.sent(),[2,!0];case 2:e.sent(),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,i.hu.vu(t.ru,[bc(n,!1)])];case 4:return e.sent(),[2,!0];case 5:return e.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.Rr=function(){return this.au||(this.au=this.du()),this.au},n.du=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return"https:"===pe.protocol?[2,!1]:pc?[4,t.Cr()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function Sc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ec(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){Ic(i,n,u,r);var o=i;i=r,r=o}return i}(t,n);return i!==t&&Ic(i,void 0,t.length,t),t}function Ic(t,n,i,e){var r,u,o,s,c,f=t.length,a=0,h=2*i;for(u=0;u<f;u+=h)for(r=(o=u+i)+i,o>f&&(o=f),r>f&&(r=f),s=u,c=o;;)if(s<o&&c<r)n&&n(t[s],t[c])<=0?e[a++]=t[s++]:e[a++]=t[c++];else if(s<o)e[a++]=t[s++];else{if(!(c<r))break;e[a++]=t[c++]}}Te(),Vt(),Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t[t.lu=0]="lu",t[t.wu=1]="wu",t[t.gu=-1]="gu"}(kc||(kc={}));var Rc=function(t,n){return(0|t)-(0|n)},Nc=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1};function Cc(t,n,i){return ou(t,n,i)?0:Nc(t,n)}var Oc=function(t,n){return function(t,n){if(t===n)return!0;var i=d.abs(t-n);return i<ru||i<d.max(d.abs(t),d.abs(n))*ru}(t,n)?0:Nc(t,n)};function Ac(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Dc(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Pc(t,n){var i=t.indexOf(n);return-1!==i&&(xc(t,i),!0)}function xc(t,n){0===n?t.shift():t.splice(n,1)}function Bc(t,n){for(var i=new Array(t.length),e=0,r=0;r<t.length;){if(t[r]===n){r++,i.length-=1;break}i[e++]=t[r++]}for(;r<t.length;)i[e++]=t[r++];return i}function Lc(t,n){return-1!==t.indexOf(n)}function Mc(t){t.length=0}Te(),Vt(),Ne(),Te(),Vt(),Ne();var Fc=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.apply(this,n)};(Fc.prototype=v.create(a.prototype)).constructor=Fc;var Uc=function(t){function n(n,i){var e;return(e=t.call(this)||this).message=n||"Unknown error",e.cause=i,a.captureStackTrace&&a.captureStackTrace(Sc(e),e.constructor),e}return Xe(n,t),Re(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Fc);Te(),Vt(),Ne();var Vc=function(){function t(){this.yu=!1,this.mu=!1,this._u=[],this.pu=[]}var n=t.prototype;return n.bu=function(){if(!this.yu&&!this.mu){this.yu=!0;for(var t=0,n=this._u.slice();t<n.length;t++){(0,n[t])()}this.ku()}},n.ku=function(){if(!this.mu){this.mu=!0;for(var t=0,n=this.pu.slice();t<n.length;t++){(0,n[t])()}Mc(this._u),Mc(this.pu)}},n.Tu=function(t){this.mu||this._u.push(t)},n.Su=function(t){this.mu||Pc(this._u,t)},n.Eu=function(t){this.mu||this.pu.push(t)},n.Iu=function(t){this.mu||Pc(this.pu,t)},t}(),Hc=function(){function t(){this.Ru=new Vc}var n=t.prototype;return n.Nu=function(){this.Ru.bu()},n.ku=function(){this.Ru.ku()},n.Cu=function(t){var n=this.Ru;if(!n.yu)if(t.yu)n.bu();else if(!n.mu&&!t.mu){var i=function(){e(),n.bu()},e=function(){t.Su(i),t.Iu(e),n.Su(i),n.Iu(e)};t.Tu(i),t.Eu(e),n.Tu(i),n.Eu(e)}},n.Ou=function(){var n=new t,i=new t,e=n.Au,r=i.Au,u=this.Ru,o=function(){e.yu&&r.mu||r.yu&&e.mu?u.bu():e.mu&&r.mu&&u.ku()};e.Tu(o),r.Tu(o),e.Eu(o),r.Eu(o),n.Cu(u),i.Cu(u);return u.Eu((function(){e.Su(o),r.Su(o),e.Iu(o),r.Iu(o)})),[n,i]},Re(t,[{key:"Au",get:function(){return this.Ru}}]),t}(),qc=function(t){function n(n,i){return t.call(this,n||"Aborted",i)}return Xe(n,t),Re(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Uc);function zc(t){return t instanceof a&&"AbortError"===t.name}function Wc(t){if(t&&t.yu)throw new qc}function jc(t){if(zc(t))throw t}function Gc(t){if(!zc(t))throw t}function Yc(t,n){return n?new G((function(i,e){if(n.yu)return t.catch(pr),e(new qc);var r=function(){n.Su(r),e(new qc)};n.Tu(r),t.then((function(t){n.Su(r),i(t)}),(function(t){n.Su(r),e(t)}))})):t}function Xc(t,n){return t.then((function(t){return n.ku(),t}),(function(t){throw n.ku(),t}))}Te(),Vt();var $c=G.resolve();function Kc(t){$c.then(t)}function Jc(t){t.then(pr,pr)}function Zc(t){return Qc.apply(this,arguments)}function Qc(){return(Qc=Fs((function(t){var n;return Vs(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,G.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,G.all(t.map((function(t){return t.catch(pr)})))];case 3:throw i.sent(),n;case 4:return[2]}}))}))).apply(this,arguments)}function tf(t,n){return new G((function(i,e){if(void 0!==n&&n.yu)e(new qc);else{var r=je.Tr((function(){void 0!==n&&n.Su(u),i()}),t),u=function(){je.Er(r),e(new qc)};void 0!==n&&n.Tu(u)}}))}function nf(t,n,i){if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var ef=function(){function t(t){var n=this;this.Du=qs(),this.Pu=void 0,this.xu=0,this.Bu=function(t){n.Lu(t)},this.Mu=t||this}var n=t.prototype;return n.Fu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Uu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Uu(e,n)}},n.Uu=function(t,n){var i=this.Du[t];void 0===i?this.Du[t]=n:"function"==typeof i?this.Du[t]=[i,n]:0===this.xu?i.push(n):this.Du[t]=i.concat(n)},n.Vu=function(t){if("function"==typeof t){var n=this.Pu;void 0===n?this.Pu=t:"function"==typeof n?this.Pu=[n,t]:0===this.xu?n.push(t):this.Pu=n.concat(t)}},n.Hu=function(){this.Du=qs(),this.Pu=void 0},n.Lu=function(t){this.xu++;var n=this.Du[t.type],i=this.Pu;void 0!==n&&nf(this.Mu,t,n),void 0!==i&&nf(this.Mu,t,i),this.xu--},n.qu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.zu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.zu(e,n)}},n.zu=function(t,n){var i=this.Du[t];void 0!==i&&("function"==typeof i?i===n&&(this.Du[t]=void 0):0===this.xu?Pc(i,n):this.Du[t]=Bc(i,n))},n.Wu=function(t){if("string"==typeof t)this.Du[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Du[i]=void 0}},n.ju=function(t){var n=this.Pu;void 0!==n&&("function"==typeof n?n===t&&(this.Pu=void 0):0===this.xu?Pc(n,t):this.Pu=Bc(n,t))},n.Gu=function(t,n){var i=this;return new G((function(e,r){if(n&&n.yu)return r(new qc);var u=function(t){s(),e(t)},o=function(){s(),r(new qc)},s=function(){i.qu(t,u),n&&n.Su(o)};i.Fu(t,u),n&&n.Tu(o)}))},t}(),rf=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.Lu=function(n){var i=this;Kc((function(){t.prototype.Lu.call(i,n)}))},n}(ef);Te(),Vt(),Te(),Vt();var uf,of=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},sf=["cenc"],cf=["cbcs","cbcs-1-9"],ff=function(t){function n(n){var i;return(i=t.call(this,"Xu")||this).Yu=n,i}return Xe(n,t),n}(of),af=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"$u")||this).Yu=n,u.Ku=i,u.$u=e,u.Ju=r,u}return Xe(n,t),n}(of),hf=function(t){function n(){return t.call(this,"Zu")}return Xe(n,t),n}(of);!function(t){t.Qu="io",t.eo="ro"}(uf||(uf={}));var vf=function(t){function n(n,i){var e;return(e=t.call(this,"io")||this).uu=n,e.uo=i,e}return Xe(n,t),n}(of);Te(),Vt(),Ne();var df=new y([0]).buffer,lf=function(){function t(){this.oo=[]}var n=t.prototype;return n.so=function(t){for(var n=0,i=this.oo;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.co=function(t){for(var n=0,i=this.oo;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.fo=function(t,n){this.oo.forEach((function(n){return t(n[1],n[0])}),n)},n.ao=function(t,n){this.oo.push([t,n])},n.ho=function(){Mc(this.oo)},Re(t,[{key:"vo",get:function(){return this.oo.length}}]),t}();Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt();var wf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),gf=/[\t\n\f\r ]/g;function yf(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:mf()}function mf(){throw new a("Invalid base64 input")}function _f(t){var n=t;gf.test(n)&&(n=n.replace(gf,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return mf();for(var r,u=0===e?0:4-e,o=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),s=u>0?i-4:i,c=0,f=0;c<s;c+=4)r=yf(n.charCodeAt(c))<<18|yf(n.charCodeAt(c+1))<<12|yf(n.charCodeAt(c+2))<<6|yf(n.charCodeAt(c+3)),o[f++]=r>>16&255,o[f++]=r>>8&255,o[f++]=255&r;return 2===u?(r=yf(n.charCodeAt(c))<<2|yf(n.charCodeAt(c+1))>>4,o[f++]=255&r):1===u&&(r=yf(n.charCodeAt(c))<<10|yf(n.charCodeAt(c+1))<<4|yf(n.charCodeAt(c+2))>>2,o[f++]=r>>8&255,o[f++]=255&r),o}function pf(t,n,i){return wf[t>>2]+wf[(3&t)<<4|n>>4]+wf[(15&n)<<2|i>>6]+wf[63&i]}function bf(t,n,i){for(var e=[],r=n;r<i;r+=3)e.push(pf(t[r],t[r+1],t[r+2]));return e.join("")}function kf(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=16383)e.push(bf(t,u,d.min(r,u+16383)));if(1===i){var o=t[n-1];e.push(wf[o>>2]+wf[(3&o)<<4]+"==")}else if(2===i){var s=t[n-2],c=t[n-1];e.push(wf[s>>2]+wf[(3&s)<<4|c>>4]+wf[(15&c)<<2]+"=")}return e.join("")}var Tf=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Sf=ArrayBuffer.isView||function(t){return t&&Lc(Tf,fr.call(t))};function Ef(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function If(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return function(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function Rf(t){return _f(t).buffer}function Nf(t){return kf(new y(t))}function Cf(t){return kf(Qf(t))}Te(),Vt(),Ne();var Of=function(){function t(t){void 0===t&&(t=0),this.do=t}var n=t.prototype;return n.lo=function(t){this.do+=t},n.wo=function(t){this.do=t},n.yo=function(){return new t(this.mo)},Re(t,[{key:"mo",get:function(){return this.do}}]),t}();function Af(t){if(t>=55296&&t<=57343)throw new a("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Df(t,n){return t>>n&63|128}function Pf(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Af(t),n.push(t>>12&15|224),n.push(Df(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Df(t,12)),n.push(Df(t,6))),n.push(63&t|128)):n.push(t)}function xf(t,n){if(n.mo>=t.length)throw new a("Invalid byte index");var i=255&t[n.mo];if(n.lo(1),128==(192&i))return 63&i;throw new a("Invalid continuation byte")}function Bf(t,n){var i=n.mo;if(i>t.length)throw new a("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.lo(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|xf(t,n);if(r>=128)return r;throw new a("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|xf(t,n)<<6|xf(t,n);if(u>=2048)return Af(u),u;throw new a("Invalid continuation byte")}if(240==(248&e)){var o=(7&e)<<18|xf(t,n)<<12|xf(t,n)<<6|xf(t,n);if(o>=65536&&o<=1114111)return o}throw new a("Invalid UTF-8 detected")}Te(),Vt(),Te(),Vt();var Lf=function(){function t(t){this._o=t}return t.prototype.po=function(t){return function(t,n){return(t&n)===n}(this._o,t)},t}();function Mf(t,n){var i=t.getUint8(n.mo);return n.lo(1),i}function Ff(t,n,i){t.setUint8(n.mo,i),n.lo(1)}function Uf(t,n,i){var e=ua(ca(t),n.mo,n.mo+i);return n.lo(e.byteLength),e}function Vf(t,n,i){return n.mo+i<=t.byteLength}function Hf(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.mo,i);return n.lo(2),e}function qf(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.mo,i,e),n.lo(2)}function zf(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.mo,i);return n.lo(4),e}function Wf(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.mo,i,e),n.lo(4)}function jf(t,n,i){void 0===i&&(i=!1);var e=zf(t,n,i),r=zf(t,n,i),u=i?r:e,o=i?e:r;return eu.fromBits(o,u,!0)}function Gf(t,n){return function(t,n){return $f(t,n,!0)}(t,n)}function Yf(t,n,i){return _c(da(Uf(t,n,i)))}function Xf(t,n){var i,e=Mf(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Mf(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Mf(t,n))+(63&Mf(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Mf(t,n))+64*(63&Mf(t,n))+(63&Mf(t,n))),i}function $f(t,n,i){for(var e=[];n.mo<t.byteLength;){var r=Mf(t,n);if(i&&!r)break;e.push(r)}return _c(e)}function Kf(t,n,i,e){for(var r=[];n.mo+2<=t.byteLength;){var u=Hf(t,n,i);if(e&&!u)break;r.push(u)}return _c(r)}function Jf(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){qf(t,n,i.charCodeAt(u),e)}}function Zf(t){return $f(sa(t),new la,!1)}function Qf(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)Ff(t,n,i.charCodeAt(r))}(sa(n),new la,t),n}function ta(t,n){return void 0===n&&(n=!1),Kf(sa(t),new la,n,!1)}function na(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Jf(sa(i),new la,t,n),i}function ia(t,n){return function(t,n,i){var e=[];(function(t,n){return n.mo+3<=t.byteLength&&239===t.getUint8(n.mo)&&187===t.getUint8(n.mo+1)&&191===t.getUint8(n.mo+2)})(t,n)&&n.lo(3);for(;n.mo<t.byteLength;){var r=Xf(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return yc(e)}(t,n,!0)}function ea(t){return function(t){return yc(t)}(function(t,n){var i,e=[],r=new la;if(!n){if(!1===(i=Bf(t,r)))return e;65279===i||e.push(i)}for(;!1!==(i=Bf(t,r));)e.push(i);return e}(ca(t)))}function ra(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Pf(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function ua(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function oa(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function sa(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ca(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function fa(t){return t instanceof ArrayBuffer||Sf(t)}function aa(t){return t instanceof ArrayBuffer?new y(t):ca(t)}function ha(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):va(ua(t,n,i))}function va(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function da(t){return[].slice.call(t)}var la=function(){function t(t){void 0===t&&(t=0),this.do=t}var n=t.prototype;return n.lo=function(t){this.do+=t},n.wo=function(t){this.do=t},n.yo=function(){return new t(this.mo)},n.bo=function(){return new Of(this.mo<<3)},Re(t,[{key:"mo",get:function(){return this.do}}]),t}();Te(),Vt();var wa=function(){function t(){var t=this;this.ko=new G((function(n,i){t.Z=n,t.nt=i}))}var n=t.prototype;return n.To=function(t){this.Z&&(this.Z(t),this.ku())},n.So=function(t){this.nt&&(this.nt(t),this.ku())},n.Nu=function(){this.ko.catch(pr),this.So(new qc)},n.Cu=function(t){var n=this;t.then((function(t){return n.To(t)}),(function(t){return n.So(t)}))},n.ku=function(){this.Z=void 0,this.nt=void 0},t}();function ga(){return new y([8,4]).buffer}function ya(t,n){return t===tc?function(t){if(t.byteLength<2*ma.length)return t;if(ta(new DataView(t,0,2*ma.length),!0)===ma)return t;return function(t){var n='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>';return na('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Nf(t)+n,!0).buffer}(t)}(n):n}Te(),Vt();var ma="<PlayReady";Te(),Vt(),Te(),Vt();var _a=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).Eo=i,u.Io=e,u}return Xe(n,t),n}(Uc);Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt();var pa=function(t,n){return(pa=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)v.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function ba(t,n){var i=function(){this.constructor=t};if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");pa(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}function ka(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt();!function(){var t=function(t,n){this.Ro=t,this.No=n};t.prototype.get=function(t){var n=this.Ro.get(t);if(0===this.No||void 0===n)return n;var i=this.Ro.get(t+1)||0,e=n&(1<<8-this.No)-1,r=i>>8-this.No;return(e<<this.No)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Ro.get(d.floor((t+this.No)/8));if(void 0!==n)return(n&1<<7-this.No-t%8)>0?1:0}},v.defineProperty(t.prototype,"bitLength",{get:function(){return this.Ro.bitLength-this.No},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"length",{get:function(){return this.Ro.length},enumerable:!1,configurable:!0})}();Te(),Vt(),Te(),Vt();d.pow(2,-52);function Ta(t,n,i){return d.min(d.max(t,n),i)}function Sa(t,n){return t>>8-n}function Ea(t,n){return t&(1<<n)-1}var Ia=function(){var t=function(t){this.Co=t,this.Oo=0,this.Ao=0};return v.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Oo+this.Ao},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"done",{get:function(){return this.Oo===this.Co.length&&0===this.Ao},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Oo,bit:this.Ao}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Co);return n.seek(this.Oo,this.Ao),n},t.prototype.canReadBits=function(t){return 8*this.Oo+t+this.Ao<=8*this.Co.length},t.prototype.canReadBytes=function(t){return 0===this.Ao?this.Oo+t<=this.Co.length:this.Oo+t<this.Co.length},t.prototype.incBit=function(){this.Ao++,this.Ao>7&&(this.Oo++,this.Ao=0)},t.prototype.seek=function(t,n){this.Oo=t,this.Ao=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new a("Cannot read past end of buffer.");return this.Co.get(this.Oo)>>7-this.Ao&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new a("Cannot read past end of buffer.");if(0===this.Ao)return this.Co.get(this.Oo++);var t=Ea(this.Co.get(this.Oo),8-this.Ao),n=Sa(this.Co.get(this.Oo+1),this.Ao);return this.Oo++,t<<this.Ao|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new a("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new a("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new a("Cannot read past end of buffer.");var n=0;if(0===this.Ao&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new a("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new a("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-d.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new a("Skipping over the buffer edge is not allowed.");var n=this.Ao+t;this.Oo+=n>>3,this.Ao=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new a("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();Te(),Vt(),Te(),Vt(),Te(),Vt();var Ra=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},Na=function(){var t=function(){this.Do=[],this.Po=[],this.C=0};return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var o=u[r];e.pushRange(o)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new a("The buffer length must be positive.");if(0!==i){if(0===this.Po.length)this.Po.push(0);else{var e=this.Po[this.Po.length-1]+this.Do[this.Do.length-1].length;this.Po.push(e)}this.Do.push(t.subarray(n,n+i)),this.C+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.Do;r<u.length;r++){var o=u[r];t.set(o,e),i+=o.length,e+=o.length}return i},t.prototype.clear=function(){this.Do=[],this.Po=[],this.C=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Po[n];return this.Do[n][i]}},v.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Do.length<1)return-1;if(this.Do.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Do[0];return"number"==typeof t?ka(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=ka(t,i,u))<0||u>r);u++){for(var o=u+1,s=u+e,c=1;o<s&&t[o]===n[c];o++,c++);if(o===s)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=d.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.Po,t,Ra)},t.prototype.join=function(){if(1===this.Do.length)return this.Do[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(t.prototype,"length",{get:function(){return this.C},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new a("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new a("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*d.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Ta(n,0,this.length),r=Ta(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,o=this.findContainingBufferIndex(e),s=this.Do[o],c=e,f=c-this.Po[o];c+s.length-f<r;)u.pushRange(s,f,s.length-f),o+=1,f=(c+=s.length-f)-this.Po[o],s=this.Do[o];var a=r-c;return u.pushRange(s,f,a),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Do.length-1,e=this.Do[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Do[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),Ca=function(){function t(n){this.xo=n||t.BUFFER_CHUNK_SIZE,this.On=!1,this.Bo=new Na,this.Co=new y(this.xo),this.Lo=0,this.Mo=0,this.Ao=7}return t.prototype.closeByte=function(){this.Co[this.Lo++]=this.Mo,this.Lo>=this.xo&&this.closeBuffer(),this.Mo=0,this.Ao=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Lo&&(this.Bo.pushRange(this.Co,0,this.Lo),t&&(this.Co=new y(this.xo)),this.Lo=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Ao},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.On)throw new a("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.On=!0,this.Bo},t.prototype.writeBit=function(t){if(this.On)throw new a("Cannot write to a closed BitWriter.");this.Mo|=t<<this.Ao,0===this.Ao?this.closeByte():this.Ao--},t.prototype.writeByte=function(t){if(this.On)throw new a("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Mo=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Ao;this.Mo|=Sa(t,n+1),this.closeByte(),this.Mo=Ea(t,8-n)<<n+1,this.Ao=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.On)throw new a("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Lo+t.length<=this.xo?(this.Co.set(t,this.Lo),this.Lo+=t.length,this.Lo===this.xo&&this.closeBuffer()):(this.closeBuffer(),this.Bo.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Ao;this.Mo|=Sa(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Ea(t[i-1],8-n),r=Sa(t[i],n+1);this.Mo=e<<n+1|r,this.closeByte()}this.Mo=Ea(t[t.length-1],8-n)<<n+1,this.Ao=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new a("Received a negative number.");if(n>32)throw new a("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new a("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new a("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new a("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new a("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();Te(),Vt();var Oa=function(){var t=function(t){this.rb=new Na,this.ct=t};return t.prototype.closeWriter=function(){void 0!==this.ct&&(this.rb=this.rb.concat(this.ct.close()),this.ct=void 0)},v.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.ct&&(this.ct=new Ca),this.ct},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),Aa=function(){var t=function(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new a("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")};return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(d.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Oa;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=d.pow(2,32),t}();function Da(t,n){return t instanceof eu?64===n:t<d.pow(2,n)}function Pa(t,n){return d.round(t*d.pow(2,n))}function xa(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function Ba(t,n){return t/d.pow(2,n)}Te(),Vt();var La=function(t){var n=function(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Da(i,8))throw new a("the provided version cannot fit in 8 bits.");return r.flags=e,r};return ba(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Fo},set:function(t){this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new a("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Aa);Te(),Vt(),Te(),Vt();var Ma=function(t){var n=function(n,i){var e=t.call(this,n)||this;return e.data=i,e};return ba(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Na.from(this.data))},n}(Aa);Te(),Vt(),Te(),Vt();var Fa=function(){var t=function(t){void 0===t&&(t=0),this.offset=t};return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();Te(),Vt();var Ua=16384;function Va(t){var n=t.length;if(n<=Ua)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ua)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ua)));return i.join("")}var Ha=function(){var t=function(t){this.raw=t};return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function qa(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function za(t,n,i){var e=Ka(Za(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function Wa(t,n,i){return n.offset+i<=t.byteLength}function ja(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Ga(t,n,i){void 0===i&&(i=!1);var e=ja(t,n,i),r=ja(t,n,i),u=i?r:e,o=i?e:r;return eu.fromBits(o,u,!0)}function Ya(t,n,i){return Va(function(t){return[].slice.call(t)}(za(t,n,i)))}function Xa(t,n){var i,e=qa(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&qa(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&qa(t,n))+(63&qa(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&qa(t,n))+64*(63&qa(t,n))+(63&qa(t,n))),i}function $a(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Xa(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Va(n)}(e)}(t,n,!0)}function Ka(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Ja(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Za(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Qa=function(){var t=function(t){void 0===t&&(t=0),this.offset=t};return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Fa(this.offset<<3)},t}();Te(),Vt();var th=function(){var t=function(t,n){this.data=t,this.cursor=n};return t.prototype.nextUint8=function(){return qa(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return ja(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=ja(t,n,i),r=ja(t,n,i),u=i?r:e,o=i?e:r;return eu.fromBits(o,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Ga(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return za(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ja(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Ya(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return $a(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function nh(t,n){return t.type===n}function ih(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=eh(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new a("Data incomplete");return n.boxes}function eh(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Wa(t,n,8)){return{complete:!1,neededOffset:u=n.offset+8}}var e=ja(t,n),r=Ya(t,n,4);if(1===e){if(!Wa(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}e=Ga(t,n).toNumber()}if("uuid"===r){if(!Wa(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}r=Ya(t,n,16)}var o=n.offset;return{complete:!0,header:{type:r,size:e,headerSize:o-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var o=i+u;if(o>t.byteLength){var s=o;return n.seek(i),{complete:!1,neededOffset:s}}var c={type:r.type,offset:i,data:new th(Ja(t,i,o),new Qa(r.headerSize))};return n.seek(o),{complete:!0,box:c}}function rh(t){return{version:t>>24,flags:new Ha(16777215&t)}}function uh(t,n){var i,e,r,u;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:e,scale:r,duration:u}}function oh(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function sh(t){var n=t.nextUint32Array(9);return{a:Ba(n[0],16),b:Ba(n[1],16),u:Ba(n[2],30),c:Ba(n[3],16),d:Ba(n[4],16),v:Ba(n[5],30),x:Ba(n[6],16),y:Ba(n[7],16),w:Ba(n[8],30)}}function ch(t){return new Ma(t.type,Ka(Za(t.data.data),t.data.cursor.offset))}var fh=function(t){var n=function(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u};return ba(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.Uo},set:function(t){this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(La);function ah(t){var n=t.data,i=rh(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var o=n.nextUTF8String();return new fh(u,o,e,r.raw)}!function(t){var n=function(){return t.call(this,"mdir")||this};ba(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(fh);Te(),Vt(),Te(),Vt(),Te(),Vt();var hh=function(){var t=function(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t};return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(t.prototype,"tag",{get:function(){return this.Vo},set:function(t){if(!Da(t,8))throw new a("Provided tag does not fit in 8 bits.");this.Vo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();Te(),Vt();!function(t){var n=function(n,i,e,r,u,o,s){void 0===s&&(s={});var c=t.call(this,4,s.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=o,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c};ba(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Ho},set:function(t){if(!Da(t,8))throw new a("Provided objectTypeIndication does not fit in 8 bits.");this.Ho=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.qo},set:function(t){if(!Da(t,6))throw new a("Provided streamType does not fit in 6 bits.");this.qo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.zo},set:function(t){if(!Da(t,24))throw new a("Provided bufferSizeDb does not fit in 24 bits.");this.zo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Wo},set:function(t){if(!Da(t,32))throw new a("Provided maxBitrate does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.jo},set:function(t){if(!Da(t,32))throw new a("Provided avgBitrate does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(hh);Te(),Vt();!function(t){var n=function(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e};ba(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Na.from(this.data))}}(hh);Te(),Vt(),Te(),Vt();var vh=function(t){var n=function(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i};return ba(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(hh);!function(t){var n=function(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new vh(r.fixed28BitMode),u};ba(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.Go},set:function(t){if(!Da(t,16))throw new a("Provided esId does not fit in 16 bits.");this.Go=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Yo},set:function(t){if(!Da(t,5))throw new a("Provided streamPriority does not fit in 5 bits.");this.Yo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Xo},set:function(t){if(t&&!Da(t,16))throw new a("Provided dependsOnEsId does not fit in 16 bits.");this.Xo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.$o},set:function(t){if(t&&!Da(t,16))throw new a("Provided ocrEsId does not fit in 16 bits.");this.$o=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(hh);Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt();var dh=function(t){var n=function(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n};return ba(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(Aa),lh=function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};return ba(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(dh),wh=function(t){var n=function(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e};return ba(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Ko},set:function(t){if(!Da(t,16))throw new a("Provided dataReferenceIndex does not fit in 16 bits.");this.Ko=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(lh),gh=function(t){var n=function(n,i,e,r){var u,o,s=this;return(s=t.call(this,n,i)||this).extra=r,s.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,s.sampleSize=null!==(o=e.sampleSize)&&void 0!==o?o:16,s.sampleRate=e.sampleRate,s};return ba(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.Jo},set:function(t){if(!Da(t,16))throw new a("Provided channelCount does not fit in 16 bits.");this.Jo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Zo},set:function(t){if(!Da(t,16))throw new a("Provided sampleSize does not fit in 16 bits.");this.Zo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Qo},set:function(t){if(!Da(Pa(t,16),32))throw new a("Provided rate does not fit in 32 bits (fixed 16.16).");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(Pa(this.sampleRate,16),32),this.extra&&xa(n.writer,this.extra)},n}(wh);Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i};ba(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ts},set:function(t){if(!Da(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Da(t,32)})))throw new a("Not all entries can be represented in 32 bits.");this.ts=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(La);Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i};ba(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.es},set:function(t){if(!Da(t,32))throw new a("Provided cleanApertureWidthN does not fit in 32 bits.");this.es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.rs},set:function(t){if(!Da(t,32))throw new a("Provided cleanApertureWidthD does not fit in 32 bits.");this.rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.us},set:function(t){if(!Da(t,32))throw new a("Provided cleanApertureHeightN does not fit in 32 bits.");this.us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.os},set:function(t){if(!Da(t,32))throw new a("Provided cleanApertureHeightD does not fit in 32 bits.");this.os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.ss},set:function(t){if(!Da(t,32))throw new a("Provided horizOffN does not fit in 32 bits.");this.ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.cs},set:function(t){if(!Da(t,32))throw new a("Provided horizOffD does not fit in 32 bits.");this.cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.fs},set:function(t){if(!Da(t,32))throw new a("Provided vertOffN does not fit in 32 bits.");this.fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.hs},set:function(t){if(!Da(t,32))throw new a("Provided vertOffD does not fit in 32 bits.");this.hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Aa);Te(),Vt();!function(t){var n=function(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e};ba(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ts},set:function(t){if(!Da(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Da(t.sampleCount,32)||!Da(t.sampleOffset,32)})))throw new a("Not all entries can be represented in 64 bits.");this.ts=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(La);Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i};ba(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.vs},set:function(t){this.flags=void 0===t?1:0,this.vs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(La);Te(),Vt();!function(t){var n=function(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r};ba(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.vs},set:function(t){if(1&this.flags)throw new a("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.vs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(La);Te(),Vt();!function(t){var n=function(){return t.call(this,"dinf")||this};ba(n,t)}(lh);Te(),Vt(),Te(),Vt();var yh=function(t){var n=function(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Da(i,8))throw new a("the provided version cannot fit in 8 bits.");return r.flags=e,r};return ba(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Fo},set:function(t){this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new a("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(dh);!function(t){var n=function(){return t.call(this,"dref",0,0)||this};ba(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(yh);Te(),Vt(),Te(),Vt();var mh=function(t){var n=function(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r};return ba(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.ts},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Da(e.segmentDuration,this.bitSize))throw new a("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Da(e.mediaTime,this.bitSize))throw new a("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Da(e.mediaRateInteger,16))throw new a("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!Da(e.mediaRateFraction,16))throw new a("Provided mediaRateFraction does not fit in 16 bits.")}this.ts=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(La),_h=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return ba(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(mh),ph=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return ba(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(mh);function bh(t){for(var n=t.data,i=rh(n.nextUint32()),e=i.version,r=i.flags,u=n.nextUint32(),o=[],s=0;s<u;s++){var c=void 0,f=void 0;0===e?(c=n.nextUint32(),f=n.nextInt32()):(c=n.nextUint64(),f=n.nextInt64());var a=n.nextInt16(),h=n.nextInt16();o.push({segmentDuration:c,mediaTime:f,mediaRateFraction:h,mediaRateInteger:a})}return 0===e?new _h(o,r.raw):new ph(o,r.raw)}var kh=function(t){var n=function(){return t.call(this,"edts")||this};return ba(n,t),n}(lh);function Th(t){for(var n=new kh,i=0,e=ih(t.data);i<e.length;i++){var r=e[i];nh(r,"elst")?n.boxes.push(bh(r)):n.boxes.push(ch(r))}return n}Te(),Vt(),Te(),Vt();var Sh=function(t){var n=function(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u};return ba(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.ds},set:function(t){if(4!==t.length)throw new a("the provided major brand does not conform to the 4 character requirement");this.ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.ls},set:function(t){if(!Da(t,32))throw new a("the provided minor version does not fit in 32 bits.");this.ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.gs},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new a("Some of the compatible brands do not conform to the 4 character requirement");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(Aa);!function(t){var n=function(n,i,e){return t.call(this,"ftyp",n,i,e)||this};ba(n,t)}(Sh);Te(),Vt();!function(t){var n=function(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e};ba(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Na.from(this.data))}}(Aa);Te(),Vt(),Te(),Vt();var Eh=function(t){var n=function(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u};return ba(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.ys},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this._s},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.ps},set:function(t){if(!Da(t,32))throw new a("Provided sequence number does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.bs},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.ks},set:function(t){if(!Ch(t))throw new a("Expected an ISO-639-2/T language code");this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(La),Ih=function(t){var n=function(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this};return ba(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Eh),Rh=function(t){var n=function(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this};return ba(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Eh);function Nh(t){var n=t.data,i=rh(n.nextUint32()),e=i.version,r=i.flags,u=uh(n,e),o=new Ia(Na.from(n.nextUint8Array(2)));o.skipBits(1);for(var s=[],c=0;c<3;c++)s.push(o.readUInt(5));var f=s.map((function(t){return String.fromCharCode(t+96)})).join("");return Ch(f)||(f="und"),n.skip(2),0===e?new Ih(u,f,r.raw):new Rh(u,f,r.raw)}function Ch(t){return/^[a-z]{3}$/.test(t)}var Oh=function(t){var n=function(){return t.call(this,"mdia")||this};return ba(n,t),n}(lh);function Ah(t){for(var n=new Oh,i=0,e=ih(t.data);i<e.length;i++){var r=e[i];nh(r,"mdhd")?n.boxes.push(Nh(r)):nh(r,"hdlr")?n.boxes.push(ah(r)):n.boxes.push(ch(r))}return n}Te(),Vt();!function(t){var n=function(){var n=t.call(this,"mdat")||this;return n.data=new Na,n};ba(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(Aa);Te(),Vt();!function(t){var n=function(){return t.call(this,"minf")||this};ba(n,t)}(lh);Te(),Vt();var Dh;!function(t){var n=function(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i};ba(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(yh);Te(),Vt(),Te(),Vt(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Dh||(Dh={})),Te(),Vt();var Ph,xh,Bh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Lh(t,n){n.writer.writeUInt(Pa(t.a,16),32),n.writer.writeUInt(Pa(t.b,16),32),n.writer.writeUInt(Pa(0,30),32),n.writer.writeUInt(Pa(t.c,16),32),n.writer.writeUInt(Pa(t.d,16),32),n.writer.writeUInt(Pa(0,30),32),n.writer.writeUInt(Pa(t.x,16),32),n.writer.writeUInt(Pa(t.y,16),32),n.writer.writeUInt(Pa(1,30),32)}function Mh(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Ph.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:xh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:xh.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:xh.UNKNOWN,2)}function Fh(t,n){var i,e,r;n.writer.writeUInt(0,4),Mh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}Te(),Vt(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Ph||(Ph={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(xh||(xh={})),Te(),Vt(),Te(),Vt();var Uh=function(){};Te(),Vt(),Te(),Vt(),Te(),Vt();var Vh=function(t){var n=function(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r};return ba(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Ts},set:function(t){if(16!==t.length)throw new a("Provided systemId length is not 16.");this.Ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.B},set:function(t){if(!Da(t.length,32))throw new a("Provided data length does not fit in 32 bits.");this.B=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Na.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Na.from(this.data))},n}(La),Hh=function(t){var n=function(n,i){return t.call(this,0,n,i)||this};return ba(n,t),n}(Vh),qh=function(t){var n=function(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r};return ba(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.Ss},set:function(t){if(!Da(t.length,32))throw new a("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new a("Not all provided key ids are 16 bytes long.");this.Ss=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(Na.from(e))}},n}(Vh);function zh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var o=t.data.nextUint32(),s=t.data.nextUint8Array(o);return 1===n?new qh(i,s,e):new Hh(i,s)}Te(),Vt(),Te(),Vt();var Wh=function(t){var n=function(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r};return ba(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Es},set:function(t){if(!Da(t,this.bitSize))throw new a("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Es=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(La),jh=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return ba(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Wh),Gh=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return ba(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Wh);function Yh(t){var n=t.data,i=rh(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new jh(n.nextUint32(),r.raw):new Gh(n.nextUint64(),r.raw)}Te(),Vt();var Xh=function(t){var n=function(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var u,o,s,c=this;return(c=t.call(this,"trex",e,r)||this).trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(o=i.sampleDuration)&&void 0!==o?o:0,c.defaultSampleSize=null!==(s=i.sampleSize)&&void 0!==s?s:0,c.defaultSampleFlags=i.sampleFlags,c};return ba(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Is},set:function(t){if(!Da(t,32))throw new a("Provided track id does not fit in 32 bits.");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Rs},set:function(t){if(!Da(t,32))throw new a("Provided default sample description index does not fit in 32 bits.");this.Rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ns},set:function(t){if(!Da(t,32))throw new a("Provided default sample duration does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cs},set:function(t){if(!Da(t,32))throw new a("Provided default sample size does not fit in 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Os},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Da(t.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Da(t.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");this.Os=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Fh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(La);function $h(t){var n=t.data,i=rh(n.nextUint32()),e=i.version,r=i.flags,u=n.nextUint32(),o=n.nextUint32(),s=n.nextUint32(),c=n.nextUint32(),f=oh(new Ia(Na.from(n.nextUint8Array(4))));return new Xh(u,{sampleDescriptionIndex:o,sampleDuration:s,sampleSize:c,sampleFlags:f},e,r.raw)}var Kh=function(t){var n=function(){return t.call(this,"mvex")||this};return ba(n,t),n}(lh);function Jh(t){for(var n=new Kh,i=0,e=ih(t.data);i<e.length;i++){var r=e[i];nh(r,"mehd")?n.boxes.push(Yh(r)):nh(r,"trex")?n.boxes.push($h(r)):n.boxes.push(ch(r))}return n}Te(),Vt();var Zh=function(t){function n(i,e,r,u,o){void 0===o&&(o=0);var s,c,f,a=this;return(a=t.call(this,"mvhd",u,o)||this).creationTime=i.creation,a.modificationTime=i.modification,a.timescale=i.scale,a.duration=i.duration,a.rate=null!==(s=r.rate)&&void 0!==s?s:n.DEFAULT_RATE,a.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,a.matrix=null!==(f=r.matrix)&&void 0!==f?f:Bh,a.As=e,a}return ba(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.ys},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this._s},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.ps},set:function(t){if(!Da(t,32))throw new a("Provided sequence number does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.bs},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.Ds},set:function(t){if(!Da(Pa(t,16),32))throw new a("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Ps},set:function(t){if(!Da(Pa(t,8),16))throw new a("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.xs},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new a("(u, v, w) does not match the required (0, 0, 1)");this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.As},set:function(t){if(0===t)throw new a("NextTrackId cannot be 0.");if(!Da(t,32))throw new a("NextTrackId cannot exceed 32 bits.");this.As=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(Pa(this.rate,16),32),n.writer.writeUInt(Pa(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Lh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(La),Qh=function(t){var n=function(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this};return ba(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Zh),tv=function(t){var n=function(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this};return ba(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Zh);function nv(t){var n=t.data,i=rh(n.nextUint32()),e=i.version,r=i.flags,u=uh(n,e),o=Ba(n.nextUint32(),16),s=Ba(n.nextUint16(),8);n.skip(2),n.skip(8);var c=sh(n);n.skip(24);var f=n.nextUint32();return 0===e?new Qh(u,f,{rate:o,volume:s,matrix:c},r.raw):new tv(u,f,{rate:o,volume:s,matrix:c},r.raw)}Te(),Vt(),Te(),Vt();var iv=function(t){var n=function(n,i,e,r,u,o,s){void 0===s&&(s={});var c,f,a,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(s))||this).creationTime=i.creation,h.modificationTime=i.modification,h.trackId=e,h.duration=i.duration,h.volume=r,h.width=u,h.height=o,h.layer=null!==(c=s.layer)&&void 0!==c?c:0,h.alternateGroup=null!==(f=s.alternateGroup)&&void 0!==f?f:0,h.matrix=null!==(a=s.matrix)&&void 0!==a?a:Bh,h};return ba(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.ys},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this._s},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Is},set:function(t){if(0===t)throw new a("trackId cannot be 0.");if(!Da(t,32))throw new a("trackId cannot exceed 32 bits.");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.bs},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Ps},set:function(t){if(!Da(Pa(t,8),16))throw new a("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.Bs},set:function(t){if(!Da(Pa(t,16),32))throw new a("Provided width does not fit in 32 bits (fixed 16.16).");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Ls},set:function(t){if(!Da(Pa(t,16),32))throw new a("Provided height does not fit in 32 bits (fixed 16.16).");this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.Ms},set:function(t){if(!Da(t,16))throw new a("Provided layer does not fit in 16 bits.");this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Fs},set:function(t){if(!Da(t,16))throw new a("Provided alternateGroup does not fit in 16 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.xs},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new a("(u, v, w) does not match the required (0, 0, 1)");this.xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(Pa(this.volume,8),16),n.writer.writeUInt(0,16),Lh(this.matrix,n),n.writer.writeUInt(Pa(this.width,16),32),n.writer.writeUInt(Pa(this.height,16),32)},n}(La),ev=function(t){var n=function(n,i,e,r,u,o){return t.call(this,0,n,i,e,r,u,o)||this};return ba(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(iv),rv=function(t){var n=function(n,i,e,r,u,o){return t.call(this,1,n,i,e,r,u,o)||this};return ba(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(iv);function uv(t){var n,i,e,r,u=t.data,o=rh(u.nextUint32()),s=o.version,c=o.flags,f=c.isSet(8),a=c.isSet(4),h=c.isSet(2),v=c.isSet(1);0===s?(n=u.nextUint32(),i=u.nextUint32(),e=u.nextUint32(),u.skip(4),r=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),e=u.nextUint32(),u.skip(4),r=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),w=Ba(u.nextInt16(),8);u.skip(2);var g=sh(u),y=Ba(u.nextUint32(),16),m=Ba(u.nextUint32(),16);return 0===s?new ev({creation:n,modification:i,duration:r},e,w,y,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:f,trackEnabled:v,trackInPreview:a,trackInMovie:h}):new rv({creation:n,modification:i,duration:r},e,w,y,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:f,trackEnabled:v,trackInPreview:a,trackInMovie:h})}var ov=function(t){var n=function(){return t.call(this,"trak")||this};return ba(n,t),n}(lh);function sv(t){for(var n=new ov,i=0,e=ih(t.data);i<e.length;i++){var r=e[i];nh(r,"tkhd")?n.boxes.push(uv(r)):nh(r,"mdia")?n.boxes.push(Ah(r)):nh(r,"edts")?n.boxes.push(Th(r)):n.boxes.push(ch(r))}return n}var cv=function(t){var n=function(){return t.call(this,"moov")||this};return ba(n,t),n}(lh);Te(),Vt(),Te(),Vt(),Te(),Vt();var fv=function(t){var n=function(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r};return ba(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Us},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Us=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(La),av=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return ba(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(fv),hv=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return ba(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(fv);function vv(t){var n=t.data,i=rh(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new av(n.nextUint32(),r.raw):new hv(n.nextUint64(),r.raw)}Te(),Vt();var dv=function(t){var n=function(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e};return ba(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Is},set:function(t){if(!Da(t,32))throw new a("Provided track id does not fit in 32 bits.");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Vs},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new a("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new a("The base data offset present flag is not set.");if(t&&!Da(t,64))throw new a("Provided baseDataOffset does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Hs},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new a("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new a("The sample description index flag is not set.");if(t&&!Da(t,32))throw new a("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ns},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new a("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new a("The default sample duration present flag is not set.");if(t&&!Da(t,32))throw new a("Provided defaultSampleDuration does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cs},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new a("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new a("The default sample size present flag is not set.");if(t&&!Da(t,32))throw new a("Provided defaultSampleSize does not fit in 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Os},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new a("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new a("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!Da(t.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Da(t.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");this.Os=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Fh(this.defaultSampleFlags,n)},n}(La);function lv(t){var n=t.data,i=n.nextUint8(),e=new Ia(Na.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),u=Boolean(e.readBit());e.skipBits(10);var o=Boolean(e.readBit()),s=Boolean(e.readBit()),c=Boolean(e.readBit());e.skipBits(1);var f=Boolean(e.readBit()),a=Boolean(e.readBit()),h=n.nextUint32(),v=a?n.nextUint64():void 0,d=f?n.nextUint32():void 0,l=c?n.nextUint32():void 0,w=s?n.nextUint32():void 0,g=o?oh(new Ia(Na.from(n.nextUint8Array(4)))):void 0;return new dv({trackId:h,defaultBaseIsMoof:r,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:w,defaultSampleFlags:g},i)}Te(),Vt();var wv=function(t){var n=function(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r};return ba(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.qs},set:function(t){if(t&&!Da(t,32))throw new a("Provided data offset does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.zs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Da(t.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Da(t.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");this.zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.Ws},set:function(t){var n,i;if(!Da(t.length,32))throw new a("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new a("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new a("The sample duration present flag is not set.");if(u.duration&&!Da(u.duration,32))throw new a("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new a("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new a("The sample size present flag is not set.");if(u.size&&!Da(u.size,32))throw new a("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new a("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new a("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!Da(u.flags.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!Da(u.flags.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new a("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new a("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!Da(u.compositionTimeOffset,32))throw new a("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Fh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Fh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(La);function gv(t){var n=t.data,i=n.nextUint8(),e=new Ia(Na.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(5);var c=Boolean(e.readBit());e.skipBits(1);var f=Boolean(e.readBit()),a=n.nextUint32(),h={sampleDurationPresent:s,sampleSizePresent:o,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:r};f&&(h.dataOffset=n.nextInt32()),c&&(h.firstSampleFlags=oh(new Ia(Na.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<a;d++){var l={};s&&(l.duration=n.nextUint32()),o&&(l.size=n.nextUint32()),u&&(l.flags=oh(new Ia(Na.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new wv(i,h,v)}var yv=function(t){var n=function(){return t.call(this,"traf")||this};return ba(n,t),n}(lh);function mv(t){for(var n=new yv,i=0,e=ih(t.data);i<e.length;i++){var r=e[i];nh(r,"tfhd")?n.boxes.push(lv(r)):nh(r,"tfdt")?n.boxes.push(vv(r)):nh(r,"trun")?n.boxes.push(gv(r)):n.boxes.push(ch(r))}return n}var _v=function(t){var n=function(){return t.call(this,"moof")||this};return ba(n,t),n}(lh);Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i};ba(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.js},set:function(t){if(!Da(t,32))throw new a("Provided sequence number does not fit in 32 bits.");this.js=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(La);Te(),Vt();var pv=function(t){var n=function(n){var i=t.call(this,"frma")||this;return i.codingName=n,i};return ba(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.Gs},set:function(t){if(4!==t.length)throw new a("Provided coding name was not 4 characters long.");this.Gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Aa);Te(),Vt();!function(t){var n=function(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e};ba(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Ys},set:function(t){if(!Da(t,32))throw new a("Provided hSpacing does not fit in 32 bits.");this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Xs},set:function(t){if(!Da(t,32))throw new a("Provided vSpacing does not fit in 32 bits.");this.Xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Aa);Te(),Vt();!function(t){var n=function(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r};ba(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(lh);Te(),Vt();!function(t){var n=function(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new pv(n),r};ba(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Aa);Te(),Vt();var bv=function(t){var n=function(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r};return ba(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.ts},set:function(t){var n=this;if(!Da(t.length,32))throw new a("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!Da(t,n.bitSize)})))throw new a("Not all provided entries fit in ".concat(this.bitSize," bits."));this.ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.$s},set:function(t){if(void 0===t)this.flags=0;else{if(!Da(t.auxInfoType,32))throw new a("Provided auxInfoType does not fit in 32 bits.");if(!Da(t.auxInfoTypeParameter,32))throw new a("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.$s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(La);(function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};ba(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}})(bv),function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};ba(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(bv);Te(),Vt();!function(t){var n=function(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r};ba(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ks},set:function(t){if(!Da(t,8))throw new a("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Js},set:function(t){if(!Da(t.length,32))throw new a("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!Da(t,8)})))throw new a("Not all provided sampleInfoSizes fit in a byte.");this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.$s},set:function(t){if(void 0===t)this.flags=0;else{if(!Da(t.auxInfoType,32))throw new a("Provided auxInfoType does not fit in 32 bits.");if(!Da(t.auxInfoTypeParameter,32))throw new a("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.$s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new a("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(La);Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i};ba(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Mh(e[i],n)}}}(La);Te(),Vt();!function(t){var n=function(n){return t.call(this,"stsd",n,0)||this};ba(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(yh);Te(),Vt();var kv=function(t){var n=function(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r};return ba(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.Zs},set:function(t){if(4!==t.length)throw new a("The provided groupingType does not equal 4 characters.");this.Zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(La);(function(t){var n=function(n,i){return t.call(this,0,n,i)||this};ba(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(kv),function(t){var n=function(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r};ba(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Qs},set:function(t){if(!Da(t,32))throw new a("The provided defaultLength does not fit in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(kv),function(t){var n=function(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new a("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u};ba(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Rs},set:function(t){if(!Da(t,32))throw new a("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(kv);Te(),Vt();(function(t){var n=function(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i};ba(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.tc},set:function(t){if(!Da(t.length,32))throw new a("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!Da(t,32)})))throw new a("Not all sampleSizes can be represented in 32 bits.");this.tc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}})(La),function(t){var n=function(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e};ba(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cs},set:function(t){if(!Da(t,32))throw new a("Provided defaultSampleSize does not fit in 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.Ws},set:function(t){if(!Da(t,32))throw new a("Number of allowed samples cannot fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(La);Te(),Vt();!function(t){var n=function(){return t.call(this,"stbl")||this};ba(n,t)}(lh);Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i};ba(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ts},set:function(t){if(!Da(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Da(t.firstChunk,32)||!Da(t.sampleDescriptionIndex,32)||!Da(t.samplesPerChunk,32)})))throw new a("Not all entries can be represented in 96 bits.");this.ts=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(La);Te(),Vt();!function(t){var n=function(){return t.call(this,"schi")||this};ba(n,t)}(lh);Te(),Vt();!function(t){var n=function(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r};ba(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.nc},set:function(t){if(4!==t.length)throw new a("The provided schemeType does not have a length of 4.");this.nc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.ic},set:function(t){if(!Da(t,32))throw new a("The provided schemeVersion does not fit in 23 bits.");this.ic=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.ec},set:function(t){if(t&&4!==t.length)throw new a("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.ec=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(La);Te(),Vt();var Tv=function(t){var n=function(n,i,e,r,u,o,s){void 0===s&&(s=0);var c=t.call(this,"sidx",n,s)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=o,c};return ba(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.rc},set:function(t){if(!Da(t,32))throw new a("Provided referenceId does not fit in 32 bits.");this.rc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.ps},set:function(t){if(!Da(t,32))throw new a("Provided timescale does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.uc},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.uc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.oc},set:function(t){if(!Da(t,this.bitSize))throw new a("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.oc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this.sc},set:function(t){if(!Da(t.length,16))throw new a("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Da(e.referencedSize,31))throw new a("Provided referenced size does not fit in 31 bits.");if(!Da(e.subsegmentDuration,32))throw new a("Provided subsegment duration does not fit in 31 bits.");if(!Da(e.sapType,3))throw new a("Provided SAP type does not fit in 3 bits.");if(!Da(e.sapDeltaTime,28))throw new a("Provided SAP delta time does not fit in 28 bits.")}this.sc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(La),Sv=function(t){var n=function(n,i,e,r,u,o){return void 0===o&&(o=0),t.call(this,0,n,i,e,r,u,o)||this};return ba(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(Tv),Ev=function(t){var n=function(n,i,e,r,u,o){return void 0===o&&(o=0),t.call(this,1,n,i,e,r,u,o)||this};return ba(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(Tv);Te(),Vt();!function(t){var n=function(n,i,e){return t.call(this,"styp",n,i,e)||this};ba(n,t)}(Sh);Te(),Vt();!function(t){var n=function(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i};ba(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.cc},set:function(t){if(t<-1||t>1)throw new a("Provided balance does not fit in the allowed range [-1, 1].");if(!Da(Pa(t,8),16))throw new a("Provided balance does not fit in 16 bits (fixed 8.8).");this.cc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(Pa(this.balance,8),16),n.writer.writeUInt(0,16)}}(La);Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i};ba(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ts},set:function(t){if(!Da(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Da(t,32)})))throw new a("Not all entries can be represented in 32 bits.");this.ts=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(La);Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i};ba(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.ts},set:function(t){if(!Da(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Da(t.sampleCount,32)||!Da(t.sampleDelta,32)})))throw new a("Not all entries can be represented in 64 bits.");this.ts=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(La);Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i};ba(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Is},set:function(t){if(!Da(t,32))throw new a("The provided trackId does not fit in 32 bits.");this.Is=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(yh);Te(),Vt();!function(t){var n=function(){return t.call(this,"udta")||this};ba(n,t)}(lh);Te(),Vt();var Iv={red:0,green:0,blue:0};!function(t){var n=function(n,i){void 0===n&&(n=0),void 0===i&&(i=Iv);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e};ba(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.fc},set:function(t){if(!Da(t.red,16)||!Da(t.green,16)||!Da(t.blue,16))throw new a("Not all colors could be represented in 16 bits.");this.fc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(La);Te(),Vt();var Rv=function(t){var n=function(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var o,s,c,f,a,h=this;return(h=t.call(this,n,i)||this).width=e.width,h.height=e.height,h.horizontalResolution=null!==(o=e.horizontal)&&void 0!==o?o:72,h.verticalResolution=null!==(s=e.vertical)&&void 0!==s?s:72,h.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",h.frameCount=null!==(f=r.frameCount)&&void 0!==f?f:1,h.depth=null!==(a=r.depth)&&void 0!==a?a:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h};return ba(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.Bs},set:function(t){if(!Da(t,16))throw new a("Provided width does not fit in 16 bits.");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Ls},set:function(t){if(!Da(t,16))throw new a("Provided height does not fit in 16 bits.");this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.ac},set:function(t){if(!Da(Pa(t,16),32))throw new a("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.ac=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.hc},set:function(t){if(!Da(Pa(t,16),32))throw new a("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.hc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.vc},set:function(t){if(t.length>31)throw new a("The provided compressorName should at most be 31 characters long.");this.vc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.dc},set:function(t){if(!Da(t,16))throw new a("Provided frameCount does not fit in 16 bits.");this.dc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.lc},set:function(t){if(!Da(t,16))throw new a("Provided depth does not fit in 16 bits.");this.lc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,o;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(o=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==o?o:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(Pa(this.horizontalResolution,16),32),n.writer.writeUInt(Pa(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&xa(n.writer,this.extra)},n}(wh);Te(),Vt(),Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i};ba(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(Na.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(La);Te(),Vt();!function(t){var n=function(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r};ba(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(gh);Te(),Vt();!function(t){var n=function(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u};ba(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Rv);Te(),Vt();!function(t){var n=function(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e};ba(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(wh);Te(),Vt(),Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i};ba(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Aa);Te(),Vt();!function(){var t=function(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r};v.defineProperty(t.prototype,"version",{get:function(){return this.wc},set:function(t){if(!Da(t,8))throw new a("Provided version does not fit in 8 bits.");this.wc=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileIndication",{get:function(){return this.gc},set:function(t){if(!Da(t,8))throw new a("Provided profileIndication does not fit in 8 bits.");this.gc=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.yc},set:function(t){if(!Da(t,8))throw new a("Provided profileCompatibility does not fit in 8 bits.");this.yc=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"levelIndication",{get:function(){return this.mc},set:function(t){if(!Da(t,8))throw new a("Provided levelIndication does not fit in 8 bits.");this.mc=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"spsSets",{get:function(){return this._c},set:function(t){if(!Da(t.length,5))throw new a("Provided number of spsSets exceeds the max (32)");this._c=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ppsSets",{get:function(){return this.bc},set:function(t){if(!Da(t.length,8))throw new a("Provided number of ppsSets exceeds the max (256)");this.bc=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(Na.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var o=u[r];t.writer.writeUInt(o.length,16),t.concat(Na.from(o))}}}();Te(),Vt();!function(t){var n=function(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var o=t.call(this,"avc1",n,i,r)||this;return o.configurationBox=e,o.bitrateBox=u,o};ba(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Rv);Te(),Vt();!function(t){var n=function(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r};ba(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.zo},set:function(t){if(!Da(t,32))throw new a("Provided bufferSizeDb does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.kc},set:function(t){if(!Da(t,32))throw new a("Provided max does not fit in 32 bits.");this.kc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.Tc},set:function(t){if(!Da(t,32))throw new a("Provided avg does not fit in 32 bits.");this.Tc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Aa);Te(),Vt(),Te(),Vt(),Te(),Vt();var Nv=function(t){var n=function(n,i){var e,r,u,o,s=this;if(s=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new a("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return s.kId=i.kId,s.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?s.perSampleIvSize=i.perSampleIvSize:s.constantIv=null!==(o=i.constantIv)&&void 0!==o?o:new y(0),s};return ba(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.Sc},set:function(t){if(!Da(t,8))throw new a("Provided isProtected does not fit in 1 byte.");this.Sc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Ec},set:function(t){if(![8,16].includes(t))throw new a("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Ec=t,this.Ic=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.Rc},set:function(t){if(16!==t.length)throw new a("Provided kId length is not 16.");this.Rc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ic},set:function(t){if(![8,16].includes(t.length))throw new a("Provided constant IV length does not match any allowed value [8, 16].");this.Ic=t,this.Ec=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),xa(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),xa(t.writer,this.constantIv))},n}(La),Cv=(function(t){var n=function(n){return t.call(this,0,n)||this};ba(n,t)}(Nv),function(t){var n=function(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i};return ba(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Nc},set:function(t){if(!Da(t,4))throw new a("Provided cryptByteBlocks does not fit in 4 bits.");this.Nc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Cc},set:function(t){if(!Da(t,4))throw new a("Provided skipByteBlocks does not fit in 4 bits.");this.Cc=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Nv));!function(t){var n=function(n){var i=t.call(this)||this;return i.tencBox=new Cv(n),i};ba(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Uh);function Ov(t){return void 0!==t.iv}function Av(t){return void 0!==t.subsamples}Te(),Vt();!function(t){var n=function(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i};ba(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.Ws},set:function(t){var n;if(!Da(t.length,32))throw new a("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Ov(r)&&![8,16].includes(r.iv.length))throw new a("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Av(r)),!0===n&&!Av(r)||!1===n&&Av(r))throw new a("Mix of samples with and without subsamples detected.");if(Av(r)){if(!Da(r.subsamples.length,16))throw new a("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];if(!Da(s.clearData,16))throw new a("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!Da(s.protectedData,23))throw new a("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Ov(r)&&(n+=r.iv.length),Av(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Ov(r)&&xa(n.writer,r.iv),Av(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];n.writer.writeUInt(s.clearData,16),n.writer.writeUInt(s.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(La);Te(),Vt(),Te(),Vt();!function(t){var n=function(n,i,e,r,u){var o=t.call(this,"emsg",0,0)||this;return o.schemeIdUri=n,o.value=i,o.data=u,o.id=e,o.timescale=r.timescale,o.presentationTimeDelta=r.presentationTimeDelta,o.eventDuration=r.eventDuration,o};ba(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.ps},set:function(t){if(!Da(t,32))throw new a("The provided timescale does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Oc},set:function(t){if(!Da(t,32))throw new a("The provided presentationTimeDelta does not fit in 32 bits.");this.Oc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Ac},set:function(t){if(!Da(t,32))throw new a("The provided eventDuration does not fit in 32 bits.");this.Ac=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.Dc},set:function(t){if(!Da(t,32))throw new a("The provided id does not fit in 32 bits.");this.Dc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Na.from(this.data))}}(La);Te(),Vt(),Te(),Vt(),Te(),Vt();!function(){var t=function(){this.boxes=[]};t.prototype.serialize=function(){for(var t=new Oa,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()}}();function Dv(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=eh(i,e);if(!r.complete)return;if(nh(r.box,n))return r.box}}(new th(function(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}(i),new Qa),t);if(!e)throw new a("".concat(t," box not found"));return n(e)}}Dv("moov",(function(t){for(var n=new cv,i=0,e=ih(t.data);i<e.length;i++){var r=e[i];nh(r,"mvhd")?n.boxes.push(nv(r)):nh(r,"trak")?n.boxes.push(sv(r)):nh(r,"mvex")?n.boxes.push(Jh(r)):nh(r,"pssh")?n.boxes.push(zh(r)):n.boxes.push(ch(r))}return n})),Dv("sidx",(function(t){var n,i,e=t.data,r=rh(e.nextUint32()),u=r.version,o=r.flags,s=e.nextUint32(),c=e.nextUint32();0===u?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var f=e.nextUint16(),a=[],h=0;h<f;h++){var v=new Ia(Na.from(e.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),w=v.readUInt(32),g=Boolean(v.readBit()),y=v.readUInt(3),m=v.readUInt(28);a.push({referenceType:d,referencedSize:l,subsegmentDuration:w,startsWithSap:g,sapType:y,sapDeltaTime:m})}return 0===u?new Sv(s,c,n,i,a,o.raw):new Ev(s,c,n,i,a,o.raw)})),Dv("moof",(function(t){for(var n=new _v,i=0,e=ih(t.data);i<e.length;i++){var r=e[i];nh(r,"traf")?n.boxes.push(mv(r)):nh(r,"pssh")?n.boxes.push(zh(r)):n.boxes.push(ch(r))}return n}));var Pv=Dv("pssh",zh),xv=function(t){function n(n,i){var e;(e=t.call(this)||this).Pc=n,e.xc=i,e.Bc=!1,e.Lc=function(){e.Mc()},e.Fc=function(t){e.Lu(new af(Sc(e),t.messageType,ya(e.xc,t.message)))},e.Uc=function(){e.Bc=!0,e.Vc.vo>0&&(e.Vc.ho(),e.Lu(new ff(Sc(e)))),e.Pc.removeEventListener("keystatuseschange",e.Lc),e.Pc.removeEventListener("message",e.Fc)},e.Pc.addEventListener("keystatuseschange",e.Lc),e.Pc.addEventListener("message",e.Fc),e.Vc=new lf;var r=[];return e.Pc.closed&&r.push(G.resolve(e.Pc.closed)),e.Hc=new wa,r.push(e.Hc.ko),e.X=G.race(r).then(e.Uc,e.Uc),e.Mc(),e}Xe(n,t);var i=n.prototype;return i.qc=function(){if(this.Bc)return this.X;var t=[];return t.push(G.resolve(this.Pc.close())),t.push(tf(1e3)),this.Hc.Cu(G.race(t).catch(Bv)),this.Bc=!0,this.X},i.zc=function(t,n,i){if(sr.Hi){var e=Pv(aa(n));if(1===e.version)n=new Hh(e.systemId,e.data).serialize().join()}return G.resolve(this.Pc.generateRequest(t,n)).catch(Bv)},i.Wc=function(t){return G.resolve(this.Pc.load(t)).catch(Bv)},i.jc=function(){return G.resolve(this.Pc.remove()).catch(Bv)},i.Gc=function(t){return G.resolve(this.Pc.update(t)).catch(Bv)},i.Mc=function(){var t=this;this.Vc.ho(),this.Pc.keyStatuses.forEach((function(n,i){t.Yc(i,n)})),this.Lu(new ff(this))},i.Yc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=aa(t);if(this.xc===tc&&16===e.byteLength){var r=sa(e),u=r.getUint32(0,!0),o=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,o,!1),r.setUint16(6,s,!1)}this.xc===tc&&"status-pending"===n&&(n="usable"),this.Vc.ao(e,n)},Re(n,[{key:"Xc",get:function(){return this.X}},{key:"$c",get:function(){return this.Pc.expiration}},{key:"Kc",get:function(){return this.Vc}},{key:"Jc",get:function(){return this.Pc.sessionId}}]),n}(ef);function Bv(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new _a(t.message,void 0,n,t)}var Lv=function(){function t(t,n,i){this.Zc=t,this.Qc=n,this.tf=i}var n=t.prototype;return n.nf=function(t){var n=this;return Fs((function(){return Vs(this,(function(i){return[2,new xv(n.Zc.createSession(t),n.Qc)]}))}))()},n.if=function(t){return G.resolve(this.Zc.setServerCertificate(t))},n.ef=function(t){return G.resolve(t.setMediaKeys(this.Zc))},n.rf=function(t){return G.resolve(t.setMediaKeys(null))},n.uf=function(){return G.resolve()},t}(),Mv=function(){function t(t,n,i){this.sf=t,this.xc=n,this.cf=i}var n=t.prototype;return n.ff=function(){var t=this;return Fs((function(){var n;return Vs(this,(function(i){switch(i.label){case 0:return[4,t.sf.createMediaKeys()];case 1:return n=i.sent(),[2,new Lv(n,t.xc,t.cf)]}}))}))()},n.af=function(){return this.cf},Re(t,[{key:"Qc",get:function(){return this.sf.keySystem}}]),t}();function Fv(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Uv(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,hf:e.hf},o=!1;if(e.audioCapabilities){var s=e.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));s.length&&(u.audioCapabilities=s.filter((function(e){return Vv(t,n,i,e)})),o=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));c.length&&(u.videoCapabilities=c.filter((function(e){return Vv(t,n,i,e)})),o=!0,u.videoCapabilities.length&&(r=!0))}return o||(r=t(i,"video/mp4")),r?u:void 0}}function Vv(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Lc(n,e.encryptionScheme))&&(!e.robustness&&t(i,Fv(e.contentType))))}function Hv(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var o=u[r];if(o.contentType)return o.contentType}}function qv(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function zv(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Wv))||!(!t.videoCapabilities||!t.videoCapabilities.some(Wv))}function Wv(t){return!t.robustness}function jv(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Us({},r,{robustness:n}))}return i}Te(),Vt(),Te(),Vt();var Gv=function(){function t(){}return t.prototype.vu=function(t,n){return Fs((function(){var i,e,r,o,s,c,f;return Vs(this,(function(a){switch(a.label){case 0:for(n=n.filter((function(t){return!t.hf})),i=0;i<n.length;i++)(e=n[i]).audioCapabilities&&(e.audioCapabilities=qv(e.audioCapabilities)),e.videoCapabilities&&(e.videoCapabilities=qv(e.videoCapabilities));if(t!==ec||!n.some(zv))return[3,4];r=n.map((function(t){return function(t,n){return Us({},t,{videoCapabilities:t.videoCapabilities?jv(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?jv(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,u.requestMediaKeySystemAccess(t,r)];case 2:return o=a.sent(),s=o.getConfiguration(),[2,new Mv(o,t,s)];case 3:return a.sent(),[3,4];case 4:return[4,u.requestMediaKeySystemAccess(t,n)];case 5:return c=a.sent(),f=c.getConfiguration(),[2,new Mv(c,t,f)]}}))}))()},t.vf=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}();Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Ne();var Yv=function(t){function n(n,i){var e;return(e=t.call(this)||this).df=n,e.lf=i,e.Bc=!1,e.wf=void 0,e.gf=void 0,e.yf=void 0,e.Uc=function(){e.Bc=!0,e.mf.To(void 0),e.yf&&(e.yf.removeEventListener("mskeyclose",e.Uc),e.yf.removeEventListener("mskeymessage",e._f),e.yf.removeEventListener("mskeyerror",e.pf),e.yf.removeEventListener("mskeyadded",e.bf))},e._f=function(t){e.gf&&(e.gf.To(void 0),e.gf=void 0),e.Lu(new af(Sc(e),"license-request",va(t.message).buffer,t.destinationURL||void 0))},e.pf=function(){var t=e.yf&&e.yf.error;if(t){var n=new _a("Unknown CDM error",t.code,t.systemCode);if(e.gf)e.gf.So(n),e.gf=void 0;else if(e.wf)e.wf.So(n),e.wf=void 0;else switch(n.Eo){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.kf("output-not-allowed");break;default:e.kf("internal-error")}}},e.bf=function(){e.gf&&(e.kf("usable"),e.gf.To(void 0),e.gf=void 0),e.wf&&(e.kf("usable"),e.wf.To(void 0),e.wf=void 0)},e.mf=new wa,e.Tf=new lf,e}Xe(n,t);var i=n.prototype;return i.zc=function(t,n,i){var e=this;return Fs((function(){return Vs(this,(function(t){switch(t.label){case 0:return e.Sf(),e.gf=new wa,e.nf(aa(n),i),[4,e.gf.ko];case 1:return t.sent(),[2]}}))}))()},i.nf=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Ef;return(i=n?this.df.createSession(this.lf,t,e):this.df.createSession(this.lf,t)).addEventListener("mskeyclose",this.Uc),i.addEventListener("mskeymessage",this._f),i.addEventListener("mskeyerror",this.pf),i.addEventListener("mskeyadded",this.bf),this.yf=i,this.kf("status-pending"),i},i.Wc=function(t){var n=this;return Fs((function(){return Vs(this,(function(t){return n.Sf(),[2,!0]}))}))()},i.Gc=function(t){var n=this;return Fs((function(){var i;return Vs(this,(function(e){switch(e.label){case 0:if(n.wf=new wa,n.Sf(),!n.yf)return[2,G.resolve()];if(0===(i=aa(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.yf.update(i),[4,n.wf.ko];case 1:return e.sent(),[2]}}))}))()},i.qc=function(){return!this.Bc&&this.yf&&(this.Bc=!0,this.yf.close()),this.mf.ko},i.jc=function(){var t=this;return Fs((function(){return Vs(this,(function(n){return t.Sf(),[2]}))}))()},i.Sf=function(){if(this.Bc)throw new h("Already closing or closed.")},i.kf=function(t){this.Tf.ho(),this.Tf.ao(df,t),this.Lu(new ff(this))},Re(n,[{key:"Jc",get:function(){return this.yf&&this.yf.sessionId||""}},{key:"$c",get:function(){return NaN}},{key:"Xc",get:function(){return this.mf.ko}},{key:"Kc",get:function(){return this.Tf}}]),n}(ef),Xv=function(){function t(t,n,i){this.df=t,this.Qc=n,this.tf=i;var e=Hv(i)||"video/mp4";this.lf=Fv(e)}var n=t.prototype;return n.nf=function(t){var n=this;return Fs((function(){return Vs(this,(function(t){return[2,new Yv(n.df,n.lf)]}))}))()},n.if=function(t){return G.resolve(!1)},n.ef=function(t){var n=this,i=function(){t.msSetMediaKeys(n.df),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.df):t.addEventListener("loadedmetadata",i),G.resolve()},n.rf=function(t){return G.resolve()},n.uf=function(){return G.resolve()},t}();Se();var $v=function(){function t(t,n){this.xc=t,this.If=n}var n=t.prototype;return n.af=function(){return this.If},n.ff=function(){var t=new _e.MSMediaKeys(this.xc);return G.resolve(new Xv(t,this.xc,this.If))},Re(t,[{key:"Qc",get:function(){return this.xc}}]),t}();Se();var Kv=function(){function t(){}return t.prototype.vu=function(t,n){try{return G.resolve(function(t,n){if(!Jv())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Uv(Zv,sf,t,e);if(r)return new $v(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.vf=function(){return Jv()},t}();function Jv(){return void 0!==_e.MSMediaKeys&&"function"==typeof _e.MSMediaKeys.isTypeSupported}function Zv(t,n){return _e.MSMediaKeys.isTypeSupported(t,n)}Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Ne();var Qv,td,nd=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Rf=n,r.lf=i,r.Nf=e,r.mf=new wa,r.Cf=void 0,r.Tf=new lf,r.Of=void 0,r.Af=new wa,r.pf=function(){var t=r.Of&&r.Of.error;if(t){var n=new _a("Unknown CDM error",t.code,t.systemCode);r.Cf?(r.Cf.So(n),r.Cf=void 0):n.Eo===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.kf("output-not-allowed"):r.kf("internal-error"),r.Lu(new hf)}},r._f=function(t){r.Lu(new af(Sc(r),"license-request",va(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.bf=function(){r.Cf&&(r.Cf.To(void 0),r.Cf=void 0),r.kf("usable")},r}Xe(n,t);var i=n.prototype;return i.zc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Df;if(!e)throw new h("Expected FairPlay contentId to be defined but was "+e+".");var r=id(aa(n),e,this.Nf);return this.Of=this.Rf.createSession(this.lf,r),this.Of.addEventListener("webkitkeymessage",this._f,!1),this.Of.addEventListener("webkitkeyadded",this.bf,!1),this.Of.addEventListener("webkitkeyerror",this.pf,!1),this.kf("status-pending"),this.Af.To(this.Of),this.Af=new wa,G.resolve()},i.Wc=function(t){return G.resolve(!0)},i.Gc=function(t){var n=this;return Fs((function(){var i,e;return Vs(this,(function(r){switch(r.label){case 0:if(0===(i=aa(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.Cf=new wa,(e=n.Of)?[3,2]:[4,n.Af.ko];case 1:e=r.sent(),r.label=2;case 2:return e.update(i),[4,n.Cf.ko];case 3:return r.sent(),[2]}}))}))()},i.qc=function(){var t,n=this.Of;return n&&(n.removeEventListener("webkitkeymessage",this._f,!1),n.removeEventListener("webkitkeyadded",this.bf,!1),n.removeEventListener("webkitkeyerror",this.pf,!1),n.close()),this.Af.Nu(),null==(t=this.Cf)||t.Nu(),this.mf.To(void 0),this.mf.ko},i.jc=function(){return G.resolve(void 0)},i.kf=function(t){this.Tf.ho(),this.Tf.ao(df,t),this.Lu(new ff(this))},Re(n,[{key:"Jc",get:function(){return this.Of?this.Of.sessionId:""}},{key:"$c",get:function(){return NaN}},{key:"Xc",get:function(){return this.mf.ko}},{key:"Kc",get:function(){return this.Tf}}]),n}(ef);function id(t,n,i){var e=ea(t),r=2*e.length,u=2*n.length,o=new ArrayBuffer(4+r+4+u+4+i.byteLength),s=new DataView(o),c=new la;return Wf(s,c,r,!0),Jf(s,c,e,!0),Wf(s,c,u,!0),Jf(s,c,n,!0),Wf(s,c,i.byteLength,!0),function(t,n,i){ca(t).set(ca(i),n.mo),n.lo(i.byteLength)}(s,c,i),new y(o)}Te(),Vt(),Ne(),Te(),Vt(),function(t){t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR"}(Qv||(Qv={})),function(t){t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE"}(td||(td={})),function(t){t.fromCode=function(t){var n=d.floor(t/1e3);if(n in td)return n;throw new h("Invalid error code: "+t)}}(td||(td={}));var ed=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).code=n,r}return Xe(n,t),Re(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return td.fromCode(this.code)}}]),n}(Uc);var rd=function(){function t(t,n,i){this.Rf=t,this.Qc=n,this.tf=i,this.Nf=void 0;var e=Hv(i)||"video/mp4";this.lf=Fv(e)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.Rf},n.nf=function(t){var n=this;return Fs((function(){return Vs(this,(function(t){if(!n.Nf)throw new ed(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new nd(n.Rf,n.lf,n.Nf)]}))}))()},n.if=function(t){return this.Nf=aa(t),G.resolve(!0)},n.ef=function(t){return t.webkitSetMediaKeys(this.Rf),G.resolve()},n.rf=function(t){return t.webkitSetMediaKeys(null),G.resolve()},n.uf=function(){return G.resolve()},t}();Se();var ud=function(){function t(t,n){this.xc=t,this.If=n}var n=t.prototype;return n.af=function(){return this.If},n.ff=function(){var t=new _e.WebKitMediaKeys(this.xc);return G.resolve(new rd(t,this.xc,this.If))},Re(t,[{key:"Qc",get:function(){return this.xc}}]),t}();Se();var od=function(){function t(){}return t.prototype.vu=function(t,n){try{return G.resolve(function(t,n){if(t!==sc)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!sd())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Uv(cd,cf,t,e);if(r)return new ud(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.vf=function(){return sd()},t}();function sd(){return void 0!==_e.WebKitMediaKeys&&"function"==typeof _e.WebKitMediaKeys.isTypeSupported}function cd(t,n){return _e.WebKitMediaKeys.isTypeSupported(t,n)}Te(),Vt();var fd=function(){function t(t){this.Pf=t}return t.prototype.vu=function(t,n){var i=this;return Fs((function(){var e,r,u;return Vs(this,(function(o){switch(o.label){case 0:e=0,r=i.Pf,o.label=1;case 1:if(!(e<r.length))return[3,6];u=r[e],o.label=2;case 2:return o.trys.push([2,4,,5]),[4,u.vu(t,n)];case 3:return[2,o.sent()];case 4:return o.sent(),[3,5];case 5:return e++,[3,1];case 6:throw new h("Unsupported key system configuration for "+t)}}))}))()},t}();Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt();var ad=function(){function t(t){var n=this;this.xf=[],this.Bf=void 0,this.Lf=new Hc,this.Mf=function(){return 0===n.xf.length?n.Ff?hd(n.Ff,n.Lf.Au).then(n.Uf,n.Uf):n.Uf():n.xf.shift()().then(n.Mf)},this.Uf=function(){if(0!==n.xf.length)return n.Mf();n.Bf=void 0},this.Ff=t}var n=t.prototype;return n.Vf=function(t,n){var i=this;return new G((function(e){var r=new Hc;r.Cu(i.Lf.Au),n&&r.Cu(n);var u=function(){r.ku()};i.xf.push((function(){var n=hd(t,r.Au);return e(n),n.then(u,u)})),i.Bf||(i.Bf=i.Mf())}))},n.Nu=function(){return this.Hf(!0)},n.kn=function(){return this.Ff=void 0,this.Hf(!1)},n.Hf=function(t){var n=this.Bf;return this.Lf.Nu(),t&&(this.Lf=new Hc),G.resolve(n)},t}();function hd(t,n){return new G((function(i){return i(t(n))}))}var vd,dd=new ad,ld=function(t){function n(n){var i;return(i=t.call(this)||this).xc=n,i.gf=void 0,i.Cf=void 0,i.On=!1,i.qf=void 0,i.zf=void 0,i.mf=new wa,i.Wf="",i.jf=new wa,i.Gf=new lf,i}Xe(n,t);var i=n.prototype;return i.Yf=function(){this.Cf&&(this.kf("usable"),this.Cf.To(void 0),this.Cf=void 0)},i.Xf=function(t){var n=new _a("Unknown CDM error",t.errorCode,t.systemCode);this.Cf?(this.Cf.So(n),this.Cf=void 0):this.gf?(this.gf.So(n),this.gf=void 0):n.Eo===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.kf("output-restricted"):1===n.Io?this.kf("expired"):this.kf("internal-error")},i.$f=function(t){0!==t.message.byteLength&&(this.gf&&(this.gf.To(void 0),this.gf=void 0),this.Lu(new af(this,"license-request",ya(this.xc,va(t.message).buffer),t.defaultURL||void 0)))},i.Kf=function(t){this.zf||(this.zf=t,this.jf.To(t))},i.qc=function(){var t=this;return Fs((function(){return Vs(this,(function(n){return t.throwIfClosed(),t.Cf&&(t.Cf.So(void 0),t.Cf=void 0),t.On=!0,t.mf.To(void 0),[2]}))}))()},i.zc=function(t,n){var i=this;return Fs((function(){var t;return Vs(this,(function(e){switch(e.label){case 0:return i.throwIfClosed(),i.gf=new wa,i.qf=aa(n),(t=i.zf)?[3,2]:[4,i.jf.ko];case 1:t=e.sent(),e.label=2;case 2:return t.webkitGenerateKeyRequest(i.xc,i.qf),[4,i.gf.ko];case 3:return e.sent(),[2]}}))}))()},i.Wc=function(t){var n=this;return Fs((function(){return Vs(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.jc=function(){var t=this;return Fs((function(){return Vs(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.Gc=function(t){var n=this;return Fs((function(){return Vs(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.Cf=new wa,sr.Ji||sr.$i?[2,dd.Vf(Fs((function(){return Vs(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return Fs((function(){var i;return Vs(this,(function(e){switch(e.label){case 0:return void 0===n.Cf?[2]:(i=n.zf)?[3,2]:[4,n.jf.ko];case 1:i=e.sent(),e.label=2;case 2:return i.webkitAddKey(n.xc,aa(t),n.qf,n.Jc),[4,n.Cf.ko];case 3:return e.sent(),[2]}}))}))()},i.throwIfClosed=function(){if(this.On)throw new h("Already closing or closed.")},i.kf=function(t){this.Gf.ho(),this.Gf.ao(df,t),this.Lu(new ff(this))},i.Jf=function(){var t=this;return Fs((function(){var n,i;return Vs(this,(function(e){switch(e.label){case 0:return(i=t.zf)?[3,2]:[4,t.jf.ko];case 1:i=e.sent(),e.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];e.label=3;case 3:return e.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.xc,t.Wf),[3,7];case 4:return e.sent(),[3,7];case 5:return[4,tf(500)];case 6:return e.sent(),[7];case 7:return[2]}}))}))()},Re(n,[{key:"Kc",get:function(){return this.Gf}},{key:"Jc",get:function(){return this.Wf},set:function(t){this.Wf=t}},{key:"Xc",get:function(){return this.mf.ko}},{key:"$c",get:function(){return NaN}}]),n}(ef),wd=function(){function t(t,n){var i=this;this.Qc=t,this.tf=n,this.zf=void 0,this.Zf=zs(),this.Qf=[],this.bf=function(t){var n=i.ta(t.sessionId);n&&n.Yf()},this.na=function(t){var n=i.ta(t.sessionId);n&&n.Xf(t)},this.ia=function(t){var n=i.ta(t.sessionId);n&&n.$f(t)}}var n=t.prototype;return n.ef=function(t){return this.zf=t,this.zf.addEventListener("webkitkeyadded",this.bf),this.zf.addEventListener("webkitkeyerror",this.na),this.zf.addEventListener("webkitkeymessage",this.ia),this.Zf.forEach((function(n,i){return n.Kf(t)})),this.Qf.forEach((function(n){return n.Kf(t)})),G.resolve()},n.rf=function(t){return t.removeEventListener("webkitkeyadded",this.bf),t.removeEventListener("webkitkeyerror",this.na),t.removeEventListener("webkitkeymessage",this.ia),this.zf=void 0,G.resolve()},n.uf=function(){var t=this;return Fs((function(){var n,i;return Vs(this,(function(e){switch(e.label){case 0:n=t.Zf.entries(),i=n.next(),e.label=1;case 1:return i.done?[3,3]:[4,i.value[1].Jf()];case 2:return e.sent(),i=n.next(),[3,1];case 3:return t.Zf.clear(),[2]}}))}))()},n.nf=function(t,n,i){var e=this;return Fs((function(){var t;return Vs(this,(function(n){return t=new ld(e.Qc),e.zf&&t.Kf(e.zf),e.Qf.push(t),[2,t]}))}))()},n.if=function(t){return G.resolve(!1)},n.ta=function(t){if(t){var n=this.Zf.get(t);return n||((n=this.Qf.shift())?(n.Jc=t,this.Zf.set(t,n),n):void 0)}},t}(),gd=function(){function t(t,n){this.Qc=t,this.ea=n}var n=t.prototype;return n.ff=function(){return G.resolve(new wd(this.Qc,this.ea))},n.af=function(){return this.ea},t}(),yd=function(){function t(){}return t.prototype.vu=function(t,n){try{return G.resolve(function(t,n){if(!yd.vf())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Uv(md,sf,t,e);if(r)return new gd(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return G.reject(t)}},t.vf=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function md(t,n){var i=ys();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function _d(){return vd||(vd=function(){var t=[];od.vf()&&t.push(new od);Gv.vf()&&t.push(new Gv);Kv.vf()&&t.push(new Kv);yd.vf()&&t.push(new yd);return new fd(t)}()),vd}Te(),Vt(),Te(),Vt();var pd=function(){function t(){this.ra=zs()}var n=t.prototype;return n.ho=function(t){this.ra.delete(t)},n.ua=function(){this.ra.clear()},n.co=function(t){return this.ra.get(t)},n.oa=function(t,n){this.ra.set(t,n)},t}(),bd=function(){function t(){}return t.sa=function(){return t.ke||(t.ke=kd.vf()?new kd:new pd),t.ke},t.ho=function(n){t.sa().ho(n)},t.ua=function(){t.sa().ua()},t.co=function(n){return t.sa().co(n)},t.oa=function(n,i){t.sa().oa(n,i)},t}();bd.ke=void 0;var kd=function(t){function n(){return t.apply(this,arguments)}Xe(n,t);var i=n.prototype;return i.ho=function(t){self.sessionStorage.removeItem(t)},i.ua=function(){self.sessionStorage.clear()},i.co=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.oa=function(t,n){self.sessionStorage.setItem(t,n)},n.vf=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(bd);Te(),Vt(),Te(),Vt();var Td=function(){var t=self.Blob;if(t)try{return new t,function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var e=new t;if(n)for(var r=0;r<n.length;r++){var u=n[r];e.append(u)}return e.getBlob(i&&i.type||"")}}(n)}();function Sd(t,n,i){var r=Td([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),o=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),s=e.createElement("a");s.href=u,s.download=o,e.body.appendChild(s),s.click(),e.body.removeChild(s),URL.revokeObjectURL(u)}Te(),Vt();var Ed,Id,Rd="default";Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),function(t){t.ca="fa",t.aa="ha",t.va="contentprotectionerror",t.da="contentprotectionsuccess",t.la="currentsourcechange",t.wa="destroy",t.ga="durationchange",t.ya="emptied",t.Qu="encrypted",t.ma="ended",t._a="pa",t.ba="ka",t.Ta="Sa",t.Ea="loadstart",t.Ia="manifestupdate",t.Ra="nosupportedrepresentationfound",t.Na="offline",t.Ca="online",t.Oa="pause",t.Aa="play",t.Da="progress",t.Pa="ratechange",t.xa="representationchange",t.Ba="resize",t.La="seeked",t.Ma="seeking",t.Fa="segmentnotfound",t.Ua="Va",t.Ha="qa",t.za="sourcechange",t.Wa="timeupdate",t.ja="volumechange",t.Ga="Ya",t.Xa="metricschange"}(Ed||(Ed={})),Te(),Vt(),Te(),Vt(),function(t){t.$a="arraybuffer",t.Ka="json",t.Ja="stream",t.Za="text"}(Id||(Id={})),Te(),Vt();var Nd=function(){function t(n){var i=this;this.Jr={},n instanceof t?n.asList().forEach((function(t){var n=Hs(t,2),e=n[0],r=n[1];i.append(e,r)})):Array.isArray(n)?n.forEach((function(t){i.append(t[0],t[1])})):n&&v.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Cd(i),e=Od(e);var r=i.toLowerCase();if(this.Jr.hasOwnProperty(r)){var u=this.Jr[r],o=u[1];u[1]=o?o+", "+e:e}else this.Jr[r]=[i,e]},n.delete=function(t){var n=Cd(t).toLowerCase();delete this.Jr[n]},n.get=function(t){var n=Cd(t).toLowerCase();return this.Jr.hasOwnProperty(n)?this.Jr[n][1]:null},n.has=function(t){var n=Cd(t).toLowerCase();return this.Jr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Cd(i)).toLowerCase();this.Jr[e]=[i,Od(n)]},n.forEach=function(t,n){for(var i in this.Jr)this.Jr.hasOwnProperty(i)&&t.call(n,this.Jr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Jr)if(this.Jr.hasOwnProperty(n)){var i=Hs(this.Jr[n],2),e=i[0],r=i[1];t.push([e,r])}return t},n.Qa=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.th=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.nh=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function Cd(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function Od(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}Te(),Vt(),Ne(),Te(),Vt(),Ne(),Te(),Vt(),ke(),Te(),Vt(),Ne();var Ad,Dd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return Xe(n,t),Re(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Uc);function Pd(t){return function(t){return new Lt({start:function(n){for(var i=0;i<t.length;i++){var e=t[i];n.enqueue(e)}n.close()}})}([t])}function xd(t){return Pd(function(t){return new y(t)}(t))}function Bd(t,n){return function(t,n){var i=n,e=t.getReader(),r=new wa,u=function(){o();var t=new qc;e.cancel(t).catch(pr),r.So(t)},o=function(){i&&(i.Su(u),i=void 0)};i&&(i.yu?u():i.Tu(u));var s=[],c=function(t){return t.done?(o(),G.resolve(s)):(s.push(t.value),G.resolve(e.read()).then(c))};return G.resolve(e.read()).then(c).then((function(t){o(),r.To(t)}),(function(t){o(),r.So(t)})),r.ko}(t,n).then((function(t){return If(t).buffer}))}function Ld(t,n){var i=n,e=new Mt,r=e.readable,u=e.writable,o=u.getWriter(),s=function(){i&&i.Nu()};return o.closed.then(s,s),t.then((function(t){return i=void 0,o.releaseLock(),t.pipeTo(u).catch(pr)}),(function(t){return i=void 0,o.releaseLock(),u.abort(t).catch(pr)})),r}function Md(t){return ea(new y(t))}function Fd(t){return ra(t).buffer}Te(),Vt(),function(t){t[t.Ja=0]="Ja",t[t.ih=1]="ih"}(Ad||(Ad={}));var Ud="text/plain;charset=UTF-8",Vd=function(){function t(){}var n=t.prototype;return n.eh=function(t){return this.rh(t).then(JSON.parse)},n.uh=function(t,n){switch(t){case Id.$a:return this.oh(n);case Id.Ka:return this.eh(n);case Id.Ja:return this.sh();case Id.Za:return this.rh(n);default:throw new h}},t}();function Hd(t,n,i){if(t instanceof Vd)return t;if(t instanceof Lt)return function(t,n){return new zd({eu:0,sh:t,fh:qd(n)})}(t,i);var e=qd(i),r=G.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{eu:Id.Za,ah:t,fh:n||Ud};if(t instanceof ArrayBuffer||Sf(t))return{eu:Id.$a,ah:Kd(t),fh:n};if(wr(t)||vr(t))return{eu:Id.Ka,ah:t,fh:n};throw new h("Unsupported BodyInit type")}return{eu:Id.Za,ah:null,fh:n}}(t,e)}));return new zd({eu:1,ko:r,hh:n})}function qd(t){return(t.get("content-type")||"").toLowerCase()}var zd=function(t){function n(n){var i;return(i=t.call(this)||this).dh=!1,i.lh=new wa,i.lh.ko.catch(pr),i.wh(n),i}Xe(n,t);var i=n.prototype;return i.gh=function(){return this.lh.ko},i.rh=function(t){return this.yh(Wd,t)},i.eh=function(t){return this.yh(Gd,t)},i.oh=function(t){return this.yh(Xd,t)},i.sh=function(){return this.mh(function(t){return 0===t.eu?t.sh:Ld(t.ko.then($d).then(xd),t.hh)}(this._h))},i.yh=function(t,n){if(this.dh)return G.reject(new h("Already used"));this.dh=!0;var i=t(this._h,n);return this.lh.Cu(i.then(pr)),i},i.mh=function(t){if(this.dh)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.dh=!0;var n=new Mt,i=G.resolve(t.pipeTo(n.writable));return this.lh.Cu(i),n.readable},i.wh=function(t){this._h=t,1===t.eu&&t.ko.catch(pr)},i.ph=function(){if(this.dh)throw new h("Already used");var t=function(t){if(0===t.eu){var n=Hs(t.sh.tee(),2),i=n[0],e=n[1];return[{eu:t.eu,sh:i,fh:t.fh},{eu:t.eu,sh:e,fh:t.fh}]}var r=Hs(t.hh.Ou(),2),u=r[0],o=r[1];return[{eu:t.eu,ko:t.ko,hh:u},{eu:t.eu,ko:t.ko,hh:o}]}(this._h),i=t[0],e=t[1];return this.wh(i),new n(e)},Re(n,[{key:"bh",get:function(){return this.dh}}]),n}(Vd);function Wd(t,n){return 0===t.eu?Bd(t.sh,n).then(Md):(n&&t.hh.Cu(n),Xc(t.ko.then(jd),t.hh))}function jd(t){switch(t.eu){case Id.Za:return G.resolve(t.ah||"");case Id.$a:return G.resolve(t.ah).then(Md);case Id.Ka:return G.resolve(t.ah).then(JSON.stringify)}}function Gd(t,n){return 0===t.eu?Wd(t,n).then(JSON.parse):(n&&t.hh.Cu(n),Xc(t.ko.then(Yd),t.hh))}function Yd(t){return t.eu===Id.Ka?G.resolve(t.ah):jd(t).then(JSON.parse)}function Xd(t,n){return 0===t.eu?Bd(t.sh,n):(n&&t.hh.Cu(n),Xc(t.ko.then($d),t.hh))}function $d(t){switch(t.eu){case Id.$a:return G.resolve(t.ah);case Id.Za:case Id.Ka:return jd(t).then(Fd)}}function Kd(t){return t instanceof ArrayBuffer?t:va(ca(t)).buffer}function Jd(t){return t.kh>=200&&t.kh<=299||304===t.kh}var Zd,Qd,tl,nl,il=function(t){function n(n,i){var e,r,u,o,s,c;i?(r=i.Th,u=i.Sh,o=i.kh,s=i.Eh,c=i.Ih):(r=[],u=Id.Za,o=200,s="OK",c=!1);var f=n.Rh,a=new Nd(n.Th||r),h=n.Sh||u,v=n.Nh||(i&&i.Rh===f?i.Nh:f.Ch),d=i?i.Oh:null,l=Hd(void 0!==n.Ah?n.Ah:d,n.hh||new Hc,a);return(e=t.call(this,l)||this).Th=a,e.Rh=f,e.Nh=v,e.Sh=h,e.kh=void 0!==n.kh?n.kh:o,e.Eh=void 0!==n.Eh?String(n.Eh):s,e.Ih=n.Ih||c,e}Xe(n,t);var i=n.prototype;return i.Ah=function(t){return this.uh(this.Sh,t)},i.yo=function(){return new n({Ah:this.ph(),Rh:this.Rh},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Oh=n,i}Xe(n,t);var i=n.prototype;return i.gh=function(){return this.Oh.gh()},i.rh=function(t){return this.Oh.rh(t)},i.eh=function(t){return this.Oh.eh(t)},i.oh=function(t){return this.Oh.oh(t)},i.sh=function(){return this.Oh.sh()},i.ph=function(){return this.Oh.ph()},Re(n,[{key:"bh",get:function(){return this.Oh.bh}}]),n}(Vd));Te(),Vt(),function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Zd||(Zd={})),function(t){t.Dh="",t.Ph="manifest",t.xh="segment",t.Bh="preload-hint",t.Lh="content-protection"}(Qd||(Qd={})),function(t){t.Dh="",t.Mh="initialization-segment",t.Fh="fairplay-license",t.Uh="fairplay-certificate",t.Vh="widevine-license",t.Hh="widevine-certificate",t.qh="playready-license",t.zh="clearkey-license",t.Wh="aes128-key"}(tl||(tl={})),function(t){t.Dh="",t.jh="audio",t.Gh="video",t.Za="text",t.Yh="image"}(nl||(nl={}));var el=function(t,n){var i,e,r,u,o,s,c,f,a,h,v,d,l=t.Ch;n?(i=n.ah,e=n.Th,r=n.Xh,u=n.Sh,o=n.$h,s=n.Kh,c=n.Au,f=n.eu,a=n.Jh,h=n.Zh,v=n.Qh,d=n.tv):(i=null,e={},r="GET",u=Id.Za,o=0,s=0,f="",a="",h="",v=!1),this.Ch=l,this.ah=t.ah||i,this.Th=new Nd(t.Th||e),this.Xh=t.Xh||r,this.Sh=t.Sh||u,this.$h=void 0!==t.$h?Number(t.$h)||0:o,this.Kh=void 0!==t.Kh?Number(t.Kh)||0:s,this.Au=t.Au||c||(new Hc).Au,this.eu=t.eu||f,this.Jh=t.Jh||a,this.Zh=t.Zh||h,this.Qh=void 0!==t.Qh?Boolean(t.Qh):v,this.tv=t.tv||d},rl=function(){function t(){}var n=t.prototype;return n.Rh=function(t){var n=function(t){return new il({Ah:null,Th:{},Rh:t,Nh:t.Ch,Sh:t.Sh,kh:0,Eh:Ed.Na})}(new el(t));return G.resolve(n)},n.nv=function(t){},n.kn=function(){},t}();var ul=function(){function t(t,n){void 0===n&&(n=!0),this.ev=t,this.rv=n}var n=t.prototype;return n.Rh=function(t){var n=this.uv(t);return this.ev.Rh(n)},n.nv=function(t){return this.ev.nv(this.ov(t))},n.uv=function(n){var i=new el(n);if(!this.rv){var e=t.sv(i.Ch);i=new el({Ch:e},i)}return i},n.ov=function(n){var i=n.Ch;return this.rv||(i=t.sv(i)),{Ch:i,ah:n.ah}},n.kn=function(){this.ev.kn()},t.sv=function(t){return je.zr&&lc(t,"http://")?t.replace(":","s:"):t},Re(t,null,[{key:"cv",get:function(){return t.fv||(t.fv=new t(new rl)),t.fv}}]),t}();function ol(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function sl(t,n){var i=je.Mr(t);return n&&!wc(i,"/")&&(i+="/"),i}ul.fv=void 0,Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt();var cl,fl=/cache:(.+)?(?=&|$)/;function al(t){if(!lc(t,"http://webcache.googleusercontent.com/search?q=cache:"))return"";var n=je.Lr(t).search.match(fl);return n&&n.length>1?n[1]:""}Te(),Vt(),Ne(),Te(),Vt(),Ne(),function(t){t.av="HttpOpenError",t.hv="HttpResponseError",t.vv="HttpTimeoutError"}(cl||(cl={}));var hl=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).dv=n,r}return Xe(n,t),Re(n,[{key:"Rh",get:function(){return this.dv}}]),n}(Uc);var vl=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.Ch),i)}return Xe(n,t),Re(n,[{key:"name",get:function(){return cl.av}}]),n}(hl);Te(),Vt(),Ne();var dl=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Rh,null!=e?e:function(t){return"Error while loading "+t.Rh.Ch+", status code "+t.kh}(n),i)||this).lv=n,r}return Xe(n,t),Re(n,[{key:"name",get:function(){return cl.hv}},{key:"wv",get:function(){return this.lv}}]),n}(hl);Te(),Vt(),Ne();var ll=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Ch+" timed out after "+t.$h+" seconds."}(n),i)}return Xe(n,t),Re(n,[{key:"name",get:function(){return cl.vv}}]),n}(hl);Te(),Vt();var wl=function(t,n){return(wl=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function gl(t,n){function i(){this.constructor=t}wl(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}var yl="object"==typeof i?i:"object"==typeof self?self:"object"==typeof global?global:null;var ml=function(){var t=yl.Blob;if(t)try{return new t,function(t,n){return new yl.Blob(t,n)}}catch(t){}var n=yl.BlobBuilder||yl.WebKitBlobBuilder||yl.MozBlobBuilder||yl.MSBlobBuilder;return n?function(t){return function(n,i){var e=new t;if(n)for(var r=0,u=n;r<u.length;r++){var o=u[r];e.append(o)}return e.getBlob(i&&i.type||"")}}(n):null}(),_l="function"==typeof Lt?Lt:void 0;function pl(t){return t&&"function"==typeof t.getReader}function bl(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&pl(i)}catch(t){return!1}}var kl=function(){function t(t,n){this.G=t,this.gv=n}return t.prototype.pull=function(t){var n=this;return this.G.read().then((function(i){n.gv&&n.gv(i),i.done?t.close():t.enqueue(i.value)}))},t.prototype.cancel=function(t){return this.G.cancel(t)},t}();function Tl(t,n){return n.constructor===t?n:new t(new kl(n.getReader()),{highWaterMark:0})}var Sl=function(){function t(t,n){this.yv=t,this.mv=n}return t.prototype.pull=function(t){return this.yv().then((function(n){t.enqueue(new y(n)),t.close()}))},t.prototype.cancel=function(t){this.mv&&this.mv(t)},t}();function El(t,n,i){return new t(new Sl(n,i),{highWaterMark:0})}var Il={searchParams:"URLSearchParams"in yl,iterable:"Symbol"in yl&&"iterator"in Symbol,blob:"FileReader"in yl&&!!ml,formData:"FormData"in yl,arrayBuffer:"ArrayBuffer"in yl,stream:bl(_l),streamRequest:"Request"in yl&&"body"in yl.Request.prototype,streamResponse:"Response"in yl&&"body"in yl.Response.prototype,abort:"AbortController"in yl&&"Request"in yl&&"signal"in yl.Request.prototype,encoding:"TextEncoder"in yl&&"TextDecoder"in yl,url:"URL"in yl&&function(t){try{return new yl.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in yl&&/Firefox\//.test(yl.navigator.userAgent)};function Rl(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function Nl(t){return"string"!=typeof t&&(t=String(t)),t}function Cl(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Il.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Ol=function(){function t(t){var n=this;this.Jr={};var i=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};!function(t){return t&&"function"==typeof t.forEach}(t)?!function(t){return Il.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach((function(i){n.append(i,t[i])})):Array.from(t).forEach(i):t.forEach(i)}return t.prototype.append=function(t,n){t=Rl(t),n=Nl(n);var i=t.toLowerCase();if(this.Jr.hasOwnProperty(i)){var e=this.Jr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Jr[i]=[t,n]},t.prototype.delete=function(t){var n=Rl(t).toLowerCase();delete this.Jr[n]},t.prototype.get=function(t){var n=Rl(t).toLowerCase();return this.Jr.hasOwnProperty(n)?this.Jr[n][1]:null},t.prototype.has=function(t){var n=Rl(t).toLowerCase();return this.Jr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Rl(t)).toLowerCase();this.Jr[i]=[t,Nl(n)]},t.prototype.forEach=function(t,n){for(var i in this.Jr)this.Jr.hasOwnProperty(i)&&t.call(n,this.Jr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(n,i){t.push(i)})),Cl(t)},t.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),Cl(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(n,i){t.push([i,n])})),Cl(t)},t.prototype.asList=function(){var t=[];for(var n in this.Jr)if(this.Jr.hasOwnProperty(n)){var i=this.Jr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Al(){}Il.iterable&&(Ol.prototype[Symbol.iterator]=Ol.prototype.entries);var Dl,Pl,xl,Bl=d.min,Ll=String.fromCharCode;function Ml(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=16384){var r=Bl(e+16384,n);i.push(Ll.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Fl(t){if(t>=55296&&t<=57343)throw new a("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ul(t,n){return t>>n&63|128}function Vl(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Fl(t),n.push(t>>12&15|224),n.push(Ul(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ul(t,12)),n.push(Ul(t,6))),n.push(63&t|128)):n.push(t)}function Hl(){if(xl>=Pl)throw new a("Invalid byte index");var t=255&Dl[xl];if(xl++,128==(192&t))return 63&t;throw new a("Invalid continuation byte")}function ql(){var t,n;if(xl>Pl)throw new a("Invalid byte index");if(xl===Pl)return!1;if(t=255&Dl[xl],xl++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Hl())>=128)return n;throw new a("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Hl()<<6|Hl())>=2048)return Fl(n),n;throw new a("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Hl()<<12|Hl()<<6|Hl())>=65536&&n<=1114111)return n;throw new a("Invalid UTF-8 detected")}var zl=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Wl(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function jl(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Gl(t){return t&&DataView.prototype.isPrototypeOf(t)}var Yl,Xl=ArrayBuffer.isView||function(t){return t&&(zl.indexOf(v.prototype.toString.call(t))>-1||Gl(t))};function $l(t){if(t.bodyUsed)return G.reject(new h("Already used"));t.bodyUsed=!0}function Kl(t){return new G((function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}}))}function Jl(t){return Il.encoding?new yl.TextDecoder("utf-8").decode(new y(t)):Ml(function(t){Pl=(Dl=t).length,xl=0;for(var n,i=[];!1!==(n=ql());)i.push(n);return i}(new y(t)))}function Zl(t){return Il.encoding?(new yl.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)Vl(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Ql(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?G.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function tw(t){return Ql(t).then((function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new y(n),u=0,o=0,s=t;o<s.length;o++){var c=s[o];r.set(c,u),u+=c.byteLength}return r}(t).buffer}))}function nw(t){return t.slice?t.slice(0):iw(new y(t))}function iw(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function ew(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}})),n}function rw(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n._v===Yl.pv){if(!n.bv.tee)throw new a("could not clone ReadableStream body");var i=n.bv.tee(),e=i[0],r=i[1];return n.body=e,n.bv=e,n.kv=e,r}return n._v===Yl.$a?nw(n.bv):n._v===Yl.ih?n.bv.then(rw):n.kv}!function(t){t[t.Za=0]="Za",t[t.Tv=1]="Tv",t[t.Sv=2]="Sv",t[t.$a=3]="$a",t[t.pv=4]="pv",t[t.ih=5]="ih"}(Yl||(Yl={}));var uw=function(){function t(n,i){this.bodyUsed=!1;var e=this;if(this.kv=n||null,n)if("string"==typeof n)this._v=Yl.Za,this.bv=n;else if(function(t){return t&&"function"==typeof t.then}(n))this._v=Yl.ih,this.bv=G.resolve(n).then((function(n){return new t(n,i)})),this.bv.catch(Al);else if(Il.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this._v=Yl.Tv,this.bv=n;else if(Il.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this._v=Yl.Sv,this.bv=n;else if(Il.searchParams&&Wl(n))this._v=Yl.Za,this.bv=n.toString();else if(Il.arrayBuffer&&(jl(n)||Xl(n)))Gl(n)&&(this.kv=function(t){return new y(t.buffer,t.byteOffset,t.byteLength)}(n)),this._v=Yl.$a,this.bv=function(t){return jl(t)?nw(t):iw(t)}(n);else{if(!Il.stream||!pl(n))throw new a("unsupported BodyInit type");n=Tl(_l,n),this._v=Yl.pv,this.bv=n,this.kv=n}else this._v=Yl.Za,this.bv="";this.Ev="",i.has("content-type")?this.Ev=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Ev="text/plain;charset=UTF-8":e._v===Yl.Tv&&e.bv.type?this.Ev=e.bv.type:Il.searchParams&&Wl(n)&&(this.Ev="application/x-www-form-urlencoded;charset=UTF-8"),this.Ev&&i.set("content-type",this.Ev)),Il.stream&&(null==n?this.body=null:e._v===Yl.pv?this.body=e.bv:this.body=El(_l,(function(){return e.arrayBuffer()}),(function(){e.bodyUsed=!0})))}return t.prototype.text=function(){var t=this,n=$l(t);return n||(t._v===Yl.Tv?function(t){var n=new FileReader,i=Kl(n);return n.readAsText(t),i}(t.bv):t._v===Yl.$a?G.resolve(t.bv).then(Jl):t._v===Yl.pv?function(t){return tw(t).then(Jl)}(t.bv):t._v===Yl.ih?t.bv.then((function(t){return t.text()})):t._v===Yl.Sv?G.reject(new a("could not read FormData body as text")):G.resolve(t.bv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Il.blob&&(uw.prototype.blob=function(){var t=this,n=$l(t);return n||(t._v===Yl.Tv?G.resolve(t.bv):t._v===Yl.$a?G.resolve(ml([t.bv],{type:t.Ev})):t._v===Yl.pv?function(t,n){return Ql(t).then((function(t){return ml(t,{type:n||""})}))}(t.bv,t.Ev):t._v===Yl.ih?t.bv.then((function(t){return t.blob()})):t._v===Yl.Sv?G.reject(new a("could not read FormData body as Blob")):G.resolve(ml([t.bv],{type:t.Ev})))}),Il.arrayBuffer&&(uw.prototype.arrayBuffer=function(){var t=this;return t._v===Yl.$a?$l(t)||G.resolve(t.bv):t._v===Yl.Tv?$l(t)||function(t){var n=new FileReader,i=Kl(n);return n.readAsArrayBuffer(t),i}(t.bv):t._v===Yl.pv?tw(t.bv):t._v===Yl.ih?$l(t)||t.bv.then((function(t){return t.arrayBuffer()})):t._v===Yl.Sv?G.reject(new a("could not read FormData body as ArrayBuffer")):G.resolve(t.bv).then(Zl)}),Il.formData&&(uw.prototype.formData=function(){var t=this;return t._v===Yl.Sv?$l(t)||G.resolve(t.bv):t.text().then(ew)});var ow=[301,302,303,307,308],sw=function(t){function n(n,i){var e=this,r=new Ol((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return gl(n,t),n.prototype.clone=function(){return new n(rw(this),{status:this.status,statusText:this.statusText,headers:new Ol(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===ow.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(uw);var cw=function(t,n){return t(n={exports:{}},n.exports),n.exports}((function(t,n){function i(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function s(t){return(s=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function c(t,n){return(c=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,n,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(e){var r=v.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){i(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){o((function(){return i.call(n,t)}))},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t;return i(this,n),(t=function(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?f(t):n}(this,s(n).call(this))).listeners||d.call(f(t)),v.defineProperty(f(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(f(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,t),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),a(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(d),w=function(){function t(){i(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w}));!function(t){t&&t.__esModule&&v.prototype.hasOwnProperty.call(t,"default")&&t.default}(cw);cw.AbortSignal;var fw=cw.AbortController,aw=yl.DOMException;try{new aw}catch(Me){(aw=function(t,n){a.call(this,t),this.name=n||"Error",a.captureStackTrace&&a.captureStackTrace(this,this.constructor)}).prototype=v.create(a.prototype),aw.prototype.constructor=aw}var hw=fw;function vw(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function dw(t,n,i){return new G((function(e,r){if(n.signal.aborted)return t.catch(Al),r(lw());var u=function(){n.signal.removeEventListener("abort",u),r(lw())};n.signal.addEventListener("abort",u),t.then((function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()}),(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()}))}))}function lw(){return new aw("Aborted","AbortError")}var ww,gw="moz-chunked-arraybuffer";function yw(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(ww||(ww={}));var mw=function(){function t(t,n){var i=this;this.Iv=!1,this.dv=t,this.Rv=n,this.Nv=new m,this.Cv=new G((function(t,n){i.Ov=t,i.Av=n}))}return t.prototype.send=function(){var t=this;return this.Dv().then((function(n){return t.Pv(n,t.Rv),t.Cv}))},t.prototype.Dv=function(){var t=this.dv;return t._v===Yl.pv?t.arrayBuffer():G.resolve(t.kv)},t.prototype.xv=function(t){this.dv.onprogress&&this.dv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Bv=function(t){this.Av(t)},t.prototype.Lv=function(){this.Bv(new h("Network request failed"))},t.prototype.Mv=function(){this.Bv(new h("Network request failed"))},t.prototype.Fv=function(){this.Bv(lw())},t.prototype.Pv=function(t,n){var i=this,e=this.dv,r=this.Nv,u=function(){return i.Uv()};if(e.signal.aborted)return this.Fv();r.onreadystatechange=function(){if(r.readyState>=ww.HEADERS_RECEIVED&&!i.Iv){var t=function(t){var n=new Ol;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}})),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Iv=!0,i.Vv(n)}},r.onprogress=function(t){return i.xv(t)},r.onload=function(){return i.Hv()},r.onerror=function(){return i.Lv()},r.ontimeout=function(){return i.Mv()},r.onabort=function(){return i.Fv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach((function(t,n){r.setRequestHeader(n,t)})),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.Uv=function(){this.Fv(),this.Nv.abort()},t}(),_w=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.qv=void 0,e.zv=void 0,e}return gl(n,t),n.prototype.Vv=function(t){var n=this;this.qv=new G((function(t,i){n.zv=t,n.Wv=i})),this.Ov(new sw(this.qv,t))},n.prototype.Hv=function(){var t=this.Nv.response;if(null==t){var n=this.Rv;""===n||"text"===n?t=this.Nv.responseText:"document"===n?t=this.Nv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=ml([]))}this.zv(t)},n.prototype.Bv=function(n){t.prototype.Bv.call(this,n),this.Wv&&this.Wv(n)},n}(mw),pw=function(t){function n(n){var i=t.call(this,n,gw)||this;return i.jv=void 0,i.Gv=void 0,i.Yv=!1,i}return gl(n,t),n.prototype.Vv=function(t){var n=this;this.jv=new _l({start:function(t){n.Gv=t},cancel:function(){n.Yv=!0,n.Uv()}}),this.Ov(new sw(this.jv,t))},n.prototype.xv=function(n){this.Yv||this.Gv.enqueue(new y(this.Nv.response)),t.prototype.xv.call(this,n)},n.prototype.Hv=function(){this.Gv.close()},n.prototype.Bv=function(n){t.prototype.Bv.call(this,n),this.Gv&&!this.Yv&&(this.Yv=!0,this.Gv.error(n))},n}(mw),bw=function(){var t=Il.firefox&&yw(gw);return bw=function(){return t},t},kw=function(){var t;return t=Il.arrayBuffer&&yw("arraybuffer")?"arraybuffer":Il.blob&&yw("blob")?"blob":"",kw=function(){return t},t};function Tw(t){return(Il.stream&&bw()?new pw(t):new _w(t,kw())).send()}var Sw=yl.fetch,Ew=yl.Request,Iw=(yl.Response,yl.AbortController);var Rw=["http:","https:"];var Nw=function(){try{if(Il.streamRequest){var t=new Ew("about:blank",{body:"",method:"POST"}).body;if(t&&bl(t.constructor))return t.constructor}}catch(t){}}();function Cw(t){return(t instanceof Ol?t:new Ol(t)).asList()}function Ow(t,n,i){var e;if(Il.stream){var r=void 0;if(Il.streamResponse){var u=t.body;r=u&&Tl(_l,u)}else r=El(_l,(function(){return dw(t.arrayBuffer(),n,!0)}),(function(){n.abort()}));r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new kl(n.getReader(),i),{highWaterMark:0})}(_l,t,(function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)}))}(r,i,Aw(t.headers))),e=r}else{var o=dw(t.arrayBuffer(),n,!0);i&&(o=function(t,n,i){return G.resolve().then((function(){return n(0,i),t})).then((function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t}))}(o,i,Aw(t.headers))),e=o}return new sw(e,t)}function Aw(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Dw(t){var n=new hw;return t.signal&&vw(n,t.signal),function(t,n){var i,e,r=t;if(i=r._v===Yl.pv?Il.streamRequest&&Nw?G.resolve(Tl(Nw,r.bv)):dw(t.arrayBuffer(),n,!1):dw(G.resolve(t.kv),n,!1),Il.abort){var u=new Iw;vw(u,n.signal),e=u.signal}return i.then((function(n){return new Ew(t.url,{body:n||void 0,credentials:t.credentials,headers:Cw(t.headers),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e})}))}(t,n).then((function(i){return Sw(i).then((function(i){return Ow(i,n,t.onprogress)}))}))}var Pw=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var xw=function(t){function n(i,e){var r,u,o,s,c,f,a,v,d,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new h("Already used");r=i.url,u=i.credentials,e.headers||(o=new Ol(i.headers)),s=i.method,c=i.mode,f=i.referrer,a=i.referrerPolicy,v=i.signal,d=i.onprogress,w||null==i.kv||(w=i.kv,i.bodyUsed=!0)}else r=String(i),u="same-origin",s="GET",c="cors",f="about:client",a="",v=null,d=null;if(!e.headers&&o||(o=new Ol(e.headers)),e&&(f="about:client",a=""),(l=t.call(this,w,o)||this).url=r,l.headers=o,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return Pw.indexOf(n)>-1?n:t}(e.method||s),l.mode=e.mode||c,l.signal=e.signal||v||(new hw).signal,l.referrer=void 0!==e.referrer?e.referrer:f,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:a,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return gl(n,t),n.prototype.clone=function(){return new n(this,{body:rw(this)})},n}(uw),Bw="function"==typeof Sw&&Il.stream&&Il.streamResponse&&Il.url;function Lw(t,n){return new G((function(i){var e=new xw(t,n);i((Bw&&function(t){try{return Rw.indexOf(new yl.URL(t,yl.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Dw:Tw)(e))}))}Lw.polyfill=!0;var Mw=function(){function t(t){this.Lf=new Hc,this.lv=void 0,this.Xv=!1,this.dv=t,this.Lf.Cu(t.Au),this.wv=this.$v()}var n=t.prototype;return n.$v=function(){var t=this;return Fs((function(){var n,i,e,r,u,s,c,f,a;return Vs(this,(function(h){switch(h.label){case 0:(n=t.dv).$h&&o((function(){t.Xv=!0,t.Lf.Nu()}),n.$h);try{i=Lw(n.Ch,{method:n.Xh,headers:n.Th.Qa(),body:n.ah,credentials:n.Qh?"include":"same-origin",signal:Vw(t.Lf.Au),onprogress:n.tv})}catch(t){throw new vl(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i];case 2:return e=h.sent(),[3,4];case 3:throw r=h.sent(),zc(u=t.Kv(r))&&t.Lf.Nu(),u;case 4:if(s=e.url||n.Ch,c=0===e.status&&"file:"===function(t){return je.Lr(t).protocol}(s)?200:e.status,f=new Fw(t,e,t.Lf),a=new il({Ah:f,Rh:n,Sh:n.Sh,Th:new Nd(e.headers.asList()),kh:c,Eh:e.statusText,Nh:s}),t.lv=a,Jd(a))return[2,a];throw new dl(a)}}))}))()},n.Kv=function(t){return zc(t)?this.Xv?new ll(this.dv):new qc(t.message,t):this.lv?new dl(this.lv,t):new vl(this.dv,t)},t}(),Fw=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).lh=new wa,r.Jv=n,r.Zv=i,r.Lf=e,r.lh.ko.catch(pr),r}Xe(n,t);var i=n.prototype;return i.gh=function(){return this.lh.ko},i.rh=function(t){return this.yh(this.Zv.text(),t)},i.oh=function(t){return this.yh(this.Zv.arrayBuffer(),t)},i.sh=function(){var t=this.Zv.body;return t?this.mh(t):Ld(this.oh().then(xd),this.Lf)},i.ph=function(){var t=this.Zv.clone(),i=Hs(this.Lf.Ou(),2),e=i[0],r=i[1];return this.Lf=e,new n(this.Jv,t,r)},i.yh=function(t,n){var i=this;n&&this.Lf.Cu(n);var e=G.resolve(t).catch((function(t){throw i.Jv.Kv(t)}));return e=Xc(e,this.Lf),this.lh.Cu(e.then(pr)),e},i.mh=function(t){var n=this,i=new Mt,e=G.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch((function(t){var e=n.Jv.Kv(t);throw i.writable.abort(e).catch(pr),e}));return e=Xc(e,this.Lf),this.lh.Cu(e.then(pr)),i.readable},Re(n,[{key:"bh",get:function(){return this.Zv.bodyUsed}}]),n}(Vd),Uw="abort";function Vw(t){var n=new hw;if(t.yu)n.abort();else if(!t.mu){var i=function(){e(),n.abort()},e=function(){n.signal.removeEventListener(Uw,i),t.Su(i),t.Iu(e)};n.signal.addEventListener(Uw,i),t.Tu(i),t.Eu(e)}return n.signal}Se(),Te(),Vt();var Hw,qw=function(){function t(){}var n=t.prototype;return n.Rh=function(t){return new Mw(t).wv},n.nv=function(t){if(be&&be.sendBeacon)be.sendBeacon(t.Ch,Td([t.ah],{type:t.fh}));else{var n=t.fh?{"Content-type":t.fh}:void 0;Jc(this.Rh(new el({Xh:Zd.POST,Ch:t.Ch,ah:t.ah,Th:n})))}},n.kn=function(){},t}();function zw(t){return 1===t.Qv}Te(),Vt(),Ne(),Te(),Vt(),function(t){t[t.td=1]="td",t[t.nd=2]="nd",t[t.Za=3]="Za",t[t.ed=4]="ed",t[t.rd=9]="rd"}(Hw||(Hw={})),Te(),Vt();var Ww=function(t){function n(n){return t.call(this,"Invalid XML",n)}return Xe(n,t),n}(Uc),jw=function(){function t(){}return t.prototype.ud=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Ww(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Ww;return new Zw(n)},t}(),Gw=function(){function t(t){this.od=t}var n=t.prototype;return n.sd=function(t){return this.od.isEqualNode(t.od)},n.fd=function(n){return new t(this.od.cloneNode(n))},Re(t,[{key:"Qv",get:function(){return Hw.nd}},{key:"hd",get:function(){var t;return null!=(t=this.od.localName)?t:ng(this.od.nodeName)}},{key:"vd",get:function(){return this.od.nodeName}},{key:"dd",get:function(){var t;return null!=(t=this.od.namespaceURI)?t:void 0}},{key:"ld",get:function(){var t;return null!=(t=this.od.prefix)?t:void 0}},{key:"wd",get:function(){return this.od.nodeValue}}]),t}(),Yw=function(){function t(t){this.gd=void 0,this.yd=t}var n=t.prototype;return n.md=function(t){return this._d.filter((function(n){return Qw(n)&&n.pd===t}))},n.bd=function(t,n){return this._d.filter((function(i){return Qw(i)&&i.hd===n&&i.dd===t}))},n.kd=function(t){this.yd.appendChild(t.Td),this.gd&&this.gd.push(t)},n.sd=function(t){return this.yd.isEqualNode(t.Td)},Re(t,[{key:"_d",get:function(){return void 0===this.gd&&(this.gd=function(t){for(var n=[],i=0;i<t.length;i++){var e=tg(t.item(i));e&&n.push(e)}return n}(this.yd.childNodes)),this.gd}},{key:"Sd",get:function(){return this._d.filter(Qw)}},{key:"Td",get:function(){return this.yd}}]),t}(),Xw=function(t){function n(n){return t.call(this,n)}Xe(n,t);var i=n.prototype;return i.Ed=function(t){if(this.yd.hasAttribute(t))return this.yd.getAttribute(t)},i.Id=function(t,n){if(this.yd.hasAttributeNS(t,n))return this.yd.getAttributeNS(t,n)},i.Rd=function(t){this.yd.removeAttribute(t)},i.Nd=function(t,n){this.yd.removeAttributeNS(t,n)},i.Cd=function(t,n){this.yd.setAttribute(t,n)},i.Od=function(t,n,i){this.yd.setAttributeNS(t,n,i)},i.fd=function(t){return new n(this.yd.cloneNode(t))},Re(n,[{key:"Qv",get:function(){return Hw.td}},{key:"hd",get:function(){var t;return null!=(t=this.yd.localName)?t:ng(this.yd.nodeName)}},{key:"dd",get:function(){var t;return null!=(t=this.yd.namespaceURI)?t:void 0}},{key:"ld",get:function(){var t;return null!=(t=this.yd.prefix)?t:void 0}},{key:"pd",get:function(){return this.yd.nodeName}},{key:"Ad",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Gw(t.item(i)));return n}(this.yd.attributes)}},{key:"Dd",get:function(){return this.yd.textContent}}]),n}(Yw),$w=function(){function t(t){this.yd=t}return t.prototype.sd=function(t){return this.Ah===t.Ah},Re(t,[{key:"Ah",get:function(){return this.yd.nodeValue}},{key:"Td",get:function(){return this.yd}}]),t}(),Kw=function(t){function n(n){return t.call(this,n)}return Xe(n,t),n.prototype.fd=function(t){return new n(this.yd.cloneNode(t))},Re(n,[{key:"Qv",get:function(){return Hw.Za}}]),n}($w),Jw=function(t){function n(n){return t.call(this,n)}return Xe(n,t),n.prototype.fd=function(t){return new n(this.yd.cloneNode(t))},Re(n,[{key:"Qv",get:function(){return Hw.ed}}]),n}($w),Zw=function(t){function n(n){return t.call(this,n)}return Xe(n,t),n.prototype.fd=function(t){return new n(this.yd.cloneNode(t))},Re(n,[{key:"Qv",get:function(){return Hw.rd}},{key:"Pd",get:function(){return new Xw(this.yd.documentElement)}}]),n}(Yw);function Qw(t){return zw(t)}function tg(t){switch(t.nodeType){case Hw.td:return new Xw(t);case Hw.Za:return new Kw(t);case Hw.ed:return new Jw(t)}}function ng(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var ig,eg=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).xd=void 0,n.Bd=rg(),n.Ld=ug(),n.Md=og(),n.Fd=void 0,n.Ud=new jw,n}return Xe(n,t),n.prototype.ud=function(t){return this.Ud.ud(t)},Re(n,[{key:"Nr",get:function(){return this.xd||(this.xd=new Tc(_d())),this.xd}},{key:"Vd",get:function(){return this.Bd}},{key:"Hd",get:function(){return this.Ld}},{key:"qd",get:function(){return this.Md}},{key:"zd",get:function(){return!1}},{key:"Wd",get:function(){return bd.sa()}},{key:"jd",get:function(){return{Gd:Sd}}},{key:"Yd",get:function(){return u.connection&&u.connection.effectiveType||Rd}},{key:"Xd",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"$d",get:function(){return this.Fd||(this.Fd=new ul(new qw)),this.Fd}}]),n}(Bs);function rg(){if(sr.Hi)return!1;try{return"body"in self.Response.prototype}catch(t){return!1}}function ug(){return sr.ve||sr.Hi}function og(){return(sr.ve||sr.Hi)&&!(sr.$i&&sr.Ki<3)}$e(new eg),Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Ne(),Fe(),Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),function(t){t.Kd="Jd",t.Zd="Qd"}(ig||(ig={})),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Ne();var sg=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).tl=void 0,e}return Xe(n,t),Re(n,[{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}}]),n}(of);function cg(t){return Boolean(t&&t.nl)}var fg=function(t){function n(n){return t.call(this,n)}return Xe(n,t),n}(sg),ag=function(t){function n(n){return t.call(this,n)}return Xe(n,t),n}(of),hg=function(t){function n(n){var i;return(i=t.call(this,ig.Kd)||this).ul=n,i}return Xe(n,t),n.prototype.il=function(){return new vg(this.ul.nl)},n}(fg),vg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return Xe(n,t),n}(ag);Te(),Vt();var dg,lg=function(t){function n(n){var i;return(i=t.call(this,ig.Zd)||this).ul=n,i}return Xe(n,t),n.prototype.il=function(){return new wg(this.ul.nl)},n}(fg),wg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return Xe(n,t),n}(ag);Te(),Vt(),function(t){t.ol="sl",t.cl="fl",t.al="hl",t.vl="dl",t.ll="wl",t.gl="yl",t.ml="_l",t.pl="bl",t.kl="Gc",t.Tl="Sl",t.El="Il",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(dg||(dg={}));var gg=function(t){function n(){var n;return(n=t.call(this)||this).Rl=[],n.tl=void 0,n}Xe(n,t);var i=n.prototype;return i.Nl=function(t){return this.Rl[t]},i.Cl=function(t){return!(!t||Lc(this.Rl,t))&&(this.Rl.push(t),this.tl&&this.tl.push(t.nl),t.Fu(dg.gl,this.Bu),this.Lu(new hg(t)),!0)},i.Ol=function(t){if(!t)return!1;var n=this.Rl.indexOf(t);return!(n<0)&&(xc(this.Rl,n),this.tl&&xc(this.tl,n),t.qu(dg.gl,this.Bu),this.Lu(new lg(t)),!0)},i.Al=function(t){return Lc(this.Rl,t)},i.uf=function(){for(var t=this.Rl,n=t.length-1;n>=0;n-=1)this.Ol(t[n])},i.kn=function(){this.uf(),this.Hu()},Re(n,[{key:"Dl",get:function(){return this.Rl}},{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}},{key:"Pl",get:function(){return this.Rl.length}}]),n}(ef);Te(),Vt();var yg=function(t){function n(n){var i;return(i=t.call(this,dg.gl)||this).ul=n,i}return Xe(n,t),n.prototype.il=function(){return new mg(this.ul.nl)},n}(fg),mg=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return Xe(n,t),n}(ag),_g=function(t){function n(){var n;return(n=t.call(this)||this).xl=void 0,n.Bl=function(t){var i=t.ul;n.Cl(i)},n.Ll=function(t){var i=t.ul;n.Ol(i)},n}Xe(n,t);var i=n.prototype;return i.Ml=function(t){t.Fu(ig.Kd,this.Bl),t.Fu(ig.Zd,this.Ll)},i.Fl=function(t){t.qu(ig.Kd,this.Bl),t.qu(ig.Zd,this.Ll)},i.kn=function(){this.xl&&this.xl.kn(),t.prototype.kn.call(this)},Re(n,[{key:"Ul",get:function(){return this.xl},set:function(t){var n=this.xl;if(t!==n){if(n){this.Fl(n);for(var i=0,e=n.Dl;i<e.length;i++){var r=e[i];t&&t.Al(r)||this.Ol(r)}}if(this.xl=t,t){for(var u=[],o=0,s=t.Dl;o<s.length;o++){var c=s[o];this.Cl(c),this.Vl(c)&&u.push(c)}this.Ml(t);for(var f=0;f<u.length;f++){var a=u[f];a.Lu(new yg(a))}}}}}]),n}(gg);Te(),Vt(),Te(),Vt(),Te(),Vt();var pg=v.freeze||br;function bg(t,n,i){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function kg(t,n){for(var i=0,e=v.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function Tg(t){if(wr(t)){var n={};for(var i in t)cr.call(t,i)&&(n[i]=Tg(t[i]));return n}if(vr(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Tg(t[r]));return e}return t}function Sg(t,n){return t===n||!(!t||!n)&&(!(!lr(t)||!lr(n))&&(dr(t)?!!dr(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Sg(t[r],n[r]))return!1;return!0}(t,n):!dr(n)&&function(t,n){var i=v.keys(t),e=v.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!cr.call(n,u)||!Sg(t[u],n[u]))return!1}return!0}(t,n)))}function Eg(t,n){return t.constructor===n.constructor}function Ig(t){for(var n={},i=0,e=v.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function Rg(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Ng(t){return ar(t)?Rg(t):void 0}function Cg(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Og(t){var n=Cg(t);if(g(n))throw new a("Expected a valid number.");return n}function Ag(t){return"string"==typeof t?t:""}function Dg(t,n){if(!dr(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Pg(t,n){return dr(t)?Dg(t,n):n(t)}Te(),Vt();var xg,Bg=[ig.Kd,ig.Zd,dg.gl];function Lg(t){var n,i=t.Dl.map((function(t){return t.nl}));return i.item=function(n){var i=0|n,e=t.Nl(i);return e&&e.nl||void 0},i.addEventListener=function(t,i){n.Fu(t,i)},i.removeEventListener=function(t,i){n.qu(t,i)},n=new rf(i),t.Fu(Bg,(function(t){return n.Lu(t.nl)})),i}function Mg(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function Fg(){}function Ug(t){var n,i=[dg.kl,dg.gl,dg.Tl,dg.El,dg.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.Hl&&t.Hl.nl},get enabled(){return t.ql},set enabled(n){t.ql=Rg(n)},get id(){return t.zl},get uid(){return t.Wl},get kind(){return t.jl},get label(){return t.Gl},set label(n){t.Gl=Ag(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.Yl)?void 0:n.map(Mg))?i:[]},get language(){return t.Xl},get qualities(){return t.$l.nl},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.$l.Dl;e<r.length;e++)for(var u=r[e],o=0;o<n.length;o++){var s=n[o];u.nl===s&&i.push(u)}return i}(t,vr(n)?n:[n]):[]).length>0?t.Kl=i:t.Kl=void 0},get targetQuality(){if(t.Kl)return 1===t.Kl.length?t.Kl[0].nl:t.Kl.map((function(t){return t.nl}))},addEventListener:function(t,i){var e=Pg(t,Ag);n.Fu(e,i)},removeEventListener:function(t,i){var e=Pg(t,Ag);n.qu(e,i)}};return n=new rf(e),t.Fu(i,(function(t){return n.Lu(t.nl)})),v.defineProperty(e,"constructor",{value:Fg}),e}function Vg(){}function Hg(t){var n=Lg(t);return v.defineProperty(n,"constructor",{value:Vg}),n}Te(),Vt(),function(t){t[t.Jl=0]="Jl",t[t.Zl=1]="Zl",t[t.Ql=2]="Ql",t[t.tw=3]="tw",t[t.nw=4]="nw",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.iw=7]="iw"}(xg||(xg={}));var qg,zg,Wg=function(t){function n(){return t.apply(this,arguments)}Xe(n,t);var i=n.prototype;return i.il=function(){return Hg(this)},i.Vl=function(t){return t.ql},n}(_g);function jg(){}function Gg(t){var n,i=[dg.gl,dg.kl,dg.ol,dg.cl,dg.al,dg.vl,dg.ll,dg.ml,dg.pl],e=[zg.ew],r={get kind(){return t.jl},get label(){return t.Gl},set label(n){t.Gl=Ag(n)},get language(){return t.Xl},get id(){return t.zl},get uid(){return t.Wl},get inBandMetadataTrackDispatchType(){return t.rw},get mode(){return t.uw},set mode(n){n!==qg.ow&&n!==qg.sw&&n!==qg.cw||t.fw(n)},get forced(){return Boolean(t.aw)},get accessibility(){var n,i;return null!=(i=null==(n=t.Yl)?void 0:n.map(Mg))?i:[]},get type(){return t.eu},get readyState(){return t.hw},get cues(){return t.uw===qg.cw?null:t.dw.nl},get activeCues(){return t.uw===qg.cw?null:t.lw.nl},get src(){return t.ww||""},addEventListener:function(t,i){var e=Pg(t,Ag);n.Fu(e,i)},removeEventListener:function(t,i){var e=Pg(t,Ag);n.qu(e,i)}};return n=new rf(t),t.Fu(i,(function(t){return n.Lu(t.nl)})),t.Fu(e,(function(t){return n.Lu(t)})),v.defineProperty(r,"constructor",{value:jg}),r}function Yg(){}function Xg(t){var n=Lg(t);return v.defineProperty(n,"constructor",{value:Yg}),n}Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.cw="disabled",t.sw="hidden",t.ow="showing"}(qg||(qg={})),Te(),Vt(),function(t){t.ew="error"}(zg||(zg={}));var $g=function(t){function n(){return t.apply(this,arguments)}Xe(n,t);var i=n.prototype;return i.il=function(){return Xg(this)},i.Vl=function(t){return t.uw===qg.ow},n}(_g);Te(),Vt();var Kg=function(t){function n(){return t.apply(this,arguments)}Xe(n,t);var i=n.prototype;return i.Vu=function(n){t.prototype.Vu.call(this,n)},i.ju=function(n){t.prototype.ju.call(this,n)},n}(ef),Jg=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n}(Kg);Te(),Vt();var Zg=function(t){function n(){return t.call(this,Ed._a)}return Xe(n,t),n}(of);Te(),Vt();var Qg=function(t){function n(n){var i;return(i=t.call(this,Ed.la)||this).currentSource=n,i}return Xe(n,t),n}(of);function ty(t,n,i){return n in t?v.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt();var ny="theoplayer-stored-network-info-v2",iy=function(){function t(){var t=this;this.gw=Rd,this.yw=void 0,this.mw=function(t,n){var i=-1/0;return function(){for(var e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];var o=je.mr();o-i>=n&&(t.apply(this,r),i=o)}}((function(){var n,i=ty({},t.gw,{availableBandwidth:t.yw,storedTimestamp:cu()});null==(n=je.Wd)||n.oa(ny,JSON.stringify(i))}),1e4)}var n=t.prototype;return n._w=function(t){var n,i=null==(n=je.Wd)?void 0:n.co(t);if(void 0!==i){var e=JSON.parse(i);if(void 0!==e&&void 0!==e[this.gw]){if(!this.pw(e))return e[this.gw].availableBandwidth;var r;null==(r=je.Wd)||r.oa(t,JSON.stringify({}))}}},n.bw=function(){var t=this._w(ny);if(void 0!==t)return t;var n=this._w("theoplayer-stored-network-info");return n?8*n:void 0},n.pw=function(t){var n=t[this.gw].storedTimestamp;return!!n&&cu()-n>36e5},n.kw=function(t){this.yw=t,this.mw()},n.Tw=function(){var t;return null!=this.yw||(this.yw=null!=(t=this.bw())?t:25e5),this.yw},t}();iy.ke=new iy,Te(),Vt(),Te(),Vt();var ey,ry,uy,oy,sy,cy,fy,ay="1ADD53F3";function hy(t){return{chromecast:function(t){return{appID:t&&t.appID?Ag(t.appID):ay}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return"auto";case"manual":return"manual";case"disabled":return"disabled";default:return"manual"}}(t?t.strategy:void 0)}}function vy(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}function dy(t){var n=uy.Sw;return function(t){return!!t&&dc(t,"mpd")}(t)&&(n=uy.Ew),function(t){return!!t&&dc(t,"m3u8")}(t)&&(n=uy.Iw),n}function ly(t){return lr(t)&&lr(t.ssai)&&"google-dai"===t.ssai.integration}function wy(t){return lr(t)&&gr(t.integration)&&"verizon-media"===t.integration}function gy(t){return lr(t)&&gr(t.integration)&&"mediatailor"===t.integration}function yy(t){if(gr(t))return!t;if(wy(t))return!t.id;if(ly(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function my(t){return Boolean(lr(t)&&gr(t.src))}function _y(t){return t.type===uy.Rw||t.type===uy.Nw}function py(t){return gr(t)||my(t)||ly(t)||wy(t)}function by(t){if(t){if(py(t))return yy(t);for(var n=0;n<t.length;n++){if(!yy(t[n]))return!1}return!0}return!0}function ky(){return{crossOrigin:ry.Cw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[]}}function Ty(){return Us({},ky(),{src:void 0,type:uy.Sw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Sy(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:oy.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return sy.NONE;case"midroll-and-postroll":default:return sy.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Rg(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return oy.INSECURE;case"disabled":return oy.DISABLED;case"enabled":default:return oy.ENABLED}}(t.vpaidMode)),vr(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(gr)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:Rg(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1};var n}(t.googleIma))),n}function Ey(t){if(!dr(t))return[];for(var n=[],i=0;i<t.length;i++){var e=t[i];wr(e)&&n.push(e)}return n}function Iy(t){return gr(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ey||(ey={})),Te(),Vt(),Te(),Vt(),function(t){t.Cw="",t.Ow="anonymous",t.Aw="use-credentials"}(ry||(ry={})),function(t){t.Ew="application/dash+xml",t.Iw="application/vnd.apple.mpegurl",t.Dw="application/x-mpegurl",t.Sw="video/mp4",t.Rw="application/vnd.theoplayer.hesp+json",t.Nw="application/vnd.theo.hesp+json"}(uy||(uy={})),Te(),Vt(),Te(),Vt(),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(oy||(oy={})),Te(),Vt(),Te(),Vt(),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(sy||(sy={})),Te(),Vt(),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(cy||(cy={})),Te(),Vt(),Te(),Vt(),function(t){t[t.Pw=0]="Pw",t[t.xw=1]="xw",t[t.Bw=2]="Bw",t[t.Lw=3]="Lw",t[t.Mw=4]="Mw"}(fy||(fy={}));var Ry=function(t){function n(n,i){var e;return void 0===i&&(i=fy.Pw),(e=t.call(this,Ed.ya)||this).currentTime=n,e.readyState=i,e}return Xe(n,t),n}(of);Te(),Vt();var Ny=function(t){function n(n){var i;return(i=t.call(this,Ed.Oa)||this).currentTime=n,i}return Xe(n,t),n}(of);Te(),Vt();var Cy,Oy=function(t){function n(n){var i;return(i=t.call(this,Ed.Aa)||this).currentTime=n,i}return Xe(n,t),n}(of);Te(),Vt(),Te(),Vt(),function(t){t.Fw="canplay",t.Uw="canplaythrough",t.Vw="loadeddata",t.Hw="loadedmetadata",t.ml="readystatechange",t.qw="waiting",t.zw="playing"}(Cy||(Cy={}));var Ay=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"],Dy=function(t){function n(n,i){var e;return void 0===i&&(i=fy.xw),(e=t.call(this,Cy.Hw)||this).currentTime=n,e.readyState=i,e}return Xe(n,t),n}(of);Te(),Vt();var Py=function(t){function n(n){var i;return(i=t.call(this,Ed.ga)||this).duration=n,i}return Xe(n,t),n}(of);Te(),Vt();var xy=function(t){function n(n,i){var e;return(e=t.call(this,Ed.Pa)||this).currentTime=n,e.playbackRate=i,e}return Xe(n,t),n}(of);Te(),Vt();var By=function(t){function n(n,i){var e;return(e=t.call(this,Ed.Wa)||this).currentTime=n,e.currentProgramDateTime=i,e}return Xe(n,t),n}(of);Te(),Vt();var Ly=function(t){function n(n){var i;return(i=t.call(this,Ed.ma)||this).currentTime=n,i}return Xe(n,t),n}(of);Te(),Vt();var My=function(t){function n(n,i){var e;return void 0===i&&(i=fy.Bw),(e=t.call(this,Cy.Vw)||this).currentTime=n,e.readyState=i,e}return Xe(n,t),n}(of);Te(),Vt();var Fy=function(t){function n(n){var i;return(i=t.call(this,Ed.Ma)||this).currentTime=n,i}return Xe(n,t),n}(of);Te(),Vt();var Uy=function(t){function n(n){var i;return(i=t.call(this,Ed.La)||this).currentTime=n,i}return Xe(n,t),n}(of);Te(),Vt();var Vy=function(t){function n(n,i){var e;return(e=t.call(this,Ed.ja)||this).currentTime=n,e.volume=i,e}return Xe(n,t),n}(of);Te(),Vt();var Hy=function(t){function n(n,i){var e;return void 0===i&&(i=fy.Lw),(e=t.call(this,Cy.Fw)||this).currentTime=n,e.readyState=i,e}return Xe(n,t),n}(of);Te(),Vt();var qy=function(t){function n(n,i){var e;return void 0===i&&(i=fy.Mw),(e=t.call(this,Cy.Uw)||this).currentTime=n,e.readyState=i,e}return Xe(n,t),n}(of);Te(),Vt();var zy=function(t){function n(n,i){var e;return(e=t.call(this,Cy.ml)||this).currentTime=n,e.readyState=i,e}return Xe(n,t),n}(of);Te(),Vt(),Ne();var Wy=function(t){function n(n){var i;return(i=t.call(this,zg.ew)||this).errorObject=n,i}return Xe(n,t),n.prototype.il=function(){return this},Re(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(sg);Te(),Vt();var jy,Gy,Yy={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function Xy(t){if(ar(t))return $y(Dg(null==t?void 0:t.preferredAudioCodecs,Ag),Dg(null==t?void 0:t.preferredVideoCodecs,Ag),Ng(null==t?void 0:t.restrictToPlayerSize))}function $y(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function Ky(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function Jy(t){switch(t){case"all":case"content":return t;default:return"none"}}function Zy(t){var n=Tg(t||{});return n.libraryLocation&&(n.libraryLocation=sl(n.libraryLocation,!0)),n.isEmbeddable=Boolean(n.isEmbeddable),n.cast=hy(n.cast),n.ads=Sy(n.ads),n.analytics=Ey(n.analytics),n.mutedAutoplay=Jy(n.mutedAutoplay),n.allowNativeFullscreen=Boolean(n.allowNativeFullscreen),n.allowMixedContent=Boolean(n.allowMixedContent),n.persistVolume=Boolean(n.persistVolume),n.liveOffset=function(t){return Number(t)||void 0}(n.liveOffset),n.hlsDateRange=function(t){return Boolean(t)}(n.hlsDateRange),n.retainPlaybackRateOnSourceChange=Boolean(n.retainPlaybackRateOnSourceChange),n.license=function(t){return gr(t)?t:void 0}(n.license),n.licenseUrl=function(t){if(!t)return;try{return sl(t)}catch(t){return void je.pr("Invalid 'licenseUrl', falling back to default URL")}}(n.licenseUrl),n.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(n.vr),n.abr=Xy(n.abr),n.retryConfiguration=function(t){var n=Us({},Yy);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(n.retryConfiguration),n.hideDeprecationWarnings=Boolean(n.hideDeprecationWarnings),n}function Qy(t){return{Ww:t.Ww,jw:t.jw,Gw:t.Gw,Zu:t.Zu,Yw:t.Yw,Xw:t.Xw,$w:t.$w,Kw:t.Kw,hw:t.hw,Jw:t.Jw,Zw:t.Zw,Qw:t.Qw,tg:t.tg}}function tm(t,n,i){if(n!==i){var e=n.Ww,r=n.jw,u=n.Xw,o=n.$w,s=n.Kw,c=n.hw,f=n.Jw,a=(n.Qw,n.Zw,n.tg),h=i.Ww,v=i.jw,d=i.Gw,l=i.Yw,w=i.Xw,y=i.$w,m=i.Kw,_=i.hw,p=i.Jw,b=(i.Qw,i.Zw,i.tg);c!==fy.Pw&&t.Lu(new Ry(h,_)),y&&!o?t.Lu(new Ny(h)):!y&&o&&t.Lu(new Oy(h)),_>=fy.xw&&t.Lu(new Dy(h,_)),v===r||g(v)&&g(r)||t.Lu(new Py(v)),m!==s&&t.Lu(new xy(h,m)),h!==e&&t.Lu(new By(h,void 0)),d&&t.Lu(new Ly(h)),_>=fy.Bw&&t.Lu(new My(h,_)),p&&!f?t.Lu(new Fy(h)):!p&&f&&t.Lu(new Uy(h)),b===a&&w===u||t.Lu(new Vy(h,b)),_>=fy.Lw&&t.Lu(new Hy(h,_)),_>=fy.Mw&&t.Lu(new qy(h,_)),_!==c&&t.Lu(new zy(h,_)),l&&t.Lu(new Wy(l))}}Te(),Vt(),Te(),Vt(),function(t){t.jh="audio",t.Gh="video",t.Za="text",t.Yh="image",t.Dh="unknown"}(jy||(jy={})),function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Gy||(Gy={})),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Te(),Vt();var nm=.25,im={ng:.2,ig:.45,eg:.7,rg:3,ug:fm,og:am},em={ng:.4,ig:.65,eg:1,rg:3,ug:fm,og:am},rm={ng:.4,ig:.7,eg:.9,rg:3,ug:fm,og:am},um={ng:.4,ig:.65,eg:1,rg:3,ug:fm,og:am},om={ng:.5,ig:1.125,eg:1.75,rg:2.55,ug:fm,og:am};function sm(){var t;return t=je.Ur.Qe?um:je.Ur.ir?em:je.Ur.nr?"Android"===je.Vr.Hr?rm:im:om,je.Vr.qr?function(t){if(je.Vr.qr){var n=d.max(.65,t.ng),i=d.max(n+nm,t.ig),e=d.max(i+nm,t.eg);return{ng:n,ig:i,eg:e,rg:d.max(e+nm,t.rg),ug:fm,og:am}}return t}(t):t}Te(),Vt(),Te(),Vt();var cm,fm=.92,am=1.08;function hm(t){return{goLive:function(){return t.sg()},get isLive(){return t.cg},get currentServerLiveTime(){return t.fg},get currentLatency(){return t.ag},get latencies(){return t.hg},get latency(){return t.vg},set latency(n){if(!function(t){if(!lr(t))return!1;var n=t,i=ar(n.target)&&"number"==typeof n.target&&ar(n.windowEnd)&&"number"==typeof n.windowEnd&&ar(n.windowStart)&&"number"==typeof n.windowStart&&ar(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new a("Invalid latency configuration");t.vg=n},get manifest(){return t.dg},addEventListener:function(n,i){t.Fu(dm(n),i)},removeEventListener:function(n,i){t.qu(dm(n),i)}}}!function(t){t[t.cw=0]="cw",t[t.lg=1]="lg",t[t.wg=2]="wg"}(cm||(cm={}));var vm=["golive","latencyrecoveryseek"];function dm(t){var n=Pg(t,Ag);return(gr(n)?[n]:n).filter((function(t){return Lc(vm,t)}))}var lm=function(t){function n(){var n;return(n=t.call(this)||this).xl=void 0,n.tl=void 0,n.gg=function(t){return{windowStart:t.ng,windowEnd:t.eg,target:t.ig,maxOffset:t.rg}}(sm()),n.xl=void 0,n}Xe(n,t);var i=n.prototype;return i.Ml=function(t){t.Fu(vm,this.Bu)},i.Fl=function(t){t.qu(vm,this.Bu)},i.sg=function(){var t;null==(t=this.xl)||t.sg()},i.kn=function(){this.Hu(),this.xl&&this.Fl(this.xl),this.xl=void 0},Re(n,[{key:"Ul",get:function(){return this.xl},set:function(t){var n=this.xl;t!==n&&(n&&this.Fl(n),t&&this.Ml(t),this.xl=t,this.xl&&(this.xl.vg=this.gg))}},{key:"nl",get:function(){return this.tl||(this.tl=hm(this)),this.tl}},{key:"fg",get:function(){var t;return null==(t=this.xl)?void 0:t.fg}},{key:"ag",get:function(){var t;return null==(t=this.xl)?void 0:t.ag}},{key:"hg",get:function(){var t;return null==(t=this.xl)?void 0:t.hg}},{key:"cg",get:function(){return!!this.xl&&this.xl.cg}},{key:"vg",get:function(){return this.xl?this.xl.vg:this.gg},set:function(t){this.xl&&(this.xl.vg=t),this.gg=t}},{key:"dg",get:function(){var t;return null==(t=this.xl)?void 0:t.dg}}]),n}(ef),wm=function(t){function n(n){var i;return(i=t.call(this)||this).yg=[],i.mg=!1,i._g=new Wg,i.pg=new Wg,i.bg=new $g,i.kg=new lm,i.Tg=!1,i.Sg(n),n.Vu(i.Bu),i.xl=n,i._g.Ul=n.Eg,i.pg.Ul=n.Ig,i.bg.Ul=n.Rg,i.kg.Ul=n.Ng,i}Xe(n,t);var i=n.prototype;return i.gn=function(){this.xl.gn()},i.yn=function(){this.xl.yn()},i.Cg=function(){var t=this;return Fs((function(){return Vs(this,(function(n){return[2,Zc(t.yg.map((function(t){return t.Cg()}))).then(pr)]}))}))()},i.Og=function(){return this.xl.Og()},i.Ag=function(t,n){var i=this;return Fs((function(){return Vs(this,(function(e){switch(e.label){case 0:return Wc(n),[4,i.xl.Ag(t,n)];case 1:return e.sent(),[2]}}))}))()},i.Dg=function(){return this.Ul.Dg()},i.Pg=function(){this.Ul.Pg()},i.xg=function(){this.Ul.xg()},i.En=function(){if(!this.mg){for(var t=0,n=this.yg;t<n.length;t++){n[t].En()}this.mg=!0}},i.Bg=function(t){this.xl.Bg(t)},i.Lg=function(){this.xl.Lg()},i.Mg=function(){this.xl.Mg()},i.Fg=function(){this.xl.Fg()},i.Ug=function(){return this.xl.Ug()},i.Vg=function(){return this.xl.Vg()},i.Hg=function(){for(var t=[],n=0,i=this.yg;n<i.length;n++){var e,r=i[n];(e=t).push.apply(e,Le(r.Hg()))}return t},i.qg=function(t){for(var n=!1,i=0,e=this.yg;i<e.length;i++){n=e[i].qg(t)||n}return n},i.Lu=function(n){this.qg(n)||t.prototype.Lu.call(this,n)},i.Sg=function(t){this.yg.push(t)},i.zg=function(t){Pc(this.yg,t)},i.Wg=function(t){if(t!==this.xl){var n=this.xl;n.Lg(),n.ju(this.Bu);var i=Qy(this),e=this.jg,r=this.Vg();this.xl=t,this._g.Ul=t.Eg,this.pg.Ul=t.Ig,this.bg.Ul=t.Rg,this.kg.Ul=t.Ng,tm(this,i,this);var u=this.jg;u!==e&&this.Lu(new Qg(u)),this.Vg()!==r&&this.Lu(new Zg),t.Vu(this.Bu),t.Bg(n)}},i.Gg=function(){},i.Yg=function(){this.xl.Yg()},i.kn=function(){var t=this;return Fs((function(){var n,i;return Vs(this,(function(e){switch(e.label){case 0:t.Hu(),t.xl.Lg(),n=0,i=t.yg,e.label=1;case 1:return n<i.length?[4,i[n].kn()]:[3,4];case 2:e.sent(),e.label=3;case 3:return n++,[3,1];case 4:return t._g.kn(),t.pg.kn(),t.bg.kn(),t.kg.kn(),[2]}}))}))()},i.uf=function(){var t=this;return Fs((function(){return Vs(this,(function(n){return[2,Zc(t.yg.map((function(t){return t.uf()}))).then(pr)]}))}))()},Re(n,[{key:"Eg",get:function(){return this._g}},{key:"Rg",get:function(){return this.bg}},{key:"Ig",get:function(){return this.pg}},{key:"Xg",get:function(){return this.xl.Xg}},{key:"$g",get:function(){return this.xl.$g},set:function(t){this.xl.$g=t}},{key:"jg",get:function(){return this.xl.jg}},{key:"Ww",get:function(){return this.xl.Ww},set:function(t){this.xl.Ww=t}},{key:"jw",get:function(){return this.xl.jw}},{key:"Kg",get:function(){return this.xl.Kg}},{key:"Gw",get:function(){return this.xl.Gw}},{key:"Zu",get:function(){return this.xl.Zu}},{key:"Yw",get:function(){return this.xl.Yw}},{key:"Ng",get:function(){return this.kg}},{key:"Jg",get:function(){return this.xl.Jg}},{key:"Zg",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var c=t[s];n+=c.Qg,i+=c.ty,e+=c.ny,r+=c.iy,u+=c.ey,o.amountOfBufferedAudioSegments+=c.uy.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=c.uy.amountOfBufferedVideoSegments}return{Qg:n,ty:i,ny:e,iy:r,ey:u,uy:o}}(this.yg.map((function(t){return t.Zg})))}},{key:"Xw",get:function(){return this.xl.Xw},set:function(t){this.xl.Xw=t}},{key:"oy",get:function(){return this.xl.oy}},{key:"$w",get:function(){return this.xl.$w}},{key:"Kw",get:function(){return this.xl.Kw},set:function(t){this.xl.Kw=t}},{key:"sy",get:function(){return this.xl.sy}},{key:"hy",get:function(){return this.xl.hy},set:function(t){this.xl.hy=t}},{key:"hw",get:function(){return this.xl.hw}},{key:"vy",get:function(){return this.xl.vy}},{key:"Jw",get:function(){return this.xl.Jw}},{key:"Zw",get:function(){return this.xl.Zw}},{key:"Qw",get:function(){return this.xl.Qw}},{key:"tg",get:function(){return this.xl.tg},set:function(t){this.xl.tg=t}},{key:"ly",get:function(){return this.xl.ly}},{key:"wy",get:function(){return!1},set:function(t){}},{key:"Ul",get:function(){return this.xl},set:function(t){this.Wg(t)}}]),n}(Jg);Te(),Vt(),Ne(),Te(),Vt(),Ne();var gm,ym=function(t){function n(n,i,e,r,u,o,s,c){var f;return(f=t.call(this,n,i,e)||this).url=r,f.status=u,f.statusText=o,f.response=s,f.systemCode=c,f}return Xe(n,t),Re(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(ed);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(gm||(gm={}));var mm=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,a.captureStackTrace&&a.captureStackTrace(Sc(u),u.constructor),u}return Xe(n,t),Re(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Fc);function _m(t){bg(t,"MEDIA_ERR_ABORTED",1),bg(t,"MEDIA_ERR_NETWORK",2),bg(t,"MEDIA_ERR_DECODE",3),bg(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),bg(t,"MEDIA_ERR_ENCRYPTED",5)}function pm(t){var n,i;return function(t){return t.category===td.CONTENT_PROTECTION}(t)?new mm(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new mm(function(t){if(t===Qv.MEDIA_ABORTED)return 1;if(t===Qv.MANIFEST_LOAD_ERROR||t===Qv.MEDIA_LOAD_ERROR||t===Qv.SUBTITLE_LOAD_ERROR)return 2;if(t===Qv.MEDIA_DECODE_ERROR)return 3;if(t===Qv.MEDIA_NOT_SUPPORTED)return 4;var n=td.fromCode(t);if(n===td.NETWORK)return 2;if(n===td.SOURCE)return 4;if(n===td.LICENSE)return 6;if(n===td.CONTENT_PROTECTION)return 5;if(n===td.AD)return 7;return 3}(t.code),t.message,null==(i=t.cause)?void 0:i.message)}_m(mm),_m(mm.prototype),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Ne(),Te(),Vt();var bm=function(t){function n(){return t.apply(this,arguments)}Xe(n,t);var i=n.prototype;return i.Cl=function(n){return t.prototype.Cl.call(this,n)},i.il=function(){return Hg(this)},n}(gg);Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Ne(),Te(),Vt();var km=function(){function t(){this.gy=[],this.tl=void 0}var n=t.prototype;return n.yy=function(t){this.gy.push(t),this.tl&&this.tl.push(t.nl)},n.jc=function(t){Pc(this.gy,t),this.tl&&Pc(this.tl,t.nl)},n.Nl=function(t){return this.gy[t]},n.my=function(t){return vr(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Lc(t,n[i]))return!1;return!0}(this.gy,t):Lc(this.gy,t)},n.uf=function(){Mc(this.gy),this.tl&&Mc(this.tl)},Re(t,[{key:"Dl",get:function(){return this.gy}},{key:"Pl",get:function(){return this.gy.length}},{key:"nl",get:function(){return this.tl||(this.tl=function(t){var n=t.Dl.map((function(t){return t.nl}));return n.item=function(n){var i=0|n,e=t.Nl(i);return e&&e.nl||void 0},n}(this)),this.tl}}]),t}();Te(),Vt();var Tm=function(t){function n(n){var i;return(i=t.call(this,dg.kl)||this).ul=n,i}return Xe(n,t),n.prototype.il=function(){return new Sm(this.ul.nl)},n}(fg),Sm=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return Xe(n,t),n}(ag);Te(),Vt();var Em=0;function Im(){return Em++}var Rm=0;var Nm=0;var Cm=0;var Om=function(t){function n(n){var i;return(i=t.call(this)||this).eu=jy.jh,i._y=!1,i.tl=void 0,i.py=n,i.by=Im(),i.Dc=Cm+++"",i.ky=n.label,i.gy=new km,i.Ty(),i}Xe(n,t);var i=n.prototype;return i.Sy=function(t){this.ql=t},i.Ty=function(){this.ql=this.Ey},Re(n,[{key:"Hl",get:function(){}},{key:"ql",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.Ey=t,this.Lu(new yg(this)))}},{key:"Ey",get:function(){return this.py.enabled},set:function(t){this.py.enabled=t}},{key:"nl",get:function(){return this.tl||(this.tl=Ug(this)),this.tl}},{key:"zl",get:function(){return this.Dc}},{key:"Wl",get:function(){return this.by}},{key:"jl",get:function(){return this.py.kind}},{key:"Gl",get:function(){return this.ky},set:function(t){t!==this.ky&&(this.ky=t,this.Lu(new Tm(this)))}},{key:"Xl",get:function(){return this.py.language}},{key:"uw",get:function(){return this.ql?"enabled":"disabled"}},{key:"Iy",get:function(){return this.py}},{key:"$l",get:function(){return this.gy}},{key:"Kl",get:function(){},set:function(t){}}]),n}(ef);Te(),Vt(),Ne();var Am=0;var Dm=function(t){function n(n){var i;return(i=t.call(this)||this).eu=jy.Gh,i._y=!1,i.tl=void 0,i.py=n,i.by=Im(),i.Dc=Am+++"",i.gy=new km,i.ky=n.label,i.Ty(),i}Xe(n,t);var i=n.prototype;return i.Ty=function(){this.ql=this.Ey},i.Sy=function(t){this.ql=t},Re(n,[{key:"Hl",get:function(){}},{key:"ql",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.Ey=t,this.Lu(new yg(this)))}},{key:"Ey",get:function(){return!!this.py.selected},set:function(t){this.py.selected=t}},{key:"nl",get:function(){return this.tl||(this.tl=Ug(this)),this.tl}},{key:"zl",get:function(){return this.Dc}},{key:"Wl",get:function(){return this.by}},{key:"jl",get:function(){return"main"}},{key:"Gl",get:function(){return this.ky},set:function(t){t!==this.ky&&(this.ky=t,this.Lu(new Tm(this)))}},{key:"Xl",get:function(){return this.py.language}},{key:"uw",get:function(){return this.ql?"enabled":"disabled"}},{key:"Iy",get:function(){return this.py}},{key:"$l",get:function(){return this.gy}},{key:"Kl",get:function(){},set:function(t){}}]),n}(ef);Te(),Vt();var Pm,xm,Bm,Lm=function(t){function n(n){var i;return(i=t.call(this,Ed.ca)||this).Jg=n,i}return Xe(n,t),n}(of);Te(),Vt(),Te(),Vt(),function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Pm||(Pm={})),Te(),Vt(),Te(),Vt(),function(t){t.Ry="cue",t.Ny="region",t.Cy="stylesheet"}(xm||(xm={})),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.Oy="Ay",t.Dy="Py",t.kl="Gc"}(Bm||(Bm={}));var Mm=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).xy=i,e}return Xe(n,t),n}(fg),Fm=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return Xe(n,t),n}(ag);function Um(t){var n,i=[Bm.Oy,Bm.Dy,Bm.kl],e={get track(){return t.ul.nl},get id(){return t.zl},get uid(){return t.Wl},get startTime(){return t.By},get endTime(){return t.Ly},get content(){return t.My},addEventListener:function(t,i){var e=Pg(t,Ag);n.Fu(e,i)},removeEventListener:function(t,i){var e=Pg(t,Ag);n.qu(e,i)}};return n=new rf(e),t.Fu(i,(function(t){return n.Lu(t.nl)})),e}function Vm(){}Te(),Vt(),Ne(),Te(),Vt();var Hm=function(t){function n(n){return t.call(this,Bm.kl,n)}return Xe(n,t),n.prototype.il=function(){return new qm(this.xy.nl)},n}(Mm),qm=function(t){function n(n){return t.call(this,"update",n)}return Xe(n,t),n}(Fm),zm=.02;var Wm=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this)||this).tl=void 0,o.Fy=void 0,o.Uy=!1,o.Vy=-1,o.by=Nm++,o.Hy=n,o.qy=i,o.zy=e,o.Wy=Boolean(r),o.Dc=null!=u?u:"",o}Xe(n,t);var i=n.prototype;return i.il=function(){return Um(this)},i.jy=function(t){return this===t||Eg(this,t)&&function(t,n){return ou(t.By,n.By,zm)&&ou(t.Ly,n.Ly,zm)&&t.zl===n.zl}(this,t)},i.kn=function(){this.Hu()},Re(n,[{key:"By",get:function(){return this.Hy},set:function(t){this.Hy!==t&&(this.Hy=t,this.Lu(new Hm(this)))}},{key:"Ly",get:function(){return this.qy},set:function(t){this.qy!==t&&(this.qy=t,this.Lu(new Hm(this)))}},{key:"zl",get:function(){return this.Dc}},{key:"Wl",get:function(){return this.by}},{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}},{key:"Gy",get:function(){return this.Uy},set:function(t){this.Uy=t}},{key:"ul",get:function(){return this.Fy},set:function(t){this.Fy=t}},{key:"My",get:function(){return this.zy},set:function(t){this.zy!==t&&(this.zy=t,this.Lu(new Hm(this)))}},{key:"Yy",get:function(){return this.Wy},set:function(t){this.Wy=t}}]),n}(ef);var jm=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this,n,i,e,r,u)||this).Xy="auto",o.$y="start",o.Ky="auto",o.Jy="auto",o.Zy=void 0,o.Qy=!0,o.vo=100,o.tm="center",o.nm="",o}return Xe(n,t),n.prototype.jy=function(n){return this===n||Eg(this,n)&&t.prototype.jy.call(this,n)&&function(t,n){return t.My===n.My&&t.Xy===n.Xy&&t.$y===n.$y&&t.Ky===n.Ky&&t.Jy===n.Jy&&t.Zy===n.Zy&&t.Qy===n.Qy&&t.vo===n.vo&&t.tm===n.tm&&t.nm===n.nm}(this,n)},Re(n,[{key:"nl",get:function(){return this.tl||(this.tl=function(t){return kg(Um(t),{get align(){return t.tm},get line(){return t.Xy},get lineAlign(){return t.$y},get position(){return t.Ky},get positionAlign(){return t.Jy},get region(){return t.Zy?t.Zy.nl:null},get size(){return t.vo},get snapToLines(){return t.Qy},get text(){return t.My},get vertical(){return t.nm}})}(this)),this.tl}},{key:"eu",get:function(){return xm.Ry}}]),n}(Wm);Te(),Vt(),Ne(),Te(),Vt();var Gm=function(){function t(t,n,i,e,r,u,o,s){this.zl=t,this.im=n,this.rm=i,this.um=e,this.om=r,this.sm=u,this.fm=o,this.am=s}return Re(t,[{key:"nl",get:function(){return this.tl||(this.tl=function(t){return{get id(){return t.zl},get identifier(){return t.zl},get lines(){return t.rm},get regionAnchorX(){return t.um},get regionAnchorY(){return t.om},get scrollValue(){return t.am},get viewportAnchorX(){return t.sm},get viewportAnchorY(){return t.fm},get width(){return t.im}}}(this)),this.tl}},{key:"eu",get:function(){return xm.Ny}}]),t}();Te(),Vt(),Te(),Vt();var Ym=1e6,Xm=function(){function t(){}var n=t.prototype;return n.hm=function(t){return this.vm()*t},n.dm=function(t){return this.lm(t)>0},n.wm=function(t){return this.lm(t)>=0},n.gm=function(t,n){return this._m(t).ym(n)},n.jy=function(t){return 0===this.lm(t)},n.pm=function(t){return this.lm(t)<0},n.ym=function(t){return this.lm(t)<=0},n.bm=function(){return this.km()?this.Tm():this},n.Sm=function(t){return this.yy(t.Tm())},n._m=function(t){return this.Sm(t).bm()},t}();function $m(t,n){return t.Em()?n.Em()?kc.lu:kc.wu:n.Em()?kc.gu:t.Im()?n.Im()&&t.km()===n.km()?kc.lu:t.km()?kc.gu:kc.wu:n.km()?kc.wu:kc.gu}Te(),Vt(),Te(),Vt();var Km=4294967296,Jm=Km*Km,Zm=Jm*Jm,Qm=Zm/2,t_=function(){function t(t,n){this.Rm=t,this.Nm=n}var n=t.prototype;return n.Cm=function(){return this.Nm.unsigned},n.Om=function(){return this.Rm.isZero()&&this.Nm.isZero()},n.km=function(){return this.Nm.isNegative()},n.Am=function(){return this.Cm()?t.Dm(this.Rm,this.Nm,!1):this},n.Pm=function(){return this.Cm()?this:t.Dm(this.Rm,this.Nm,!0)},n.xm=function(){return this.Rm},n.vm=function(){return this.km()?-this.Tm().vm():this.Nm.toNumber()*Jm+this.Rm.toUnsigned().toNumber()},n.Bm=function(){return this.Rm.toInt()},n.jy=function(t){return(this.Cm()===t.Cm()||this.Nm.getHighBits()>>>31!=1||t.Nm.getHighBits()>>>31!=1)&&(this.Nm.toUnsigned().eq(t.Nm.toUnsigned())&&this.Rm.toUnsigned().eq(t.Rm.toUnsigned()))},n.lm=function(t){if(this.jy(t))return kc.lu;var n=this.km(),i=t.km();if(n&&!i)return kc.gu;if(!n&&i)return kc.wu;if(!this.Cm())return this.Sm(t).km()?kc.gu:kc.wu;var e=this.Pm(),r=t.Pm(),u=r.Nm.comp(e.Nm);return u>0||0===u&&r.Rm.gt(e.Rm)?kc.gu:kc.wu},n.pm=function(t){return this.lm(t)<0},n.ym=function(t){return this.lm(t)<=0},n.Lm=function(t){return this.lm(t)>0},n.Mm=function(t){return this.lm(t)>=0},n.Fm=function(){return new t(this.Rm.not(),this.Nm.not())},n.Um=function(n){return new t(this.Rm.and(n.Rm),this.Nm.and(n.Nm))},n.Vm=function(n){return new t(this.Rm.or(n.Rm),this.Nm.or(n.Nm))},n.Hm=function(n){var i=127&n;return 0===i?this:i<64?t.Dm(this.Rm.shl(i),this.Nm.shl(i).or(this.Rm.shru(64-i)),this.Cm()):t.Dm(eu.ZERO,this.Rm.shl(i-64),this.Cm())},n.qm=function(n){var i=127&n;return 0===i?this:i<64?t.Dm(this.Rm.shru(i).or(this.Nm.shl(64-i)),this.Nm.shr(i),this.Cm()):t.Dm(this.Nm.shr(i-64),this.Nm.isNegative()?eu.NEG_ONE:eu.ZERO,this.Cm())},n.zm=function(n){var i=127&n;return 0===i?this:i<64?t.Dm(this.Rm.shru(i).or(this.Nm.shl(64-i)),this.Nm.shru(i),this.Cm()):64===i?t.Dm(this.Nm,eu.ZERO,this.Cm()):t.Dm(this.Nm.shru(i-64),eu.ZERO,this.Cm())},n.yy=function(n){var i=this.Nm.high>>>16,e=65535&this.Nm.high,r=this.Nm.low>>>16,u=65535&this.Nm.low,o=this.Rm.high>>>16,s=65535&this.Rm.high,c=this.Rm.low>>>16,f=65535&this.Rm.low,a=n.Nm.high>>>16,h=65535&n.Nm.high,v=n.Nm.low>>>16,d=65535&n.Nm.low,l=n.Rm.high>>>16,w=65535&n.Rm.high,g=n.Rm.low>>>16,y=0,m=0,_=0,p=0,b=0,k=0,T=0,S=0;T+=(S+=f+(65535&n.Rm.low))>>>16,S&=65535,k+=(T+=c+g)>>>16,T&=65535,b+=(k+=s+w)>>>16,k&=65535,p+=(b+=o+l)>>>16,b&=65535,_+=(p+=u+d)>>>16,p&=65535,m+=(_+=r+v)>>>16,_&=65535,y+=(m+=e+h)>>>16,m&=65535,y+=i+a,y&=65535;var E=this.Cm(),I=eu.fromBits(_<<16|p,y<<16|m,E),R=eu.fromBits(T<<16|S,b<<16|k,E);return t.Dm(R,I,E)},n.Sm=function(t){return this.yy(t.Tm())},n.Tm=function(){return this.Fm().yy(t.Wm)},n.jm=function(n){if(this.Om()||n.Om())return this.Cm()?t.Gm:t.Ym;if(this.km())return n.km()?this.Tm().jm(n.Tm()):this.Tm().jm(n).Tm();if(n.km())return this.jm(n.Tm()).Tm();if(this.Nm.isZero()&&0===this.Rm.high&&n.Nm.isZero()&&0===n.Rm.high)return t.Xm(this.Rm.multiply(n.Rm));var i=eu.fromBits(4294967295,0,!0),e=this.Rm.and(i),r=this.Rm.shru(32),u=this.Nm.and(i),o=this.Nm.shru(32),s=n.Rm.and(i),c=n.Rm.shru(32),f=n.Nm.and(i),a=n.Nm.shru(32),h=eu.UZERO,v=eu.UZERO,d=eu.UZERO,l=eu.UZERO;h=h.add(e.mul(s)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(r.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(f)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(o.mul(s)).add(u.mul(c)).add(r.mul(f)).add(e.mul(a)).and(i);var w=eu.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=eu.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Dm(w,g,this.Cm())},n.$m=function(n){var i,e,r=n;if(r.Om())throw new RangeError("division by zero");if(this.Om())return this.Cm()?[t.Gm,t.Gm]:[t.Ym,t.Ym];if(this.Cm()){if(r.Cm()||(r=r.Pm()),r.Lm(this))return[t.Gm,this];if(r.Lm(this.zm(1)))return[e=t.Km,i=this.Sm(r)];e=t.Gm}else{if(this.jy(t.Jm)){if(r.jy(t.Wm)||r.jy(t.Zm))return[t.Jm,t.Ym];if(r.jy(t.Jm))return[t.Wm,t.Ym];var u=this.qm(1).Qm(r).Hm(1);return u.jy(t.Ym)?e=r.km()?t.Wm:t.Zm:(i=this.Sm(r.jm(u)),e=u.yy(i.Qm(r))),[e,i=this.Sm(r.jm(e))]}if(r.jy(t.Jm))return this.Cm()?[t.Gm,this]:[t.Ym,this];var o,s;if(this.km())return r.km()?this.Tm().$m(r.Tm()):(e=(o=Hs(this.Tm().$m(r),2))[0],i=o[1],[e.Tm(),i.Tm()]);if(r.km())return e=(s=Hs(this.$m(r.Tm()),2))[0],i=s[1],[e.Tm(),i.Tm()];e=t.Ym}for(i=this;i.Mm(r);){for(var c=d.max(1,d.floor(i.vm()/r.vm())),f=d.ceil(d.log(c)/d.LN2),a=f<=48?1:d.pow(2,f-48),h=t.t_(c),v=h.jm(r);v.km()||v.Lm(i);)c-=a,v=(h=t.t_(c,this.Cm())).jm(r);h.Om()&&(h=t.Wm),e=e.yy(h),i=i.Sm(v)}return[e,i]},n.Qm=function(t){return this.$m(t)[0]},n.n_=function(t){return this.$m(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Om())return"0";if(this.km()){if(this.jy(t.Jm)){var e=t.t_(i),r=this.Qm(e),u=r.jm(e).Sm(this);return r.toString(i)+u.Bm().toString(i)}return"-"+this.Tm().toString(i)}for(var o=t.t_(d.pow(i,6),this.Cm()),s=this,c="";;){var f=s.Qm(o),a=(s.Sm(f.jm(o)).Bm()>>>0).toString(i);if((s=f).Om())return a+c;for(;a.length<6;)a="0"+a;c=String(a)+c}},t.Dm=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Xm=function(n){return n.unsigned?new t(n,eu.UZERO):new t(n,n.isNegative()?eu.NEG_ONE:eu.ZERO)},t.t_=function(n,i){if(g(n))return i?t.Gm:t.Ym;if(i){if(n<0)return t.Gm;if(n>=Zm)return t.i_}else{if(n<=-Qm)return t.Jm;if(n+1>=Qm)return t.e_}return n<0?t.t_(-n,i).Tm():t.Dm(eu.fromNumber(n%Jm),eu.fromNumber(n/Jm),i)},t}();t_.Ym=t_.Xm(eu.ZERO),t_.Gm=t_.Xm(eu.UZERO),t_.Wm=t_.Xm(eu.ONE),t_.Km=t_.Xm(eu.UONE),t_.Zm=t_.Xm(eu.NEG_ONE),t_.e_=t_.Dm(eu.NEG_ONE,eu.MAX_VALUE,!1),t_.i_=t_.Dm(eu.MAX_UNSIGNED_VALUE,eu.MAX_UNSIGNED_VALUE,!0),t_.Jm=t_.Dm(eu.ZERO,eu.MIN_VALUE,!1),Te(),Vt(),Ne();var n_=function(){function t(t,n){void 0===n&&(n=1),this.r_=t,this.u_=n}var n=t.prototype;return n.yy=function(n){return this.u_>=n.u_?new t(this.r_+n.o_(this.u_).r_,this.u_):new t(this.o_(n.u_).r_+n.r_,n.u_)},n.dm=function(t){return t.pm(this)},n.wm=function(t){return t.ym(this)},n._m=function(n){return this.u_>=n.u_?new t(d.abs(this.r_-n.o_(this.u_).r_),this.u_):n._m(this)},n.gm=function(t,n){return this._m(t).ym(n)},n.lm=function(t){return function(t,n){return t.u_>=n.u_?Oc(t.r_,n.o_(t.u_).r_):Oc(t.o_(n.u_).r_,n.r_)}(this,t)},n.jy=function(t){return 0===this.lm(t)},n.pm=function(t){return this.lm(t)<0},n.ym=function(t){return this.lm(t)<=0},n.o_=function(n){return new t(this.r_*(n/this.u_),n)},n.Sm=function(n){return this.u_>=n.u_?new t(this.r_-n.o_(this.u_).r_,this.u_):new t(this.o_(n.u_).r_-n.r_,n.u_)},n.s_=function(n){return new t(this.r_*n,this.u_)},t.c_=function(n){return new t(d.ceil(n.r_),n.u_)},t.f_=function(n){return new t(d.floor(n.r_),n.u_)},t.a_=function(t,n){return t.wm(n)?t:n},t.h_=function(t,n){return t.ym(n)?t:n},Re(t,[{key:"Im",get:function(){return!isFinite(this.r_)}},{key:"v_",get:function(){return this.r_/this.u_}}]),t}();n_.d_=new n_(1/6,1),n_.Ym=new n_(0),n_.l_=new n_(1/0),n_.w_=1e6;var i_=function(t){function n(n,i){var e;return(e=t.call(this)||this).wd=n.toSigned(),e.u_=i>>>0,e}Xe(n,t);var i=n.prototype;return i.km=function(){return this.wd.isNegative()},i.Om=function(){return 0!==this.u_&&this.wd.isZero()},i.Im=function(){return 0===this.u_&&!this.wd.isZero()},i.Em=function(){return 0===this.u_&&this.wd.isZero()},i.vm=function(){if(0===this.u_)return this.wd.isZero()?NaN:this.wd.isNegative()?-1/0:1/0;var t=this.wd.divide(this.u_),n=this.wd.subtract(t.multiply(this.u_));return t.toNumber()+n.toNumber()/this.u_},i.xm=function(){if(0===this.u_)throw new a("Failed to convert timestamp");return this.wd},i.g_=function(){return new Date(0===this.u_?NaN:this.o_(1e3).wd.toNumber())},i.y_=function(){return new n_(0===this.u_?this.vm():this.wd.toNumber(),this.u_)},i.o_=function(t,i){void 0===i&&(i=e_.m_);var e=this.u_;if(e===t)return this;if(0===e)return this;var r=su(e,t);return new n(function(t,n,i){var e=Hs(t.$m(n),2),r=e[0],u=e[1];if(u.Om())return r;if(i===e_.m_)return u.km()?r.Sm(t_.Wm):r;if(i===e_.__)return u.km()?r:r.yy(t_.Wm);var o=u.jm(t_.t_(2));return o.km()?o.Tm().pm(n)?r:r.Sm(t_.Wm):o.pm(n)?r:r.yy(t_.Wm)}(t_.Xm(this.wd).jm(t_.t_(t/r)),t_.t_(e/r),i).xm(),t)},i.lm=function(t){if(this===t)return kc.lu;if(0===this.u_||0===t.u_)return $m(this,t);if(this.Om())return t.Om()?kc.lu:t.km()?kc.wu:kc.gu;if(t.Om())return this.km()?kc.gu:kc.wu;var n=d.min(this.u_,t.u_),i=this.o_(n,e_.p_).wd,e=t.o_(n,e_.p_).wd;return i.compare(e)},i.Tm=function(){return 0===this.u_?function(t){0;return t.Em()?t:t.km()?i_.b_:i_.k_}(this):new n(this.wd.negate(),this.u_)},i.yy=function(t){if(0===this.u_||0===t.u_)return function(t,n){0;if(t.Em()||n.Em())return i_.T_;if(t.Im()&&n.Im())return t.km()===n.km()?t:i_.T_;return t.Im()?t:n}(this,t);if(this.Om())return t;if(t.Om())return this;var i=d.max(this.u_,t.u_),e=this.o_(i,e_.p_),r=t.o_(i,e_.p_);return new n(e.wd.add(r.wd),i)},i.jm=function(t){if(this.Em()||g(t))return n.T_;if(this.Im()||!isFinite(t)){if(this.Om()||0===t)return n.T_;var i=this.km()?n.k_:n.b_;return t<0?i.Tm():i}return this.Om()?this:new n(0===t?eu.ZERO:this.wd.multiply(t),this.u_)},i.Qm=function(t){if(this.Em()||g(t))return n.T_;if(this.Im())return isFinite(t)?0===t?1/t<0?this.Tm():this:t<0?this.Tm():this:n.T_;if(!isFinite(t))return new n(eu.ZERO,this.u_);if(this.Om())return 0===t?n.T_:new n(eu.ZERO,this.u_);if(0===t){var i=this.km()?n.k_:n.b_;return 1/t<0?i.Tm():i}return new n(this.wd.divide(t),this.u_)},i.S_=function(){return[this.wd.low,this.wd.high,this.u_]},n.E_=function(t,i){return void 0===i&&(i=Ym),n.t_(t*i,i)},n.t_=function(t,i){return g(t)?n.T_:t===1/0?n.b_:t===-1/0?n.k_:new n(eu.fromNumber(t),i)},n.Xm=function(t,i){return new n(t,i)},n.I_=function(t){return n.E_(t.v_,Ym)},n.R_=function(t){return new n(eu.fromNumber(t.getTime()),1e3)},n.a_=function(t,n){return t.wm(n)?t:n},n.h_=function(t,n){return t.ym(n)?t:n},n.N_=function(t,i,e){return n.a_(i,n.h_(e,t))},n}(Xm);i_.Ym=new i_(eu.ZERO,Ym),i_.T_=new i_(eu.ZERO,0),i_.b_=new i_(eu.ONE,0),i_.k_=new i_(eu.NEG_ONE,0),Te(),Vt(),Ne(),$();var e_,r_=function(t){function n(n,i){var e;return(e=t.call(this)||this).wd=BigInt.asIntN(64,n),e.u_=i>>>0,e}Xe(n,t);var i=n.prototype;return i.km=function(){return this.wd<BigInt(0)},i.Om=function(){return 0!==this.u_&&this.wd===BigInt(0)},i.Im=function(){return 0===this.u_&&this.wd!==BigInt(0)},i.Em=function(){return 0===this.u_&&this.wd===BigInt(0)},i.vm=function(){if(0===this.u_)return this.wd===BigInt(0)?NaN:this.wd<BigInt(0)?-1/0:1/0;var t=this.wd/BigInt(this.u_),n=this.wd-t*BigInt(this.u_);return Number(t)+Number(n)/this.u_},i.xm=function(){if(0===this.u_)throw new a("Failed to convert timestamp");return this.C_()},i.C_=function(){var t=this.wd&BigInt(4294967295),n=this.wd>>BigInt(32)&BigInt(4294967295);return eu.fromBits(Number(t),Number(n))},i.g_=function(){return new Date(0===this.u_?NaN:Number(this.o_(1e3).wd))},i.y_=function(){return new n_(0===this.u_?this.vm():Number(this.wd),this.u_)},i.o_=function(t,i){void 0===i&&(i=e_.m_);var e=this.u_;if(e===t)return this;if(0===e)return this;var r=su(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===e_.m_)return r<BigInt(0)?e-BigInt(1):e;if(i===e_.__)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.wd*BigInt(t/r),BigInt(e/r),i),t)},i.lm=function(t){if(this===t)return kc.lu;if(0===this.u_||0===t.u_)return $m(this,t);if(this.Om())return t.Om()?kc.lu:t.km()?kc.wu:kc.gu;if(t.Om())return this.km()?kc.gu:kc.wu;var n=d.min(this.u_,t.u_),i=this.o_(n,e_.p_).wd,e=t.o_(n,e_.p_).wd;return i>e?kc.wu:i<e?kc.gu:kc.lu},i.Tm=function(){return 0===this.u_?function(t){0;return t.Em()?t:t.km()?r_.b_:r_.k_}(this):new n(-this.wd,this.u_)},i.yy=function(t){if(0===this.u_||0===t.u_)return function(t,n){0;if(t.Em()||n.Em())return r_.T_;if(t.Im()&&n.Im())return t.km()===n.km()?t:r_.T_;return t.Im()?t:n}(this,t);if(this.Om())return t;if(t.Om())return this;var i=d.max(this.u_,t.u_),e=this.o_(i,e_.p_),r=t.o_(i,e_.p_);return new n(e.wd+r.wd,i)},i.jm=function(t){if(this.Em()||g(t))return n.T_;if(this.Im()||!isFinite(t)){if(this.Om()||0===t)return n.T_;var i=this.km()?n.k_:n.b_;return t<0?i.Tm():i}return this.Om()?this:new n(0===t?BigInt(0):this.wd*BigInt(t),this.u_)},i.Qm=function(t){if(this.Em()||g(t))return n.T_;if(this.Im())return isFinite(t)?0===t?1/t<0?this.Tm():this:t<0?this.Tm():this:n.T_;if(!isFinite(t))return new n(BigInt(0),this.u_);if(this.Om())return 0===t?n.T_:new n(BigInt(0),this.u_);if(0===t){var i=this.km()?n.k_:n.b_;return 1/t<0?i.Tm():i}return new n(this.wd/BigInt(t),this.u_)},i.S_=function(){var t=this.C_();return[t.low,t.high,this.u_]},n.E_=function(t,i){return void 0===i&&(i=Ym),n.t_(t*i,i)},n.t_=function(t,i){return g(t)?n.T_:t===1/0?n.b_:t===-1/0?n.k_:new n(BigInt(d.floor(t)),i)},n.Xm=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.I_=function(t){return n.E_(t.v_,Ym)},n.R_=function(t){return n.t_(t.getTime(),1e3)},n.a_=function(t,n){return t.wm(n)?t:n},n.h_=function(t,n){return t.ym(n)?t:n},n.N_=function(t,i,e){return n.a_(i,n.h_(e,t))},Re(n,null,[{key:"Ym",get:function(){return n.O_||(n.O_=new n(BigInt(0),Ym)),n.O_}},{key:"T_",get:function(){return n.A_||(n.A_=new n(BigInt(0),0)),n.A_}},{key:"b_",get:function(){return n.D_||(n.D_=new n(BigInt(1),0)),n.D_}},{key:"k_",get:function(){return n.P_||(n.P_=new n(BigInt(-1),0)),n.P_}}]),n}(Xm);r_.O_=void 0,r_.A_=void 0,r_.D_=void 0,r_.P_=void 0,function(t){t[t.m_=0]="m_",t[t.__=1]="__",t[t.p_=2]="p_"}(e_||(e_={}));var u_=function(){try{return"function"==typeof BigInt&&"bigint"===C(BigInt(0))}catch(t){return!1}}()?r_:i_;Te(),Vt();var o_=d.pow(2,33),s_=kr((function(){return u_.t_(o_,9e4)}));kr((function(){return s_().Qm(2)}));Te(),Vt();var c_,f_,a_,h_,v_,d_={x_:0,B_:1/0,L_:0},l_=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],w_=[" ","\t","\n","\f","\r"],g_=/^\d*$/,y_=/.*[0-9]+.*/,m_=/^[\d.-]+$/,__=/(^\.|\.$)/,p_=/(\D\.|\.\D)/;function b_(t){var n=vc(t,"\0"," "),i=vc(n,"\r\n","\n");return vc(i,"\r","\n")}function k_(t,n,i){for(var e=i.mo;i.mo<t.length&&n(t.charAt(i.mo));)i.lo(1);return t.substring(e,i.mo)}function T_(t,n,i,e,r,u){for(var o,s=0,c=n.mo,f="",a=!1,h=!1,v=null,d=null,l=null;!a;)if(o=k_(t,(function(t){return"\n"!==t}),n),s++,n.mo>=t.length?a=!0:n.lo(1),dc(o,"--\x3e")){if(e||1!==s&&(2!==s||h)){n.wo(c);break}h=!0,c=n.mo,v=new jm(0,0,"",!1,f);try{N_(o,r.M_,v,u),f=""}catch(t){je.pr(t),v=null}}else{if(""===o)break;e&&lc(o,"X-TIMESTAMP-MAP")&&(r.F_=S_(o)),e||2!==s||i||(gc("STYLE",f.replace(/ /g,""))?(d={eu:xm.Cy},f=""):gc("REGION",f.replace(/ /g,""))&&(l=new Gm("",100,3,0,100,0,100,""),f="")),f&&(f+="\n"),f+=o,c=n.mo}if(v)return v.My=f,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=":",r=0;r<i.length;r++){var u=i[r];if(0!==u.length&&dc(u,e)&&u.charAt(0)!==e&&u.charAt(u.length-1)!==e){var o=u.indexOf(e),s=u.substring(0,o),c=u.substring(o+1,u.length);switch(s.toUpperCase()){case"ID":W_(c,n);break;case"WIDTH":Y_(c,n);break;case"LINES":G_(c,n);break;case"REGIONANCHOR":var f=z_(c);f&&(n.um=f[0],n.om=f[1]);break;case"VIEWPORTANCHOR":var a=z_(c);a&&(n.sm=a[0],n.fm=a[1]);break;case"SCROLL":j_(c,n)}}}}(f,l),l;return null}function S_(t){var n,i=t.split("=")[1].trim().split(","),e=I_(i[0].trim(),"MPEGTS")?i[0]:i[1],r=I_(i[0].trim(),"LOCAL")?i[0]:i[1];return{U_:E_(Number(e.split(/:(.*)/)[1].trim())||0),V_:u_.E_(null!=(n=A_(r.split(/:(.*)/)[1].trim(),new la))?n:0)}}function E_(t){return u_.t_(t,9e4)}function I_(t,n){return lc(t,n)}function R_(t,n){t&&function(t){return"cue"===t.eu}(t)?n.dw.push(t):t&&function(t){return"region"===t.eu}(t)?n.M_.push(t):t&&function(t){return"stylesheet"===t.eu}(t)&&n.H_.push(t)}function N_(t,n,i,e){var r=new la;if(x_(t,r),i.By=C_(A_(t,r),e),x_(t,r),"--\x3e"!==t.substring(r.mo,r.mo+3))throw a("Something went wrong with parsing a WebVTT Cue");r.lo(3),x_(t,r),i.Ly=C_(A_(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=":",u=0;u<e.length;u++){var o=e[u];if(0!==o.length&&dc(o,r)&&o.charAt(0)!==r&&o.charAt(o.length-1)!==r){var s=o.indexOf(r),c=o.substring(0,s),f=o.substring(s+1,o.length);switch(c.toUpperCase()){case"REGION":U_(f,n,i);break;case"VERTICAL":H_(f,n);break;case"D":q_(f,n);break;case"LINE":case"L":M_(f,n);break;case"POSITION":case"T":F_(f,n);break;case"SIZE":case"S":V_(f,n);break;case"ALIGN":case"A":L_(f,n)}}}}(t.substring(r.mo,t.length),i,n)}function C_(t,n){return t+n.x_}function O_(t){return/^[0-9]$/.test(t)}function A_(t,n){var i,e,r,u=vc(t,",","."),o=!1;if(n.mo>=u.length||!O_(u.charAt(n.mo)))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");var s=k_(u,O_,n),c=l(s,10);if((s.length>2||c>59)&&(o=!0),n.mo>=u.length||":"!==u.charAt(n.mo))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");n.lo(1);var f=k_(u,O_,n);if(2!==f.length)throw new a("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(f,10);if(o||n.mo<u.length&&":"===u.charAt(n.mo)){if(n.mo>=u.length||":"!==u.charAt(n.mo))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");n.lo(1);var v=k_(u,O_,n);if(2!==f.length)throw new a("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=h,r=l(v,10)}else i=0,e=c,r=h;if(n.mo>=u.length||"."!==u.charAt(n.mo))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");n.lo(1);var d=k_(u,O_,n),w=l(d,10);if(h>59||r>59)throw new a("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function D_(t){if(t.length<6)return!1;for(var n=0;n<l_.length;n++){if(lc(t,l_[n]))return!0}return!1}function P_(t){return Lc(w_,t)}function x_(t,n){for(;n.mo<t.length&&P_(t.charAt(n.mo));)n.lo(1)}function B_(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function L_(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.tm=i;break;case"middle":n.tm="center"}}function M_(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),y_.test(i)){var u,o;if(wc(i,"%")){var s=B_(i);if(null===s)return;u=s,o=!1}else{if(!m_.test(i)||i.lastIndexOf("-")>0)return;var c=i.indexOf(".");if(c>=0&&(c!==i.lastIndexOf(".")||!p_.test(i)||__.test(i)))return;if(u=w(i),g(u))return;o=!0}switch(n.Xy=u,n.Qy=o,e=e.toLowerCase()){case"start":case"center":case"end":n.$y=e;break;case"middle":n.$y="center"}}}function F_(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var u=B_(i);if(null!==u)switch(n.Ky=u,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Jy=e;break;case"start":n.Jy="line-left";break;case"middle":n.Jy="center";break;case"end":n.Jy="line-right"}}function U_(t,n,i){var e=Dc(i,(function(n){return n.zl===t}));void 0!==e&&(n.Zy=e)}function V_(t,n){var i=B_(t);null!==i&&(n.vo=i)}function H_(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.nm="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.nm="lr";break;default:n.nm=""}}function q_(t,n){"VERTICAL"===t.toUpperCase()?n.nm="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.nm="lr")}function z_(t){if(t.indexOf(",")>=0){var n=B_(t.substring(0,t.indexOf(","))),i=B_(t.substring(t.indexOf(",")+1,t.length));return[uu(n||0,0,100),uu(i||100,0,100)]}return null}function W_(t,n){n.zl=t}function j_(t,n){"up"===t.toLowerCase()&&(n.am="up")}function G_(t,n){g_.test(t)&&(n.rm=l(t))}function Y_(t,n){var i=B_(t);null!==i&&(n.im=i)}Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.q_="moov",t.z_="mvhd",t.W_="trak",t.j_="tkhd",t.G_="mdia",t.Y_="mdhd",t.X_="hdlr",t.K_="minf",t.J_="stbl",t.Z_="stsd",t.Q_="stsc",t.tp="mvex",t.np="trex",t.ip="avc1",t.ep="avcC",t.rp="hev1",t.op="hvc1",t.sp="hvcC",t.cp="vp09",t.fp="vpcC",t.ap="av01",t.hp="av1C",t.vp="colr",t.dp="pasp",t.lp="mp4a",t.wp="esds",t.gp="wvtt",t.yp="vttC",t.mp="vlab",t._p="enca",t.pp="encv",t.bp="moof",t.kp="mfhd",t.Tp="traf",t.Sp="tfhd",t.Ep="trun",t.Ip="tfdt",t.Rp="senc",t.Np="mdat",t.Cp="pssh",t.Op="emsg",t.Ap="sidx",t.Dp="styp",t.Pp="ftyp",t.xp="sinf",t.Bp="frma"}(c_||(c_={})),function(t){t.Gh="vide",t.jh="soun",t.Lp="subt",t.Mp="hint",t.Fp="meta",t.Up="auxv"}(f_||(f_={})),function(t){t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof"}(a_||(a_={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(h_||(h_={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(v_||(v_={})),Te(),Vt();var X_=function(){function t(t,n){this.Ah=t,this.Vp=n}var n=t.prototype;return n.Hp=function(){return Mf(this.Ah,this.Vp)},n.qp=function(){return Hf(this.Ah,this.Vp)},n.zp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.mo,i);return n.lo(2),e}(this.Ah,this.Vp)},n.Wp=function(){return zf(this.Ah,this.Vp)},n.jp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.mo,i);return n.lo(4),e}(this.Ah,this.Vp)},n.Gp=function(){return jf(this.Ah,this.Vp)},n.Yp=function(t){return Uf(this.Ah,this.Vp,t)},n.Xp=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(zf(t,n));return e}(this.Ah,this.Vp,t)},n.$p=function(t){return Yf(this.Ah,this.Vp,t)},n.Kp=function(){return ia(this.Ah,this.Vp)},n.Jp=function(t){this.Vp.lo(t)},n.yo=function(){return new t(this.Ah,this.Vp.yo())},t}();Te(),Vt(),Ne(),Te(),Vt();var $_=function(t){function n(n,i){var e;return(e=t.call(this)||this).Zp=n,e.Qp=i,e}return Xe(n,t),Re(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Uc),K_=function(){function t(){}return t.tb=function(n){var i=n.Ah,e=n.Vp,r=t.nb(i,e,!1);if(!r.ib)throw new $_(e.mo,r.Sd);return r.Sd},t.nb=function(n,i,e){for(var r=[];i.mo<n.byteLength;){var u=t.eb(n,i,e);if(!u.ib)return{ib:!1,Sd:r};r.push(u.ub)}return{ib:!0,Sd:r}},t.ob=function(n,i){var e=t.eb(n,i,!1);if(!e.ib)throw new $_(i.mo);return e.ub},t.sb=function(n,i){for(var e=n.Ah,r=n.Vp;r.mo<e.byteLength;){var u=t.eb(e,r,!1);if(!u.ib)return;if(u.ub.eu===i)return u.ub}},t.eb=function(n,i,e){var r=i.mo,u=t.cb(n,i);if(!u.ib)return u;var o=u.fb,s=o.vo;if(0===s){if(e)return i.wo(r),{ib:!1,ab:1/0};s=n.byteLength-r}var c=r+s;if(c>n.byteLength){var f=c;return i.wo(r),{ib:!1,ab:f}}var a={eu:o.eu,mo:r,Ah:new X_(oa(n,r,c),new la(o.hb))};return i.wo(c),{ib:!0,ub:a}},t.cb=function(t,n){var i=n.mo;if(!Vf(t,n,8))return{ib:!1,ab:n.mo+8};var e=zf(t,n),r=Yf(t,n,4);if(1===e){if(!Vf(t,n,8)){var u=n.mo+8;return n.wo(i),{ib:!1,ab:u}}e=jf(t,n).toNumber()}if("uuid"===r){if(!Vf(t,n,16)){var o=n.mo+16;return n.wo(i),{ib:!1,ab:o}}r=Yf(t,n,16)}return{ib:!0,fb:{eu:r,vo:e,hb:n.mo-i}}},t.vb=function(t,n,i){var e=t.Ah,r=t.Vp,u=ua(ca(e),r.mo,e.byteLength);return i&&(u=va(u)),r.lo(u.byteLength),{eu:n,Ah:u}},t.lb=function(n,i,e){var r=tp(n.Wp());return{eu:i,wb:r.version,gb:r.flags,Ah:t.vb(n,i,e).Ah}},t}();function J_(t,n){var i=Z_(t,n);if(!i)throw new a("Missing "+n+" atom");return i}function Z_(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.eu===n)return e.Ah}}function Q_(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.eu===n&&i.push(r.Ah)}return i}function tp(t){return{version:t>>24,flags:new Lf(16777215&t)}}var np=function(){function t(){}return t.yb=function(n){for(var i=[],e=K_.tb(new X_(n,new la)),r=0;r<e.length;r++){var u=e[r],o=t.mb(u);o&&i.push(o)}return i},t._b=function(t){return K_.nb(t,new la,!1).Sd.some(this.pb)},t.bb=function(n){return Q_(K_.tb(new X_(n,new la)),c_.Cp).map(t.kb)},t.Tb=function(n){return Q_(K_.tb(n.Ah),c_.Cp).map(t.kb)},t.pb=function(t){return t.eu===c_.Pp||t.eu===c_.Dp||t.eu===c_.q_||t.eu===c_.bp||t.eu===c_.Np||t.eu===c_.Ap||t.eu===c_.Op},t.mb=function(n){switch(n.eu){case c_.q_:return t.Sb(n.Ah);case c_.bp:return t.Eb(n.Ah,n.mo);case c_.Np:return t.Ib(n.Ah);case c_.Ap:return t.Rb(n.Ah);case c_.Op:return t.Nb(n.Ah)}},t.Sb=function(n){var i=K_.tb(n),e=J_(i,c_.z_),r=Q_(i,c_.W_),u=Z_(i,c_.tp),o=t.Cb(e),s=r.map(t.Ob),c=u?t.Ab(u):void 0;return{eu:c_.q_,fb:o,Db:s,Pb:c}},t.Cb=function(t){var n=tp(t.Wp()),i=n.version,e=n.flags,r=1===i?t.Gp():t.Wp(),u=1===i?t.Gp():t.Wp(),o=t.Wp(),s=1===i?t.Gp():t.Wp(),c=t.Wp(),f=t.qp()>>8;t.Jp(2),t.Jp(8);var a=t.Xp(9);t.Jp(24);var h=t.Wp();return{eu:c_.z_,wb:i,gb:e,xb:r,Bb:u,u_:o,jw:s,Lb:c,tg:f,Mb:a,Fb:h}},t.Ob=function(n){var i=K_.tb(n),e=J_(i,c_.j_),r=J_(i,c_.G_),u=t.Ub(e),o=t.Vb(r);return{eu:c_.W_,fb:u,Hb:o}},t.Ub=function(t){var n=tp(t.Wp()),i=n.version,e=n.flags,r=1===i?t.Gp():t.Wp(),u=1===i?t.Gp():t.Wp(),o=t.Wp();t.Jp(4);var s=1===i?t.Gp():t.Wp();t.Jp(8);var c=t.zp(),f=t.zp(),a=t.zp()/d.pow(2,8);t.Jp(2);var h=t.Xp(9),v=t.Wp()/d.pow(2,16),l=t.Wp()/d.pow(2,16);return{eu:c_.j_,qb:e.po(1),zb:e.po(2),Wb:e.po(4),xb:r,Bb:u,jb:o,jw:s,Gb:c,Yb:f,tg:a,Mb:h,im:v,Xb:l}},t.Vb=function(n){var i=K_.tb(n),e=J_(i,c_.Y_),r=J_(i,c_.X_),u=J_(i,c_.K_),o=t.$b(e),s=t.Kb(r),c=t.Jb(u);return{eu:c_.G_,fb:o,Zb:s,Qb:c}},t.$b=function(t){var n=tp(t.Wp()),i=n.version,e=n.flags,r=1===i?t.Gp():t.Wp(),u=1===i?t.Gp():t.Wp(),o=t.Wp(),s=1===i?t.Gp():t.Wp();t.qp();return t.Jp(2),{eu:c_.Y_,wb:i,gb:e,xb:r,Bb:u,u_:o,jw:s}},t.Kb=function(t){var n=tp(t.Wp()),i=n.version,e=n.flags;t.Jp(4);var r=t.$p(4);t.Jp(12);var u=t.Kp();return{eu:c_.X_,wb:i,gb:e,tk:r,vd:u}},t.Jb=function(n){var i=J_(K_.tb(n),c_.J_),e=t.nk(i);return{eu:c_.K_,ik:e}},t.nk=function(n){var i=J_(K_.tb(n),c_.Z_),e=t.ek(i);return{eu:c_.J_,rk:e}},t.ek=function(n){for(var i=tp(n.Wp()),e=i.version,r=i.flags,u=(n.Wp(),[]),o=K_.tb(n),s=0;s<o.length;s++){var c=o[s],f=t.uk(c.Ah,c.eu);f&&u.push(f)}return{eu:c_.Z_,wb:e,gb:r,sk:u}},t.uk=function(n,i){var e=t.ck(n,i);return e||((e=t.fk(n,i))||(i===c_.gp?t.ak(n):void 0))},t.ck=function(n,i){return i===c_.lp?t.hk(n):i===c_._p?t.vk(n):void 0},t.fk=function(n,i){return i===c_.ip?t.dk(n):i===c_.rp||i===c_.op?t.lk(n,i):i===c_.cp?t.wk(n,i):i===c_.ap?t.gk(n,i):i===c_.pp?t.yk(n):void 0},t.mk=function(t,n){return t.Jp(6),{eu:n,_k:t.qp()}},t.pk=function(n,i){var e=t.mk(n,i);n.Jp(8);var r=n.qp(),u=n.qp();return n.Jp(2),n.Jp(2),Us({},e,{bk:r,kk:u,Tk:n.Wp()>>>16})},t.Sk=function(n,i){var e=t.mk(n,i);n.Jp(2),n.Jp(2),n.Jp(12);var r=n.qp(),u=n.qp(),o=n.Wp(),s=n.Wp();n.Jp(4);var c=n.qp();n.Jp(32);var f=n.qp();return n.Jp(2),Us({},e,{im:r,Xb:u,Ek:o,Ik:s,Rk:c,Nk:f})},t.hk=function(n){var i=t.pk(n,c_.lp),e=J_(K_.tb(n),c_.wp);return Us({},i,{Ck:t.Ok(e)})},t.ak=function(n){var i=t.mk(n,c_.gp),e=K_.tb(n),r=J_(e,c_.yp),u=t.Ak(r),o=Z_(e,c_.mp);return Us({},i,{Dk:u,Pk:o?t.xk(o):o})},t.Ak=function(t){return{eu:c_.yp,tf:t.Kp()}},t.xk=function(t){return{eu:c_.mp,Gl:t.Kp()}},t.Ok=function(t){return K_.lb(t,c_.wp,!0)},t.dk=function(n){var i=t.Sk(n,c_.ip),e=K_.tb(n),r=J_(e,c_.ep),u=Z_(e,c_.dp);return Us({},i,{Bk:t.Lk(r),Mk:u?t.Fk(u):void 0})},t.lk=function(n,i){var e=t.Sk(n,i),r=J_(K_.tb(n),c_.sp);return Us({},e,{Uk:t.Vk(r)})},t.wk=function(n,i){var e=t.Sk(n,i),r=J_(K_.tb(n),c_.fp);return Us({},e,{Hk:t.qk(r)})},t.gk=function(n,i){var e=t.Sk(n,i),r=K_.tb(n),u=J_(r,c_.hp),o=t.zk(u),s=Z_(r,c_.vp);return Us({},e,{Wk:o,jk:s?t.Gk(s):void 0})},t.yk=function(n){var i=n.yo(),e=t.Sk(n,c_.pp),r=J_(K_.tb(n),c_.xp),u=t.Yk(r);return Us({},e,{Xk:t.fk(i,u.Kk.$k),Jk:u})},t.vk=function(n){var i=n.yo(),e=t.pk(n,c_._p),r=J_(K_.tb(n),c_.xp),u=t.Yk(r);return Us({},e,{Xk:t.ck(i,u.Kk.$k),Jk:u})},t.Yk=function(n){var i=J_(K_.tb(n),c_.Bp),e=t.Zk(i);return{eu:c_.xp,Kk:e}},t.Zk=function(t){var n=t.$p(4);return{eu:c_.Bp,$k:n}},t.Lk=function(t){return K_.vb(t,c_.ep,!0)},t.Vk=function(t){return K_.vb(t,c_.sp,!0)},t.qk=function(t){return K_.vb(t,c_.fp,!0)},t.zk=function(t){return K_.vb(t,c_.hp,!0)},t.Gk=function(t){var n=t.$p(4);switch(n){case"nclx":return{Qk:a_.ON_SCREEN_COLOURS,tT:t.qp(),nT:t.qp(),iT:t.qp(),eT:0!=(128&t.Hp())};case"rICC":return{Qk:a_.RESTRICTED_ICC_PROFILE};case"prof":return{Qk:a_.UNRESTRICED_ICC_PROFILE};default:throw a("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.Fk=function(t){var n=t.Wp(),i=t.Wp();return{eu:c_.dp,rT:n,uT:i}},t.Ab=function(n){var i=Q_(K_.tb(n),c_.np).map(t.oT);return{eu:c_.tp,Db:i}},t.oT=function(t){var n=tp(t.Wp()),i=n.version,e=n.flags,r=t.Wp(),u=t.Wp(),o=t.Wp(),s=t.Wp(),c=t.Wp();return{eu:c_.np,wb:i,gb:e,jb:r,sT:u,cT:o,fT:s,aT:c}},t.Eb=function(n,i){var e=K_.tb(n),r=J_(e,c_.kp),u=Q_(e,c_.Tp),o=t.hT(r),s=u.map(t.vT);return{eu:c_.bp,dT:i,fb:o,Db:s}},t.hT=function(t){var n=tp(t.Wp()),i=n.version,e=n.flags,r=t.Wp();return{eu:c_.kp,wb:i,gb:e,lT:r}},t.vT=function(n){var i=K_.tb(n),e=J_(i,c_.Sp),r=Q_(i,c_.Ep),u=Z_(i,c_.Ip),o=t.wT(e),s=r.map((function(n){return t.gT(n,o)})),c=u?t.yT(u):void 0;return{eu:c_.Tp,fb:o,mT:s,_T:c}},t.wT=function(t){var n=tp(t.Wp()),i=n.version,e=n.flags,r=t.Wp(),u=e.po(h_.BASE_DATA_OFFSET_PRESENT)?t.Gp():void 0,o=e.po(h_.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Wp():void 0,s=e.po(h_.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Wp():void 0,c=e.po(h_.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Wp():void 0,f=e.po(h_.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Wp():void 0;return{eu:c_.Sp,wb:i,gb:e,jb:r,pT:u,bT:o,cT:s,fT:c,aT:f}},t.gT=function(n,i){for(var e=tp(n.Wp()),r=e.version,u=e.flags,o=n.Wp(),s=u.po(v_.DATA_OFFSET_PRESENT)?n.jp():void 0,c=u.po(v_.FIRST_SAMPLE_FLAGS_PRESENT)?n.Wp():void 0,f=[],a=0;a<o;a++){var h=t.kT(n,u,r,i);0===a&&void 0!==c&&(h.gb=c),f.push(h)}return{eu:c_.Ep,wb:r,gb:u,TT:o,dT:s,ST:c,ET:f}},t.kT=function(t,n,i,e){return{jw:n.po(v_.SAMPLE_DURATION_PRESENT)?t.Wp():e.cT,vo:n.po(v_.SAMPLE_SIZE_PRESENT)?t.Wp():e.fT,gb:n.po(v_.SAMPLE_FLAGS_PRESENT)?t.Wp():e.aT,IT:n.po(v_.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Wp():t.jp():void 0}},t.Nb=function(t){var n=t.Ah,i=t.Vp,e=tp(zf(n,i)),r=e.version,u=e.flags;if(1===r){var o=zf(n,i),s=jf(n,i),c=zf(n,i),f=zf(n,i),a=Gf(n,i),h=Gf(n,i),v=ha(ca(n),i.mo,n.byteLength);return i.lo(v.byteLength),{eu:c_.Op,wb:r,gb:u,RT:a,wd:h,u_:o,NT:s,CT:c,zl:f,OT:v}}var d=Gf(n,i),l=Gf(n,i),w=zf(n,i),g=zf(n,i),y=zf(n,i),m=zf(n,i),_=ha(ca(n),i.mo,n.byteLength);return i.lo(_.byteLength),{eu:c_.Op,gb:u,wb:r,RT:d,wd:l,u_:w,AT:g,CT:y,zl:m,OT:_}},t.Ib=function(t){return K_.vb(t,c_.Np,!1)},t.kb=function(n){var i=n.Ah,e=n.Vp,r=va(ca(i)).buffer,u=tp(zf(i,e)),o=u.version,s=u.flags,c=t.DT(i,e),f=[];if(o>0)for(var a=zf(i,e),h=0;h<a;h++){var v=Uf(i,e,16);f.push(v)}var d=zf(i,e),l=new y(r,e.mo,d);return e.lo(i.byteLength),{eu:c_.Cp,wb:o,gb:s,PT:c,xT:f,BT:d,Ah:l,LT:r}},t.DT=function(t,n){for(var i="",e=0;e<4;e++){var r=Mf(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var o=Mf(t,n).toString(16);i+=1===o.length?"0"+o:o}i+="-";for(var s=0;s<2;s++){var c=Mf(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<2;f++){var a=Mf(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<6;h++){var v=Mf(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Rb=function(t){var n,i,e=t.Ah,r=t.Vp,u=tp(zf(e,r)),o=u.version,s=u.flags,c=zf(e,r),f=zf(e,r);0===o?(n=eu.fromBits(zf(e,r),0,!0),i=eu.fromBits(zf(e,r),0,!0)):(n=jf(e,r),i=jf(e,r)),r.lo(2);for(var a=Hf(e,r),h=[],v=0;v<a;v+=1){var d=zf(e,r),l=d>>31&1,w=2147483647&d,g=zf(e,r),y=zf(e,r),m=y>>31&1,_=y>>28&7,p=268435455&y;h.push({MT:l,FT:w,jw:g,UT:m,VT:_,HT:p})}return{eu:c_.Ap,wb:o,gb:s,qT:c,u_:f,zT:n,WT:i,jT:a,GT:h}},t.yT=function(t){var n,i=t.Ah,e=t.Vp,r=tp(zf(i,e)),u=r.version,o=r.flags;return n=0===u?eu.fromBits(zf(i,e),0,!0):jf(i,e),{eu:c_.Ip,wb:u,gb:o,_T:n}},t}();function ip(t){return t&&"Td"in t?t.Td:t}Te(),Vt(),Ne(),Te(),Vt();var ep=function(t){function n(n,i,e,r,u,o,s){var c;return(c=t.call(this,n,i,e,r)||this).YT=u,c.XT=o,c.$T=s||void 0,c}return Xe(n,t),n.prototype.jy=function(n){return this===n||!!Eg(this,n)&&(!!t.prototype.jy.call(this,n)&&(!!Sg(this.KT,n.KT)&&(!!Sg(this.M_,n.M_)&&(this.JT&&n.JT?!!this.JT.sd(n.JT)&&(this.My&&n.My?this.My.sd(n.My):this.My===n.My):this.JT===n.JT))))},Re(n,[{key:"KT",get:function(){return this.YT}},{key:"M_",get:function(){return this.XT}},{key:"JT",get:function(){return this.$T}},{key:"nl",get:function(){return this.tl||(this.tl=function(t){return kg(Um(t),{get styles(){return t.KT},get regions(){return t.M_},get metadata(){return ip(t.JT)},get content(){return ip(t.My)}})}(this)),this.tl}}]),n}(Wm);Te(),Vt(),Ne();var rp=function(){function t(t,n,i){this.ZT=t,this.QT=n,zw(i)?this.Yt=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Rd(u)}return i}(0,0,i):this.Yt=i}return Re(t,[{key:"tS",get:function(){return this.Yt.fd(!0)}},{key:"By",get:function(){return this.ZT}},{key:"Ly",get:function(){return this.QT}}]),t}();Te(),Vt(),Fe();var up="http://www.w3.org/XML/1998/namespace";function op(t,n){return function(t,n){var i=t.Sd.slice(),e=[];for(;i.length>0;){var r,u=i.shift();if(n(u))e.push(u);else(r=i).push.apply(r,Le(u.Sd))}return e}(t,(function(t){return t.pd===n}))}function sp(t){for(var n={},i=0,e=t.Ad;i<e.length;i++){var r=e[i];n[r.hd]=r.wd}return n}var cp=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,fp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,ap="http://www.w3.org/ns/ttml";function hp(t,n,i){return void 0===i&&(i=d_),function(t,n,i){var e,r=[];try{e=je.ud(t)}catch(t){return r}var u=e.Pd;if("tt"!==u.hd)return r;var o=u&&u.bd(ap,"head")[0],s=u&&u.bd(ap,"body")[0];if(!s||!o)return r;for(var c=function(t){for(var n={},i=t.bd(ap,"styling")[0],e=i&&i.bd(ap,"style")||[],r=0;r<e.length;r++){var u=e[r];n[u.Id(up,"id")]=sp(u)}return n}(o),f=function(t,n){var i=Tg(t),e=wp(n.Ed("tts:extent"));if(!e)return i;for(var r=0,u=v.keys(i);r<u.length;r++){var o=u[r],s=wp(i[o].extent);if(s){var c=dp(s[0],e[0]),f=dp(s[1],e[1]);i[o].extent=c+" "+f}var a=wp(i[o].origin);if(a){var h=dp(a[0],e[0]),d=dp(a[1],e[1]);i[o].origin=h+" "+d}}return i}(function(t){for(var n={},i=t.bd(ap,"layout")[0],e=i&&i.bd(ap,"region")||[],r=0;r<e.length;r++){var u=e[r],o=u.Id(up,"id");if(o){n[o]=sp(u);var s=mp(u);for(var c in s)cr.call(s,c)&&(n[o][c]=s[c])}}return n}(o),u),a=o.bd(ap,"metadata")[0],h=gp(s,i.x_,i.B_,i.L_),d=0;d<h.length;d++){var l=h[d],w=vp(f,l);r.push(new ep(l.By,l.Ly,l.tS,!1,c,w,a))}return r}(t,0,i)}function vp(t,n){for(var i=_p(n.tS),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function dp(t,n){var i=lp(t),e=lp(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function lp(t){return wc(t,"px")?"px":wc(t,"em")?"em":wc(t,"c")?"c":wc(t,"%")?"%":void 0}function wp(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function gp(t,n,i,e){var r,u=function(n){var i=function(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].By,o=i[r].Ly;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&e.push(i[r])}return e}(l[n],l[n+1],c);if(i.length<=0&&function(t){if(zw(t)){var n=t.hd.toUpperCase(),i=Boolean(t.Ed("smpte:backgroundImage"));return"BR"===n||i}return t.Qv===Hw.Za}(t)){var e=t.fd(!1);f.push(new rp(l[n],l[n+1],e))}else if(i.length>0){var r=t.fd(!1);i.forEach((function(t){return r.kd(t.tS)})),f.push(new rp(l[n],l[n+1],r))}},o=n,s=i,c=[],f=[];if(zw(t)){var a,h;o=null!=(a=yp(t.Ed("begin"),e))?a:o,r=yp(t.Ed("dur"),0),s=null!=(h=yp(t.Ed("end"),e))?h:void 0!==r?o+r:s;for(var v=t._d,d=0;d<v.length;d++)("body"===t.hd||"div"===t.hd)&&v[d].Qv>1||(c=c.concat(gp(v[d],o,s,e)))}for(var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.By,u.Ly)}e.sort(Nc);for(var o=e.length,s=0;s<o-1;s++)e[s+1]===e[s]&&(xc(e,s+1),s--,o=e.length);return e}(o,s,c),w=0;w<l.length-1;w++)u(w);return f}function yp(t,n){if(t){if(cp.test(t)){var i=cp.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,o=i[6];return 3600*e+60*r+u+(o?Number(o)*d.pow(.1,o.length):0)+n}if(fp.test(t)){var s=fp.exec(t);if(!s)return;var c,f=Number(s[1]);switch(s[4]){case"h":c=3600*f;break;case"m":c=60*f;break;case"s":c=f;break;case"ms":c=.001*f;break;case"f":case"t":default:c=NaN}return c+n}}}function mp(t){for(var n={},i=t.md("style")||[],e=0;e<i.length;e++){var r=sp(i[e]);for(var u in r)cr.call(r,u)&&(n[u]=r[u])}return n}function _p(t){var n,i=[];if(zw(t)){(n=t.Ed("region"))&&i.push(n);for(var e=t._d,r=0;r<e.length;r++)i=i.concat(_p(e[r]))}return i}function pp(t){var n=function(t){try{return je.ud(t).Pd}catch(t){}}(t);return"tt"===(null==n?void 0:n.hd)}Te(),Vt(),Te(),Vt();var bp,kp=function(t){function n(){return t.apply(this,arguments)}Xe(n,t);var i=n.prototype;return i.Cl=function(n){return t.prototype.Cl.call(this,n)},i.Ol=function(n){var i=t.prototype.Ol.call(this,n);return i&&(n.uw=qg.cw),i},i.il=function(){return Xg(this)},n}(gg);Te(),Vt(),Te(),Vt(),function(t){t.Lp="subtitles",t.nS="captions",t.iS="descriptions",t.eS="chapters",t.Fp="metadata",t.rS="thumbnails"}(bp||(bp={}));var Tp=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function Sp(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Lc(Tp,t)}(n)?n:n?"metadata":"subtitles"}Te(),Vt();var Ep,Ip=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this,n,i,u)||this).url=e,o.status=r,o}return Xe(n,t),n}(ed);function Rp(t,n){return t===bp.rS||t===bp.Fp&&n===bp.rS}function Np(t,n,i,e){for(var r=0,u=t.dw.Dl;r<u.length;r++){var o=u[r];if(o.By>i)break;n<=o.Ly&&e.push(o)}}function Cp(t,n){return Rc(t.Wl,n.Wl)}function Op(t,n){var i=n,e=0;if(function(t){return t instanceof hl}(t)&&t.name===cl.av)i=t.Rh.Ch;else if(function(t){return t instanceof dl}(t)){var r=t.wv;if(i=r.Nh,0===(e=r.kh))return new Ip(Qv.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,e,t)}return new Ip(Qv.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,e,t)}function Ap(t,n,i,e){var r=function(t){switch(t){case cy.WEBVTT:return"WebVTT";case cy.SRT:return"SRT";case cy.TTML:return"TTML";default:return""}}(t);return new Ip(Qv.SUBTITLE_PARSE_ERROR,"Could not parse the "+(r?r+" ":"")+"subtitle file.",n,i,e)}function Dp(t){return function(t){return D_(b_(t))}(t)?cy.WEBVTT:pp(t)?cy.TTML:cy.SRT}function Pp(t,n){for(var i=[],e=0,r=t.dw.Dl;e<r.length;e++){var u=r[e];if(u.Ly<=n)i.push(u);else if(u.By>=n)break}for(var o=0;o<i.length;o++){var s=i[o];t.uS(s)}}Te(),Vt(),function(t){t.oS="vtt",t.gp="wvtt",t.sS="stpp"}(Ep||(Ep={}));var xp=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Db=new kp,n.cS=function(t){var i=t.ul;n.fS(i)},n}Xe(n,t);var i=n.prototype;return i.Cl=function(t){t.Fu(dg.gl,this.cS),this.Db.Cl(t),this.fS(t)},i.Ol=function(t){t.qu(dg.gl,this.cS),t.uw=qg.cw,this.Db.Ol(t)},i.aS=function(t){},i.hS=function(t){},i.fS=function(t){t.uw!==qg.cw?this.aS(t):this.hS(t)},i.vS=function(){for(var t=0,n=this.Db.Dl;t<n.length;t++){var i=n[t];i.qu(dg.gl,this.cS),i.kn()}},i.dS=function(t){if(t>0)for(var n=0,i=this.Db.Dl;n<i.length;n++){Pp(i[n],t)}},i.uf=function(){return this.vS(),this.Db.uf(),G.resolve()},i.kn=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return t.Hu(),[4,t.uf()];case 1:return n.sent(),t.Db.kn(),[2]}}))}))()},n}(ef);Te(),Vt(),Ne();var Bp=function(t){function n(n){var i;return(i=t.call(this,zg.ew)||this).errorObject=n,i}return Xe(n,t),n.prototype.il=function(){return this},Re(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(sg),Lp=function(t){function n(n,i){var e;return(e=t.call(this)||this).lS=new Hc,e.wS=n,e.gS=i,e}Xe(n,t);var i=n.prototype;return i.yS=function(t){if(t.src){var n=t.kind||bp.Lp,i=this.wS.mS(n,t.id,t.label,t.srclang,t.default);return i.ww=sl(t.src),this.Cl(i),i}},i._S=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s,c,f,a,h,v;return Vs(this,(function(d){switch(d.label){case 0:t.hw=Pm.LOADING,e=new el({Ch:t.ww,Sh:Id.Za,Xh:Zd.GET,Au:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,i.gS.Rh(e)];case 2:return o=d.sent(),u=o.kh,[4,o.rh()];case 3:return r=d.sent(),[3,5];case 4:return jc(s=d.sent()),t.hw=Pm.ERROR,t.Lu(new Bp(Op(s,t.ww))),[2];case 5:try{for(c=Dp(r),t.eu=c,f=[],c===cy.WEBVTT||c===cy.SRT?(a=function(t,n){void 0===n&&(n=d_);var i={dw:[],M_:[],H_:[]},e=b_(t),r=new la;if(D_(e),k_(e,(function(t){return"\n"!==t}),r),r.mo>=e.length)return i;for(r.lo(1),"\n"!==e.charAt(r.mo)?R_(T_(e,r,!1,!0,i,n),i):r.lo(1),k_(e,(function(t){return"\n"===t}),r);r.mo<e.length;)R_(T_(e,r,!1,!1,i,n),i),k_(e,(function(t){return"\n"===t}),r);return i}(r),f=a.dw):c===cy.TTML&&(f=hp(r)),h=0;h<f.length;h++)v=f[h],t.pS(v)}catch(n){return jc(n),t.hw=Pm.ERROR,t.Lu(new Bp(Ap(t.eu,t.ww,u,n))),[2]}return t.hw=Pm.LOADED,[2]}}))}))()},i.aS=function(t){Lc(this.Db.Dl,t)&&t.hw===Pm.NONE&&this._S(t,this.lS.Au).catch(Gc)},i.Wc=function(){},i.uf=function(){var n=this;return Fs((function(){var i,e,r;return Vs(this,(function(u){switch(u.label){case 0:for(n.lS.Nu(),n.lS=new Hc,i=0,e=n.Db.Dl;i<e.length;i++)r=e[i],n.wS.bS(r);return[4,t.prototype.uf.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(xp);function Mp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.jl===n&&e.kS)return e}}function Fp(t,n){Up(Mp(t.Dl,n))}function Up(t){void 0!==t&&(t.uw=qg.ow)}function Vp(t,n){Up(Mp(t.Dl,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.jl===n)return e}}(t.Dl,n))}function Hp(t){for(var n=0;n<Tp.length;n++){var i=Tp[n];i===bp.eS?Vp(t,i):Fp(t,i)}}Te(),Vt(),Te(),Vt();var qp,zp=function(t){function n(){return t.call(this,Ed.Ba)}return Xe(n,t),n}(of);Se(),Te(),Vt(),Te(),Vt(),function(t){t[t.TS=0]="TS",t[t.SS=1]="SS"}(qp||(qp={})),Te(),Vt(),Ne(),Te(),Vt();var Wp=function(t){function n(n){var i;return(i=t.call(this,Cy.qw)||this).currentTime=n,i}return Xe(n,t),n}(of);Te(),Vt();var jp=function(t){function n(n){var i;return(i=t.call(this,Cy.zw)||this).currentTime=n,i}return Xe(n,t),n}(of),Gp=(Cy.ml,Cy.zw,Ed.Aa,Ed.Oa,function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).ES=n,e.IS=i,e.RS=fy.Pw,e.NS=!0,e.CS=!1,e.OS=!1,e.AS=function(t){var n=e.ES.hw;n!==e.RS&&e.Lu(new zy(t.currentTime,n)),n===fy.Pw&&(e.CS=!1,e.OS=!1),e.DS(n),e.PS(n),e.xS(n),e.maybeDispatchCanPlayThroughEvent(n),e.BS(n),e.LS(n),e.RS=n},e.MS=function(){e.LS(e.RS),e.BS(e.RS),e.NS=e.ES.$w},e.FS=function(){e.NS=e.ES.$w},e.US=function(t){e.Lu(new jp(t.currentTime))},e.ES.Fu(Cy.ml,e.AS),e.ES.Fu(Ed.Aa,e.MS),e.ES.Fu(Ed.Oa,e.FS),e.IS&&e.ES.Fu(Cy.zw,e.US),e}Xe(n,t);var i=n.prototype;return i.DS=function(t){!this.OS&&t>=fy.xw&&(this.OS=!0,this.Lu(new Dy(this.ES.Ww,t)))},i.PS=function(t){!this.CS&&t>=fy.Bw&&(this.CS=!0,this.Lu(new My(this.ES.Ww,t)))},i.BS=function(t){this.IS||(t>=fy.Lw&&this.RS<fy.Lw&&!this.ES.$w||this.VS&&t>=fy.Lw)&&this.Lu(new jp(this.ES.Ww))},i.LS=function(t){!this.HS(t)||this.ES.Gw||this.ES.Zu||this.Lu(new Wp(this.ES.Ww))},i.xS=function(t){this.RS<=fy.Bw&&t>=fy.Lw&&this.Lu(new Hy(this.ES.Ww,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===fy.Mw&&this.Lu(new qy(this.ES.Ww,t))},i.HS=function(t){var n=!this.ES.$w&&t<=fy.Bw,i=!this.NS&&this.RS<=fy.Bw;return n&&!i},i.uf=function(){this.RS=fy.Pw,this.NS=!0,this.CS=!1,this.OS=!1},i.kn=function(){this.Hu(),this.IS&&this.ES.qu(Cy.zw,this.US),this.ES.qu(Ed.Aa,this.MS),this.ES.qu(Ed.Oa,this.FS),this.ES.qu(Cy.ml,this.AS)},Re(n,[{key:"VS",get:function(){return!this.ES.$w&&this.NS}}]),n}(ef));Te(),Vt(),Te(),Vt();var Yp="titanium",Xp="conax",$p="ezdrm",Kp="irdeto",Jp="vudrm",Zp="verimatrix",Qp="keyos",tb="drmtoday",nb="expressplay",ib="azure",eb="xstream",rb="vimond",ub="axinom",ob="uplynk",sb="comcast",cb="custom";Te(),Vt(),Te(),Vt(),Te(),Vt(),Ne();var fb=function(){function t(t,n,i,e,r){this.qS=void 0,this.Qc=t,this.zS=n,this.WS=i,this.gS=e,this.jS=r,this.GS=this.YS(n)}var n=t.prototype;return n.XS=function(){return this.qS},n.$S=function(t){this.qS=t},n.KS=function(){return this.GS.licenseAcquisitionURL||this.XS()},n.JS=function(t){return G.resolve()},n.ZS=function(t,n){return G.resolve(void 0)},n.QS=function(t,n,i,e){var r=this;return Fs((function(){var u,o;return Vs(this,(function(s){switch(s.label){case 0:if(""===(u=r.tE(t,n,i,e)).Ch)throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");s.label=1;case 1:return s.trys.push([1,4,,6]),[4,r.$d.Rh(u)];case 2:return[4,s.sent().uh(n)];case 3:return[2,s.sent()];case 4:return jc(o=s.sent()),[4,r.nE(o,u.Ch,e)];case 5:return s.sent(),[2];case 6:return[2]}}))}))()},n.tE=function(t,n,i,e){var r=this.iE().Qa(),u=this.Qh,o={Ch:this.eE(),Sh:n,Th:r,ah:t,Qh:u,Xh:Zd.POST,$h:0,Au:e,eu:Qd.Lh,Jh:i};return new el(o)},n.rE=function(t,n){return G.resolve(t)},n.uE=function(t,n,i,e){return G.resolve(t)},n.iE=function(){return new Nd(this.GS.headers||{})},n.nE=function(t,n,i){return Fs((function(){return Vs(this,(function(n){throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.eE=function(t,n){var i=n,e=this.GS.queryParameters;if(!i){var r=this.KS();if(!r)return"";i=r}if(e||t){var u=je.Lr(i);t&&ol(u,t),e&&ol(u,e),i=u.href}return i},n.oE=function(t,n){return ab(t)},n.sE=function(t){return new y(t)},n.cE=function(t,n,i){var e=this;return Fs((function(){var r,u;return Vs(this,(function(o){switch(o.label){case 0:return[4,e.oE(t,i)];case 1:return r=o.sent(),[4,e.QS(r,e.jS,n,i)];case 2:return u=o.sent(),[2,e.sE(u)]}}))}))()},n.kn=function(){},Re(t,[{key:"$d",get:function(){return this.gS}},{key:"fE",get:function(){return!1}},{key:"aE",get:function(){var t=this.GS.certificate;if(t)return gr(t)?_f(t):aa(t)}},{key:"hE",get:function(){return!1}},{key:"Qh",get:function(){return Boolean(this.GS.useCredentials)}}]),t}();function ab(t){return G.resolve(va(t).buffer)}var hb,vb=function(t){function n(n,i,e,r){return t.call(this,fc,n,i,e,r)}Xe(n,t);var i=n.prototype;return i.YS=function(t){return t.widevine||{}},i.vE=function(t,n){var i=this;return Fs((function(){return Vs(this,(function(e){return i.aE?[2,i.aE]:[2,i.dE(new y(t),n)]}))}))()},i.dE=function(n,i){return t.prototype.cE.call(this,n,tl.Vh,i)},n}(fb);function db(t,n){if(null==t)return{};var i,e,r={},u=v.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function lb(t){return ar(t.token&&t.deviceId)}function wb(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&ar(i.PreAuthorization)}function gb(t){var n=t;return lb(n)&&""!==n.token&&""!==n.deviceId&&!wb(n)}Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.lE=!1,t.wE=!1,t.gE=!1,t.yE=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.mE=!1,t._E=!1,t.LOG_LCEVC_DETAILS=!1}(hb||(hb={})),Te(),Vt(),Ne();var yb,mb=function(){function t(t,n,i){this.pE=t,this.xc=n,this.bE=i}return t.prototype.kE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.bE.build(t))},Re(t,[{key:"TE",get:function(){return this.pE}},{key:"Qc",get:function(){return this.xc}}]),t}();Te(),Vt(),function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(yb||(yb={}));var _b=function(){function t(){this.SE=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.EE(t,n,i)){case yb.FAILED:throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case yb.OVERRIDDEN:var e=Mb(n);je.pr("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case yb.SUCCEEDED:Mb(n);0}},n.EE=function(t,n,i){var e=Mb(n);if(!e)return yb.FAILED;for(var r=yb.SUCCEEDED,u=0,o=this.SE.slice();u<o.length;u++){var s=o[u];s.TE===t&&s.Qc===e&&(r=yb.OVERRIDDEN,Pc(this.SE,s))}return this.SE.push(new mb(t,e,i)),r},n.IE=function(t,n){return void 0!==this.RE(t,n)},n.NE=function(t,n,i){var e=this.RE(t,n);if(!e)throw a("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.kE(i)},n.RE=function(t,n){for(var i=0,e=this.SE;i<e.length;i++){var r=e[i];if(r.TE===t&&(!n||r.Qc===n))return r}},t}();_b.CE=new _b;var pb={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function bb(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,o=t.queryParameters;return!(n||i||e||r||u||o)}function kb(t){return t&&void 0!==t.licenseAcquisitionURL}var Tb,Sb=kb,Eb=kb;function Ib(t){if(!t)return!0;if(Ob(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return bb(n)&&bb(i)&&bb(e)&&bb(r)&&bb(u)}function Rb(t){var n=gb(t),i=function(t){var n,i=t;return wb(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!lb(i)}(t);return(!n||!i)&&(n||i)}function Nb(t){return t.integration===Kp}function Cb(t){var n=t;if(!n)return!1;if(Ib(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(Ob(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!Sb(e))return!1;if(r&&!Eb(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(_b.CE.IE(n.integration))return!0;switch(n.integration){case Yp:if(!function(t){return t.integration===Yp&&(Ab(t)||Db(t))}(t))return!1;break;case Jp:if(!Pb(t))return!1;break;case Zp:if(!function(t){return t.integration===Zp}(t))return!1;break;case Kp:if(!Nb(t))return!1;break;case Xp:if(!Rb(t))return!1;break;case $p:if(!function(t){return t.integration===$p}(t))return!1;break;case Qp:if(!Ob(t))return!1;break;case tb:if(!function(t){var n=t;return n.integration===tb&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case nb:if(!function(t){return t.integration===nb}(t))return!1;break;case eb:if(!xb(t))return!1;break;case rb:if(!function(t){return t.integration===rb}(t))return!1;break;case ub:if(!Bb(t))return!1;break;case ib:if(!function(t){var n=t;return n.integration===ib&&void 0!==n.token}(t))return!1;break;case ob:if(!function(t){return t.integration===ob}(t))return!1;break;case sb:if(!function(t){var n=t;return n&&ar(n.releasePid)&&ar(n.accountId)&&ar(n.token)}(t))return!1;break;case cb:return!0;default:return!1}}return!0}function Ob(t){return t.integration===Qp}function Ab(t){return void 0!==t.authToken}function Db(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Pb(t){var n=t;return n.integration===Jp&&void 0!==n.token}function xb(t){var n=t;return n&&n.integration===eb&&gr(n.ticketAcquisitionURL)&&gr(n.streamId)}function Bb(t){var n=t;return n.integration===ub&&void 0!==n.token}function Lb(t,n){var i,e,r,u=n[t],o=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:pb[t],s=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=s?{customData:s}:{},f=Us({},null!=(r=null==u?void 0:u.headers)?r:{},c),a=null!=u?u:{};a.customdata;return Us({},db(a,["customdata"]),{licenseAcquisitionURL:o,headers:f})}function Mb(t){switch(t.toLowerCase()){case"widevine":case ic:return ic;case"playready":case Qs:return Qs;case"fairplay":case oc:return oc}}function Fb(t,n){switch(t){case $s:return function(t){for(var n={},i=np.bb(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.PT]=r.LT}return n}(n);case Ks:case Js:return function(t){return ty({},uc,t)}(n);default:throw new ed(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Qr="Widevine",t.Zr="PlayreadyV2",t.OE="PlayreadyV2",t.AE="PlayreadyV3",t.nu="Fairplay"}(Tb||(Tb={}));var Ub={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Vb(t,n){var i,e,r,u,o=Ub[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=je.Fr)?void 0:i.Ur,OSVersion:null==(e=je.Fr)?void 0:e.jr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(r=je.Fr)?void 0:r.Gr,DeviceModel:null==(u=je.Fr)?void 0:u.Yr}}}function Hb(t,n){if(!t.accountName)throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function qb(t,n,i){var e;if(Ab(t))e={AuthToken:t.authToken,Payload:n};else{if(!Db(t))throw Hb(t,i);e={LatensRegistration:Vb(t,i),Payload:n}}return Cf(JSON.stringify(e))}function zb(t,n,i){return Wb.apply(this,arguments)}function Wb(){return(Wb=Fs((function(t,n,i){var e,r,u,o;return Vs(this,(function(s){switch(s.label){case 0:if(!(e=t.wv))throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);r=e,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.eh(i)];case 2:return u=s.sent(),o=jb(u),[3,4];case 3:return s.sent(),o="",[3,4];case 4:throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,r.Rh.Ch,r.kh,r.Eh,o)}}))}))).apply(this,arguments)}function jb(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}Te(),Vt();var Gb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Id.Ka)||this).DE=void 0,r}Xe(n,t);var i=n.prototype;return i.nE=function(t,n,i){return zb(t,n,i)},i.JS=function(t){return this.DE?Yc(this.DE.ko,t):(this.DE=new wa,G.resolve())},i.oE=function(t,n){var i=this;return Fs((function(){var n,e;return Vs(this,(function(r){if(!(n=i.zS))throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return e=kf(t),[2,qb(n,e,Tb.Qr)]}))}))()},i.sE=function(t){if(!t.license)throw new ym(Qv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return _f(t.license)},i.PE=function(t){return G.resolve(new y(t))},i.vE=function(t,n){var i=this;return Fs((function(){var e,r;return Vs(this,(function(u){switch(u.label){case 0:return i.xE(),[4,i.oE(t,n)];case 1:return e=u.sent(),[4,i.QS(e,Id.$a,tl.Hh,n)];case 2:return r=u.sent(),[4,i.PE(r)];case 3:return[2,u.sent()]}}))}))()},i.dE=function(n,i){var e=this;return Fs((function(){var r;return Vs(this,(function(u){switch(u.label){case 0:return[4,t.prototype.dE.call(e,n,i)];case 1:return r=u.sent(),e.xE(),[2,r]}}))}))()},i.xE=function(){this.DE||(this.DE=new wa),this.DE.To()},i.kn=function(){this.DE&&this.DE.Nu(),t.prototype.kn.call(this)},n.BE=function(){return je.Ur.tr?"required":"optional"},n}(vb);Te(),Vt(),Ne();var Yb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Id.$a)||this).$S("https://widevine-proxy.drm.technology/proxy"),r}return Xe(n,t),n.prototype.oE=function(t,n){var i=this;return Fs((function(){var n,e,r,u;return Vs(this,(function(o){switch(o.label){case 0:return[4,ab(t)];case 1:if(n=o.sent(),e=i.WS,r=da(new y(n)),!(u=i.LE))throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:r,kid:e})]}}))}))()},Re(n,[{key:"LE",get:function(){if(Pb(this.zS))return this.zS.token}}]),n}(vb);function Xb(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Us({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Us({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}Te(),Vt(),Te(),Vt();var $b=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Id.$a)||this).$S("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return Xe(n,t),n.prototype.eE=function(n,i){var e=n;return Nb(this.zS)&&(e=Xb(this.zS,e)),t.prototype.eE.call(this,e,i)},n}(vb);Te(),Vt(),Te(),Vt();var Kb="Conax-Custom-Data";function Jb(t,n,i){var e=t&&Rb(t)&&t;if(e&&!i.has(Kb)){var r=gb(e)?e.token:void 0,u=gb(e)?e.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(Kb,o)}return i}var Zb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Id.$a)||this).$S("https://connect.conax.com:8094/license"),r}return Xe(n,t),n.prototype.iE=function(){var n=t.prototype.iE.call(this);return Jb(this.zS,"Widevine",n)},n}(vb);function Qb(t){var n=Zf(new y(t));return _f(JSON.parse(n).license)}function tk(t){return"string"==typeof t.token?t.token:Cf(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function nk(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}Te(),Vt(),Ne(),Te(),Vt();var ik=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Id.$a)||this).$S("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}Xe(n,t);var i=n.prototype;return i.sE=function(t){return Qb(t)},i.iE=function(){return nk(t.prototype.iE.call(this),this.LE,this.zS)},Re(n,[{key:"LE",get:function(){return tk(this.zS)}}]),n}(vb);Te(),Vt();var ek=function(t){function n(n,i,e){return t.call(this,n,i,e,Id.$a)}return Xe(n,t),n.prototype.iE=function(){var n=t.prototype.iE.call(this),i=this.zS.token;return n.set("Authorization","Bearer "+i),n},n}(vb);function rk(t,n,i,e){return uk.apply(this,arguments)}function uk(){return(uk=Fs((function(t,n,i,e){var r,u,o,s,c,f;return Vs(this,(function(a){switch(a.label){case 0:if(!xb(t))throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(r=new Nd).append("Cache-Control","no-cache"),r.append("Content-Type","application/json"),(u=t.sessionId)&&r.append("XSSESSION",u),o=t.streamId,s=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",c={drmType:n,licenseType:s,streamId:o},f={Ch:t.ticketAcquisitionURL,Sh:Id.Ka,Th:r,Xh:Zd.POST,ah:JSON.stringify(c),Au:e},[4,i.Rh(f)];case 1:return[4,a.sent().eh()];case 2:return[2,a.sent()]}}))}))).apply(this,arguments)}Te(),Vt(),Te(),Vt();var ok=function(t){function n(n,i,e){return t.call(this,n,i,e,Id.Ka)}Xe(n,t);var i=n.prototype;return i.iE=function(){var n=t.prototype.iE.call(this);return n.set("Content-Type","application/json"),n},i.oE=function(n,i){var e=this;return Fs((function(){var r,u,o;return Vs(this,(function(s){switch(s.label){case 0:return r=Nf(n.buffer),[4,rk(e.zS,"widevine_modular",e.$d,i)];case 1:return u=s.sent(),e.$S(u.licenseServerUrl),o=Qf(JSON.stringify({payload:r,ticket:u.ticket})),[2,t.prototype.oE.call(e,o,i)]}}))}))()},i.sE=function(t){return _f(t.license)},n}(vb);Te(),Vt();var sk=function(t){function n(n,i,e){return t.call(this,n,i,e,Id.$a)}return Xe(n,t),n.prototype.iE=function(){if(!Bb(this.zS))throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.iE.call(this);return n.set("X-AxDRM-Message",this.zS.token),n},n}(vb);function ck(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}Te(),Vt();var fk=function(t){function n(n,i,e){var r;return(r=t.call(this,cc,n,i,e,Id.$a)||this).ME=void 0,r}Xe(n,t);var i=n.prototype;return i.YS=function(t){return t.playready||{}},i.iE=function(){var n=new Nd(this.ME);return n.nh(t.prototype.iE.call(this)),n},i.FE=function(t){return t.length>=1&&t[0]._d.length>0},i.ZS=function(n){var i=this.zS.playready.customData;if(i){var e=ck(i),r=ck('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+kf(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return G.resolve({playready:{Ef:r}})}return t.prototype.ZS.call(this,n)},i.oE=function(t,n){var i=this;return Fs((function(){var n;return Vs(this,(function(e){switch(e.label){case 0:return[4,ab(t)];case 1:return n=e.sent(),[2,i.UE(n)]}}))}))()},i.UE=function(t){var n=this;return Fs((function(){var i,e,r,u,o,s,c,f,a,h,v,d,l,w,g,y;return Vs(this,(function(m){r=null,u=new DataView(t),o=function(t,n,i){return void 0===i&&(i=!1),Kf(t,n,i,!0)}(u,new la,!0);try{s=je.ud(o)}catch(t){return[2,r]}for(c=null==(i=s.md("PlayReadyKeyMessage")[0])?void 0:i.md("LicenseAcquisition")[0],a=null!=(f=null==c?void 0:c.md("Challenge"))?f:[],n.FE(a)&&(r=Rf(a[0].Dd)),h=new Nd,d=null!=(v=null==(e=null==c?void 0:c.md("HttpHeaders")[0])?void 0:e.md("HttpHeader"))?v:[],l=0;l<d.length;l++)w=d[l],g=w.md("name")[0].Dd,y=w.md("value")[0].Dd,h.append(g,y);return n.ME=h,[2,r]}))}))()},i.vE=function(t,n){return G.resolve(t)},i.dE=function(n,i){return t.prototype.cE.call(this,n,tl.qh,i)},n}(fb);Te(),Vt(),Te(),Vt(),Ne();var ak=function(){function t(n){this.VE=n,this.wc=t.HE(n)}return t.prototype.qE=function(){var t={};if(this.wc===Tb.AE){var n={LatensRegistration:Vb(this.VE,Tb.AE)};t["X-TITANIUM-DRM-CDATA"]=Cf(JSON.stringify(n))}return t},t.HE=function(t){return"3"===t.version?Tb.AE:Tb.OE},Re(t,[{key:"zE",get:function(){return this.wc}},{key:"hf",get:function(){return this.wc===Tb.OE}}]),t}();var hk=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).WE=new ak(r.zS),r}Xe(n,t);var i=n.prototype;return i.ZS=function(t){var n=this.zS;if(!this.zS)throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Db(n)){var i={};return i.playready={Ef:vk(n,this.WE.zE)},G.resolve(i)}return G.reject(Hb(n,Tb.Zr))},i.iE=function(){var n=new Nd(this.WE.qE());return n.nh(t.prototype.iE.call(this)),n},i.nE=function(t,n,i){return Fs((function(){var e,r,u,o,s,c,f,a;return Vs(this,(function(h){switch(h.label){case 0:if(!(e=t.wv))throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.oh(i)];case 2:return o=h.sent(),s=Zf(new y(o)),(c=je.ud(s))&&(f=op(c,"CustomData")).length>0&&(r=JSON.parse(f[0].Dd),u=null==(a=r.DrmErr)?void 0:a.desc),[3,4];case 3:return h.sent(),[3,4];case 4:throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,e.kh,e.Eh,u)}}))}))()},i.FE=function(t){if(1!==t.length)throw new ym(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(fk);function vk(t,n){var i=Vb(t,n),e=i.DeviceInfo.FormatVersion,r=na(function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+Cf('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),!0);return na('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+kf(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}Te(),Vt(),Ne();var dk=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$S("https://playready-license.drm.technology/rightsmanager.asmx"),r}Xe(n,t);var i=n.prototype;return i.FE=function(t){if(1!==t.length)throw new ym(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.eE=function(n,i){var e=Us({},n||{},{token:this.LE});return t.prototype.eE.call(this,e,i)},Re(n,[{key:"LE",get:function(){if(Pb(this.zS))return this.zS.token}}]),n}(fk);Te(),Vt();var lk=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$S("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return Xe(n,t),n.prototype.eE=function(n,i){var e=n;return Nb(this.zS)&&(e=Xb(this.zS,e)),t.prototype.eE.call(this,e,i)},n}(fk);Te(),Vt();var wk=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$S("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return Xe(n,t),n.prototype.iE=function(){var n=t.prototype.iE.call(this);return Jb(this.zS,"PlayReady",n)},n}(fk);Te(),Vt(),Ne();var gk,yk=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$S("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}Xe(n,t);var i=n.prototype;return i.sE=function(n){return 1===function(t){return lc(Zf(new y(t)),"<?xml")?0:1}(n)?Qb(n):t.prototype.sE.call(this,new y(n))},i.iE=function(){return nk(t.prototype.iE.call(this),this.LE,this.zS)},Re(n,[{key:"LE",get:function(){return tk(this.zS)}}]),n}(fk);!function(t){t[t.jE=0]="jE",t[t.eh=1]="eh"}(gk||(gk={})),Te(),Vt();var mk=function(t){function n(n,i,e){return t.call(this,n,i,e)}Xe(n,t);var i=n.prototype;return i.iE=function(){var n=t.prototype.iE.call(this);return this.GE&&n.set("Ticket",this.GE),n.set("Content-Type","text/xml"),n},i.oE=function(n,i){var e=this;return Fs((function(){var r;return Vs(this,(function(u){switch(u.label){case 0:return[4,rk(e.zS,"playready",e.$d,i)];case 1:return r=u.sent(),e.$S(r.licenseServerUrl),e.GE=r.ticket,[2,t.prototype.oE.call(e,n,i)]}}))}))()},n}(fk);Te(),Vt();var _k,pk=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.iE=function(){if(!Bb(this.zS))throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.iE.call(this);return n.set("X-AxDRM-Message",this.zS.token),n},n}(fk);Te(),Vt(),Ne(),Te(),Vt(),function(t){t.Ka="application/json",t.YE="application/x-www-form-urlencoded",t.XE="application/octet-stream",t.Za="text/plain;charset=UTF-8"}(_k||(_k={}));var bk=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this,n.Qc,i,e,r,u)||this).$E="",o.KE=void 0,o.JE=n.ZE,o}Xe(n,t);var i=n.prototype;return i.QE=function(){return this.GS.certificateURL||this.KE},i.tI=function(t){this.KE=t},i.oE=function(t){return G.resolve(this.nI(t,this.$E))},i.nI=function(t,n){return"spc="+encodeURIComponent(kf(t))+"&assetId="+encodeURIComponent(n)},i.YS=function(t){return t.fairplay||{}},i.iI=function(t){var n=t.indexOf("?");if(n>=0)return G.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return G.resolve(i)}var e=t.split("/");return G.resolve(e[e.length-1])},i.ZS=function(t){var n=this;return Fs((function(){var i,e,r,u;return Vs(this,(function(o){switch(o.label){case 0:return e=null!=(i=n.JE)?i:ea(new y(t)),[4,n.iI(e)];case 1:return r=o.sent(),n.$E=r,(u={}).fairplay={Df:r},[2,u]}}))}))()},i.iE=function(){var n=t.prototype.iE.call(this);return n.set("Content-Type",this.eI),n},i.vE=function(t,n){var i=this;return Fs((function(){return Vs(this,(function(t){switch(t.label){case 0:return i.aE?[2,i.aE]:[4,i.rI(n)];case 1:return[2,t.sent()]}}))}))()},i.dE=function(n,i){return t.prototype.cE.call(this,n,tl.Fh,i)},i.uI=function(t){var n=this.QE(),i=this.iE(),e={Ch:n,Sh:Id.$a,Th:i,Xh:Zd.GET,Qh:!1,ah:null,$h:0,Au:t,eu:Qd.Lh,Jh:tl.Uh};return new el(e)},i.rI=function(t){var n=this;return Fs((function(){var i,e;return Vs(this,(function(r){switch(r.label){case 0:return i=n.uI(t),[4,n.$d.Rh(i)];case 1:return[4,r.sent().oh()];case 2:return e=r.sent(),[2,new y(e)]}}))}))()},i.sE=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=_f(i)}else n=new y(t);return n},i.eE=function(n,i){var e=t.prototype.eE.call(this,n,i);return lc(e,"skd:")&&(e=e.substr("skd:".length)),e},Re(n,[{key:"hE",get:function(){return!0}},{key:"eI",get:function(){return _k.YE}}]),n}(fb);Te(),Vt(),Ne();var kk=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Id.$a)}Xe(n,t);var i=n.prototype;return i.iI=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?G.resolve(""):(i=n.split(";",2)).length>1?G.resolve(i[1]):G.resolve(t.prototype.iI.call(this,n))},i.oE=function(t){return Fs((function(){return Vs(this,(function(n){return[2,t]}))}))()},i.sE=function(t){return new y(t)},i.eE=function(n,i){var e=n||{};return e.p1=cu(),t.prototype.eE.call(this,e,i)},Re(n,[{key:"eI",get:function(){return _k.XE}}]),n}(bk);Te(),Vt(),Ne();var Tk=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Id.$a)||this).$S("https://fairplay-license.drm.technology/license"),u.tI("https://fairplay-license.drm.technology/certificate"),u}Xe(n,t);var i=n.prototype;return i.nI=function(t,n){var i={token:this.LE,contentId:n,payload:kf(t)};return JSON.stringify(i)},i.sE=function(t){return new y(t)},i.iE=function(){var n=t.prototype.iE.call(this);return n.set("x-vudrm-token",this.LE),n},Re(n,[{key:"eI",get:function(){return _k.Ka}},{key:"LE",get:function(){if(!Pb(this.zS))throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.zS.token}}]),n}(bk);Te(),Vt();var Sk="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Ek="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Ik=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Id.$a)}return Xe(n,t),n.prototype.sE=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new ym(Qv.CONTENT_PROTECTION_LICENSE_INVALID,Sk)}if(!n)throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,Ek);return n}(Zf(new DataView(n)));return t.prototype.sE.call(this,i)},n}(bk);Te(),Vt(),Ne();var Rk=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Id.Ka)}Xe(n,t);var i=n.prototype;return i.oE=function(t){var n=this;return Fs((function(){var i,e;return Vs(this,(function(r){if(!(i=n.zS))throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return e=kf(t),[2,qb(i,e,Tb.nu)]}))}))()},i.sE=function(t){try{var n;if(gr(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var e=Rf(n.license);return new y(e)}throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new ym(Qv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.nE=function(t,n,i){return zb(t,n,i)},Re(n,[{key:"eI",get:function(){return _k.Ka}}]),n}(bk);Te(),Vt(),Ne();var Nk=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Id.$a)||this).$S("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.tI("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}Xe(n,t);var i=n.prototype;return i.QE=function(){var n=t.prototype.QE.call(this);if(!n)return n;var i=je.Lr(n),e=this.zS;return Nb(e)&&ol(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.iI=function(n){return Nb(this.zS)?G.resolve(this.zS.contentId):t.prototype.iI.call(this,n)},i.oE=function(t){return Fs((function(){return Vs(this,(function(n){return[2,t]}))}))()},i.sE=function(t){return new y(t)},i.eE=function(n,i){var e=n;return Nb(this.zS)&&(e=function(t,n){return Us({},Xb(t,n),{KeyId:t.keyId})}(this.zS,e)),t.prototype.eE.call(this,e,i)},Re(n,[{key:"eI",get:function(){return _k.XE}}]),n}(bk);Te(),Vt();var Ck=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,Id.Za)||this,!Rb(i))throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.$S("https://connect.conax.com:8097/license"),u}Xe(n,t);var i=n.prototype;return i.iE=function(){var n=t.prototype.iE.call(this);return Jb(this.zS,"FairPlay",n)},i.rI=function(t){var n=this;return Fs((function(){var i,e,r;return Vs(this,(function(u){switch(u.label){case 0:return i=n.QE(),e={Ch:i,Sh:Id.$a,Th:{},Xh:Zd.GET,Qh:!1,ah:null,$h:0,Au:t,eu:Qd.Lh,Jh:tl.Uh},[4,n.$d.Rh(e)];case 1:return[4,u.sent().oh()];case 2:return r=u.sent(),[2,new y(r)]}}))}))()},i.oE=function(t){return Fs((function(){return Vs(this,(function(n){return[2,t]}))}))()},i.iI=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),G.resolve(function(t){return Zf(_f(t))}(n))):G.resolve("unknown")},i.sE=function(t){try{var n=JSON.parse(t);return new y(Rf(n.CkcMessage))}catch(t){throw new a("CFLRW-66")}},n}(bk);Te(),Vt();var Ok=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Id.Za)||this).$S(pb[Xs.nu]),u}Xe(n,t);var i=n.prototype;return i.iI=function(t){return lc(t,"skd://")?G.resolve(t.substring("skd://".length,40)):G.reject(new ym(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.nI=function(t,n){return"spc="+kf(t)+"&assetId="+n},n}(bk);Te(),Vt(),Ne();var Ak=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Id.Za)||this).$S("https://lic.drmtoday.com/license-server-fairplay/"),u}Xe(n,t);var i=n.prototype;return i.nI=function(t,n){var i="spc="+encodeURIComponent(kf(t))+"&"+encodeURI(n);return"persistent"===this.GS.licenseType?i+"&offline=true":i},i.iE=function(){return nk(t.prototype.iE.call(this),this.LE,this.zS)},Re(n,[{key:"LE",get:function(){return tk(this.zS)}}]),n}(bk);Te(),Vt(),Ne();var Dk=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Id.$a)}Xe(n,t);var i=n.prototype;return i.iI=function(t){var n=t;return lc(n,"skd:")&&(n="http:"+n.substring(4)),lc(n,"http:")||lc(n,"https:")?G.resolve(je.Lr(n).hostname):G.reject(new a("Could not parse ExpressPlay FairPlay content ID."))},i.oE=function(t){return Fs((function(){return Vs(this,(function(n){return[2,t]}))}))()},i.sE=function(t){return new y(t)},Re(n,[{key:"eI",get:function(){return _k.XE}}]),n}(bk);Te(),Vt();var Pk=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Id.Za)}return Xe(n,t),n.prototype.iE=function(){var n=t.prototype.iE.call(this),i=this.zS.token;return n.set("Authorization","Bearer "+i),n},n}(bk);Te(),Vt(),Ne();var xk=function(t){function n(n,i,e,r){var u=t.call(this,n,i,e,r,Id.Ka);if(!xb(i))throw new a("Invalid Xstream DRM configuration");return u}Xe(n,t);var i=n.prototype;return i.rI=function(t){var n=this;return Fs((function(){var i,e,r,u;return Vs(this,(function(o){switch(o.label){case 0:return i=n.QE(),e=n.iE(),r={Ch:i,Sh:Id.Ka,Th:e,Xh:Zd.POST,Au:t,eu:Qd.Lh,Jh:tl.Uh},[4,n.$d.Rh(r)];case 1:return[4,o.sent().eh()];case 2:return u=o.sent(),[2,new y(_f(u.certificate))]}}))}))()},i.dE=function(t,n,i){void 0===i&&(i=Id.Za);var e=this;return Fs((function(){var i,r,u,o;return Vs(this,(function(s){switch(s.label){case 0:return i=kf(t),[4,rk(e.zS,"fairplay",e.$d,n)];case 1:return r=s.sent(),u=Qf(JSON.stringify({spc:i,ticket:r.ticket})),o={Ch:e.KS(),Sh:Id.Ka,Th:e.iE(),Xh:Zd.POST,ah:u,$h:0,Au:n,eu:Qd.Lh,Jh:tl.Fh},[4,e.$d.Rh(o)];case 2:return[4,s.sent().eh()];case 3:return[2,_f(s.sent().licence)]}}))}))()},Re(n,[{key:"eI",get:function(){return _k.Ka}}]),n}(bk);Te(),Vt();var Bk=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Id.Za)}Xe(n,t);var i=n.prototype;return i.nI=function(t,n){return kf(t)},i.sE=function(n){if(0===n.length)throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.sE.call(this,n)},i.iE=function(){var n=t.prototype.iE.call(this);return n.set("Content-Type","text/plain"),n},n}(bk);Te(),Vt(),Ne();var Lk=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Id.$a)}Xe(n,t);var i=n.prototype;return i.nI=function(t,n){return t},i.sE=function(t){return new y(t)},i.iE=function(){if(!Bb(this.zS))throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.iE.call(this);return n.set("X-AxDRM-Message",this.zS.token),n},Re(n,[{key:"eI",get:function(){return _k.Ka}}]),n}(bk);Te(),Vt(),Ne();var Mk=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Id.Ka)||this).oI=void 0,u}Xe(n,t);var i=n.prototype;return i.nI=function(t,n){var i={spc:kf(t)};return JSON.stringify(i)},i.iI=function(t){var n=je.Lr(t);return this.oI=t,n.searchParams.has("b")?G.resolve(n.searchParams.get("b")):G.reject(new ym(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.eE=function(n,i){var e=this.KS();return!e&&this.oI&&(e=this.oI),e&&(e=e.replace("skd://","https://")),t.prototype.eE.call(this,n,i||e)},i.sE=function(t){try{var n;if((n=gr(t)?JSON.parse(t.trim()):t).ckc)return _f(n.ckc)}catch(t){throw new ym(Qv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Re(n,[{key:"eI",get:function(){return _k.Za}}]),n}(bk);Te(),Vt(),Te(),Vt(),Te(),Vt();var Fk=function(){function t(t,n){this.sI=t,this.cI=n}var n=t.prototype;return n.fI=function(t){return this.sI(t)},n.aI=function(t,n){throw new h(n+" must be "+this.cI+". (Received: "+t+")")},t}(),Uk=(new Fk((function(t){return!0}),"any"),new Fk(_r,"a number")),Vk=new Fk(gr,"a string"),Hk=new Fk(yr,"a boolean");new Fk((function(t){return"[object Date]"===fr.call(t)}),"a date"),new Fk(hr,"undefined"),new Fk(lr,"an object"),new Fk((function(t){return null===t}),"null"),new Fk((function(t){return null==t}),"null or undefined");var qk=function(t){return{fI:function(n){if(!lr(n))return!1;for(var i=0,e=v.keys(t);i<e.length;i++){var r=e[i];if(!t[r].fI(n[r]))return!1}return!0},aI:function(n,i){if(!lr(n))throw new h(i+" must be an object.");for(var e=0,r=v.keys(t);e<r.length;e++){var u=r[e],o=t[u];if(!o.fI(n[u]))return o.aI(n[u],i+"."+String(u))}throw new h}}}({responseCode:Uk,isException:Hk,description:Vk,title:Vk,correlationId:Vk});function zk(t,n,i,e,r){return Wk.apply(this,arguments)}function Wk(){return(Wk=Fs((function(t,n,i,e,r){return Vs(this,(function(u){switch(u.label){case 0:return[4,Gk(jk(t,n,i,r),e)];case 1:return[2,u.sent()]}}))}))).apply(this,arguments)}function jk(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=je.Lr(t);return ol(i,n),i.toString()}(i,r)),o=new Nd({});o.append("Content-Type","application/json");var s=kf(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{Ch:u,Sh:Id.Za,Th:o,Xh:Zd.POST,ah:JSON.stringify(c),Au:e,eu:Qd.Lh,Jh:tl.Fh}}function Gk(t,n){return Yk.apply(this,arguments)}function Yk(){return(Yk=Fs((function(t,n){var i;return Vs(this,(function(e){switch(e.label){case 0:return[4,n.Rh(t)];case 1:return[4,e.sent().eh()];case 2:if(i=e.sent(),qk.fI(i))throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.Ch,i.responseCode);return[2,_f(i.getFairplayLicenseResponse.ckcResponse)]}}))}))).apply(this,arguments)}var Xk=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Id.$a)||this).hI=i,u}Xe(n,t);var i=n.prototype;return i.iI=function(n){var i=n.replace("FairPlay",this.hI.releasePid);return t.prototype.iI.call(this,i)},i.dE=function(t,n){var i=this;return Fs((function(){return Vs(this,(function(e){switch(e.label){case 0:return[4,zk(t,i.hI,i.KS(),i.$d,n)];case 1:return[2,e.sent()]}}))}))()},n}(bk);Te(),Vt();var $k=function(t){function n(n,i,e){return t.call(this,hc,n,i,e,Id.$a)}Xe(n,t);var i=n.prototype;return i.YS=function(t){return t.clearkey||{}},i.QS=function(n,i,e,r){var u=this;return Fs((function(){var i,o;return Vs(this,(function(s){if(i=u.GS,u.KS())return[2,t.prototype.QS.call(u,n,u.jS,e,r)];if(i.keys&&i.keys.length)return o={keys:i.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,Qf(JSON.stringify(o)).buffer];throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.vE=function(t,n){return G.resolve(new y(0))},i.dE=function(n,i){return t.prototype.cE.call(this,n,tl.zh,i)},n}(fb);Te(),Vt();var Kk=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n}(vb);Te(),Vt(),Te(),Vt();var Jk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Zk(t,n,i){return Qk.apply(this,arguments)}function Qk(){return(Qk=Fs((function(t,n,i){var e,r,u;return Vs(this,(function(o){switch(o.label){case 0:return e=dT(n),(r=t.onCertificateRequest)&&"function"==typeof r?[4,Yc(G.resolve(r.call(t,e)),i)]:[2,G.resolve(n)];case 1:return fa(u=o.sent())?[2,aa(u)]:[2,vT(Us({},Jk,u))]}}))}))).apply(this,arguments)}function tT(t,n,i,e,r){return nT.apply(this,arguments)}function nT(){return(nT=Fs((function(t,n,i,e,r){var u,o;return Vs(this,(function(s){switch(s.label){case 0:return u=t.onCertificateResponse,o=hT(n,i,e),u&&"function"==typeof u?[4,Yc(G.resolve(u.call(t,o)),r)]:[2,G.resolve(n)];case 1:return[2,aa(s.sent())]}}))}))).apply(this,arguments)}function iT(t,n,i,e){return eT.apply(this,arguments)}function eT(){return(eT=Fs((function(t,n,i,e){var r;return Vs(this,(function(u){switch(u.label){case 0:return[4,oT(t,n,i,e)];case 1:return(r=u.sent())instanceof ArrayBuffer?[2,r]:[2,vT(r)]}}))}))).apply(this,arguments)}function rT(t,n,i,e,r,u){return uT.apply(this,arguments)}function uT(){return(uT=Fs((function(t,n,i,e,r,u){var o;return Vs(this,(function(s){switch(s.label){case 0:return o=aT(i,r),[4,cT(t,new y(n),o,e,u)];case 1:return[2,aa(s.sent())]}}))}))).apply(this,arguments)}function oT(t,n,i,e){return sT.apply(this,arguments)}function sT(){return(sT=Fs((function(t,n,i,e){var r,u,o;return Vs(this,(function(s){switch(s.label){case 0:return r=null==t?void 0:t.onLicenseRequest,u=aT(n,i),r&&"function"==typeof r?[4,Yc(G.resolve(r.call(t,u)),e)]:[2,G.resolve(u)];case 1:return fa(o=s.sent())?[2,aa(o).buffer]:[2,Us({fairplaySkdUrl:void 0},Jk,o)]}}))}))).apply(this,arguments)}function cT(t,n,i,e,r){return fT.apply(this,arguments)}function fT(){return(fT=Fs((function(t,n,i,e,r){var u,o;return Vs(this,(function(s){switch(s.label){case 0:return u=null==t?void 0:t.onLicenseResponse,o=hT(n,i,e),u&&"function"==typeof u?[4,Yc(G.resolve(u.call(t,o)),r)]:[2,G.resolve(n)];case 1:return[2,aa(s.sent())]}}))}))).apply(this,arguments)}function aT(t,n){return Us({},dT(t),{fairplaySkdUrl:n})}function hT(t,n,i){return{url:i.Nh,status:i.kh,statusText:i.Eh,headers:i.Th.Qa(),body:t,request:n}}function vT(t){return new el({Ch:t.url,Xh:t.method,Th:t.headers,ah:t.body,Qh:t.useCredentials})}function dT(t){var n;return{url:t.Ch,body:null!=(n=lT(t.ah))?n:null,headers:t.Th.Qa(),method:t.Xh,useCredentials:t.Qh}}function lT(t){if(t)return"string"==typeof t?ra(t):t instanceof ArrayBuffer?new y(t):Sf(t)?ca(t):void 0}var wT=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).vI=r,u}Xe(n,t);var i=n.prototype;return i.vE=function(t,n){return G.resolve(t)},i.dE=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s,c;return Vs(this,(function(f){switch(f.label){case 0:return[4,i.UE(va(t).buffer)];case 1:return e=f.sent(),r=i.tE(e,Id.$a,tl.qh,n),[4,iT(i.vI,r,void 0,n)];case 2:if((u=f.sent())instanceof ArrayBuffer)return[2,new y(u)];if(""===u.Ch)throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");f.label=3;case 3:return f.trys.push([3,7,,8]),[4,i.$d.Rh(u)];case 4:return[4,(o=f.sent()).oh(n)];case 5:return s=f.sent(),[4,rT(i.vI,s,r,o,void 0,n)];case 6:return[2,f.sent()];case 7:throw jc(c=f.sent()),new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c);case 8:return[2]}}))}))()},n}(fk);Te(),Vt();var gT=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,Id.$a)||this).vI=r,u}Xe(n,t);var i=n.prototype;return i.vE=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s,c;return Vs(this,(function(f){switch(f.label){case 0:return i.aE?[2,i.aE]:(e=i.tE(t,Id.$a,tl.Hh,n),[4,Zk(i.vI,e,n)]);case 1:if((r=f.sent())instanceof y)return[2,r];if(""===r.Ch)throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");f.label=2;case 2:return f.trys.push([2,5,,6]),[4,i.$d.Rh(r)];case 3:return[4,(u=f.sent()).oh(n)];case 4:return o=f.sent(),[3,6];case 5:throw jc(s=f.sent()),new ym(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",s);case 6:return c=aT(e,void 0),[4,tT(i.vI,new y(o),c,u,n)];case 7:return[2,f.sent()]}}))}))()},i.dE=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s;return Vs(this,(function(c){switch(c.label){case 0:return e=i.tE(t,Id.$a,tl.Vh,n),[4,iT(i.vI,e,void 0,n)];case 1:if((r=c.sent())instanceof ArrayBuffer)return[2,new y(r)];if(""===r.Ch)throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,6,,7]),[4,i.$d.Rh(r)];case 3:return[4,(u=c.sent()).oh(n)];case 4:return o=c.sent(),[4,rT(i.vI,o,e,u,void 0,n)];case 5:return[2,c.sent()];case 6:throw jc(s=c.sent()),new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",s);case 7:return[2]}}))}))()},n}(Kk);Te(),Vt();var yT,mT=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this,n,i,e,r,Id.$a)||this).vI=u,o}Xe(n,t);var i=n.prototype;return i.vE=function(t,n){var i=this;return Fs((function(){var t,e,r,u,o,s;return Vs(this,(function(c){switch(c.label){case 0:return i.aE?[2,i.aE]:(t=i.uI(n),[4,Zk(i.vI,t,n)]);case 1:if(e=c.sent(),Sf(e))return[2,e];c.label=2;case 2:return c.trys.push([2,6,,7]),[4,i.$d.Rh(e)];case 3:return[4,(r=c.sent()).oh()];case 4:return u=c.sent(),o=aT(t,void 0),[4,tT(i.vI,new y(u),o,r,n)];case 5:return[2,c.sent()];case 6:throw jc(s=c.sent()),new ym(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",s);case 7:return[2]}}))}))()},i.dE=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s;return Vs(this,(function(c){switch(c.label){case 0:return e=i.tE(t,Id.$a,tl.Fh,n),[4,iT(i.vI,e,i.dI,n)];case 1:if((r=c.sent())instanceof ArrayBuffer)return[2,new y(r)];if(""===r.Ch)throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,6,,7]),[4,i.$d.Rh(r)];case 3:return[4,(u=c.sent()).oh(n)];case 4:return o=c.sent(),[4,rT(i.vI,o,e,u,i.dI,n)];case 5:return[2,c.sent()];case 6:throw jc(s=c.sent()),new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",s);case 7:return[2]}}))}))()},i.iI=function(n){var i;return this.dI=n,(null==(i=this.vI)?void 0:i.extractFairplayContentId)?G.resolve(this.vI.extractFairplayContentId(n)):t.prototype.iI.call(this,n)},n}(bk),_T=function(){function t(){}var n=t.prototype;return n.lI=function(t,n,i,e){switch(t.Qc.eu){case Xs.Qr:return this.wI(n,i,e);case Xs.Zr:return this.gI(n,i,e);case Xs.nu:return this.yI(t,n,i,e);case Xs.tu:default:return this.mI(n,i,e)}},n.wI=function(t,n,i){var e=function(t){return t.integration===cb&&gr(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(e&&_b.CE.IE(e,ic)){var r=_b.CE.NE(e,ic,t);return new gT(t,n,i,r)}switch(e){case Yp:return new Gb(t,n,i);case Jp:return new Yb(t,n,i);case Kp:return new $b(t,n,i);case Xp:return new Zb(t,n,i);case tb:return new ik(t,n,i);case ib:return new ek(t,n,i);case eb:return new ok(t,n,i);case ub:return new sk(t,n,i);case Qp:default:return new Kk(t,n,i,Id.$a)}},n.gI=function(t,n,i){var e=t.integration;if(e&&_b.CE.IE(e,Qs)){var r=_b.CE.NE(e,Qs,t);return new wT(t,n,i,r)}switch(e){case Yp:return new hk(t,n,i);case Jp:return new dk(t,n,i);case Kp:return new lk(t,n,i);case Xp:return new wk(t,n,i);case tb:return new yk(t,n,i);case eb:return new mk(t,n,i);case ub:return new pk(t,n,i);case Qp:default:return new fk(t,n,i)}},n.yI=function(t,n,i,e){var r=n.integration;if(r&&_b.CE.IE(r,oc)){var u=_b.CE.NE(r,oc,n);return new mT(t,n,i,e,u)}switch(r){case $p:return new kk(t,n,i,e);case Jp:return new Tk(t,n,i,e);case Zp:return new Ik(t,n,i,e);case Yp:return new Rk(t,n,i,e);case Kp:return new Nk(t,n,i,e);case Xp:return new Ck(t,n,i,e);case Qp:return new Ok(t,n,i,e);case tb:return new Ak(t,n,i,e);case nb:return new Dk(t,n,i,e);case ib:return new Pk(t,n,i,e);case eb:return new xk(t,n,i,e);case rb:return new Bk(t,n,i,e);case ub:return new Lk(t,n,i,e);case ob:return new Mk(t,n,i,e);case sb:return new Xk(t,n,i,e);default:return new bk(t,n,i,e,Id.Za)}},n.mI=function(t,n,i){return new $k(t,n,i)},n._I=function(t){return t.eu===Xs.Zr||t.eu===Xs.Qr||t.eu===Xs.nu||t.eu===Xs.tu},n.hf=function(t,n){var i;if(t.eu!==Xs.Zr)return!1;if(ar(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!_b.CE.IE(e,oc))&&(e===Yp&&new ak(n).hf)},n.BE=function(t,n){if(t.eu===Xs.Qr){var i=n.integration;if(!i||!_b.CE.IE(i,oc))return i===Yp?Gb.BE():void 0}},t}();Te(),Vt(),Te(),Vt(),function(t){t[t.pI=0]="pI",t[t.bI=1]="bI",t[t.kI=2]="kI",t[t.TI=3]="TI",t[t.SI=4]="SI",t[t.Iw=5]="Iw",t[t.EI=6]="EI",t[t.II=7]="II",t[t.Nw=8]="Nw",t[t.RI=9]="RI",t[t.NI=10]="NI"}(yT||(yT={})),Te(),Vt(),Ne();var pT=function(){function t(){}return t.prototype.CI=function(t){},Re(t,[{key:"OI",get:function(){return 0}},{key:"AI",get:function(){return 0}}]),t}();Te(),Vt();var bT=function(){function t(t,n){void 0===n&&(n=new _T),this.VE=void 0,this.gS=t,this.DI=n}var n=t.prototype;return n.xI=function(t){this.VE=t},n.BE=function(t){var n=this.VE;if(void 0!==n)return this.DI.BE(t,n)},n.hf=function(t){var n=this.VE;return void 0!==n&&this.DI.hf(t,n)},n.BI=function(t){var n={Qc:t.Qc,LI:t.LI||[],MI:t.MI,ZE:t.ZE},i=this.DI.lI(n,this.VE||{},t.WS,this.gS);return n.MI&&i.$S(n.MI),new kT(i)},t}(),kT=function(){function t(t){this.FI=t}var n=t.prototype;return n.JS=function(t){return this.FI.JS(t)},n.ZS=function(t,n,i){return this.FI.ZS(n,i)},n.hE=function(){return this.FI.hE||void 0!==this.FI.aE},n.vE=function(t,n){return this.FI.vE(t,n)},n.dE=function(t,n,i){return n&&this.FI.$S(n),this.FI.dE(t,i)},n.ku=function(){this.FI.kn()},t}();Te(),Vt();var TT=function(t){function n(n){var i;(i=t.call(this)||this).UI=[],i.VI=function(t){i.Cl(t.ul)},i.HI=function(t){var n=t.ul;i.qI(n)||i.Ol(n)};for(var e=0;e<n.length;e++){var r=n[e];i.zI(r)}return i}Xe(n,t);var i=n.prototype;return i.zI=function(t){this.UI.push(t);for(var n=0,i=t.Dl;n<i.length;n++){var e=i[n];this.Cl(e)}this.WI(t)},i.jI=function(t){Pc(this.UI,t),this.GI(t);for(var n=0,i=t.Dl;n<i.length;n++){var e=i[n];this.qI(e)||this.Ol(e)}},i.qI=function(t){for(var n=0,i=this.UI;n<i.length;n++){if(i[n].Al(t))return!0}return!1},i.WI=function(t){t.Fu(ig.Kd,this.VI),t.Fu(ig.Zd,this.HI)},i.GI=function(t){t.qu(ig.Kd,this.VI),t.qu(ig.Zd,this.HI)},i.kn=function(){for(;this.UI.length>0;)this.jI(this.UI[0]);t.prototype.kn.call(this)},i.il=function(){return Xg(this)},n}(gg);function ST(t){return{get enabled(){return t.ql},set enabled(n){t.ql=Rg(n)},get currentLatency(){return t.ag},get streamConfiguration(){if(void 0!==t.YI)return function(t){return{get minimumOffset(){return t.ng},get maximumOffset(){return t.eg},get targetOffset(){return t.ig},get forceSeekOffset(){return t.rg},get minimumPlaybackRate(){return t.ug},get maximumPlaybackRate(){return t.og}}}(t.YI)},get configuration(){return function(t){return{get minimumOffset(){return t.ng},set minimumOffset(n){t.ng=Cg(n)},get maximumOffset(){return t.eg},set maximumOffset(n){t.eg=Cg(n)},get targetOffset(){return t.ig},set targetOffset(n){t.ig=Cg(n)},get forceSeekOffset(){return t.rg},set forceSeekOffset(n){t.rg=Cg(n)},get minimumPlaybackRate(){return t.ug},set minimumPlaybackRate(n){t.ug=Cg(n)},get maximumPlaybackRate(){return t.og},set maximumPlaybackRate(n){t.og=Cg(n)},update:function(n){t.Gc(function(t){var n={};void 0!==t.minimumOffset&&(n.ng=Cg(t.minimumOffset));void 0!==t.maximumOffset&&(n.eg=Cg(t.maximumOffset));void 0!==t.targetOffset&&(n.ig=Cg(t.targetOffset));void 0!==t.forceSeekOffset&&(n.rg=Cg(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.ug=Cg(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.og=Cg(t.maximumPlaybackRate));return n}(n))}}}(t.tf)}}}Te(),Vt(),Ne(),Te(),Vt();var ET,IT=function(){function t(){this.XI={rg:0,eg:0,og:0,ng:0,ug:0,ig:0,Gc:pr}}return Re(t,[{key:"nl",get:function(){return null!=this.tl||(this.tl=ST(this)),this.tl}},{key:"ql",get:function(){return!1},set:function(t){}},{key:"ag",get:function(){}},{key:"YI",get:function(){}},{key:"tf",get:function(){return this.XI}}]),t}();function RT(){return ET||(ET=_e&&_e.document&&_e.document.createElement("video")),ET}var NT=!(!_e||!_e.TextTrack),CT=function(t){function n(n,i,e,r,u,o,s){var c;return void 0===o&&(o=new _T),void 0===s&&(s=_d()),(c=t.call(this)||this).$I=void 0,c.KI=void 0,c.JI=void 0,c.ZI=new pT,c.QI=new IT,c.tR=function(t){var n=t.Zu,i=n.code,e=new ed(function(t){switch(t){case 1:return Qv.MEDIA_ABORTED;case 2:return Qv.NETWORK_ERROR;case 3:return Qv.MEDIA_DECODE_ERROR;case 4:return Qv.SOURCE_NOT_SUPPORTED;case 5:return Qv.CONTENT_PROTECTION_ERROR;case 6:return Qv.LICENSE_ERROR;case 7:return Qv.AD_ERROR}}(i),"Something went wrong during native playback.",n),r=new mm(i,e.message,n.message);c.nR(e,r)},c.iR=function(){c.Lu(new By(c.Ww,c.$g))},c.eR=function(t){c.$w||(c.rR=void 0),c.Lu(t)},c.uR=function(t){c.rR=void 0},c.oR=function(){c.Lu(new Lm(c.Jg))},c.sR=function(){c.Qw>0&&c.Zw>0&&c.Lu(new zp)},c.cR=function(t){c._g.Cl(new Om(t.track))},c.fR=function(t){var n=AT(c._g,t.track);n&&c._g.Ol(n)},c.aR=function(){c.hR(c._g)},c.vR=function(t){c.pg.Cl(new Dm(t.track))},c.dR=function(t){var n=AT(c.pg,t.track);n&&c.pg.Ol(n)},c.lR=function(){c.hR(c.pg)},c.wR=function(t){c.Lu(t),c.nR(t.errorObject,pm(t.errorObject))},c.gR=i,c.gS=e,c.hu=s,c.yR=c.gR.wn(jy.Gh),c.mR=c.yR._R.preload,c.pR=new Gp(c.yR,!0),c.pR.Fu(Ay,c.Bu),c.bR=new bT(e,o),c.yR.kR=c.bR,c.TR(),c._g=new bm,c.pg=new bm,c.SR(),c.ER=new Lp(c.yR,c.gS),c.bg=new TT([c.yR.Rg]),c.Mg(),c}Xe(n,t);var i=n.prototype;return i.Fg=function(){this.yR.Fg()},i.Mg=function(){this.yR.Mg()},i.Ag=function(t,n,i){var e=this;return Fs((function(){var r;return Vs(this,(function(u){switch(u.label){case 0:return Wc(i),r={eu:qp.TS,ww:t.src,fh:t.type,IR:e.RR(t),hy:e.mR,NR:t.crossOrigin,CR:n.metadata&&n.metadata.title},e.bR.xI(t.contentProtection),[4,e.yR.Wc(r)];case 1:return e.$I=u.sent(),Wc(i),n.textTracks&&e.OR(n.textTracks),Hp(e.Rg),[2]}}))}))()},i.OR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.yR.AR()&&sr.Ui&&NT&&!Rp(i.kind,i.label)&&this.DR(i)){var e,r=null!=(e=i.kind)?e:bp.Lp;this.yR.PR(i.src,r,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.ER.yS(i)}}},i.DR=function(t){return!t.format||"webvtt"===t.format},i.gn=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.yR.gn()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.xR?[3,5]:[4,t.yR.Gu(Ed.Da)];case 4:return n.sent(),[3,3];case 5:return[2]}}))}))()},i.yn=function(){this.yR.yn()},i.Dg=function(){return void 0!==this.yR._R.webkitShowPlaybackTargetPicker},i.Pg=function(){this.yR._R.webkitShowPlaybackTargetPicker&&this.yR._R.webkitShowPlaybackTargetPicker()},i.xg=function(){this.yR._R.webkitShowPlaybackTargetPicker&&this.yR._R.webkitShowPlaybackTargetPicker()},i.Ug=function(){return this.yR._R},i.Vg=function(){return this.yR.LR},i.uf=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return t.KI=void 0,t.JI=void 0,t.$I=void 0,[4,t.ER.uf()];case 1:return n.sent(),t.yR.MR(),[4,t.yR.uf()];case 2:return n.sent(),t.pR.uf(),t.hy=t.mR,t.Eg.uf(),t.Ig.uf(),t.rR=void 0,[2]}}))}))()},i.kn=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return[4,t.uf()];case 1:return n.sent(),t.Hu(),t.FR(),t.UR(),t.pR.kn(),t.yR.kR=void 0,[4,t.gR.pn(t.yR)];case 2:return n.sent(),t._g.kn(),t.pg.kn(),t.bg.kn(),[4,t.ER.kn()];case 3:return n.sent(),[2]}}))}))()},i.TR=function(){this.yR.Fu(Ed.Aa,this.Bu),this.yR.Fu(Ed.Oa,this.Bu),this.yR.Fu(Ed.Wa,this.iR),this.yR.Fu(Ed.Da,this.Bu),this.yR.Fu(Ed.Ea,this.Bu),this.yR.Fu(Ed.Ma,this.Bu),this.yR.Fu(Ed.La,this.eR),this.yR.Fu(Ed.ma,this.Bu),this.yR.Fu(Ed.Pa,this.Bu),this.yR.Fu(Ed.ja,this.Bu),this.yR.Fu(Ed.ga,this.Bu),this.yR.Fu(Ed.Ba,this.sR),this.yR.Fu(Cy.zw,this.uR),this.yR.Fu(zg.ew,this.tR),this.yR.Fu(Ed.da,this.Bu),this.yR.Fu(Ed.va,this.wR),this.yR._R.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.oR)},i.FR=function(){this.yR.qu(Ed.Aa,this.Bu),this.yR.qu(Ed.Oa,this.Bu),this.yR.qu(Ed.Wa,this.iR),this.yR.qu(Ed.Da,this.Bu),this.yR.qu(Ed.Ea,this.Bu),this.yR.qu(Ed.Ma,this.Bu),this.yR.qu(Ed.La,this.eR),this.yR.qu(Ed.ma,this.Bu),this.yR.qu(Ed.Pa,this.Bu),this.yR.qu(Ed.ja,this.Bu),this.yR.qu(Ed.ga,this.Bu),this.yR.qu(Ed.Ba,this.sR),this.yR.qu(Cy.zw,this.uR),this.yR.qu(zg.ew,this.tR),this.yR.qu(Ed.da,this.Bu),this.yR.qu(Ed.va,this.wR),this.yR._R.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.oR)},i.RR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Qc:ac,HR:[{initDataTypes:[ac.uu],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.SR=function(){var t=this.yR._R.audioTracks,n=this.yR._R.videoTracks;t&&(t.addEventListener("addtrack",this.cR),t.addEventListener("removetrack",this.fR),t.addEventListener("change",this.aR)),n&&(n.addEventListener("addtrack",this.vR),n.addEventListener("removetrack",this.dR),n.addEventListener("change",this.lR))},i.UR=function(){var t=this.yR._R.audioTracks,n=this.yR._R.videoTracks;t&&(t.removeEventListener("addtrack",this.cR),t.removeEventListener("removetrack",this.fR),t.removeEventListener("change",this.aR)),n&&(n.removeEventListener("addtrack",this.vR),n.removeEventListener("removetrack",this.dR),n.removeEventListener("change",this.lR))},i.hR=function(t){for(var n=0;n<t.Pl;n++){t.Nl(n).Ty()}},i.Gg=function(){this.yR.Gg()},i.Yg=function(){},i.nR=function(t,n){this.KI||(this.KI=n,this.JI=t,this.Lu(new Wy(t)))},Re(n,[{key:"xR",get:function(){var t=this.yR.Xg,n=this.Ww;return t.qR(n,.01)}},{key:"Eg",get:function(){return this._g}},{key:"Xg",get:function(){return this.yR.Xg.zR()}},{key:"$g",get:function(){return this.yR.$g},set:function(t){t&&this.yR.WR(t)}},{key:"Ww",get:function(){return void 0!==this.rR?this.rR:this.yR.Ww},set:function(t){this.Jg&&(this.rR=t),this.yR.wo(t)}},{key:"jw",get:function(){return this.yR.jw}},{key:"Gw",get:function(){return this.yR.Gw}},{key:"Zu",get:function(){return this.KI}},{key:"Yw",get:function(){return this.JI}},{key:"Ng",get:function(){}},{key:"Jg",get:function(){return this.yR.Jg}},{key:"Zg",get:function(){return Us({},{Qg:0,ty:0,ny:0,iy:0,ey:0,uy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.yR.jR())}},{key:"Xw",get:function(){return this.yR.Xw},set:function(t){this.yR.Xw=t}},{key:"oy",get:function(){return!0}},{key:"$w",get:function(){return this.yR.$w}},{key:"Kw",get:function(){return this.yR.Kw},set:function(t){this.yR.Kw=t}},{key:"sy",get:function(){return this.yR._R.played}},{key:"hy",get:function(){return this.mR},set:function(t){this.mR=t,this.$I&&(this.$I.hy=t)}},{key:"hw",get:function(){return this.yR.hw}},{key:"vy",get:function(){return this.yR.vy.zR()}},{key:"Jw",get:function(){return this.yR.Jw}},{key:"GR",get:function(){return this.yR.GR}},{key:"Rg",get:function(){return this.bg}},{key:"Ig",get:function(){return this.pg}},{key:"Zw",get:function(){return this.yR.Zw}},{key:"Qw",get:function(){return this.yR.Qw}},{key:"tg",get:function(){return this.yR.tg},set:function(t){this.yR.tg=t}},{key:"ly",get:function(){return this.QI}},{key:"wy",get:function(){return this.yR.wy},set:function(t){this.yR.wy=t}},{key:"YR",get:function(){return this.ZI}}]),n}(Kg);var OT=function(){function t(){this.XR=yT.NI}var n=t.prototype;return n.kE=function(t,n,i,e,r,u){return new CT(t,n,i,e,r)},n.$R=function(t,n){return function(t){return!t.type||!(!RT().canPlayType||!RT().canPlayType(t.type))}(t)},n.KR=function(){return!1},t}();function AT(t,n){for(var i=0,e=t.Dl;i<e.length;i++){var r=e[i];if(r.Iy===n)return r}}var DT=function(){function t(){this.JR=new OT,this.ZR=[]}var n=t.prototype;return n.QR=function(t){this.ZR.push(t)},n.kE=function(t,n,i,e,r,u){for(var o=this.JR.kE(t,n,i,e,r,u),s=0,c=this.ZR;s<c.length;s++){o=(0,c[s])(o,i,e)}return o},n.$R=function(t,n){return this.JR.$R(t,n)},n.KR=function(){return!1},t.tN=function(){return this.ke},Re(t,[{key:"XR",get:function(){return this.JR.XR}}]),t}();function PT(t,n){return Rc(t.XR,n.XR)}DT.ke=new DT,Te(),Vt(),Te(),Vt();var xT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).nN=DT.tN(),n}Xe(n,t);var i=n.prototype;return i.iN=function(t){this.nN=t},i.eN=function(){return this.nN},i.rN=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s,c;return Vs(this,(function(f){switch(f.label){case 0:e=0,f.label=1;case 1:return e<t.length?(r=t[e],[4,i.uN(r,n)]):[3,4];case 2:if(u=f.sent())return[2,{oN:r,sN:u}];f.label=3;case 3:return e++,[3,1];case 4:for(o=i.nN,s=0;s<t.length;s++)if(c=t[s],o.$R(c,n))return[2,{oN:c,sN:o}];return[2,{oN:t[0],sN:o}]}}))}))()},n}(function(){function t(){this.cN=[]}var n=t.prototype;return n.fN=function(t){this.cN.push(t),this.cN.sort(PT)},n.uN=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s;return Vs(this,(function(c){switch(c.label){case 0:e=0,r=i.cN,c.label=1;case 1:return e<r.length?(u=r[e],mr(o=u.$R(t,n))?[4,o]:[3,3]):[3,6];case 2:return s=c.sent(),[3,4];case 3:s=Boolean(o),c.label=4;case 4:if(s)return[2,u];c.label=5;case 5:return e++,[3,1];case 6:return[2,void 0]}}))}))()},t}());xT.ke=new xT,Se(),Te(),Vt(),Se();var BT,LT=function(){function t(t){this.aN=_e&&_e.document&&_e.document.createElement("div"),function(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}(this.aN),t.appendChild(this.aN)}return t.prototype.kn=function(){ls(this.aN)},t}();function MT(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";case"none":default:return"none"}}Te(),Vt(),Ne(),Te(),Vt(),function(t){t.NI="",t.hN="none",t.Fp="metadata",t.vN="auto"}(BT||(BT={}));var FT=[zg.ew,Ed.ya,Ed.Qu,Ed.Xa,Ed.ca,Ed._a,Ed.Na,Ed.Ca,Ed.Ua,Ed.Ha,Cy.Fw,Cy.Uw,Cy.Vw,Cy.Hw,Cy.ml,Cy.qw,Cy.zw,Ed.va,Ed.da,Ed.ga,Ed.ma,Ed.Ea,Ed.Ia,Ed.Aa,Ed.Da,Ed.Oa,Ed.Pa,Ed.Ba,Ed.Ma,Ed.La,Ed.Wa,Ed.ja,Ed.xa,Ed.Ra,Ed.Fa],UT=function(t){function n(n,i){var e;return(e=t.call(this)||this).dN=void 0,e.lN=void 0,e.mR=BT.hN,e.wN=void 0,e.gN=!0,e._g=new Wg,e.pg=new Wg,e.bg=new $g,e.kg=new lm,e.yN=n,e.mN=i,e.mN.hy=e.hy,e._N(),e}Xe(n,t);var i=n.prototype;return i.yn=function(){this.mN.yn()},i.gn=function(){var t=this.mN.gn();mr(t)&&Jc(t)},i.Cg=function(){return this.Ag(void 0)},i.En=function(){},i.qg=function(t){return!1},i._N=function(){this._g.Ul=this.mN.Eg,this.pg.Ul=this.mN.Ig,this.bg.Ul=this.mN.Rg,this.kg.Ul=this.mN.Ng,this.mN.Fu(FT,this.Bu)},i.pN=function(){this.mN.qu(FT,this.Bu),this._g.Ul=void 0,this.pg.Ul=void 0,this.bg.Ul=void 0,this.kg.Ul=void 0},i.Og=function(){return this.wN},i.Ag=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s,c;return Vs(this,(function(f){switch(f.label){case 0:return Wc(n),i.wN=t,t?by(e=t.sources.filter(Iy))?[2]:[4,i.yN.rN(e,t)]:[2];case 1:return r=f.sent(),Wc(n),u=r.oN,o=r.sN,s=i.Vg(),c=Qy(i),i.dN!==o||i.Zu?(i.pN(),[4,i.mN.kn()]):[3,3];case 2:f.sent(),Wc(n),i.dN=o,i.mN=i.bN(o),function(t,n){t.Xw!==n.Xw&&(t.Xw=n.Xw);t.tg!==n.tg&&(t.tg=n.tg);t.Kw!==n.Kw&&(t.Kw=n.Kw)}(i.mN,c),tm(i,c,i),i._N(),f.label=3;case 3:return i.mN.hy=i.hy,i.gN?i.mN.Mg():i.mN.Fg(),[4,i.mN.Ag(u,t,n)];case 4:return f.sent(),Wc(n),i.kN(u),i.Vg()!==s&&i.Lu(new Zg),[2]}}))}))()},i.kN=function(t){this.lN!==t&&(this.lN=t,this.Lu(new Qg(t)))},i.Dg=function(){return this.mN.Dg()},i.Pg=function(){this.mN.Pg()},i.xg=function(){this.mN.xg()},i.Vg=function(){return this.mN.Vg()},i.Gg=function(){this.mN.Gg()},i.Yg=function(){this.mN.Yg()},i.uf=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return t.wN=void 0,t.kN(void 0),[4,t.mN.uf()];case 1:return n.sent(),[2]}}))}))()},i.kn=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return t.Hu(),[4,t.uf()];case 1:return n.sent(),[4,t.mN.kn()];case 2:return n.sent(),t._g.kn(),t.pg.kn(),t.bg.kn(),t.kg.kn(),[2]}}))}))()},i.Mg=function(){this.gN=!0,this.mN.Mg()},i.Fg=function(){this.gN=!1,this.mN.Fg()},Re(n,[{key:"Eg",get:function(){return this._g}},{key:"Xg",get:function(){return this.mN.Xg}},{key:"Zu",get:function(){return this.mN.Zu}},{key:"Yw",get:function(){return this.mN.Yw}},{key:"$g",get:function(){return this.mN.$g},set:function(t){this.mN.$g=t}},{key:"jg",get:function(){return this.lN}},{key:"Ww",get:function(){return this.mN.Ww},set:function(t){this.mN.Ww=t}},{key:"jw",get:function(){return this.mN.jw}},{key:"Gw",get:function(){return this.mN.Gw}},{key:"Ng",get:function(){return this.kg}},{key:"Jg",get:function(){return this.mN.Jg}},{key:"Zg",get:function(){return this.mN.Zg}},{key:"Xw",get:function(){return this.mN.Xw},set:function(t){this.mN.Xw=t}},{key:"oy",get:function(){return this.mN.oy}},{key:"$w",get:function(){return this.mN.$w}},{key:"Kw",get:function(){return this.mN.Kw},set:function(t){this.mN.Kw=t}},{key:"sy",get:function(){return this.mN.sy}},{key:"hy",get:function(){return this.mR},set:function(t){this.mR=t,this.mN&&(this.mN.hy=this.mR)}},{key:"hw",get:function(){return this.mN.hw}},{key:"vy",get:function(){return this.mN.vy}},{key:"Jw",get:function(){return this.mN.Jw}},{key:"Rg",get:function(){return this.bg}},{key:"Zw",get:function(){return this.mN.Zw}},{key:"Ig",get:function(){return this.pg}},{key:"Qw",get:function(){return this.mN.Qw}},{key:"tg",get:function(){return this.mN.tg},set:function(t){this.mN.tg=t}},{key:"ly",get:function(){return this.mN.ly}},{key:"YR",get:function(){return this.mN.YR}}]),n}(ef);function VT(t,n,i){return i?t<=n:t<n}Te(),Vt(),Ne(),Te(),Vt(),Ne(),Te(),Vt(),Ne();var HT,qT=function(){function t(t,n){this.Pl=t.length>>1,this.TN=t,this.SN=n||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(this.Pl)}var n=t.prototype;return n.EN=function(t){return this.TN[2*t]},n.IN=function(t){return this.TN[2*t+1]},n.RN=function(t){return this.SN[2*t]},n.NN=function(t){return this.SN[2*t+1]},n.zR=function(){var t=this;return{get length(){return t.Pl},start:function(n){var i=0|n;return t.CN(i),t.EN(i)},end:function(n){var i=0|n;return t.CN(i),t.IN(i)}}},n.ON=function(){for(var n=new Array(2*this.Pl),i=new Array(2*this.Pl),e=0;e<this.Pl;e++)n[2*e]=this.EN(e),n[2*e+1]=this.IN(e),i[2*e]=!0,i[2*e+1]=!0;return new t(n,i)},n.CN=function(t){if(t<0)throw new a("The index provided ("+t+") must be non-negative");if(t>=this.Pl)throw new a("The index provided ("+t+") is greater than the maximum bound ("+this.Pl+")")},n.AN=function(t){if(0===this.Pl)return 0;if(this.qR(t))return t;if(t<=this.EN(0))return this.EN(0);if(t>=this.IN(this.Pl-1))return this.IN(this.Pl-1);for(var n,i=1/0,e=0;e<this.Pl;e++){var r=this.EN(e),u=d.abs(r-t);u<i&&(n=r,i=u);var o=this.IN(e),s=d.abs(o-t);s<i&&(n=o,i=s)}return n},n.DN=function(n){for(var i=0,e=0,r=[],u=[];i<this.Pl&&e<n.Pl;){var o=this.EN(i),s=this.IN(i),c=this.RN(i),f=this.NN(i),a=n.EN(e),h=n.IN(e),v=n.RN(e),l=n.NN(e),w=d.max(o,a),g=d.min(s,h),y=void 0;y=o===a?c&&v:w===o?c:v;var m=void 0;m=s===h?f&&l:g===s?f:l,(w<g||y&&m&&w===g)&&(r.push(w,g),u.push(y,m)),s===h?(i+=1,e+=1):s<h?i+=1:e+=1}return new t(r,u)},n.PN=function(){var n=this.xN(),i=n.Pl;if(0===i)return new t([-1/0,1/0],[!1,!1]);var e=[],r=[],u=n.EN(0);u!==-1/0&&(e.push(-1/0,u),r.push(!1,!n.RN(0)));for(var o=0;o<i-1;o++)e.push(n.IN(o),n.EN(o+1)),r.push(!n.NN(o),!n.RN(o+1));var s=n.IN(i-1);return s!==1/0&&(e.push(s,1/0),r.push(!n.NN(i-1),!1)),new t(e,r)},n.BN=function(n){for(var i=0,e=0,r=this.Pl,u=n.Pl,o=new Array(2*(r+u)),s=new Array(2*(r+u)),c=0;i<r&&e<u;){var f=this.EN(i),a=this.IN(i),h=n.EN(e),v=n.IN(e);f<h||f===h&&a<v?(o[c]=f,o[c+1]=a,s[c]=this.RN(i),s[c+1]=this.NN(i),i++):(o[c]=h,o[c+1]=v,s[c]=n.RN(e),s[c+1]=n.NN(e),e++),c+=2}for(;i<r;)o[c]=this.EN(i),o[c+1]=this.IN(i),s[c]=this.RN(i),s[c+1]=this.NN(i),i++,c+=2;for(;e<u;)o[c]=n.EN(e),o[c+1]=n.IN(e),s[c]=n.RN(e),s[c+1]=n.NN(e),e++,c+=2;return new t(o,s)},n.LN=function(n){void 0===n&&(n=0);var i=this.Pl;if(i<2)return this;for(var e=[],r=[],u=this.EN(0),o=this.IN(0),s=this.RN(0),c=this.NN(0),f=1;f<i;f++){var a=this.EN(f),h=this.IN(f),v=this.RN(f),d=this.NN(f);u<a&&o>h||(u===a&&(s=v=s||v),o===h&&(c=d=c||d),VT(a,o+n,c||v)?(o=h,c=d):(e.push(u,o),r.push(s,c),u=a,o=h,s=v,c=d))}return e.push(u,o),r.push(s,c),new t(e,r).xN()},n.xN=function(){for(var n=[],i=[],e=0;e<this.Pl;e++){var r=this.EN(e),u=this.IN(e),o=this.RN(e),s=this.NN(e);r===u?(o||s)&&(n.push(r,u),i.push(!0,!0)):(n.push(r,u),i.push(o,s))}return new t(n,i)},n.MN=function(t){return this.Pl?t.Pl?this.BN(t).LN():this:t},n.FN=function(t){var n=this.xN(),i=t.xN(),e=n.PN(),r=i.PN(),u=e.DN(i),o=r.DN(n);return u.MN(o)},n.lo=function(n){if(0===n)return this;for(var i=[],e=[],r=0;r<this.Pl;r++){var u=this.EN(r)+n,o=this.IN(r)+n;i.push(u,o),e.push(this.RN(r),this.NN(r))}return new t(i,e)},n.UN=function(t){return 0===this.Pl||0===t.Pl?this:this.xN().DN(t.xN().PN())},n.qR=function(t,n){return this.VN(t,n)>=0},n.HN=function(t,n,i,e,r){return this.qN(t,n,i,e,r)>=0},n.zN=function(t,n,i,e,r){return this.WN(t,n,i,e,r)>=0},n.jN=function(t){if(t.Pl!==this.Pl)return!1;for(var n=0;n<this.Pl;n++)if(this.EN(n)!==t.EN(n)||this.IN(n)!==t.IN(n)||this.RN(n)!==t.RN(n)||this.NN(n)!==t.NN(n))return!1;return!0},n.GN=function(n){for(var i=[],e=[],r=0;r<this.Pl;r++){var u=this.EN(r),o=this.IN(r),s=this.RN(r),c=this.NN(r);n(u,o,s,c)&&(i.push(u,o),e.push(s,c))}return new t(i,e)},n.WN=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=0);for(var u=t-r,o=n+r,s=0;s<this.Pl;s+=1)if(VT(this.EN(s),o,!e||this.RN(s))&&VT(u,this.IN(s),!i||this.NN(s)))return s;return-1},n.qN=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=0);for(var u=t+r,o=n-r,s=0;s<this.Pl;s+=1)if(VT(this.EN(s),u,!i||this.RN(s))&&VT(o,this.IN(s),!e||this.NN(s)))return s;return-1},n.VN=function(t,n){return this.qN(t,t,!0,!0,n)},n.YN=function(t,n){void 0===n&&(n=0);for(var i=t+n,e=this.Pl-1;e>=0;e-=1)if(VT(this.EN(e),i,this.RN(e)))return e;return-1},n.XN=function(t,n){void 0===n&&(n=0);for(var i=t-n,e=0;e<this.Pl;e+=1)if(VT(i,this.IN(e),this.NN(e)))return e;return-1},n.$N=function(t,n){void 0===n&&(n=0);for(var i=t+n,e=0;e<this.Pl;e+=1)if(this.EN(e)>i)return e;return-1},n.KN=function(n){return this.CN(n),new t([this.EN(n),this.IN(n)],[this.RN(n),this.NN(n)])},n.JN=function(t,n){var i=this.VN(t,n);return i<0?void 0:this.KN(i)},t.ZN=function(n){for(var i=[],e=0;e<n.length;e++)i.push(n.start(e),n.end(e));return new t(i)},t.QN=function(n){return new t([n,n],[!0,!0])},t.tC=function(n,i){return n<=i?new t([n,i]):t.nC()},t.nC=function(){return zT},Re(t,[{key:"iC",get:function(){return this.TN.slice()}},{key:"eC",get:function(){for(var t=0,n=0;n<this.Pl;n++){t+=this.IN(n)-this.EN(n)}return t}}]),t}(),zT=new qT([]);Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),function(t){t.gl="fullscreenchange",t.rC="fullscreensupportchange",t.ew="fullscreenerror"}(HT||(HT={}));var WT=function(t){function n(){return t.call(this,HT.ew)}return Xe(n,t),n}(of),jT=new(function(t){function n(){return t.apply(this,arguments)}Xe(n,t);var i=n.prototype;return i.Ay=function(){this.Lu(new WT)},i.Py=function(){},i.kn=function(){this.Hu()},Re(n,[{key:"uC",get:function(){return!1}},{key:"oC",get:function(){return!1}}]),n}(ef)),GT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).gR=void 0,n.yR=void 0,n}Xe(n,t);var i=n.prototype;return i.Ug=function(){var t;return null==(t=this.yR)?void 0:t._R},i.kn=function(){var n=this;return Fs((function(){return Vs(this,(function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return i.sent(),n.yR?[4,n.gR.pn(n.yR)]:[3,3];case 2:i.sent(),n.yR=void 0,i.label=3;case 3:return[2]}}))}))()},Re(n,[{key:"sC",set:function(t){this.gR=t,this.yR=t.wn(jy.Gh)}}]),n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).cC=0,n.fC=!1,n.aC=!0,n.hC=1,n.vC=!1,n.Ps=1,n.Eg=new bm,n.Xg=qT.nC().zR(),n.jw=NaN,n.Gw=!1,n.Zu=void 0,n.Yw=void 0,n.Ng=void 0,n.Jg=!1,n.oy=!0,n.sy=qT.nC().zR(),n.hy=BT.hN,n.hw=fy.Pw,n.vy=qT.nC().zR(),n.GR=void 0,n.Rg=new kp,n.Zw=0,n.Ig=new bm,n.Qw=0,n.ly=new IT,n.ZI=new pT,n}Xe(n,t);var i=n.prototype;return i.Mg=function(){},i.Fg=function(){},i.gn=function(){this.aC&&(this.aC=!1,this.Lu(new Oy(this.Ww)),this.Lu(new Wp(this.Ww)))},i.yn=function(){this.aC||(this.aC=!0,this.Lu(new By(this.Ww,this.$g)),this.Lu(new Ny(this.Ww)))},i.Ag=function(t,n){return G.resolve()},i.Dg=function(){return!1},i.Pg=function(){},i.xg=function(){},i.Vg=function(){return jT},i.Gg=function(){},i.Yg=function(){},i.uf=function(){var t=this;return Fs((function(){return Vs(this,(function(n){return t.cC=0,t.vC=!1,t.yn(),t.Lu(new Ry(t.cC)),[2]}))}))()},i.kn=function(){var t=this;return Fs((function(){return Vs(this,(function(n){return t.Hu(),t.Eg.kn(),t.Rg.kn(),t.Ig.kn(),[2]}))}))()},Re(n,[{key:"$g",get:function(){},set:function(t){}},{key:"Ww",get:function(){return this.cC},set:function(t){this.cC!==t&&(this.cC=t,this.vC=!0,this.Lu(new Fy(this.Ww)))}},{key:"Zg",get:function(){return{Qg:0,ty:0,ny:0,iy:0,ey:0,uy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Xw",get:function(){return this.fC},set:function(t){this.fC!==t&&(this.fC=t,this.Lu(new Vy(this.Ww,this.tg)))}},{key:"$w",get:function(){return this.aC}},{key:"Kw",get:function(){return this.hC},set:function(t){this.hC!==t&&(this.hC=t,this.Lu(new xy(this.Ww,this.Kw)))}},{key:"Jw",get:function(){return this.vC}},{key:"tg",get:function(){return this.Ps},set:function(t){this.Ps!==t&&(this.Ps=t,this.Lu(new Vy(this.Ww,this.tg)))}},{key:"wy",get:function(){return!1},set:function(t){}},{key:"YR",get:function(){return this.ZI}}]),n}(ef)),YT=function(t){function n(n,i,e,r,u,o){var s,c=new GT;return(s=t.call(this,xT.ke,c)||this).dC=n,s.If=i,s.gS=e,s.lC=r,s.wC=o,s.gC=new ge(u,s.wC),s.gC.bn(s.dC),c.sC=s.gC,s.yC=new LT(s.dC),s}Xe(n,t);var i=n.prototype;return i.En=function(){t.prototype.En.call(this),this.gC.ln()},i.Bg=function(t){!function(t,n){var i=n.tg,e=n.Xw;t.tg=i,t.Xw=e}(this,t)},i.Lg=function(){},i.bN=function(t){return t.kE(this.dC,this.gC,this.gS,this.If,this.lC,this.wC)},i.Ug=function(){return this.mN.Ug()},i.Hg=function(){return this.gC.dn.map((function(t){return t._R}))},i.Vu=function(n){t.prototype.Vu.call(this,n)},i.ju=function(n){t.prototype.ju.call(this,n)},i.kn=function(){var n=this;return Fs((function(){return Vs(this,(function(i){switch(i.label){case 0:return[4,t.prototype.kn.call(n)];case 1:return i.sent(),n.gC.kn(),n.yC.kn(),[2]}}))}))()},Re(n,[{key:"Kg",get:function(){return this.dC}},{key:"wy",get:function(){return this.mN.wy},set:function(t){this.mN.wy=t}}]),n}(UT);Te(),Vt(),Ne(),Te(),Vt();var XT=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).QI=new IT,r.dC=n,r.mC=i,r._C=new bm,r.pC=new kp,r.bC=e,r}Xe(n,t);var i=n.prototype;return i.qg=function(t){return!0},i.Fg=function(){},i.gn=function(){throw this.Lu(new Wy(this.bC)),this.mC},i.yn=function(){},i.Og=function(){},i.Ag=function(t,n){var i=this;return Fs((function(){return Vs(this,(function(t){throw Wc(n),i.Lu(new Wy(i.bC)),i.mC}))}))()},i.Mg=function(){},i.Cg=function(){return G.resolve()},i.Ug=function(){},i.Vg=function(){return jT},i.Hg=function(){return[]},i.En=function(){},i.Bg=function(t){},i.Lg=function(){},i.Dg=function(){return!1},i.Pg=function(){},i.xg=function(){},i.Gg=function(){},i.Yg=function(){},i.uf=function(){return G.resolve()},i.kn=function(){return this.Hu(),this._C.kn(),this.pC.kn(),G.resolve()},Re(n,[{key:"Eg",get:function(){return this._C}},{key:"Xg",get:function(){return qT.nC().zR()}},{key:"$g",get:function(){return new Date(NaN)},set:function(t){}},{key:"jg",get:function(){}},{key:"Ww",get:function(){return 0},set:function(t){}},{key:"jw",get:function(){return 0}},{key:"Kg",get:function(){return this.dC}},{key:"Gw",get:function(){return!0}},{key:"Zu",get:function(){return this.mC}},{key:"Yw",get:function(){return this.bC}},{key:"Ng",get:function(){}},{key:"Zg",get:function(){return{Qg:0,ty:0,ny:0,iy:0,ey:0,uy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Xw",get:function(){return!1},set:function(t){}},{key:"oy",get:function(){return!0}},{key:"$w",get:function(){return!0}},{key:"Kw",get:function(){return 0},set:function(t){}},{key:"sy",get:function(){return qT.nC().zR()}},{key:"hy",get:function(){return BT.hN},set:function(t){}},{key:"hw",get:function(){return fy.Pw}},{key:"vy",get:function(){return qT.nC().zR()}},{key:"Jw",get:function(){return!1}},{key:"Rg",get:function(){return this.pC}},{key:"Zw",get:function(){return 0}},{key:"Ig",get:function(){return this._C}},{key:"Qw",get:function(){return 0}},{key:"tg",get:function(){return 1},set:function(t){}},{key:"ly",get:function(){return this.QI}},{key:"wy",get:function(){return!1},set:function(t){}},{key:"Jg",get:function(){return!1}}]),n}(Jg);function $T(t){if(t&&lr(t))return Us({},t,{integration:KT(t.integration),fairplay:iS(t.fairplay),widevine:JT(t.widevine),playready:ZT(t.playready),clearkey:eS(t.clearkey),aes128:rS(t.aes128),integrationParameters:uS(t.integrationParameters),preferredKeySystems:oS(t.preferredKeySystems)})}function KT(t){if(gr(t))return t}function JT(t){if(t&&lr(t))return{persistentState:QT(t.persistentState),distinctiveIdentifier:QT(t.distinctiveIdentifier),audioRobustness:tS(t.audioRobustness),videoRobustness:tS(t.videoRobustness),licenseAcquisitionURL:gr(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:nS(t.licenseType),headers:t.headers,useCredentials:!!yr(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:gr(t.certificate)||fa(t.certificate)?t.certificate:void 0}}function ZT(t){if(t){var n=JT(t);if(n)return Us({},n,{customData:gr(t.customData)?t.customData:void 0})}}function QT(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function tS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function nS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function iS(t){if(t){var n=JT(t);if(n)return Us({},n,{certificateURL:gr(t.certificateURL)?t.certificateURL:void 0})}}function eS(t){if(t){var n=JT(t);if(n)return Us({},n,{keys:vr(t.keys)?t.keys.map((function(t){return function(t){if(!t||!lr(t))return;var n=t.id,i=t.value;if(!gr(n)||!gr(i))return;return{id:n,value:i}}(t)})).filter(ar):void 0})}}function rS(t){if(lr(t))return{useCredentials:yr(t.useCredentials)?t.useCredentials:void 0}}function uS(t){if(lr(t))return t}function oS(t){return t&&vr(t)?t.map((function(t){return Mb(t)})).filter(ar):[ic,Qs,oc]}Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt();var sS=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return Xe(n,t),n}(of);Te(),Vt(),Te(),Vt();var cS,fS=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).kC=[],e.TC=function(t){Kc((function(){e.Bu(t)}))},e.SC=i?e.TC:e.Bu,e}Xe(n,t);var i=n.prototype;return i.EC=function(t){t.Vu(this.SC),this.kC.push(t)},i.IC=function(t){t.ju(this.SC),Pc(this.kC,t)},i.kn=function(){this.Hu();for(var t=0,n=this.kC;t<n.length;t++){n[t].ju(this.SC)}Mc(this.kC)},n}(Kg),aS=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n}(fS);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(cS||(cS={}));var hS,vS=function(t){function n(n){var i;return(i=t.call(this)||this).RC=!1,i.NC=!1,i.tl=void 0,i.CC=function(){return i.OC()},i.AC=function(){return i.DC()},i.xC=n,i.BC=i.LC=i.MC=i.FC="inline",i.xC.Fu(HT.gl,i.CC),i.xC.Fu(HT.ew,i.AC),i.UC(),i}Xe(n,t);var i=n.prototype;return i.il=function(){return function(t){var n,i={get currentMode(){return t.VC()},requestMode:function(n){var i=lS(n);i&&t.HC(i)},supportsMode:function(n){var i=lS(n);return!!i&&t.qC(i)},addEventListener:function(t,i){n.Fu(t,i)},removeEventListener:function(t,i){n.qu(t,i)}};return(n=new fS(i,!0)).EC(t),i}(this)},i.HC=function(t){this.zC(t,t)},i.zC=function(t,n){this.LC!==n&&(this.RC=!0,this.BC=t,this.WC(n,this.LC),"fullscreen"!==t&&(this.MC=t),this.RC=!1,this.UC())},i.VC=function(){return this.NC?"fullscreen":"inline"},i.qC=function(t){switch(t){case"fullscreen":return this.xC.oC;case"inline":return!0}return!1},i.UC=function(){if(!this.RC){var t=this.LC,n=this.VC();this.LC=n,"fullscreen"!==n&&(this.FC=n),t!==n&&this.Lu(new sS(n))}},i.WC=function(t,n){var i="fullscreen"===t;this.NC=i,i!==this.xC.uC&&(i?this.xC.Ay():this.xC.Py())},i.OC=function(){if(!this.RC){var t=this.xC.uC;this.NC=t,t?this.zC("fullscreen","fullscreen"):t||"fullscreen"!==this.BC?this.UC():this.zC(this.MC,this.FC)}},i.DC=function(){this.OC(),this.Lu(new Wy(new ed(Qv.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},i.kn=function(){this.xC.kn(),this.Hu()},Re(n,[{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}}]),n}(Kg),dS={Ww:0,jw:NaN,Gw:!1,Zu:void 0,Yw:void 0,Xw:!1,$w:!0,Kw:1,hw:fy.Pw,Jw:!1,Zw:0,Qw:0,tg:1};function lS(t){switch(t){case cS.INLINE:case cS.FULLSCREEN:case cS.PICTURE_IN_PICTURE:return t;default:return}}Te(),Vt(),Ne(),function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}(hS||(hS={}));var wS,gS,yS,mS,_S,pS,bS,kS,TS=function(){function t(){this.jC=[]}var n=t.prototype;return n.GC=function(t){var n=this.YC.filter((function(n){return n.XC(t)}));if(n.length>1)0;else if(0===n.length)throw a("Unknown ad integration: "+t.integration);return n[0]||null},n.$C=function(t){this.jC.push(t)},Re(t,[{key:"YC",get:function(){return this.jC}}]),t}();TS.ke=new TS,Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.zw="PLAYING",t.wg="PAUSED",t.KC="SEEK",t.JC="STALLED",t.ZC="FAILED",t.QC="INITIAL_BUFFERING",t.tO="NO_ACCESS"}(wS||(wS={})),function(t){t.nO="HTTP_REQUEST_STATUS_CODE_1XX",t.iO="HTTP_REQUEST_STATUS_CODE_2XX",t.eO="HTTP_REQUEST_STATUS_CODE_3XX",t.rO="HTTP_REQUEST_STATUS_CODE_4XX",t.uO="HTTP_REQUEST_STATUS_CODE_5XX",t.oO="BUFFER_LENGTH",t.sO="BYTES_RECEIVED",t.cO="SEGMENT_READ_BITRATE",t.fO="SEGMENT_PROFILE_BITRATE",t.aO="VIDEO_PROFILE_BITRATE",t.hO="NUMBER_OF_FRAMES_DROPPED",t.vO="PLAYBACK_POSITION",t.dO="NUMBER_OF_FRAMES_DECODED",t.lO="PLAYBACK_DELTA_TO_ORIGIN",t.wO="STREAM_DELTA_TO_ORIGIN",t.gO="ORIGIN_TIMESTAMP"}(gS||(gS={})),function(t){t.yO="MANIFEST_URI",t.mO="ASSET_DURATION",t._O="NUMBER_OF_CONTENT_PROFILES",t.pO="CDN",t.bO="CONTENT_TITLE",t.kO="SERVICE_NAME",t.TO="CONTENT_TYPE",t.SO="CONTENT_DESCRIPTION"}(yS||(yS={})),function(t){t.EO="shutdown_normal_shutdown"}(mS||(mS={})),function(t){t.IO="session/",t.RO="content/",t.CO="internalError/",t.OO="drmError/",t.AO="caError/",t.DO="networkError/"}(_S||(_S={})),function(t){t.PO="userAction",t.xO="endOfStreamReached"}(pS||(pS={})),Te(),Vt(),Te(),Vt(),function(t){t.PAUSE="BO",t.RESUME="LO"}(bS||(bS={})),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(kS||(kS={}));var SS,ES,IS,RS,NS,CS,OS="agama";function AS(t){switch(t){case"":return SS.NONE;case"horizontal":return SS.HORIZONTAL;case"vertical":return SS.VERTICAL;default:throw new h}}function DS(t,n){if(n)return ES.PM360;if(null==t)return ES.NONE;switch(t){case"":return ES.NONE;case"360":return ES.PM360;case"180":return ES.PM180;default:throw new h("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}function PS(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!gr(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:Ng(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?Cg(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:Ng(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:Ng(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:Ng(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards)}}function xS(t){if(!t||!gr(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function BS(t){if(null!==t)return t}function LS(t){var n={};if(!lr(t))return n;var i=t;for(var e in i)if(v.prototype.hasOwnProperty.call(i,e)){var r=i[e];gr(r)&&(n[e]=r)}return n}function MS(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:BS(t.streamActivityMonitorID),adTagParameters:lr(t.adTagParameters)?t.adTagParameters:{},authToken:BS(t.authToken),omidAccessModeRules:t.omidAccessModeRules?LS(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,e=t.contentSourceID;return i?e?Us({},n,{availabilityType:"vod",videoID:i,contentSourceID:e}):void je.pr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void je.pr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var r=t.assetKey;return r?Us({},n,{availabilityType:"live",assetKey:r}):void je.pr("A Live DAI configuration was provided without valid assetKey which is required.")}je.pr("A DAI configuration was provided without a valid availabilityType which is required.")}function FS(t){if(!Cb(t)||!t.integration)return t;switch(t.integration){case Qp:return function(t){var n=Lb(Xs.Qr,t),i=Lb(Xs.Zr,t),e=t[Xs.nu]&&Lb(Xs.nu,t);return Us({integration:"keyos",widevine:n,playready:i},e?{fairplay:e}:{})}(t);default:return t}}Te(),Vt(),Te(),Vt(),function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(SS||(SS={})),Te(),Vt(),function(t){t.NONE="",t.PM360="360",t.PM180="180"}(ES||(ES={})),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.vN="auto",t.MO="always",t.FO="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(IS||(IS={})),Te(),Vt(),function(t){t.vN="auto",t.UO="playlist",t.VO="media"}(RS||(RS={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(NS||(NS={})),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(CS||(CS={})),Te(),Vt();var US="https://content.uplynk.com";function VS(t){if(!t)return!0;var n=!function(t){return py(t)||dr(t)&&py(t[0])}(t.sources)||by(t.sources),i=!t.ads||function(t){return!t||vr(t)&&0===t.length}(t.ads),e=""!==t.poster&&!t.poster;return n&&i&&e}function HS(t){if(t&&t.sources)return qS(t.sources)}function qS(t){return gr(t)?t:my(t)?t.src:dr(t)&&t.length>0?qS(t[0]):void 0}function zS(t,n,i){return wy(t)?function(t,n,i){var e=Us({},ky(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:NS.VERIZON_MEDIA,id:"",prefix:US,preplayParameters:{},playbackUrlParameters:{},assetType:CS.ASSET,contentProtected:!1,assetInfo:!0});e.id=function(t){if(gr(t))return t;if(dr(t)&&gr(t[0]))return t;if(function(t){return!(!lr(t)||!gr(t.userId)||!dr(t.externalId)&&!gr(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return CS.CHANNEL;case"event":return CS.EVENT;case"asset":default:return CS.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Rg(t.contentProtected));t.assetInfo?e.assetInfo=Rg(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Ag(t.prefix)||US);return e.ping=function(t,n){var i=!1,e=!1,r=!1;n?(i=!!yr(n.adImpressions)&&n.adImpressions,e=!!yr(n.freeWheelVideoViews)&&n.freeWheelVideoViews,r=yr(n.linearAdData)?n.linearAdData:t!==CS.ASSET):t!==CS.ASSET&&(r=!0);return{adImpressions:i,freeWheelVideoViews:e,linearAdData:r}}(e.assetType,t.ping),e=GS(e=YS(e=jS(e,t),n,i),t,i)}(t,n,i):gy(t)?function(t,n,i){var e;return Us({},WS(t,n,i),{integration:NS.MEDIATAILOR,adParams:null!=(e=t.adParams)?e:{}})}(t,n,i):WS(t,n,i)}function WS(t,n,i){var e=Ty(),r=n&&(n.contentProtection||n.drm);if(gr(t)){if(e.src=t,e.type=dy(t),r){var u=$T(r);e.contentProtection=FS(u)}}else if(my(t)||ly(t)){e.src=t.src,e.type=t.type||dy(t.src),e.isAdvertisement=t.isAdvertisement;var o=_y(t)?t.hesp:void 0;void 0!==o&&(e.hesp=o),gy(t)&&(e.integration=t.integration);var s=$T(t.contentProtection||t.drm||r);e.contentProtection=FS(s),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return MS(t);case"imagine":return function(t){return{integration:t.integration}}(t);case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=jS(e,t)}return e=GS(e=YS(e,n,i),t,i)}function jS(t,n){n.useCredentials?t.crossOrigin=ry.Aw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case ry.Ow:case ry.Aw:return t;default:return ry.Cw}}(n.crossOrigin)),gr(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Rg(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Rg(n.useNativePlayback)),n.dash&&(t.dash=PS(n.dash)),n.hls&&(t.hls=function(t){return{discontinuityAlignment:xS(null==t?void 0:t.discontinuityAlignment)}}(n.hls)),n.lcevc&&(t.lcevc=Rg(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=function(t){return vr(t)?t.filter(vy):[]}(n.ignoreEmbeddedTextTrackTypes));var i=Ng(n.experimentalRendering);void 0!==i&&(t.experimentalRendering=i);var e=Ng(n.nativeUiRendering);return void 0!==e&&(t.nativeUiRendering=e),t}function GS(t,n,i){return t.abr=function(t,n){var i;if(ar(t)||ar(n))return $y(Ky(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),Ky(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}(gr(n)?void 0:Xy(n.abr),null==i?void 0:i.abr),t}function YS(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!ar(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!ar(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ry.Cw&&(null==n||null==(e=n.vr)?void 0:e[360])&&(t.crossOrigin=ry.Ow),t.useCredentials=t.crossOrigin===ry.Aw,gr(r)&&!t.timeServer&&(t.timeServer=r),t}function XS(t){var n={src:""};if(t&&t.src){if(n.src=Ag(t.src),"default"in t&&(n.default=Rg(t.default)),n.kind=Sp(t.kind),vy(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function $S(t,n){if(wr(t))try{return n.GC(t).HO(t)}catch(t){return}}function KS(t){return gr(t.sources)&&""!==t.sources||lr(t.sources)&&gr(t.sources.src)}function JS(t){return t.integration===hS.SPOTX&&!g(t.id)}function ZS(t){return"freewheel"===t.integration}function QS(t,n,i){if(void 0===i&&(i=TS.ke),VS(t))return{sources:[Ty()]};var e=Tg(t);if(e.sources=function(t,n,i){if(py(t))return[zS(t,n,i)];if(dr(t)&&py(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(zS(u,n,i))}return e}return[Ty()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!dr(t))return[];for(var i=[],e=0;e<t.length;e++){var r=t[e];(r=$S(r,n))&&(KS(r)||JS(r)||ZS(r))&&i.push(r)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u=!by(e.sources),o=e.ads&&e.ads.length>0;if(u&&!o?delete e.ads:o&&!u&&(e.sources=[]),"textTracks"in e){var s=function(t){if(!dr(t))return[];for(var n=[],i=0;i<t.length;i++){var e=t[i];""!==(e=XS(e)).src&&n.push(e)}return n}(e.textTracks);0===s.length?delete e.textTracks:e.textTracks=s}if("poster"in e&&(e.poster=Ag(e.poster)),"vr"in e&&(e.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:DS(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?AS(n.stereoMode):SS.NONE,nativeVR:Boolean(n.nativeVR)}}(e.vr)),"analytics"in e||(null==n?void 0:n.analytics)){var c=Ey(e.analytics),f=n&&n.analytics||[];e.analytics=function(t,n){for(var i=function(i){var r=n[i];!t.some((function(t){return t.integration===r.integration}))&&r.integration!==OS&&e.push(r)},e=Tg(t),r=0;r<n.length;r++)i(r);return e}(c,f)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Jy(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=Cg(e.playAdsAfterTime)),e.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(e.blockContentIfAdError),e}Se(),Te(),Vt(),Te(),Vt(),Te(),Vt();var tE=function(){var t=function(t){this.qO=t};return t.prototype.zO=function(t){var n,i,e,r,u,o,s,c=[];if(!t)return"";var f=t.length%4;if(f>0)for(;f++<4;)t+=this.qO.charAt(64);for(n=0;n<t.length;n+=4)i=(s=this.qO.indexOf(t.charAt(n))<<18|this.qO.indexOf(t.charAt(n+1))<<12|(u=this.qO.indexOf(t.charAt(n+2)))<<6|(o=this.qO.indexOf(t.charAt(n+3))))>>>16&255,e=s>>>8&255,r=255&s,c[n/4]=String.fromCharCode(i,e,r),64===o&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.WO=function(t,n){var i,e,r,u,o,s,c,f=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.qO.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)e=(i=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=i>>12&63,u=i>>6&63,o=63&i,f[s/3]=this.qO.charAt(e)+this.qO.charAt(r)+this.qO.charAt(u)+this.qO.charAt(o);return c=(c=f.join("")).slice(0,c.length-a.length),n||(c+=a),c},t.V_=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.jO=new t(function(t){return t.zO("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.V_)),t}();function nE(t){return"string"==typeof t}function iE(t){return"number"==typeof t}Te(),Vt(),Te(),Vt(),Te(),Vt();var eE={}.toString;var rE,uE=Array.isArray||function(t){return"[object Array]"===eE.call(t)};function oE(t,n){return uE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(rE||(rE={}));var sE,cE=v.keys(rE).map((function(t){return rE[t]}));function fE(t){return-1!==cE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview"}(sE||(sE={}));var aE,hE=v.keys(sE).map((function(t){return sE[t]}));function vE(t){return-1!==hE.indexOf(t)}function dE(t){try{var n=tE.jO.zO(t),i=JSON.parse(n);if(!function(t,n){var i,e=function(t){return"object"==typeof t&&null!==t}(t),r=nE(t.key),u=nE(t.customer_id),o=iE(t.generation_date),s=iE(t.expiration_date),c=oE(t.domains_page,nE),f=oE(t.domains_source,nE),a=oE(t.sdks,n?fE:nE),h=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=oE(t.features,n?vE:nE):(i=!0,t.features=[]);if(!(e&&r&&u&&o&&s&&c&&f&&a&&h&&i))return!1;return!0}(i,!1))throw new a("The provided license could not be decoded correctly.");return i}catch(t){throw new a("The provided license could not be decoded correctly.")}}function lE(){return aE||(aE={Ch:pe.href,GO:_e.parent&&_e.parent!==i,YO:yE()}),aE}var wE,gE=["http:","https:","ftp:","ws:","wss:"];function yE(){try{return _e.top.location.href}catch(t){return _e&&_e.document&&_e.document.referrer}}!function(t){t[t.XO=0]="XO",t[t.$O=1]="$O",t[t.KO=2]="KO"}(wE||(wE={}));var mE,_E=function(t,n,i,e,r,u,o,s,c){void 0===r&&(r=[]),void 0===u&&(u=""),void 0===o&&(o=Date.now()),void 0===s&&(s=[]),void 0===c&&(c=!0),this.JO=t,this.ZO=n,this.QO=i,this.tA=e,this.nA=r,this.iA=u,this.eA=o,this.rA=s,this.uA=c};!function(t){t.$O="expired",t.oA="invaliddomain",t.sA="invalidsource",t.cA="invalidfeature",t.ew="error"}(mE||(mE={}));var pE=function(){function t(t,n,i){this.fA=t,this.aA=n,this.vs=i,this.hA=IE(this.vs)}var n=t.prototype;return n.vA=function(t,n){var i=[];py(t.sources)?i=[t.sources]:dr(t.sources)&&(i=t.sources),this.dA(t,i,n),this.lA(i,n)},n.dA=function(t,n,i){var e=this;if(!VS(t)&&0!==i.QO.length&&!TE(i.QO)&&!n.every((function(t){return e.wA(t,i)}))){var r="invalidsource",u=NE.gA(r);throw new ed(bE(r),u)}},n.lA=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];my(e)&&_y(e)&&this.yA([sE.HESP],n)}},n.mA=function(n){return this._A(n.rA)&&this.pA(n)?t.bA(n.tA)?0:1:2},n.yA=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(!Lc(n.nA,e)){var r="invalidfeature",u=NE.kA(r,e);throw new ed(bE(r),u)}}},n._A=function(t){var n=this;return 0===t.length||t.some((function(t){return n.TA(t)}))},n.TA=function(t){return"tvos"===function(t){switch(t){case rE.ANDROID:return Ge.Dn;case rE.ANDROIDTV:case rE.FIRETV:return Ge.Pn;case rE.IOS:return Ge.xn;case rE.TVOS:return Ge.Bn;case rE.CHROMECAST:case rE.CHROMECASTCAF:return Ge.Ln;default:return Ge.An}}(t)},n.pA=function(t){return!(this.hA&&0!==t.ZO.length&&!TE(t.ZO))||!!(this.hA&&this.SA(t.ZO)&&this.EA(t.ZO))},n.SA=function(t){return SE(this.vs.Ch,t)},n.EA=function(t){if(!this.vs.GO)return!0;if(this.fA)return!0;var n=this.IA();return!!n&&SE(n,t)},n.IA=function(){if(this.vs.GO){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.vs.YO?this.vs.YO:void 0}},n.wA=function(n,i){return!!t.RA(n,i.QO)},t.bA=function(t){var n=Number(new Date);return!!t&&n<=t},t.RA=function(t,n){return SE(this.NA(t),n)},t.NA=function(t){return gr(t)?t:my(t)&&t.src||""},t}();function bE(t){switch(t){case"invaliddomain":return Qv.LICENSE_INVALID_DOMAIN;case"invalidsource":return Qv.LICENSE_INVALID_SOURCE;case"expired":return Qv.LICENSE_EXPIRED;case"invalidfeature":return Qv.LICENSE_INVALID_FEATURE;case"error":return Qv.LICENSE_ERROR}}function kE(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+r+o+r+o+r+o+"\\)"),c=e.match(s),f=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var a=new RegExp("^"+c[1]+r+f(c[2])+r+f(c[3])+r+f(c[4])+"$");return null!==i.match(a)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function TE(t){return t.some((function(t){return"*"===t}))}function SE(t,n){var i=je.Lr(t);if(!EE(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(kE(i.hostname,r))return!0;if(kE(al(t),r))return!0}return!1}function EE(t){return-1!==gE.indexOf(t.protocol)}function IE(t){var n=je.Lr(t.Ch);return EE(n)&&!function(t){return kE(t.hostname,"localhost")}(n)&&!function(t){return kE(t.hostname,"theoplayer.doubleclick.net")}(n)}var RE,NE=function(){function t(){}return t.kA=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.gA=function(t){return"invaliddomain"===t?this.CA:"invalidsource"===t?this.OA:"expired"===t?this.AA:"invalidfeature"===t?this.DA:this.PA},t}();function CE(t){var n=[t.lT,t.xA,t.BA];switch(t.xA){case 1:n.push(t.ww);break;case 4:n.push(t.Ww),n.push(t.Zu);break;case 5:n.push(t.Zu)}return n}NE.PA="The license for this player is invalid.",NE.AA="The usage license for this video player has expired.",NE.CA="The current domain is incompatible with the license for this player.",NE.OA="The provided video source is incompatible with the license for this player.",NE.DA="The requested feature is not available with the license for this player.",Te(),Vt(),Ne(),Te(),Vt(),function(t){t[t.LA=1]="LA",t[t.MA=4]="MA",t[t.FA=5]="FA"}(RE||(RE={})),Te(),Vt();var OE,AE=new Array(256);for(OE=0;OE<256;OE+=1)AE[OE]=(OE<16?"0":"")+OE.toString(16);function DE(){var t=cu(),n=(4294967296*d.random()|0)+t&3029421624,i=(4294967296*d.random()|0)+t&3595553209,e=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return AE[255&n]+AE[n>>>8&255]+AE[n>>>16&255]+AE[n>>>24&255]+"-"+AE[255&i]+AE[i>>>8&255]+"-"+AE[i>>>16&15|64]+AE[i>>>24&255]+"-"+AE[63&e|128]+AE[e>>>8&255]+"-"+AE[e>>>16&255]+AE[e>>>24&255]+AE[255&r]+AE[r>>>8&255]+AE[r>>>16&255]+AE[r>>>24&255]}function PE(){return je.mr()}Te(),Vt(),Te(),Vt(),Te(),Vt();var xE,BE="theoplayer-session-id";function LE(){if(!xE){var t=bd.co(BE);t?xE=t:(xE=DE(),bd.oa(BE,xE))}return xE}Te(),Vt(),Se(),Te(),Vt();var ME=/[^\x00-\x7E]/g;function FE(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var UE="https://license.theoplayer.com";function VE(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(ME,FE)}(t,(function(t,i){if(lr(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i}))}(function(t){return[t.UA,t.Jc,t.JO,t.wb,t.VA,t.HA,t.qA.map(CE)]}(t));return tE.jO.WO(n)}var HE=function(){function t(t,n,i,e,r,u){void 0===e&&(e=tE.V_),void 0===r&&(r=0),void 0===u&&(u=1);var o=this;this.wc=t,this.gS=n,this.zA=i,this.WA=e,this.jA=r,this.GA=u,this.YA=[],this.XA=null,this.$A=0,this.KA="unknown",this.js=0,this.JA=function(){PE()-o.$A>6e4&&o.H()},this.ZA=function(){o.H(!0)},me.Rn(this.ZA),this.QA=c(this.JA,6e4)}var n=t.prototype;return n.tD=function(){return Boolean(this.VA)},n.nD=function(t){var n=this;return Fs((function(){var i;return Vs(this,(function(e){switch(e.label){case 0:return[4,n.zA.iD()];case 1:return e.sent().uA?(i={xA:RE.LA,BA:cu(),ww:t},[4,n.eD(i)]):[2];case 2:return e.sent(),[2]}}))}))()},n.rD=function(t,n){var i=this;return Fs((function(){var e;return Vs(this,(function(r){switch(r.label){case 0:return e={xA:RE.MA,BA:cu(),Ww:n,Zu:t},[4,i.eD(e)];case 1:return r.sent(),[2]}}))}))()},n.uD=function(t){var n=this;return Fs((function(){var i;return Vs(this,(function(e){switch(e.label){case 0:return i={xA:RE.FA,BA:cu(),Zu:t},[4,n.eD(i)];case 1:return e.sent(),[2]}}))}))()},n.eD=function(t){var n=this;return Fs((function(){var i;return Vs(this,(function(e){switch(e.label){case 0:return[4,n.zA.iD()];case 1:return i=e.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.WA.WO(i.JO)&&t.xA!==RE.FA?[2]:(t.xA===RE.LA?n.oD():n.tD()||n.oD(),t.lT=n.js++,n.YA.push(t),function(t){return t===RE.LA||t===RE.FA}(t.xA)?[4,n.H()]:[3,3]);case 2:return e.sent(),[3,5];case 3:return n.YA.length>n.jA?[4,n.sD()]:[3,5];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))()},n.H=function(t){void 0===t&&(t=!1);var n=this;return Fs((function(){return Vs(this,(function(i){switch(i.label){case 0:return n.YA.length>0?[4,n.sD(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.cD=function(t){var n=this;return Fs((function(){var i;return Vs(this,(function(e){switch(e.label){case 0:return[4,n.zA.iD()];case 1:return i=e.sent(),[2,{UA:cu(),Jc:LE(),JO:n.WA.WO(i.JO)||"dev",wb:n.wc,VA:n.XA,HA:n.KA,qA:t}]}}))}))()},n.sD=function(t){void 0===t&&(t=!1);var n=this;return Fs((function(){var i,e;return Vs(this,(function(r){switch(r.label){case 0:return i=n.YA.splice(0,n.GA),[4,n.cD(i)];case 1:return e=r.sent(),t?n.nv(e):n.fD(e),n.$A=PE(),[2]}}))}))()},n.fD=function(t){var n=this;return Fs((function(){var i,e;return Vs(this,(function(r){switch(r.label){case 0:i=VE(t),e=new el({Ch:UE,ah:i,Qh:!1,Sh:Id.Za,Th:{"Content-Type":_k.YE},$h:4e3,Xh:Zd.POST}),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,n.gS.Rh(e)];case 2:return[4,r.sent().oh()];case 3:return r.sent(),[3,5];case 4:return r.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.nv=function(t){var n=VE(t);this.gS.nv({Ch:UE,ah:n,fh:_k.YE})},n.oD=function(){this.tD()&&this.H(),this.XA=DE(),this.js=0},n.kn=function(){me.Nn(this.ZA),f(this.QA),this.H()},Re(t,[{key:"qA",get:function(){return this.YA}},{key:"VA",get:function(){return this.XA}}]),t}();Te(),Vt(),Ne(),Fe(),Te(),Vt(),Fe();var qE=sr.te||sr.Ui&&sr.se<13;function zE(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var WE=function(){function t(t){this.tl=void 0,this.aD=void 0,this.sN=t}var n=t.prototype;return n.hD=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];var r;if(!t||!t.drawImage)return!1;var u=this.sN.Ug();return!!u&&((r=t).drawImage.apply(r,[u].concat(Le(i))),!0)},n.vD=function(t,n,i,r,u,o){if(!t||!t.texImage2D)return!1;var s=this.sN,c=s.Ug();if(!c)return!1;if(qE){this.aD||(this.aD=e.createElement("canvas"));var f=this.aD,h=f.getContext("2d"),v=s.Qw,d=s.Zw,l=f.width,w=f.height;h.clearRect(0,0,f.width,f.height),l===v&&w===d||(f.width=v,f.height=d),h.drawImage(c,0,0,v,d);var g=!1;v>0&&zE(h,v-1,0)&&(f.width=l,g=!0),d>0&&zE(h,0,d-1)&&(f.height=w,g=!0),g&&h.drawImage(c,0,0,v,d),c=f}try{t.texImage2D(n,i,r,u,o,c)}catch(t){throw new a("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},Re(t,[{key:"nl",get:function(){return this.tl||(this.tl=function(t){return{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];var u;return(u=t).hD.apply(u,[n].concat(Le(e)))},texImage2D:function(n,i,e,r,u,o){return t.vD(n,i,e,r,u,o)}}}(this))}}]),t}();Te(),Vt(),Ne(),Te(),Vt();var jE=function(t){function n(n,i){var e;return(e=t.call(this,"dD")||this).im=n,e.Xb=i,e}return Xe(n,t),n.prototype.il=function(){return new GE(this.im,this.Xb)},n}(sg),GE=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return Xe(n,t),n}(of);Te(),Vt(),Ne(),Te(),Vt();var YE=function(t,n){this.Kg=t,this.lD=n};Se();var XE=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).wD=0,e.gD=0,e.yD=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.gD=n.width,e.wD=n.height,e.lD(e.gD,e.wD)}},e.mD=new _e.ResizeObserver(e.yD),e.mD.observe(e.Kg),e}return Xe(n,t),n.prototype.kn=function(){this.mD.disconnect()},Re(n,[{key:"_D",get:function(){return this.wD}},{key:"pD",get:function(){return this.gD}}]),n}(YE);Te(),Vt(),Ne(),Te(),Vt();var $E=0;var KE,JE=s,ZE=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,QE=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;ZE&&QE||(ZE=function(t){var n=PE(),i=d.max(0,16-(n-$E)),e=o((function(){return t(n+i)}),i);return $E=n+i,e},QE=JE),ZE=ZE.bind(self),QE=QE.bind(self),Te(),Vt(),Se();var tI=["Webkit","Moz","O","ms"],nI=(function(){var t=!1;try{if(void 0!==_e&&"function"==typeof _e.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});_e.addEventListener("testPassiveEventSupport",pr,n),_e.removeEventListener("testPassiveEventSupport",pr,n)}}catch(t){}}(),zs());function iI(t){return nI.has(t)||nI.set(t,function(t){var n=(KE||(KE=_e&&_e.document&&_e.document.createElement("span")),KE);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<tI.length;e++){var r=tI[e]+i;if(void 0!==n.style[r])return r}return t}(t)),nI.get(t)}function eI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function rI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[iI("transition")]="0s"}var uI=function(t){function n(n,r,u){var s;(s=t.call(this,n,r)||this).bD=0,s.gD=NaN,s.wD=NaN,s.kD=void 0,s.uf=function(){s.TD.style.width="100000px",s.TD.style.height="100000px",s.SD.scrollLeft=1e5,s.SD.scrollTop=1e5,s.ED.scrollLeft=1e5,s.ED.scrollTop=1e5,0===s.ED.scrollTop&&ZE(s.uf)},s.RD=function(){var t=s.pD,n=s._D;s.lD(t,n),s.gD=t,s.wD=n,s.uf(),s.bD=0},s.ND=function(){if(!s.bD){var t=s.pD,n=s._D;t===s.gD&&n===s.wD||(s.bD=ZE(s.RD))}},s.CD=function(){s.kD||(s.kD=o(s.OD,66))},s.OD=function(){s.kD=void 0,s.DD()},s.DD=function(){s.ND()};var c=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var f=e.createElement("div");return s.PD=f,s.SD=e.createElement("div"),s.TD=e.createElement("div"),s.ED=e.createElement("div"),s.xD=e.createElement("div"),eI(s.SD),eI(s.ED),rI(s.TD),function(t){rI(t),t.style.width="200%",t.style.height="200%"}(s.xD),f.appendChild(s.SD),f.appendChild(s.ED),s.SD.appendChild(s.TD),s.ED.appendChild(s.xD),n.appendChild(f),s.SD.addEventListener("scroll",s.ND),s.ED.addEventListener("scroll",s.ND),i&&i.addEventListener("resize",s.CD),s.ND(),s}return Xe(n,t),n.prototype.kn=function(){QE(this.bD),this.bD=0,this.SD.removeEventListener("scroll",this.ND),this.ED.removeEventListener("scroll",this.ND),ls(this.PD),i&&i.removeEventListener("resize",this.CD)},Re(n,[{key:"_D",get:function(){return this.Kg.getBoundingClientRect().height||this.wD||0}},{key:"pD",get:function(){return this.Kg.getBoundingClientRect().width||this.gD||0}}]),n}(YE);Se();var oI=function(t){function n(n){var i;return(i=t.call(this)||this).mD=void 0,i.yD=function(t,n){i.Lu(new jE(t,n))},i.Kg=n,i}Xe(n,t);var i=n.prototype;return i.ef=function(t){this.mD||("function"==typeof _e.ResizeObserver?this.mD=new XE(this.Kg,this.yD):this.mD=new uI(this.Kg,this.yD,t))},i.kn=function(){this.Hu(),this.mD&&(this.mD.kn(),this.mD=void 0)},Re(n,[{key:"_D",get:function(){return this.mD?this.mD._D:0}},{key:"pD",get:function(){return this.mD?this.mD.pD:0}}]),n}(ef);Te(),Vt(),Ne(),Te(),Vt();var sI=function(t){function n(){return t.call(this,HT.gl)}return Xe(n,t),n}(of);Te(),Vt();!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{BD:i[0],LD:i[1],MD:i[2],FD:i[3],UD:i[4],VD:i[5]}}}();Te(),Vt();var cI=function(t){function n(){return t.call(this,HT.rC)}return Xe(n,t),n}(of),fI=function(t){function n(n,i){var e;return(e=t.call(this)||this).HD=!1,e.qD=function(){return e.Gc()},e.CC=function(t){e.HD||e.Lu(t)},e.sN=n,e.zD=i,e.WD=jT,e.jD(),e.sN.Fu(Ed._a,e.qD),e.Gc(),e}Xe(n,t);var i=n.prototype;return i.Ay=function(){this.zD&&this.WD.Ay()},i.Py=function(){this.WD.Py()},i.jD=function(){this.WD.Fu(HT.gl,this.CC),this.WD.Fu(HT.ew,this.Bu)},i.GD=function(){this.WD.qu(HT.gl,this.CC),this.WD.qu(HT.ew,this.Bu)},i.Gc=function(){var t=this.WD,n=this.sN.Vg();if(t!==n){this.HD=!0;var i=this.uC,e=this.oC;i&&this.Py(),this.GD(),this.WD=n,this.jD(),i&&!this.uC&&this.oC?this.Ay():this.Py(),this.HD=!1,e!==this.oC&&this.Lu(new cI),i!==this.uC&&this.Lu(new sI)}},i.kn=function(){this.Hu(),this.GD(),this.sN.qu(Ed._a,this.qD)},Re(n,[{key:"oC",get:function(){return!!this.zD&&this.WD.oC}},{key:"uC",get:function(){return this.WD.uC}}]),n}(ef);function aI(t){var n;return{get url(){return t.Ch},get method(){return t.Xh},get headers(){return n||(n=t.Th.Qa()),n},get body(){return t.ah},get useCredentials(){return t.Qh},get type(){return t.eu},get subType(){return t.Jh},get mediaType(){return t.Zh},get responseType(){return t.Sh}}}function hI(t){switch(t.toLowerCase()){case"arraybuffer":return Id.$a;case"json":return Id.Ka;case"stream":return Id.Ja;case"text":default:return Id.Za}}function vI(t){switch(t.toUpperCase()){case"POST":return Zd.POST;case"PUT":return Zd.PUT;case"DELETE":return Zd.DELETE;case"HEAD":return Zd.HEAD;case"OPTIONS":return Zd.OPTIONS;case"GET":default:return Zd.GET}}function dI(t){switch(t.toLowerCase()){case"manifest":return Qd.Ph;case"segment":return Qd.xh;case"preload-hint":return Qd.Bh;case"content-protection":return Qd.Lh;default:return Qd.Dh}}function lI(t){switch(t.toLowerCase()){case"initialization-segment":return tl.Mh;case"fairplay-license":return tl.Fh;case"fairplay-certificate":return tl.Uh;case"widevine-license":return tl.Vh;case"widevine-certificate":return tl.Hh;case"playready-license":return tl.qh;case"clearkey-license":return tl.zh;case"aes128-key":return tl.Wh;default:return tl.Dh}}function wI(t){switch(t.toLowerCase()){case"audio":return nl.jh;case"video":return nl.Gh;case"text":return nl.Za;case"image":return nl.Yh;case"":default:return nl.Dh}}Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Ne();var gI=function(){function t(t,n){this.YD=t,this.XD=n,this.$D=new wa,this.KD=[],this.tl=void 0,this.JD=!1,this.lv=void 0,this.ZD=0}var n=t.prototype;return n.ib=function(){this.JD=!0,this.$D.To(null)},n.QD=function(){this.$D.So(new Dd(this.KD))},n.tP=function(t){if(!this.nP)throw new h("Cannot respond more than once");if(!lr(t))throw new h("Expected valid response");this.lv=this.iP(t),this.ib()},n.eP=function(){try{var t=this.XD(this.nl);t?this.rP(t):this.uP||this.oP||this.ib()}catch(t){this.KD.push(t),this.QD()}},n.rP=function(t){if(this.oP)throw new a("Request has been redirected or a response already exists");if(mr(t))this.sP(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new wa;try{var i=t((function(t){t?n.So(t):n.To(void 0)}));mr(i)&&n.Cu(i)}catch(t){n.So(t)}this.sP(n.ko)}},n.sP=function(t){var n=this;return Fs((function(){var i;return Vs(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.ZD++,[4,t];case 1:return e.sent(),n.ZD--,n.uP||n.oP||(n.KD.length?n.QD():n.ib()),[3,3];case 2:return i=e.sent(),n.ZD--,n.KD.push(i),n.uP||n.oP||n.QD(),[3,3];case 3:return[2]}}))}))()},Re(t,[{key:"cP",get:function(){return this.$D.ko}},{key:"nl",get:function(){return this.tl||(this.tl=this.fP()),this.tl}},{key:"oP",get:function(){return this.JD}},{key:"nP",get:function(){return!this.JD}},{key:"uP",get:function(){return this.ZD>0}},{key:"wv",get:function(){return this.lv}}]),t}(),yI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).aP=e,r.eP(),r}Xe(n,t);var i=n.prototype;return i.fP=function(){return function(t){var n,i=aI(t.Rh);return{get closed(){return!t.nP},get request(){return i},get url(){return t.Ch},get status(){return t.kh},get statusText(){return t.Eh},get headers(){return n||(n=t.Th.Qa()),n},get body(){return t.ah},respondWith:function(n){return t.tP(n)},waitUntil:function(n){return t.rP(n)}}}(this)},i.iP=function(t){return n.hP(t,this.YD,this.aP)},n.hP=function(t,n,i){var e=void 0===t.body?i:t.body;return new il({Ah:e,Rh:n.Rh,Sh:n.Rh.Sh,Th:t.headers,kh:t.status,Eh:t.statusText,Nh:t.url,Ih:!0},n)},Re(n,[{key:"ah",get:function(){return this.aP}},{key:"Th",get:function(){return this.YD.Th}},{key:"Rh",get:function(){return this.YD.Rh}},{key:"wv",get:function(){return this.lv}},{key:"kh",get:function(){return this.YD.kh}},{key:"Eh",get:function(){return this.YD.Eh}},{key:"Ch",get:function(){return this.YD.Nh}}]),n}(gI);Te(),Vt(),Ne();var mI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).vP=void 0,r.dP=e,r.eP(),r}Xe(n,t);var i=n.prototype;return i.fP=function(){return function(t){var n;return{get url(){return t.Ch},get method(){return t.Xh},get headers(){return n||(n=t.Th.Qa()),n},get body(){return t.ah},get closed(){return!t.nP},get useCredentials(){return t.Qh},get type(){return t.eu},get subType(){return t.Jh},get mediaType(){return t.Zh},get responseType(){return t.Sh},redirect:function(n){return t.lP(n)},respondWith:function(n){return t.tP(n)},waitUntil:function(n){return t.rP(n)}}}(this)},i.iP=function(t){var n=this.YD.ah,i=new il({Ah:n,Th:{},Rh:this.YD,Nh:this.YD.Ch,Sh:this.YD.Sh,kh:200,Eh:"OK"});return yI.hP(t,i,n)},i.lP=function(t){if(!this.nP)throw new h("Cannot redirect, already redirected or has a response");var n;n=gr(t)?{url:t}:t,this.vP=function(t,n){return new el({Ch:void 0===t.url?n.Ch:t.url,Xh:void 0!==t.method?vI(t.method):void 0,Th:t.headers,ah:t.body,Qh:t.useCredentials,eu:void 0!==t.type?dI(t.type):void 0,Jh:void 0!==t.subType?lI(t.subType):void 0,Zh:void 0!==t.mediaType?wI(t.mediaType):void 0,Sh:void 0!==t.responseType?hI(t.responseType):void 0},n)}(n,this.YD),this.ib()},Re(n,[{key:"ah",get:function(){return this.YD.ah}},{key:"nP",get:function(){return this.dP&&!this.JD}},{key:"Th",get:function(){return this.YD.Th}},{key:"Xh",get:function(){return this.YD.Xh}},{key:"wP",get:function(){return this.vP}},{key:"wv",get:function(){return this.lv}},{key:"Sh",get:function(){return this.YD.Sh}},{key:"$h",get:function(){return this.YD.$h}},{key:"Kh",get:function(){return this.YD.Kh}},{key:"Au",get:function(){return this.YD.Au}},{key:"eu",get:function(){return this.YD.eu}},{key:"Jh",get:function(){return this.YD.Jh}},{key:"Zh",get:function(){return this.YD.Zh}},{key:"Ch",get:function(){return this.YD.Ch}},{key:"Qh",get:function(){return this.YD.Qh}},{key:"tv",get:function(){return this.YD.tv}}]),n}(gI);var _I=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new pI(n);return(e=t.call(this,r,i)||this).gP=r,e}Xe(n,t);var i=n.prototype;return i.yP=function(t){this.gP.yP(t)},i.mP=function(t){this.gP.mP(t)},i._P=function(t){this.gP._P(t)},i.pP=function(t){this.gP.pP(t)},i.bP=function(t){this.gP.bP(t)},n}(ul),pI=function(){function t(t){this.kP=[],this.TP=[],this.ev=t}var n=t.prototype;return n.Rh=function(t){var n=this;return Fs((function(){var i,e;return Vs(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,n.SP(t,t.Au)];case 1:return i=r.sent(),[3,5];case 2:return(e=r.sent())instanceof hl?[4,n.EP(e,t.Au)]:[3,4];case 3:return[2,r.sent()];case 4:throw e;case 5:return[4,n.IP(i,t.Au)];case 6:if(Jd(i=r.sent()))return[2,i];throw new dl(i)}}))}))()},n.nv=function(t){return this.ev.nv(t)},n.SP=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s,c;return Vs(this,(function(f){switch(f.label){case 0:Wc(n),e=t,u=0,o=i.kP.slice(),f.label=1;case 1:if(!(u<o.length))return[3,7];if(s=o[u],Wc(n),(c=new mI(e,s,!r)).oP)return[3,5];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,c.cP];case 3:return f.sent(),[3,5];case 4:return f.sent(),[3,6];case 5:c.wP&&!r?e=c.wP:c.wv&&!r&&(r=c.wv),f.label=6;case 6:return u++,[3,1];case 7:return r?[2,r]:[2,i.ev.Rh(e)]}}))}))()},n.EP=function(t,n){var i=this;return Fs((function(){var e,r;return Vs(this,(function(u){switch(u.label){case 0:return e=t instanceof dl?t.wv:new il({Ah:null,Rh:t.Rh,kh:0,Eh:""}),[4,i.IP(e,n)];case 1:if((r=u.sent())===e)throw t;if(Jd(r))return[2,r];throw new dl(r)}}))}))()},n.IP=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s,c;return Vs(this,(function(f){switch(f.label){case 0:e=t,r=0,u=i.TP.slice(),f.label=1;case 1:return r<u.length?(o=u[r],Wc(n),[4,G.resolve(e.yo().Ah(n))]):[3,8];case 2:if(s=f.sent(),(c=new yI(e,o,s)).oP)return[3,6];f.label=3;case 3:return f.trys.push([3,5,,6]),[4,c.cP];case 4:return f.sent(),[3,6];case 5:return f.sent(),[3,7];case 6:e=c.wv||e,f.label=7;case 7:return r++,[3,1];case 8:return[2,e]}}))}))()},n.yP=function(t){this.kP.unshift(t)},n.mP=function(t){this.kP.push(t)},n._P=function(t){Pc(this.kP,t)},n.pP=function(t){this.TP.unshift(t)},n.bP=function(t){Pc(this.TP,t)},n.kn=function(){this.ev.kn(),Mc(this.kP),Mc(this.TP)},t}();Te(),Vt(),Ne();var bI,kI=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).RP=n,r.gS=i,r.lC=e,r.NP=function(t){r.Lu(t)},r.CP=function(t){r.Lu(t)},r.RP.Fu(Ed.Ca,r.NP),r.RP.Fu(Ed.Na,r.CP),r}Xe(n,t);var i=n.prototype;return i.OP=function(t){this.lC.OP(t)},i.yP=function(t){this.gS.yP(t)},i._P=function(t){this.gS._P(t)},i.pP=function(t){this.gS.pP(t)},i.bP=function(t){this.gS.bP(t)},i.kn=function(){this.Hu(),this.RP.qu(Ed.Ca,this.NP),this.RP.qu(Ed.Na,this.CP)},Re(n,[{key:"nl",get:function(){return this.tl||(this.tl=function(t){return{get online(){return t.oy},get estimator(){return function(t){return{get bandwidth(){return t.OI},get roundTripTime(){return t.AI}}}(t.AP)},setEstimator:function(n){t.OP(function(t){if(!t)return;return{get OI(){return Og(t.bandwidth)},get AI(){return Og(t.roundTripTime)},CI:function(n){return function(t){if(!t)return;return{DP:function(n){t.markRequestStart(n)},PP:function(n){t.markResponseStart(n)},xP:function(n,i){t.markResponseData(n,i)},BP:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(aI(n)))}}}(n))},addRequestInterceptor:function(n){t.yP(n)},removeRequestInterceptor:function(n){t._P(n)},addResponseInterceptor:function(n){t.pP(n)},removeResponseInterceptor:function(n){t.bP(n)},addEventListener:function(n,i){t.Fu(n,i)},removeEventListener:function(n,i){t.qu(n,i)}}}(this)),this.tl}},{key:"oy",get:function(){return this.RP.oy}},{key:"AP",get:function(){return this.lC.AP}}]),n}(ef);Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(bI||(bI={})),Te(),Vt();Te(),Vt();var TI={type:bI.BANDWIDTH};function SI(t){var n=Tg(TI);return gr(t)?n.type=EI(t):lr(t)&&function(t){switch(t){case bI.PERFORMANCE:case bI.QUALITY:case bI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=EI(t.type)),lr(t)&&lr(t.metadata)&&(n.metadata=function(t){var n={},i=Cg(t.bitrate);return g(i)||(n.bitrate=i),n}(t.metadata)),n}function EI(t){switch(t){case"bandwidth":return bI.BANDWIDTH;case"performance":return bI.PERFORMANCE;case"quality":return bI.QUALITY}}function II(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.LP)},set strategy(n){t.LP=SI(n)},get targetBuffer(){return t.MP},set targetBuffer(n){var i=Cg(n);g(i)||(t.MP=i)},get bufferLookbackWindow(){return t.FP},set bufferLookbackWindow(n){var i=Cg(n);g(i)||(t.FP=i<=0?30:i)},get maxBufferLength(){return t.UP}}}Te(),Vt();var RI=function(t){function n(n){var i;return(i=t.call(this,"VP")||this).MP=n,i}return Xe(n,t),n}(of);Te(),Vt();var NI=function(t){function n(n){var i;return(i=t.call(this,"HP")||this).LP=n,i}return Xe(n,t),n}(of);Te(),Vt();var CI=function(t){function n(n){var i;return(i=t.call(this,"qP")||this).FP=n,i}return Xe(n,t),n}(of),OI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).tl=II(Sc(n)),n.zP=TI,n.WP=20,n.jP=30,n.GP=1/0,n.YP=void 0,n}Xe(n,t);var i=n.prototype;return i.XP=function(t){this.$P=t},i.OP=function(t){this.YP=t},i.KP=function(t){var n=d.min(t,.8*this.GP);if(n=d.max(10,n),this.GP===n)return!1;var i=this.JP;this.GP=n;var e=this.JP;return e!==i&&this.Lu(new RI(e)),!0},Re(n,[{key:"ZP",get:function(){switch(this.zP.type){case bI.PERFORMANCE:return 0;case bI.QUALITY:return 1/0;case bI.BANDWIDTH:return this.zP.metadata&&void 0!==this.zP.metadata.bitrate?this.zP.metadata.bitrate:iy.ke.Tw();default:return iy.ke.Tw()}}},{key:"nl",get:function(){return this.tl}},{key:"LP",get:function(){return this.zP},set:function(t){this.zP=t,this.Lu(new NI(t))}},{key:"MP",get:function(){return this.WP},set:function(t){this.WP=t,this.Lu(new RI(t))}},{key:"JP",get:function(){return d.min(this.WP,this.GP)}},{key:"FP",get:function(){return this.jP},set:function(t){this.jP=t,this.Lu(new CI(t))}},{key:"UP",get:function(){return this.GP}},{key:"AP",get:function(){var t;return null!=(t=this.YP)?t:this.$P.YR}}]),n}(ef);Se(),Te(),Vt(),Ne(),Te(),Vt();var AI=function(t){function n(){return t.call(this,"yl")}return Xe(n,t),n.prototype.il=function(){return new DI},n}(sg),DI=function(t){function n(){return t.call(this,"change")}return Xe(n,t),n}(of);Te(),Vt(),Te(),Vt();var PI=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).QP=function(t){cg(t)&&Kc((function(){r.Lu(t.nl)}))},r.tx=n,r.YA=i;for(var u=0,o=r.YA;u<o.length;u++){var s=o[u];r.tx.Fu(s,r.QP)}return r}return Xe(n,t),n.prototype.kn=function(){this.Hu();for(var t=0,n=this.YA;t<n.length;t++){var i=n[t];this.tx.qu(i,this.QP)}},n}(ef),xI=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).QP=function(t){cg(t)&&Kc((function(){e.Lu(t.nl)}))},e.tx=n,e.tx.Vu(e.QP),e}return Xe(n,t),n.prototype.kn=function(){this.Hu(),this.tx.ju(this.QP)},n}(Kg);var BI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Hy=0,n.qy=1/0,n}Xe(n,t);var i=n.prototype;return i.uf=function(){0===this.Hy&&this.qy===1/0||(this.Hy=0,this.qy=1/0,this.Lu(new AI))},i.nx=function(){return new qT([this.By,this.Ly],[!0,!0])},Re(n,[{key:"By",get:function(){return this.Hy},set:function(t){if(this.Ly<=t)throw new a("Start time of a clip should be smaller than the end time.");this.Hy!==t&&(this.Hy=t,this.Lu(new AI))}},{key:"Ly",get:function(){return this.qy},set:function(t){if(t<=this.By)throw new a("End time of a clip should be larger than the start time.");this.qy!==t&&(this.qy=t,this.Lu(new AI))}},{key:"nl",get:function(){return this.tl||(this.tl=function(t){var n,i={get startTime(){return t.By},set startTime(n){t.By=n},get endTime(){return t.Ly},set endTime(n){t.Ly=n},addEventListener:function(t,i){n.Fu(t,i)},removeEventListener:function(t,i){n.qu(t,i)}};return n=new xI(t,i),i}(this)),this.tl}}]),n}(Kg);Te(),Vt(),Ne(),Te(),Vt(),Ne();var LI=function(t){function n(n){var i;return(i=t.call(this)||this).ix=n,i.ux=function(t){i.ox(t)||i.Lu(t)},i.ix.Vu(i.ux),i}Xe(n,t);var i=n.prototype;return i.sx=function(){return this.ix.Eg},i.Hg=function(){return this.ix.Hg()},i.hx=function(){return this.ix.Xg},i.vx=function(){return this.ix.jg},i.lx=function(){return this.ix.$g},i.wx=function(t){this.ix.$g=t},i.gx=function(){return this.ix.Ww},i.yx=function(t){this.ix.Ww=t},i.mx=function(){return this.ix.jw},i._x=function(){return this.ix.Kg},i.bx=function(){return this.ix.Gw},i.kx=function(){return this.ix.Zu},i.Tx=function(){return this.ix.Yw},i.Sx=function(){return this.ix.Jg},i.Ex=function(){return this.ix.Xw},i.Ix=function(t){this.ix.Xw=t},i.Rx=function(){return this.ix.oy},i.Nx=function(){return this.ix.$w},i.Cx=function(){return this.ix.Kw},i.Ox=function(t){this.ix.Kw=t},i.Ax=function(){return this.ix.sy},i.Dx=function(){return this.ix.hy},i.Px=function(t){this.ix.hy=t},i.xx=function(){return this.ix.hw},i.Bx=function(){return this.ix.vy},i.Lx=function(){return this.ix.Jw},i.Og=function(){return this.ix.Og()},i.Ag=function(t,n){var i=this;return Fs((function(){return Vs(this,(function(e){switch(e.label){case 0:return Wc(n),[4,i.ix.Ag(t,n)];case 1:return e.sent(),[2]}}))}))()},i.Mx=function(){return this.ix.Rg},i.Fx=function(){return this.ix.Zw},i.Ux=function(){return this.ix.Ig},i.Vx=function(){return this.ix.Qw},i.Hx=function(){return this.ix.tg},i.qx=function(t){this.ix.tg=t},i.Vg=function(){return this.ix.Vg()},i.Ug=function(){return this.ix.Ug()},i.Bg=function(t){this.ix.Bg(t)},i.Lg=function(){this.ix.Lg()},i.Fg=function(){this.ix.Fg()},i.En=function(){this.ix.En()},i.yn=function(){this.ix.yn()},i.gn=function(){this.ix.gn()},i.Mg=function(){this.ix.Mg()},i.Cg=function(){return this.ix.Cg()},i.Dg=function(){return this.ix.Dg()},i.Pg=function(){this.ix.Pg()},i.xg=function(){this.ix.xg()},i.uf=function(){return this.ix.uf()},i.kn=function(){return this.ix.kn()},i.Gg=function(){this.ix.Gg()},i.Yg=function(){this.ix.Yg()},i.qg=function(t){return this.ix.qg(t)},i.ox=function(t){return!1},Re(n,[{key:"Eg",get:function(){return this.sx()}},{key:"Xg",get:function(){return this.hx()}},{key:"$g",get:function(){return this.lx()},set:function(t){this.wx(t)}},{key:"jg",get:function(){return this.vx()}},{key:"Ww",get:function(){return this.gx()},set:function(t){this.yx(t)}},{key:"jw",get:function(){return this.mx()}},{key:"Kg",get:function(){return this._x()}},{key:"Gw",get:function(){return this.bx()}},{key:"Zu",get:function(){return this.kx()}},{key:"Yw",get:function(){return this.Tx()}},{key:"Ng",get:function(){return this.ix.Ng}},{key:"Jg",get:function(){return this.Sx()}},{key:"Zg",get:function(){return this.ix.Zg}},{key:"Xw",get:function(){return this.Ex()},set:function(t){this.Ix(t)}},{key:"oy",get:function(){return this.Rx()}},{key:"$w",get:function(){return this.Nx()}},{key:"Kw",get:function(){return this.Cx()},set:function(t){this.Ox(t)}},{key:"sy",get:function(){return this.Ax()}},{key:"hy",get:function(){return this.Dx()},set:function(t){this.Px(t)}},{key:"hw",get:function(){return this.xx()}},{key:"vy",get:function(){return this.Bx()}},{key:"Jw",get:function(){return this.Lx()}},{key:"Rg",get:function(){return this.Mx()}},{key:"Zw",get:function(){return this.Fx()}},{key:"Ig",get:function(){return this.Ux()}},{key:"Qw",get:function(){return this.Vx()}},{key:"tg",get:function(){return this.Hx()},set:function(t){this.qx(t)}},{key:"ly",get:function(){return this.ix.ly}},{key:"wy",get:function(){return this.ix.wy},set:function(t){this.ix.wy=t}}]),n}(Jg),MI=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).zx=!1,r.Wx=void 0,r.jx=!1,r.Gx=function(){r.Yx(),r.Xx()},r.iR=function(){r.$x(),r.Xx(),r.Kx&&r.Ww>=r.Jx.Ly-n.Zx&&!r.Gw&&(r.Wx=ZE(r.iR))},r.Qx=function(){r.jx=!0},r.tB=function(){r.jx&&(r.jx=!1,r.Xx())},r.Jx=e,r.Jx.Fu("yl",r.Gx),r.ix.Fu("timeupdate",r.iR),r}Xe(n,t);var i=n.prototype;return i.yx=function(n){var i=this.Jx.nx().AN(n);t.prototype.yx.call(this,i),this.Xx()},i.bx=function(){return t.prototype.bx.call(this)||this.zx},i.Bx=function(){return qT.ZN(t.prototype.Bx.call(this)).DN(this.Jx.nx()).zR()},i.gn=function(){this.bx()?this.yx(this.nB.start(0)):this.Yx(),t.prototype.gn.call(this),this.Xx()},i.Ag=function(n,i){var e=this;return Fs((function(){return Vs(this,(function(r){switch(r.label){case 0:return Wc(i),e.zx=!1,e.Jx.uf(),[4,t.prototype.Ag.call(e,n,i)];case 1:return r.sent(),[2]}}))}))()},i.kn=function(){return this.Jx.qu("yl",this.Gx),this.ix.qu("timeupdate",this.iR),this.$x(),t.prototype.kn.call(this)},i.ox=function(n){switch(n.type){case"seeking":return this.Lu(n),this.Qx(),!0;case"seeked":case"emptied":return this.Lu(n),this.tB(),!0;case"ended":if(this.Kx)return!0}return t.prototype.ox.call(this,n)},i.$x=function(){this.Wx&&(QE(this.Wx),this.Wx=void 0)},i.Xx=function(){var t=this.Ww,i=this.Kx&&t>=this.Jx.Ly-n.d_;this.zx&&!i?(this.zx=!1,this.$w&&this.gn()):this.zx||!i||this.Jw||this.jx||(this.zx=!0,this.Lu(new Ly(t)),this.yn())},i.Yx=function(){if(this.jw!==1/0){var t=this.nB,i=qT.ZN(t).AN(this.Ww);ou(this.Ww,i,n.d_)||this.yx(i)}},Re(n,[{key:"nB",get:function(){return this.Bx().length?this.Bx():this.Jx.nx().zR()}},{key:"Kx",get:function(){return this.Jx.Ly<this.jw}}]),n}(LI);MI.Zx=1,MI.d_=.001,Te(),Vt(),Ne();var FI=function(){function t(){this.iB=!1}return Re(t,[{key:"eB",get:function(){return this.iB},set:function(t){this.iB=t}}]),t}();Te(),Vt();var UI=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).rB=!1,e.uB=!1,e.iB=i,e}Xe(n,t);var i=n.prototype;return i.bx=function(){return!this.iB.eB&&t.prototype.bx.call(this)},i.yn=function(){this.uB=!0,t.prototype.yn.call(this)},i.gn=function(){this.uB=!1,t.prototype.gn.call(this)},i.ox=function(n){if(this.iB.eB)switch(n.type){case"ended":return this.Ww=0,this.uB||(this.Jw?this.rB=!0:this.gn()),!0;case"seeked":this.rB&&(this.rB=!1,this.gn());break;case"pause":if(this.rB||t.prototype.bx.call(this))return!0}return t.prototype.ox.call(this,n)},n}(LI);Te(),Vt(),Ne(),Te(),Vt();var VI=function(){function t(t){this.mN=t,this.tl=function(t){return{get currentBandwidthEstimate(){return t.iy},get corruptedVideoFrames(){return t.ty},get droppedVideoFrames(){return t.Qg},get totalBytesLoaded(){return t.ey},get bufferedSegments(){return t.uy}}}(this)}return Re(t,[{key:"nl",get:function(){return this.tl}},{key:"ty",get:function(){return this.mN.oB.Zg.ty}},{key:"iy",get:function(){return this.mN.oB.Zg.iy}},{key:"Qg",get:function(){return this.mN.oB.Zg.Qg}},{key:"sB",get:function(){throw new a("Not implemented")}},{key:"cB",get:function(){throw new a("Not implemented")}},{key:"ey",get:function(){return this.mN.oB.Zg.ey}},{key:"ny",get:function(){return this.mN.oB.Zg.ny}},{key:"uy",get:function(){return this.mN.oB.Zg.uy}}]),t}();Te(),Vt(),Ne(),Te(),Vt();var HI=function(t){function n(){return t.call(this,"fB")}return Xe(n,t),n.prototype.il=function(){return new qI},n}(sg),qI=function(t){function n(){return t.call(this,"castingchange")}return Xe(n,t),n}(of);Te(),Vt();var zI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).aB=[],n.hB=!1,n.tl=void 0,n.vB=function(){var t=n.hB,i=n.dB;t!==i&&(n.hB=i,n.Lu(new HI))},n}Xe(n,t);var i=n.prototype;return i.lB=function(t){this.aB.push(t),t.Fu("statechange",this.vB)},i.kn=function(){for(var t=0,n=this.aB;t<n.length;t++){n[t].qu("statechange",this.vB)}Mc(this.aB)},Re(n,[{key:"dB",get:function(){return this.aB.some((function(t){return t.dB}))}},{key:"nl",get:function(){return this.tl||(this.tl=function(t){var n,i={get casting(){return t.dB},addEventListener:function(t,i){n.Fu(t,i)},removeEventListener:function(t,i){n.qu(t,i)}};return n=new PI(t,["fB"],i),i}(this)),this.tl}}]),n}(ef);Te(),Vt(),Te(),Vt();var WI=function(){function t(){}return t.wB=function(t,n){return Fs((function(){var i;return Vs(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),i=new el({Ch:t,Sh:Id.Za,Xh:Zd.GET}),[4,n.Rh(i)];case 1:return[4,e.sent().Ah()];case 2:return[2,e.sent().trim()];case 3:return zc(e.sent()),[2,void 0];case 4:return[2]}}))}))()},t.gB=function(t){try{var n=dE(t);return new _E(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new ed(Qv.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.yB=function(t){void 0===t&&(t=tE.V_),je.pr("The baked-in license is used. Please update the configuration with your license.");var n=t.zO('.$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl""'),i=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.zO(n)})),e=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.zO(n)})),r=Number(new Date(Number(t.zO('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.zO(n)}));return new _E(n,i,e,r,u)},t.convertLicenseToDummyLicense=function(t){return new _E(t.JO,t.ZO,t.QO,864e13,t.nA,t.iA,Date.now(),t.rA,t.uA)},t}();Te(),Vt();var jI=function(){function t(){}return t.sa=function(){return t.ke||(t.ke=GI.vf()?new GI:new pd),t.ke},t.ho=function(n){t.sa().ho(n)},t.ua=function(){t.sa().ua()},t.co=function(n){return t.sa().co(n)},t.oa=function(n,i){t.sa().oa(n,i)},t.mB=function(n){var i=t.co(n);if(void 0!==i)return w(i)},t._B=function(n){return"true"===t.co(n)},t}();jI.ke=void 0;var GI=function(t){function n(){return t.apply(this,arguments)}Xe(n,t);var i=n.prototype;return i.ho=function(t){self.localStorage.removeItem(t)},i.ua=function(){self.localStorage.clear()},i.co=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.oa=function(t,n){self.localStorage.setItem(t,n)},n.vf=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(jI),YI="https://validate.theoplayer.com/1/",XI=72e5,$I=d.floor(14399999*d.random()-XI),KI="THEOplayer.license",JI=function(){function t(t,n,i,e,r,u){this.gS=t,this.pB=n,this.bB=i,this.zA=e,this.kB=r,this.vs=u,this.hA=IE(u)}var n=t.prototype;return n.TB=function(){var t=this;return Fs((function(){var n;return Vs(this,(function(i){switch(i.label){case 0:return[4,t.SB(t.kB.license,t.kB.licenseUrl)];case 1:return n=i.sent(),t.zA.EB(n),[2]}}))}))()},n.SB=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s,c,f,a;return Vs(this,(function(h){switch(h.label){case 0:return e=n,t?r=WI.gB(t):e||(r=WI.yB()),e||(e=YI+r.JO),u=i.IB(),r?(o=i.pB.mA(r))!==wE.XO?[3,3]:i.RB(r.tA)&&i.RB(null==u?void 0:u.tA)?[4,i.NB(e)]:[3,2]:[3,3];case 1:if(s=h.sent())return[2,s];h.label=2;case 2:return[2,r];case 3:return u?i.pB.mA(u)!==wE.XO?[3,6]:i.RB(null==u?void 0:u.tA)?[4,i.NB(e)]:[3,5]:[3,7];case 4:if(c=h.sent())return[2,c];h.label=5;case 5:return[2,u];case 6:jI.ho(KI),h.label=7;case 7:return[4,WI.wB(e,i.gS)];case 8:if(f=h.sent()){if(a=WI.gB(f),i.pB.mA(a)===wE.XO)return jI.oa(KI,f),[2,a];jI.ho(KI)}else if(!i.hA&&r&&o===wE.$O&&e===YI+r.JO)return[2,WI.convertLicenseToDummyLicense(r)];if(!r&&!a)throw new ed(Qv.LICENSE_ERROR,"The given license is invalid!");return i.CB(null!=r?r:a,new ed(Qv.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.vA=function(t){var n=this;return Fs((function(){var i,e,r,u,o,s,c;return Vs(this,(function(f){switch(f.label){case 0:return[4,n.zA.iD()];case 1:return i=f.sent(),n.RB(i.tA)?(r=null!=(e=n.kB.licenseUrl)?e:YI+i.JO,[4,n.NB(r)]):[3,3];case 2:(u=f.sent())&&(n.zA.EB(u),i=u),f.label=3;case 3:try{if((o=n.pB.mA(i))===wE.KO)throw s=mE.oA,new ed(bE(s),NE.gA(s));if(o===wE.$O)throw c=mE.$O,new ed(bE(c),NE.gA(c));n.pB.vA(t,i)}catch(t){n.OB(t)}return[2]}}))}))()},n.yA=function(t){var n=this;return Fs((function(){var i;return Vs(this,(function(e){switch(e.label){case 0:return[4,n.zA.iD()];case 1:i=e.sent();try{n.pB.yA(t,i)}catch(t){n.OB(t)}return[2]}}))}))()},n.NB=function(t){var n=this;return Fs((function(){var i,e;return Vs(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,WI.wB(t,n.gS)];case 1:return void 0===(i=r.sent())?[2,void 0]:(e=WI.gB(i),n.pB.mA(e)===wE.XO?(jI.oa(KI,i),[2,e]):[2,void 0]);case 2:return r.sent(),[2,void 0];case 3:return[2]}}))}))()},n.RB=function(t){return!t||Number(new Date)+2592e5+$I>=t},n.IB=function(){var t=jI.co(KI);if(t)return WI.gB(t)},n.CB=function(t,n){this.zA.EB(t),this.OB(n)},n.OB=function(t){throw Or(t.message),this.bB.uD(t.message),t},t}();Te(),Vt(),Ne();var ZI=function(){function t(){this.AB=new wa}var n=t.prototype;return n.EB=function(t){this.DB=t,this.AB.To()},n.iD=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return t.DB?[2,G.resolve(t.DB)]:[4,t.AB.ko];case 1:return n.sent(),[2,t.DB]}}))}))()},Re(t,[{key:"PB",get:function(){return this.DB}}]),t}();Te(),Vt(),Ne(),Te(),Vt();var QI=function(t){function n(){return t.call(this,"yl")}return Xe(n,t),n.prototype.il=function(){return new tR},n}(sg),tR=function(t){function n(){return t.call(this,"change")}return Xe(n,t),n}(of);function nR(t){var n,i={get fontFamily(){return t.xB},set fontFamily(n){t.xB=n},get fontColor(){return t.BB},set fontColor(n){t.BB=n},get fontSize(){return t.LB},set fontSize(n){t.LB=n},get backgroundColor(){return t.MB},set backgroundColor(n){t.MB=n},get windowColor(){return t.FB},set windowColor(n){t.FB=n},get edgeStyle(){return t.UB},set edgeStyle(n){t.UB=n},get marginTop(){return t.VB},set marginTop(n){t.VB=n},get marginBottom(){return t.HB},set marginBottom(n){t.HB=n},get marginLeft(){return t.qB},set marginLeft(n){t.qB=n},get marginRight(){return t.zB},set marginRight(n){t.zB=n},addEventListener:function(t,i){var e=Pg(t,Ag);n.Fu(e,i)},removeEventListener:function(t,i){var e=Pg(t,Ag);n.qu(e,i)}};return n=new rf(i),t.Fu(["yl"],(function(t){return n.Lu(t.nl)})),i}Te(),Vt();var iR={xB:void 0,BB:void 0,LB:void 0,MB:void 0,FB:void 0,UB:void 0,WB:void 0,VB:void 0,HB:void 0,qB:void 0,zB:void 0},eR="THEOplayer.textTrackStyle.",rR=function(t){function n(){var i;return(i=t.call(this)||this).tl=void 0,i.jB=n.GB(),i}return Xe(n,t),n.prototype.Gc=function(t){this.jB=Us({},this.jB,t),n.YB(this.jB),this.Lu(new QI)},n.GB=function(){var t=Us({},iR);return t.xB=jI.co(eR+"fontFamily")||t.xB,t.BB=jI.co(eR+"fontColor")||t.BB,t.LB=jI.co(eR+"fontSize")||t.LB,t.MB=jI.co(eR+"backgroundColor")||t.MB,t.FB=jI.co(eR+"windowColor")||t.FB,t.UB=jI.co(eR+"edgeStyle")||t.UB,t},n.YB=function(t){jI.oa(eR+"fontFamily",t.xB||""),jI.oa(eR+"fontColor",t.BB||""),jI.oa(eR+"fontSize",t.LB||""),jI.oa(eR+"backgroundColor",t.MB||""),jI.oa(eR+"windowColor",t.FB||""),jI.oa(eR+"edgeStyle",t.UB||"")},Re(n,[{key:"XB",get:function(){return this.jB}},{key:"xB",get:function(){return this.jB.xB},set:function(t){this.Gc({xB:t})}},{key:"BB",get:function(){return this.jB.BB},set:function(t){this.Gc({BB:t})}},{key:"LB",get:function(){return this.jB.LB},set:function(t){this.Gc({LB:t})}},{key:"MB",get:function(){return this.jB.MB},set:function(t){this.Gc({MB:t})}},{key:"FB",get:function(){return this.jB.FB},set:function(t){this.Gc({FB:t})}},{key:"UB",get:function(){return this.jB.UB},set:function(t){this.Gc({UB:t})}},{key:"WB",get:function(){return this.jB.WB}},{key:"VB",get:function(){return this.jB.VB},set:function(t){this.Gc({VB:t})}},{key:"HB",get:function(){return this.jB.HB},set:function(t){this.Gc({HB:t})}},{key:"zB",get:function(){return this.jB.zB},set:function(t){this.Gc({zB:t})}},{key:"qB",get:function(){return this.jB.qB},set:function(t){this.Gc({qB:t})}},{key:"nl",get:function(){return this.tl||(this.tl=nR(this)),this.tl}}]),n}(ef);Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt();Ed.Aa,Ed.Oa,Cy.zw,Ed.Wa,Ed.Da,Ed.Ea,Ed.Ma,Ed.La,Ed.ma,Ed.Pa,Ed.ja,Ed.ga,Cy.ml,Ed.Ba,zg.ew,uf.Qu,uf.eo,Ed.da,Ed.va,Ed.Ga,Ed.ba,Ed.Ta;var uR,oR,sR,cR={$B:!1};Te(),Vt(),function(t){t.KB="JB"}(uR||(uR={})),function(t){t[t.ZB=0]="ZB",t[t.Ja=1]="Ja",t[t.QB=2]="QB"}(oR||(oR={})),Te(),Vt(),Te(),Vt(),function(t){t.xO="tL"}(sR||(sR={})),Te(),Vt();var fR=function(t){function n(n){var i;return(i=t.call(this,Ed.Da)||this).currentTime=n,i}return Xe(n,t),n}(of);Te(),Vt();var aR,hR,vR,dR,lR,wR,gR=function(t){function n(){return t.call(this,Ed.Ea)}return Xe(n,t),n}(of);Te(),Vt(),Te(),Vt(),function(t){t.nL="iL"}(aR||(aR={})),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t[t.eL=0]="eL",t[t.rL=1]="rL",t[t.uL=2]="uL"}(hR||(hR={})),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t[t.oL=3]="oL",t[t.sL=4]="sL",t[t.cL=5]="cL"}(vR||(vR={})),function(t){t[t.fL=64]="fL",t[t.aL=103]="aL",t[t.hL=107]="hL"}(dR||(dR={})),Te(),Vt(),Te(),Vt(),function(t){t[t.vL=0]="vL",t[t.dL=1]="dL",t[t.aL=2]="aL",t[t.lL=5]="lL",t[t.wL=34]="wL"}(lR||(lR={})),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t[t.gL=1]="gL",t[t.yL=2]="yL",t[t.mL=3]="mL",t[t._L=4]="_L",t[t.pL=5]="pL",t[t.bL=6]="bL",t[t.kL=7]="kL",t[t.TL=8]="TL",t[t.SL=9]="SL"}(wR||(wR={})),Te(),Vt();sr.oe;Te(),Vt(),Te(),Vt(),Te(),Vt();Te(),Vt();Ed.Aa,Ed.Oa,Ed.Ma,Ed.La,Ed.ba,Ed.Ta,Ed.ma,Ed.Pa,Cy.ml,zg.ew;Te(),Vt();var yR;sr.Qi||sr.te;!function(t){t.EL="closed",t.av="open",t.ma="ended"}(yR||(yR={})),Te(),Vt(),Te(),Vt();Ed.ja,Ed.Pa,Ed.Ma,Ed.ba,Ed.Aa,Ed.Oa;Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt();Cy.ml,Ed.Aa,Ed.Oa,Ed.Ma,Ed.La,Ed.ba,Ed.Ta,Ed.ma,zg.ew;function mR(t,n){return t.By<=n&&t.Ly>n}function _R(t,n){return function(t,n){return Cc(t.By,n.By,zm)}(t,n)||function(t,n){return Cc(t.Ly,n.Ly,zm)}(t,n)}function pR(t,n){var i=function(t,n,i,e,r,u,o){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,c=o-1;s<=c;){var f=s+(c-s>>1),a=e(i(t[f]),n);if(a<0)s=f+1;else if(a>0)c=f-1;else{if(!(r&&f>u&&0===e(i(t[f-1]),n)))return f;c=f-1}}return~s}(t,n,br,_R,!0);if(i<0)return i;for(;i<t.length&&_R(n,t[i])===kc.lu;i++)if(t[i].jy(n))return i;return-(i+1)}function bR(t){var n=t.ul;if(!n)return-1;if(t instanceof Wm)return n.IL(t);var i=n.dw;if(!i)return-1;var e=pR(i.Dl,t);return e>=0?e:-1}Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Ne();var kR=function(){function t(t){this.tl=void 0,this.RL=t}var n=t.prototype;return n.il=function(){return function(t){for(var n=[],i=0;i<t.Pl;i++)n[i]=t.co(i).nl;return n.item=function(n){var i=0|n,e=t.co(i);return e&&e.nl||void 0},v.defineProperty(n,"constructor",{value:Vm}),n}(this)},n.my=function(t){for(var n=this.RL,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.jy(e))return!0}return!1},n.co=function(t){return this.RL[t]},Re(t,[{key:"Dl",get:function(){return this.RL}},{key:"Pl",get:function(){return this.RL.length}},{key:"nl",get:function(){if(this.tl){var t=this.RL;this.tl.length=t.length;for(var n=0;n<t.length;n++)this.tl[n]=t[n].nl}else this.tl=this.il();return this.tl}}]),t}();Te(),Vt();var TR=function(t){function n(n,i){var e;return(e=t.call(this,dg.ml)||this).ul=n,e.hw=i,e}return Xe(n,t),n.prototype.il=function(){return new SR(this.ul.nl,this.hw)},n}(fg),SR=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return Xe(n,t),n}(ag);Te(),Vt();var ER=function(t){function n(n){var i;return(i=t.call(this,dg.pl)||this).ul=n,i}return Xe(n,t),n.prototype.il=function(){return new IR(this.ul.nl)},n}(fg),IR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return Xe(n,t),n}(ag);Te(),Vt();var RR=function(t){function n(n){var i;return(i=t.call(this,dg.ol)||this).xy=n,i}return Xe(n,t),n.prototype.il=function(){return new NR(this.xy.nl)},n}(fg),NR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return Xe(n,t),n}(ag);Te(),Vt();var CR=function(t){function n(n){var i;return(i=t.call(this,dg.cl)||this).xy=n,i}return Xe(n,t),n.prototype.il=function(){return new OR(this.xy.nl)},n}(fg),OR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return Xe(n,t),n}(ag),AR=function(t){function n(n,i,e,r,u,o,s,c,f){var a;return(a=t.call(this)||this).by=Im(),a.NL=!1,a.BC=qg.cw,a.CL=Pm.NONE,a.OL=void 0,a.RL=[],a.AL=[],a.DL=0,a.PL=0,a.Dc=i||"",a.xL=c||"",a.BL=n,a.ks=r||"",a.NL=Boolean(u),a.LL=Boolean(s),a.Se=o||cy.DEFAULT,a.ky=e||"",a.ML=f||[],a.FL=new kR(a.RL),a.UL=new kR(a.AL),a}Xe(n,t);var i=n.prototype;return i.VL=function(t){return Ac(this.FL.Dl,(function(n){return n.zl===t}))},i.il=function(){return Gg(this)},i.zC=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}(t);n!==this.uw&&(this.BC=n,n===qg.cw&&(this.AL.forEach((function(t){t.Gy=!1})),Mc(this.AL),this.PL=0),this.Lu(new yg(this)))},i.pS=function(t){if(t&&!t.ul){var n=pR(this.dw.Dl,t);if(!(n>=0)){t.ul=this;var i=-(n+1);this.RL.splice(i,0,t),this.HL(i),t.Vy=i,i<this.PL&&(this.PL=i),this.Lu(new RR(t))}}},i.uS=function(t){if(t&&t.ul===this){var n=this.IL(t);if(!(n<0)){t.Gy=!1;var i=this.AL,e=pR(i,t);e>=0&&xc(i,e),xc(this.RL,n),this.HL(n),t.Vy=-1,this.PL>n&&--this.PL,this.Lu(new CR(t))}}},i.qL=function(t,n){var i=this.AL,e=this.RL,r=this.PL,u=!1;n&&(r=0);for(var o=i.length-1;o>=0;o--){mR(i[o],t)||(u=!0,xc(i,o))}for(;r<e.length&&e[r].By<=t;){var s=e[r];if(0===t)break;mR(s,t)&&!Lc(i,s)&&(u=!0,i.push(s)),r++}u&&Ec(i,_R),this.PL=r},i.IL=function(t){return(-1===t.Vy||t.Vy>=this.DL)&&this.zL(),t.Vy},i.zL=function(){for(var t=this.RL,n=this.DL;n<t.length;n++)t[n].Vy=n;this.DL=t.length},i.HL=function(t){t<this.DL&&(this.DL=t)},i.fw=function(t){this.aw||(this.uw=t)},i.kn=function(){this.Hu();for(var t=this.RL.slice(),n=0;n<t.length;n++){t[n].kn()}Mc(this.RL),Mc(this.AL)},Re(n,[{key:"lw",get:function(){return this.UL}},{key:"dw",get:function(){return this.FL}},{key:"kS",get:function(){return this.NL},set:function(t){this.NL=t}},{key:"aw",get:function(){return this.LL}},{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}},{key:"zl",get:function(){return this.Dc}},{key:"Wl",get:function(){return this.by}},{key:"rw",get:function(){return this.xL},set:function(t){this.xL=t}},{key:"jl",get:function(){return this.BL}},{key:"Gl",get:function(){return this.ky},set:function(t){t!==this.ky&&(this.ky=t,this.Lu(new Tm(this)))}},{key:"Xl",get:function(){return this.ks}},{key:"Yl",get:function(){return this.ML}},{key:"uw",get:function(){return this.BC},set:function(t){this.zC(t)}},{key:"hw",get:function(){return this.CL},set:function(t){this.CL!==t&&(this.CL=t,this.Lu(new TR(this,this.CL)))}},{key:"ww",get:function(){return this.OL},set:function(t){this.OL=t}},{key:"eu",get:function(){return this.Se},set:function(t){this.Se!==t&&(this.Se=t,this.Lu(new ER(this)))}}]),n}(ef);Te(),Vt(),Te(),Vt(),Te(),Vt();var DR=function(t){function n(n,i){var e;return(e=t.call(this,Bm.Oy,n)||this).r_=i,e}return Xe(n,t),n.prototype.il=function(){return new PR(this.xy.nl)},n}(Mm),PR=function(t){function n(n){return t.call(this,"enter",n)}return Xe(n,t),n}(Fm);Te(),Vt();var xR=function(t){function n(n,i){var e;return(e=t.call(this,Bm.Dy,n)||this).r_=i,e}return Xe(n,t),n.prototype.il=function(){return new BR(this.xy.nl)},n}(Mm),BR=function(t){function n(n){return t.call(this,"exit",n)}return Xe(n,t),n}(Fm);Te(),Vt();var LR=function(t){function n(n){var i;return(i=t.call(this,dg.al)||this).xy=n,i}return Xe(n,t),n.prototype.il=function(){return new MR(this.xy.nl)},n}(fg),MR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return Xe(n,t),n}(ag);Te(),Vt();var FR=function(t){function n(n){var i;return(i=t.call(this,dg.vl)||this).xy=n,i}return Xe(n,t),n.prototype.il=function(){return new UR(this.xy.nl)},n}(fg),UR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return Xe(n,t),n}(ag);Te(),Vt();var VR,HR,qR=function(t){function n(n){var i;return(i=t.call(this,dg.ll)||this).ul=n,i}return Xe(n,t),n.prototype.il=function(){return new zR(this.ul.nl)},n}(fg),zR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return Xe(n,t),n}(ag);function WR(t,n,i){for(var e=t[n].By,r=n;r>=0&&t[r].By===e;r--)t[r].Ly=i}Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(VR||(VR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(HR||(HR={})),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt();function jR(t,n){return Nc(t.r_,n.r_)||function(t,n){return t.ul===n.ul?Rc(bR(t),bR(n)):Cp(t.ul,n.ul)}(t.xy,n.xy)||function(t,n){return t===n?kc.lu:t===Bm.Oy?kc.gu:kc.wu}(t.type,n.type)}var GR=function(){function t(t,n){var i=this;this.bg=[],this.WL=0,this.jL=0,this.GL=[],this.YL=[],this.XL=!1,this.$L=!1,this.KL=void 0,this.JL=function(){i.WL=0,i.ZL(),i.QL()},this.tM=function(){i.ZL(),i.QL()},this.nM=function(){i.$L=!0,i.KL=i.mN.Ww,i.iM()},this.eM=function(){i.ZL(),i.QL()},this.rM=function(){i.uM(),i.ZL(),i.QL()},this.oM=function(t){Lc(i.YL,t.xy)||i.YL.push(t.xy),i.sM()},this.cM=function(t){Pc(i.GL,t.xy),Pc(i.YL,t.xy),i.sM()},this.fM=n,this.mN=t,t.Fu(Ed.Wa,this.tM),t.Fu(Ed.Aa,this.tM),t.Fu(Cy.zw,this.tM),t.Fu(Ed.Oa,this.tM),t.Fu(Ed.Ma,this.nM),t.Fu(Ed.La,this.eM),this.sM()}var n=t.prototype;return n.uf=function(){Mc(this.GL);for(var t=0,n=this.bg.slice();t<n.length;t++){var i=n[t];this.Ol(i)}this.iM(),this.WL=0,this.jL=0,this.XL=!1,this.$L=!1,this.KL=void 0},n.Cl=function(t){if(!Lc(this.bg,t)){if(this.bg.push(t),t.Fu(dg.ol,this.oM),t.Fu(dg.cl,this.cM),t.Fu(dg.gl,this.rM),t.dw.Pl>0){for(var n=0,i=t.dw.Dl;n<i.length;n++){var e=i[n];this.YL.push(e)}this.sM()}this.uM()}},n.Ol=function(t){if(Pc(this.bg,t)){if(t.qu(dg.ol,this.oM),t.qu(dg.cl,this.cM),t.qu(dg.gl,this.rM),t.dw.Pl>0){for(var n=0,i=t.dw.Dl;n<i.length;n++){var e=i[n];Pc(this.GL,e),Pc(this.YL,e)}this.sM()}this.uM()}},n.uM=function(){this.XL=this.bg.some((function(t){return t.uw!==qg.cw}))},n.QL=function(){this.mN.Jw||this.mN.$w?this.iM():this.sM()},n.sM=function(){this.XL&&(this.WL||(this.WL=this.fM.V(this.JL)))},n.iM=function(){this.WL&&(this.fM.aM(this.WL),this.WL=0)},n.ZL=function(){if(this.XL&&!this.mN.Jw){var t,n=this.bg,i=this.jL,e=null!=(t=this.KL)?t:this.mN.Ww,r=e-i<-.1,u=this.$L||r;u&&e>i&&e-i<.1&&(u=!1),this.$L=!1,this.KL=void 0;for(var o,s=[],c=0;c<n.length;c++){var f=n[c];if(f.uw!==qg.cw){f.qL(e,u);for(var a=0,h=f.lw.Dl;a<h.length;a++){var v=h[a];s.push(v)}}}if(u)o=this.GL;else{o=[];for(var l=0;l<n.length;l++){var w=n[l];w.uw!==qg.cw&&Np(w,i-au,e,o)}}for(var g=o.length-1;g>=0;g--)Lc(s,o[g])&&xc(o,g);var y=[];if(!u)for(var m=o.length-1;m>=0;m--){var _=o[m];_.By>i&&_.Ly<=e&&(y.push(_),xc(o,m))}for(var p=0,b=this.YL;p<b.length;p++){Pc(y,b[p])}Mc(this.YL);for(var k=[],T=[],S=0;S<y.length;S++){var E=y[S];E.Gy||k.push(new DR(E,E.By)),k.push(new xR(E,d.max(E.By,E.Ly))),E.Gy=!1}for(var I=0;I<o.length;I++){var R=o[I];R.Gy&&(k.push(new xR(R,d.max(R.By,R.Ly))),R.Gy=!1)}for(var N=0;N<s.length;N++){var C=s[N];C.Gy||(k.push(new DR(C,C.By)),C.Gy=!0)}k.sort(jR);for(var O=0;O<k.length;O++){var A=k[O],D=A.xy;D.Lu(A);var P=D.ul;P&&(A.type===Bm.Oy?P.Lu(new LR(D)):P.Lu(new FR(D)),Lc(T,P)||T.push(P))}T.sort(Cp);for(var x=0;x<T.length;x++){var B=T[x];B.Lu(new qR(B))}this.jL=e,this.GL=s}},n.kn=function(){this.uf(),this.mN.qu(Ed.Wa,this.tM),this.mN.qu(Ed.Aa,this.tM),this.mN.qu(Cy.zw,this.tM),this.mN.qu(Ed.Oa,this.tM),this.mN.qu(Ed.Ma,this.nM),this.mN.qu(Ed.La,this.eM)},t}();Te(),Vt();var YR=function(){function t(){}var n=t.prototype;return n.V=function(t){return ZE(t)},n.aM=function(t){QE(t)},t}(),XR=new YR,$R=function(t){function n(n,i){return void 0===i&&(i=XR),t.call(this,n,i)}return Xe(n,t),n}(GR);Te(),Vt(),Te(),Vt(),Ne();var KR=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)}return Xe(n,t),n.prototype.jy=function(n){return this===n||Eg(this,n)&&t.prototype.jy.call(this,n)&&function(t,n){return t.My===n.My}(this,n)},Re(n,[{key:"nl",get:function(){return this.tl||(this.tl=function(t){return Um(t)}(this)),this.tl}}]),n}(Wm);Te(),Vt(),Te(),Vt();var JR=function(t){function n(n,i,e){return void 0===e&&(e=cy.DEFAULT),t.call(this,bp.Fp,"",i||"","",!1,e,!1,n)}return Xe(n,t),n}(AR),ZR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).eu=cy.ID3,e}Xe(n,t);var i=n.prototype;return i.pS=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].By<t.By)WR(n,i,t.By);else{var e=n[0];if(e.By>t.By)t.Ly=e.By;else{var r=pR(n,t);if(!(r>=0)){var u=-(r+1),o=u-1;if(o>=0&&n[o].By<t.By&&WR(n,o,t.By),u<n.length){var s=n[u];t.Ly=s.By}}}}}}(n,this.RL),t.prototype.pS.call(this,n)},i.il=function(){return Gg(this)},n}(JR);Te(),Vt();var QR=function(t){function n(n,i){var e;(e=t.call(this)||this).wS=n,e.hM=i,e.vM=new Ys;var r=Sc(e);return e.VI=Fs((function(t){var n;return Vs(this,(function(i){switch(i.label){case 0:return(n=t.ul).eu?[3,2]:[4,n.Gu(dg.pl)];case 1:i.sent(),i.label=2;case 2:if(n.eu!==cy.ID3)return[2];i.label=3;case 3:return 0!==n.dw.Pl?[3,5]:[4,n.Gu(dg.ol)];case 4:return i.sent(),[3,3];case 5:return r.dM(n),[2]}}))})),e.HI=function(t){var n=t.ul;if(n.eu===cy.ID3&&e.vM.has(n.Wl)){var i=e.vM.get(n.Wl);e.Ol(i),e.wS.bS(i),n.qu(dg.ol,e.lM)}},e.lM=function(t){tN(t.xy)&&e.wM(t.xy)},e.gM(),e}Xe(n,t);var i=n.prototype;return i.gM=function(){this.hM.Fu(ig.Kd,this.VI),this.hM.Fu(ig.Zd,this.HI)},i.yM=function(){this.hM.qu(ig.Kd,this.VI),this.hM.qu(ig.Zd,this.HI)},i.dM=function(t){var n=t.dw.Dl[0];if(tN(n)){var i=function(t){var n=t.match(nN);if(!n)return;return{ul:n[1],Xl:n[2]}}(n.My.description),e=i.ul,r=i.Xl;if(!this.mM(e,r)){var u=this.wS.mS(bp.Lp,t.zl,e,r,!1,cy.TTML);this.Cl(u),this.vM.set(t.Wl,u);for(var o=0,s=t.dw.Dl;o<s.length;o++){var c=s[o];tN(c)&&this.wM(c)}t.Fu(dg.ol,this.lM)}}},i.mM=function(t,n){return this.Db.Dl.some((function(i){return i.Gl===t&&i.Xl===n}))},i.wM=function(t){if(t.ul)for(var n=this.vM.get(t.ul.Wl),i=hp(t.My.text,0,{x_:0,B_:1/0,L_:t.By}),e=0;e<i.length;e++){var r=i[e];n.pS(r)}},i.uf=function(){var n=this;return Fs((function(){var i,e,r,u,o;return Vs(this,(function(s){switch(s.label){case 0:for(i=0,e=n.hM.Dl;i<e.length;i++)e[i].qu(dg.ol,n.lM);for(r=0,u=n.Db.Dl;r<u.length;r++)o=u[r],n.wS.bS(o);return n.vM.clear(),[4,t.prototype.uf.call(n)];case 1:return s.sent(),[2]}}))}))()},i.kn=function(){var n=this;return Fs((function(){return Vs(this,(function(i){switch(i.label){case 0:return n.yM(),[4,t.prototype.kn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(xp);function tN(t){return function(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(t)&&nN.test(t.description)}(t.My)}var nN=/^Track:(.+),Lang:(.+)$/;Te(),Vt(),Ne(),Te(),Vt(),Ne();var iN=function(t){function n(n){var i;return(i=t.call(this,Ed.va)||this).errorObject=n,i}return Xe(n,t),Re(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(of);Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt();var eN=function(t){function n(){return t.call(this,Ed.da)}return Xe(n,t),n}(of);Te(),Vt();var rN=function(t){function n(n){var i;return(i=t.call(this,"Ya")||this)._M=n,i}return Xe(n,t),n}(of),uN=new ad,oN=function(t){function n(n){var i;return(i=t.call(this,"qc")||this).session=n,i}return Xe(n,t),n}(of),sN=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).pM=n,r.bM=i,r.kM=e,r.TM=!1,r.SM=!1,r.Lf=new Hc,r.Fc=function(t){if(!r.Lf.Au.yu)switch(t.Ku){case"license-request":case"license-renewal":r.rE(t.$u,t.Ju).catch((function(t){return r.pf(t)}));break;default:r.pf(new ym(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Ku))}},r.EM=function(t){r.pM.Kc.fo((function(t,n){switch(t){case"usable":je.Tr((function(){r.SM=!0,r.Lu(new eN)}),100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":r.Lu(new rN(n))}}))},r.IM=function(t){r.pf(new ym(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.Fu("$u",r.Fc),n.Fu("Xu",r.EM),n.Fu("Zu",r.IM),n.Xc.then((function(){return r.RM()})),r}Xe(n,t);var i=n.prototype;return i.zc=function(){var t=this;return this.TM=!0,uN.Vf((function(n){return t.NM(n)}),this.Lf.Au)},i.NM=function(t){var n=this;return Fs((function(){var i,e,r,u;return Vs(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),Wc(t),[4,n.bM.JS(t)];case 1:return o.sent(),[4,n.bM.ZS(n.kM.uu,n.kM.uo,t)];case 2:return i=o.sent(),[4,n.pM.zc(n.kM.uu,n.kM.uo,i)];case 3:return o.sent(),[3,5];case 4:throw jc(e=o.sent()),r=e instanceof _a?e.Io:void 0,u=new ym(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",e,void 0,void 0,void 0,void 0,r),n.pf(u),u;case 5:return[2]}}))}))()},i.rE=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s,c;return Vs(this,(function(f){switch(f.label){case 0:return f.trys.push([0,5,,6]),function(t){return Ef(t,ga())}(t)?[4,i.bM.vE(new y(t),i.Lf.Au)]:[3,2];case 1:return e=f.sent(),[3,4];case 2:return[4,i.bM.dE(new y(t),n,i.Lf.Au)];case 3:e=f.sent(),f.label=4;case 4:return[3,6];case 5:if(zc(r=f.sent()))return[2];throw r;case 6:if(i.Lf.Au.yu)return[2];u=i.CM,o=new wa,i.CM=o,f.label=7;case 7:return f.trys.push([7,10,11,14]),[4,i.pM.Gc(e)];case 8:return f.sent(),[4,tf(100)];case 9:return f.sent(),[3,14];case 10:throw s=f.sent(),c=s instanceof _a?s.Io:void 0,new ym(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s,void 0,void 0,void 0,void 0,c);case 11:return void 0===u?[3,13]:[4,u.ko];case 12:f.sent(),f.label=13;case 13:return o.To(),i.CM===o&&(i.CM=void 0),[7];case 14:return[2]}}))}))()},i.pf=function(t){var n=t instanceof ym?t:new ym(Qv.CONTENT_PROTECTION_ERROR,t.message,t);this.Lu(new iN(n)),this.qc()},i.RM=function(){this.pM.qu("$u",this.Fc),this.pM.qu("Xu",this.EM),this.pM.qu("Zu",this.IM),this.SM=!1,this.Lf.Nu(),this.Lu(new oN(this))},i.qc=function(){var t=this;return Fs((function(){var n;return Vs(this,(function(i){switch(i.label){case 0:t.Hu(),i.label=1;case 1:return void 0===(n=t.CM)?[3,3]:[4,n.ko];case 2:i.sent(),i.label=3;case 3:if(t.CM!==n)return[3,1];i.label=4;case 4:return t.RM(),[4,t.pM.qc().catch(pr)];case 5:return i.sent(),[2]}}))}))()},n}(ef);Te(),Vt();var cN=[Ed.da,Ed.va,Ed.Ga],fN=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).OM=[],r.AM=void 0,r.DM=[],r.PM=function(t){t.session.qu(cN,r.Bu),t.session.qu("qc",r.PM),Pc(r.OM,t.session)},r.xc=n,r.Zc=i,r.xM=e,r}Xe(n,t);var i=n.prototype;return i.hE=function(){return this.xM.hE()},i.BM=function(t){return this.AM||(this.AM=this.LM(t)),this.AM},i.LM=function(t){var n=this;return Fs((function(){var i;return Vs(this,(function(e){switch(e.label){case 0:return Wc(t),[4,n.xM.vE(new y(ga()),t)];case 1:if(i=e.sent(),Wc(t),!n.Zc)throw new a("Invalid MediaKeys when setting ServerCertificate");return[4,n.Zc.if(i.buffer)];case 2:return e.sent(),[2]}}))}))()},i.MM=function(t){var n=this;return Fs((function(){var i,e;return Vs(this,(function(r){switch(r.label){case 0:if(!n.Zc)throw new a("Invalid MediaKeys when creating KeySession");r.label=1;case 1:return r.trys.push([1,,3,4]),n.DM.push(t),[4,n.Zc.nf("temporary")];case 2:return i=r.sent(),e=new sN(i,n.xM,t),n.OM.push(e),e.Fu(cN,n.Bu),e.Fu("qc",n.PM),[2,e];case 3:return Pc(n.DM,t),[7];case 4:return[2]}}))}))()},i.FM=function(t){if(t.UM)return!1;for(var n=0,i=this.OM;n<i.length;n++){if(aN(i[n].kM,t))return!0}for(var e=0,r=this.DM;e<r.length;e++){if(aN(r[e],t))return!0}return!1},i.kn=function(){var t=this;return Fs((function(){var n;return Vs(this,(function(i){switch(i.label){case 0:return t.Zc=void 0,t.Hu(),n=t.OM.slice(),Mc(t.OM),[4,G.all(n.map((function(t){return t.qc()})))];case 1:return i.sent(),t.xM.ku(),[2]}}))}))()},Re(n,[{key:"Qc",get:function(){return this.xc}}]),n}(ef);function aN(t,n){return!t.UM&&t.uu===n.uu&&Ef(t.uo,n.uo)}var hN=function(t){function n(n){var i;(i=t.call(this)||this).Lf=new Hc,i.VM=new ad,i.If=void 0,i.xM=void 0,i.$I=void 0,i.xc=void 0;var e=Sc(i);return i.HM=Fs((function(t){var n;return Vs(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.qM(t.uu,t.uo,e.Lf.Au)];case 1:return i.sent(),[3,3];case 2:return zc(n=i.sent())||e.pf(n),[3,3];case 3:return[2]}}))})),i.yR=n,i.yR.Fu(uf.Qu,i.HM),i}Xe(n,t);var i=n.prototype;return i.Wc=function(t,n){this.$I=t,this.zM(n)},i.zM=function(t){this.If=t,this.WM(this.Lf.Au).catch(Gc)},i.WM=function(t){var n=this;return Fs((function(){return Vs(this,(function(i){switch(i.label){case 0:return je.Ur.Ze?[4,n.jM(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.If&&n.If.GM?[4,n.YM(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.jM=function(t){var n=this;return Fs((function(){var i,e,r,u,o,s,c,f,a,h,v;return Vs(this,(function(d){switch(d.label){case 0:if(!(null==(i=n.If)?void 0:i.IR))return[2,!1];r=!1,o=0,s=null!=(u=null==(e=n.If)?void 0:e.IR)?u:[],d.label=1;case 1:if(!(o<s.length))return[3,9];c=s[o],a=0,h=null!=(f=c.LI)?f:[],d.label=2;case 2:if(!(a<h.length))return[3,7];v=h[a],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.qM(c.Qc.uu,v,t)];case 4:return d.sent(),r=!0,[3,6];case 5:return jc(d.sent()),[3,6];case 6:return a++,[3,2];case 7:if(r)return[2,!0];d.label=8;case 8:return o++,[3,1];case 9:return[2,!1]}}))}))()},i.qM=function(t,n,i){var e=this;return Fs((function(){var r,u,o,s,c,f,a,h,v,d;return Vs(this,(function(l){switch(l.label){case 0:if(Wc(i),!n.byteLength)return[2];if(!e.If||!e.If.IR.length)throw new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==$s&&t!==Js&&t!==Ks)return[2];r=Fb(t,n),u=e.If.IR,s=0,l.label=1;case 1:if(!(s<u.length))return[3,11];if(c=u[s],Wc(i),!(f=r[c.Qc.ou])||c.Qc.uu!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,e.XM(c,i)];case 3:return(a=l.sent()).hE()?[4,a.BM()]:[3,5];case 4:l.sent(),l.label=5;case 5:return h=e.yR.Jg,v={uu:c.Qc.uu,uo:f,UM:h},e.$M(a,v)?[4,a.MM(v)]:[3,8];case 6:return[4,l.sent().zc()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return jc(d=l.sent()),o=d,[3,10];case 10:return s++,[3,1];case 11:return[4,je.Rr()];case 12:throw l.sent()?new ym(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o):new ym(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o)}}))}))()},i.YM=function(t){var n=this;return Fs((function(){var i,e,r,u,o;return Vs(this,(function(s){switch(s.label){case 0:if(!(e=null==(i=n.If)?void 0:i.IR))return[2];r=0,s.label=1;case 1:if(!(r<e.length))return[3,8];u=e[r],Wc(t),s.label=2;case 2:return s.trys.push([2,6,,7]),[4,n.XM(u,t)];case 3:return(o=s.sent()).hE()?[4,o.BM()]:[3,5];case 4:s.sent(),s.label=5;case 5:return[2];case 6:return jc(s.sent()),[3,7];case 7:return r++,[3,1];case 8:return[2]}}))}))()},i.$M=function(t,n){return je.Ur.Je||this.yR.KM.$B||!t.FM(n)},i.XM=function(t,n){var i=this;return this.VM.Vf((function(n){return i.JM(t,n)}),n)},i.JM=function(t,n){var i=this;return Fs((function(){var e,r,u,o,s,c;return Vs(this,(function(f){switch(f.label){case 0:if(Wc(n),!i.If||!i.xM||!i.$I)throw new a("Not initialized");if(i.xc){if(i.xc.Qc!==t.Qc)throw new a("Internal key system error");return[2,i.xc]}return e=i.xM,u=Us({},t,{HR:t.HR.map((function(n){return Us({},n,{persistentState:null!=(r=n.persistentState)?r:e.BE(t.Qc),hf:n.hf||e.hf(t.Qc)})}))}),[4,i.$I.ZM(u.Qc,u.HR)];case 1:return o=f.sent(),s=e.BI(u),(c=new fN(u.Qc,o,s)).Fu([Ed.da,Ed.va,Ed.Ga],i.Bu),i.xc=c,[2,c]}}))}))()},i.pf=function(t){var n=t instanceof ym?t:new ym(Qv.CONTENT_PROTECTION_ERROR,t.message,t);this.Lu(new iN(n))},i.uf=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return t.$I=void 0,t.If=void 0,t.Lf.Nu(),t.Lf=new Hc,[4,t.QM()];case 1:return n.sent(),[2]}}))}))()},i.QM=function(){var t=this;return Fs((function(){var n;return Vs(this,(function(i){switch(i.label){case 0:return[4,t.VM.Nu()];case 1:return i.sent(),(n=t.xc)?(n.qu(Ed.Ga,t.Bu),t.xc=void 0,[4,n.kn()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.ku=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return t.Hu(),t.yR.qu(uf.Qu,t.HM),[4,t.uf()];case 1:return n.sent(),[4,t.VM.kn()];case 2:return n.sent(),[2]}}))}))()},Re(n,[{key:"tF",get:function(){var t;return null==(t=this.xc)?void 0:t.Qc}},{key:"kR",get:function(){return this.xM},set:function(t){this.xM=t}}]),n}(ef);Te(),Vt(),Te(),Vt(),Te(),Vt();sr.Qi||sr.te,sr.be,sr.oe,sr.oe&&sr.Ui;Te(),Vt(),Ne();var vN,dN;new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).tl=void 0,n}return Xe(n,t),Re(n,[{key:"nl",get:function(){return this.tl||(this.tl=nR(this)),this.tl}},{key:"xB",get:function(){}},{key:"BB",get:function(){}},{key:"LB",get:function(){}},{key:"MB",get:function(){}},{key:"FB",get:function(){}},{key:"UB",get:function(){}},{key:"WB",get:function(){}},{key:"VB",get:function(){}},{key:"HB",get:function(){}},{key:"qB",get:function(){}},{key:"zB",get:function(){}}]),n}(ef));Te(),Vt(),Te(),Vt(),Se(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.nF='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.iF='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.eF='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.rF='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(vN||(vN={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(dN||(dN={}));var lN,wN;(function(t){var n=zs();for(var i in t)cr.call(t,i)&&n.set(i,t[i])})({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif"}),dN.WHITE,dN.TRANSPARENT,dN.TRANSPARENT;Te(),Vt(),Te(),Vt(),Se(),function(t){t.uF="Data",t.oF="Tag",t.sF="StartTag",t.cF="StartTagClass",t.fF="StartTagAnnotation",t.aF="CharRefInAnnotation",t.hF="EndTag",t.vF="TimestampTag"}(lN||(lN={})),function(t){t.dF="string",t.lF="starttag",t.wF="endtag",t.gF="timestamp"}(wN||(wN={})),Te(),Vt(),Te(),Vt();var gN,yN;dN.WHITE,dN.TRANSPARENT;!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(gN||(gN={})),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(yN||(yN={}));var mN,_N;dN.WHITE,vN.eF,dN.BLACK,dN.WHITE,dN.WHITE,dN.GREEN,dN.GREEN,dN.BLUE,dN.BLUE,dN.CYAN,dN.CYAN,dN.RED,dN.RED,dN.YELLOW,dN.YELLOW,dN.MAGENTA,dN.MAGENTA,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE,dN.WHITE;Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.yF="HELLO",t.mF="HI_THERE",t._F="INITIALIZE",t.pF="APPEND_INIT",t.bF="APPEND_DATA",t.kF="ACK",t.TF="REMOVE",t.SF="DESTROY_SESSION"}(mN||(mN={})),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.jh="audio",t.Gh="video",t.Fp="metadata"}(_N||(_N={}));jy.jh,jy.Gh;function pN(t,n){if(n.qe){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();mr(e)&&Jc(e),t.pause()}}Te(),Vt(),Te(),Vt();var bN,kN=function(){function t(t){this.gS=t}var n=t.prototype;return n.Rh=function(t){return this.gS.Rh(t)},n.nv=function(t){this.gS.nv(t)},n.kn=function(){this.gS.kn()},t}(),TN=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).lC=i,e}return Xe(n,t),n.prototype.Rh=function(t){var n=this;return Fs((function(){var i,e,r,u,o;return Vs(this,(function(s){switch(s.label){case 0:return i=new el(t),(e=n.lC.AP.CI(i))?(e.DP(je.mr()/1e3),[4,n.gS.Rh(t)]):[2,n.gS.Rh(i)];case 1:return r=s.sent(),e.PP(je.mr()/1e3),u=r.sh().pipeThrough(new Mt(new SN(e))),o={Ah:u,Rh:r.Rh},[2,new il(o,r)]}}))}))()},n}(kN),SN=function(){function t(t){this.EF=t}var n=t.prototype;return n.start=function(t){this.AB=t},n.transform=function(t){this.EF.xP(je.mr()/1e3,t),this.AB.enqueue(t)},n.flush=function(){this.EF.BP(je.mr()/1e3)},t}(),EN=function(t){function n(n,i){var e;(e=t.call(this)||this).IF=!1,e.mg=!1,e.RF=!1,e.NF=function(t){if(!e.RF){e.RF=!0;var n=e.CF,i=pm(t);e.oB.Ul=new XT(e.Kg,i,t),Jc(n.kn())}},e.OF=function(t){e.Lu(t.nl)},e.AF=function(t){t.type!==Ed.Ca&&t.type!==Ed.Na&&e.Lu(t)};var r=Cg(i.uid);g(r)?e.by=Rm++:e.by=r,e.tf=i;var u=je.$d,o=new ZI;e.DF=new HE("6.0.0",u,o),e.lC=new OI;var s=new TN(u,e.lC);e.$d=new _I(s,i.allowMixedContent),e.pB=new pE(i.isEmbeddable,"6.0.0",lE()),e.PF=new JI(u,e.pB,e.DF,o,i,lE()),e.PF.TB().catch(e.NF),e.xF=new oI(n),e.xF.Fu("dD",e.OF),e.wC=new rR,e.Jx=new BI,e.iB=new FI;var c=new YT(n,i,e.$d,e.lC,e.xF,e.wC);e.lC.XP(c);var f=c;return f=new MI(f,e.BF),f=new UI(f,e.eB),e.CF=f,e.oB=new wm(e.CF),e.oB.Vu(e.AF),e.LF=new VI(Sc(e)),e.MF=new kI(e.oB,e.$d,e.lC),e.FF=new WE(Sc(e)),e.UF=new fI(e.oB,i.allowNativeFullscreen),e.VF=new vS(e.UF),e.xF.ef(),e.gC=new ge(e.xF,e.wC,1,[jy.Gh]),e.HF=new ye(e.gC),e.qF=new zI,e}Xe(n,t);var i=n.prototype;return i.Ix=function(t){this.oB.Xw=t,t||this.$w||this.En()},i.qx=function(t){this.oB.tg=t},i.zF=function(){tm(this,dS,this)},i.gn=function(){this.oB.gn()},i.yn=function(){this.oB.yn()},i.Ag=function(t,n){var i=this;return Fs((function(){var e;return Vs(this,(function(r){switch(r.label){case 0:return t?(i.PF.vA(t).catch(i.NF),e=function(t){t.sources;var n=t.sources.filter((function(t){return hr(t.integration)}));return t.sources=n,t}(t),[4,i.oB.Ag(e,n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.En=function(){if(!this.mg){this.oB.En(),this.HF.En();for(var t=this.Kg.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&pN(i,je.Ur)}this.mg=!0}},i.uC=function(){return this.VF.VC()===cS.FULLSCREEN},i.Mg=function(){this.oB.Mg()},i.Fg=function(){this.oB.Fg()},i.Ug=function(){return this.oB.Ug()},i.uf=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return[4,t.oB.Cg()];case 1:return n.sent(),[4,t.oB.uf()];case 2:return n.sent(),[2]}}))}))()},i.kn=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return t.Hu(),t.qF.kn(),t.$d.kn(),t.MF.kn(),t.UF.kn(),t.VF.kn(),t.xF.kn(),t.DF.kn(),t.HF.kn(),t.gC.kn(),[4,t.oB.kn()];case 1:return n.sent(),[2]}}))}))()},Re(n,[{key:"WF",get:function(){return this.lC}},{key:"Tg",get:function(){return this.IF},set:function(t){this.IF=t,this.oB.Tg=t}},{key:"jF",get:function(){return this.HF}},{key:"Eg",get:function(){return this.oB.Eg}},{key:"GF",get:function(){return this.qF}},{key:"YF",get:function(){return this.xF}},{key:"Ng",get:function(){return this.oB.Ng}},{key:"Zg",get:function(){return this.LF}},{key:"XF",get:function(){return this.MF}},{key:"Rg",get:function(){return this.oB.Rg}},{key:"KF",get:function(){return this.wC}},{key:"Ig",get:function(){return this.oB.Ig}},{key:"Xg",get:function(){return this.oB.Xg}},{key:"BF",get:function(){return this.Jx}},{key:"eB",get:function(){return this.iB}},{key:"Ww",get:function(){return this.oB.Ww},set:function(t){this.oB.Ww=t}},{key:"$g",get:function(){return this.oB.$g},set:function(t){this.oB.$g=t}},{key:"jg",get:function(){return this.oB.jg}},{key:"jw",get:function(){return this.oB.jw}},{key:"Kg",get:function(){return this.oB.Kg}},{key:"Gw",get:function(){return this.oB.Gw}},{key:"Zu",get:function(){return this.oB.Zu}},{key:"Yw",get:function(){return this.oB.Yw}},{key:"Xw",get:function(){return this.oB.Xw},set:function(t){var n=Boolean(t);this.Ix(n)}},{key:"$w",get:function(){return this.oB.$w}},{key:"Kw",get:function(){return this.oB.Kw},set:function(t){this.oB.Kw=t}},{key:"sy",get:function(){return this.oB.sy}},{key:"hy",get:function(){return this.oB.hy},set:function(t){this.oB.hy=MT(t)}},{key:"hw",get:function(){return this.oB.hw}},{key:"vy",get:function(){return this.oB.vy}},{key:"Jw",get:function(){return this.oB.Jw}},{key:"Wl",get:function(){return this.by}},{key:"Zw",get:function(){return this.oB.Zw}},{key:"Qw",get:function(){return this.oB.Qw}},{key:"tg",get:function(){return this.oB.tg},set:function(t){var n=uu(Number(t),0,1)||0;this.qx(n)}},{key:"ly",get:function(){return this.oB.ly}}]),n}(Jg);Te(),Vt(),function(t){t[t.JF=0]="JF",t[t.ZF=1]="ZF"}(bN||(bN={}));var IN={};function RN(t,n){var i=t;if(IN[n])for(var e=0,r=IN[n];e<r.length;e++){i=(0,r[e])(i)}return i}var NN=[];function CN(t){NN.push(t)}Te(),Vt();var ON=self.CustomEvent;var AN=function(){try{var t=new ON("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};Te(),Vt(),Te(),Vt(),Ne();var DN=function(){function t(t,n){var i=this;this.QF=!1,this.tU=function(t){i.nU.rD(t.error,i.Ww)},this.iU=function(){i.nU.nD(i.eU),i.mN.removeEventListener("playing",i.iU),i.QF=!1},this.rU=function(){i.QF||(i.mN.addEventListener("playing",i.iU),i.QF=!0)},this.nU=n,this.mN=t,this.mN.addEventListener("error",this.tU),this.mN.addEventListener("sourcechange",this.rU),this.rU()}return t.prototype.uf=function(){},Re(t,[{key:"Ww",get:function(){var t=this.mN.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"eU",get:function(){return this.mN.src||""}}]),t}();CN((function(t){new DN(t.nl,t.DF)})),Te(),Vt();var PN="theoplayer-stored-volume",xN="theoplayer-stored-mutedstate";!function(t,n){(IN[n]||(IN[n]=[])).push(t)}((function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=jI.mB(PN);(void 0===r||g(r))&&(r=1);var u=jI._B(xN)||!1;e.tg=r,e.Xw=u}return e}Xe(n,t);var i=n.prototype;return i.Ix=function(n){this.tf.persistVolume&&jI.oa(xN,""+Boolean(n)),t.prototype.Ix.call(this,n)},i.qx=function(n){this.tf.persistVolume&&jI.oa(PN,""+Number(n)),t.prototype.qx.call(this,n)},n}(t)}),bN.ZF),Te(),Vt(),Ne();var BN=new(function(){function t(){this.uU=[],this.tl=void 0}var n=t.prototype;return n.Nl=function(t){return this.uU[t]},n.oU=function(t){this.uU.push(t),this.nl.push(t.nl)},n.jc=function(t){var n=this.uU.indexOf(t);n<0||(xc(this.uU,n),this.tl&&xc(this.tl,n))},n.sU=function(t){for(var n=0,i=this.uU;n<i.length;n++){var e=i[n];if(e.Wl===t)return e}},Re(t,[{key:"Pl",get:function(){return this.uU.length}},{key:"nl",get:function(){return this.tl||(this.tl=function(t){for(var n=[],i=0;i<t.Pl;i++)n[i]=t.Nl(i).nl;return n.getPlayerByUID=function(n){var i=t.sU(n);return i&&i.nl},n}(this)),this.tl}}]),t}());Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt();var LN=function(t){function n(n){var i;return(i=t.call(this,Ed.za)||this).source=n,i}return Xe(n,t),n}(of);Te(),Vt(),Ne();var MN=function(t){function n(){var n;return(n=t.call(this)||this).cC=0,n.aC=!0,n.vC=!1,n.hC=1,n}Xe(n,t);var i=n.prototype;return i.gn=function(){this.aC&&(this.aC=!1,this.Lu(new Oy(this.Ww)),this.Lu(new Wp(this.Ww)))},i.yn=function(){this.aC||(this.aC=!0,this.Lu(new By(this.Ww,this.$g)),this.Lu(new Ny(this.Ww)))},i.uf=function(){this.cC=0,this.vC=!1,this.hC=1,this.yn()},i.kn=function(){this.Hu()},i.Fg=function(){},i.Mg=function(){},Re(n,[{key:"$g",get:function(){},set:function(t){}},{key:"Ww",get:function(){return this.cC},set:function(t){this.vC&&this.cC===t||(this.cC=t,this.vC=!0,this.Lu(new Fy(this.Ww)))}},{key:"$w",get:function(){return this.aC}},{key:"Kw",get:function(){return this.hC},set:function(t){this.hC!==t&&(this.hC=t,this.Lu(new xy(this.Ww,this.Kw)))}},{key:"hw",get:function(){return fy.Pw}},{key:"Jw",get:function(){return this.vC}}]),n}(Kg);Te(),Vt();var FN=function(t){function n(){return t.call(this,Ed.wa)}return Xe(n,t),n}(of);Te(),Vt(),Ne(),Se();var UN,VN={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},HN={visibility:"hidden"},qN={visibility:"visible"},zN=function(){function t(t){var n=this;this.cU=!1,this.fU=function(t){var i;n.cU=!1,n.aU=null==(i=t.source)?void 0:i.poster,n.Gc()},this.MS=function(){n.cU=!0,n.Fg()},this.mN=t,this._N(),this.aN=function(){var t=_e&&_e.document&&_e.document.createElement("div");return t.className="theoplayer-poster",ws(VN,t),t}(),t.Kg.appendChild(this.aN)}var n=t.prototype;return n.Gc=function(){var t=this.mN.$w,n=this.cU;this.Ch?this.aN.style.backgroundImage='url("'+function(t){return t.replace(/[\\"]/g,(function(t){return"\\"+t}))}(this.Ch)+'")':this.aN.style.backgroundImage="",t&&this.Ch&&!n?this.Mg():this.Fg()},n.Mg=function(){ws(HN,this.mN.Kg),ws(qN,this.aN)},n.Fg=function(){ws(HN,this.aN),ws(qN,this.mN.Kg)},n._N=function(){this.mN.Fu("sourcechange",this.fU),this.mN.Fu("play",this.MS)},n.kn=function(){this.mN.qu("sourcechange",this.fU),this.mN.qu("play",this.MS),ls(this.aN)},Re(t,[{key:"Ch",get:function(){return void 0!==this.aU?this.aU:void 0!==this.hU?this.hU:void 0}},{key:"vU",set:function(t){this.hU=t,this.Gc()}}]),t}();function WN(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).dU=!0,r.lU=fy.Pw,r.wU=!1,r.wN=void 0,r.KI=void 0,r.mC=void 0,r.gU=function(t){t.type!==Ed.Pa&&r.yU.push(t)},r.mU=function(t){var n=t;(n.type!==Ed.Aa||r.mN.$w)&&(n.type===Ed.Oa&&r.mN.$w||n.type===Ed.Ma&&r.mN.Jw&&r.mN.Ww===n.currentTime||n.type===Ed.Pa&&r.mN.Kw===n.playbackRate||r.Lu(n))},r.qg=function(t){var n=t;if(r.wU){if(n.type===Cy.qw)return;n.type!==Cy.Fw&&n.type!==Cy.zw||(r.wU=!1)}if(n.type===Ed.Aa){if(!r.dU)return;r.dU=!1}else if(n.type===Ed.Oa){if(r.dU)return;r.dU=!0}else if(n.type===Cy.ml){if(r.lU===n.readyState)return;r.lU=n.readyState}r.Lu(n)},r._U=new t(i,e),r.pU=new MN,r.mN=r._U,r.bU=new zN(Sc(r)),r.VM=new ad,r.yU=[],r.gN=!0,r._N(),r}Xe(i,n);var e=i.prototype;return e.Vf=function(t,n){var i=this;return Fs((function(){return Vs(this,(function(e){return[2,i.VM.Vf(t,n).catch(Gc)]}))}))()},e.kU=function(t,n){var i=this;return Fs((function(){return Vs(this,(function(e){switch(e.label){case 0:Wc(n),i._U.Vu(i.gU),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,i._U.Ag(t,n)];case 2:return e.sent(),[3,4];case 3:return i._U.ju(i.gU),[7];case 4:return[2]}}))}))()},e.TU=function(){var t=this;return Fs((function(){var n,i;return Vs(this,(function(e){switch(e.label){case 0:return(n=t.Og())&&!VS(n)&&t.Tg&&t.$w?(i=n.mutedAutoplay||t.tf.mutedAutoplay,[4,t.jF.Sn(t.Xw)]):[2];case 1:switch(e.sent()){case"all":t.SU();break;case"muted":(t.Xw||i===Gy.ALL)&&(t.Xw=!0,t.gn())}return[2]}}))}))()},e.Ag=function(t){VS(this.wN)||this.Lu(new Ry(0,fy.Pw)),this.uf(),this.wN=t;var n=this;Jc(this.Vf(Fs((function(i){var e;return Vs(this,(function(r){switch(r.label){case 0:Wc(i),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,n.kU(t,i)];case 2:return r.sent(),[3,5];case 3:return e=r.sent(),n.wN=void 0,n.nR(function(t,n){return t instanceof ed?t:t instanceof a?new ed(n,t.message,t):new ed(n,String(t))}(e,Qv.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.EU(n._U),[7];case 5:return n.Lu(new LN(n.Og())),[4,n.TU()];case 6:return r.sent(),[2]}}))}))))},e.yx=function(t){this.mN.Ww=t},e.kx=function(){var t;return null!=(t=this.mC)?t:this._U.Zu},e.Tx=function(){var t;return null!=(t=this.KI)?t:this._U.Yw},e.nR=function(t){void 0===this.Tx()&&(this.KI=t,this.mC=pm(t),this.Lu(new Wy(t)))},e.gn=function(){this.mN.gn()},e.SU=function(){this.Xw||this.En(),this.gn()},e.En=function(){this._U.En()},e.yn=function(){this.mN.yn()},e.Cg=function(){this.Ag(void 0)},e.Mg=function(){this.gN=!0,this.mN.Mg()},e.Fg=function(){this.gN=!1,this.mN.Fg()},e.zF=function(){this._U.zF()},e.qx=function(t){this._U.qx(t)},e.Ix=function(t){this._U.Ix(t)},e.IU=function(t){this.RU=t,t.oU(this)},e.uC=function(){return this._U.uC()},e.Og=function(){return this.wN},e.Ug=function(){return this._U.Ug()},e.gx=function(){return this._U.Ww},e.mx=function(){return this._U.jw},e.hx=function(){return this._U.Xg},e.Ax=function(){return this._U.sy},e.Bx=function(){return this._U.vy},e.uf=function(){this.wN=void 0,this.KI=void 0,this.mC=void 0,this.wU=!0,Mc(this.yU),this.pU.uf(),this.EU(this.pU),this.VM.Nu();var t=this;Jc(this.VM.Vf(Fs((function(n){return Vs(this,(function(i){switch(i.label){case 0:return Wc(n),[4,t._U.uf()];case 1:return i.sent(),[2]}}))}))))},e.kn=function(){this.Lu(new FN),this.bU.kn(),this.pN(),this.uf();var t=this;Jc(this.Vf(Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return[4,t._U.kn()];case 1:return n.sent(),t.RU&&(t.RU.jc(t),t.RU=void 0),t.VM.kn(),[2]}}))})))),this.Hu()},e.EU=function(t){if(this.mN!==t){var n=this.mN.$w,i=this.mN.Ww,e=this.mN.Kw,r=this.mN.hw,u=this.mN.Jw;this.dU=n,this.lU=r,this.pN(),t.Vu(this.mU),t===this._U?((u||t.Ww!==i)&&(t.Ww=i),t.Kw!==e&&(t.Kw=e),n?t.yn():t.gn()):this.tf.retainPlaybackRateOnSourceChange?t.Kw=e:1!==e&&this.Lu(new xy(this.gx(),1)),t.ju(this.mU),this.mN=t,this._N();for(var o=0,s=this.yU;o<s.length;o++){var c=s[o];this.Lu(c)}Mc(this.yU),this.gN?t.Mg():t.Fg()}},e._N=function(){this.mN.Vu(this.qg)},e.pN=function(){this.mN.ju(this.qg)},e.il=function(){return function(t){var n,i,e=function(n){i=n;var e=QS(n,t.tf);t.Ag(e)},r={get abr(){return t.WF.nl},get audioTracks(){return t.Eg.nl},get autoplay(){return t.Tg},set autoplay(n){t.Tg=Boolean(n)},get buffered(){return t.hx()},get canvas(){return t.FF.nl},get clip(){return t.BF.nl},get currentProgramDateTime(){var n;return null!=(n=t.$g)?n:null},set currentProgramDateTime(n){t.$g=null!=n?n:void 0},get currentTime(){return t.gx()},set currentTime(n){t.yx(Number(n))},get duration(){return t.mx()},get element(){return t.Kg},get ended(){return t.Gw},get error(){return t.kx()},get errorObject(){return t.Tx()},get loop(){return t.eB.eB},set loop(n){t.eB.eB=Boolean(n)},get metrics(){return t.Zg.nl},get muted(){return t.Xw},set muted(n){t.Ix(n)},get network(){return t.XF.nl},get paused(){return t.$w},get playbackRate(){return t.Kw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Kw=i},get played(){return t.Ax()},get poster(){return t.NU},set poster(n){t.NU=Ag(n)},get preload(){return t.hy},set preload(n){t.hy=n},get presentation(){return t.VF.nl},get readyState(){return t.hw},get seekable(){return t.Bx()},get seeking(){return t.Jw},get source(){return i},set source(t){e(t)},get src(){return HS(t.Og())},set src(t){e({sources:t})},get textTracks(){return t.Rg.nl},get textTrackStyle(){return t.KF.nl},get uid(){return t.Wl},get videoHeight(){return t.Zw},get videoTracks(){return t.Ig.nl},get videoWidth(){return t.Qw},get volume(){return t.tg},set volume(n){t.qx(Number(n))},get latency(){return t.ly.nl},destroy:function(){t.kn(),t=null,i=void 0},play:function(){t.SU()},pause:function(){t.yn()},stop:function(){i=void 0,t.Cg()},prepareWithUserAction:function(){t.En()},addEventListener:function(t,i){n.Fu(t,i)},removeEventListener:function(t,i){n.qu(t,i)},setSource:function(t){e(t)}};return(n=new aS(r,!0)).EC(t),n.Fu("destroy",(function(){n.kn()})),r}(this)},Re(i,[{key:"DF",get:function(){return this._U.DF}},{key:"FF",get:function(){return this._U.FF}},{key:"tf",get:function(){return this._U.tf}},{key:"CF",get:function(){return this._U.CF}},{key:"$d",get:function(){return this._U.$d}},{key:"LR",get:function(){return this._U.UF}},{key:"VF",get:function(){return this._U.VF}},{key:"xF",get:function(){return this._U.xF}},{key:"oB",get:function(){return this._U.oB}},{key:"WF",get:function(){return this._U.WF}},{key:"Tg",get:function(){return this._U.Tg},set:function(t){this._U.Tg=t,this.TU()}},{key:"jF",get:function(){return this._U.jF}},{key:"Eg",get:function(){return this._U.Eg}},{key:"GF",get:function(){return this._U.GF}},{key:"YF",get:function(){return this._U.xF}},{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}},{key:"Ng",get:function(){return this._U.Ng}},{key:"Zg",get:function(){return this._U.Zg}},{key:"XF",get:function(){return this._U.XF}},{key:"Rg",get:function(){return this._U.Rg}},{key:"KF",get:function(){return this._U.KF}},{key:"Ig",get:function(){return this._U.Ig}},{key:"BF",get:function(){return this._U.BF}},{key:"eB",get:function(){return this._U.eB}},{key:"$g",get:function(){return this.mN.$g},set:function(t){this.mN.$g=t}},{key:"jg",get:function(){return this._U.jg}},{key:"Kg",get:function(){return this._U.Kg}},{key:"Gw",get:function(){return this._U.Gw}},{key:"Xw",get:function(){return this._U.Xw},set:function(t){this._U.Xw=t}},{key:"$w",get:function(){return this.mN.$w}},{key:"NU",get:function(){return this.bU.Ch||""},set:function(t){this.bU.vU=t}},{key:"Kw",get:function(){return this._U.Kw},set:function(t){this.mN.Kw=t}},{key:"hy",get:function(){return this._U.hy},set:function(t){this._U.hy=MT(t)}},{key:"hw",get:function(){return this.mN.hw}},{key:"Jw",get:function(){return this.mN.Jw}},{key:"Wl",get:function(){return this._U.Wl}},{key:"Zw",get:function(){return this._U.Zw}},{key:"Qw",get:function(){return this._U.Qw}},{key:"tg",get:function(){return this._U.tg},set:function(t){this._U.tg=t}},{key:"ly",get:function(){return this._U.ly}}]),i}(Jg)}function jN(t,n){var i=Zy(n),e=new(UN||(UN=RN(UN=WN(EN),bN.JF),UN=RN(UN,bN.ZF)),UN)(t,i),r=e.nl;return e.zF(),e.IU(BN),v.defineProperty(r,"constructor",{value:jN}),r=function(t){return pg(t)}(r),function(t){for(var n=0;n<NN.length;n++)(0,NN[n])(t)}(e),r}Kc((function(){self.dispatchEvent&&self.dispatchEvent(AN("theoplayerready"))})),Te(),Vt();var GN={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return kf(t)},n.decode=function(t){return _f(t)},t}())};Te(),Vt();var YN=JSON.parse("[]"),XN="6.0.0",$N="2023.4.5",KN=BN.nl,JN=_b.CE.registerContentProtectionIntegration.bind(_b.CE);Te(),Vt(),Se(),Te(),Vt();var ZN=function(){};Te(),Vt();var QN=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}();Te(),Vt(),Te(),Vt();var tC=N(Ue());function nC(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function iC(t){return JSON.stringify(t,tC.getSerialize(nC))}Te(),Vt(),Te(),Vt(),Ne();var eC,rC=N(ze()),uC=function(){function t(){}return t.prototype.ud=function(t){var n=function(t){r[r.length-1].kd(t)},i=new rC.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),e=new vC,r=[e];return i.on("text",(function(t){r.length>1&&n(new aC(t))})),i.on("cdata",(function(t){n(new hC(t))})),i.on("opentag",(function(t){for(var i=t.local,e=t.uri,u=t.prefix,o=new cC({hd:i,dd:""===e?void 0:e,CU:""===u?void 0:u}),s=t.attributes,c=0,f=v.keys(s);c<f.length;c++){var a=s[f[c]],h=a.prefix,d=a.local,l=a.uri,w=a.value,g=new oC({hd:d,wd:w,dd:""===l?void 0:l,CU:""===h?void 0:h});o.OU(g)}n(o),r.push(o)})),i.on("closetag",(function(){r.pop()})),i.on("error",(function(t){throw new Ww(t)})),i.write(t).close(),e},t}(),oC=function(){function t(t){this.AU=t.hd,this.g=t.wd,this.DU=t.dd,this.PU=t.CU}var n=t.prototype;return n.sd=function(t){return this===t||!!lC(this,t)&&(this.AU===t.AU&&this.DU===t.DU&&this.PU===t.PU&&this.g===t.g)},n.fd=function(){return new t({hd:this.hd,wd:this.wd,dd:this.dd,CU:this.ld})},Re(t,[{key:"Qv",get:function(){return Hw.nd}},{key:"hd",get:function(){return this.AU}},{key:"vd",get:function(){return void 0===this.PU?this.AU:this.PU+":"+this.AU}},{key:"dd",get:function(){return this.DU}},{key:"ld",get:function(){return this.PU}},{key:"wd",get:function(){return this.g}}]),t}(),sC=function(){function t(){this.gd=[]}var n=t.prototype;return n.md=function(t){return this.gd.filter((function(n){return dC(n)&&n.pd===t}))},n.bd=function(t,n){return this.gd.filter((function(i){return dC(i)&&i.hd===n&&i.dd===t}))},n.kd=function(t){this.gd.push(t)},Re(t,[{key:"_d",get:function(){return this.gd}},{key:"Sd",get:function(){return this.gd.filter(dC)}}]),t}(),cC=function(t){function n(n){var i;return(i=t.call(this)||this).xU=[],i.AU=n.hd,i.DU=n.dd,i.PU=n.CU,i}Xe(n,t);var i=n.prototype;return i.BU=function(t){for(var n=0,i=this._d;n<i.length;n++){var e=i[n];dC(e)?e.BU(t):t.push(e.Ah)}},i.Id=function(t,n){for(var i=0,e=this.xU;i<e.length;i++){var r=e[i];if(r.hd===n&&r.dd===t)return r.wd}},i.Ed=function(t){for(var n=0,i=this.xU;n<i.length;n++){var e=i[n];if(e.vd===t)return e.wd}},i.OU=function(t){this.xU.push(t)},i.Rd=function(t){for(var n=0;n<this.xU.length;n++)if(this.xU[n].vd===t)return void this.xU.splice(n,1)},i.Nd=function(t,n){for(var i=0;i<this.xU.length;i++)if(this.xU[i].hd===n&&this.xU[i].dd===t)return void this.xU.splice(i,1)},i.Cd=function(t,n){this.Rd(t),this.OU(new oC({hd:t,wd:n}))},i.Od=function(t,n,i){this.Rd(n);var e=n.split(":");this.OU(new oC({hd:e[e.length-1],wd:i,dd:t,CU:e.length>1?e[0]:void 0}))},i.fd=function(t){var i=new n({hd:this.hd,dd:this.dd,CU:this.ld});return this.Ad.forEach((function(t){return i.OU(t.fd())})),t&&this._d.forEach((function(n){return i.kd(n.fd(t))})),i},i.sd=function(t){return this===t||!!lC(this,t)&&(this.AU===t.AU&&this.PU===t.PU&&this.DU===t.DU&&(wC(this.Ad,t.Ad)&&wC(this._d,t._d)))},Re(n,[{key:"Qv",get:function(){return Hw.td}},{key:"Ad",get:function(){return this.xU}},{key:"hd",get:function(){return this.AU}},{key:"dd",get:function(){return this.DU}},{key:"ld",get:function(){return this.PU}},{key:"pd",get:function(){return void 0===this.PU?this.AU:this.PU+":"+this.AU}},{key:"Dd",get:function(){var t=[];return this.BU(t),t.join("")}}]),n}(sC),fC=function(){function t(t){this.B=t}return Re(t,[{key:"Ah",get:function(){return this.B}}]),t}(),aC=function(t){function n(n){return t.call(this,n)}Xe(n,t);var i=n.prototype;return i.fd=function(){return new n(this.Ah)},i.sd=function(t){return this===t||!!lC(this,t)&&this.Ah===t.Ah},Re(n,[{key:"Qv",get:function(){return Hw.Za}}]),n}(fC),hC=function(t){function n(n){return t.call(this,n)}Xe(n,t);var i=n.prototype;return i.fd=function(){return new n(this.Ah)},i.sd=function(t){return this===t||!!lC(this,t)&&this.Ah===t.Ah},Re(n,[{key:"Qv",get:function(){return Hw.ed}}]),n}(fC),vC=function(t){function n(){return t.apply(this,arguments)}Xe(n,t);var i=n.prototype;return i.fd=function(t){var i=new n;return t&&this._d.forEach((function(n){return i.kd(n.fd(t))})),i},i.sd=function(t){return this===t||!!lC(this,t)&&wC(this._d,t._d)},Re(n,[{key:"Qv",get:function(){return Hw.rd}},{key:"Pd",get:function(){return this.Sd[0]}}]),n}(sC);function dC(t){return zw(t)}function lC(t,n){return t.Qv===n.Qv}function wC(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].sd(n[i]))return!1;return!0}function gC(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Us({},t,{adBreak:Us({},t.adBreak,{ads:t.adBreak.ads.map((function(t){t.adBreak;return db(t,["adBreak"])}))})})}function yC(t){return void 0===t.ads?t:Us({},t,{ads:t.ads.map((function(t){t.adBreak;return db(t,["adBreak"])}))})}function mC(t){return"string"==typeof t.date?new Date(t.date):t.date}function _C(t){var n;return t.cue.track?(n=bC(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=bC(t.cue,""),n}function pC(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&v.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=v.entries(i);return v.fromEntries(e.map((function(i){var e=Hs(i,2),r=e[0],u=e[1],o=t(u);return"object"==typeof u&&null!==u&&"[Circular ~]"!==o&&n.pop(u),[r,o]})))}return i}(t)}function bC(t,n){var i={};switch(i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function(t){return TC(t).innerHTML}(t.content);for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new uC).ud(e.firstChild.outerHTML).Pd.Ad.forEach((function(t){r[t.hd]=t.wd})),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if(EC(s)){var c=kC(s);u[o]={type:"daterange-ca-type_arraybuffer",value:c}}else IC(s)?u[o]={type:"daterange-ca-type_number",value:s}:u[o]={type:"daterange-ca-type_string",value:String(s)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=kC(t.scte35Cmd),i.scte35Out=kC(t.scte35Out),i.scte35In=kC(t.scte35In),i.customAttributes=u}return i}function kC(t){if(void 0!==t)return kf(t)}function TC(t){var n=t.children;if(0!==n.length)for(var i=0;i<n.length;i++){var e=n.item(i);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:TC(e)}}function SC(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(bC(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(bC(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function EC(t){return"object"==typeof t&&null!==t}function IC(t){return"number"==typeof t}!function(t){t.dF="daterange-ca-type_string",t.LU="daterange-ca-type_number",t.MU="daterange-ca-type_arraybuffer"}(eC||(eC={}));var RC={cue:function(t){var n={};switch(n.date=mC(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=_C(t)}return n},textTrack:function(t){var n={};switch(n.date=mC(t),n.type=t.type,t.type){case"addcue":var i=t.cue;AC().register(i);var e=OC()[DC()].eventListeners;t.cue.addEventListener("enter",(function(t){e.InternalCueHelperEvent(t)})),t.cue.addEventListener("exit",(function(t){e.InternalCueHelperEvent(t)})),t.cue.addEventListener("update",(function(t){e.InternalCueHelperEvent(t)}));case"removecue":case"entercue":case"exitcue":n.cue=_C(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var o=t.track.activeCues[u];r.push(bC(o,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:SC(t.track),date:mC(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=AC();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach((function(t){return r.remove(t.uid)}))}return i},default:function(t){var n={};switch(n.date=mC(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Ed.ja:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Us({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=SC(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=yC(t.ad);break;case"adloaded":case"adimpression":n.ad=gC(t.ad);break;case"adskip":n.ad=gC(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.FU&&(n.FU=t.FU),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=gC(t.ad)}return pC(n)},minimizeCueHelper:function(t){var n={};return n.date=mC(t),n.type=t.type,n.cue=_C(t),n.track={uid:t.cue.track.uid},n},adReplacer:gC,adBreakReplacer:yC,removeCircularReferences:pC},NC=function(){this.stringify=iC,this.minimize=RC};function CC(){return _e.self}function OC(){return CC().THEOplayerBridge}function AC(){return CC().THEOCueMirrorMap}function DC(){return CC().THEOplayerGlobalID}function PC(){var t=CC();if(t.THEOplayerBridge){var n=new ZN;t.THEOplayerBridge=kg(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new ZN;t.THEOplayerUtils||(t.THEOplayerUtils=new NC),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new QN)}PC(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Ne();var xC=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.ud=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Ww(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Ww;return new BC(n)},n}(jw),BC=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.fd=function(t){return new n(this.yd.cloneNode(t))},Re(n,[{key:"_d",get:function(){return void 0===this.gd&&(this.gd=FC(this.yd.childNodes)),this.gd}},{key:"Pd",get:function(){return new LC(this.yd.documentElement)}}]),n}(Zw),LC=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.fd=function(t){var i=new n(this.yd.cloneNode(t));return i.Ad.length<1&&this.Ad.length>0&&this.Ad.forEach((function(t){i.Cd(t.vd,t.wd)})),i},Re(n,[{key:"_d",get:function(){return void 0===this.gd&&(this.gd=FC(this.yd.childNodes)),this.gd}}]),n}(Xw);function MC(t){switch(t.nodeType){case Hw.td:return new LC(t)}return tg(t)}function FC(t){for(var n=[],i=0;i<t.length;i++){var e=MC(t.item(i));e&&n.push(e)}return n}$e(new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UU=new xC,n}return Xe(n,t),n.prototype.ud=function(t){return this.UU.ud(t)},n}(eg))),Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt();var UC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return Xe(n,t),n}(of),VC=function(t){function n(){return t.apply(this,arguments)}Xe(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Lu(new UC(t,n))},i.addEventListener=function(t,n){this.Fu(t,n)},i.removeEventListener=function(t,n){this.qu(t,n)},n}(Jg);Te(),Vt(),Ne();var HC=function(t){function n(n,i){var e;return(e=t.call(this)||this).VU=function(t){e.qU.HU("THEOplayerABRSetTargetBuffer",t.MP),e.Lu(t)},e.zU=function(t){e.qU.HU("THEOplayerABRSetStrategy",t.LP),e.Lu(t)},e.qU=n,e.WU=i,e.WU.Fu("VP",e.VU),e.WU.Fu("HP",e.zU),e}return Xe(n,t),n.prototype.KP=function(t){return this.WU.KP(t)},Re(n,[{key:"ZP",get:function(){switch(this.LP.type){case bI.PERFORMANCE:return 1;case bI.QUALITY:return 0;case bI.BANDWIDTH:var t;return(null==(t=this.LP.metadata)?void 0:t.bitrate)&&!g(this.LP.metadata.bitrate)?this.LP.metadata.bitrate:0;default:return 0}}},{key:"nl",get:function(){return this.WU.nl}},{key:"LP",get:function(){return this.WU.LP},set:function(t){this.WU.LP=t}},{key:"MP",get:function(){return this.WU.MP},set:function(t){this.WU.MP=t}},{key:"JP",get:function(){return this.WU.JP}},{key:"FP",get:function(){return this.WU.FP},set:function(t){this.WU.FP=t}},{key:"UP",get:function(){return this.WU.UP}},{key:"AP",get:function(){return this.WU.AP}}]),n}(ef);Te(),Vt(),Ne(),Te(),Vt(),Ne();var qC,zC=function(){function t(t,n,i){this.Zc=void 0,this.If=t,this.hu=i,this.zf=n}var n=t.prototype;return n.bS=function(t){throw new a("Not implemented yet.")},n.ZM=function(t,n){var i=this;return Fs((function(){var e;return Vs(this,(function(r){switch(r.label){case 0:return[4,i.hu.vu(t.ru,n)];case 1:return[4,r.sent().ff()];case 2:return e=r.sent(),[4,i.jU(e)];case 3:return r.sent(),[2,e]}}))}))()},n.GU=function(t){return!1},n.zM=function(t){return G.resolve(void 0)},n.ku=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return[4,t.jU(void 0)];case 1:return n.sent(),[2]}}))}))()},n.jU=function(t){var n=this;return Fs((function(){return Vs(this,(function(i){switch(i.label){case 0:return[4,n.YU(t)];case 1:return i.sent(),[2]}}))}))()},n.YU=function(t){var n=this;return Fs((function(){var i;return Vs(this,(function(e){switch(e.label){case 0:return(i=n.Zc)?[4,i.rf(n.zf)]:[3,2];case 1:e.sent(),n.Zc=void 0,e.label=2;case 2:return t?[4,t.ef(n.zf)]:[3,4];case 3:e.sent(),n.Zc=t,e.label=4;case 4:return[2]}}))}))()},n.mS=function(t,n,i){throw new a("Not implemented yet.")},Re(t,[{key:"tf",get:function(){return this.If}},{key:"hy",get:function(){throw new a("Not implemented yet.")},set:function(t){throw new a("Not implemented yet.")}},{key:"vy",get:function(){return new qT([0,1/0])}},{key:"Rg",get:function(){throw new a("Not implemented yet.")}},{key:"XU",get:function(){throw new a("Not implemented yet")}},{key:"Ig",get:function(){throw new a("Not implemented yet.")}},{key:"$U",get:function(){throw new a("Not implemented yet")}},{key:"KU",get:function(){throw new a("Not implemented yet")}}]),t}();Te(),Vt(),function(t){t.JU="webkitneedkey",t.ZU="webkitkeymessage",t.QU="webkitkeyerror",t.tV="webkitkeyflowdone"}(qC||(qC={}));var WC=function(t){function n(n,i){var e;return(e=t.call(this,"webkitneedkey")||this).initData=n,e.sessionId=i,e}return Xe(n,t),n}(of),jC=function(t){function n(n,i){var e;return(e=t.call(this,"webkitkeymessage")||this).message=n,e.destinationURL=i,e}return Xe(n,t),n}(of),GC=function(t){function n(){return t.call(this,"webkitkeyerror")}return Xe(n,t),n}(of),YC=function(t){function n(){return t.call(this,"webkitkeyflowdone")}return Xe(n,t),n}(of);Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt(),Ne(),Te(),Vt(),Ne();var XC=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this)||this).lf=n,o.xc=i,o.nV=e,o.Wf=r,o.Nf=u,o.mf=new wa,o.Cf=void 0,o.Tf=new lf,o.Af=new wa,o.iV=function(t){o.Cf?(o.Cf.So(void 0),o.Cf=void 0):o.kf("internal-error"),o.Lu(new hf)},o.eV=function(t){o.Lu(new af(Sc(o),"license-request",va(t.message).buffer,t.destinationURL||void 0))},o.rV=function(t){o.Cf&&(o.Cf.To(void 0),o.Cf=void 0)},o}Xe(n,t);var i=n.prototype;return i.zc=function(t,n,i){var e=this;return Fs((function(){var t;return Vs(this,(function(r){switch(r.label){case 0:if(!(t=i&&i.fairplay&&i.fairplay.Df))throw new h("Expected FairPlay contentId to be defined but was "+t+".");return[4,e.uV(aa(n),t)];case 1:return r.sent(),e.kf("usable"),e.Af.To(),e.Af=new wa,[2]}}))}))()},i.Wc=function(t){return Fs((function(){return Vs(this,(function(t){return[2,!0]}))}))()},i.Gc=function(t){var n=this;return Fs((function(){var i;return Vs(this,(function(e){if(0===(i=aa(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.Cf=new wa,n.nV.Gc(n.Wf,i),[2,n.Cf.ko]}))}))()},i.qc=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return[4,t.Af];case 1:return n.sent(),t.nV.qu(qC.ZU,t.eV),t.nV.qu(qC.QU,t.iV),t.nV.qu(qC.tV,t.rV),t.Af.Nu(),t.mf.To(void 0),[2,t.mf.ko]}}))}))()},i.jc=function(){return Fs((function(){return Vs(this,(function(t){return[2]}))}))()},i.uV=function(t,n){var i=this;return Fs((function(){var e;return Vs(this,(function(r){return e=id(t,n,i.Nf),i.nV.Fu(qC.ZU,i.eV),i.nV.Fu(qC.QU,i.iV),i.nV.Fu(qC.tV,i.rV),i.nV.MM(i.Wf,e),[2]}))}))()},i.kf=function(t){this.Tf.ho(),this.Tf.ao(df,t),this.Lu(new ff(this))},Re(n,[{key:"Jc",get:function(){return this.Wf}},{key:"$c",get:function(){return NaN}},{key:"Xc",get:function(){return this.mf.ko}},{key:"Kc",get:function(){return this.Tf}}]),n}(ef),$C=function(){function t(t,n,i){this.oV=void 0,this.Wf=void 0,this.Nf=void 0,this.nV=t,this.xc=n,this.If=i;var e=Hv(i)||"video/mp4";this.lf=Fv(e)}var n=t.prototype;return n.nf=function(t){var n=this;return Fs((function(){var t;return Vs(this,(function(i){if(!n.Nf)throw new ed(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return t=new XC(n.lf,n.xc,n.nV,n.Wf,n.Nf),n.oV=t,[2,t]}))}))()},n.if=function(t){return this.Nf=aa(t),G.resolve(!0)},n.ef=function(t){var n=this;return Fs((function(){return Vs(this,(function(i){return t.webkitSetMediaKeys(n),[2]}))}))()},n.rf=function(t){return Fs((function(){return Vs(this,(function(n){return t.webkitSetMediaKeys(null),[2]}))}))()},n.createSession=function(){throw new a("Whoops.")},Re(t,[{key:"Qc",get:function(){return this.xc}},{key:"tf",get:function(){return this.If}},{key:"sessionId",set:function(t){this.Wf=t}}]),t}(),KC=function(){function t(t,n,i){this.sV=t,this.xc=n,this.If=i}var n=t.prototype;return n.af=function(){return this.If},n.ff=function(){var t=this;return Fs((function(){return Vs(this,(function(n){return[2,new $C(t.sV,t.xc,t.If)]}))}))()},Re(t,[{key:"Qc",get:function(){return this.xc}}]),t}(),JC=function(){function t(t){this.sV=t}return t.prototype.vu=function(t,n){var i=this;return Fs((function(){var e,r,u;return Vs(this,(function(o){for(e=0;e<n.length;e++)if(r=n[e],u=Uv(ZC,cf,t,r))return[2,new KC(i.sV,t,u)];throw new h("Unsupported key system configuration for "+t)}))}))()},t}();function ZC(t,n){return t===sc}Te(),Vt();var QC=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.$M=function(t,n){return!0},n}(hN),tO=function(t){function n(n,i,e){var r;return void 0===e&&(e=new JC(i)),(r=t.call(this)||this).$I=void 0,r.cV=new ad,r.fV=!1,r.Rf=null,r.aV={Qg:0,ty:0,ny:0,iy:0,ey:0,uy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.hV=function(t){"boolean"==typeof t.detail.casting&&(r.fV=t.detail.casting,r.Lu(new Lm(r.fV)))},r.vV=function(t){r.Wf=t.sessionId,r.Rf&&(r.Rf.sessionId=r.Wf);var n=t.initData;if(n){var i=function(t){try{var n=sa(t),i=new la;return Qf(ta(Uf(n,i,zf(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.Lu(new vf(Js,i))}else r.Lu(new vf(Js,new ArrayBuffer(0)))},r.dV=n,r.sV=i,r.sV.Fu(qC.JU,r.vV),r.hu=e,r.lV=new QC(Sc(r)),r.wV(),r}Xe(n,t);var i=n.prototype;return i.gV=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.eu===qp.TS)return i}},i.ku=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return[4,t.uf()];case 1:return n.sent(),t.Hu(),t.yV(),t.sV.qu(qC.JU,t.vV),[4,t.lV.ku()];case 2:return n.sent(),[2]}}))}))()},i.Fg=function(){throw new a("Not implemented yet")},i.mS=function(t,n,i,e,r,u,o,s,c){throw new a("Not implemented yet")},i.AR=function(){return!1},i.PR=function(t,n,i,e,r){throw new a("Not implemented yet")},i.bS=function(t){throw new a("Not implemented yet")},i.MR=function(){throw new a("Not implemented yet")},i.Wc=function(t){var n=this;return Fs((function(){return Vs(this,(function(i){return[2,n.cV.Vf(Fs((function(i){var e;return Vs(this,(function(r){if(t.eu===qp.TS)return Wc(i),e=new zC(t,n,n.hu),n.$I=e,n.lV.Wc(e,t),[2,e];throw new a("Could not create non-static media source")}))})))]}))}))()},i.yn=function(){throw new a("Not implemented yet")},i.gn=function(){throw new a("Not implemented yet")},i.uf=function(){this.cV.Nu();var t=this;return this.cV.Vf(Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return void 0===t.$I?[3,2]:[4,t.$I.ku()];case 1:n.sent(),t.$I=void 0,n.label=2;case 2:return[4,t.lV.uf()];case 3:return n.sent(),[2]}}))})))},i.wo=function(t,n,i){throw new a("Not implemented yet")},i.WR=function(t){throw new a("Not implemented yet")},i.Mg=function(){throw new a("Not implemented yet")},i.jR=function(){return this.aV},i.wV=function(){this.dV.addEventListener("airPlayIsCasting",this.hV)},i.yV=function(){this.dV.removeEventListener("airPlayIsCasting",this.hV)},i.webkitSetMediaKeys=function(t){this.Rf=t||null,this.Rf&&(this.Rf.sessionId=this.Wf)},i.mV=function(){},i._V=function(){throw new a("Not implemented yet")},i.pV=function(){throw new a("Not implemented yet")},Re(n,[{key:"$g",get:function(){throw new a("Not implemented yet")}},{key:"Xg",get:function(){throw new a("Not implemented yet")}},{key:"Ww",get:function(){throw new a("Not implemented yet")}},{key:"YF",get:function(){throw new a("Not implemented yet")}},{key:"jw",get:function(){throw new a("Not implemented yet")}},{key:"Gw",get:function(){throw new a("Not implemented yet")}},{key:"Zu",get:function(){throw new a("Not implemented yet")}},{key:"Xb",get:function(){throw new a("Not implemented yet")}},{key:"Jg",get:function(){return this.fV}},{key:"Xw",get:function(){throw new a("Not implemented yet")}},{key:"$w",get:function(){throw new a("Not implemented yet")}},{key:"Kw",get:function(){throw new a("Not implemented yet")}},{key:"sy",get:function(){throw new a("Not implemented yet")}},{key:"hw",get:function(){throw new a("Not implemented yet")}},{key:"vy",get:function(){throw new a("Not implemented yet")}},{key:"Jw",get:function(){throw new a("Not implemented yet")}},{key:"bV",get:function(){throw new a("Not implemented yet")}},{key:"kV",get:function(){throw new a("Not implemented yet")}},{key:"tg",get:function(){throw new a("Not implemented yet")},set:function(t){throw new a("Not implemented yet")}},{key:"im",get:function(){throw new a("Not implemented yet")}},{key:"LR",get:function(){throw new a("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Rf}},{key:"KM",get:function(){return cR}},{key:"Rg",get:function(){throw new a("Not implemented yet")}},{key:"KF",get:function(){throw new a("Not implemented yet")}},{key:"GR",get:function(){throw new a("Not implemented yet")}},{key:"TV",get:function(){return!0}},{key:"kR",get:function(){return this.lV.kR},set:function(t){this.lV.kR=t}},{key:"SV",get:function(){},set:function(t){}},{key:"tF",get:function(){return this.lV.tF}}]),n}(Kg);Te(),Vt();var nO=function(t){function n(n){var i;return(i=t.call(this,Ed.Xa)||this).aV=n,i}return Xe(n,t),n}(of);Te(),Vt(),Te(),Vt(),Ne(),Te(),Vt();var iO=function(t){function n(n,i){var e,r=eO(i,n.jw,n.GR,n.EV);return(e=t.call(this,i,r,void 0,!1,n.zl)||this).IV=n.RV,e.NV=n.GR,e.CV=n.EV,e.bs=n.jw,e.OV=n.AV,e.DV=Boolean(n.PV),e.xV=n.BV||{},e.LV=n.MV,e.FV=n.UV,e.VV=n.HV,e.qV(),e.zV(),e}Xe(n,t);var i=n.prototype;return i.Gc=function(t){var n=!1;void 0===this.IV&&void 0!==t.RV&&(n=!0,this.IV=t.RV),void 0===this.CV&&void 0!==t.EV&&(n=!0,this.CV=t.EV),void 0===this.bs&&void 0!==t.jw&&(n=!0,this.bs=t.jw),void 0===this.OV&&void 0!==t.AV&&(n=!0,this.OV=t.AV),!this.DV&&t.PV&&(n=!0,this.DV=t.PV),n=this.updateCustomAttributes(t,n),void 0===this.LV&&void 0!==t.MV&&(n=!0,this.LV=t.MV),void 0===this.FV&&void 0!==t.UV&&(n=!0,this.FV=t.UV),void 0===this.VV&&void 0!==t.HV&&(n=!0,this.VV=t.HV),this.qV(),this.zV(),this.WV(),n&&this.Lu(new Hm(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.BV)for(var e=0,r=v.keys(t.BV);e<r.length;e++){var u=r[e];void 0===this.xV[u]&&(i=!0,this.xV[u]=t.BV[u])}return i},i.qV=function(){this.bs&&!this.CV&&(this.CV=new Date(this.NV.getTime()+function(t){return 1e3*t}(this.bs)))},i.zV=function(){this.CV&&!this.bs&&(this.bs=fu(this.CV.getTime()-this.NV.getTime()))},i.WV=function(){this.qy===1/0&&(this.CV||this.bs)&&(this.qy=eO(this.Hy,this.bs,this.NV,this.CV))},Re(n,[{key:"nl",get:function(){return this.tl||(this.tl=function(t){return kg(Um(t),{get content(){return t.My},get class(){return t.RV},get startDate(){return t.GR},get endDate(){return t.EV},get duration(){return t.jw},get plannedDuration(){return t.AV},get endOnNext(){return t.PV},get scte35Cmd(){return t.MV},get scte35Out(){return t.UV},get scte35In(){return t.HV},get customAttributes(){return t.BV}})}(this)),this.tl}},{key:"RV",get:function(){return this.IV}},{key:"GR",get:function(){return this.NV}},{key:"EV",get:function(){return this.CV}},{key:"jw",get:function(){return this.bs}},{key:"AV",get:function(){return this.OV}},{key:"PV",get:function(){return this.DV}},{key:"MV",get:function(){return this.LV}},{key:"UV",get:function(){return this.FV}},{key:"HV",get:function(){return this.VV}},{key:"BV",get:function(){return this.xV}}]),n}(Wm);function eO(t,n,i,e){return ar(n)?t+n:e?t+(fu(e.getTime())-fu(i.getTime())):1/0}var rO,uO=function(t){function n(){return t.call(this,void 0,void 0,cy.DATE_RANGE)}Xe(n,t);var i=n.prototype;return i.Gc=function(t,n){!function(t,n,i){for(var e=function(i){var e=r[i],u=Ac(n,(function(t){return t.zl===e.zl}));u?e.Gc(u):t.uS(e)},r=t.dw.Dl,u=r.length-1;u>=0;u--)e(u);for(var o=0;o<n.length;o++){var s=n[o],c=s.GR;if(void 0!==c&&!t.VL(s.zl)){var f=i(c);t.pS(new iO(s,f))}}}(this,function(t){for(var n=zs(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.zl)){var u=n.get(r.zl),o=Us({},u,Ig(r),{BV:Us({},u.BV,r.BV)});n.set(r.zl,o)}else n.set(r.zl,r),i.push(r.zl)}return i.map((function(t){return n.get(t)}))}(t),n)},i.pS=function(n){!function(t,n){var i=Dc(t,(function(t){return t.RV===n.RV}));i&&i.PV&&i.Gc({zl:i.zl,EV:n.GR})}(this.dw.Dl,n),t.prototype.pS.call(this,n)},n}(JR);function oO(t){switch(t.type){case"daterange-ca-type_string":return t.value;case"daterange-ca-type_number":return Cg(t.value);case"daterange-ca-type_arraybuffer":return _f(t.value);default:return}}function sO(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}Te(),Vt(),function(t){t.dF="daterange-ca-type_string",t.LU="daterange-ca-type_number",t.MU="daterange-ca-type_arraybuffer"}(rO||(rO={})),Te(),Vt(),Te(),Vt(),Ne();var cO=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this,r,i,e)||this).cI=n,o.jV=u,o}return Xe(n,t),Re(n,[{key:"name",get:function(){return this.cI}},{key:"timestamp",get:function(){return this.jV}}]),n}(ed);Te(),Vt();var fO=function(t){function n(n,i,e,r,u,o,s,c){var f;return(f=t.call(this,n,i,e,r,c)||this).url=u,f.status=o,f.errorComment=s,f}return Xe(n,t),n}(cO);Te(),Vt(),Ne();var aO=function(){function t(t,n){this.bg=new kp,this.GV=new GR(t,n)}var n=t.prototype;return n.mS=function(t,n,i,e,r,u,o,s){var c=new AR(t,n,i,e,r,u,o,void 0,s);return this.bg.Cl(c),this.GV.Cl(c),c},n.bS=function(t){this.bg.Ol(t),this.GV.Ol(t),t.kn()},n.uf=function(){for(var t=0,n=this.bg.Dl.slice();t<n.length;t++){n[t].kn()}this.bg.uf(),this.GV.uf()},n.kn=function(){this.uf(),this.bg.kn(),this.GV.kn()},Re(t,[{key:"Rg",get:function(){return this.bg}}]),t}(),hO=function(t){function n(n,i,e,r,u){var o;(o=t.call(this)||this).cC=0,o.YV=!1,o.KI=void 0,o.JI=void 0,o.aC=!0,o.hC=1,o.XV=qT.nC(),o.$V=qT.nC(),o.fC=!1,o.KV=qT.nC(),o.CL=fy.Pw,o.RS=fy.Pw,o.aV={Qg:0,ty:0,ny:0,iy:0,ey:0,uy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.$I=void 0,o.ZI=new pT,o.QI=new IT;var s=Sc(o);o.setCurrentTime=Fs((function(t){return Vs(this,(function(n){switch(n.label){case 0:return s.vy.length?[3,2]:(s.cC=t,[4,s.dV.Gu("seekablechange")]);case 1:n.sent(),n.label=2;case 2:return s.cC=s.updateCurrentTime(t),s.qU.HU("THEOplayerSetCurrentTime",s.cC),s.vC=!0,s.Lu(new Fy(s.cC)),[2]}}))})),o.JV=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}o.XV=new qT(i),o.Lu(new fR(o.Ww))}},o.ZV=function(t){o.CL=t.detail.readyState,o.Lu(new Hy(+t.detail.currentTime,o.hw)),o.QV()},o.tH=function(t){o.CL=t.detail.readyState,o.Lu(new qy(+t.detail.currentTime,o.hw)),o.QV()},o.nH=function(t){if(t.detail){var n=+t.detail.duration;o.bs=n,o.Lu(new Py(o.jw))}},o.iH=function(t){t.detail&&(o.YV=!0,o.Lu(new Ly(+t.detail.currentTime)))},o.tR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n=JSON.parse(t.detail.errorObject);!function(t){return sO(t)&&void 0!==t.url&&void 0!==t.status&&void 0!==t.errorComment}(n)?sO(n)&&(o.JI=new cO(n.name,n.message,void 0,n.code,n.timestamp),o.KI=pm(o.JI),o.Lu(new Wy(o.JI))):(o.JI=new fO(n.name,n.message,void 0,n.code,n.url,n.status,n.errorComment,n.timestamp),o.KI=pm(o.JI),o.Lu(new Wy(o.JI)))}},o.eH=function(t){o.Lu(new gR)},o.rH=function(t){o.CL=t.detail.readyState,o.Lu(new My(+t.detail.currentTime,o.hw)),o.QV()};var c=Sc(o);o.uH=Fs((function(t){return Vs(this,(function(n){switch(n.label){case 0:return c.vy.length?[3,2]:[4,c.dV.Gu("seekablechange")];case 1:n.sent(),n.label=2;case 2:return c.CL=t.detail.readyState,c.Lu(new Dy(+t.detail.currentTime,c.hw)),c.QV(),[2]}}))})),o.oH=function(t){t.detail&&o.aC&&(o.aC=!1,o.Lu(new Oy(+t.detail.currentTime)))},o.sH=function(t){t.detail&&(o.aC||(o.aC=!0,o.Lu(new Ny(+t.detail.currentTime))))},o.cH=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}o.KV=new qT(i)}},o.fH=function(t){t.detail&&o.Lu(new jp(+t.detail.currentTime))},o.aH=function(t){t.detail&&(o.hC=t.detail.playbackRate,o.Lu(new xy(+t.detail.currentTime,o.hC)))},o.hH=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}o.$V=new qT(i)}},o.vH=function(t){t.detail&&(o.cC=+t.detail.currentTime,o.vC=!1,o.Lu(new By(o.cC,o.dH)),o.Lu(new Uy(o.cC)))},o.lH=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.bs&&(o.YV=!1),o.vC=!0,o.Lu(new Fy(n))}},o.wH=function(t){t.detail&&(t.detail.currentDate&&(o.dH=new Date(1e3*t.detail.currentDate)),o.cC=+t.detail.currentTime,o.Lu(new By(o.cC,o.dH)))},o.gH=function(t){o.yH=t.detail.height,o.mH=t.detail.width},o._H=function(t){t.detail&&o.Lu(new Wp(+t.detail.currentTime))},o.pH=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.Eg.Cl(new Om(n))},o.bH=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<o._g.Pl;u++){var s=o.Eg.Nl(u);s.Xl==e&&s.Gl==r?i=o._g.Nl(u):1==s.ql&&(n=o._g.Nl(u))}i&&n&&(i.ql=!0,n.ql=!1)},o.kH=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.Ig.Cl(new Dm(n))},o.TH=function(t){var n,i=t.detail.kind,e=t.detail.type;i===bp.Fp&&e===cy.ID3?(n=new ZR("",t.detail.label)).uw=qg.sw:i===bp.Fp&&e===cy.DATE_RANGE?(n=new uO,o.SH=n):n=new AR(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),o.EH.Cl(n),o.GV.Cl(n)},o.IH=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u=void 0;if("PRIV"===r)u={id:r,ownerIdentifier:e.Id3_PRIV_ownerIdentifier,data:e.Id3_PRIV_data};else if("TXXX"===r||"TXX"===r){u={id:r,text:e.Id3FrameText,description:e.Id3FrameDescription}}else{u={id:r,text:e.Id3FrameText}}var s=new KR(Cg(e.startTime),u,e.uid),c=o.RH();c&&c.pS(s)}},o.NH=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new jm(Cg(r.startTime),Cg(r.endTime),r.content,!1),s=null!=(e=o.CH(bp.Lp))?e:o.CH(bp.nS);s&&(s.eu=cy.WEBVTT,s.pS(u))}},o.OH=function(t){t.type===Ed.va&&(o.KI=pm(t.errorObject)),o.Bu(t)},o.AH=function(t){t.detail&&(o.aV.ty=t.detail.corruptedVideoFrames,o.aV.Qg=t.detail.droppedVideoFrames,o.Lu(new nO(o.Zg)))},o.DH=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach((function(t){var n={zl:t.id};if(void 0!==t.startDate&&(n.GR=new Date(t.startDate)),void 0!==t.endDate&&(n.EV=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=oO(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.BV=e}void 0!==t.scte35Cmd&&(n.MV=_f(t.scte35Cmd)),void 0!==t.scte35In&&(n.HV=_f(t.scte35In)),void 0!==t.scte35Out&&(n.UV=_f(t.scte35Out)),void 0!==t.startTime&&(n.By=t.startTime),n.RV=t.class,n.jw=Cg(t.duration),n.AV=Cg(t.plannedDuration),i.push(n)})),i}(t);n.forEach((function(t){var i=null!=t.By?t.By:(new Date).getTime(),e=new iO(t,i);o.SH.pS(e),o.SH.Gc(n,i)}))};var f=r.uid;o.qU=o.getSdkBridge(f),o.dV=new VC,OC()[f].sdkEventBus=o.dV,o._g=new bm,o.pg=new bm;var a=o.PH(e);return o.wS=new aO(Sc(o),new YR),o.GV=new $R(Sc(o)),o.ER=new Lp(o.wS,a),o.EH=new kp,o.xH=new QR(o.wS,o.EH),o.bg=new TT([o.EH,o.ER.Db,o.xH.Db]),o.sV=o.getFairPlayControllerBridge(o.qU),o.yR=new tO(o.dV,o.sV),o.bR=new bT(a),o.yR.kR=o.bR,o.observeMediaElement(),o.SR(),o.lC=new HC(o.qU,u),o.lC.Fu("VP",(function(){o.qU.HU("THEOplayerSetPreferredForwardBufferDuration",o.lC.MP)})),o}Xe(n,t);var i=n.prototype;return i.Vg=function(){return jT},i.Mg=function(){this.qU.HU("THEOplayerShow",{})},i.Fg=function(){this.qU.HU("THEOplayerHide",{})},i.BH=function(){var t=this;this.qU.HU("THEOplayerSetInitialPreferredPeakBitRate",this.lC.ZP);var n=function(){t.qU.HU("THEOplayerSetInitialPreferredPeakBitRate",0),t.qu("playing",n)};this.Fu("playing",n)},i.Ag=function(t,n){var i=this;return Fs((function(){var e,r,u;return Vs(this,(function(o){switch(o.label){case 0:return i.LH=t,e=Us({},n,{sources:{src:t.src,type:uy.Iw,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),i.qU.HU("THEOplayerSourceChange",e),r={eu:qp.TS,ww:t.src,fh:t.type,IR:i.RR(t),NR:t.crossOrigin,CR:n.metadata&&n.metadata.title},i.bR.xI(t.contentProtection),[4,i.yR.Wc(r)];case 1:return i.$I=o.sent(),n.textTracks&&(u=n.textTracks.filter((function(t){return t.format!==cy.WEBVTT}))).length>0&&i.OR(u),Hp(i.Rg),i.BH(),[2]}}))}))()},i.RR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Qc:ac,HR:[{initDataTypes:[ac.uu],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.gn=function(){this.aC=!1,this.Lu(new Oy(this.Ww)),this.qU.HU("THEOplayerPlay",{})},i.yn=function(){this.aC=!0,this.Lu(new Ny(this.Ww)),this.qU.HU("THEOplayerPause",{})},i.Ug=function(){},i.uf=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return t.cC=0,t.YV=!1,t.KI=void 0,t.JI=void 0,t.aC=!0,t.hC=1,t.bs=void 0,t.$V=qT.nC(),t.XV=qT.nC(),t.yH=void 0,t.mH=void 0,t.CL=fy.Pw,t.RS=fy.Pw,t._g.uf(),t.pg.uf(),t.EH.uf(),t.bg.uf(),[4,t.xH.uf()];case 1:return n.sent(),[4,t.ER.uf()];case 2:return n.sent(),t.wS.uf(),t.GV.uf(),t.LH=void 0,[4,t.yR.uf()];case 3:return n.sent(),[2]}}))}))()},i.Pg=function(){this.qU.HU("THEOplayerShowAirPlayPicker",{})},i.xg=function(){this.qU.HU("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Zg.ty=t.ty,this.Zg.Qg=t.Qg},i.kn=function(){var t=this;return Fs((function(){return Vs(this,(function(n){switch(n.label){case 0:return[4,t.uf()];case 1:return n.sent(),t.Hu(),t.unobserveMediaElement(),t.UR(),t.yR.kR=void 0,[4,t.yR.ku()];case 2:return n.sent(),t._g.kn(),t.pg.kn(),t.EH.kn(),t.bg.kn(),[4,t.xH.kn()];case 3:return n.sent(),[4,t.ER.kn()];case 4:return n.sent(),t.wS.kn(),t.GV.kn(),[2]}}))}))()},i.OR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.ER.yS(i)}},i.QV=function(){var t=this.RS,n=this.CL;t!==n&&(this.RS=n,this.Lu(new zy(this.Ww,n)))},i.observeMediaElement=function(){this.yR.Fu(Ed.ca,this.Bu),this.yR.Fu([Ed.da,Ed.va],this.OH),this.dV.addEventListener("play",this.oH),this.dV.addEventListener("pause",this.sH),this.dV.addEventListener("seeking",this.lH),this.dV.addEventListener("seeked",this.vH),this.dV.addEventListener("ratechange",this.aH),this.dV.addEventListener("durationchange",this.nH),this.dV.addEventListener("timeupdate",this.wH),this.dV.addEventListener("waiting",this._H),this.dV.addEventListener("playing",this.fH),this.dV.addEventListener("ended",this.iH),this.dV.addEventListener("loadedmetadata",this.uH),this.dV.addEventListener("loadeddata",this.rH),this.dV.addEventListener("loadstart",this.eH),this.dV.addEventListener("canplay",this.ZV),this.dV.addEventListener("canplaythrough",this.tH),this.dV.addEventListener("error",this.tR),this.dV.addEventListener("seekablechange",this.hH),this.dV.addEventListener("videosizechange",this.gH),this.dV.addEventListener("bufferedchange",this.JV),this.dV.addEventListener("playedchange",this.cH),this.dV.addEventListener("metricschange",this.AH),this.dV.addEventListener("addDateRangeCues",this.DH)},i.unobserveMediaElement=function(){this.yR.qu(Ed.ca,this.Bu),this.yR.qu([Ed.da,Ed.va],this.OH),this.dV.removeEventListener("play",this.oH),this.dV.removeEventListener("pause",this.sH),this.dV.removeEventListener("seeking",this.lH),this.dV.removeEventListener("seeked",this.vH),this.dV.removeEventListener("ratechange",this.aH),this.dV.removeEventListener("durationchange",this.nH),this.dV.removeEventListener("timeupdate",this.wH),this.dV.removeEventListener("waiting",this._H),this.dV.removeEventListener("playing",this.fH),this.dV.removeEventListener("ended",this.iH),this.dV.removeEventListener("loadedmetadata",this.uH),this.dV.removeEventListener("loadeddata",this.rH),this.dV.removeEventListener("loadstart",this.eH),this.dV.removeEventListener("canplay",this.ZV),this.dV.removeEventListener("canplaythrough",this.tH),this.dV.removeEventListener("error",this.tR),this.dV.removeEventListener("seekablechange",this.hH),this.dV.removeEventListener("videosizechange",this.gH),this.dV.removeEventListener("bufferedchange",this.JV),this.dV.removeEventListener("playedchange",this.cH),this.dV.removeEventListener("metricschange",this.AH),this.dV.removeEventListener("addDateRangeCues",this.DH)},i.updateCurrentTime=function(t){var n=this.vy.start(0),i=this.vy.end(0);return d.min(d.max(t,n),i)},i.RH=function(){for(var t=0,n=this.bg.Dl;t<n.length;t++){var i=n[t];if(i.jl===bp.Fp&&i.eu===cy.ID3)return i}},i.CH=function(t){for(var n=0,i=this.bg.Dl;n<i.length;n++){var e=i[n],r=e.uw===qg.ow,u=e.jl===t;if(r&&u)return e}},i.SR=function(){this.dV.addEventListener("addaudiotrack",this.pH),this.dV.addEventListener("enableaudiotrack",this.bH),this.dV.addEventListener("addvideotrack",this.kH),this.dV.addEventListener("addtexttrack",this.TH),this.dV.addEventListener("addtexttrackid3cues",this.IH),this.dV.addEventListener("addtexttrackcues",this.NH)},i.UR=function(){this.dV.removeEventListener("addaudiotrack",this.pH),this.dV.removeEventListener("enableaudiotrack",this.bH),this.dV.removeEventListener("addvideotrack",this.kH),this.dV.removeEventListener("addtexttrack",this.TH),this.dV.removeEventListener("addtexttrackid3cues",this.IH),this.dV.removeEventListener("addtexttrackcues",this.NH)},i.Gg=function(){},i.Yg=function(){},Re(n,[{key:"Eg",get:function(){return this._g}},{key:"Xg",get:function(){return this.XV.zR()}},{key:"$g",get:function(){return this.dH?this.dH:null},set:function(t){this.qU.HU("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.dH=t}},{key:"Ww",get:function(){return this.cC},set:function(t){this.setCurrentTime(t)}},{key:"jw",get:function(){return this.bs}},{key:"Gw",get:function(){return this.YV}},{key:"Zu",get:function(){return this.KI}},{key:"Yw",get:function(){return this.JI}},{key:"Ng",get:function(){}},{key:"Jg",get:function(){return this.yR.Jg}},{key:"Zg",get:function(){return this.aV}},{key:"Xw",get:function(){return this.fC},set:function(t){this.fC!==t&&(this.qU.HU("THEOplayerSetMuted",t),this.fC=t,this.Lu(new Vy(this.Ww,t?0:1)))}},{key:"$w",get:function(){return this.aC}},{key:"Kw",get:function(){return this.hC},set:function(t){this.qU.HU("THEOplayerSetPlaybackRate",t),this.hC=t}},{key:"sy",get:function(){return this.KV.zR()}},{key:"hy",get:function(){return BT.hN},set:function(t){}},{key:"hw",get:function(){return this.CL}},{key:"vy",get:function(){return this.$V.zR()}},{key:"Jw",get:function(){return this.vC}},{key:"GR",get:function(){}},{key:"Rg",get:function(){return this.bg}},{key:"Zw",get:function(){return this.yH}},{key:"Qw",get:function(){return this.mH}},{key:"tg",get:function(){return 1},set:function(t){}},{key:"ly",get:function(){return this.QI}},{key:"Ig",get:function(){return this.pg}},{key:"YR",get:function(){return this.ZI}},{key:"wy",get:function(){return!1},set:function(t){}},{key:"oy",get:function(){return!0}}]),n}(Kg),vO=function(){function t(){this.XR=yT.II}var n=t.prototype;return n.$R=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&!i.vr.nativeVR&&(i.vr.panoramaMode===ES.PM360||i.vr.panoramaMode===ES.PM180))return!1;if(function(t){return!!t&&lc(t.toLowerCase(),uy.Ew)}(n.type))return!1;var e=n.contentProtection;if(e&&!Ib(e)){if(!Cb(e))return!1;if(!t.MH(e))return!1}return!0},n.KR=function(){return!1},t.MH=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}();Te(),Vt();var dO=function(){function t(t){this.playerID=t}return t.prototype.HU=function(t,n){if(self.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof self.THEOplayerBridge[this.playerID].postMessageToSwift){var i={body:n,name:t};self.THEOplayerBridge[this.playerID].postMessageToSwift(i)}},t}();Te(),Vt();var lO=function(t){function n(n){var i;return(i=t.call(this)||this).FH=function(t){var n=_f(t.detail.initData),e=t.detail.sessionId;i.Lu(new WC(n,e))},i.UH=function(t){var n=new y(Rf(t.detail.message)),e=t.detail.destinationURL;i.Lu(new jC(n,e))},i.VH=function(t){i.Lu(new GC)},i.forwardKeyFlowDone=function(t){i.Lu(new YC)},i.qU=n,i.dV=new VC,OC().fairplayController={sdkEventBus:i.dV},i.HH(),i}Xe(n,t);var i=n.prototype;return i.HH=function(){this.dV.addEventListener(qC.JU,this.FH),this.dV.addEventListener(qC.ZU,this.UH),this.dV.addEventListener(qC.QU,this.VH),this.dV.addEventListener(qC.tV,this.forwardKeyFlowDone)},i.MM=function(t,n){var i={playerId:DC(),data:Nf(n.buffer),sessionId:t};this.qU.HU("THEOplayerCreateKeySession",i)},i.Gc=function(t,n){var i={playerId:DC(),data:Nf(n.buffer),sessionId:t};this.qU.HU("THEOplayerUpdateKey",i)},n}(Kg);Te(),Vt();var wO,gO=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.Rh=function(n){if(fa(n.ah)){var i=aa(n.ah);n.ah=Zf(i)}return t.prototype.Rh.call(this,n)},n}(kN),yO=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)}Xe(n,t);var i=n.prototype;return i.Dg=function(){return!1},i.getSdkBridge=function(t){return new dO(t)},i.getFairPlayControllerBridge=function(t){return new lO(t)},i.PH=function(t){return new gO(t)},n}(hO);!function(t){xT.ke.iN(t)}(new(function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.kE=function(t,n,i,e,r,u){return new yO(t,n,i,e,r)},n}(vO))),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.Kd="addtrack",t.Zd="removetrack",t.gl="change",t.kl="update"}(wO||(wO={}));var mO=function(t,n,i){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i,this.type=wO.gl};Te(),Vt();var _O=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=wO.Kd};Te(),Vt();var pO=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=wO.Zd};Te(),Vt();var bO=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=wO.kl},kO=function(){function t(t,n,i){var e=this;this.qH=function(t){var n=new mO(e.type,t.track,e.mediaTracks);e.messageDispatcher.zH(n)},this.WH=function(t){var n=new _O(e.type,t.track);e.messageDispatcher.zH(n),t.track.addEventListener("update",e.jH)},this.GH=function(t){var n=new pO(e.type,t.track);e.messageDispatcher.zH(n)},this.jH=function(t){var n=new bO(e.type,t.track);e.messageDispatcher.zH(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.HH()}return t.prototype.HH=function(){this.mediaTracks.addEventListener("change",this.qH),this.mediaTracks.addEventListener("addtrack",this.WH),this.mediaTracks.addEventListener("removetrack",this.GH)},t}();Te(),Vt();var TO=function(){function t(t){this.YH=new dO(t)}return t.prototype.zH=function(t){this.YH.HU(t.type,iC(t))},t}();CN((function(t){if(t.nl.audioTracks){var n=new TO(t.Wl);new kO("audio",t.nl.audioTracks,n)}if(t.nl.videoTracks){var i=new TO(t.Wl);new kO("video",t.nl.videoTracks,i)}})),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt();var SO=function(){function t(){this.XH=i.webkit}return t.prototype.HU=function(t,n){this.XH.messageHandlers[t]&&this.XH.messageHandlers[t].postMessage(n)},t}();Te(),Vt(),Te(),Vt(),Te(),Vt();var EO,IO="nativePromiseCallback",RO=function(t){function n(n){var i;return(i=t.call(this,IO)||this).detail=n,i}return Xe(n,t),n}(of);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(EO||(EO={}));var NO=function(t){function n(){return t.apply(this,arguments)}Xe(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Lu(new RO(n))},i.addEventListener=function(t,n){this.Fu(t,n)},i.removeEventListener=function(t,n){this.qu(t,n)},n}(VC),CO=N(Ue()),OO=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new a("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case EO.RESOLVE:i.To(n.detail.data);break;case EO.REJECT:i.So(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new NO;OC().nativePromise={sdkEventBus:n},n.addEventListener(IO,this.handleNativePromiseEvent)}return t.prototype.$H=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Us({},n,{promiseId:e}),u=new wa;return this.promisesMap[e]=u,null==(i=this.YH)||i.HU(n.type,(0,CO.default)(r)),u.ko},t}();OO.messageIdTracker=-1;var AO=function(t){function n(){var n;return(n=t.call(this)||this).YH=new SO,n}return Xe(n,t),n}(OO);Te(),Vt();var DO,PO=function(t){function n(n){var i;return(i=t.call(this)||this).YH=new dO(n),i}return Xe(n,t),n}(OO);Te(),Vt(),Te(),Vt(),function(t){t.Kd="TextTrackListAddTrack",t.Zd="TextTrackListRemoveTrack",t.gl="TextTrackListChange"}(DO||(DO={}));var xO=function(t){this.textTrack=t,this.type=DO.Kd};Te(),Vt();var BO=function(t){this.textTrack=t,this.type=DO.Zd};Te(),Vt();var LO,MO=function(t){this.textTrack=t,this.type=DO.gl};Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.ol="TextTrackAddCue",t.cl="TextTrackRemoveCue",t.al="TextTrackEnterCue",t.vl="TextTrackExitCue",t.ll="TextTrackCueChange"}(LO||(LO={}));var FO=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=LO.ol};Te(),Vt();var UO=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=LO.cl};Te(),Vt();var VO=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=LO.al};Te(),Vt();var HO=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=LO.vl};Te(),Vt();var qO,zO=function(t){this.textTrackUid=t,this.type=LO.ll};Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.Oy="TextTrackCueEnter",t.Dy="TextTrackCueExit",t.kl="TextTrackCueUpdate"}(qO||(qO={}));var WO=function(t){this.textTrackCue=t,this.type=qO.Oy};Te(),Vt();var jO=function(t){this.textTrackCue=t,this.type=qO.Dy};Te(),Vt();var GO=function(t){this.textTrackCue=t,this.type=qO.kl},YO=function(){function t(t){var n=this;this.KH=function(t){var i=XO(t.cue),e=new WO(i);n.messageDispatcher.$H(e).then()},this.JH=function(t){var i=XO(t.cue),e=new jO(i);n.messageDispatcher.$H(e).then()},this.ZH=function(t){var i=XO(t.cue),e=new GO(i);n.messageDispatcher.$H(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.HH=function(t){t.addEventListener("enter",this.KH),t.addEventListener("exit",this.JH),t.addEventListener("update",this.ZH)},n.Wu=function(t){t.removeEventListener("enter",this.KH),t.removeEventListener("exit",this.JH),t.removeEventListener("update",this.ZH)},t}();function XO(t){var n=bC(t,t.track.type);return delete n.track,n}var $O=function(){function t(t,n){var i=this;this.QH=function(t){var n,e=XO(t.cue),r=new FO(e,t.cue.track.uid);i.messageDispatcher.$H(r).then(),null==(n=i.textTrackCueBridge)||n.HH(t.cue)},this.tq=function(t){var n,e=XO(t.cue),r=new UO(e,t.cue.track.uid);i.messageDispatcher.$H(r).then(),null==(n=i.textTrackCueBridge)||n.Wu(t.cue)},this.KH=function(t){var n=XO(t.cue),e=new VO(n,t.cue.track.uid);i.messageDispatcher.$H(e).then()},this.JH=function(t){var n=XO(t.cue),e=new HO(n,t.cue.track.uid);i.messageDispatcher.$H(e).then()},this.nq=function(t){var n=new zO(t.track.uid);i.messageDispatcher.$H(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new YO(e))}var n=t.prototype;return n.HH=function(t){t.addEventListener("addcue",this.QH),t.addEventListener("removecue",this.tq),t.addEventListener("entercue",this.KH),t.addEventListener("exitcue",this.JH),t.addEventListener("cuechange",this.nq)},n.Wu=function(t){t.removeEventListener("addcue",this.QH),t.removeEventListener("removecue",this.tq),t.removeEventListener("entercue",this.KH),t.removeEventListener("exitcue",this.JH),t.removeEventListener("cuechange",this.nq)},n.initMessageDispatcher=function(t){return sr.me?new AO:sr._e&&void 0!==t?new PO(t):void 0},t}(),KO=function(){function t(t,n,i){var e=this;this.WH=function(t){var n,i=new xO(t.track);e.messageDispatcher.$H(i).then(),null==(n=e.textTrackBridge)||n.HH(t.track)},this.GH=function(t){var n,i=new BO(t.track);e.messageDispatcher.$H(i).then(),null==(n=e.textTrackBridge)||n.Wu(t.track)},this.iq=function(t){var n=new MO(t.track);e.messageDispatcher.$H(n).then()},this.rq=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter((function(t){return t.uid===n}))[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.uq(i);r&&(this.textTrackBridge=new $O(r,i)),this.HH(),this.sdkEventBus=new VC,OC().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.rq)}var n=t.prototype;return n.HH=function(){this.textTracks.addEventListener("addtrack",this.WH),this.textTracks.addEventListener("removetrack",this.GH),this.textTracks.addEventListener("change",this.iq)},n.uq=function(t){return sr.me?new AO:sr._e&&void 0!==t?new PO(t):void 0},t}();CN((function(t){if(t.nl.textTracks){var n=new PO(t.Wl);new KO(t.nl.textTracks,n,t.Wl)}})),Te(),Vt(),Ne(),Te(),Vt(),Te(),Vt();var JO,ZO,QO=function(t){function n(){return t.apply(this,arguments)}return Xe(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case"registerContentProtectionIntegration":var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Lu(new tA(i));break;default:0}},n}(VC),tA=function(t){function n(n){var i;return(i=t.call(this,"registerContentProtectionIntegration")||this).detail=n,i}return Xe(n,t),n}(of);!function(t){t.oq="registerContentProtectionIntegration"}(JO||(JO={})),Te(),Vt(),Te(),Vt(),function(t){t.sq="certifiateRequest",t.cq="certifiateResponse",t.fq="licenseRequest",t.aq="licenseResponse",t.hq="extractFairplayContentId",t.vq="buildContentProtection",t.dq="registerContentProtectionCallback"}(ZO||(ZO={}));var nA,iA=function(t,n){this.value=t,this.integrationId=n,this.type=ZO.dq};Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),Te(),Vt(),function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(nA||(nA={})),Te(),Vt();var eA=function(t,n){this.value=t,this.integrationId=n,this.type=ZO.vq};Te(),Vt();var rA=function(t,n){this.value=t,this.integrationId=n,this.type=ZO.sq};Te(),Vt();var uA=function(t,n){this.value=t,this.integrationId=n,this.type=ZO.cq};Te(),Vt();var oA=function(t,n){this.value=t,this.integrationId=n,this.type=ZO.hq};Te(),Vt();var sA=function(t,n){this.value=t,this.integrationId=n,this.type=ZO.fq};Te(),Vt();var cA=function(t,n){this.value=t,this.integrationId=n,this.type=ZO.aq},fA=function(){function t(t,n){this.lq=t,this.TE=n}var n=t.prototype;return n.onCertificateRequest=function(t){var n=this;return Fs((function(){var i,e,r,u,o;return Vs(this,(function(s){switch(s.label){case 0:i=n.toCertificateRequestDTO(t),e=new rA(i,n.TE),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.lq.$H(e)];case 2:if(r=s.sent()){if(u=JSON.parse(r),n.wq(u))return[2,Us({},u)];if(n.gq(u))return[2,new y(u)]}throw new ym(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 3:throw o=s.sent(),new ym(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,o);case 4:return[2]}}))}))()},n.onCertificateResponse=function(t){var n=this;return Fs((function(){var i,e,r,u,o;return Vs(this,(function(s){switch(s.label){case 0:return i=n.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new uA(e,n.TE),[4,n.lq.$H(r)];case 1:if(u=s.sent())return o=JSON.parse(u),[2,new y(o)];throw new ym(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse")}}))}))()},n.onLicenseRequest=function(t){var n=this;return Fs((function(){var i,e,r,u,o,s;return Vs(this,(function(c){switch(c.label){case 0:i=n.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new sA(e,n.TE),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.lq.$H(r)];case 2:if(u=c.sent()){if(o=JSON.parse(u),n.wq(o))return[2,{url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl}];if(n.gq(o))return[2,new y(o)]}throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 3:throw s=c.sent(),new ym(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,s);case 4:return[2]}}))}))()},n.onLicenseResponse=function(t){var n=this;return Fs((function(){var i,e,r,u,o,s;return Vs(this,(function(c){switch(c.label){case 0:return i=n.toCertificateRequestDTO(t.request),e=Us({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new cA(r,n.TE),[4,n.lq.$H(u)];case 1:if(o=c.sent())return s=JSON.parse(o),[2,new y(s)];throw new ym(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse")}}))}))()},n.extractFairplayContentId=function(t){var n=this;return Fs((function(){var i,e;return Vs(this,(function(r){switch(r.label){case 0:return i=new oA(t,n.TE),[4,n.lq.$H(i)];case 1:return(e=r.sent())?[2,e]:[2,G.reject(new ym(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId"))]}}))}))()},n.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},n.wq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},n.gq=function(t){return!!new y(t)},t}(),aA=function(){function t(t){this.lq=t}return t.prototype.build=function(t){if(!t.integration)throw new a("integrationId is undefined");var n=new fA(this.lq,t.integration),i=new eA({drmConfiguration:t},t.integration);return this.lq.$H(i),n},t}(),hA=function(t){function n(n){var i;return(i=t.call(this)||this).lq=new PO(n),i}return Xe(n,t),Re(n,[{key:"messageDispatcher",get:function(){return this.lq}}]),n}((function(){var t=this;this.yq=function(n){var i=new aA(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,o={state:_b.CE.EE(r,u,i)};t.messageDispatcher.$H(new iA(o,r))},this.dV=new QO,OC().contentProtectionIntegration={sdkEventBus:this.dV},this.dV.addEventListener(JO.oq,this.yq)}));return CN((function(t){new hA(t.nl.uid)})),n.exports}));